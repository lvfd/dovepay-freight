/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js":
/*!*****************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\AgentPages.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Age_table": () => (/* binding */ Age_table),
/* harmony export */   "initAgent_consumerQueryBillDetails_new": () => (/* binding */ initAgent_consumerQueryBillDetails_new),
/* harmony export */   "initAgent_consumerQueryBill_new": () => (/* binding */ initAgent_consumerQueryBill_new),
/* harmony export */   "initAgent_getBindConsumer": () => (/* binding */ initAgent_getBindConsumer),
/* harmony export */   "initAgent_userName": () => (/* binding */ initAgent_userName)
/* harmony export */ });
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Message */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js");



function initAgent_consumerQueryBill_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_0__.initStation_stationQueryBill_new)();
}
function initAgent_consumerQueryBillDetails_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_0__.initStation_stationQueryBillDetails_new)();
}
function initAgent_userName() {
  var span = document.getElementById('agentNameInHeader');
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(document.querySelector('input[name=api_getAgentName]').value, '', setUserName, false);
  function setUserName(res) {
    span.innerHTML = '&nbsp;' + res.data.customerNameChn;
  }
}
function initAgent_getBindConsumer() {
  // var form = document.getElementById('form_consumer_getBindConsumer');
  var url = document.querySelector('input[name=api_getBindConsumer]').value;
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_getBindConsumer)(url);
}
function Age_table() {}
Age_table.prototype.getPage_binding = function (res) {
  var data = res.data,
    name = data.customerNameChn,
    // 商户名称
    status = data.status,
    // 绑定状态
    // statusDesc = data.statusDesc, 
    customerId = data.customerIdList,
    form = document.getElementById('form_consumer_getBindConsumer'),
    inp_cus = form.querySelector('input[name=customerId]'),
    inp_sta = form.querySelector('input[name=status]'),
    inp_nam = form.querySelector('input[name=customerNameChn]'),
    btn_bin = document.getElementById('setBindBtn');
  inp_cus.value = customerId;
  inp_sta.value = status;
  inp_nam.value = name;
  var oldmesNode, mes;
  if (status == 0) {
    // 未绑定
    btn_bin.innerText = '绑定账户';
    oldmesNode = document.querySelector('div.uk-alert');
    if (oldmesNode) (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_remMes)(oldmesNode);
    mes = (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_getMes)('您尚未绑定账户', {
      style: 'warning',
      close: true
    });
    $(mes).insertBefore(form);
    btn_bin.addEventListener('click', function (event) {
      event.preventDefault();
      var url = document.querySelector('input[name=api_bindConsumer]').value;
      var data = {
        customerIdList: customerId,
        status: '1'
      };
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_bindConsumer)(url, data);
    });
  }
  if (status == 1) {
    // 已绑定
    btn_bin.innerText = '解绑账户';
    oldmesNode = document.querySelector('div.uk-alert');
    if (oldmesNode) (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_remMes)(oldmesNode);
    mes = (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_getMes)('您已绑定账户', {
      style: 'primary',
      close: true
    });
    $(mes).insertBefore(form);
    btn_bin.addEventListener('click', function (event) {
      event.preventDefault();
      var url = document.querySelector('input[name=api_bindConsumer]').value;
      var data = {
        customerIdList: customerId,
        status: '0'
      };
      // var $this = $(this);
      UIkit.modal.confirm('解除绑定之后将不能继续接收账单, 确认继续?').then(function () {
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_bindConsumer)(url, data);
      }, function () {
        return;
      });
    });
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js":
/*!******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\AjaxManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkRes": () => (/* binding */ checkRes),
/* harmony export */   "fetchData": () => (/* binding */ fetchData),
/* harmony export */   "fetch_age_bindConsumer": () => (/* binding */ fetch_age_bindConsumer),
/* harmony export */   "fetch_age_getBindConsumer": () => (/* binding */ fetch_age_getBindConsumer),
/* harmony export */   "fetch_age_toPay": () => (/* binding */ fetch_age_toPay),
/* harmony export */   "fetch_exportExcel": () => (/* binding */ fetch_exportExcel),
/* harmony export */   "fetch_sta_addDiscountCustomer": () => (/* binding */ fetch_sta_addDiscountCustomer),
/* harmony export */   "fetch_sta_changeCustomerDiscountStatus": () => (/* binding */ fetch_sta_changeCustomerDiscountStatus),
/* harmony export */   "fetch_sta_changeDiscountStatus": () => (/* binding */ fetch_sta_changeDiscountStatus),
/* harmony export */   "fetch_sta_getAllDiscountPolicy": () => (/* binding */ fetch_sta_getAllDiscountPolicy),
/* harmony export */   "fetch_sta_getDiscountPolicy": () => (/* binding */ fetch_sta_getDiscountPolicy),
/* harmony export */   "fetch_sta_getStationAllConsumer": () => (/* binding */ fetch_sta_getStationAllConsumer),
/* harmony export */   "fetch_sta_queryCargo": () => (/* binding */ fetch_sta_queryCargo),
/* harmony export */   "fetch_sta_queryDiscountCustomer": () => (/* binding */ fetch_sta_queryDiscountCustomer),
/* harmony export */   "fetch_sta_queryDiscountPolicy": () => (/* binding */ fetch_sta_queryDiscountPolicy),
/* harmony export */   "fetch_sta_stationBillPush": () => (/* binding */ fetch_sta_stationBillPush),
/* harmony export */   "fetch_sta_submitDiscountPage": () => (/* binding */ fetch_sta_submitDiscountPage),
/* harmony export */   "fetch_sta_updateFee": () => (/* binding */ fetch_sta_updateFee),
/* harmony export */   "fetch_sys_getAllConsumer": () => (/* binding */ fetch_sys_getAllConsumer),
/* harmony export */   "fetch_sys_getAllDiscountPolicy": () => (/* binding */ fetch_sys_getAllDiscountPolicy),
/* harmony export */   "fetch_sys_queryDiscountCustomer": () => (/* binding */ fetch_sys_queryDiscountCustomer),
/* harmony export */   "fn_initExportBtn": () => (/* binding */ fn_initExportBtn),
/* harmony export */   "fn_initSubmitBtn": () => (/* binding */ fn_initSubmitBtn)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.url.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.js");
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.url-search-params.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.js");
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Message */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _SystemPages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./SystemPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js");
/* harmony import */ var _AgentPages__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./AgentPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
















// 检查response：
function checkRes(res, callback) {
  if (res.code != '200') {
    var errmsg = '返回数据结果错误! ' + res.code + ': ' + res.msg;
    _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(errmsg, callback);
    if (console) {
      console.error('response: ', res);
    }
    return false;
  }
}
// Init submit button:
function fn_initSubmitBtn(pageNumber, pageSize, fetchFn, callback, postDataHandler, config) {
  var submitBtn = document.getElementById('submitBtn');
  submitBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var $this = $(this);
    var url = document.querySelector('input[name=api_forTable]').value;
    var postData = $this.closest('form').serializeObject();
    if (typeof postDataHandler === 'function') postDataHandler.call(this, postData);
    postData.pageNumber = pageNumber;
    postData.indexPage = pageNumber;
    postData.pageSize = pageSize;
    postData.countPage = pageSize;
    _Global__WEBPACK_IMPORTED_MODULE_9__["default"].Table.hideTable();
    if (typeof callback === 'function') {
      fetchFn.call(this, url, postData, callback, config);
    } else {
      fetchFn.call(this, url, postData);
    }
  });
  submitBtn.click();
}
// Init export button:
function fn_initExportBtn(fetchFn) {
  var expoBtn = document.getElementById('exportBtn');
  if (!expoBtn) return;
  expoBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var $this = $(this);
    var url = document.querySelector('input[name=api_forExport]').value;
    if (!url) return;
    var postData = $this.closest('form').serializeObject();
    fetchFn.call(this, url, postData);
  });
}
// Export function:
function fetch_exportExcel(url, data) {
  var postData = JSON.stringify(data);
  var fileName = '导出数据.xls';
  // console.log(url, postData);
  $.ajax({
    dataType: '',
    xhrFields: {
      responseType: 'blob'
    },
    url: url,
    data: postData,
    success: function success(res, status, xhr) {
      // console.log(status, xhr);
      if (xhr.status != 200) {
        var errmsg = '导出错误! ' + xhr.status + ': ' + xhr.statusText;
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(errmsg);
        return;
      }
      if (window.navigator.msSaveOrOpenBlob) {
        window.navigator.msSaveBlob(res, fileName);
      } else {
        var downloadLink = window.document.createElement('a');
        downloadLink.href = window.URL.createObjectURL(res);
        downloadLink.download = fileName;
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      }
    }
  });
}
// 提交数据并处理返回基本功能函数:
function fetchData(url, data, callback, config) {
  var postData = '';
  if (data) {
    try {
      var rawData = _Global__WEBPACK_IMPORTED_MODULE_9__["default"].isJSON(data) ? JSON.parse(data) : data;
      if (!rawData || _typeof(rawData) !== 'object') throw new Error('传入的data参数不合法');
      postData = _Global__WEBPACK_IMPORTED_MODULE_9__["default"].isJSON(data) ? data : JSON.stringify(data);
    } catch (error) {
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(error);
      return;
    }
  }
  var checkResCallback;
  if (config && typeof config === 'function') {
    checkResCallback = config;
  }
  var ajaxConfig = {
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res, checkResCallback) === false) return;
      if (res.msg == 'success') {
        try {
          if (rawData && rawData.pageNumber) {
            callback.call(this, res, rawData.pageNumber, rawData.pageSize);
          } else {
            callback.call(this, res);
          }
        } catch (error) {
          _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(error);
          return;
        }
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
        return;
      }
    }
  };
  if (config && _typeof(config) === 'object') {
    for (var key in config) {
      ajaxConfig[key] = config[key];
    }
  } else if (config === false) {
    ajaxConfig.global = false;
  }
  $.ajax(ajaxConfig);
}

// sys:
function fetch_sys_getAllConsumer(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  // console.log(url, postData)
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_userInfo(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
function fetch_sys_queryDiscountCustomer(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_inModal(res);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
function fetch_sys_getAllDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_queryPolicies(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}

// agent:
// 提交支付：
function fetch_age_toPay(url, data) {
  // 去收银台
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      // console.log(res)
      // debugger
      if (checkRes(res) === false) return;
      var data = res.data,
        payUrl = data.payUrl,
        payData = data.payData;
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].submVirtForm(payUrl, payData);
    }
  });
}
// 获取账户绑定数据：
function fetch_age_getBindConsumer(url) {
  // 获取绑定信息
  $.ajax({
    url: url,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _AgentPages__WEBPACK_IMPORTED_MODULE_14__.Age_table();
      try {
        table.getPage_binding(res);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 提交绑定：
function fetch_age_bindConsumer(url, data) {
  // 绑定商户
  var postData = JSON.stringify(data);
  var status = data.status;
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (res.code == '200') {
        var oldMes;
        if (status == '0') {
          oldMes = document.querySelector('div.uk-alert');
          (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_remMes)(oldMes);
          UIkit.modal.alert('账户解绑成功').then(function () {
            location.reload();
          });
        }
        if (status == '1') {
          oldMes = document.querySelector('div.uk-alert');
          (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_remMes)(oldMes);
          UIkit.modal.alert('账户绑定成功').then(function () {
            location.reload();
          });
        }
      } else {
        var mes = (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_getMes)('绑定/解绑失败', {
          style: 'danger',
          close: true
        });
        $(mes).insertBefore(document.querySelector('form'));
      }
    }
  });
}

// Station:
// 调账：
function fetch_sta_updateFee(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      if (res.msg == 'success') {
        UIkit.modal.alert('修改成功').then(function () {
          document.getElementById('submitBtn').click();
        });
      }
    }
  });
}
// 用户信息管理：推送账单
function fetch_sta_stationBillPush(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      try {
        if (res.msg == 'success') {
          UIkit.modal.alert('推送成功').then(function () {
            document.getElementById('submitBtn').click();
          });
        }
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：获取用户信息:
function fetch_sta_getStationAllConsumer(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
      try {
        table.getTable_getStationAllConsumer(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 用户信息管理：设置优惠（获取）
function fetch_sta_queryDiscountPolicy(url, customerId) {
  $.ajax({
    url: url,
    data: '',
    success: function success(res) {
      if (checkRes(res) === false) return;
      var element = document.querySelector('#discountSetting');
      var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_11__.Listbox();
      try {
        listbox.getOptions_discountName(res, element, customerId);
        UIkit.modal(element).show();
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 用户信息管理：设置优惠（添加）
function fetch_sta_addDiscountCustomer(url, data) {
  if (data === null) {
    UIkit.modal.alert('请选择至少一项优惠政策');
    return;
  }
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(postData, url, res);
      try {
        if (res.msg == 'success') {
          UIkit.modal.alert('添加成功!');
        } else {
          UIkit.modal.alert(res.msg);
        }
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：查看优惠（获取）
function fetch_sta_queryDiscountCustomer(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      try {
        var element = document.querySelector('#discountShowing');
        var table = element.querySelector('table');
        var tab = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
        var tbody = tab.getTable_queryDiscountCustomer(res);
        var bodys = table.querySelectorAll('tbody');
        for (var i = 0; i < bodys.length; i++) {
          table.removeChild(bodys[i]);
        }
        table.appendChild(tbody);
        UIkit.modal(element).show();
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：查看优惠（更改）
function fetch_sta_changeCustomerDiscountStatus(url, data) {
  var postData = JSON.stringify(data);
  // console.log(postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (res.msg == 'success') {
        UIkit.modal.alert('更改成功!');
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
      }
    }
  });
}
// 优惠政策管理：查看所有优惠政策
function fetch_sta_getAllDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var tab = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
      tab.getTable_getAllDiscountPolicy(res, pageNumber, pageSize);
    }
  });
}
// 优惠政策管理： 启动、停止优惠
function fetch_sta_changeDiscountStatus(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res)
      if (res.msg == 'success') {
        UIkit.modal.alert('操作成功').then(function () {
          location.reload();
        });
      }
    }
  });
}
// 优惠政策管理：优惠政策详情
function fetch_sta_getDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var data = res.data;
      if (data.length < 1) {
        UIkit.modal.alert('无数据');
      }
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].initDiscountDetails(data);
      var btn = document.getElementById('btnAction');
      var status_changeToThis = null;
      if (data.status == '1') {
        btn.innerText = '作废';
        status_changeToThis = 2;
      } else {
        btn.innerText = '启用';
        status_changeToThis = 1;
      }
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_changeDiscountStatus]').value;
        var postData = {
          discountPolicyId: data.discountPolicyId,
          status: status_changeToThis
        };
        fetch_sta_changeDiscountStatus(url, postData);
      });
    }
  });
}
// 新增优惠：获取品名
function fetch_sta_queryCargo(url, data, resultContainer) {
  var postData = JSON.stringify({
    cargoNm: data
  });
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_11__.Listbox();
      try {
        listbox.getOptions_cargoName(res, resultContainer);
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 新增优惠：提交优惠
function fetch_sta_submitDiscountPage(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      if (res.msg == 'success') {
        UIkit.modal.alert('创建成功').then(function () {
          window.location.href = 'discountPoliciesManagement';
        });
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
      }
    }
  });
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\DiscountPages.js":
/*!********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\DiscountPages.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "initStation_discountPoliciesManagementDetails": () => (/* binding */ initStation_discountPoliciesManagementDetails),
/* harmony export */   "initStation_initTabs": () => (/* binding */ initStation_initTabs)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");









function initStation_discountPoliciesManagementDetails() {
  var discountPolicyId = document.querySelector('input[name=discountPolicyId]').value;
  var url = document.querySelector('input[name=api_getDiscountPolicy]').value;
  var data = {
    discountPolicyId: discountPolicyId
  };
  //输出详情数据, 绑定启用/作废button
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_getDiscountPolicy)(url, data);
  // 绑定返回button
  document.getElementById('btnBack').addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=url_discountPoliciesManagement]').value;
    window.location.href = url;
  });
}
function initStation_initTabs() {
  var queryType = document.querySelector('input[name=dict_api_queryType]').value;
  if (!queryType) return;
  var callback = function callback(res) {
    if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.checkRes)(res) === false) return;
    var texts = res.data,
      content = document.querySelector('#discountType');
    for (var i = 0; i < texts.length; i++) {
      createNodes(content, texts[i], i);
    }
    switchPage(0);
  };
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])(queryType, callback);
  function createNodes(content, data, num) {
    var li = document.createElement('li'),
      a = document.createElement('a');
    a.setAttribute('href', '#');
    a.innerText = data.value;
    a.setAttribute('data-type', data.type);
    a.setAttribute('data-key', data.key);
    a.addEventListener('click', function (event) {
      event.preventDefault();
      switchPage(num);
    });
    li.appendChild(a);
    content.appendChild(li);
  }
  function switchPage(num) {
    var container = document.querySelector('section#form-container');
    var initPage = function initPage(res) {
      $(container).html(res);
      initPage_1();
    };
    $.ajax({
      url: 'discountPolicies/' + (Number(num) + 1),
      headers: '',
      type: 'GET',
      dataType: 'html',
      success: initPage
    });
  }
  function initPage_1() {
    // init Wdate:
    _Global__WEBPACK_IMPORTED_MODULE_5__["default"].WdateInit('startTime', 'endTime');

    // 普通优惠，查询字典接口加载select的option:
    if (document.getElementById('normal_discount_type_select')) {
      (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])('DISCOUNT_SUPPORT', function (res) {
        if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.checkRes)(res) === false) return;
        if (res.data.length < 1) {
          UIkit.alert('字典接口无数据').then(function () {
            console.error(res);
            return;
          });
        }
        var sel = document.getElementById('normal_discount_type_select');
        var data = res.data;
        for (var i = 0; i < data.length; i++) {
          var op = document.createElement('option');
          for (var key in data[i]) {
            if (key == 'value') {
              op.innerText = data[i][key];
            } else {
              op.setAttribute('data-' + key, data[i][key]);
            }
          }
          sel.appendChild(op);
        }

        // 绑定select关联listbox：
        var listbox = document.getElementById('specialCargoNameListbox');
        selToListbox();
        sel.addEventListener('change', function (event) {
          event.preventDefault();
          selToListbox('onchange');
        });
        function selToListbox(type) {
          if (sel.options[sel.selectedIndex].getAttribute('data-key') == 'N_GA_D_E') {
            listbox.style.display = '';
            if (type) {
              document.getElementById('fn_queryCargoNmBtn').click();
            }
          } else {
            listbox.style.display = 'none';
            document.getElementById('destSelect').innerHTML = '';
          }
        }
      });
    }

    // 航点优惠，初始化航点信息：
    if (document.getElementById('departureInfo')) {
      var departureInfo = new DepartureInfo();
      departureInfo.add('init');
    }

    // 优惠政策设置页面，初始化增加航班号组件
    if (document.querySelector('#inputAssets')) {
      var airlineNum = new AirlineNum();
      airlineNum.add('airlineNum', 'init');
    }

    // 加载品名listbox：
    if (document.querySelector('#cargoNameListbox') || document.getElementById('specialCargoNameListbox')) {
      (0,_Listbox__WEBPACK_IMPORTED_MODULE_7__.initListBox)();
    }

    // 品名查询：
    if (document.querySelector('#fn_queryCargoNmBtn')) {
      var btn = document.querySelector('#fn_queryCargoNmBtn');
      var url = document.querySelector('input[name=api_queryCargo]').value;
      var resultContainer = document.querySelector('select#sourceSelect');
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        var postData = document.querySelector('input[name=cargoNm]').value;
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_queryCargo)(url, postData, resultContainer);
      });
      // 默认执行一次查询：
      btn.click();
    }

    // 初始化费用表单
    if (document.querySelector('#wrap_feeDiscount_assets')) {
      var feeDiscountItem = new FeeDiscountItem();
      feeDiscountItem.add('init');
    }

    // 绑定submit：
    if (document.querySelector('#fn_submitDiscountPage_1')) {
      submitDiscountPage('1');
    }
    if (document.querySelector('#fn_submitDiscountPage_2')) {
      submitDiscountPage('2');
    }
    if (document.querySelector('#fn_submitDiscountPage_3')) {
      submitDiscountPage('3');
    }
    function submitDiscountPage(pageNum) {
      var submitBtn = document.querySelector('.fn_submit-discountPage');
      submitBtn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_createDiscountPolicy]').value;
        var submit = new DiscountPagesSubmit();
        var postData = {};
        if (pageNum == '1') postData = submit.getP1PostData();
        if (pageNum == '2') postData = submit.getP2PostData();
        if (pageNum == '3') postData = submit.getP3PostData();
        // console.log(url, postData);
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_submitDiscountPage)(url, postData);
      });
    }
  }
}
function AirlineNum() {}
AirlineNum.prototype.add = function (inputName, type) {
  var parentNode = document.querySelector('#inputAssets');
  var asset = AirlineNum.getInputAsset(inputName, type);
  if (!parentNode) {
    throw new Error('without #inputAssets');
  }
  parentNode.appendChild(asset);
};
AirlineNum.getInputAsset = function (inputName, type) {
  // 初始化wrap：
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-width-1-4');

  // 初始化label:
  var aLabel = document.createElement('label');
  aLabel.setAttribute('class', 'uk-form-label');
  aLabel.setAttribute('for', inputName);
  aLabel.innerText = '航班号';
  wrapDiv.appendChild(aLabel);

  // 初始化控件组：
  var formControlDiv = document.createElement('div');
  formControlDiv.setAttribute('class', 'uk-form-controls uk-flex uk-flex-bottom');
  wrapDiv.appendChild(formControlDiv);

  // 初始化input:
  var aInput = document.createElement('input');
  aInput.setAttribute('class', 'uk-input');
  aInput.setAttribute('type', 'text');
  aInput.setAttribute('name', inputName);
  formControlDiv.appendChild(aInput);

  // 初始化add图标 - button：
  createAddBtn(formControlDiv);
  function createAddBtn(parentNode, type) {
    var plusBtn_content = document.createElement('i');
    plusBtn_content.setAttribute('class', 'fa fa-plus');
    plusBtn_content.setAttribute('aria-hidden', 'true');
    var plusBtn = document.createElement('button');
    plusBtn.setAttribute('class', 'button button-primary button-square');
    plusBtn.setAttribute('id', 'addAsset');
    plusBtn.appendChild(plusBtn_content);
    if (!type) {
      parentNode.appendChild(plusBtn);
    } else {
      var child = parentNode.querySelector('button');
      if (child) {
        parentNode.insertBefore(plusBtn, child);
      } else {
        parentNode.appendChild(plusBtn);
      }
    }
    plusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var airlineNum = new AirlineNum();
      airlineNum.add('airlineNum');
    });
  }

  // 初始化minus图标 - button：
  if (!type) {
    var minusBtn_content = document.createElement('i');
    minusBtn_content.setAttribute('class', 'fa fa-minus');
    minusBtn_content.setAttribute('aria-hidden', 'true');
    var minusBtn = document.createElement('button');
    minusBtn.setAttribute('class', 'button button-highlight button-square');
    minusBtn.appendChild(minusBtn_content);
    formControlDiv.appendChild(minusBtn);
    minusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      var preFormControlDiv = preWrapDiv.querySelector('.uk-form-controls');
      if (!!preFormControlDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preFormControlDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }
  return wrapDiv;
};
function DepartureInfo() {}
DepartureInfo.prototype.add = function (type) {
  var parentNode = document.getElementById('departureInfo');
  var asset = DepartureInfo.getAsset(type);
  if (!parentNode) {
    throw new Error('without #departureInfo');
  }
  parentNode.appendChild(asset);
};
DepartureInfo.getAsset = function (type) {
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-flex uk-flex-bottom fn_departureInfo_wrap uk-width-1-2');
  var flexDiv1 = document.createElement('div');
  flexDiv1.setAttribute('class', 'fn_departureInfo_1');
  wrapDiv.appendChild(flexDiv1);
  var label_1 = document.createElement('label');
  label_1.setAttribute('class', 'uk-form-label');
  label_1.innerText = '起点站';
  flexDiv1.appendChild(label_1);
  var input_1 = document.createElement('input');
  input_1.setAttribute('class', 'uk-input');
  input_1.setAttribute('type', 'text');
  flexDiv1.appendChild(input_1);
  var flexDiv2 = document.createElement('div');
  flexDiv2.setAttribute('class', 'fn_departureInfo_2 uk-margin-small-left uk-margin-small-right');
  wrapDiv.appendChild(flexDiv2);
  var label_2 = document.createElement('label');
  label_2.setAttribute('class', 'uk-form-label');
  label_2.setAttribute('for', 'discountValue');
  label_2.innerText = '起点站三字码';
  flexDiv2.appendChild(label_2);
  var input_2 = document.createElement('input');
  input_2.setAttribute('class', 'uk-input');
  input_2.setAttribute('type', 'text');
  input_2.setAttribute('name', 'discountValue');
  flexDiv2.appendChild(input_2);
  createAddBtn(wrapDiv);
  function createAddBtn(wrapDiv, type) {
    var btn_plus = document.createElement('button');
    btn_plus.setAttribute('class', 'button button-primary button-square');
    if (!type) {
      wrapDiv.appendChild(btn_plus);
    } else {
      var child = wrapDiv.querySelector('button');
      if (child) {
        wrapDiv.insertBefore(btn_plus, child);
      } else {
        wrapDiv.appendChild(btn_plus);
      }
    }
    var btn_plus_icon = document.createElement('i');
    btn_plus_icon.setAttribute('class', 'fa fa-plus');
    btn_plus_icon.setAttribute('aria-hidden', 'true');
    btn_plus.appendChild(btn_plus_icon);
    btn_plus.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var departureInfo = new DepartureInfo();
      departureInfo.add();
    });
  }
  if (!type) {
    var btn_minus = document.createElement('button');
    btn_minus.setAttribute('class', 'button button-highlight button-square');
    wrapDiv.appendChild(btn_minus);
    var btn_minus_icon = document.createElement('i');
    btn_minus_icon.setAttribute('class', 'fa fa-minus');
    btn_minus_icon.setAttribute('aria-hidden', 'true');
    btn_minus.appendChild(btn_minus_icon);
    btn_minus.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      if (!!preWrapDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preWrapDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }
  return wrapDiv;
};
function FeeDiscountItem() {}
FeeDiscountItem.prototype.add = function (type) {
  $.ajax({
    url: document.querySelector('input[name=api_queryFeeItem]').value,
    data: '',
    success: function success(feeItem) {
      if (feeItem.code != '200') {
        UIkit.modal.alert(feeItem.msg);
      }
      (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])('DISCOUNT_FEE_TYPE', function (feeType) {
        if (feeType.code != '200') {
          UIkit.modal.alert(feeType.msg);
        }
        try {
          var asset = FeeDiscountItem.getAsset(feeItem.data, feeType.data, type);
          var parentNode = document.querySelector('#wrap_feeDiscount_assets');
          parentNode.appendChild(asset);
        } catch (e) {
          alert(e);
          console.error(e);
        }
      });
    }
  });
};
FeeDiscountItem.getAsset = function (feeItemData, feeTypeData, type) {
  // wrap:
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-flex uk-flex-middle uk-margin fn_getDiscountFeeRequestList');

  // 费用减免项：
  var feeItemDiv = document.createElement('div');
  feeItemDiv.setAttribute('class', 'uk-width-medium');
  wrapDiv.appendChild(feeItemDiv);
  var feeItemLabel = document.createElement('label');
  feeItemLabel.setAttribute('class', 'uk-form-label');
  feeItemLabel.setAttribute('for', 'discountFeeKey');
  feeItemLabel.innerText = '费用减免项';
  feeItemDiv.appendChild(feeItemLabel);

  /* 由单选: */
  // var feeItemSelect = document.createElement('select');
  // feeItemSelect.setAttribute('class', 'uk-select');
  // feeItemSelect.setAttribute('name', 'discountFeeKey');
  // feeItemDiv.appendChild(feeItemSelect);
  // for (let i = 0; i < feeItemData.length; i++) {
  //   let op = document.createElement('option');
  //   for ( let key in feeItemData[i]) {
  //     if (key == 'feeShortNm') {
  //       op.innerText = feeItemData[i][key];
  //     }
  //     op.setAttribute('data-' + key, feeItemData[i][key]);
  //   }
  //   feeItemSelect.appendChild(op);
  // }

  /* 改为多选: */
  /* 组件结构: 
    feeItemAsset
      feeItemButton
      feeItemButtonModal
  */
  var feeItemAsset = document.createElement('div');
  feeItemDiv.appendChild(feeItemAsset);
  feeItemAsset.classList.add('uk-flex', 'discountFeeKey');
  var feeIteminput = document.createElement('input');
  feeItemAsset.appendChild(feeIteminput);
  feeIteminput.classList.add('uk-input');
  feeIteminput.style.textOverflow = 'ellipsis';
  feeIteminput.setAttribute('placeholder', '请选择减免项');
  feeIteminput.setAttribute('readonly', 'readonly');
  var feeItemButton = document.createElement('button');
  feeItemAsset.appendChild(feeItemButton);
  var feeItemButtonModal = document.createElement('div');
  feeItemAsset.appendChild(feeItemButtonModal);

  /* feeItemButton: */
  feeItemButton.innerHTML = '<i class="fa fa-caret-right" aria-hidden="true"></i>';
  feeItemButton.classList.add('uk-button', 'uk-button-primary');
  feeItemButton.setAttribute('type', 'button');

  /* feeItemButtonModal: */
  feeItemButtonModal.setAttribute('uk-drop', 'mode: click; pos: right-bottom');
  var cardFrame = document.createElement('div');
  feeItemButtonModal.appendChild(cardFrame);
  cardFrame.classList.add('uk-card', 'uk-card-default');
  var feeItemButtonModalBody = document.createElement('div');
  cardFrame.appendChild(feeItemButtonModalBody);
  feeItemButtonModalBody.classList.add('uk-card-body', 'uk-height-large', 'uk-overflow-auto');
  var feeItemButtonModalBodyUl = document.createElement('ul');
  feeItemButtonModalBody.appendChild(feeItemButtonModalBodyUl);
  feeItemButtonModalBodyUl.classList.add('uk-list', 'uk-list-divider');
  feeItemData.forEach(function (data) {
    if (data['feeShortNm']) {
      var li = document.createElement('li');
      feeItemButtonModalBodyUl.appendChild(li);
      var cb = document.createElement('input');
      li.appendChild(cb);
      cb.type = 'checkbox';
      cb.classList.add('uk-checkbox', 'uk-margin-small-right');
      cb.setAttribute('data-feeShortNm', data['feeShortNm']);
      cb.setAttribute('data-feeId', data['feeId'] ? data['feeId'] : '');
      var span = document.createElement('span');
      li.appendChild(span);
      span.innerText = data['feeShortNm'];
    }
  });
  var cardFooter = document.createElement('div');
  cardFrame.appendChild(cardFooter);
  cardFooter.classList.add('uk-card-footer');
  var footerBtn = document.createElement('button');
  cardFooter.appendChild(footerBtn);
  footerBtn.classList.add('uk-button', 'uk-button-primary', 'uk-align-center');
  footerBtn.innerText = '确认';
  footerBtn.setAttribute('type', 'button');
  footerBtn.addEventListener('click', function () {
    var cbList = feeItemButtonModalBodyUl.querySelectorAll('input[type="checkbox"]');
    var checkedValue = [];
    cbList.forEach(function (cb) {
      if (cb.checked) {
        checkedValue.push(cb.getAttribute('data-feeShortNm'));
      }
    });
    console.log(checkedValue);
    feeIteminput.value = checkedValue;
    UIkit.drop(feeItemButtonModal).hide(false);
  });

  // 费用减免类型：
  var feeTypeDiv = document.createElement('div');
  feeTypeDiv.setAttribute('class', 'uk-margin-small-left');
  wrapDiv.appendChild(feeTypeDiv);
  var feeTypeLabel = document.createElement('label');
  feeTypeLabel.setAttribute('class', 'uk-form-label');
  feeTypeLabel.setAttribute('for', 'discountFeeType');
  feeTypeLabel.innerText = '减免类型';
  feeTypeDiv.appendChild(feeTypeLabel);
  var flexDiv = document.createElement('div');
  flexDiv.setAttribute('class', 'uk-flex uk-flex-middle uk-form-controls');
  feeTypeDiv.appendChild(flexDiv);
  var feeTypeSelect = document.createElement('select');
  feeTypeSelect.setAttribute('class', 'uk-select uk-width-small');
  feeTypeSelect.setAttribute('name', 'discountFeeType');
  flexDiv.appendChild(feeTypeSelect);
  for (var i = 0; i < feeTypeData.length; i++) {
    var op = document.createElement('option');
    for (var key in feeTypeData[i]) {
      if (key == 'value') {
        op.innerText = feeTypeData[i][key];
      }
      op.setAttribute('data-' + key, feeTypeData[i][key]);
    }
    feeTypeSelect.appendChild(op);
  }

  // 费用数值：
  var feeInput = document.createElement('input');
  feeInput.setAttribute('class', 'uk-input uk-margin-small-left uk-width-small');
  feeInput.setAttribute('type', 'number');
  feeInput.setAttribute('name', 'discountFeeValue');
  var val = feeTypeSelect.getAttribute('data-key');
  if (val == 'free') {
    feeInput.setAttribute('disabled', '');
  }
  flexDiv.appendChild(feeInput);
  var discrSpan = document.createElement('span');
  discrSpan.setAttribute('class', 'uk-margin-small-left uk-margin-small-right uk-text-nowrap');
  discrSpan.innerText = '元/折';
  flexDiv.appendChild(discrSpan);
  if (!type) {
    var minusBtn = document.createElement('button');
    minusBtn.setAttribute('class', 'button button-highlight button-square');
    flexDiv.appendChild(minusBtn);
    var minusIcon = document.createElement('i');
    minusIcon.setAttribute('class', 'fa fa-minus');
    minusIcon.setAttribute('aria-hidden', 'true');
    minusBtn.appendChild(minusIcon);
    minusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      var preFormControlDiv = preWrapDiv.querySelector('.uk-form-controls');
      if (!!preFormControlDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preFormControlDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }

  // 按钮：
  createAddBtn(flexDiv, type);
  function createAddBtn(parentNode) {
    var plusBtn = document.createElement('button');
    plusBtn.setAttribute('class', 'button button-primary button-square');
    parentNode.appendChild(plusBtn);
    var plusIcon = document.createElement('i');
    plusIcon.setAttribute('class', 'fa fa-plus');
    plusIcon.setAttribute('aria-hidden', 'true');
    plusBtn.appendChild(plusIcon);
    plusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var feeDiscountItem = new FeeDiscountItem();
      feeDiscountItem.add();
    });
  }

  // listen select:
  checkFeeType(feeTypeSelect); // check after building
  feeTypeSelect.addEventListener('change', function () {
    checkFeeType(this);
  });
  function checkFeeType(selectNode) {
    var index = selectNode.selectedIndex;
    var val = selectNode.options[index].getAttribute('data-key');
    if (val == 'free') {
      feeInput.value = '';
      feeInput.innerHTML = '';
      feeInput.setAttribute('disabled', 'true');
    } else {
      if (feeInput.getAttribute('disabled') === 'true') {
        feeInput.removeAttribute('disabled');
      }
    }
  }
  return wrapDiv;
};
function DiscountPagesSubmit() {}
DiscountPagesSubmit.prototype.getP1PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueAirline();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var cargoNo = DiscountPagesSubmit.getCargoNo();
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.cargoNo = cargoNo;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.prototype.getP2PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueAirdot();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.prototype.getP3PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueFromSelect();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var cargoNo = DiscountPagesSubmit.getCargoNo();
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.cargoNo = cargoNo;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.getDiscountValueAirline = function () {
  var result = '';
  var inputArr = document.querySelectorAll('input[name=airlineNum]');
  if (inputArr.length < 1) {
    throw new Error('没有flightNumber字段');
  }
  for (var i = 0; i < inputArr.length; i++) {
    var value = $.trim(inputArr[i].value);
    if (value == '') {
      continue;
    }
    if (i > 0) {
      result += ',';
    }
    result += value;
  }
  return result;
};
DiscountPagesSubmit.getDiscountValueAirdot = function () {
  var result = '';
  var inputArr = document.querySelectorAll('input[name=discountValue]');
  if (inputArr.length < 1) {
    throw new Error('没有三字码字段');
  }
  for (var i = 0; i < inputArr.length; i++) {
    var value = $.trim(inputArr[i].value);
    if (value == '') {
      continue;
    }
    if (i > 0) {
      result += ',';
    }
    result += value;
  }
  return result;
};
DiscountPagesSubmit.getDiscountValueFromSelect = function () {
  var select = document.querySelector('select[name=discountValue]');
  var value = select.options[select.selectedIndex].getAttribute('data-key');
  return value;
};
DiscountPagesSubmit.getCargoNo = function () {
  var result = '';
  var select = document.querySelector('#destSelect');
  var ops = select.querySelectorAll('option');
  // if (ops.length < 1) {
  //   UIkit.modal.alert('没有添加优惠品名');
  //   return;
  // }
  for (var i = 0; i < ops.length; i++) {
    var cargoNo = ops[i].getAttribute('data-cargoNo');
    if (i > 0) {
      result += ',';
    }
    if (cargoNo === null || cargoNo === '') {
      continue;
    }
    result += cargoNo;
  }
  return result;
};
DiscountPagesSubmit.getDiscountFeeRequestList = function () {
  var result = [];
  var listArr = document.querySelectorAll('.fn_getDiscountFeeRequestList');
  if (listArr.length < 1) {
    return null;
  }
  for (var i = 0; i < listArr.length; i++) {
    // var child = {};

    /* select */
    // var keySelect = listArr[i].querySelector('select[name=discountFeeKey]');

    /* 改成checkbox */
    var keyCheckboxList = listArr[i].querySelectorAll('div.discountFeeKey input[type="checkbox"]');
    var typeSelect = listArr[i].querySelector('select[name=discountFeeType]');
    var discountFeeType = typeSelect.options[typeSelect.selectedIndex].getAttribute('data-key');
    var discountFeeValue = listArr[i].querySelector('input[name=discountFeeValue]').value;

    /* select prop: */
    // var discountFeeKey = keySelect.options[keySelect.selectedIndex].getAttribute('data-feeId');
    // var discountFeeKeyName = listArr[i].querySelector('select[name=discountFeeKey]').value;
    // child.discountFeeType = discountFeeType;
    // child.discountFeeKey = discountFeeKey;
    // child.discountFeeKeyName = discountFeeKeyName;
    // child.discountFeeValue = discountFeeValue;
    // result.push(child);

    /* 改成checkbox prop: */
    keyCheckboxList.forEach(function (cb) {
      if (cb.checked) {
        var data = {};
        data.discountFeeType = discountFeeType;
        data.discountFeeKey = cb.getAttribute('data-feeid');
        data.discountFeeKeyName = cb.getAttribute('data-feeshortnm');
        data.discountFeeValue = discountFeeValue;
        result.push(data);
      }
    });
  }
  var inputFeerate = document.querySelector('input[name=feerate]').value;
  if (inputFeerate) {
    result.push({
      discountFeeType: 'rate',
      discountFeeValue: $.trim(inputFeerate)
    });
  }
  return result;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\FormValidate.js":
/*!*******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\FormValidate.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FormValidate)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__);


function FormValidate() {}
FormValidate.prototype.validator = function () {
  var form = document.getElementById('dataForm');
  var mark = form.getAttribute('data-vld');
  switch (mark) {
    default:
      throw new Error('form参数没有合适的data-vld属性');
    case 'station_billsSetting_addRule':
      return FormValidate.station_billsSetting_addRule();
    // break;
    case 'another':
      return function () {
        console.log('111');
      };
  }
};
FormValidate.station_billsSetting_addRule = function () {
  var inp_billName = document.getElementById('billName');
  var inp_billName_maxWords = 20;
  var inp_billName_maxWordsText = '最多输入' + inp_billName_maxWords + '字';
  return {
    bindFormItems: function bindFormItems() {
      var inp = inp_billName;
      var maxWords = inp_billName_maxWords;
      var maxWordsText = inp_billName_maxWordsText;
      if (!inp) return;
      inp.setAttribute('maxlength', maxWords);
      inp.setAttribute('placeholder', maxWordsText);
      inp.setAttribute('uk-tooltip', 'title:' + maxWordsText + '; pos: top-right');
      inp.setAttribute('autofocus', 'autofocus');
      inp.focus();
      // UIkit.tooltip(inp).show();
      inp.addEventListener('blur', function () {
        FormValidate.inp_checkNull(this, maxWordsText);
      });
      inp.addEventListener('change', function () {
        FormValidate.inp_limitLength(this, maxWords);
      });
    },
    checkCheckboxes: function checkCheckboxes() {
      var boo = false;
      var checkboxes = document.querySelectorAll('input[type=checkbox].linkLabel');
      for (var i = 0; i < checkboxes.length; i++) {
        var checkbox = checkboxes[i];
        if (checkbox.checked) {
          boo = true;
          break;
        }
      }
      if (!boo) UIkit.notification("请在多选项目中选择至少一个类型", 'warning');
      return boo;
    },
    submitBoo: function submitBoo() {
      FormValidate.inp_limitLength(inp_billName, inp_billName_maxWords);
      var boos = [];
      boos.push(FormValidate.inp_checkNull(inp_billName, inp_billName_maxWordsText));
      boos.push(this.checkCheckboxes());
      return FormValidate.passToSubmit(boos);
    }
  };
};
FormValidate.inp_checkNull = function (inp, originText) {
  var changeText = '此项不能为空';
  if (!inp.value) {
    inp.classList.add('uk-form-danger');
    inp.setAttribute('placeholder', changeText);
    inp.setAttribute('uk-tooltip', 'title:' + changeText + '; pos: top-right');
    UIkit.tooltip(inp).show();
    return false;
  } else {
    inp.classList.remove('uk-form-danger');
    inp.setAttribute('uk-tooltip', 'title:' + originText + '; pos: top-right');
    return true;
  }
};
FormValidate.inp_limitLength = function (inp, maxlen) {
  var trimValue = $.trim(inp.value);
  if (trimValue.length > maxlen) {
    inp.value = trimValue.slice(0, maxlen);
  } else {
    inp.value = trimValue;
  }
};
FormValidate.passToSubmit = function (boosArr) {
  for (var i = 0; i < boosArr.length; i++) {
    var boo = boosArr[i];
    if (!boo) {
      return boo;
    } else {
      continue;
    }
  }
  return true;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js":
/*!*************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Global.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js");
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }














// Polyfill:
if (!Array.isArray) {
  Array.isArray = function (arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
  };
}
var Glob_fn = {
  errorHandler: function errorHandler(error, callback) {
    var errMsg = error ? error : '未知错误';
    if (console) {
      console.error('错误信息IN_CONSOLE: ', errMsg, errMsg.stack);
    }
    if (UIkit) {
      try {
        UIkit.modal.alert(errMsg).then(callback);
      } catch (e) {
        alert(errMsg);
      }
    } else {
      alert(errMsg);
    }
  },
  inheritPrototype: function inheritPrototype(superType, subType) {
    // 继承函数：
    var prototype = Object(superType.prototype); //创建对象
    prototype.constructor = subType; //增强对象
    subType.prototype = prototype; //指定对象
  },

  isJSON: function isJSON(str) {
    if (typeof str !== "string") return false;
    try {
      var object = JSON.parse(str);
      if (object && _typeof(object) === "object") {
        return true;
      } else {
        return false;
      }
    } catch (e) {
      /* 不处理 */
    }
  },
  isDOM: function isDOM(item) {
    return typeof HTMLElement === 'function' ? item instanceof HTMLElement : item && _typeof(item) === 'object' && item.nodeType === 1 && typeof item.nodeName === 'string';
  },
  initMain: function initMain() {
    var main = document.getElementById('dpfMain');
    var headerH = 73;
    var navH = 40;
    var footerH = 90;
    // var browserH = window.outerHeight
    var browserVisibleH = window.innerHeight;
    // console.log(browserH, browserVisibleH)
    var dH = browserVisibleH - headerH - navH - footerH;
    main.setAttribute("style", "min-height:" + dH + "px");
  },
  initNav: function initNav() {
    var btns = document.querySelectorAll('#dpfNav button');
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener('click', function () {
        event.stopPropagation();
        var thisBtnCls = this.querySelector('i').classList;
        var dropdown = this.nextElementSibling;
        if (thisBtnCls.contains('fa-caret-down')) {
          for (var j = 0; j < btns.length; j++) {
            btns[j].querySelector('i').setAttribute('class', 'fa fa-caret-down');
            btns[j].nextElementSibling.setAttribute('style', 'display:none');
          }
          thisBtnCls.remove('fa-caret-down');
          thisBtnCls.add('fa-caret-up');
          dropdown.setAttribute('style', 'display:block');
        } else {
          this.blur();
          thisBtnCls.remove('fa-caret-up');
          thisBtnCls.add('fa-caret-down');
          dropdown.setAttribute('style', 'display:none');
        }
      }, false);
    }
    document.addEventListener('click', function () {
      for (var i = 0; i < btns.length; i++) {
        btns[i].nextElementSibling.setAttribute('style', 'display:none');
        btns[i].querySelector('i').setAttribute('class', 'fa fa-caret-down');
      }
    });
  },
  loading: {
    show: function show() {
      if (document.getElementById('loadingOverlay')) return;
      var body = document.querySelector('body');
      var main = document.querySelector('main');
      var parentNode = main ? main : body;
      var div = document.createElement('div');
      div.setAttribute('id', 'loadingOverlay');
      // div.setAttribute('uk-sticky', '');
      div.style.position = 'fixed';
      div.setAttribute('class', 'uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle');
      div.innerHTML = '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>';
      parentNode.appendChild(div);
      return div;
    },
    hide: function hide() {
      var div = document.querySelectorAll('#loadingOverlay');
      if (!div || div.length === 0) {
        throw new Error('没有loading遮罩');
      }
      if (div.length > 1) {
        throw new Error('存在多个loading遮罩');
      }
      for (var i = 0; i < div.length; i++) {
        div[i].parentNode.removeChild(div[i]);
      }
    }
  },
  checkboxAndRadio: {
    getBindingLabel: function getBindingLabel(childNode) {
      var label = null;
      var child = childNode;
      var maxCount = 5;
      do {
        label = child.parentNode;
        child = label;
        maxCount--;
      } while (label.tagName !== 'LABEL' && maxCount > 0);
      if (label.tagName !== 'LABEL') {
        throw new Error('没有label节点');
      }
      return label;
    },
    setBindingLabels: function setBindingLabels(radioSet) {
      var parentProp = this;
      // var labels = labelSet? labelSet: getLabelSet(radioSet);
      return function () {
        for (var i = 0; i < radioSet.length; i++) {
          var radio = radioSet[i];
          var label = parentProp.getBindingLabel(radio);
          label.classList.remove('button-primary');
        }
        for (var _i = 0; _i < radioSet.length; _i++) {
          var radio2 = radioSet[_i];
          if (radio2.checked) {
            parentProp.getBindingLabel(radio2).classList.add('button-primary');
          }
        }
        // console.log(this.getRadioValue(radioSet))
      };
    },

    initActiveLabel: function initActiveLabel(radio) {
      var parentProp = this;
      if (radio.hasAttribute('checked')) {
        parentProp.getBindingLabel(radio).classList.add('button-primary');
      } else {
        parentProp.getBindingLabel(radio).classList.remove('button-primary');
      }
    },
    getRadioValue: function getRadioValue(radioSet) {
      var value = null;
      for (var i = 0; i < radioSet.length; i++) {
        var radio = radioSet[i];
        if (radio.checked) {
          value = radio.value;
        }
      }
      return value;
    }
  },
  WdateInit: function WdateInit(startTimeId, endTimeId, args) {
    var sta = document.getElementById(startTimeId);
    var end = document.getElementById(endTimeId);
    var dateFmt = args && args.dateFmt ? args.dateFmt : 'yyyy-MM-dd';
    if (dateFmt === 'yyyy年MM月') {
      setVelInp(startTimeId);
      setVelInp(endTimeId);
    }
    var minDate = args && args.minDate ? args.minDate : false;
    var maxDate = args && args.maxDate ? args.maxDate : false;
    sta.addEventListener('click', function () {
      var config_s = {
        dateFmt: dateFmt,
        maxDate: '#F{$dp.$D(\'' + endTimeId + '\')}'
      };
      if (dateFmt === 'yyyy年MM月') {
        config_s.vel = startTimeId + '_2';
        config_s.realDateFmt = args.realDateFmt ? args.realDateFmt : 'yyyyMMdd';
      }
      if (minDate) config_s.minDate = minDate;
      if (maxDate === 'today') config_s.maxDate = '#F{$dp.$D(\'' + endTimeId + '\') || \'%y-%M-%d\'}';
      WdatePicker(config_s);
    });
    end.addEventListener('click', function () {
      var config_e = {
        dateFmt: dateFmt,
        minDate: '#F{$dp.$D(\'' + startTimeId + '\')}'
      };
      if (dateFmt === 'yyyy年MM月') {
        config_e.vel = endTimeId + '_2';
        config_e.realDateFmt = args.realDateFmt ? args.realDateFmt : 'yyyyMMdd';
      }
      if (minDate) config_e.minDate = '#F{$dp.$D(\'' + startTimeId + '\') || \'' + minDate + '\'}';
      if (maxDate === 'today') config_e.maxDate = '%y-%M-%d';
      WdatePicker(config_e);
    });
    function setResetButton(input) {
      var btn = document.querySelector('form input[type=reset]');
      if (!btn) return;
      btn.addEventListener('click', function () {
        input.value = '';
      });
    }
    function setVelInp(id) {
      var inp = document.createElement('input');
      var src = document.getElementById(id);
      var srcName = src.getAttribute('name');
      var data = src.getAttribute('data-value');
      src.removeAttribute('name');
      inp.setAttribute('name', srcName);
      inp.setAttribute('id', id + '_2');
      inp.setAttribute('type', 'hidden');
      if (data) {
        inp.setAttribute('value', data);
        src.setAttribute('value', data.slice(0, 4) + '年' + data.slice(4, 6) + '月');
      }
      document.getElementById(id).parentNode.appendChild(inp);
      setResetButton(inp);
      return inp;
    }
  },
  banBackSpace: function banBackSpace(event) {
    var ev = event || window.event;
    var obj = ev.target || ev.srcElement;
    var t = obj.type || obj.getAttribute('type');
    var vReadOnly = obj.getAttribute('readonly');
    vReadOnly = vReadOnly == '' ? false : vReadOnly;
    var flag1 = ev.keyCode == 8 && (t == 'password' || t == 'text' || t == 'number' || t == 'textarea') && vReadOnly != undefined ? true : false;
    var flag2 = ev.keyCode == 8 && t != 'password' && t != 'text' && t != 'number' && t != 'textarea' ? true : false;
    if (flag2) {
      return false;
    }
    if (flag1) {
      return false;
    }
  },
  submVirtForm: function submVirtForm(url, obj) {
    var form = document.createElement('form');
    form.style.display = 'none';
    form.method = 'post';
    form.action = url;
    for (var key in obj) {
      var inp = document.createElement('input');
      inp.type = 'hidden';
      inp.name = key;
      inp.value = obj[key];
      form.appendChild(inp);
    }
    document.body.appendChild(form);
    form.submit();
    document.body.removeChild(form);
  },
  initDiscoutTypeSel: function initDiscoutTypeSel(dataList, parentSelect) {
    var op0 = document.createElement('option');
    op0.setAttribute('value', 'TYPE');
    op0.innerText = '全部';
    parentSelect.appendChild(op0);
    for (var i = 0; i < dataList.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', dataList[i].key);
      op.innerText = dataList[i].value;
      parentSelect.appendChild(op);
    }
  },
  initSupplierSel: function initSupplierSel(dataList, parentSelect) {
    var op0 = document.createElement('option');
    op0.setAttribute('value', '');
    op0.innerText = '全部';
    parentSelect.appendChild(op0);
    for (var i = 0; i < dataList.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', dataList[i].supplierId);
      op.innerText = dataList[i].supplierNameChn;
      parentSelect.appendChild(op);
    }
  },
  initDiscountDetails: function initDiscountDetails(data) {
    document.getElementById('discountPolicyName').value = data.discountPolicyName;
    document.getElementById('status').value = data.statusDesc;
    document.getElementById('startTime').value = data.startTime;
    document.getElementById('endTime').value = data.endTime;
    document.getElementById('discountType').value = data.discountTypeDesc;
    document.getElementById('minCharge').value = data.minCharge;
    document.getElementById('feerateValue').value = getFeerate();
    function getFeerate() {
      var list = data.discountFeeRequestList;
      if (list.length < 1) return null;
      var result = '';
      for (var i = 0; i < list.length; i++) {
        if (list[i].discountFeeType == 'rate') {
          result = list[i].discountFeeValue;
        }
      }
      return result;
    }
    // 输出品名：
    var cargoNameWrap = document.getElementById('cargoName');
    if (data.cargoName) {
      var label = document.createElement('label');
      label.innerText = '优惠品名项';
      cargoNameWrap.appendChild(label);
      var div = document.createElement('div');
      div.setAttribute('class', 'uk-margin-small uk-margin-small-left');
      div.innerText = data.cargoName;
      cargoNameWrap.appendChild(div);
    } else if (cargoNameWrap.innerHTML) {
      cargoNameWrap.innerHTML = '';
    }
    // 输出discountValue：
    var discountValueWrap = document.getElementById('discountValue');
    if (data.discountValue) {
      var _label = document.createElement('label');
      if (data.discountType == 'F') _label.innerText = '优惠航班';else if (data.discountType == 'WP') _label.innerText = '优惠航点';else if (data.discountType == 'G') _label.innerText = '优惠支持方式';else _label.innerText = '优惠值';
      discountValueWrap.appendChild(_label);
      var _div = document.createElement('div');
      _div.setAttribute('class', 'uk-margin-small uk-margin-small-left');
      _div.innerText = data.discountValue;
      discountValueWrap.appendChild(_div);
    } else if (discountValueWrap.innerHTML) {
      discountValueWrap.innerHTML = '';
    }
    var table = document.getElementById('discountFeeRequestList');
    var tbody = getTbody();
    table.appendChild(tbody);
    function getTbody() {
      var tbody = document.createElement('tbody');
      var list = data.discountFeeRequestList;
      for (var i = 0; i < list.length; i++) {
        var tr = document.createElement('tr');
        if (list[i].discountFeeType == 'rate') {
          continue;
        } else {
          var td1 = document.createElement('td');
          td1.innerText = list[i].discountFeeKeyName;
          var td2 = document.createElement('td');
          td2.innerText = list[i].discountFeeTypeDesc;
          var td3 = document.createElement('td');
          td3.innerText = list[i].discountFeeValue;
          tr.appendChild(td1);
          tr.appendChild(td2);
          tr.appendChild(td3);
          tbody.appendChild(tr);
        }
      }
      return tbody;
    }
  },
  Table: {
    showNoData: function showNoData(colspan) {
      var tr0 = document.createElement('tr');
      var td0 = document.createElement('td');
      td0.innerText = '无数据';
      td0.setAttribute('colspan', colspan);
      td0.setAttribute('class', 'uk-text-center');
      tr0.appendChild(td0);
      // 清空分页组件：
      var pag = document.querySelector('ul[data-for=dataTable]');
      pag.innerHTML = '';
      return tr0;
    },
    getThTr: function getThTr(table) {
      var thead = table.querySelector('thead');
      thead.innerHTML = '';
      var trInThead = document.createElement('tr');
      thead.appendChild(trInThead);
      // thead.style.backgroundColor = 'white';
      // thead.setAttribute('uk-sticky', '');
      return trInThead;
    },
    setTh: function setTh(parentTr, content, showBoo) {
      var th = document.createElement('th');
      var show = showBoo === undefined ? true : showBoo;
      if (_typeof(content) == 'object') {
        th.appendChild(content);
      } else {
        th.innerText = content;
      }
      if (!show) th.setAttribute('hidden', '');
      parentTr.appendChild(th);
      return th;
    },
    setTd: function setTd(parentTr, data, showBoo, replaceStr) {
      var td = document.createElement('td');
      var show = showBoo === undefined ? true : showBoo;
      var replace = replaceStr ? replaceStr : '-';
      if (typeof data === 'string' || typeof data === 'number') {
        if (data) {
          var span = document.createElement('span');
          span.style.display = 'inline-block';
          span.innerHTML = data;
          td.appendChild(span);
        } else {
          setNoData(td, replace);
        }
      } else if (Glob_fn.isDOM(data)) {
        td.appendChild(data);
      } else if (Array.isArray(data)) {
        if (data.length < 1) {
          setNoData(td, replace);
        } else {
          for (var i = 0; i < data.length; i++) {
            td.appendChild(data[i]);
          }
        }
      } else {
        setNoData(td, replace);
      }
      if (!show) td.setAttribute('hidden', '');
      parentTr.appendChild(td);
      return td;
      function setNoData(td, replace) {
        td.innerHTML = replace;
        td.setAttribute('class', 'uk-text-center');
      }
    },
    setTdSerial: function setTdSerial(parentTr, number, pageNumber, pageSize) {
      var tdSerial = document.createElement('td');
      parentTr.appendChild(tdSerial);
      tdSerial.innerText = number + 1 + (Number(pageNumber) - 1) * Number(pageSize);
      return tdSerial;
    },
    hideSome: function hideSome(td, width) {
      var span = td.querySelector('span');
      if (!span) return;
      var maxW = width ? width : 200;
      // var byteLength = td.innerText.byteLength();
      var computedWidth = window.getComputedStyle ? window.getComputedStyle(span, null).getPropertyValue('width').slice(0, -2) : span.currentStyle.getPropertyValue('width').slice(0, -2);
      if (Number(computedWidth) < maxW) return td;
      td.style.overflow = 'hidden';
      td.style.textOverflow = 'ellipsis';
      td.style.maxWidth = maxW + 'px';
      td.style.cursor = 'pointer';
      td.innerText = span.innerText;
      td.setAttribute('uk-tooltip', td.innerText);
      return td;
    },
    trHideSome: function trHideSome(tr, max) {
      var tds = tr.querySelectorAll('td');
      for (var i = 0; i < tds.length; i++) {
        var td = tds[i];
        this.hideSome(td, max);
      }
      return tr;
    },
    tbodyHideSome: function tbodyHideSome() {
      var table = document.getElementById('dataTable');
      if (!table) return;
      if (!table.hasAttribute('data-hideSome')) return;
      var prop = table.getAttribute('data-hideSome');
      var size = isNaN(Number(prop)) ? null : Number(prop);
      var tbody = table.querySelector('tbody');
      var trs = tbody.querySelectorAll('tr');
      if (trs.length < 1) return;
      for (var i = 0; i < trs.length; i++) {
        var tr = trs[i];
        this.trHideSome(tr, size);
      }
      return tbody;
    },
    buildAjaxTitle: function buildAjaxTitle(titleData, parentNode) {
      var colCount = 0;
      for (var i = 0; i < titleData.length; i++) {
        var list = titleData[i];
        if (list.feeShortNm === '处置费') {
          var th0 = document.createElement('th');
          th0.innerText = '地面费率';
          th0.setAttribute('data-col', colCount);
          th0.setAttribute('class', 'feeItemTitle');
          colCount++;
          parentNode.appendChild(th0);
        }
        var th = document.createElement('th');
        th.innerText = list.feeShortNm;
        th.setAttribute('data-col', colCount);
        colCount++;
        th.setAttribute('class', 'feeItemTitle');
        parentNode.appendChild(th);
      }
    },
    getAjaxTitleValue: function getAjaxTitleValue(data, key) {
      var arr = [];
      for (var i = 0; i < data.length; i++) {
        var value = data[i][key].toString().replace(/-/g, '#').match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);
        if (data[i].feeShortNm === '处置费') {
          arr.push(['specialPos']);
        }
        arr.push(value);
      }
      return arr;
    },
    getAjaxTitleData: function getAjaxTitleData(title, feeIdArr, dataList) {
      var arr = title ? [title] : [];
      for (var i = 0; i < feeIdArr.length; i++) {
        var data = '-';
        var feeIdGroup = feeIdArr[i];
        for (var j = 0; j < feeIdGroup.length; j++) {
          var titleFeeId = feeIdGroup[j];
          for (var k = 0; k < dataList.length; k++) {
            var listFeeId = dataList[k].feeId;
            var listValue = dataList[k].fee === null ? '-' : dataList[k].fee;
            var listRate = dataList[k].feerate;
            var listRateFlag = dataList[k].feeShortNM === '处置费';
            if (titleFeeId == listFeeId) {
              if (listRateFlag) {
                arr.pop();
                arr.push(listRate);
              }
              data = listValue;
            }
          }
        }
        arr.push(data);
      }
      if (title) {
        return arr;
      } else {
        return {
          data: arr,
          title: false
        };
      }
    },
    getAjaxTitleObject: function getAjaxTitleObject(feeIdArr, dataList) {
      var arr = [];
      for (var i = 0; i < feeIdArr.length; i++) {
        var feeIdGroup = feeIdArr[i];
        for (var j = 0; j < feeIdGroup.length; j++) {
          var titleFeeId = feeIdGroup[j];
          for (var k = 0; k < dataList.length; k++) {
            var listFeeId = dataList[k].feeId;
            if (titleFeeId == listFeeId) {
              var obj = dataList[k];
            }
          }
        }
        if (obj !== null && obj !== undefined) {
          arr.push(obj);
          obj = null;
        }
      }
      return arr;
    },
    buildValueWithAjaxTitle: function buildValueWithAjaxTitle(linedata, parentNode) {
      var isArr = Array.isArray(linedata);
      var data = isArr ? linedata : linedata.data;
      for (var i = 0; i < data.length; i++) {
        var td = document.createElement('td');
        td.innerText = data[i];
        if (!isArr) {
          td.setAttribute('data-col', i);
        } else {
          if (i >= 1) td.setAttribute('data-col', i - 1);
        }
        parentNode.appendChild(td);
      }
    },
    hideUnvalued: function hideUnvalued(pointedTable, checkValue) {
      try {
        var table = pointedTable ? pointedTable : document.getElementById('dataTable');
        var flag = checkValue ? checkValue : '-';
        var ths = table.querySelectorAll('th.feeItemTitle');
        if (!ths) return;
        var colCount = ths.length;
        for (var i = 0; i < colCount; i++) {
          var column = table.querySelectorAll('td[data-col="' + i + '"]');
          var unvaluedCol = '';
          for (var j = 0; j < column.length; j++) {
            unvaluedCol = true;
            if (column[j].innerText !== flag) {
              unvaluedCol = false;
              break;
            }
          }
          if (unvaluedCol) {
            for (var k = 0; k < column.length; k++) {
              column[k].setAttribute('hidden', '');
            }
            table.querySelector('th[data-col="' + i + '"]').setAttribute('hidden', '');
          }
        }
      } catch (error) {
        console.error(error);
        return;
      }
    },
    checkSize: function checkSize(pointedTable) {
      try {
        var table = pointedTable ? pointedTable : document.getElementById('dataTable');
        var div = table.parentNode;
        var container = document.querySelector('.maincontent');
        var tabwidth = window.getComputedStyle(table, null).getPropertyValue('width').slice(0, -2);
        var divwidth = window.getComputedStyle(div, null).getPropertyValue('width').slice(0, -2);
        if (Number(tabwidth) > Number(divwidth)) {
          container.classList.remove('normalWidth');
          container.classList.add('largeWidth');
        }
      } catch (error) {
        console.error(error);
        return;
      }
    },
    getCheckbox: function getCheckbox(ifAll) {
      var lab = document.createElement('label');
      lab.setAttribute('class', 'void');
      var chb = document.createElement('input');
      lab.appendChild(chb);
      chb.setAttribute('type', 'checkbox');
      chb.setAttribute('class', 'uk-checkbox');
      if (ifAll) {
        chb.setAttribute('id', 'selectAll');
        chb.setAttribute('disabled', '');
      } else {
        chb.setAttribute('class', 'cb_child');
      }
      chb.addEventListener('click', function () {
        var btn = document.getElementById('multiBtn');
        if (!btn) {
          throw new Error('没有对应按键');
        }
        if (this.checked) {
          btn.removeAttribute('disabled');
        } else {
          btn.setAttribute('disabled', '');
        }
      });
      return lab;
    },
    linkCheckboxes: function linkCheckboxes(selAll, selChildren) {
      selAll.addEventListener('click', function () {
        if (selAll.checked) {
          for (var i = 0; i < selChildren.length; i++) {
            if (!selChildren[i].checked) {
              selChildren[i].click();
            }
          }
        } else {
          for (var _i2 = 0; _i2 < selChildren.length; _i2++) {
            if (selChildren[_i2].checked) {
              selChildren[_i2].click();
            }
          }
        }
      });
    },
    addCheckedToList: function addCheckedToList(chb, list) {
      for (var i = 0; i < chb.length; i++) {
        if (chb[i].checked) {
          var data = chb[i].getAttribute('data-checked');
          list.push(data);
        } else {
          continue;
        }
      }
    },
    hideTable: function hideTable() {
      var tab = document.getElementById('dataTable');
      if (!tab) return;
      tab.setAttribute('hidden', '');
    },
    showTable: function showTable() {
      var tab = document.getElementById('dataTable');
      if (!tab) return;
      tab.removeAttribute('hidden');
    }
  },
  getDictArg_forQueryBills: function getDictArg_forQueryBills() {
    var tType = document.querySelector('input[name=type]').value;
    if (!tType) {
      throw new Error('没有type参数');
    }
    if (tType == '1' || tType == '2') {
      // 直达时货运类型查询
      return 'EXPIMP';
    } else if (tType == '3') {
      // 中转时货运类型
      return 'TRANSFERTYPE';
    } else if (tType == '4') {
      // 快件货运类型
      return 'EXPMAIL';
    }
  },
  setSelDefaultOption: function setSelDefaultOption(select, text, value) {
    var option0 = document.createElement('option');
    option0.setAttribute('value', value);
    option0.innerText = text;
    select.appendChild(option0);
  },
  setSelFromDict: function setSelFromDict(select, data) {
    for (var i = 0; i < data.length; i++) {
      var option = document.createElement('option');
      option.innerText = data[i].value;
      option.value = data[i].key;
      select.appendChild(option);
    }
  },
  setInAndOut: function setInAndOut(res) {
    var data = res.data;
    if (data == null || data.length == 0) {
      throw new Error('字典接口无数据');
    }
    var select = document.querySelector('select[name=inAndOut]');
    this.setSelDefaultOption(select, '全部', '-1');
    try {
      this.setSelFromDict(select, data);
    } catch (e) {
      throw new Error(e);
    }
  },
  setOpedepartId: function setOpedepartId(res) {
    var data = res.data;
    if (data == null || data.length == 0) {
      throw new Error('字典接口无数据');
    }
    var select = document.querySelector('select[name=opedepartId]');
    this.setSelDefaultOption(select, '全部', '-1');
    try {
      this.setSelFromDict(select, data);
    } catch (e) {
      throw new Error(e);
    }
  },
  getOrderTime: function getOrderTime() {
    // 账单查看界面获取账期
    try {
      return {
        orderTimeStart: document.querySelector('input[name=orderTimeStart]').value,
        orderTimeEnd: document.querySelector('input[name=orderTimeEnd]').value
      };
    } catch (error) {
      if (console) console.error(error);
      return {
        orderTimeStart: '',
        orderTimeEnd: ''
      };
    }
  },
  setPostLink: function setPostLink(links, postData) {
    try {
      if (!this.isDOM(links) && links.length) {
        for (var i = 0; i < links.length; i++) {
          links[i].addEventListener('click', callback);
        }
      } else {
        links.addEventListener('click', callback);
      }
    } catch (error) {
      return;
    }
    function callback(event) {
      event.preventDefault();
      var url = this.getAttribute('href');
      Glob_fn.submVirtForm(url, postData);
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Glob_fn);

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js":
/*!**************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Listbox.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Listbox": () => (/* binding */ Listbox),
/* harmony export */   "initListBox": () => (/* binding */ initListBox)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);

function initListBox() {
  var btnL2R = document.querySelector('#listboxL2R');
  var btnR2L = document.querySelector('#listboxR2L');
  var selectL = document.querySelector('#sourceSelect');
  var selectR = document.querySelector('#destSelect');
  if (selectL && selectR && btnL2R && btnR2L) {
    btnL2R.addEventListener('click', function (e) {
      e.preventDefault();
      listboxMoveacross('sourceSelect', 'destSelect', 'norepeat');
    });
    btnR2L.addEventListener('click', function (e) {
      e.preventDefault();
      listboxMoveacross('destSelect', 'sourceSelect');
    });
  }
  function listboxMoveacross(sourceID, destID, type) {
    var src = document.getElementById(sourceID);
    var dest = document.getElementById(destID);
    for (var count = 0; count < src.options.length; count++) {
      if (src.options[count].selected == true) {
        var option = src.options[count];
        var attrs = option.attributes;
        var newOption = document.createElement("option");
        for (var i = 0; i < attrs.length; i++) {
          newOption.setAttribute(attrs[i].name, attrs[i].value);
        }
        newOption.value = option.value;
        newOption.text = option.text;
        newOption.selected = true;
        // 品名查询时(左至右)：
        if (document.querySelector('#cargoNameListbox') || document.getElementById('specialCargoNameListbox')) {
          var id1 = newOption.getAttribute('data-cargoNo');
          var destoptions = dest.querySelectorAll('option');
          if (destoptions.length > 0) {
            for (var j = 0; j < destoptions.length; j++) {
              var id2 = destoptions[j].getAttribute('data-cargoNo');
              if (type) {
                if (id1 === id2) {
                  UIkit.modal.alert('选择项在优惠品名列表中已存在');
                  return;
                }
              }
            }
          }
        }
        try {
          dest.add(newOption, null); //Standard
          src.remove(count, null);
        } catch (error) {
          dest.add(newOption); // IE only
          src.remove(count);
        }
        count--;
      }
    }
  }
}
function Listbox() {}
Listbox.prototype.getOptions_cargoName = function (response, container) {
  try {
    var data = response.data;
    if (data.length < 1) {
      UIkit.modal.alert('没有相关的品名');
      return;
    }
    container.innerHTML = '';
    for (var i = 0; i < data.length; i++) {
      var op = document.createElement('option');
      for (var key in data[i]) {
        if (key == 'cargoNm') {
          op.innerText = data[i][key];
          op.setAttribute('data-' + key, data[i][key]);
        }
        op.setAttribute('data-' + key, data[i][key]);
      }
      container.appendChild(op);
    }
  } catch (err) {
    alert(err);
    console.error(err);
  }
};
Listbox.prototype.getOptions_discountName = function (response, listboxEl, customerId) {
  var sel_sou = listboxEl.querySelector('#sourceSelect');
  var sel_des = listboxEl.querySelector('#destSelect');
  sel_sou.innerHTML = '';
  sel_des.innerHTML = '';
  sel_des.setAttribute('data-customerId', customerId);
  var data = response.data;
  if (data.length < 1) {
    return;
  }
  var optionArr = [];
  for (var i = 0; i < data.length; i++) {
    var op = document.createElement('option');
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        op.innerText = data[i][key];
      } else {
        op.setAttribute('data-' + key, data[i][key]);
      }
    }
    optionArr.push[op];
    sel_sou.appendChild(op);
  }
  return optionArr;
};
Listbox.prototype.postData_discountName = function () {
  // var sel_sou = document.querySelector('#sourceSelect');
  var sel_des = document.querySelector('#destSelect');
  var customerId = sel_des.getAttribute('data-customerId');
  var postData = {
    customerId: customerId
  };
  var discountPolicyIds = [];
  var ops = sel_des.querySelectorAll('option');
  if (ops.length < 1) {
    return null;
  }
  for (var i = 0; i < ops.length; i++) {
    var discountPolicyId = ops[i].getAttribute('data-discountPolicyId');
    discountPolicyIds.push(discountPolicyId);
  }
  postData.discountPolicyIds = discountPolicyIds;
  return postData;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Login.js":
/*!************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Login.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Page_login": () => (/* binding */ Page_login),
/* harmony export */   "initLogin_coverPage": () => (/* binding */ initLogin_coverPage),
/* harmony export */   "initLogin_initQuirBtn": () => (/* binding */ initLogin_initQuirBtn),
/* harmony export */   "initLogin_loginFailed": () => (/* binding */ initLogin_loginFailed),
/* harmony export */   "initLogin_page": () => (/* binding */ initLogin_page)
/* harmony export */ });
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");


function initLogin_page() {
  try {
    initPage();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    window.location.href = 'https://www.dovepay.com';
  }
  function initPage() {
    initLogin_coverPage();
    var pageFor = document.querySelector('input[name=pagefor]').value;
    var sel_type = document.querySelector('select[name=userType]');
    var inp_accountId = document.querySelector('input[name=accountId]');
    var form = document.getElementById('form_login');
    var inp_userId = document.querySelector('input[name=userId]');
    if (pageFor === 'system') {
      inp_accountId.value = 'system';
      sel_type.value = 'system';
      form.submit();
    } else {
      var url = document.querySelector('input[name=api_role]').value;
      inp_userId.addEventListener('change', function (event) {
        event.preventDefault();
        fetchLoginData();
      });
      fetchLoginData();
    }
    function fetchLoginData() {
      var data = {
        'userId': inp_userId.value
      };
      var inp_accountId = document.querySelector('input[name=accountId]');
      inp_accountId.value = '';
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(url, data, new Page_login().setRole, {
        global: false,
        error: function error(xhr, textStatus /*, error*/) {
          if (console) console.error(textStatus);
          UIkit.modal.alert('发生错误: ' + textStatus).then(initLogin_loginFailed);
        }
      });
    }
  }
}
function initLogin_initQuirBtn() {
  try {
    initPage();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    return;
  }
  function initPage() {
    var quitBtn = document.getElementById('quitBtn');
    quitBtn.addEventListener('click', function () {
      var btn = this;
      UIkit.modal.confirm('确定退出系统?').then(function () {
        try {
          quit(btn);
        } catch (error) {
          _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
          return;
        }
      });
      function quit(btn) {
        initLogin_coverPage();
        var url = btn.getAttribute('data-url');
        var userType = document.getElementById('userType').value;
        var data = {
          userType: userType
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(url, data, function (res) {
          try {
            var redirect = res.data.redirect;
            window.location.href = redirect;
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
            return;
          }
        });
      }
    });
  }
}
function initLogin_coverPage() {
  var div = document.createElement('div');
  div.setAttribute('class', 'uk-position-cover uk-background-muted uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle');
  var i = document.createElement('i');
  i.setAttribute('class', 'fa fa-circle-o-notch fa-spin fa-3x fa-fw');
  div.appendChild(i);
  var span = document.createElement('span');
  span.setAttribute('class', 'sr-only');
  span.innerText = 'Loading...';
  div.appendChild(span);
  var span2 = document.createElement('span');
  span2.innerText = '正在跳转';
  div.appendChild(span2);
  document.body.appendChild(div);
  return div;
}
function initLogin_loginFailed() {
  try {
    var pageFor = document.querySelector('input[name=pagefor]').value;
    window.location.href = pageFor === 'system' ? document.querySelector('input[name=url_dovemgr]').value : document.querySelector('input[name=url_dovepay]').value;
  } catch (error) {
    window.location.href = 'https://www.dovepay.com';
  }
}
function Page_login() {}
Page_login.prototype.setRole = function (res) {
  try {
    var data = res.data;
    var accountId = data.accountId;
    var type = data.type;
    var inp_accountId = document.querySelector('input[name=accountId]');
    var sel_type = document.querySelector('select[name=userType]');
    var form = document.getElementById('form_login');
    inp_accountId.value = accountId;
    sel_type.value = type;
    if (!!inp_accountId.value && !!sel_type.value) {
      form.submit();
    } else {
      UIkit.modal.alert('参数错误: accountId=' + accountId + ', type=' + type).then(initLogin_loginFailed);
    }
  } catch (error) {
    UIkit.modal.alert('发生错误: ' + error).then(initLogin_loginFailed);
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js":
/*!**************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Message.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fn_getMes": () => (/* binding */ fn_getMes),
/* harmony export */   "fn_remMes": () => (/* binding */ fn_remMes)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__);







function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function Message(mes, args) {
  // ('My Message is ...', {style: 'primary'})
  this.mes = mes;
  this.style = null; // primary, success, warning, danger
  this.closb = '';
  this.message = '';
  if (args) {
    this.style = args.style;
    this.closb = args.close;
  }
}
Message.prototype.create = function () {
  var headtxt = '',
    maintxt = '',
    mes = this.mes,
    style = this.style,
    closb = this.closb ? this.closb : false,
    cont = document.createElement('div'),
    head = document.createElement('h3'),
    main = document.createElement('p'),
    clos = document.createElement('a');
  if (typeof mes == 'string') {
    maintxt = mes;
    if (style == 'primary') {
      headtxt = '提示';
    }
    if (style == 'success') {
      headtxt = '成功';
    }
    if (style == 'warning') {
      headtxt = '注意';
    }
    if (style == 'danger') {
      headtxt = '警告';
    }
  }
  if (_typeof(mes) == 'object') {
    maintxt = mes.text;
    headtxt = mes.title;
    head.innerHTML = headtxt;
  }
  cont.setAttribute('uk-alert', '');
  clos.setAttribute('class', 'uk-alert-close');
  clos.setAttribute('uk-close', '');
  if (style) {
    cont.setAttribute('class', 'uk-alert-' + style);
  }
  head.innerHTML = headtxt;
  main.innerHTML = maintxt;
  if (!closb) {
    cont.appendChild(clos);
  }
  cont.appendChild(head);
  cont.appendChild(main);
  this.message = cont;
  return cont;
};
function fn_getMes(mes, args) {
  var m = new Message(mes, args),
    message = m.create();
  return message;
}
function fn_remMes(node) {
  if (!node) {
    return false;
  } else {
    var par = node.parentNode;
    if (par) par.removeChild(node);else return false;
  }
}
// fn_getMes({title: '信息标题', text: '信息主体'}, {style: 'primary', close: false}*);
// fn_getMes('信息主体', {style: 'primary'});

// TEST:
// var mes1 = fn_getMes({title: '信息标题', text: '信息主体'}, {style: 'primary', close: true}),
//     mes2 = fn_getMes('信息主体', {style: 'primary'}),
//     mes3 = fn_getMes('信息主体', {style: 'success'}),
//     mes4 = fn_getMes('信息主体', {style: 'warning'}),
//     mes5 = fn_getMes('信息主体', {style: 'danger'});
//   document.querySelector('.maincontent').appendChild(mes1);
//   // fn_remove(mes1);
//   document.querySelector('.maincontent').appendChild(mes2);
//   document.querySelector('.maincontent').appendChild(mes3);
//   document.querySelector('.maincontent').appendChild(mes4);
//   document.querySelector('.maincontent').appendChild(mes5);

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js":
/*!***************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Paginate.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fn_initPaginate)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.link.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.link.js");
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");



function fn_initPaginate(res, pageNumber, pageSize, fetchFn, callback, postDataHandler) {
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.hideUnvalued();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.showTable();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.checkSize();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.tbodyHideSome();
  if (res.data.totalPage > 1) {
    var p = new Paginate();
    p.showPagnition(res.data.totalPage, pageNumber, pageSize, fetchFn, callback, postDataHandler);
  } else {
    var wrap = document.querySelector('ul[data-for=dataTable]');
    if (wrap) wrap.innerHTML = '';
  }
}
function Paginate() {}
Paginate.prototype.showPagnition = function (totalPage, pageNumber, pageSize, fetchFn, callback, postDataHandler) {
  totalPage = Number(totalPage);
  pageNumber = Number(pageNumber);
  pageSize = Number(pageSize);
  var wrap = document.querySelector('ul[data-for=dataTable]');
  wrap.innerHTML = '';
  var url = document.querySelector('input[name=api_forTable]').value;
  if (pageNumber > 1) {
    var link_pre = Paginate.getPagi_liPre(wrap);
    link_pre.addEventListener('click', function (event) {
      event.preventDefault();
      var data = getPostData(pageNumber - 1, postDataHandler);
      fetchFn.call(this, url, data, callback);
    });
  }
  for (var i = 0; i < totalPage; i++) {
    var li = void 0;
    if (i == pageNumber - 1) {
      li = Paginate.getPagi_liActive(pageNumber);
    } else {
      var obj = Paginate.getPagi_liNormal(i + 1);
      var link = obj.link;
      li = obj.li;
      link.addEventListener('click', function (event) {
        event.preventDefault();
        var data = getPostData(this.innerText, postDataHandler);
        fetchFn.call(this, url, data, callback);
      });
    }
    wrap.appendChild(li);
  }
  if (pageNumber < totalPage) {
    var link_nex = Paginate.getPagi_liNext(wrap);
    link_nex.addEventListener('click', function (event) {
      event.preventDefault();
      var data = getPostData(pageNumber + 1, postDataHandler);
      fetchFn.call(this, url, data, callback);
    });
  }
  Paginate.getPagi_hidePage(10, wrap, pageNumber, totalPage);
  function getPostData(pageNumber, postDataHandler) {
    var data = {};
    var form = document.getElementById('dataForm');
    data = $(form).serializeObject();
    if (typeof postDataHandler === 'function') postDataHandler.call(this, data);
    data.pageNumber = pageNumber;
    data.indexPage = pageNumber;
    data.pageSize = pageSize;
    data.countPage = pageSize;
    return data;
  }
};
Paginate.getPagi_liPre = function (parentUl) {
  var li_pre = document.createElement('li');
  li_pre.setAttribute('class', 'function');
  parentUl.appendChild(li_pre);
  var link_pre = document.createElement('a');
  li_pre.appendChild(link_pre);
  var span_pre = document.createElement('span');
  span_pre.setAttribute('uk-pagination-previous', '');
  link_pre.appendChild(span_pre);
  return link_pre;
};
Paginate.getPagi_liNext = function (parentUl) {
  var li_nex = document.createElement('li');
  li_nex.setAttribute('class', 'function');
  parentUl.appendChild(li_nex);
  var link_nex = document.createElement('a');
  li_nex.appendChild(link_nex);
  var span_nex = document.createElement('span');
  span_nex.setAttribute('uk-pagination-next', '');
  link_nex.appendChild(span_nex);
  return link_nex;
};
Paginate.getPagi_liActive = function (innerText) {
  var li = document.createElement('li');
  var span = document.createElement('span');
  span.innerText = innerText;
  li.setAttribute('class', 'uk-active');
  li.appendChild(span);
  return li;
};
Paginate.getPagi_liNormal = function (innerText) {
  var li = document.createElement('li');
  var link = document.createElement('a');
  link.innerText = innerText;
  li.appendChild(link);
  return {
    li: li,
    link: link
  };
};
Paginate.getPagi_hidePage = function (showNumber, parentNode, pageNumber, totalPage) {
  var showPages = showNumber;
  var liArr = parentNode.querySelectorAll('li:not(.function)');
  var li;
  if (Number(pageNumber) > showPages + 2) {
    for (var i = 1; i < Number(pageNumber) - showPages - 1; i++) {
      liArr[i].style.display = 'none';
    }
    li = this.getPagi_liActive('...');
    parentNode.insertBefore(li, liArr[1]);
  }
  if (totalPage - pageNumber > showPages + 1) {
    for (var _i = Number(pageNumber) + showPages; _i < totalPage - 1; _i++) {
      liArr[_i].style.display = 'none';
    }
    li = this.getPagi_liActive('...');
    parentNode.insertBefore(li, liArr[totalPage - 1]);
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js":
/*!****************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\QueryDict.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fn_queryDict)
/* harmony export */ });
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");

function QueryDict() {
  this.api = document.querySelector('input[name=dict_api]').value;
}
QueryDict.prototype.query = function (name, cb) {
  // console.log(this.api, JSON.stringify({type: name}))
  $.ajax({
    url: this.api,
    data: JSON.stringify({
      type: name
    }),
    success: cb
  });
};
function fn_queryDict(name, cb) {
  var qd = new QueryDict();
  try {
    qd.query(name, cb);
  } catch (err) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(err);
  }
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js":
/*!*******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\StationPages.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sta_table": () => (/* binding */ Sta_table),
/* harmony export */   "initStation_baseData": () => (/* binding */ initStation_baseData),
/* harmony export */   "initStation_billMangement_queryBills": () => (/* binding */ initStation_billMangement_queryBills),
/* harmony export */   "initStation_billsSetting": () => (/* binding */ initStation_billsSetting),
/* harmony export */   "initStation_billsSetting_addRule": () => (/* binding */ initStation_billsSetting_addRule),
/* harmony export */   "initStation_getAllDiscountPolicy": () => (/* binding */ initStation_getAllDiscountPolicy),
/* harmony export */   "initStation_getStationAllConsumer": () => (/* binding */ initStation_getStationAllConsumer),
/* harmony export */   "initStation_stationQueryBillDetails_new": () => (/* binding */ initStation_stationQueryBillDetails_new),
/* harmony export */   "initStation_stationQueryBill_new": () => (/* binding */ initStation_stationQueryBill_new)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js");
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _FormValidate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./FormValidate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\FormValidate.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
















var role = getRole();
function getRole() {
  try {
    return document.getElementById('userType').value;
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
    return;
  }
}
function initStation_baseData() {
  // var form = document.getElementById('dataForm');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    dateFmt: 'yyyy年MM月',
    // minDate: '{%y-1}-{%M+9}-%d',
    maxDate: 'today'
  });
  entry(); // 异步函数调用入口
  function entry() {
    fetchExpImp();
  }
  function fetchDictErrHandler(res) {
    if (res.data === undefined) throw new Error('远程数据非法: 字典接口返回值未定义');
    if (!Array.isArray(res.data)) throw new Error('远程数据非法: 字典接口返回值格式错误');
    if (res.data.length < 1) throw new Error('远程数据非法: 字典接口返回值为空值');
  }
  function setOptions(arr, selName) {
    var sel = document.querySelector('select[name=' + selName + ']');
    if (!sel) return;
    for (var i = 0; i < arr.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', arr[i].key);
      op.innerText = arr[i].value;
      sel.appendChild(op);
    }
  }
  function fetchExpImp() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('EXP_IMP', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'expImp');
        fetchDomInt();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchDomInt() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('DOM_INT', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'domInt');
        fetchPayMode();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchPayMode() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('PAY_MODE', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'payMode');
        if (role === 'system') {
          initPage();
          return;
        }
        fetchEffectiveBillRules();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchEffectiveBillRules() {
    var api = document.querySelector('input[name=api_queryEffectiveBillRule');
    var url = api.value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createEffectiveBillRules);
  }
  function createEffectiveBillRules(res) {
    var data = res.data || res.date;
    try {
      if (data === undefined) throw new Error('远程数据格式非法: 没有data属性');
      if (!Array.isArray(data)) throw new Error('远程数据格式非法: data属性不是数组');
      if (data.length < 1) throw new Error('没有已生效的账单规则(此功能可选)');
    } catch (err) {
      // Glob_fn.errorHandler(err, initPage); // 显示异常
      initPage(); // 不处理异常
    }

    for (var i = 0; i < data.length; i++) {
      createBillRuleButtons(data[i]);
    }
    try {
      renderEffectiveBillRules();
      initPage();
    } catch (error) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
      return;
    }
    function createBillRuleButtons(data) {
      var rule = data.billRule ? data.billRule : 'NULL';
      var desc = data.billRuleDesc ? data.billRuleDesc : 'NULL';
      var id = data.billRuleId ? data.billRuleId : 'NULL';
      var name = data.billRuleName ? data.billRuleName : 'NULL';
      var position = document.getElementById('ruleSetsWrap');
      var wrap = document.createElement('div');
      position.appendChild(wrap);
      wrap.appendChild(getLabel());
      wrap.appendChild(getDrop());
      function getLabel() {
        var label = document.createElement('label');
        label.setAttribute('class', 'void button');
        label.innerText = name;
        var input = document.createElement('input');
        label.appendChild(input);
        input.setAttribute('type', 'radio');
        input.setAttribute('name', 'billRule');
        input.setAttribute('hidden', '');
        input.setAttribute('value', rule);
        input.setAttribute('id', id);
        return label;
      }
      function getDrop() {
        var drop = document.createElement('div');
        drop.setAttribute('uk-drop', 'delay-hide:0');
        var cardFrame = document.createElement('div');
        drop.appendChild(cardFrame);
        cardFrame.setAttribute('class', 'uk-card uk-card-small uk-card-default');
        cardFrame.appendChild(getCardHeader());
        cardFrame.appendChild(getCardBody());
        return drop;
        function getCardHeader() {
          var header = document.createElement('div');
          header.setAttribute('class', 'uk-card-header');
          var title = document.createElement('div');
          title.setAttribute('class', 'uk-card-title');
          header.appendChild(title);
          var h = document.createElement('h5');
          title.appendChild(h);
          h.innerText = name;
          return header;
        }
        function getCardBody() {
          var div = document.createElement('div');
          div.setAttribute('class', 'uk-card-body uk-container uk-container-xsmall');
          if (desc === 'NULL') {
            div.innerText = '无数据';
          }
          try {
            var array = [];
            if (desc.indexOf(',') !== -1) array = desc.split(',');else if (desc.indexOf('，') !== -1) array = desc.split('，');
            if (array.length < 1) div.innerText('无数据');
            for (var j = 0; j < array.length; j++) {
              var span = document.createElement('span');
              span.setAttribute('class', 'uk-label uk-margin-small-bottom uk-margin-small-right');
              span.innerText = $.trim(array[j]);
              div.appendChild(span);
            }
          } catch (error) {
            div.innerText = error;
          }
          return div;
        }
      }
    }
  }
  function renderEffectiveBillRules() {
    var ruleSetsWrapDiv = document.getElementById('ruleSetsWrap');
    var ruleRadios = ruleSetsWrapDiv.querySelectorAll('input[type=radio]');
    var ruleLabels = ruleSetsWrapDiv.querySelectorAll('label');
    // Bind radios:
    for (var i = 0; i < ruleRadios.length; i++) {
      var radio = ruleRadios[i];
      var func = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio;
      func.initActiveLabel(radio);
      radio.addEventListener('change', func.setBindingLabels(ruleRadios));
      radio.addEventListener('click', function (event) {
        event.stopPropagation(); // 阻止事件上升到label
      });
    }
    // Bind labels: 
    for (var _i = 1; _i < ruleLabels.length; _i++) {
      var label = ruleLabels[_i];
      label.addEventListener('mousedown', function (event) {
        event.preventDefault(); // 抵消drop控件副作用
      });
    }
    // Bind reset button:
    var resetBtn = document.querySelector('input[type=reset]');
    var defaultRadio = ruleRadios[0];
    resetBtn.addEventListener('click', function () {
      defaultRadio.click(); // 重置为全部
    });
  }

  function initPage() {
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryOriginalWaybill, function (data) {
      if (data.billRule === '') data.billRule = null;
    }, {
      timeout: 20000
    });
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
  }
}
function initStation_billMangement_queryBills() {
  // var form = document.getElementById('dataForm');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    dateFmt: 'yyyy年MM月',
    // minDate: '{%y-3}-%M-%d',
    maxDate: 'today',
    realDateFmt: 'yyyyMM'
  });
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_querySumBillByRule);
}
function initStation_stationQueryBill_new() {
  if (role === 'agent') {
    initPage();
  } else {
    initNewPage();
  }
  function initPage() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
      dateFmt: 'yyyy年MM月',
      minDate: '{%y-3}-%M-%d',
      maxDate: 'today',
      realDateFmt: 'yyyyMM'
    });
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
  }
  function initNewPage() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setPostLink(document.querySelectorAll('.postDataLink'), _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
    if (role === 'system') return;
    if (role === 'station') setMultiPushButton();
    function setMultiPushButton() {
      var multiBtn = document.getElementById('multiBtn');
      multiBtn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_stationBillPush]').value;
        var chb = document.querySelectorAll('.cb_child');
        var list = [];
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.addCheckedToList(chb, list);
        if (list.length == 0) {
          UIkit.modal.alert('请选择至少一项');
          return;
        }
        var postData = {
          orderNoList: list
        };
        // console.log(url, postData);
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_stationBillPush)(url, postData);
      });
    }
  }
}
function initStation_stationQueryBillDetails_new() {
  if (role === 'agent') {
    initThisPage();
    return;
  }
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('OPEDEPART', function (res) {
    if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setOpedepartId(res);
    initThisPage();
  });
  function initThisPage() {
    if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setPostLink(document.querySelectorAll('.postDataLink'), _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
    // bind submit button:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 5, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryDetails_new);
    // bind export button:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
  }
}
function initStation_getStationAllConsumer() {
  // bind submit button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getStationAllConsumer);
  // bind export button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);

  // 初始化Listbox：
  var showListBox = document.querySelector('#discountSetting'); // userInfo
  if (showListBox) {
    (0,_Listbox__WEBPACK_IMPORTED_MODULE_12__.initListBox)();
  }
  // 优惠设置提交按钮绑定：
  var listBoxSubmitButton = document.querySelector('#fn_discSettle');
  listBoxSubmitButton.addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=api_forDiscSettle]').value;
    var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_12__.Listbox();
    var data = listbox.postData_discountName();
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_addDiscountCustomer)(url, data);
  });
}
function initStation_getAllDiscountPolicy() {
  // get select options:
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('DISCOUNT_TYPE', function (res) {
    // set options:
    if (!res.data || res.data.length < 1) {
      throw new Error('字典接口错误');
    }
    var DISCOUNT_TYPE = res.data;
    var form = document.getElementById('dataForm');
    var selectType = form.querySelector('select[name=discountType]');
    var op0 = document.createElement('option');
    op0.value = 'TYPE';
    op0.innerText = '全部';
    selectType.appendChild(op0);
    for (var i = 0; i < DISCOUNT_TYPE.length; i++) {
      var op = document.createElement('option');
      for (var key in DISCOUNT_TYPE[i]) {
        if (key == 'value') {
          op.innerText = DISCOUNT_TYPE[i][key];
        }
        if (key == 'key') {
          op.setAttribute('value', DISCOUNT_TYPE[i][key]);
        }
        op.setAttribute('data-' + key, DISCOUNT_TYPE[i][key]);
        selectType.appendChild(op);
      }
    }

    // init Wdate:
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('setStartTime', 'setEndTime');

    // bind submit:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getAllDiscountPolicy);

    // bind add new:
    var newBtn = document.querySelector('#toDiscountPolicies');
    newBtn.addEventListener('click', function (event) {
      event.preventDefault();
      window.location.href = 'discountPolicies';
    });
  });
}
function initStation_billsSetting() {
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    // dateFmt: 'yyyy年MM月',
    // minDate: '{%y-1}-{%M+9}-%d',
    // maxDate: 'today',
  });
  // Bind Add rule Button:
  bindAddRuleBtn();
  function bindAddRuleBtn() {
    var btn = document.getElementById('addRule');
    btn.addEventListener('click', function (event) {
      event.preventDefault();
      window.location.href = 'billsSetting/addRule';
    });
  }
  // Bind Submit:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBillRuleByPage);
}
function initStation_billsSetting_addRule() {
  var form = document.getElementById('dataForm');
  var vld = new _FormValidate__WEBPACK_IMPORTED_MODULE_13__["default"]();
  var validator = vld.validator();
  // fetch data:
  fetchBillRule();
  function fetchBillRule( /*data*/
  ) {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('BILL_RULE', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        if (res.data === undefined) throw new Error('远程数据非法: 数据没有data属性');
        if (!Array.isArray(res.data)) throw new Error('远程数据非法: data属性不是数组');
        if (res.data.length != 1) throw new Error('远程数据非法: data数组长度不为1');
        if (!_Global__WEBPACK_IMPORTED_MODULE_10__["default"].isJSON(res.data[0].value)) throw new Error('远程数据非法: 数据不是JSON格式');
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
      showValueFrom(JSON.parse(res.data[0].value));
      initPage();
    });
  }
  function showValueFrom(fetchValue) {
    if (!Array.isArray(fetchValue)) throw new Error('远程数据非法: JSON数据不是数组');
    if (fetchValue.length < 1) throw new Error('无规则可选');
    var radiosHeading = document.getElementById('radiosHeading');
    var checkboxesHeading = document.getElementById('checkboxesHeading');
    var checkAllWrap = document.getElementById('checkAllWrap');
    var checkboxesCount = 0;
    for (var i = 0; i < fetchValue.length; i++) {
      var ruleProps = fetchValue[i];
      if (ruleProps.checkBox) {
        if (checkboxesHeading.hasAttribute('hidden')) {
          checkboxesHeading.removeAttribute('hidden');
        }
        checkboxesCount++;
      } else {
        if (radiosHeading.hasAttribute('hidden')) {
          radiosHeading.removeAttribute('hidden');
        }
      }
      setRule(ruleProps);
    }
    if (checkboxesCount > 1 && checkAllWrap.hasAttribute('hidden')) {
      checkAllWrap.removeAttribute('hidden');
    }
    function setRule(data) {
      try {
        console.log(data);
        var name = data.name ? data.name : 'NULL';
        var type = data.type ? data.type : 'NULL';
        var wrap = data.checkBox ? document.getElementById('checkboxesWrap') : document.getElementById('radiosWrap');
        var frame = getFrame(data);
        wrap.appendChild(frame);
        var label = getLabel(name);
        var contentDiv = getContentDiv();
        frame.appendChild(label);
        frame.appendChild(contentDiv);
        if (!Array.isArray(data.content)) throw new Error('远程数据非法: content不是数组');
        if (data.content.length < 1) throw new Error(data.name + '类型下无数据');
        for (var j = 0; j < data.content.length; j++) {
          var key = data.content[j].key ? data.content[j].key : '';
          var value = data.content[j].value ? data.content[j].value : 'NULL';
          var content = getContent(key, value);
          contentDiv.appendChild(content);
        }
        return;
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
      function getFrame(data) {
        var frame = document.createElement('div');
        frame.setAttribute('class', 'uk-margin');
        if (!data.checkBox) frame.classList.add('radioWrap');
        return frame;
      }
      function getLabel(name) {
        var label = document.createElement('label');
        label.setAttribute('class', 'uk-form-label');
        label.setAttribute('data-ruleType', type);
        label.setAttribute('data-ruleName', name);
        label.innerText = name;
        return label;
      }
      function getContentDiv() {
        var contentWrap = document.createElement('div');
        contentWrap.setAttribute('class', 'uk-form-controls uk-grid-small');
        contentWrap.setAttribute('uk-grid', '');
        return contentWrap;
      }
      function getContent(key, value) {
        var div = document.createElement('div');
        var label = document.createElement('label');
        label.setAttribute('class', 'void button');
        div.appendChild(label);
        var input = document.createElement('input');
        input.setAttribute('type', data.checkBox ? 'checkbox' : 'radio');
        input.setAttribute('class', data.checkBox ? 'linkLabel' : '');
        input.setAttribute('name', type);
        input.setAttribute('hidden', '');
        input.setAttribute('value', key);
        input.setAttribute('data-ruleDesc', value);
        if (input.getAttribute('type') === 'radio' && input.value === 'MP') input.setAttribute('checked', '');
        label.appendChild(input);
        var span = document.createElement('span');
        span.innerText = value;
        label.appendChild(span);
        return div;
      }
    }
  }
  function initPage() {
    // set default input:
    document.querySelectorAll('.radioWrap').forEach(function (div) {
      div.querySelectorAll('input[type="radio"]').forEach(function (input, index) {
        if (input.name !== 'PAY_MODE' && index === 0) {
          input.setAttribute('checked', '');
        }
      });
    });
    // vld: bindItems:
    validator.bindFormItems();
    // UI: Bind Radios:
    bindAllRadios();
    function bindAllRadios() {
      var wraps = form.querySelectorAll('.radioWrap');
      if (wraps.length < 1) {
        throw new Error('没有定义div.radioWrap');
      }
      for (var j = 0; j < wraps.length; j++) {
        var wrap = wraps[j];
        bindRadios(wrap);
      }
      function bindRadios(wrap) {
        var radios = wrap.querySelectorAll('input[type=radio]');
        if (radios.length < 1) {
          return;
        }
        for (var i = 0; i < radios.length; i++) {
          var radio = radios[i];
          var func = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio;
          func.initActiveLabel(radio);
          radio.addEventListener('change', func.setBindingLabels(radios));
        }
      }
    }
    // UI: Checkboxes:
    checkboxes();
    function checkboxes() {
      var cbx_all = document.getElementById('checkAllRules');
      var cbxs = form.querySelectorAll('input[type=checkbox].linkLabel');
      // UI: checkbox绑定样式:
      cbxLinkLabel();
      function cbxLinkLabel() {
        if (cbxs.length < 1) {
          return;
        }
        for (var i = 0; i < cbxs.length; i++) {
          var cbx = cbxs[i];
          cbx.addEventListener('change', function () {
            changeStyle(this);
            if (cbx_all.checked) {
              cbx_all.checked = false;
            }
          });
        }
      }
      // UI: 全选功能实现:
      complyCheckAll();
      function complyCheckAll() {
        if (!cbx_all) {
          return;
        }
        if (cbxs.length < 1) {
          return;
        }
        cbx_all.addEventListener('change', function () {
          if (this.checked) {
            // 全选
            setAllChecked(cbxs, true);
          } else {
            // 全不选
            setAllChecked(cbxs, false);
          }
        });
        function setAllChecked(checkboxes, boo) {
          if (!checkboxes || checkboxes.length < 1) {
            throw new Error('没有找到将要对应的checkbox');
          }
          for (var i = 0; i < checkboxes.length; i++) {
            var checkbox = checkboxes[i];
            if (boo && checkbox.checked) {
              // 不处理
            } else {
              checkbox.checked = boo;
              changeStyle(checkbox);
            }
          }
        }
      }
      // UI: checkbox按钮样式规则:
      function changeStyle(checkbox) {
        var labClasses = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio.getBindingLabel(checkbox).classList;
        if (labClasses.contains('newMonth')) {
          labClasses.toggle('button-highlight');
          labClasses.toggle('uk-text-warning');
        } else {
          labClasses.toggle('button-primary');
        }
      }
    }
    // Submit Binding:
    submitAddRule();
    function submitAddRule() {
      var btn = document.getElementById('createBill');
      var url = document.querySelector('input[name=url_station_billSetting]').value;
      var not = "<span id='notification' uk-icon='icon: check'></span> 提交成功";
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        if (!validator.submitBoo()) {
          return;
        }
        UIkit.modal.confirm('确定提交信息并生成账单规则?').then(function () {
          try {
            var postData = getPostData();
            var postUrl = document.querySelector('input[name=api_stationCreateBillRule]').value;
            // console.log(postData);
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(postUrl, postData, successCallback);
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      });
      function getPostData() {
        return JSON.stringify({
          billRuleName: getName(),
          billRule: getRule().rule,
          billRuleDesc: getRule().desc
        });
      }
      function getName() {
        var name = document.getElementById('billName').value;
        if (!name) throw new Error('表单错误: 请重新填写账单规则名称');
        return name;
      }
      function getRule() {
        try {
          var rs = document.getElementById('radiosWrap').querySelectorAll('input[type=radio]');
          var cs = document.getElementById('checkboxesWrap').querySelectorAll('input[type=checkbox]');
          var checkedInputs = getCheckedInputs();
          if (checkedInputs.length < 1) throw new Error('表单错误: 未选择规则');
          var rulesInfo = getRulesInfo(checkedInputs);
          return {
            rule: getResults(rulesInfo).rule,
            desc: getResults(rulesInfo).desc
          };
        } catch (error) {
          throw new Error(error);
        }
        function getCheckedInputs() {
          var array = [];
          putCheckedInpIn(rs, array);
          putCheckedInpIn(cs, array);
          return array;
        }
        function putCheckedInpIn(inputs, array) {
          for (var i = 0; i < inputs.length; i++) {
            if (inputs[i].checked) array.push(inputs[i]);
          }
        }
        function getRulesInfo(inputs) {
          var array = [];
          for (var i = 0; i < inputs.length; i++) {
            var inp = inputs[i];
            array.push({
              name: inp.name,
              value: inp.value,
              desc: inp.getAttribute('data-ruleDesc')
            });
          }
          return array;
        }
        function getResults(rawArray) {
          var result = {};
          var desc = [];
          var tmpName = '';
          for (var i = 0; i < rawArray.length; i++) {
            if (rawArray[i].name === tmpName) {
              result[rawArray[i].name].push(rawArray[i].value);
            } else {
              result[rawArray[i].name] = [rawArray[i].value];
              tmpName = rawArray[i].name;
            }
            desc.push(rawArray[i].desc);
          }
          return {
            rule: JSON.stringify(result),
            desc: parseDesc(desc)
          };
          function parseDesc(array) {
            var result = '';
            for (var i = 0; i < array.length; i++) {
              result += array[i].toString();
              if (i < array.length - 1) result += ', ';
            }
            return result;
          }
        }
      }
      function successCallback() {
        // alert(JSON.stringify(res))
        UIkit.notification(not, {
          status: 'success',
          timeout: 1000
        });
        UIkit.util.on('.uk-notification', 'close', function () {
          window.location.href = url;
        });
      }
    }
  }
}
function Sta_table() {}
// 生成基础数据展示表格（新需求）:
Sta_table.prototype.getTable_queryOriginalWaybill = function (res, pageNumber, pageSize) {
  getFeeItem();
  function getFeeItem() {
    var url = document.querySelector('input[name=api_queryFeeItem]').value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createTable);
  }
  function createTable(feeItems) {
    try {
      var table = document.getElementById('dataTable');
      if (!feeItems.data) throw new Error('远程数据非法: 费用列表项未定义');
      var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
      setCaption(res.data);
      setThead(feeItems.data);
      setTbody(res, feeItems.data);
      (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryOriginalWaybill, function (data) {
        if (data.billRule === '') data.billRule = null;
      });
    } catch (error) {
      throw new Error(error);
    }
    function setCaption(data) {
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.setAttribute('hidden', '');
      if (data.totalCount !== undefined) {
        caption.querySelector('span.totalCount').innerText = data.totalCount;
        caption.removeAttribute('hidden');
      }
    }
    function setThead(data) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '费用记录号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单前缀');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '品名');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '始发站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '目的站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '航班号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '件数');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildAjaxTitle(data, trInThead);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
    }
    function setTbody(rawData, ajaxTitle) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '');
      tbody.innerHTML = '';
      var data = rawData.data.feeList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        var tdSerial = document.createElement('td');
        tr.appendChild(tdSerial);
        tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeRecId);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockPre);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockNo);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].cargoNm);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].sAirportDsc);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].eAirportDsc);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].flight);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].pcs);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].weight);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeWt);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].crtopeTimeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartId);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartStr);
        var feeIdArr = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleValue(ajaxTitle, 'feeId');
        var ajaxData = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData(null, feeIdArr, JSON.parse(data[i].feeItemList));
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(ajaxData, tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
        // Glob_fn.Table.trHideSome(tr);
      }
    }
  }
};
// 生成账单汇总查询表格（新需求）:
Sta_table.prototype.getTable_querySumBillByRule = function (res, pageNumber, pageSize) {
  try {
    createTable(res);
  } catch (error) {
    throw new Error(error);
  }
  function createTable(res) {
    var table = document.getElementById('dataTable');
    if (!res.data) throw new Error('远程数据非法: data未定义');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    setThead();
    setTbody(res);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_querySumBillByRule);
    function setThead() {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
    }
    function setTbody(res) {
      var tbody = table.querySelector('tbody');
      tbody.innerHTML = '';
      var data = res.data.billList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].accountOpeningTime);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderTime);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].costCenter);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFee);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getLink(data[i].billRuleId));
      }
      function getLink(id) {
        if (id === undefined) throw new Error('远程数据非法: summaryList.billRule未定义');
        var link = document.createElement('a');
        link.innerText = '查看账单';
        link.setAttribute('data-billRuleId', id);
        link.setAttribute('uk-tooltip', '点击查看');
        link.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=url_forNext]').value + '/' + id;
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].submVirtForm(url, _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
        });
        return link;
      }
    }
  }
};
// 账单查看主表(新需求)：
Sta_table.prototype.getTable_queryBill_new = function (res, pageNumber, pageSize) {
  try {
    createTable(res);
  } catch (error) {
    throw new Error(error);
  }
  function createTable(res) {
    var table = document.getElementById('dataTable');
    if (!res.data) throw new Error('远程数据非法: data未定义');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    var checkAll = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getCheckbox('all');
    trInThead = role === 'agent' ? setAgentThead() : setThead();
    // getCaptionData();
    setTbody(res);
    if (role === 'station') setCheckAll(checkAll);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
    function getCaptionData() {
      var inp = document.querySelector('input[name=api_queryBillSum]');
      if (!inp) return;
      var url = inp.value;
      if (!url) return;
      var postData = JSON.stringify($(document.getElementById('dataForm')).serializeObject());
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, setCaption);
    }
    function setCaption(res) {
      var data = res.data;
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.querySelector('span.totalFee').innerText = data.totalAmount ? data.totalAmount : '无数据';
      caption.querySelector('span.realTotalFee').innerText = data.preferentialTotalAmount ? data.preferentialTotalAmount : '无数据';
      caption.querySelector('span.totalWeight').innerText = data.totalWeight ? data.totalWeight : '无数据';
      caption.removeAttribute('hidden');
    }
    function setThead() {
      if (role === 'station') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, checkAll);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型', false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '总金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '平台订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '交易流水号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算客户编码');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算客户名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, 'bindingStatus', false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
      return trInThead;
    }
    function setAgentThead() {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '平台订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '总金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠后金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '付款状态');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '支付订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
      return trInThead;
    }
    function setTbody(res) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '400');
      tbody.innerHTML = '';
      var data = res.data.summaryList;
      if (data === undefined) throw new Error('远程数据非法: data.summaryList未定义');
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        if (role === 'station') {
          var tdCheckbox = document.createElement('td');
          tr.appendChild(tdCheckbox);
          var checkbox = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getCheckbox();
          checkbox.querySelector('input').setAttribute('data-checked', data[i].orderNo);
        }
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].createTimeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderTime);
        if (role === 'agent') {
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].realTotalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].payNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getAgentLinks(data[i]));
        } else {
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type, false);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].realTotalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].costCenter);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].payNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].customerId);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].customerName);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].bindingStatus, false);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getLinks(data[i]));
        }
        // Glob_fn.Table.trHideSome(tr);
      }

      return tbody;
      function getLinks(data) {
        var orderNo = data.orderNo;
        if (orderNo === undefined) throw new Error('远程数据非法: orderNo未定义');
        var links = [];
        links.push(getDetailLink());
        if (role === 'station') {
          var pushlink = getPushLink();
          if (pushlink) links.push(getPushLink());
        }
        return links;
        function getDetailLink() {
          var link = document.createElement('a');
          link.innerText = '查看详情';
          link.setAttribute('data-orderNo', orderNo);
          var url = document.querySelector('input[name=url_forQueryDetails]').value + '/' + orderNo;
          var postData = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime();
          if (role === 'station') postData.modify = Number(data.status) === 0 && Number(data.confirm) === 0;
          link.addEventListener('click', function (event) {
            event.preventDefault();
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].submVirtForm(url, postData);
          });
          return link;
        }
        function getPushLink() {
          if (Number(data.confirm) !== 0) return false;
          if (checkAll.querySelector('input').getAttribute('disabled') === '') {
            checkAll.querySelector('input').removeAttribute('disabled');
          }
          tdCheckbox.appendChild(checkbox);
          var pushlink = document.createElement('a');
          pushlink.innerText = '推送';
          pushlink.setAttribute('class', 'uk-margin-small-left');
          pushlink.setAttribute('data-orderNo', orderNo);
          pushlink.addEventListener('click', function (event) {
            event.preventDefault();
            var url = document.querySelector('input[name=api_stationBillPush]').value;
            var orderNo = this.getAttribute('data-orderNo');
            var orderNoList = [];
            orderNoList.push(orderNo);
            var data = {
              orderNoList: orderNoList
            };
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_stationBillPush)(url, data);
          });
          return pushlink;
        }
      }
      function getAgentLinks(data) {
        var result = [];
        var detailLink = document.createElement('a');
        detailLink.innerText = '查看详情';
        detailLink.setAttribute('href', document.querySelector('input[name=url_forNext]').value + '/' + data.orderNo);
        result.push(detailLink);
        if (Number(data.status) === 2) return result; // 已支付
        var payLink = document.createElement('a');
        payLink.setAttribute('class', 'uk-margin-small-left');
        payLink.innerText = '付款';
        payLink.setAttribute('data-orderNo', data.orderNo);
        payLink.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=api_pay]').value;
          var pageUrl = document.querySelector('input[name=pageUrl]').value;
          var orderNo = this.getAttribute('data-orderNo');
          var data = {
            orderNo: orderNo,
            pageUrl: pageUrl
          };
          // console.info(url, data)
          // debugger
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_age_toPay)(url, data);
        });
        result.push(payLink);
        return result;
      }
    }
    function setCheckAll(checkAll) {
      checkAll.addEventListener('click', function () {
        // var children = document.querySelector('input.cb_child');
        if (this.querySelector('input').checked) setChildren(true);else setChildren(false);
      });
      function setChildren(status) {
        var children = document.querySelectorAll('input.cb_child');
        for (var i = 0; i < children.length; i++) {
          if (children[i].checked === !status) children[i].click();
        }
      }
    }
  }
};
// 账单明细主表(新需求)：
Sta_table.prototype.getTable_queryDetails_new = function (res, pageNumber, pageSize) {
  getFeeItem();
  function getFeeItem() {
    var url = document.querySelector('input[name=api_queryFeeItem]').value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createTable);
  }
  function createTable(feeItems) {
    try {
      var table = document.getElementById('dataTable');
      if (!feeItems.data) throw new Error('远程数据非法: 费用列表项未定义');
      var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
      getCaptionData();
      setThead(feeItems.data);
      setTbody(res, feeItems.data);
      (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryDetails_new);
    } catch (error) {
      throw new Error(error);
    }
    function getCaptionData() {
      var inp = document.querySelector('input[name=api_queryBillDetailsSum]');
      if (!inp) return;
      var url = inp.value;
      if (!url) return;
      var postData = JSON.stringify($(document.getElementById('dataForm')).serializeObject());
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, setCaption);
    }
    function setCaption(res) {
      var data = res.data;
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.querySelector('span.totalCount').innerText = data.totalCount ? data.totalCount : '无数据';
      caption.querySelector('span.totalFee').innerText = data.totalFee ? data.totalFee : '无数据';
      caption.querySelector('span.totalWeight').innerText = data.totalWeight ? data.totalWeight : '无数据';
      caption.querySelector('span.realTotalFee').innerText = data.realTotalFee ? data.realTotalFee : '无数据';
      caption.removeAttribute('hidden');
    }
    function setThead(data) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '费用记录号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单前缀');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '品名');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '始发站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '目的站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '航班号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '件数');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点名称');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildAjaxTitle(data, trInThead);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
    }
    function setTbody(rawData, ajaxTitle) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '');
      tbody.innerHTML = '';
      var data = rawData.data.feeList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        var trAdd = document.createElement('tr');
        tbody.appendChild(trAdd);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeRecId).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockPre).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockNo).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].cargoNm).setAttribute('rowspan', 2);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].sAirportDsc).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].eAirportDsc).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].flight).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].pcs).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].weight).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeWt).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].crtopeTimeStr).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartId).setAttribute('rowspan', 2);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartStr).setAttribute('rowspan', 2);
        var feeIdArr = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleValue(ajaxTitle, 'feeId');
        var l1Data = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData('原始账单', feeIdArr, JSON.parse(data[i].feeItemList));
        var l2Data = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData('开账账单', feeIdArr, JSON.parse(data[i].realFeeItemList));
        if (role === 'station') var line2Object = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleObject(feeIdArr, JSON.parse(data[i].realFeeItemList));
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(l1Data, tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(l2Data, trAdd);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(trAdd, data[i].realTotalFeeStr);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, '-').setAttribute('class', 'uk-text-center');
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(trAdd, getAction(data[i], line2Object));
        // Glob_fn.Table.trHideSome(tr);
      }

      function getAction(data, line2Object) {
        var linkModHis = document.createElement('a');
        linkModHis.innerText = '修改记录';
        linkModHis.setAttribute('data-stockNo', data.stockNo);
        linkModHis.setAttribute('class', 'uk-margin-small-left');
        linkModHis.addEventListener('click', function (event) {
          event.preventDefault();
          var postData = JSON.stringify({
            stockNo: this.getAttribute('data-stockNo')
          });
          var url = document.querySelector('input[name=api_queryModifyLog]').value;
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, createModHis);
        });
        if (role === 'system') return linkModHis;
        if (role === 'station') {
          if (!document.querySelector('input[name=modify]').value) return false;
          var linkmodify = document.createElement('a');
          linkmodify.innerText = '修改';
          linkmodify.setAttribute('data-feeItemList', JSON.stringify(line2Object));
          linkmodify.setAttribute('data-stockNo', data.stockNo);
          linkmodify.setAttribute('data-feeWt', data.feeWt);
          linkmodify.setAttribute('data-totalFeeStr', data.totalFeeStr);
          linkmodify.setAttribute('data-totalFee', data.totalFee);
          linkmodify.addEventListener('click', function (event) {
            event.preventDefault();
            var postData = {
              "stockNo": this.getAttribute('data-stockNo'),
              "totalFee": this.getAttribute('data-totalFee'),
              "totalFeeStr": this.getAttribute('data-totalFeeStr'),
              "feeWt": this.getAttribute('data-feeWt'),
              "feeItemList": this.getAttribute('data-feeItemList')
            };
            var element = fn_getModal(postData, '账单收费项');
            UIkit.modal(element).show();
          });
          return [linkmodify, linkModHis];
        }
      }
    }
  }
  function createModHis(res) {
    var data = res.data;
    if (res.data === undefined) throw new Error('远程数据非法: data未定义');
    if (res.data === null || data.length < 1) {
      UIkit.modal.alert('没有或不可查询该笔订单的修改记录');
      return;
    }
    if (!Array.isArray(res.data)) throw new Error('远程数据非法: data属性不是数组');
    var modal = document.getElementById('modifiedHistory');
    var table = document.getElementById('modifiedHistoryTable');
    var thead = table.querySelector('thead');
    thead.innerHTML = '';
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户名');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '修改时间');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '备注');
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    for (var i = 0; i < res.data.length; i++) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].createName);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].createTime);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].remark);
    }
    UIkit.modal(modal).show();
  }
};
// 生成账单规则汇总表格（新需求）:
Sta_table.prototype.getTable_queryBillRuleByPage = function (res, pageNumber, pageSize) {
  try {
    var table = document.querySelector('#dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    createThead();
    createTbody();
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBillRuleByPage);
  } catch (error) {
    throw new Error(error);
  }
  function createThead() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单ID', false);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '营业点');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地区');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '进/出港类型');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单类型');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '是否为快件');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户名');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态码', false);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '设置时间');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  }
  function createTbody() {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data.queryBillRuleList;
    if (!data || data.length < 1) {
      var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    for (var i = 0; i < data.length; i++) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      var tdSerial = document.createElement('td');
      tr.appendChild(tdSerial);
      tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleId, false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
      setTdFromArray(tr, data[i].billRule, 'OPEDEPART');
      setTdFromArray(tr, data[i].billRule, 'DOM_INT');
      setTdFromArray(tr, data[i].billRule, 'EXP_IMP');
      setTdFromArray(tr, data[i].billRule, 'TRANSFER_TYPE');
      setTdFromArray(tr, data[i].billRule, 'EXP_MAIL');
      setTdFromArray(tr, data[i].billRule, 'COST_C');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].createName);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].status, false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].setTime);
      tr.appendChild(getTdAction(data[i].billRuleId));
    }
    function setTdFromArray(parentTr, array, name, showBoo) {
      var show = showBoo === undefined ? true : showBoo;
      var td = document.createElement('td');
      parentTr.appendChild(td);
      td.innerText = getValue().text;
      td.setAttribute('data-billRuleType', getValue().type);
      if (!show) td.setAttribute('hidden', '');
      return td;
      function getValue() {
        if (!Array.isArray(array)) throw new Error('billRule属性不是数组');
        var text = '-';
        var ruleType = '';
        for (var j = 0; j < array.length; j++) {
          var type = array[j].type;
          if (type === name) {
            text = array[j].content ? array[j].content : text;
            ruleType = type;
          }
        }
        return {
          text: text,
          type: ruleType
        };
      }
    }
    function getTdAction(billRuleId) {
      var td = document.createElement('td');
      td.setAttribute('class', 'uk-table-link');
      var deleteLink = document.createElement('a');
      td.appendChild(deleteLink);
      deleteLink.setAttribute('class', 'deleteTr');
      deleteLink.setAttribute('title', '删除此账单');
      deleteLink.setAttribute('data-billRuleId', billRuleId);
      deleteLink.innerText = '删除';
      deleteLink.addEventListener('click', function (event) {
        event.preventDefault();
        var thisBtn = this;
        UIkit.modal.confirm('删除后不可恢复，确认删除吗？').then(function () {
          try {
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(getUrl(), getPostData(thisBtn), successCallback);
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      });
      return td;
      function getUrl() {
        return document.querySelector('input[name=api_deleteRule]').value;
      }
      function getPostData(trigger) {
        var billRuleId = trigger.getAttribute('data-billRuleId');
        if (billRuleId === undefined) throw new Error('billRuleId未定义');
        return JSON.stringify({
          'billRuleId': billRuleId
        });
      }
      function successCallback() {
        UIkit.modal.alert('删除成功').then(function () {
          try {
            document.getElementById('submitBtn').click();
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      }
    }
  }
};
// 用户管理主表：
Sta_table.prototype.getTable_getStationAllConsumer = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '客户代码');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运公司全称');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算方式');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.consumerList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    tbody.appendChild(tr);
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var linkSet = document.createElement('a');
    var linkShow = document.createElement('a');
    for (var key in data[i]) {
      if (key == 'customerId') {
        td1.innerText = data[i][key] === null ? '-' : data[i][key];
        linkSet.setAttribute('data-' + key, data[i][key]);
        linkShow.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'customerNameChn') td2.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'statusDesc') td3.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'canYesDesc') td4.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'feeWayDesc') td5.innerText = data[i][key] === null ? '-' : data[i][key];
    }
    var list = data[i];
    // 如果现结或未注册：
    if (list.feeWayId == 'CS' || list.status == '0') {
      td6.innerText = '-';
    } else if (list.feeWayId != 'CS') {
      // 如果是非现结
      if (list.canYes == '0') {
        // 且在使用中
        linkSet.innerText = '优惠设置';
        td6.appendChild(linkSet);
        linkSet.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=api_forDiscSet]').value;
          var customerId = this.getAttribute('data-customerId');
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_queryDiscountPolicy)(url, customerId);
        });
      }
      linkShow.innerText = '优惠政策查看';
      linkShow.setAttribute('class', 'uk-margin-small-left');
      linkShow.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_forDiscShow]').value;
        var customerId = this.getAttribute('data-customerId');
        var data = {
          customerId: customerId
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_queryDiscountCustomer)(url, data);
      });
      td6.appendChild(linkShow);
    }
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getStationAllConsumer);
};
// 用户优惠查看主表：
Sta_table.prototype.getTable_queryDiscountCustomer = function (res) {
  var tbody = document.createElement('tbody');
  var data = res.data;
  if (data.length < 1 || data === null) {
    var tr0 = document.createElement('tr');
    var td0 = document.createElement('td');
    td0.setAttribute('colspan', '3');
    td0.innerText = '无数据';
    td0.style.textAlign = 'center';
    tr0.appendChild(td0);
    tbody.appendChild(tr0);
    return tbody;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var td1 = document.createElement('td'),
      td2 = document.createElement('td'),
      span1 = document.createElement('span'),
      span2 = document.createElement('span'),
      td3 = document.createElement('td');
    var link = document.createElement('a');
    td3.appendChild(link);
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        td1.setAttribute('data-arg', key);
        td1.innerText = data[i][key];
      } else if (key == 'startTimeStr') {
        span1.setAttribute('data-arg', key);
        span1.innerText = data[i][key];
      } else if (key == 'endTimeStr') {
        span2.setAttribute('data-arg', key);
        span2.innerText = data[i][key];
      } else if (key == 'status') {
        td3.setAttribute('data-arg', key);
        getActionText(data[i][key], link);
      } else if (key == 'discountPolicyId') {
        link.setAttribute('data-' + key, data[i][key]);
      } else if (key == 'customerId') {
        link.setAttribute('data-' + key, data[i][key]);
      } else {
        var td = document.createElement('td');
        td.setAttribute('data-arg', key);
        td.innerText = data[i][key];
        td.style.display = 'none';
        tr.appendChild(td);
      }
    }
    td2.appendChild(span1);
    td2.appendChild(span2);
    tr.appendChild(td1);
    tr.appendChild(td2);
    tr.appendChild(td3);
    link.addEventListener('click', function (event) {
      event.preventDefault();
      var discountPolicyId = this.getAttribute('data-discountPolicyId');
      var customerId = this.getAttribute('data-customerId');
      var status = this.getAttribute('data-status');
      var postData = {
        discountPolicyId: discountPolicyId,
        customerId: customerId,
        status: status
      };
      var url = document.querySelector('input[name=api_forDiscSorS]').value;
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_changeCustomerDiscountStatus)(url, postData);
      var parTd = this.parentNode;
      if (status == '1') {
        parTd.removeChild(this);
        parTd.innerText = '已暂停';
      }
      if (status == '0') {
        parTd.removeChild(this);
        parTd.innerText = '已启用';
      }
    });
    tbody.appendChild(tr);
  }
  return tbody;
  function getActionText(status, link) {
    if (status == '0') {
      // 启用状态，设置暂停
      link.setAttribute('data-status', '1');
      link.innerText = '暂停';
    }
    if (status == '1') {
      // 暂停状态，设置启用
      link.setAttribute('data-status', '0');
      link.innerText = '启用';
    }
  }
};
// 优惠设置页面表格：
Sta_table.prototype.getTable_getAllDiscountPolicy = function (res, pageNumber, pageSize) {
  var table = document.getElementById('dataTable');
  var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠政策名称');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠类型');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '有效期');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '设置时间');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.discountPolicyList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var spanInTd3_1 = document.createElement('span');
    td3.appendChild(spanInTd3_1);
    var spanInTd3_2 = document.createElement('span');
    spanInTd3_2.innerText = '至';
    td3.appendChild(spanInTd3_2);
    var spanInTd3_3 = document.createElement('span');
    td3.appendChild(spanInTd3_3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var toDetailsA = document.createElement('a');
    toDetailsA.innerText = '查看详情';
    toDetailsA.href = location.pathname + '/details/' + data[i].discountPolicyId;
    td6.appendChild(toDetailsA);
    var toggleA = document.createElement('a');
    toggleA.setAttribute('class', 'uk-margin-small-left');
    // var status_changeToThis = '';
    for (var key in data[i]) {
      if (key == 'discountPolicyId') {
        toggleA.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'discountPolicyName') {
        td1.innerText = data[i][key];
      }
      if (key == 'discountTypeDesc') {
        td2.innerText = data[i][key];
        td2.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'startTime') {
        spanInTd3_1.innerText = data[i][key];
      }
      if (key == 'endTime') {
        spanInTd3_3.innerText = data[i][key];
      }
      if (key == 'statusDesc') {
        td4.innerText = data[i][key];
      }
      if (key == 'status') {
        if (data[i][key] == '1') {
          toggleA.innerText = '作废';
          toggleA.setAttribute('data-status', '2');
          td6.appendChild(toggleA);
        }
        if (data[i][key] == '0' || data[i][key] == '2') {
          toggleA.innerText = '启用';
          toggleA.setAttribute('data-status', '1');
          td6.appendChild(toggleA);
        }
      }
      if (key == 'setTime') {
        td5.innerText = data[i][key];
      }
    }
    toggleA.addEventListener('click', function (event) {
      event.preventDefault();
      var link = this;
      var url = document.querySelector('input[name=api_changeDiscountStatus]').value;
      var postData = {
        discountPolicyId: link.getAttribute('data-discountPolicyId'),
        status: link.getAttribute('data-status')
      };
      // console.log(url, postData)
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_changeDiscountStatus)(url, postData);
    });
    tbody.appendChild(tr);
  }
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getAllDiscountPolicy);
};

// 调账模态：
function Modal(data, title, id) {
  this.data = data;
  this.title = title;
  this.id = id ? id : null;
}
Modal.prototype.create = function () {
  var data = this.data,
    titleText = this.title,
    modalId = this.id,
    modal = document.createElement('div'),
    dialog = document.createElement('div'),
    mheader = document.createElement('div'),
    mtitle = document.createElement('h2'),
    mbody = document.createElement('div'),
    mform = document.createElement('form');
  modal.setAttribute('id', modalId);
  modal.setAttribute('uk-modal', '');
  dialog.setAttribute('class', 'uk-modal-dialog');
  mheader.setAttribute('class', 'uk-modal-header');
  mtitle.setAttribute('class', 'uk-modal-title');
  mtitle.innerText = titleText;
  mbody.setAttribute('class', 'uk-modal-body');
  mbody.setAttribute('uk-overflow-auto', '');
  mform.setAttribute('class', 'uk-grid-small');
  mform.setAttribute('uk-grid', '');
  mform.setAttribute('data-stockNo', data.stockNo);
  mheader.appendChild(mtitle);
  var feeItemList = JSON.parse(data.feeItemList);
  // console.log(feeItemList);
  for (var i = 0; i < feeItemList.length; i++) {
    var els = Modal.createInpList(feeItemList[i]);
    for (var j = 0; j < els.length; j++) {
      mform.appendChild(els[j]);
    }
  }
  var totalFeeInput = Modal.getTotalFeeInput(data, 'totalFee', '总金额');
  var descTextarea = Modal.getDescTextarea('description', '备注');
  var buttonSection = Modal.getButtonSection(mform);
  mform.appendChild(totalFeeInput);
  mform.appendChild(descTextarea);
  mform.appendChild(buttonSection);
  Modal.setInpLinks(mform, data.feeWt);
  mbody.appendChild(mform);
  dialog.appendChild(mheader);
  dialog.appendChild(mbody);
  modal.appendChild(dialog);
  return modal;
};
Modal.setInpLinks = function (form, feeWt) {
  var inp_feeItemList = form.querySelectorAll('input[data-feeItemList]'),
    inp_totalfee = form.querySelector('input[name=totalFee]');
  var inp_spec = form.querySelector('input[data-fee=spec]'),
    inp_rate = null;
  if (inp_spec) {
    inp_rate = form.querySelector('input[name=feerate]');
    inp_rate.addEventListener('blur', function (event) {
      event.preventDefault();
      var oldValue = this.value;
      inp_spec.setAttribute('value', getSpecFee(feeWt, oldValue));
      inp_totalfee.setAttribute('value', getTotalFee());
    });
  }
  for (var i = 0; i < inp_feeItemList.length; i++) {
    var list = inp_feeItemList[i];
    if (list.name != 'feerate' && list.getAttribute('data-fee') != 'spec') {
      list.addEventListener('blur', function (event) {
        event.preventDefault();
        inp_totalfee.setAttribute('value', getTotalFee());
      });
    }
  }
  function getTotalFee() {
    var result = 0;
    for (var i = 0; i < inp_feeItemList.length; i++) {
      var list = inp_feeItemList[i];
      if (list.name != 'feerate' || list.getAttribute('data-fee') != 'spec') {
        result += Number(list.value);
      }
    }
    return result;
  }
  function getSpecFee(feeWt, oldValue) {
    var result = 0;
    result = Number(feeWt) * Number(oldValue);
    return Math.round(result);
  }
};
Modal.getPostData = function (form) {
  var postData = {
    stockNo: '',
    totalFee: '',
    feeItemList: [],
    remark: ''
  };
  var feeItemListNode = form.querySelectorAll('input[data-feeItemList]'),
    feerateNode = form.querySelector('input[name=feerate]');
  postData.stockNo = form.getAttribute('data-stockNo');
  postData.totalFee = form.querySelector('input[name=totalFee]').value;
  postData.remark = form.querySelector('textarea[name=description]').value;
  for (var i = 0; i < feeItemListNode.length; i++) {
    var obj = {};
    obj.feeId = feeItemListNode[i].name;
    if (feeItemListNode[i].getAttribute('data-fee') === 'spec') {
      obj.feerate = feerateNode.value;
    }
    obj.fee = feeItemListNode[i].value;
    obj.feeShortNM = feeItemListNode[i].getAttribute('data-feeShortNM');
    postData.feeItemList.push(obj);
  }
  return postData;
};
Modal.getButtonSection = function (form) {
  var mSection = document.createElement('section'),
    mSubmitBtn = document.createElement('button'),
    mCancelBtn = document.createElement('button');
  mSection.setAttribute('class', 'action-buttons');
  mSubmitBtn.setAttribute('class', 'button button-primary button-rounded uk-modal-close');
  mSubmitBtn.innerText = '确定';
  mSubmitBtn.style.marginRight = '5px';
  mSubmitBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=api_stationFeeUpdate]').value;
    var data = Modal.getPostData(form);
    // console.log(url, data);
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_updateFee)(url, data);
  });
  mCancelBtn.setAttribute('class', 'button button-rounded uk-modal-close');
  mCancelBtn.innerText = '取消';
  mSection.appendChild(mSubmitBtn);
  mSection.appendChild(mCancelBtn);
  return mSection;
};
Modal.getDescTextarea = function (name, text) {
  var mDiv = document.createElement('div'),
    mLabel = document.createElement('label'),
    mTextarea = document.createElement('textarea');
  mDiv.setAttribute('class', 'uk-width-1-1');
  mLabel.setAttribute('class', 'uk-form-label');
  mLabel.innerText = text;
  mLabel.setAttribute('for', name);
  mTextarea.setAttribute('class', 'uk-textarea');
  mTextarea.setAttribute('name', name);
  mTextarea.setAttribute('rows', 4);
  mTextarea.setAttribute('placeholder', '备注信息最多可输入100字');
  mTextarea.setAttribute('maxlength', 100);
  mTextarea.setAttribute('style', 'resize: none');
  mDiv.appendChild(mLabel);
  mDiv.appendChild(mTextarea);
  return mDiv;
};
Modal.getTotalFeeInput = function (data, name, text) {
  var mDiv = document.createElement('div'),
    mLabel = document.createElement('label'),
    mInput = document.createElement('input'),
    feeItemList = JSON.parse(data.feeItemList),
    totalFee = 0;
  mDiv.setAttribute('class', 'uk-width-1-1');
  mLabel.setAttribute('class', 'uk-form-label');
  mLabel.innerText = text;
  mLabel.setAttribute('for', name);
  mInput.setAttribute('class', 'uk-input');
  mInput.setAttribute('type', 'number');
  mInput.setAttribute('readonly', '');
  mInput.setAttribute('name', name);
  for (var i = 0; i < feeItemList.length; i++) {
    totalFee += Number(feeItemList[i].fee);
  }
  mInput.setAttribute('value', totalFee);
  mDiv.appendChild(mLabel);
  mDiv.appendChild(mInput);
  return mDiv;
};
Modal.createInpList = function (data) {
  var feerate = data.feerate ? data.feerate : null,
    fee = data.fee,
    feeId = data.feeId,
    feeShortNM = data.feeShortNM;
  if (feeShortNM === '处置费') {
    var el1 = createInp('feerate'),
      el2 = createInp('spec');
    return [el1, el2];
  } else {
    var el = createInp();
    return [el];
  }
  function createInp(type) {
    var flag = type === 'feerate',
      formItem = document.createElement('div'),
      label = document.createElement('label'),
      input = document.createElement('input');
    var inpMaxLength = 15; // 最大输入字符数量
    formItem.setAttribute('class', 'uk-width-1-2');
    label.setAttribute('class', 'uk-form-label');
    input.setAttribute('class', 'uk-input');
    input.setAttribute('type', 'number');
    input.setAttribute('min', 0);
    input.setAttribute('name', flag ? 'feerate' : feeId);
    if (type === 'spec') {
      // 处置费不可编辑
      input.setAttribute('data-fee', 'spec');
      input.setAttribute('readonly', '');
    } else {
      // 其他可以编辑
      if (!flag) {
        // 除费率外其他费用限制字符
        input.setAttribute('maxlength', inpMaxLength);
      }
      input.addEventListener('focus', function (event) {
        event.preventDefault();
        this.value = Number(this.value);
        if (flag) {
          // 费率初始化
          this.value = Math.round(this.value * 100) / 100;
        } else {
          // 其他初始化
          this.value = Math.round(this.value);
        }
        this.select();
      });
      input.addEventListener('blur', function (event) {
        event.preventDefault();
        this.value = Number(this.value);
      });
    }
    label.setAttribute('for', input.name);
    label.innerText = flag ? '地面费率' : feeShortNM;
    if (!flag) {
      input.setAttribute('data-feeItemList', '');
      // 非费率只能输入固定字符内整数
      input.addEventListener('input', function (event) {
        event.preventDefault();
        this.value = this.value.replace(/\D/g, '');
        if (this.value.length > inpMaxLength) {
          this.value = this.value.slice(0, inpMaxLength);
        }
      });
    } else {
      // 费率只能输入两位小数
      input.addEventListener('input', function (event) {
        event.preventDefault();
        this.value = this.value.match(/^\d+(?:\.\d{0,2})?/);
      });
    }
    input.setAttribute('value', flag ? feerate : fee);
    input.setAttribute('step', flag ? '0.01' : '1');
    input.setAttribute('data-feeShortNM', feeShortNM);
    formItem.appendChild(label);
    formItem.appendChild(input);
    return formItem;
  }
};
function fn_getModal(data, title, id) {
  var mod = new Modal(data, title, id);
  return mod.create();
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js":
/*!******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\SystemPages.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sys_table": () => (/* binding */ Sys_table),
/* harmony export */   "initSystem_baseData": () => (/* binding */ initSystem_baseData),
/* harmony export */   "initSystem_billMangement_queryBills": () => (/* binding */ initSystem_billMangement_queryBills),
/* harmony export */   "initSystem_getAllConsumer": () => (/* binding */ initSystem_getAllConsumer),
/* harmony export */   "initSystem_getAllDiscountPolicy": () => (/* binding */ initSystem_getAllDiscountPolicy),
/* harmony export */   "initSystem_getDiscountPolicy": () => (/* binding */ initSystem_getDiscountPolicy),
/* harmony export */   "initSystem_systemQueryBillDetails_new": () => (/* binding */ initSystem_systemQueryBillDetails_new),
/* harmony export */   "initSystem_systemQueryBill_new": () => (/* binding */ initSystem_systemQueryBill_new)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");






function initSystem_baseData() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_baseData)();
}
function initSystem_billMangement_queryBills() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_billMangement_queryBills)();
}
function initSystem_systemQueryBill_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_stationQueryBill_new)();
}
function initSystem_systemQueryBillDetails_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_stationQueryBillDetails_new)();
}
function initSystem_getAllConsumer() {
  // bind submit button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllConsumer);
  // bind export button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_exportExcel);
}
function initSystem_getAllDiscountPolicy() {
  var api_getAllSupplier_url = document.querySelector('input[name=api_getAllSupplier]').value;
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_4__["default"])('DISCOUNT_TYPE', function (res) {
    // console.log(res)
    // distill select:
    var sel = document.getElementById('discountType');
    _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initDiscoutTypeSel(res.data, sel);
    $.ajax({
      url: api_getAllSupplier_url,
      success: function success(res) {
        // distill supplier:
        var data = res.data;
        var sel = document.getElementById('supplierId');
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initSupplierSel(data, sel);
        // init Wdate:
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].WdateInit('startTime', 'endTime');
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].WdateInit('setStartTime', 'setEndTime');
        // bind submit button:
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllDiscountPolicy);
      }
    });
  });
}
function initSystem_getDiscountPolicy() {
  var discountPolicyId = document.querySelector('input[name=discountPolicyId]').value;
  var url = document.querySelector('input[name=api_getDiscountPolicy]').value;
  var data = {
    discountPolicyId: discountPolicyId
  };
  $.ajax({
    url: url,
    data: JSON.stringify(data),
    success: function success(res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.checkRes)(res) === false) return;
      console.log(res);
      try {
        var data = res.data;
        if (data.length < 1) {
          UIkit.modal.alert('无数据');
        }
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initDiscountDetails(data);
      } catch (error) {
        alert(error);
      }
    }
  });
  // 绑定返回button
  document.getElementById('btnBack').addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=url_back]').value;
    window.location.href = url;
  });
}
function Sys_table() {}
Sys_table.prototype.getTable_userInfo = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var thead = table.querySelector('thead');
  thead.innerHTML = '';
  var trInThead = document.createElement('tr');
  thead.appendChild(trInThead);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '客户代码');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '货运公司全称');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '用户状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '结算方式');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.consumerList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var toDiscountPoliciesA = document.createElement('a');
    for (var key in data[i]) {
      if (key == 'customerId') {
        td1.innerText = data[i][key];
        toDiscountPoliciesA.setAttribute('data-customerId', data[i][key]);
      }
      if (key == 'customerNameChn') {
        td2.innerText = data[i][key];
      }
      if (key == 'statusDesc') {
        td3.innerText = data[i][key];
      }
      if (key == 'status') {
        td3.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'canYesDesc') {
        td4.innerText = data[i][key];
      }
      if (key == 'canYes') {
        td4.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'feeWayDesc') {
        td5.innerText = data[i][key];
      }
      if (key == 'feeWayId') {
        td5.setAttribute('data-' + key, data[i][key]);
      }
    }

    // 如果已注册且月结：
    if (td3.getAttribute('data-status') == '1' && td5.getAttribute('data-feeWayId') == 'MP') {
      toDiscountPoliciesA.innerText = '优惠政策查看';
      toDiscountPoliciesA.href = '#ShowDiscountPolicies';
      td6.appendChild(toDiscountPoliciesA);
      toDiscountPoliciesA.addEventListener('click', function (event) {
        event.preventDefault();
        var link = this;
        var url = document.querySelector('input[name=api_queryDiscountCustomer]').value;
        var data = {
          customerId: link.getAttribute('data-customerId')
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_queryDiscountCustomer)(url, data);
      });
    } else {
      td6.innerText = '-';
    }
    tbody.appendChild(tr);
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllConsumer);
};
Sys_table.prototype.getTable_inModal = function (res) {
  var modal = document.getElementById('showDiscountPolicy');
  var table = modal.querySelector('table');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var dataList = res.data;
  for (var i = 0; i < dataList.length; i++) {
    var tr = document.createElement('tr');
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    var spanStart = document.createElement('span');
    td2.appendChild(spanStart);
    var spanText = document.createElement('span');
    spanText.setAttribute('class', 'uk-margin-small-left uk-margin-small-right');
    spanText.innerText = '至';
    td2.appendChild(spanText);
    var spanEnd = document.createElement('span');
    td2.appendChild(spanEnd);
    tr.appendChild(td2);
    for (var key in dataList[i]) {
      if (key == 'discountPolicyName') td1.innerText = dataList[i][key];else if (key == 'startTimeStr') spanStart.innerText = dataList[i][key];else if (key == 'endTimeStr') spanEnd.innerText = dataList[i][key];else td1.setAttribute('data-' + key, dataList[i][key]);
    }
    tbody.appendChild(tr);
  }
  UIkit.modal(modal).show();
};
Sys_table.prototype.getTable_queryPolicies = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var thead = table.querySelector('thead');
  thead.innerHTML = '';
  var trInThead = document.createElement('tr');
  thead.appendChild(trInThead);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '优惠政策名称');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '优惠类型');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '有效期');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '设置时间');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '所属货站');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.systemDiscountPolicyList;
  // console.log(data);

  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    tbody.appendChild(tr);
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var spanSta = document.createElement('span');
    td3.appendChild(spanSta);
    var spanTex = document.createElement('span');
    spanTex.setAttribute('class', 'uk-margin-small-left uk-margin-small-right');
    spanTex.innerText = '至';
    td3.appendChild(spanTex);
    var spanEnd = document.createElement('span');
    td3.appendChild(spanEnd);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var td7 = document.createElement('td');
    tr.appendChild(td7);
    var link = document.createElement('a');
    link.innerText = '查看详情';
    td7.appendChild(link);
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        td1.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'discountTypeDesc') {
        td2.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'startTime') {
        spanSta.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'endTime') {
        spanEnd.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'setTime') {
        td4.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'statusDesc') {
        td5.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'supplierName') {
        td6.innerText = data[i][key] === null ? '-' : data[i][key];
      }
    }
    link.setAttribute('href', 'policiesManagement/' + data[i].discountPolicyId);
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllDiscountPolicy);
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\canvas.js":
/*!*************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\canvas.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Canvas)
/* harmony export */ });
/* harmony import */ var chart_js_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chart.js/auto */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\auto\\auto.mjs");

function Canvas(selector, config) {
  if (!selector) {
    return console.error('缺少参数: ("#canvasID", {[iframeNode: DocumentIframeNode, ctx: "2d"]})');
  }
  var rootDocument = config && config.iframeNode ? config.iframeNode.contentDocument : document;
  var cvs = rootDocument.querySelector(selector);
  var ctx = config && config.ctx ? config.ctx : '2d';
  if (!cvs) return console.error('不能初始化canvas，因为定位不到DOM');
  if (!cvs.getContext) return console.error('浏览器不支持canvas');
  this.node = cvs;
  this.ctx = cvs.getContext(ctx);
  this.height = 300;
  this.width = 150;
  console.log('canvas初始化成功');
}
Canvas.prototype.setSize = function (ratio) {
  try {
    var canvasNode = this.node;
    var parent = canvasNode.parentNode;
    var parentWidth = window.getComputedStyle(parent).getPropertyValue('max-width');
    canvasNode.width = parseInt(parentWidth);
    var canvasRatio = ratio;
    var canvasHeight = parseInt(canvasNode.width) * parseInt(canvasRatio[1]) / parseInt(canvasRatio[0]);
    canvasNode.height = canvasHeight;
    this.width = canvasNode.width;
    this.height = canvasNode.height;
    return this;
  } catch (e) {
    console.error(e.stack);
    return this;
  }
};
Canvas.prototype.buildChart = function (chartjsConfig) {
  try {
    var ctx = this.ctx;
    chart_js_auto__WEBPACK_IMPORTED_MODULE_0__["default"].defaults.font.size = 14;
    var chart = new chart_js_auto__WEBPACK_IMPORTED_MODULE_0__["default"](ctx, chartjsConfig);
    this.chart = chart;
    this.chartjsConfig = chartjsConfig;
    console.log('Chart.js配置成功');
    return this;
  } catch (e) {
    console.error(e.stack);
    return this;
  }
};

// Canvas.prototype.setChartTitle = function(titleText) {
//   try {
//     const ctx = this.ctx
//     const chartTitle = titleText? titleText: '未命名图表'
//     ctx.fillText(chartTitle, 10, 50)
//     return this
//   } catch(e) {
//     console.error(e.stack)
//     return this
//   }

// }

// Canvas.prototype.drawXYAxis = function(config) {
//   try {
//     const ctx = this.ctx
//     const xTitle = config.xTitle
//     const yTitle = config.yTitile
//     Canvas.drawX(this, xTitle)
//     Canvas.drawY(this, yTitle)
//     this.XYAxis = {
//       xTitle: xTitle,
//       yTitle: yTitle,
//     }
//     return this
//   } catch(e) {
//     console.error(e.stack)
//     return this
//   }
// }

// Canvas.drawX = function(canvas, titleArray) {
//   const width = canvas.width
//   const titleCount = titleArray.length

// }
// Canvas.drawY = function(canvas, titleArray) {

// }

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatistic.js":
/*!********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\dataStatistic.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dsDetails": () => (/* binding */ dsDetails),
/* harmony export */   "dsIndex": () => (/* binding */ dsIndex)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");
/* harmony import */ var _canvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./canvas */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\canvas.js");
/* harmony import */ var _dataStatisticChartConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dataStatisticChartConfig */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatisticChartConfig.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");









function dsIndex() {
  console.log('进入 ----------> dataStatistic Index');
  initWdatePicker();
  queryBillRule().then(function (response) {
    return setBillRule(response);
  }).then(function () {
    return bindButtons(loadData, saveBillRuleId);
  }).catch(function (error) {
    return console.error(error);
  });
}
function dsDetails() {
  console.log('进入 ----------> dataStatistic Details');
  setParentLink('#parentLink', 'dovepay-freight/station/dataStatistic');
  queryBillRule().then(function (response) {
    return setBillRuleText(response);
  }).catch(function (error) {
    return console.error(error);
  });

  /* table */
  bindButtons(loadDataDetails, null, function () {
    history.back();
  }).catch(function (error) {
    return console.error(error);
  });
}
function initWdatePicker() {
  try {
    var billTimeInp = document.querySelector('input[name="billTime"]');
    billTimeInp.addEventListener('click', function () {
      WdatePicker({
        el: this,
        dateFmt: 'yyyy',
        maxDate: '%y'
      });
    });
  } catch (e) {
    console.error(e.stack);
  }
}
function queryBillRule() {
  return new Promise(function (res, rej) {
    try {
      var url = document.querySelector('input[name="api_queryEffectiveBillRule"]').value;
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData)(url, '', res);
    } catch (e) {
      rej(e.stack);
    }
  });
}
function setBillRule(response) {
  return new Promise(function (resolve, rej) {
    try {
      var billRuleIdSel = document.querySelector('select[name="billRuleId"]');
      var dataArr = response.data;
      if (dataArr.length > 0) {
        dataArr.forEach(function (data) {
          var option = document.createElement('option');
          option.setAttribute('value', data.billRuleId);
          option.innerText = data.billRuleName;
          billRuleIdSel.appendChild(option);
        });
      }
      resolve('success');
    } catch (e) {
      rej(e.stack);
      // console.error(e.stack)
    }
  });
}

function setBillRuleText(res) {
  try {
    var id = document.querySelector('input[name="billRuleId"]');
    var text = document.querySelector('#billRuleText');
    if (!id.value) {
      text.value = '全部';
    } else {
      var dataArr = res.data;
      dataArr.some(function (data) {
        if (id.value === data.billRuleId) {
          text.value = data.billRuleName;
          return true;
        }
      });
    }
  } catch (e) {
    console.error(e.stack);
  }
}
function bindButtons(cb, dataHandler, checkResCallback) {
  return new Promise(function (res, rej) {
    try {
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_exportExcel);
    } catch (e) {
      console.error(e.stack);
    }
    try {
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, cb, dataHandler, checkResCallback);
    } catch (e) {
      rej(e.stack);
    }
  });
}
function saveBillRuleId(data) {
  try {
    document.querySelector('input[name="billRuleIdValue"]').value = data.billRuleId;
  } catch (e) {
    console.error(e.stack);
  }
}
function loadData(response, pageNumber, pageSize) {
  try {
    console.log(response);
    var table = document.getElementById('dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.getThTr(table);
    setThead(trInThead);
    setTbody(table, response);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(response, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, loadData);
  } catch (e) {
    console.error(e.stack);
  }
  function setThead(tr) {
    var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTh;
    var textArr = ['排名', '往来户编码', '商户编号', '往来户名称', '年度', '总金额', '操作'];
    textArr.forEach(function (text) {
      set(tr, text);
    });
  }
  function setTbody(table, res) {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data.summaryList;
    if (!data || data.length < 1) {
      var tab = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table;
      var tr0 = tab.showNoData(tab.getThTr(table).querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    data.forEach(function (line /*, index*/) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      // const tdSerial = document.createElement('td')
      // tr.appendChild(tdSerial)
      // tdSerial.innerText = index + 1 + (parseInt(pageNumber) - 1) * parseInt(pageSize)
      var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTd;
      var propArr = ['serialNumber', 'esbCustomerId', 'accountId', 'esbCustomerName', 'billTime', 'totalAmount'];
      propArr.forEach(function (prop) {
        set(tr, line[prop]);
      });
      /* 查看详情 */
      var tdAction = document.createElement('td');
      var tdActionLink = document.createElement('a');
      tdAction.appendChild(tdActionLink);
      tr.appendChild(tdAction);
      tdActionLink.innerText = '查看详细';
      propArr.forEach(function (prop) {
        tdActionLink.dataset[prop] = line[prop];
      });
      tdActionLink.addEventListener('click', toDetails);
    });
  }
}
function toDetails(event) {
  event.preventDefault();
  var el = event.target;
  try {
    var loc = window.location;
    var url = "".concat(loc.protocol, "//").concat(loc.host, "/dovepay-freight/station/dataStatistic/details");
    var postData = {
      billRuleId: document.querySelector('input[name=billRuleIdValue]').value
    };
    if (el.dataset) {
      for (var prop in el.dataset) {
        postData[prop] = el.dataset[prop];
      }
    }
    _Global__WEBPACK_IMPORTED_MODULE_4__["default"].submVirtForm(url, postData);
  } catch (e) {
    console.error(e.stack);
  }
}
function setParentLink(node, link) {
  var a = document.querySelector(node);
  var loc = window.location;
  a.setAttribute('href', "".concat(loc.protocol, "//").concat(loc.host, "/").concat(link));
}
function loadDataDetails(response, pageNumber, pageSize) {
  try {
    console.log(response);
    var table = document.getElementById('dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.getThTr(table);
    setThead(trInThead);
    setTbody(table, response);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(response, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, loadData);
  } catch (e) {
    console.error(e.stack);
  }
  try {
    chartHandler(response);
  } catch (e) {
    console.error(e.stack);
  }
  function setThead(tr) {
    var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTh;
    var textArr = ['序号', '年月', '总金额', '结算客户名称'];
    textArr.forEach(function (text) {
      set(tr, text);
    });
  }
  function setTbody(table, res) {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data;
    if (!data || data.length < 1) {
      var tab = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table;
      var tr0 = tab.showNoData(tab.getThTr(table).querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    data.forEach(function (line) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTd;
      var propArr = ['serialNumber', 'billTime', 'totalAmount', 'esbCustomerName'];
      propArr.forEach(function (prop) {
        set(tr, line[prop]);
      });
    });
  }
  /* chart */
  function chartHandler(res) {
    var cvs = new _canvas__WEBPACK_IMPORTED_MODULE_6__["default"]('#dataStatisticChart').setSize([16, 9]).buildChart((0,_dataStatisticChartConfig__WEBPACK_IMPORTED_MODULE_7__["default"])(res));
    console.log(cvs);
  }
}

// canvas.setChartTitle(cvs, '图表')

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatisticChartConfig.js":
/*!*******************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\dataStatisticChartConfig.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.sort.js");
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__);



var color = {
  blue: 'rgb(3, 78, 162)',
  yellow: 'rgb(250, 166, 26)'
};
var legendLabel = '金额';
var type = 'bar';
var options = {
  layout: {
    padding: 20
  }
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(res) {
  var axisData = getAxisData(res);
  return {
    type: type,
    data: getData(axisData),
    options: options
  };
}
function getAxisData(res) {
  try {
    var data = res.data;
    var axisData = [];
    data.forEach(function (line) {
      var object = {};
      object.label = line.billTime;
      object.index = line.totalAmount;
      axisData.push(object);
    });
    axisData.sort(function (firstItem, secondItem) {
      return parseInt(firstItem.label) - parseInt(secondItem.label);
    });
    return axisData;
  } catch (e) {
    console.error(e.stack);
  }
}
function getData(data) {
  return {
    labels: getLabels(data),
    datasets: [{
      data: getIndex(data),
      label: legendLabel,
      backgroundColor: color.blue,
      borderColor: color.blue,
      maxBarThickness: 100
    }]
  };
  function getLabels(data) {
    var array = [];
    data.forEach(function (line) {
      array.push(line.label);
    });
    return array;
  }
  function getIndex(data) {
    var array = [];
    data.forEach(function (line) {
      array.push(line.index);
    });
    return array;
  }
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\initJqueryAjax.js":
/*!*********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\initJqueryAjax.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");


// Global:
// Ajax设置：
$.ajaxSetup({
  headers: {
    accountId: $('header #accountId').val(),
    userId: $('header #userId').val(),
    type: $('header #userType').val()
  },
  type: 'POST',
  // for java api
  dataType: 'json',
  contentType: 'application/json',
  timeout: 10000
});
// Ajax错误处理：
$(document).ajaxError(function (event, xhr, settings) {
  var reqUrl = settings.url;
  var reqData = settings.data;
  var res = xhr.status + xhr.statusText;
  if (console) console.error(reqUrl, reqData, res);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].errorHandler('服务器数据获取失败: 错误码: ' + xhr.status + ';<br>错误描述: ' + getStatusText(xhr.statusText));
  function getStatusText(statusStr) {
    var text = statusStr;
    if (statusStr === 'timeout') text = '请求超时';
    return text;
  }
});
// loading遮罩实现：
$(document).ajaxStart(function () {
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].loading.show();
});
$(document).ajaxStop(function () {
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].loading.hide();
});
// 获取表格数据：
$.fn.serializeObject = function () {
  var o = {};
  var a = this.serializeArray();
  $.each(a, function () {
    var value = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].isJSON(this.value) ? JSON.parse(this.value) : this.value;
    if (o[this.name] !== undefined) {
      if (!o[this.name].push) {
        o[this.name] = [o[this.name]];
      }
      o[this.name].push(value || '');
    } else {
      o[this.name] = value || '';
    }
  });
  return o;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-callable.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a function');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-constructor.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-constructor.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

// `Assert: IsConstructor(argument) is true`
module.exports = function (argument) {
  if (isConstructor(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a constructor');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-possible-prototype.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-possible-prototype.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var $String = String;
var $TypeError = TypeError;

module.exports = function (argument) {
  if (typeof argument == 'object' || isCallable(argument)) return argument;
  throw $TypeError("Can't set " + $String(argument) + ' as a prototype');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\add-to-unscopables.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\add-to-unscopables.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);

var UNSCOPABLES = wellKnownSymbol('unscopables');
var ArrayPrototype = Array.prototype;

// Array.prototype[@@unscopables]
// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
if (ArrayPrototype[UNSCOPABLES] == undefined) {
  defineProperty(ArrayPrototype, UNSCOPABLES, {
    configurable: true,
    value: create(null)
  });
}

// add a key to Array.prototype[@@unscopables]
module.exports = function (key) {
  ArrayPrototype[UNSCOPABLES][key] = true;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\advance-string-index.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var charAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").charAt);

// `AdvanceStringIndex` abstract operation
// https://tc39.es/ecma262/#sec-advancestringindex
module.exports = function (S, index, unicode) {
  return index + (unicode ? charAt(S, index).length : 1);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\an-instance.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");

var $TypeError = TypeError;

module.exports = function (it, Prototype) {
  if (isPrototypeOf(Prototype, it)) return it;
  throw $TypeError('Incorrect invocation');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\an-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw $TypeError($String(argument) + ' is not an object');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-for-each.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-for-each.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $forEach = (__webpack_require__(/*! ../internals/array-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js").forEach);
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js");

var STRICT_METHOD = arrayMethodIsStrict('forEach');

// `Array.prototype.forEach` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.foreach
module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
} : [].forEach;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-from.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-from.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var callWithSafeIterationClosing = __webpack_require__(/*! ../internals/call-with-safe-iteration-closing */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\call-with-safe-iteration-closing.js");
var isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");

var $Array = Array;

// `Array.from` method implementation
// https://tc39.es/ecma262/#sec-array.from
module.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
  var O = toObject(arrayLike);
  var IS_CONSTRUCTOR = isConstructor(this);
  var argumentsLength = arguments.length;
  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
  var mapping = mapfn !== undefined;
  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
  var iteratorMethod = getIteratorMethod(O);
  var index = 0;
  var length, result, step, iterator, next, value;
  // if the target is not iterable or it's an array with the default iterator - use a simple case
  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {
    iterator = getIterator(O, iteratorMethod);
    next = iterator.next;
    result = IS_CONSTRUCTOR ? new this() : [];
    for (;!(step = call(next, iterator)).done; index++) {
      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
      createProperty(result, index, value);
    }
  } else {
    length = lengthOfArrayLike(O);
    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);
    for (;length > index; index++) {
      value = mapping ? mapfn(O[index], index) : O[index];
      createProperty(result, index, value);
    }
  }
  result.length = index;
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-includes.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-includes.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-iteration.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js");

var push = uncurryThis([].push);

// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
var createMethod = function (TYPE) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var IS_FILTER_REJECT = TYPE == 7;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  return function ($this, callbackfn, that, specificCreate) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var boundFunction = bind(callbackfn, that);
    var length = lengthOfArrayLike(self);
    var index = 0;
    var create = specificCreate || arraySpeciesCreate;
    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
    var value, result;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (TYPE) {
        if (IS_MAP) target[index] = result; // map
        else if (result) switch (TYPE) {
          case 3: return true;              // some
          case 5: return value;             // find
          case 6: return index;             // findIndex
          case 2: push(target, value);      // filter
        } else switch (TYPE) {
          case 4: return false;             // every
          case 7: push(target, value);      // filterReject
        }
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
  };
};

module.exports = {
  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  forEach: createMethod(0),
  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  map: createMethod(1),
  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  filter: createMethod(2),
  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  some: createMethod(3),
  // `Array.prototype.every` method
  // https://tc39.es/ecma262/#sec-array.prototype.every
  every: createMethod(4),
  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  find: createMethod(5),
  // `Array.prototype.findIndex` method
  // https://tc39.es/ecma262/#sec-array.prototype.findIndex
  findIndex: createMethod(6),
  // `Array.prototype.filterReject` method
  // https://github.com/tc39/proposal-array-filtering
  filterReject: createMethod(7)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-method-has-species-support.js ***!
  \******************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var SPECIES = wellKnownSymbol('species');

module.exports = function (METHOD_NAME) {
  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/677
  return V8_VERSION >= 51 || !fails(function () {
    var array = [];
    var constructor = array.constructor = {};
    constructor[SPECIES] = function () {
      return { foo: 1 };
    };
    return array[METHOD_NAME](Boolean).foo !== 1;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-method-is-strict.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = function (METHOD_NAME, argument) {
  var method = [][METHOD_NAME];
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call -- required for testing
    method.call(null, argument || function () { return 1; }, 1);
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-slice-simple.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");

var $Array = Array;
var max = Math.max;

module.exports = function (O, start, end) {
  var length = lengthOfArrayLike(O);
  var k = toAbsoluteIndex(start, length);
  var fin = toAbsoluteIndex(end === undefined ? length : end, length);
  var result = $Array(max(fin - k, 0));
  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);
  result.length = n;
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-slice.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = uncurryThis([].slice);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-sort.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");

var floor = Math.floor;

var mergeSort = function (array, comparefn) {
  var length = array.length;
  var middle = floor(length / 2);
  return length < 8 ? insertionSort(array, comparefn) : merge(
    array,
    mergeSort(arraySlice(array, 0, middle), comparefn),
    mergeSort(arraySlice(array, middle), comparefn),
    comparefn
  );
};

var insertionSort = function (array, comparefn) {
  var length = array.length;
  var i = 1;
  var element, j;

  while (i < length) {
    j = i;
    element = array[i];
    while (j && comparefn(array[j - 1], element) > 0) {
      array[j] = array[--j];
    }
    if (j !== i++) array[j] = element;
  } return array;
};

var merge = function (array, left, right, comparefn) {
  var llength = left.length;
  var rlength = right.length;
  var lindex = 0;
  var rindex = 0;

  while (lindex < llength || rindex < rlength) {
    array[lindex + rindex] = (lindex < llength && rindex < rlength)
      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]
      : lindex < llength ? left[lindex++] : right[rindex++];
  } return array;
};

module.exports = mergeSort;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-constructor.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-species-constructor.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var SPECIES = wellKnownSymbol('species');
var $Array = Array;

// a part of `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? $Array : C;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-species-create.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arraySpeciesConstructor = __webpack_require__(/*! ../internals/array-species-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-constructor.js");

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\call-with-safe-iteration-closing.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\call-with-safe-iteration-closing.js ***!
  \******************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js");

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\check-correctness-of-iteration.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\check-correctness-of-iteration.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');
var SAFE_CLOSING = false;

try {
  var called = 0;
  var iteratorWithReturn = {
    next: function () {
      return { done: !!called++ };
    },
    'return': function () {
      SAFE_CLOSING = true;
    }
  };
  iteratorWithReturn[ITERATOR] = function () {
    return this;
  };
  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
  Array.from(iteratorWithReturn, function () { throw 2; });
} catch (error) { /* empty */ }

module.exports = function (exec, SKIP_CLOSING) {
  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
  var ITERATION_SUPPORT = false;
  try {
    var object = {};
    object[ITERATOR] = function () {
      return {
        next: function () {
          return { done: ITERATION_SUPPORT = true };
        }
      };
    };
    exec(object);
  } catch (error) { /* empty */ }
  return ITERATION_SUPPORT;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\classof-raw.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);

module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\classof.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (error) { /* empty */ }
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
    // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O)
    // ES3 arguments fallback
    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js":
/*!*************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\copy-constructor-properties.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var ownKeys = __webpack_require__(/*! ../internals/own-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\own-keys.js");
var getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");

module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\correct-prototype-getter.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\correct-prototype-getter.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = !fails(function () {
  function F() { /* empty */ }
  F.prototype.constructor = null;
  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
  return Object.getPrototypeOf(new F()) !== F.prototype;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-html.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-html.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");

var quot = /"/g;
var replace = uncurryThis(''.replace);

// `CreateHTML` abstract operation
// https://tc39.es/ecma262/#sec-createhtml
module.exports = function (string, tag, attribute, value) {
  var S = toString(requireObjectCoercible(string));
  var p1 = '<' + tag;
  if (attribute !== '') p1 += ' ' + attribute + '="' + replace(toString(value), quot, '&quot;') + '"';
  return p1 + '>' + S + '</' + tag + '>';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-iter-result-object.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

// `CreateIterResultObject` abstract operation
// https://tc39.es/ecma262/#sec-createiterresultobject
module.exports = function (value, done) {
  return { value: value, done: done };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-non-enumerable-property.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-property-descriptor.js ***!
  \************************************************************************************************************/
/***/ ((module) => {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-property.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");

module.exports = function (object, key, value) {
  var propertyKey = toPropertyKey(key);
  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
  else object[propertyKey] = value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-in-accessor.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js");
var defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");

module.exports = function (target, name, descriptor) {
  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });
  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });
  return defineProperty.f(target, name, descriptor);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-in.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");

module.exports = function (O, key, value, options) {
  if (!options) options = {};
  var simple = options.enumerable;
  var name = options.name !== undefined ? options.name : key;
  if (isCallable(value)) makeBuiltIn(value, name, options);
  if (options.global) {
    if (simple) O[key] = value;
    else defineGlobalProperty(key, value);
  } else {
    try {
      if (!options.unsafe) delete O[key];
      else if (O[key]) simple = true;
    } catch (error) { /* empty */ }
    if (simple) O[key] = value;
    else definePropertyModule.f(O, key, {
      value: value,
      enumerable: false,
      configurable: !options.nonConfigurable,
      writable: !options.nonWritable
    });
  } return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-ins.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-ins.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

module.exports = function (target, src, options) {
  for (var key in src) defineBuiltIn(target, key, src[key], options);
  return target;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-global-property.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

module.exports = function (key, value) {
  try {
    defineProperty(global, key, { value: value, configurable: true, writable: true });
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\delete-property-or-throw.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\delete-property-or-throw.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

module.exports = function (O, P) {
  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\descriptors.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\document-all.js ***!
  \**********************************************************************************************/
/***/ ((module) => {

var documentAll = typeof document == 'object' && document.all;

// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
var IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;

module.exports = {
  all: documentAll,
  IS_HTMLDDA: IS_HTMLDDA
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\document-create-element.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\does-not-exceed-safe-integer.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\does-not-exceed-safe-integer.js ***!
  \**************************************************************************************************************/
/***/ ((module) => {

var $TypeError = TypeError;
var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

module.exports = function (it) {
  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
  return it;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\dom-iterables.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

// iterable DOM collections
// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
module.exports = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\dom-token-list-prototype.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`
var documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");

var classList = documentCreateElement('span').classList;
var DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;

module.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-ff-version.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-ff-version.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var firefox = userAgent.match(/firefox\/(\d+)/i);

module.exports = !!firefox && +firefox[1];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-browser.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-browser.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var IS_DENO = __webpack_require__(/*! ../internals/engine-is-deno */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

module.exports = !IS_DENO && !IS_NODE
  && typeof window == 'object'
  && typeof document == 'object';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-deno.js ***!
  \************************************************************************************************/
/***/ ((module) => {

/* global Deno -- Deno case */
module.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ie-or-edge.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ie-or-edge.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var UA = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /MSIE|Trident/.test(UA);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios-pebble.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ios-pebble.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ios.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

// eslint-disable-next-line redos/no-vulnerable -- safe
module.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-node.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

module.exports = typeof process != 'undefined' && classof(process) == 'process';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-webos-webkit.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-webos-webkit.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /web0s(?!.*chrome)/i.test(userAgent);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-user-agent.js ***!
  \***************************************************************************************************/
/***/ ((module) => {

module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-v8-version.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var process = global.process;
var Deno = global.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}

module.exports = version;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-webkit-version.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-webkit-version.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);

module.exports = !!webkit && +webkit[1];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\enum-bug-keys.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

// IE8- don't enum bug keys
module.exports = [
  'constructor',
  'hasOwnProperty',
  'isPrototypeOf',
  'propertyIsEnumerable',
  'toLocaleString',
  'toString',
  'valueOf'
];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\export.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");
var copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var FORCED, target, key, targetProperty, sourceProperty, descriptor;
  if (GLOBAL) {
    target = global;
  } else if (STATIC) {
    target = global[TARGET] || defineGlobalProperty(TARGET, {});
  } else {
    target = (global[TARGET] || {}).prototype;
  }
  if (target) for (key in source) {
    sourceProperty = source[key];
    if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(target, key);
      targetProperty = descriptor && descriptor.value;
    } else targetProperty = target[key];
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contained in target
    if (!FORCED && targetProperty !== undefined) {
      if (typeof sourceProperty == typeof targetProperty) continue;
      copyConstructorProperties(sourceProperty, targetProperty);
    }
    // add a flag to not completely full polyfills
    if (options.sham || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(sourceProperty, 'sham', true);
    }
    defineBuiltIn(target, key, sourceProperty, options);
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\fails.js ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js":
/*!********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\fix-regexp-well-known-symbol-logic.js ***!
  \********************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: Remove from `core-js@4` since it's moved to entry points
__webpack_require__(/*! ../modules/es.regexp.exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this-clause */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var regexpExec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");

var SPECIES = wellKnownSymbol('species');
var RegExpPrototype = RegExp.prototype;

module.exports = function (KEY, exec, FORCED, SHAM) {
  var SYMBOL = wellKnownSymbol(KEY);

  var DELEGATES_TO_SYMBOL = !fails(function () {
    // String methods call symbol-named RegEp methods
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  });

  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {
    // Symbol-named RegExp methods call .exec
    var execCalled = false;
    var re = /a/;

    if (KEY === 'split') {
      // We can't use real regex here since it causes deoptimization
      // and serious performance degradation in V8
      // https://github.com/zloirock/core-js/issues/306
      re = {};
      // RegExp[@@split] doesn't call the regex's exec method, but first creates
      // a new one. We need to return the patched regex when creating the new one.
      re.constructor = {};
      re.constructor[SPECIES] = function () { return re; };
      re.flags = '';
      re[SYMBOL] = /./[SYMBOL];
    }

    re.exec = function () { execCalled = true; return null; };

    re[SYMBOL]('');
    return !execCalled;
  });

  if (
    !DELEGATES_TO_SYMBOL ||
    !DELEGATES_TO_EXEC ||
    FORCED
  ) {
    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);
    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {
      var uncurriedNativeMethod = uncurryThis(nativeMethod);
      var $exec = regexp.exec;
      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {
        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
          // The native String method already delegates to @@method (this
          // polyfilled function), leasing to infinite recursion.
          // We avoid it by directly calling the native @@method method.
          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };
        }
        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };
      }
      return { done: false };
    });

    defineBuiltIn(String.prototype, KEY, methods[0]);
    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);
  }

  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-apply.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var FunctionPrototype = Function.prototype;
var apply = FunctionPrototype.apply;
var call = FunctionPrototype.call;

// eslint-disable-next-line es/no-reflect -- safe
module.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {
  return call.apply(apply, arguments);
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-bind-context.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this-clause */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-bind-native.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-function-prototype-bind -- safe
  var test = (function () { /* empty */ }).bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-call.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var call = Function.prototype.call;

module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-name.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");

var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;

var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));

module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-accessor.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this-accessor.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");

module.exports = function (object, key, method) {
  try {
    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this-clause.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = function (fn) {
  // Nashorn bug:
  //   https://github.com/zloirock/core-js/issues/1128
  //   https://github.com/zloirock/core-js/issues/1130
  if (classofRaw(fn) === 'Function') return uncurryThis(fn);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var FunctionPrototype = Function.prototype;
var call = FunctionPrototype.call;
var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);

module.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {
  return function () {
    return call.apply(fn, arguments);
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-built-in.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var aFunction = function (argument) {
  return isCallable(argument) ? argument : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-iterator-method.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');

module.exports = function (it) {
  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)
    || getMethod(it, '@@iterator')
    || Iterators[classof(it)];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-iterator.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");

var $TypeError = TypeError;

module.exports = function (argument, usingIterator) {
  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
  throw $TypeError(tryToString(argument) + ' is not iterable');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-json-replacer-function.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-json-replacer-function.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");

var push = uncurryThis([].push);

module.exports = function (replacer) {
  if (isCallable(replacer)) return replacer;
  if (!isArray(replacer)) return;
  var rawLength = replacer.length;
  var keys = [];
  for (var i = 0; i < rawLength; i++) {
    var element = replacer[i];
    if (typeof element == 'string') push(keys, element);
    else if (typeof element == 'number' || classof(element) == 'Number' || classof(element) == 'String') push(keys, toString(element));
  }
  var keysLength = keys.length;
  var root = true;
  return function (key, value) {
    if (root) {
      root = false;
      return value;
    }
    if (isArray(this)) return value;
    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-method.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return isNullOrUndefined(func) ? undefined : aCallable(func);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-substitution.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-substitution.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

var floor = Math.floor;
var charAt = uncurryThis(''.charAt);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);
// eslint-disable-next-line redos/no-vulnerable -- safe
var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d{1,2})/g;

// `GetSubstitution` abstract operation
// https://tc39.es/ecma262/#sec-getsubstitution
module.exports = function (matched, str, position, captures, namedCaptures, replacement) {
  var tailPos = position + matched.length;
  var m = captures.length;
  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
  if (namedCaptures !== undefined) {
    namedCaptures = toObject(namedCaptures);
    symbols = SUBSTITUTION_SYMBOLS;
  }
  return replace(replacement, symbols, function (match, ch) {
    var capture;
    switch (charAt(ch, 0)) {
      case '$': return '$';
      case '&': return matched;
      case '`': return stringSlice(str, 0, position);
      case "'": return stringSlice(str, tailPos);
      case '<':
        capture = namedCaptures[stringSlice(ch, 1, -1)];
        break;
      default: // \d\d?
        var n = +ch;
        if (n === 0) return match;
        if (n > m) {
          var f = floor(n / 10);
          if (f === 0) return match;
          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);
          return match;
        }
        capture = captures[n - 1];
    }
    return capture === undefined ? '' : capture;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\global.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var check = function (it) {
  return it && it.Math == Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || Function('return this')();


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\has-own-property.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\hidden-keys.js ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = {};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\host-report-errors.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\host-report-errors.js ***!
  \****************************************************************************************************/
/***/ ((module) => {

module.exports = function (a, b) {
  try {
    // eslint-disable-next-line no-console -- safe
    arguments.length == 1 ? console.error(a) : console.error(a, b);
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\html.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\ie8-dom-define.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var createElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a != 7;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\indexed-object.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) == 'String' ? split(it, '') : $Object(it);
} : $Object;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inherit-if-required.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\inherit-if-required.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");

// makes subclassing work correct for wrapped built-ins
module.exports = function ($this, dummy, Wrapper) {
  var NewTarget, NewTargetPrototype;
  if (
    // it can work only with native `setPrototypeOf`
    setPrototypeOf &&
    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this
    isCallable(NewTarget = dummy.constructor) &&
    NewTarget !== Wrapper &&
    isObject(NewTargetPrototype = NewTarget.prototype) &&
    NewTargetPrototype !== Wrapper.prototype
  ) setPrototypeOf($this, NewTargetPrototype);
  return $this;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\inspect-source.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var store = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");

var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}

module.exports = store.inspectSource;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\internal-state.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/weak-map-basic-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\weak-map-basic-detection.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var shared = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");

var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = global.TypeError;
var WeakMap = global.WeakMap;
var set, get, has;

var enforce = function (it) {
  return has(it) ? get(it) : set(it, {});
};

var getterFor = function (TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw TypeError('Incompatible receiver, ' + TYPE + ' required');
    } return state;
  };
};

if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  /* eslint-disable no-self-assign -- prototype methods protection */
  store.get = store.get;
  store.has = store.has;
  store.set = store.set;
  /* eslint-enable no-self-assign -- prototype methods protection */
  set = function (it, metadata) {
    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    store.set(it, metadata);
    return metadata;
  };
  get = function (it) {
    return store.get(it) || {};
  };
  has = function (it) {
    return store.has(it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function (it, metadata) {
    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function (it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function (it) {
    return hasOwn(it, STATE);
  };
}

module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-array-iterator-method.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");

var ITERATOR = wellKnownSymbol('iterator');
var ArrayPrototype = Array.prototype;

// check on default Array iterator
module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-array.js ***!
  \******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(argument) {
  return classof(argument) == 'Array';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-callable.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var $documentAll = __webpack_require__(/*! ../internals/document-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js");

var documentAll = $documentAll.all;

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
module.exports = $documentAll.IS_HTMLDDA ? function (argument) {
  return typeof argument == 'function' || argument === documentAll;
} : function (argument) {
  return typeof argument == 'function';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-constructor.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");

var noop = function () { /* empty */ };
var empty = [];
var construct = getBuiltIn('Reflect', 'construct');
var constructorRegExp = /^\s*(?:class|function)\b/;
var exec = uncurryThis(constructorRegExp.exec);
var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);

var isConstructorModern = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  try {
    construct(noop, empty, argument);
    return true;
  } catch (error) {
    return false;
  }
};

var isConstructorLegacy = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  switch (classof(argument)) {
    case 'AsyncFunction':
    case 'GeneratorFunction':
    case 'AsyncGeneratorFunction': return false;
  }
  try {
    // we can't check .prototype since constructors produced by .bind haven't it
    // `Function#toString` throws on some built-it function in some legacy engines
    // (for example, `DOMQuad` and similar in FF41-)
    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
  } catch (error) {
    return true;
  }
};

isConstructorLegacy.sham = true;

// `IsConstructor` abstract operation
// https://tc39.es/ecma262/#sec-isconstructor
module.exports = !construct || fails(function () {
  var called;
  return isConstructorModern(isConstructorModern.call)
    || !isConstructorModern(Object)
    || !isConstructorModern(function () { called = true; })
    || called;
}) ? isConstructorLegacy : isConstructorModern;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-forced.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
    : isCallable(detection) ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-null-or-undefined.js ***!
  \******************************************************************************************************/
/***/ ((module) => {

// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
module.exports = function (it) {
  return it === null || it === undefined;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var $documentAll = __webpack_require__(/*! ../internals/document-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js");

var documentAll = $documentAll.all;

module.exports = $documentAll.IS_HTMLDDA ? function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;
} : function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-pure.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = false;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-symbol.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js");

var $Object = Object;

module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterate.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");
var iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js");

var $TypeError = TypeError;

var Result = function (stopped, result) {
  this.stopped = stopped;
  this.result = result;
};

var ResultPrototype = Result.prototype;

module.exports = function (iterable, unboundFunction, options) {
  var that = options && options.that;
  var AS_ENTRIES = !!(options && options.AS_ENTRIES);
  var IS_RECORD = !!(options && options.IS_RECORD);
  var IS_ITERATOR = !!(options && options.IS_ITERATOR);
  var INTERRUPTED = !!(options && options.INTERRUPTED);
  var fn = bind(unboundFunction, that);
  var iterator, iterFn, index, length, result, next, step;

  var stop = function (condition) {
    if (iterator) iteratorClose(iterator, 'normal', condition);
    return new Result(true, condition);
  };

  var callFn = function (value) {
    if (AS_ENTRIES) {
      anObject(value);
      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
    } return INTERRUPTED ? fn(value, stop) : fn(value);
  };

  if (IS_RECORD) {
    iterator = iterable.iterator;
  } else if (IS_ITERATOR) {
    iterator = iterable;
  } else {
    iterFn = getIteratorMethod(iterable);
    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');
    // optimisation for array iterators
    if (isArrayIteratorMethod(iterFn)) {
      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
        result = callFn(iterable[index]);
        if (result && isPrototypeOf(ResultPrototype, result)) return result;
      } return new Result(false);
    }
    iterator = getIterator(iterable, iterFn);
  }

  next = IS_RECORD ? iterable.next : iterator.next;
  while (!(step = call(next, iterator)).done) {
    try {
      result = callFn(step.value);
    } catch (error) {
      iteratorClose(iterator, 'throw', error);
    }
    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;
  } return new Result(false);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-close.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");

module.exports = function (iterator, kind, value) {
  var innerResult, innerError;
  anObject(iterator);
  try {
    innerResult = getMethod(iterator, 'return');
    if (!innerResult) {
      if (kind === 'throw') throw value;
      return value;
    }
    innerResult = call(innerResult, iterator);
  } catch (error) {
    innerError = true;
    innerResult = error;
  }
  if (kind === 'throw') throw value;
  if (innerError) throw innerResult;
  anObject(innerResult);
  return value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js":
/*!*************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-create-constructor.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var IteratorPrototype = (__webpack_require__(/*! ../internals/iterators-core */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js").IteratorPrototype);
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");

var returnThis = function () { return this; };

module.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
  var TO_STRING_TAG = NAME + ' Iterator';
  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });
  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
  Iterators[TO_STRING_TAG] = returnThis;
  return IteratorConstructor;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-define.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var FunctionName = __webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js");
var getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var IteratorsCore = __webpack_require__(/*! ../internals/iterators-core */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js");

var PROPER_FUNCTION_NAME = FunctionName.PROPER;
var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
var IteratorPrototype = IteratorsCore.IteratorPrototype;
var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
var ITERATOR = wellKnownSymbol('iterator');
var KEYS = 'keys';
var VALUES = 'values';
var ENTRIES = 'entries';

var returnThis = function () { return this; };

module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
  createIteratorConstructor(IteratorConstructor, NAME, next);

  var getIterationMethod = function (KIND) {
    if (KIND === DEFAULT && defaultIterator) return defaultIterator;
    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];
    switch (KIND) {
      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };
      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };
      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };
    } return function () { return new IteratorConstructor(this); };
  };

  var TO_STRING_TAG = NAME + ' Iterator';
  var INCORRECT_VALUES_NAME = false;
  var IterablePrototype = Iterable.prototype;
  var nativeIterator = IterablePrototype[ITERATOR]
    || IterablePrototype['@@iterator']
    || DEFAULT && IterablePrototype[DEFAULT];
  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
  var CurrentIteratorPrototype, methods, KEY;

  // fix native
  if (anyNativeIterator) {
    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
        if (setPrototypeOf) {
          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {
          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);
        }
      }
      // Set @@toStringTag to native iterators
      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;
    }
  }

  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {
      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);
    } else {
      INCORRECT_VALUES_NAME = true;
      defaultIterator = function values() { return call(nativeIterator, this); };
    }
  }

  // export additional methods
  if (DEFAULT) {
    methods = {
      values: getIterationMethod(VALUES),
      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
      entries: getIterationMethod(ENTRIES)
    };
    if (FORCED) for (KEY in methods) {
      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);
      }
    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
  }

  // define iterator
  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });
  }
  Iterators[NAME] = defaultIterator;

  return methods;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterators-core.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");

var ITERATOR = wellKnownSymbol('iterator');
var BUGGY_SAFARI_ITERATORS = false;

// `%IteratorPrototype%` object
// https://tc39.es/ecma262/#sec-%iteratorprototype%-object
var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;

/* eslint-disable es/no-array-prototype-keys -- safe */
if ([].keys) {
  arrayIterator = [].keys();
  // Safari 8 has buggy iterators w/o `next`
  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;
  else {
    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
  }
}

var NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {
  var test = {};
  // FF44- legacy iterators case
  return IteratorPrototype[ITERATOR].call(test) !== test;
});

if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};
else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);

// `%IteratorPrototype%[@@iterator]()` method
// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
if (!isCallable(IteratorPrototype[ITERATOR])) {
  defineBuiltIn(IteratorPrototype, ITERATOR, function () {
    return this;
  });
}

module.exports = {
  IteratorPrototype: IteratorPrototype,
  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterators.js ***!
  \*******************************************************************************************/
/***/ ((module) => {

module.exports = {};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\length-of-array-like.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\make-built-in.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").CONFIGURABLE);
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");

var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
var $String = String;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
var stringSlice = uncurryThis(''.slice);
var replace = uncurryThis(''.replace);
var join = uncurryThis([].join);

var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {
  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;
});

var TEMPLATE = String(String).split('String');

var makeBuiltIn = module.exports = function (value, name, options) {
  if (stringSlice($String(name), 0, 7) === 'Symbol(') {
    name = '[' + replace($String(name), /^Symbol\(([^)]*)\)/, '$1') + ']';
  }
  if (options && options.getter) name = 'get ' + name;
  if (options && options.setter) name = 'set ' + name;
  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {
    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });
    else value.name = name;
  }
  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
    defineProperty(value, 'length', { value: options.arity });
  }
  try {
    if (options && hasOwn(options, 'constructor') && options.constructor) {
      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });
    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
    } else if (value.prototype) value.prototype = undefined;
  } catch (error) { /* empty */ }
  var state = enforceInternalState(value);
  if (!hasOwn(state, 'source')) {
    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');
  } return value;
};

// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString = makeBuiltIn(function toString() {
  return isCallable(this) && getInternalState(this).source || inspectSource(this);
}, 'toString');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\math-trunc.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\math-trunc.js ***!
  \********************************************************************************************/
/***/ ((module) => {

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\microtask.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\microtask.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var macrotask = (__webpack_require__(/*! ../internals/task */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js").set);
var Queue = __webpack_require__(/*! ../internals/queue */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js");
var IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js");
var IS_IOS_PEBBLE = __webpack_require__(/*! ../internals/engine-is-ios-pebble */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios-pebble.js");
var IS_WEBOS_WEBKIT = __webpack_require__(/*! ../internals/engine-is-webos-webkit */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-webos-webkit.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

var MutationObserver = global.MutationObserver || global.WebKitMutationObserver;
var document = global.document;
var process = global.process;
var Promise = global.Promise;
// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`
var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');
var microtask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
var notify, toggle, node, promise, then;

// modern engines have queueMicrotask method
if (!microtask) {
  var queue = new Queue();

  var flush = function () {
    var parent, fn;
    if (IS_NODE && (parent = process.domain)) parent.exit();
    while (fn = queue.get()) try {
      fn();
    } catch (error) {
      if (queue.head) notify();
      throw error;
    }
    if (parent) parent.enter();
  };

  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339
  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898
  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {
    toggle = true;
    node = document.createTextNode('');
    new MutationObserver(flush).observe(node, { characterData: true });
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    promise = Promise.resolve(undefined);
    // workaround of WebKit ~ iOS Safari 10.1 bug
    promise.constructor = Promise;
    then = bind(promise.then, promise);
    notify = function () {
      then(flush);
    };
  // Node.js without promises
  } else if (IS_NODE) {
    notify = function () {
      process.nextTick(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessage
  // - onreadystatechange
  // - setTimeout
  } else {
    // `webpack` dev server bug on IE global methods - use bind(fn, global)
    macrotask = bind(macrotask, global);
    notify = function () {
      macrotask(flush);
    };
  }

  microtask = function (fn) {
    if (!queue.head) notify();
    queue.add(fn);
  };
}

module.exports = microtask;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\new-promise-capability.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");

var $TypeError = TypeError;

var PromiseCapability = function (C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw $TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aCallable(resolve);
  this.reject = aCallable(reject);
};

// `NewPromiseCapability` abstract operation
// https://tc39.es/ecma262/#sec-newpromisecapability
module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-assign.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-assign.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");

// eslint-disable-next-line es/no-object-assign -- safe
var $assign = Object.assign;
// eslint-disable-next-line es/no-object-defineproperty -- required for testing
var defineProperty = Object.defineProperty;
var concat = uncurryThis([].concat);

// `Object.assign` method
// https://tc39.es/ecma262/#sec-object.assign
module.exports = !$assign || fails(function () {
  // should have correct order of operations (Edge bug)
  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {
    enumerable: true,
    get: function () {
      defineProperty(this, 'b', {
        value: 3,
        enumerable: false
      });
    }
  }), { b: 2 })).b !== 1) return true;
  // should work with symbols and should have deterministic property order (V8 bug)
  var A = {};
  var B = {};
  // eslint-disable-next-line es/no-symbol -- safe
  var symbol = Symbol();
  var alphabet = 'abcdefghijklmnopqrst';
  A[symbol] = 7;
  alphabet.split('').forEach(function (chr) { B[chr] = chr; });
  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
  var T = toObject(target);
  var argumentsLength = arguments.length;
  var index = 1;
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  var propertyIsEnumerable = propertyIsEnumerableModule.f;
  while (argumentsLength > index) {
    var S = IndexedObject(arguments[index++]);
    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) {
      key = keys[j++];
      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
    }
  } return T;
} : $assign;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-create.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var definePropertiesModule = __webpack_require__(/*! ../internals/object-define-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");
var html = __webpack_require__(/*! ../internals/html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js");
var documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-define-properties.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-define-property.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js");
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  } return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js":
/*!********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-descriptor.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js");

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names-external.js":
/*!************************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-names-external.js ***!
  \************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-object-getownpropertynames -- safe */
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var $getOwnPropertyNames = (__webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js").f);
var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return $getOwnPropertyNames(it);
  } catch (error) {
    return arraySlice(windowNames);
  }
};

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && classof(it) == 'Window'
    ? getWindowNames(it)
    : $getOwnPropertyNames(toIndexedObject(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-names.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");

var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js":
/*!*****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-symbols.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-prototype-of.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(/*! ../internals/correct-prototype-getter */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\correct-prototype-getter.js");

var IE_PROTO = sharedKey('IE_PROTO');
var $Object = Object;
var ObjectPrototype = $Object.prototype;

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es/no-object-getprototypeof -- safe
module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {
  var object = toObject(O);
  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
  var constructor = object.constructor;
  if (isCallable(constructor) && object instanceof constructor) {
    return constructor.prototype;
  } return object instanceof $Object ? ObjectPrototype : null;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-is-prototype-of.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = uncurryThis({}.isPrototypeOf);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-keys-internal.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var indexOf = (__webpack_require__(/*! ../internals/array-includes */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-includes.js").indexOf);
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");

var push = uncurryThis([].push);

module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-keys.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-property-is-enumerable.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-set-prototype-of.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable no-proto -- safe */
var uncurryThisAccessor = __webpack_require__(/*! ../internals/function-uncurry-this-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-accessor.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var aPossiblePrototype = __webpack_require__(/*! ../internals/a-possible-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-possible-prototype.js");

// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
// Works with __proto__ only. Old v8 can't work with null proto objects.
// eslint-disable-next-line es/no-object-setprototypeof -- safe
module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {
  var CORRECT_SETTER = false;
  var test = {};
  var setter;
  try {
    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');
    setter(test, []);
    CORRECT_SETTER = test instanceof Array;
  } catch (error) { /* empty */ }
  return function setPrototypeOf(O, proto) {
    anObject(O);
    aPossiblePrototype(proto);
    if (CORRECT_SETTER) setter(O, proto);
    else O.__proto__ = proto;
    return O;
  };
}() : undefined);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-to-string.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-to-string.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");

// `Object.prototype.toString` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.tostring
module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
  return '[object ' + classof(this) + ']';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ordinary-to-primitive.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\ordinary-to-primitive.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw $TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\own-keys.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\own-keys.js ***!
  \******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");

var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\path.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

module.exports = global;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\perform.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = function (exec) {
  try {
    return { error: false, value: exec() };
  } catch (error) {
    return { error: true, value: error };
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-constructor-detection.js ***!
  \***************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var IS_BROWSER = __webpack_require__(/*! ../internals/engine-is-browser */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-browser.js");
var IS_DENO = __webpack_require__(/*! ../internals/engine-is-deno */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var SPECIES = wellKnownSymbol('species');
var SUBCLASSING = false;
var NATIVE_PROMISE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);

var FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {
  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);
  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);
  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
  // We can't detect it synchronously, so just check versions
  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;
  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution
  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;
  // We can't use @@species feature detection in V8 since it causes
  // deoptimization and performance degradation
  // https://github.com/zloirock/core-js/issues/679
  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {
    // Detect correctness of subclassing with @@species support
    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });
    var FakePromise = function (exec) {
      exec(function () { /* empty */ }, function () { /* empty */ });
    };
    var constructor = promise.constructor = {};
    constructor[SPECIES] = FakePromise;
    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;
    if (!SUBCLASSING) return true;
  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
  } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT;
});

module.exports = {
  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,
  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,
  SUBCLASSING: SUBCLASSING
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-native-constructor.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

module.exports = global.Promise;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-resolve.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-resolve.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var newPromiseCapability = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js":
/*!*********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-statics-incorrect-iteration.js ***!
  \*********************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var checkCorrectnessOfIteration = __webpack_require__(/*! ../internals/check-correctness-of-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\check-correctness-of-iteration.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);

module.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {
  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\queue.js ***!
  \***************************************************************************************/
/***/ ((module) => {

var Queue = function () {
  this.head = null;
  this.tail = null;
};

Queue.prototype = {
  add: function (item) {
    var entry = { item: item, next: null };
    var tail = this.tail;
    if (tail) tail.next = entry;
    else this.head = entry;
    this.tail = entry;
  },
  get: function () {
    var entry = this.head;
    if (entry) {
      var next = this.head = entry.next;
      if (next === null) this.tail = null;
      return entry.item;
    }
  }
};

module.exports = Queue;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-exec-abstract.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var regexpExec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");

var $TypeError = TypeError;

// `RegExpExec` abstract operation
// https://tc39.es/ecma262/#sec-regexpexec
module.exports = function (R, S) {
  var exec = R.exec;
  if (isCallable(exec)) {
    var result = call(exec, R, S);
    if (result !== null) anObject(result);
    return result;
  }
  if (classof(R) === 'RegExp') return call(regexpExec, R, S);
  throw $TypeError('RegExp#exec called on incompatible receiver');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-exec.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
/* eslint-disable regexp/no-useless-quantifier -- testing */
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var regexpFlags = __webpack_require__(/*! ../internals/regexp-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js");
var stickyHelpers = __webpack_require__(/*! ../internals/regexp-sticky-helpers */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-sticky-helpers.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var getInternalState = (__webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js").get);
var UNSUPPORTED_DOT_ALL = __webpack_require__(/*! ../internals/regexp-unsupported-dot-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-dot-all.js");
var UNSUPPORTED_NCG = __webpack_require__(/*! ../internals/regexp-unsupported-ncg */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-ncg.js");

var nativeReplace = shared('native-string-replace', String.prototype.replace);
var nativeExec = RegExp.prototype.exec;
var patchedExec = nativeExec;
var charAt = uncurryThis(''.charAt);
var indexOf = uncurryThis(''.indexOf);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);

var UPDATES_LAST_INDEX_WRONG = (function () {
  var re1 = /a/;
  var re2 = /b*/g;
  call(nativeExec, re1, 'a');
  call(nativeExec, re2, 'a');
  return re1.lastIndex !== 0 || re2.lastIndex !== 0;
})();

var UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;

// nonparticipating capturing group, copied from es5-shim's String#split patch.
var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;

if (PATCH) {
  patchedExec = function exec(string) {
    var re = this;
    var state = getInternalState(re);
    var str = toString(string);
    var raw = state.raw;
    var result, reCopy, lastIndex, match, i, object, group;

    if (raw) {
      raw.lastIndex = re.lastIndex;
      result = call(patchedExec, raw, str);
      re.lastIndex = raw.lastIndex;
      return result;
    }

    var groups = state.groups;
    var sticky = UNSUPPORTED_Y && re.sticky;
    var flags = call(regexpFlags, re);
    var source = re.source;
    var charsAdded = 0;
    var strCopy = str;

    if (sticky) {
      flags = replace(flags, 'y', '');
      if (indexOf(flags, 'g') === -1) {
        flags += 'g';
      }

      strCopy = stringSlice(str, re.lastIndex);
      // Support anchored sticky behavior.
      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\n')) {
        source = '(?: ' + source + ')';
        strCopy = ' ' + strCopy;
        charsAdded++;
      }
      // ^(? + rx + ) is needed, in combination with some str slicing, to
      // simulate the 'y' flag.
      reCopy = new RegExp('^(?:' + source + ')', flags);
    }

    if (NPCG_INCLUDED) {
      reCopy = new RegExp('^' + source + '$(?!\\s)', flags);
    }
    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;

    match = call(nativeExec, sticky ? reCopy : re, strCopy);

    if (sticky) {
      if (match) {
        match.input = stringSlice(match.input, charsAdded);
        match[0] = stringSlice(match[0], charsAdded);
        match.index = re.lastIndex;
        re.lastIndex += match[0].length;
      } else re.lastIndex = 0;
    } else if (UPDATES_LAST_INDEX_WRONG && match) {
      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
    }
    if (NPCG_INCLUDED && match && match.length > 1) {
      // Fix browsers whose `exec` methods don't consistently return `undefined`
      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/
      call(nativeReplace, match[0], reCopy, function () {
        for (i = 1; i < arguments.length - 2; i++) {
          if (arguments[i] === undefined) match[i] = undefined;
        }
      });
    }

    if (match && groups) {
      match.groups = object = create(null);
      for (i = 0; i < groups.length; i++) {
        group = groups[i];
        object[group[0]] = match[group[1]];
      }
    }

    return match;
  };
}

module.exports = patchedExec;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-flags.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");

// `RegExp.prototype.flags` getter implementation
// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.hasIndices) result += 'd';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.dotAll) result += 's';
  if (that.unicode) result += 'u';
  if (that.unicodeSets) result += 'v';
  if (that.sticky) result += 'y';
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-get-flags.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-get-flags.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var regExpFlags = __webpack_require__(/*! ../internals/regexp-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js");

var RegExpPrototype = RegExp.prototype;

module.exports = function (R) {
  var flags = R.flags;
  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)
    ? call(regExpFlags, R) : flags;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-sticky-helpers.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-sticky-helpers.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
var $RegExp = global.RegExp;

var UNSUPPORTED_Y = fails(function () {
  var re = $RegExp('a', 'y');
  re.lastIndex = 2;
  return re.exec('abcd') != null;
});

// UC Browser bug
// https://github.com/zloirock/core-js/issues/1008
var MISSED_STICKY = UNSUPPORTED_Y || fails(function () {
  return !$RegExp('a', 'y').sticky;
});

var BROKEN_CARET = UNSUPPORTED_Y || fails(function () {
  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687
  var re = $RegExp('^r', 'gy');
  re.lastIndex = 2;
  return re.exec('str') != null;
});

module.exports = {
  BROKEN_CARET: BROKEN_CARET,
  MISSED_STICKY: MISSED_STICKY,
  UNSUPPORTED_Y: UNSUPPORTED_Y
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-dot-all.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-unsupported-dot-all.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('.', 's');
  return !(re.dotAll && re.exec('\n') && re.flags === 's');
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-ncg.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-unsupported-ncg.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('(?<a>b)', 'g');
  return re.exec('b').groups.a !== 'b' ||
    'b'.replace(re, '$<a>c') !== 'bc';
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\require-object-coercible.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");

var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (isNullOrUndefined(it)) throw $TypeError("Can't call method on " + it);
  return it;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-species.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\set-species.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");

var SPECIES = wellKnownSymbol('species');

module.exports = function (CONSTRUCTOR_NAME) {
  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);

  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
    defineBuiltInAccessor(Constructor, SPECIES, {
      configurable: true,
      get: function () { return this; }
    });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\set-to-string-tag.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

module.exports = function (target, TAG, STATIC) {
  if (target && !STATIC) target = target.prototype;
  if (target && !hasOwn(target, TO_STRING_TAG)) {
    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared-key.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");

var keys = shared('keys');

module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared-store.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");

var SHARED = '__core-js_shared__';
var store = global[SHARED] || defineGlobalProperty(SHARED, {});

module.exports = store;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var store = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.29.0',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\species-constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\species-constructor.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var aConstructor = __webpack_require__(/*! ../internals/a-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-constructor.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var SPECIES = wellKnownSymbol('species');

// `SpeciesConstructor` abstract operation
// https://tc39.es/ecma262/#sec-speciesconstructor
module.exports = function (O, defaultConstructor) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-html-forced.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-html-forced.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// check the existence of a method, lowercase
// of a tag and escaping quotes in arguments
module.exports = function (METHOD_NAME) {
  return fails(function () {
    var test = ''[METHOD_NAME]('"');
    return test !== test.toLowerCase() || test.split('"').length > 3;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-multibyte.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var stringSlice = uncurryThis(''.slice);

var createMethod = function (CONVERT_TO_STRING) {
  return function ($this, pos) {
    var S = toString(requireObjectCoercible($this));
    var position = toIntegerOrInfinity(pos);
    var size = S.length;
    var first, second;
    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
    first = charCodeAt(S, position);
    return first < 0xD800 || first > 0xDBFF || position + 1 === size
      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
        ? CONVERT_TO_STRING
          ? charAt(S, position)
          : first
        : CONVERT_TO_STRING
          ? stringSlice(S, position, position + 2)
          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
  };
};

module.exports = {
  // `String.prototype.codePointAt` method
  // https://tc39.es/ecma262/#sec-string.prototype.codepointat
  codeAt: createMethod(false),
  // `String.prototype.at` method
  // https://github.com/mathiasbynens/String.prototype.at
  charAt: createMethod(true)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-punycode-to-ascii.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-punycode-to-ascii.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1
var base = 36;
var tMin = 1;
var tMax = 26;
var skew = 38;
var damp = 700;
var initialBias = 72;
var initialN = 128; // 0x80
var delimiter = '-'; // '\x2D'
var regexNonASCII = /[^\0-\u007E]/; // non-ASCII chars
var regexSeparators = /[.\u3002\uFF0E\uFF61]/g; // RFC 3490 separators
var OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';
var baseMinusTMin = base - tMin;

var $RangeError = RangeError;
var exec = uncurryThis(regexSeparators.exec);
var floor = Math.floor;
var fromCharCode = String.fromCharCode;
var charCodeAt = uncurryThis(''.charCodeAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var split = uncurryThis(''.split);
var toLowerCase = uncurryThis(''.toLowerCase);

/**
 * Creates an array containing the numeric code points of each Unicode
 * character in the string. While JavaScript uses UCS-2 internally,
 * this function will convert a pair of surrogate halves (each of which
 * UCS-2 exposes as separate characters) into a single code point,
 * matching UTF-16.
 */
var ucs2decode = function (string) {
  var output = [];
  var counter = 0;
  var length = string.length;
  while (counter < length) {
    var value = charCodeAt(string, counter++);
    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
      // It's a high surrogate, and there is a next character.
      var extra = charCodeAt(string, counter++);
      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.
        push(output, ((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
      } else {
        // It's an unmatched surrogate; only append this code unit, in case the
        // next code unit is the high surrogate of a surrogate pair.
        push(output, value);
        counter--;
      }
    } else {
      push(output, value);
    }
  }
  return output;
};

/**
 * Converts a digit/integer into a basic code point.
 */
var digitToBasic = function (digit) {
  //  0..25 map to ASCII a..z or A..Z
  // 26..35 map to ASCII 0..9
  return digit + 22 + 75 * (digit < 26);
};

/**
 * Bias adaptation function as per section 3.4 of RFC 3492.
 * https://tools.ietf.org/html/rfc3492#section-3.4
 */
var adapt = function (delta, numPoints, firstTime) {
  var k = 0;
  delta = firstTime ? floor(delta / damp) : delta >> 1;
  delta += floor(delta / numPoints);
  while (delta > baseMinusTMin * tMax >> 1) {
    delta = floor(delta / baseMinusTMin);
    k += base;
  }
  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
};

/**
 * Converts a string of Unicode symbols (e.g. a domain name label) to a
 * Punycode string of ASCII-only symbols.
 */
var encode = function (input) {
  var output = [];

  // Convert the input in UCS-2 to an array of Unicode code points.
  input = ucs2decode(input);

  // Cache the length.
  var inputLength = input.length;

  // Initialize the state.
  var n = initialN;
  var delta = 0;
  var bias = initialBias;
  var i, currentValue;

  // Handle the basic code points.
  for (i = 0; i < input.length; i++) {
    currentValue = input[i];
    if (currentValue < 0x80) {
      push(output, fromCharCode(currentValue));
    }
  }

  var basicLength = output.length; // number of basic code points.
  var handledCPCount = basicLength; // number of code points that have been handled;

  // Finish the basic string with a delimiter unless it's empty.
  if (basicLength) {
    push(output, delimiter);
  }

  // Main encoding loop:
  while (handledCPCount < inputLength) {
    // All non-basic code points < n have been handled already. Find the next larger one:
    var m = maxInt;
    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue >= n && currentValue < m) {
        m = currentValue;
      }
    }

    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.
    var handledCPCountPlusOne = handledCPCount + 1;
    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
      throw $RangeError(OVERFLOW_ERROR);
    }

    delta += (m - n) * handledCPCountPlusOne;
    n = m;

    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue < n && ++delta > maxInt) {
        throw $RangeError(OVERFLOW_ERROR);
      }
      if (currentValue == n) {
        // Represent delta as a generalized variable-length integer.
        var q = delta;
        var k = base;
        while (true) {
          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
          if (q < t) break;
          var qMinusT = q - t;
          var baseMinusT = base - t;
          push(output, fromCharCode(digitToBasic(t + qMinusT % baseMinusT)));
          q = floor(qMinusT / baseMinusT);
          k += base;
        }

        push(output, fromCharCode(digitToBasic(q)));
        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
        delta = 0;
        handledCPCount++;
      }
    }

    delta++;
    n++;
  }
  return join(output, '');
};

module.exports = function (input) {
  var encoded = [];
  var labels = split(replace(toLowerCase(input), regexSeparators, '\u002E'), '.');
  var i, label;
  for (i = 0; i < labels.length; i++) {
    label = labels[i];
    push(encoded, exec(regexNonASCII, label) ? 'xn--' + encode(label) : label);
  }
  return join(encoded, '.');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim-forced.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-trim-forced.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var PROPER_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").PROPER);
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js");

var non = '\u200B\u0085\u180E';

// check that a method works with the correct list
// of whitespaces and has a correct name
module.exports = function (METHOD_NAME) {
  return fails(function () {
    return !!whitespaces[METHOD_NAME]()
      || non[METHOD_NAME]() !== non
      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-trim.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js");

var replace = uncurryThis(''.replace);
var ltrim = RegExp('^[' + whitespaces + ']+');
var rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');

// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation
var createMethod = function (TYPE) {
  return function ($this) {
    var string = toString(requireObjectCoercible($this));
    if (TYPE & 1) string = replace(string, ltrim, '');
    if (TYPE & 2) string = replace(string, rtrim, '$1');
    return string;
  };
};

module.exports = {
  // `String.prototype.{ trimLeft, trimStart }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimstart
  start: createMethod(1),
  // `String.prototype.{ trimRight, trimEnd }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimend
  end: createMethod(2),
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: createMethod(3)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-constructor-detection.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-symbol -- required for testing */
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol();
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-define-to-primitive.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-define-to-primitive.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

module.exports = function () {
  var Symbol = getBuiltIn('Symbol');
  var SymbolPrototype = Symbol && Symbol.prototype;
  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;
  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {
    // `Symbol.prototype[@@toPrimitive]` method
    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
    // eslint-disable-next-line no-unused-vars -- required for .length
    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {
      return call(valueOf, this);
    }, { arity: 1 });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-registry-detection.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

/* eslint-disable es/no-symbol -- safe */
module.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\task.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var html = __webpack_require__(/*! ../internals/html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");
var createElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

var set = global.setImmediate;
var clear = global.clearImmediate;
var process = global.process;
var Dispatch = global.Dispatch;
var Function = global.Function;
var MessageChannel = global.MessageChannel;
var String = global.String;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var $location, defer, channel, port;

fails(function () {
  // Deno throws a ReferenceError on `location` access without `--location` flag
  $location = global.location;
});

var run = function (id) {
  if (hasOwn(queue, id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};

var runner = function (id) {
  return function () {
    run(id);
  };
};

var eventListener = function (event) {
  run(event.data);
};

var globalPostMessageDefer = function (id) {
  // old engines have not location.origin
  global.postMessage(String(id), $location.protocol + '//' + $location.host);
};

// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!set || !clear) {
  set = function setImmediate(handler) {
    validateArgumentsLength(arguments.length, 1);
    var fn = isCallable(handler) ? handler : Function(handler);
    var args = arraySlice(arguments, 1);
    queue[++counter] = function () {
      apply(fn, undefined, args);
    };
    defer(counter);
    return counter;
  };
  clear = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (IS_NODE) {
    defer = function (id) {
      process.nextTick(runner(id));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(runner(id));
    };
  // Browsers with MessageChannel, includes WebWorkers
  // except iOS - https://github.com/zloirock/core-js/issues/624
  } else if (MessageChannel && !IS_IOS) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = eventListener;
    defer = bind(port.postMessage, port);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (
    global.addEventListener &&
    isCallable(global.postMessage) &&
    !global.importScripts &&
    $location && $location.protocol !== 'file:' &&
    !fails(globalPostMessageDefer)
  ) {
    defer = globalPostMessageDefer;
    global.addEventListener('message', eventListener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in createElement('script')) {
    defer = function (id) {
      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(runner(id), 0);
    };
  }
}

module.exports = {
  set: set,
  clear: clear
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\this-number-value.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\this-number-value.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

// `thisNumberValue` abstract operation
// https://tc39.es/ecma262/#sec-thisnumbervalue
module.exports = uncurryThis(1.0.valueOf);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-absolute-index.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");

var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-indexed-object.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-integer-or-infinity.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trunc = __webpack_require__(/*! ../internals/math-trunc */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\math-trunc.js");

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-length.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-primitive.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var ordinaryToPrimitive = __webpack_require__(/*! ../internals/ordinary-to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ordinary-to-primitive.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-property-key.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-string-tag-support.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};

test[TO_STRING_TAG] = 'z';

module.exports = String(test) === '[object z]';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-string.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");

var $String = String;

module.exports = function (argument) {
  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
  return $String(argument);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\try-to-string.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

var $String = String;

module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js":
/*!*************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\uid.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.0.toString);

module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\url-constructor-detection.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");

var ITERATOR = wellKnownSymbol('iterator');

module.exports = !fails(function () {
  // eslint-disable-next-line unicorn/relative-url-style -- required for testing
  var url = new URL('b?a=1&b=2&c=3', 'http://a');
  var searchParams = url.searchParams;
  var result = '';
  url.pathname = 'c%20d';
  searchParams.forEach(function (value, key) {
    searchParams['delete']('b');
    result += key + value;
  });
  return (IS_PURE && !url.toJSON)
    || (!searchParams.size && (IS_PURE || !DESCRIPTORS))
    || !searchParams.sort
    || url.href !== 'http://a/c%20d?a=1&c=3'
    || searchParams.get('c') !== '3'
    || String(new URLSearchParams('?a=1')) !== 'a=1'
    || !searchParams[ITERATOR]
    // throws in Edge
    || new URL('https://a@b').username !== 'a'
    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'
    // not punycoded in Edge
    || new URL('http://тест').host !== 'xn--e1aybc'
    // not escaped in Chrome 62-
    || new URL('http://a#б').hash !== '#%D0%B1'
    // fails in Chrome 66-
    || result !== 'a1c3'
    // throws in Safari
    || new URL('http://x', undefined).host !== 'x';
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\use-symbol-as-uid.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\v8-prototype-define-bug.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () { /* empty */ }, 'prototype', {
    value: 42,
    writable: false
  }).prototype != 42;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\validate-arguments-length.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

var $TypeError = TypeError;

module.exports = function (passed, required) {
  if (passed < required) throw $TypeError('Not enough arguments');
  return passed;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\weak-map-basic-detection.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\weak-map-basic-detection.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var WeakMap = global.WeakMap;

module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol-define.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var path = __webpack_require__(/*! ../internals/path */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);

module.exports = function (NAME) {
  var Symbol = path.Symbol || (path.Symbol = {});
  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {
    value: wrappedWellKnownSymbolModule.f(NAME)
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol-wrapped.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

exports.f = wellKnownSymbol;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js");

var Symbol = global.Symbol;
var WellKnownSymbolsStore = shared('wks');
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name)) {
    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)
      ? Symbol[name]
      : createWellKnownSymbol('Symbol.' + name);
  } return WellKnownSymbolsStore[name];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\whitespaces.js ***!
  \*********************************************************************************************/
/***/ ((module) => {

// a string of all valid unicode whitespaces
module.exports = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' +
  '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.concat.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.concat.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var doesNotExceedSafeInteger = __webpack_require__(/*! ../internals/does-not-exceed-safe-integer */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\does-not-exceed-safe-integer.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js");
var arrayMethodHasSpeciesSupport = __webpack_require__(/*! ../internals/array-method-has-species-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');

// We can't use this feature detection in V8 since it causes
// deoptimization and serious performance degradation
// https://github.com/zloirock/core-js/issues/679
var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {
  var array = [];
  array[IS_CONCAT_SPREADABLE] = false;
  return array.concat()[0] !== array;
});

var isConcatSpreadable = function (O) {
  if (!isObject(O)) return false;
  var spreadable = O[IS_CONCAT_SPREADABLE];
  return spreadable !== undefined ? !!spreadable : isArray(O);
};

var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');

// `Array.prototype.concat` method
// https://tc39.es/ecma262/#sec-array.prototype.concat
// with adding support of @@isConcatSpreadable and @@species
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  concat: function concat(arg) {
    var O = toObject(this);
    var A = arraySpeciesCreate(O, 0);
    var n = 0;
    var i, k, length, len, E;
    for (i = -1, length = arguments.length; i < length; i++) {
      E = i === -1 ? O : arguments[i];
      if (isConcatSpreadable(E)) {
        len = lengthOfArrayLike(E);
        doesNotExceedSafeInteger(n + len);
        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);
      } else {
        doesNotExceedSafeInteger(n + 1);
        createProperty(A, n++, E);
      }
    }
    A.length = n;
    return A;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.iterator.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\add-to-unscopables.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var defineIterator = __webpack_require__(/*! ../internals/iterator-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js");
var createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");

var ARRAY_ITERATOR = 'Array Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);

// `Array.prototype.entries` method
// https://tc39.es/ecma262/#sec-array.prototype.entries
// `Array.prototype.keys` method
// https://tc39.es/ecma262/#sec-array.prototype.keys
// `Array.prototype.values` method
// https://tc39.es/ecma262/#sec-array.prototype.values
// `Array.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-array.prototype-@@iterator
// `CreateArrayIterator` internal method
// https://tc39.es/ecma262/#sec-createarrayiterator
module.exports = defineIterator(Array, 'Array', function (iterated, kind) {
  setInternalState(this, {
    type: ARRAY_ITERATOR,
    target: toIndexedObject(iterated), // target
    index: 0,                          // next index
    kind: kind                         // kind
  });
// `%ArrayIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
}, function () {
  var state = getInternalState(this);
  var target = state.target;
  var kind = state.kind;
  var index = state.index++;
  if (!target || index >= target.length) {
    state.target = undefined;
    return createIterResultObject(undefined, true);
  }
  if (kind == 'keys') return createIterResultObject(index, false);
  if (kind == 'values') return createIterResultObject(target[index], false);
  return createIterResultObject([index, target[index]], false);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values%
// https://tc39.es/ecma262/#sec-createunmappedargumentsobject
// https://tc39.es/ecma262/#sec-createmappedargumentsobject
var values = Iterators.Arguments = Iterators.Array;

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

// V8 ~ Chrome 45- bug
if (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {
  defineProperty(values, 'name', { value: 'values' });
} catch (error) { /* empty */ }


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.slice.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var arrayMethodHasSpeciesSupport = __webpack_require__(/*! ../internals/array-method-has-species-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js");
var nativeSlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');

var SPECIES = wellKnownSymbol('species');
var $Array = Array;
var max = Math.max;

// `Array.prototype.slice` method
// https://tc39.es/ecma262/#sec-array.prototype.slice
// fallback for not array-like ES3 strings and DOM objects
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  slice: function slice(start, end) {
    var O = toIndexedObject(this);
    var length = lengthOfArrayLike(O);
    var k = toAbsoluteIndex(start, length);
    var fin = toAbsoluteIndex(end === undefined ? length : end, length);
    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
    var Constructor, result, n;
    if (isArray(O)) {
      Constructor = O.constructor;
      // cross-realm fallback
      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {
        Constructor = undefined;
      } else if (isObject(Constructor)) {
        Constructor = Constructor[SPECIES];
        if (Constructor === null) Constructor = undefined;
      }
      if (Constructor === $Array || Constructor === undefined) {
        return nativeSlice(O, k, fin);
      }
    }
    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));
    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);
    result.length = n;
    return result;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.sort.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.sort.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var deletePropertyOrThrow = __webpack_require__(/*! ../internals/delete-property-or-throw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\delete-property-or-throw.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var internalSort = __webpack_require__(/*! ../internals/array-sort */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js");
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js");
var FF = __webpack_require__(/*! ../internals/engine-ff-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-ff-version.js");
var IE_OR_EDGE = __webpack_require__(/*! ../internals/engine-is-ie-or-edge */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ie-or-edge.js");
var V8 = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");
var WEBKIT = __webpack_require__(/*! ../internals/engine-webkit-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-webkit-version.js");

var test = [];
var nativeSort = uncurryThis(test.sort);
var push = uncurryThis(test.push);

// IE8-
var FAILS_ON_UNDEFINED = fails(function () {
  test.sort(undefined);
});
// V8 bug
var FAILS_ON_NULL = fails(function () {
  test.sort(null);
});
// Old WebKit
var STRICT_METHOD = arrayMethodIsStrict('sort');

var STABLE_SORT = !fails(function () {
  // feature detection can be too slow, so check engines versions
  if (V8) return V8 < 70;
  if (FF && FF > 3) return;
  if (IE_OR_EDGE) return true;
  if (WEBKIT) return WEBKIT < 603;

  var result = '';
  var code, chr, value, index;

  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)
  for (code = 65; code < 76; code++) {
    chr = String.fromCharCode(code);

    switch (code) {
      case 66: case 69: case 70: case 72: value = 3; break;
      case 68: case 71: value = 4; break;
      default: value = 2;
    }

    for (index = 0; index < 47; index++) {
      test.push({ k: chr + index, v: value });
    }
  }

  test.sort(function (a, b) { return b.v - a.v; });

  for (index = 0; index < test.length; index++) {
    chr = test[index].k.charAt(0);
    if (result.charAt(result.length - 1) !== chr) result += chr;
  }

  return result !== 'DGBEFHACIJK';
});

var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

var getSortCompare = function (comparefn) {
  return function (x, y) {
    if (y === undefined) return -1;
    if (x === undefined) return 1;
    if (comparefn !== undefined) return +comparefn(x, y) || 0;
    return toString(x) > toString(y) ? 1 : -1;
  };
};

// `Array.prototype.sort` method
// https://tc39.es/ecma262/#sec-array.prototype.sort
$({ target: 'Array', proto: true, forced: FORCED }, {
  sort: function sort(comparefn) {
    if (comparefn !== undefined) aCallable(comparefn);

    var array = toObject(this);

    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);

    var items = [];
    var arrayLength = lengthOfArrayLike(array);
    var itemsLength, index;

    for (index = 0; index < arrayLength; index++) {
      if (index in array) push(items, array[index]);
    }

    internalSort(items, getSortCompare(comparefn));

    itemsLength = lengthOfArrayLike(items);
    index = 0;

    while (index < itemsLength) array[index] = items[index++];
    while (index < arrayLength) deletePropertyOrThrow(array, index++);

    return array;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.function.name.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var FUNCTION_NAME_EXISTS = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").EXISTS);
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");

var FunctionPrototype = Function.prototype;
var functionToString = uncurryThis(FunctionPrototype.toString);
var nameRE = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;
var regExpExec = uncurryThis(nameRE.exec);
var NAME = 'name';

// Function instances `.name` property
// https://tc39.es/ecma262/#sec-function-instances-name
if (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {
  defineBuiltInAccessor(FunctionPrototype, NAME, {
    configurable: true,
    get: function () {
      try {
        return regExpExec(nameRE, functionToString(this))[1];
      } catch (error) {
        return '';
      }
    }
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.json.stringify.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.json.stringify.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");
var getReplacerFunction = __webpack_require__(/*! ../internals/get-json-replacer-function */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-json-replacer-function.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

var $String = String;
var $stringify = getBuiltIn('JSON', 'stringify');
var exec = uncurryThis(/./.exec);
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var replace = uncurryThis(''.replace);
var numberToString = uncurryThis(1.0.toString);

var tester = /[\uD800-\uDFFF]/g;
var low = /^[\uD800-\uDBFF]$/;
var hi = /^[\uDC00-\uDFFF]$/;

var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {
  var symbol = getBuiltIn('Symbol')();
  // MS Edge converts symbol values to JSON as {}
  return $stringify([symbol]) != '[null]'
    // WebKit converts symbol values to JSON as null
    || $stringify({ a: symbol }) != '{}'
    // V8 throws on boxed symbols
    || $stringify(Object(symbol)) != '{}';
});

// https://github.com/tc39/proposal-well-formed-stringify
var ILL_FORMED_UNICODE = fails(function () {
  return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
    || $stringify('\uDEAD') !== '"\\udead"';
});

var stringifyWithSymbolsFix = function (it, replacer) {
  var args = arraySlice(arguments);
  var $replacer = getReplacerFunction(replacer);
  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined
  args[1] = function (key, value) {
    // some old implementations (like WebKit) could pass numbers as keys
    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);
    if (!isSymbol(value)) return value;
  };
  return apply($stringify, null, args);
};

var fixIllFormed = function (match, offset, string) {
  var prev = charAt(string, offset - 1);
  var next = charAt(string, offset + 1);
  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
    return '\\u' + numberToString(charCodeAt(match, 0), 16);
  } return match;
};

if ($stringify) {
  // `JSON.stringify` method
  // https://tc39.es/ecma262/#sec-json.stringify
  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    stringify: function stringify(it, replacer, space) {
      var args = arraySlice(arguments);
      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;
    }
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.number.constructor.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var path = __webpack_require__(/*! ../internals/path */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var inheritIfRequired = __webpack_require__(/*! ../internals/inherit-if-required */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inherit-if-required.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getOwnPropertyNames = (__webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js").f);
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var thisNumberValue = __webpack_require__(/*! ../internals/this-number-value */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\this-number-value.js");
var trim = (__webpack_require__(/*! ../internals/string-trim */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js").trim);

var NUMBER = 'Number';
var NativeNumber = global[NUMBER];
var PureNumberNamespace = path[NUMBER];
var NumberPrototype = NativeNumber.prototype;
var TypeError = global.TypeError;
var stringSlice = uncurryThis(''.slice);
var charCodeAt = uncurryThis(''.charCodeAt);

// `ToNumeric` abstract operation
// https://tc39.es/ecma262/#sec-tonumeric
var toNumeric = function (value) {
  var primValue = toPrimitive(value, 'number');
  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);
};

// `ToNumber` abstract operation
// https://tc39.es/ecma262/#sec-tonumber
var toNumber = function (argument) {
  var it = toPrimitive(argument, 'number');
  var first, third, radix, maxCode, digits, length, index, code;
  if (isSymbol(it)) throw TypeError('Cannot convert a Symbol value to a number');
  if (typeof it == 'string' && it.length > 2) {
    it = trim(it);
    first = charCodeAt(it, 0);
    if (first === 43 || first === 45) {
      third = charCodeAt(it, 2);
      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix
    } else if (first === 48) {
      switch (charCodeAt(it, 1)) {
        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i
        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i
        default: return +it;
      }
      digits = stringSlice(it, 2);
      length = digits.length;
      for (index = 0; index < length; index++) {
        code = charCodeAt(digits, index);
        // parseInt parses a string to a first unavailable symbol
        // but ToNumber should return NaN if a string contains unavailable symbols
        if (code < 48 || code > maxCode) return NaN;
      } return parseInt(digits, radix);
    }
  } return +it;
};

var FORCED = isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'));

var calledWithNew = function (dummy) {
  // includes check on 1..constructor(foo) case
  return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); });
};

// `Number` constructor
// https://tc39.es/ecma262/#sec-number-constructor
var NumberWrapper = function Number(value) {
  var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));
  return calledWithNew(this) ? inheritIfRequired(Object(n), this, NumberWrapper) : n;
};

NumberWrapper.prototype = NumberPrototype;
if (FORCED && !IS_PURE) NumberPrototype.constructor = NumberWrapper;

$({ global: true, constructor: true, wrap: true, forced: FORCED }, {
  Number: NumberWrapper
});

// Use `internal/copy-constructor-properties` helper in `core-js@4`
var copyConstructorProperties = function (target, source) {
  for (var keys = DESCRIPTORS ? getOwnPropertyNames(source) : (
    // ES3:
    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
    // ES2015 (in case, if modules with ES2015 Number statics required before):
    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +
    // ESNext
    'fromString,range'
  ).split(','), j = 0, key; keys.length > j; j++) {
    if (hasOwn(source, key = keys[j]) && !hasOwn(target, key)) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};

if (IS_PURE && PureNumberNamespace) copyConstructorProperties(path[NUMBER], PureNumberNamespace);
if (FORCED || IS_PURE) copyConstructorProperties(path[NUMBER], NativeNumber);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.get-own-property-symbols.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.object.get-own-property-symbols.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });

// `Object.getOwnPropertySymbols` method
// https://tc39.es/ecma262/#sec-object.getownpropertysymbols
$({ target: 'Object', stat: true, forced: FORCED }, {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.object.to-string.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var toString = __webpack_require__(/*! ../internals/object-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-to-string.js");

// `Object.prototype.toString` method
// https://tc39.es/ecma262/#sec-object.prototype.tostring
if (!TO_STRING_TAG_SUPPORT) {
  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.all.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.all.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js");
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(/*! ../internals/promise-statics-incorrect-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js");

// `Promise.all` method
// https://tc39.es/ecma262/#sec-promise.all
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      var values = [];
      var counter = 0;
      var remaining = 1;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyCalled = false;
        remaining++;
        call($promiseResolve, C, promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.catch.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.catch.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// `Promise.prototype.catch` method
// https://tc39.es/ecma262/#sec-promise.prototype.catch
$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {
  'catch': function (onRejected) {
    return this.then(undefined, onRejected);
  }
});

// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['catch'];
  if (NativePromisePrototype['catch'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });
  }
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.constructor.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.constructor.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var setSpecies = __webpack_require__(/*! ../internals/set-species */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-species.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var speciesConstructor = __webpack_require__(/*! ../internals/species-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\species-constructor.js");
var task = (__webpack_require__(/*! ../internals/task */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js").set);
var microtask = __webpack_require__(/*! ../internals/microtask */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\microtask.js");
var hostReportErrors = __webpack_require__(/*! ../internals/host-report-errors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\host-report-errors.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var Queue = __webpack_require__(/*! ../internals/queue */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var PromiseConstructorDetection = __webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");

var PROMISE = 'Promise';
var FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;
var NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;
var NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;
var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
var setInternalState = InternalStateModule.set;
var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var PromiseConstructor = NativePromiseConstructor;
var PromisePrototype = NativePromisePrototype;
var TypeError = global.TypeError;
var document = global.document;
var process = global.process;
var newPromiseCapability = newPromiseCapabilityModule.f;
var newGenericPromiseCapability = newPromiseCapability;

var DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);
var UNHANDLED_REJECTION = 'unhandledrejection';
var REJECTION_HANDLED = 'rejectionhandled';
var PENDING = 0;
var FULFILLED = 1;
var REJECTED = 2;
var HANDLED = 1;
var UNHANDLED = 2;

var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && isCallable(then = it.then) ? then : false;
};

var callReaction = function (reaction, state) {
  var value = state.value;
  var ok = state.state == FULFILLED;
  var handler = ok ? reaction.ok : reaction.fail;
  var resolve = reaction.resolve;
  var reject = reaction.reject;
  var domain = reaction.domain;
  var result, then, exited;
  try {
    if (handler) {
      if (!ok) {
        if (state.rejection === UNHANDLED) onHandleUnhandled(state);
        state.rejection = HANDLED;
      }
      if (handler === true) result = value;
      else {
        if (domain) domain.enter();
        result = handler(value); // can throw
        if (domain) {
          domain.exit();
          exited = true;
        }
      }
      if (result === reaction.promise) {
        reject(TypeError('Promise-chain cycle'));
      } else if (then = isThenable(result)) {
        call(then, result, resolve, reject);
      } else resolve(result);
    } else reject(value);
  } catch (error) {
    if (domain && !exited) domain.exit();
    reject(error);
  }
};

var notify = function (state, isReject) {
  if (state.notified) return;
  state.notified = true;
  microtask(function () {
    var reactions = state.reactions;
    var reaction;
    while (reaction = reactions.get()) {
      callReaction(reaction, state);
    }
    state.notified = false;
    if (isReject && !state.rejection) onUnhandled(state);
  });
};

var dispatchEvent = function (name, promise, reason) {
  var event, handler;
  if (DISPATCH_EVENT) {
    event = document.createEvent('Event');
    event.promise = promise;
    event.reason = reason;
    event.initEvent(name, false, true);
    global.dispatchEvent(event);
  } else event = { promise: promise, reason: reason };
  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);
  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);
};

var onUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    var value = state.value;
    var IS_UNHANDLED = isUnhandled(state);
    var result;
    if (IS_UNHANDLED) {
      result = perform(function () {
        if (IS_NODE) {
          process.emit('unhandledRejection', value, promise);
        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
      if (result.error) throw result.value;
    }
  });
};

var isUnhandled = function (state) {
  return state.rejection !== HANDLED && !state.parent;
};

var onHandleUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    if (IS_NODE) {
      process.emit('rejectionHandled', promise);
    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);
  });
};

var bind = function (fn, state, unwrap) {
  return function (value) {
    fn(state, value, unwrap);
  };
};

var internalReject = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  state.value = value;
  state.state = REJECTED;
  notify(state, true);
};

var internalResolve = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  try {
    if (state.facade === value) throw TypeError("Promise can't be resolved itself");
    var then = isThenable(value);
    if (then) {
      microtask(function () {
        var wrapper = { done: false };
        try {
          call(then, value,
            bind(internalResolve, wrapper, state),
            bind(internalReject, wrapper, state)
          );
        } catch (error) {
          internalReject(wrapper, error, state);
        }
      });
    } else {
      state.value = value;
      state.state = FULFILLED;
      notify(state, false);
    }
  } catch (error) {
    internalReject({ done: false }, error, state);
  }
};

// constructor polyfill
if (FORCED_PROMISE_CONSTRUCTOR) {
  // 25.4.3.1 Promise(executor)
  PromiseConstructor = function Promise(executor) {
    anInstance(this, PromisePrototype);
    aCallable(executor);
    call(Internal, this);
    var state = getInternalPromiseState(this);
    try {
      executor(bind(internalResolve, state), bind(internalReject, state));
    } catch (error) {
      internalReject(state, error);
    }
  };

  PromisePrototype = PromiseConstructor.prototype;

  // eslint-disable-next-line no-unused-vars -- required for `.length`
  Internal = function Promise(executor) {
    setInternalState(this, {
      type: PROMISE,
      done: false,
      notified: false,
      parent: false,
      reactions: new Queue(),
      rejection: false,
      state: PENDING,
      value: undefined
    });
  };

  // `Promise.prototype.then` method
  // https://tc39.es/ecma262/#sec-promise.prototype.then
  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {
    var state = getInternalPromiseState(this);
    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
    state.parent = true;
    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;
    reaction.fail = isCallable(onRejected) && onRejected;
    reaction.domain = IS_NODE ? process.domain : undefined;
    if (state.state == PENDING) state.reactions.add(reaction);
    else microtask(function () {
      callReaction(reaction, state);
    });
    return reaction.promise;
  });

  OwnPromiseCapability = function () {
    var promise = new Internal();
    var state = getInternalPromiseState(promise);
    this.promise = promise;
    this.resolve = bind(internalResolve, state);
    this.reject = bind(internalReject, state);
  };

  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === PromiseConstructor || C === PromiseWrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };

  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {
    nativeThen = NativePromisePrototype.then;

    if (!NATIVE_PROMISE_SUBCLASSING) {
      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs
      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
        var that = this;
        return new PromiseConstructor(function (resolve, reject) {
          call(nativeThen, that, resolve, reject);
        }).then(onFulfilled, onRejected);
      // https://github.com/zloirock/core-js/issues/640
      }, { unsafe: true });
    }

    // make `.constructor === Promise` work for native promise-based APIs
    try {
      delete NativePromisePrototype.constructor;
    } catch (error) { /* empty */ }

    // make `instanceof Promise` work for native promise-based APIs
    if (setPrototypeOf) {
      setPrototypeOf(NativePromisePrototype, PromisePrototype);
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  Promise: PromiseConstructor
});

setToStringTag(PromiseConstructor, PROMISE, false, true);
setSpecies(PROMISE);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(/*! ../modules/es.promise.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.constructor.js");
__webpack_require__(/*! ../modules/es.promise.all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.all.js");
__webpack_require__(/*! ../modules/es.promise.catch */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.catch.js");
__webpack_require__(/*! ../modules/es.promise.race */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.race.js");
__webpack_require__(/*! ../modules/es.promise.reject */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.reject.js");
__webpack_require__(/*! ../modules/es.promise.resolve */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.resolve.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.race.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.race.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js");
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(/*! ../internals/promise-statics-incorrect-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js");

// `Promise.race` method
// https://tc39.es/ecma262/#sec-promise.race
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      iterate(iterable, function (promise) {
        call($promiseResolve, C, promise).then(capability.resolve, reject);
      });
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.reject.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.reject.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);

// `Promise.reject` method
// https://tc39.es/ecma262/#sec-promise.reject
$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  reject: function reject(r) {
    var capability = newPromiseCapabilityModule.f(this);
    call(capability.reject, undefined, r);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.resolve.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.resolve.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);
var promiseResolve = __webpack_require__(/*! ../internals/promise-resolve */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-resolve.js");

var PromiseConstructorWrapper = getBuiltIn('Promise');
var CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;

// `Promise.resolve` method
// https://tc39.es/ecma262/#sec-promise.resolve
$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {
  resolve: function resolve(x) {
    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.regexp.exec.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var exec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");

// `RegExp.prototype.exec` method
// https://tc39.es/ecma262/#sec-regexp.prototype.exec
$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {
  exec: exec
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.regexp.to-string.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var PROPER_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").PROPER);
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getRegExpFlags = __webpack_require__(/*! ../internals/regexp-get-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-get-flags.js");

var TO_STRING = 'toString';
var RegExpPrototype = RegExp.prototype;
var nativeToString = RegExpPrototype[TO_STRING];

var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });
// FF44- RegExp#toString has a wrong name
var INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name != TO_STRING;

// `RegExp.prototype.toString` method
// https://tc39.es/ecma262/#sec-regexp.prototype.tostring
if (NOT_GENERIC || INCORRECT_NAME) {
  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {
    var R = anObject(this);
    var pattern = $toString(R.source);
    var flags = $toString(getRegExpFlags(R));
    return '/' + pattern + '/' + flags;
  }, { unsafe: true });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.iterator.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var charAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").charAt);
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var defineIterator = __webpack_require__(/*! ../internals/iterator-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js");
var createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js");

var STRING_ITERATOR = 'String Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);

// `String.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-string.prototype-@@iterator
defineIterator(String, 'String', function (iterated) {
  setInternalState(this, {
    type: STRING_ITERATOR,
    string: toString(iterated),
    index: 0
  });
// `%StringIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
}, function next() {
  var state = getInternalState(this);
  var string = state.string;
  var index = state.index;
  var point;
  if (index >= string.length) return createIterResultObject(undefined, true);
  point = charAt(string, index);
  state.index += point.length;
  return createIterResultObject(point, false);
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.link.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.link.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var createHTML = __webpack_require__(/*! ../internals/create-html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-html.js");
var forcedStringHTMLMethod = __webpack_require__(/*! ../internals/string-html-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-html-forced.js");

// `String.prototype.link` method
// https://tc39.es/ecma262/#sec-string.prototype.link
$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {
  link: function link(url) {
    return createHTML(this, 'a', 'href', url);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.match.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var fixRegExpWellKnownSymbolLogic = __webpack_require__(/*! ../internals/fix-regexp-well-known-symbol-logic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var advanceStringIndex = __webpack_require__(/*! ../internals/advance-string-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js");
var regExpExec = __webpack_require__(/*! ../internals/regexp-exec-abstract */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js");

// @@match logic
fixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function match(regexp) {
      var O = requireObjectCoercible(this);
      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);
      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeMatch, rx, S);

      if (res.done) return res.value;

      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
      rx.lastIndex = 0;
      var A = [];
      var n = 0;
      var result;
      while ((result = regExpExec(rx, S)) !== null) {
        var matchStr = toString(result[0]);
        A[n] = matchStr;
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        n++;
      }
      return n === 0 ? null : A;
    }
  ];
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.replace.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fixRegExpWellKnownSymbolLogic = __webpack_require__(/*! ../internals/fix-regexp-well-known-symbol-logic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");
var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var advanceStringIndex = __webpack_require__(/*! ../internals/advance-string-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var getSubstitution = __webpack_require__(/*! ../internals/get-substitution */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-substitution.js");
var regExpExec = __webpack_require__(/*! ../internals/regexp-exec-abstract */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var REPLACE = wellKnownSymbol('replace');
var max = Math.max;
var min = Math.min;
var concat = uncurryThis([].concat);
var push = uncurryThis([].push);
var stringIndexOf = uncurryThis(''.indexOf);
var stringSlice = uncurryThis(''.slice);

var maybeToString = function (it) {
  return it === undefined ? it : String(it);
};

// IE <= 11 replaces $0 with the whole match, as if it was $&
// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
var REPLACE_KEEPS_$0 = (function () {
  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
  return 'a'.replace(/./, '$0') === '$0';
})();

// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
  if (/./[REPLACE]) {
    return /./[REPLACE]('a', '$0') === '';
  }
  return false;
})();

var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {
  var re = /./;
  re.exec = function () {
    var result = [];
    result.groups = { a: '7' };
    return result;
  };
  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
  return ''.replace(re, '$<a>') !== '7';
});

// @@replace logic
fixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {
  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';

  return [
    // `String.prototype.replace` method
    // https://tc39.es/ecma262/#sec-string.prototype.replace
    function replace(searchValue, replaceValue) {
      var O = requireObjectCoercible(this);
      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);
      return replacer
        ? call(replacer, searchValue, O, replaceValue)
        : call(nativeReplace, toString(O), searchValue, replaceValue);
    },
    // `RegExp.prototype[@@replace]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
    function (string, replaceValue) {
      var rx = anObject(this);
      var S = toString(string);

      if (
        typeof replaceValue == 'string' &&
        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&
        stringIndexOf(replaceValue, '$<') === -1
      ) {
        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
        if (res.done) return res.value;
      }

      var functionalReplace = isCallable(replaceValue);
      if (!functionalReplace) replaceValue = toString(replaceValue);

      var global = rx.global;
      if (global) {
        var fullUnicode = rx.unicode;
        rx.lastIndex = 0;
      }
      var results = [];
      while (true) {
        var result = regExpExec(rx, S);
        if (result === null) break;

        push(results, result);
        if (!global) break;

        var matchStr = toString(result[0]);
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
      }

      var accumulatedResult = '';
      var nextSourcePosition = 0;
      for (var i = 0; i < results.length; i++) {
        result = results[i];

        var matched = toString(result[0]);
        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);
        var captures = [];
        // NOTE: This is equivalent to
        //   captures = result.slice(1).map(maybeToString)
        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
        // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));
        var namedCaptures = result.groups;
        if (functionalReplace) {
          var replacerArgs = concat([matched], captures, position, S);
          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);
          var replacement = toString(apply(replaceValue, undefined, replacerArgs));
        } else {
          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
        }
        if (position >= nextSourcePosition) {
          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;
          nextSourcePosition = position + matched.length;
        }
      }
      return accumulatedResult + stringSlice(S, nextSourcePosition);
    }
  ];
}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.trim.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var $trim = (__webpack_require__(/*! ../internals/string-trim */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js").trim);
var forcedStringTrimMethod = __webpack_require__(/*! ../internals/string-trim-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim-forced.js");

// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {
  trim: function trim() {
    return $trim(this);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.constructor.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var nativeObjectCreate = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");
var getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js");
var getOwnPropertyNamesExternal = __webpack_require__(/*! ../internals/object-get-own-property-names-external */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names-external.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var definePropertiesModule = __webpack_require__(/*! ../internals/object-define-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js");
var defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js");
var defineSymbolToPrimitive = __webpack_require__(/*! ../internals/symbol-define-to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-define-to-primitive.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var $forEach = (__webpack_require__(/*! ../internals/array-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js").forEach);

var HIDDEN = sharedKey('hidden');
var SYMBOL = 'Symbol';
var PROTOTYPE = 'prototype';

var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(SYMBOL);

var ObjectPrototype = Object[PROTOTYPE];
var $Symbol = global.Symbol;
var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
var TypeError = global.TypeError;
var QObject = global.QObject;
var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
var nativeDefineProperty = definePropertyModule.f;
var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
var push = uncurryThis([].push);

var AllSymbols = shared('symbols');
var ObjectPrototypeSymbols = shared('op-symbols');
var WellKnownSymbolsStore = shared('wks');

// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDescriptor = DESCRIPTORS && fails(function () {
  return nativeObjectCreate(nativeDefineProperty({}, 'a', {
    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (O, P, Attributes) {
  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];
  nativeDefineProperty(O, P, Attributes);
  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
  }
} : nativeDefineProperty;

var wrap = function (tag, description) {
  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
  setInternalState(symbol, {
    type: SYMBOL,
    tag: tag,
    description: description
  });
  if (!DESCRIPTORS) symbol.description = description;
  return symbol;
};

var $defineProperty = function defineProperty(O, P, Attributes) {
  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
  anObject(O);
  var key = toPropertyKey(P);
  anObject(Attributes);
  if (hasOwn(AllSymbols, key)) {
    if (!Attributes.enumerable) {
      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
      O[HIDDEN][key] = true;
    } else {
      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
    } return setSymbolDescriptor(O, key, Attributes);
  } return nativeDefineProperty(O, key, Attributes);
};

var $defineProperties = function defineProperties(O, Properties) {
  anObject(O);
  var properties = toIndexedObject(Properties);
  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
  $forEach(keys, function (key) {
    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);
  });
  return O;
};

var $create = function create(O, Properties) {
  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
};

var $propertyIsEnumerable = function propertyIsEnumerable(V) {
  var P = toPropertyKey(V);
  var enumerable = call(nativePropertyIsEnumerable, this, P);
  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;
  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]
    ? enumerable : true;
};

var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
  var it = toIndexedObject(O);
  var key = toPropertyKey(P);
  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;
  var descriptor = nativeGetOwnPropertyDescriptor(it, key);
  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {
    descriptor.enumerable = true;
  }
  return descriptor;
};

var $getOwnPropertyNames = function getOwnPropertyNames(O) {
  var names = nativeGetOwnPropertyNames(toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);
  });
  return result;
};

var $getOwnPropertySymbols = function (O) {
  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {
      push(result, AllSymbols[key]);
    }
  });
  return result;
};

// `Symbol` constructor
// https://tc39.es/ecma262/#sec-symbol-constructor
if (!NATIVE_SYMBOL) {
  $Symbol = function Symbol() {
    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');
    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
    var tag = uid(description);
    var setter = function (value) {
      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);
      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
    };
    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
    return wrap(tag, description);
  };

  SymbolPrototype = $Symbol[PROTOTYPE];

  defineBuiltIn(SymbolPrototype, 'toString', function toString() {
    return getInternalState(this).tag;
  });

  defineBuiltIn($Symbol, 'withoutSetter', function (description) {
    return wrap(uid(description), description);
  });

  propertyIsEnumerableModule.f = $propertyIsEnumerable;
  definePropertyModule.f = $defineProperty;
  definePropertiesModule.f = $defineProperties;
  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;

  wrappedWellKnownSymbolModule.f = function (name) {
    return wrap(wellKnownSymbol(name), name);
  };

  if (DESCRIPTORS) {
    // https://github.com/tc39/proposal-Symbol-description
    defineBuiltInAccessor(SymbolPrototype, 'description', {
      configurable: true,
      get: function description() {
        return getInternalState(this).description;
      }
    });
    if (!IS_PURE) {
      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
  Symbol: $Symbol
});

$forEach(objectKeys(WellKnownSymbolsStore), function (name) {
  defineWellKnownSymbol(name);
});

$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
  useSetter: function () { USE_SETTER = true; },
  useSimple: function () { USE_SETTER = false; }
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  create: $create,
  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  defineProperty: $defineProperty,
  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  defineProperties: $defineProperties,
  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  getOwnPropertyNames: $getOwnPropertyNames
});

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag($Symbol, SYMBOL);

hiddenKeys[HIDDEN] = true;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.description.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// `Symbol.prototype.description` getter
// https://tc39.es/ecma262/#sec-symbol.prototype.description

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js");

var NativeSymbol = global.Symbol;
var SymbolPrototype = NativeSymbol && NativeSymbol.prototype;

if (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||
  // Safari 12 bug
  NativeSymbol().description !== undefined
)) {
  var EmptyStringDescriptionStore = {};
  // wrap Symbol constructor for correct work with undefined description
  var SymbolWrapper = function Symbol() {
    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);
    var result = isPrototypeOf(SymbolPrototype, this)
      ? new NativeSymbol(description)
      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'
      : description === undefined ? NativeSymbol() : NativeSymbol(description);
    if (description === '') EmptyStringDescriptionStore[result] = true;
    return result;
  };

  copyConstructorProperties(SymbolWrapper, NativeSymbol);
  SymbolWrapper.prototype = SymbolPrototype;
  SymbolPrototype.constructor = SymbolWrapper;

  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';
  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);
  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);
  var regexp = /^Symbol\((.*)\)[^)]+$/;
  var replace = uncurryThis(''.replace);
  var stringSlice = uncurryThis(''.slice);

  defineBuiltInAccessor(SymbolPrototype, 'description', {
    configurable: true,
    get: function description() {
      var symbol = thisSymbolValue(this);
      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';
      var string = symbolDescriptiveString(symbol);
      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');
      return desc === '' ? undefined : desc;
    }
  });

  $({ global: true, constructor: true, forced: true }, {
    Symbol: SymbolWrapper
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.for.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.for.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(/*! ../internals/symbol-registry-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js");

var StringToSymbolRegistry = shared('string-to-symbol-registry');
var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.for` method
// https://tc39.es/ecma262/#sec-symbol.for
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  'for': function (key) {
    var string = toString(key);
    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
    var symbol = getBuiltIn('Symbol')(string);
    StringToSymbolRegistry[string] = symbol;
    SymbolToStringRegistry[symbol] = string;
    return symbol;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.iterator.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js");

// `Symbol.iterator` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.iterator
defineWellKnownSymbol('iterator');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(/*! ../modules/es.symbol.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.constructor.js");
__webpack_require__(/*! ../modules/es.symbol.for */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.for.js");
__webpack_require__(/*! ../modules/es.symbol.key-for */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.key-for.js");
__webpack_require__(/*! ../modules/es.json.stringify */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.json.stringify.js");
__webpack_require__(/*! ../modules/es.object.get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.get-own-property-symbols.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.key-for.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.key-for.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(/*! ../internals/symbol-registry-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js");

var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.keyFor` method
// https://tc39.es/ecma262/#sec-symbol.keyfor
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');
    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.dom-collections.for-each.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js");
var DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js");
var forEach = __webpack_require__(/*! ../internals/array-for-each */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-for-each.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");

var handlePrototype = function (CollectionPrototype) {
  // some Chrome versions have non-configurable methods on DOMTokenList
  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);
  } catch (error) {
    CollectionPrototype.forEach = forEach;
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  if (DOMIterables[COLLECTION_NAME]) {
    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);
  }
}

handlePrototype(DOMTokenListPrototype);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.dom-collections.iterator.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js");
var DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js");
var ArrayIteratorMethods = __webpack_require__(/*! ../modules/es.array.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');
var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var ArrayValues = ArrayIteratorMethods.values;

var handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {
  if (CollectionPrototype) {
    // some Chrome versions have non-configurable methods on DOMTokenList
    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {
      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
    } catch (error) {
      CollectionPrototype[ITERATOR] = ArrayValues;
    }
    if (!CollectionPrototype[TO_STRING_TAG]) {
      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
    }
    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {
      // some Chrome versions have non-configurable methods on DOMTokenList
      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {
        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
      } catch (error) {
        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
      }
    }
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);
}

handlePrototype(DOMTokenListPrototype, 'DOMTokenList');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js":
/*!*****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url-search-params.constructor.js ***!
  \*****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(/*! ../modules/es.array.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var USE_NATIVE_URL = __webpack_require__(/*! ../internals/url-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-ins.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var arraySort = __webpack_require__(/*! ../internals/array-sort */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js");

var ITERATOR = wellKnownSymbol('iterator');
var URL_SEARCH_PARAMS = 'URLSearchParams';
var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';
var setInternalState = InternalStateModule.set;
var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);
var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Avoid NodeJS experimental warning
var safeGetBuiltIn = function (name) {
  if (!DESCRIPTORS) return global[name];
  var descriptor = getOwnPropertyDescriptor(global, name);
  return descriptor && descriptor.value;
};

var nativeFetch = safeGetBuiltIn('fetch');
var NativeRequest = safeGetBuiltIn('Request');
var Headers = safeGetBuiltIn('Headers');
var RequestPrototype = NativeRequest && NativeRequest.prototype;
var HeadersPrototype = Headers && Headers.prototype;
var RegExp = global.RegExp;
var TypeError = global.TypeError;
var decodeURIComponent = global.decodeURIComponent;
var encodeURIComponent = global.encodeURIComponent;
var charAt = uncurryThis(''.charAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var splice = uncurryThis([].splice);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);

var plus = /\+/g;
var sequences = Array(4);

var percentSequence = function (bytes) {
  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\da-f]{2}){' + bytes + '})', 'gi'));
};

var percentDecode = function (sequence) {
  try {
    return decodeURIComponent(sequence);
  } catch (error) {
    return sequence;
  }
};

var deserialize = function (it) {
  var result = replace(it, plus, ' ');
  var bytes = 4;
  try {
    return decodeURIComponent(result);
  } catch (error) {
    while (bytes) {
      result = replace(result, percentSequence(bytes--), percentDecode);
    }
    return result;
  }
};

var find = /[!'()~]|%20/g;

var replacements = {
  '!': '%21',
  "'": '%27',
  '(': '%28',
  ')': '%29',
  '~': '%7E',
  '%20': '+'
};

var replacer = function (match) {
  return replacements[match];
};

var serialize = function (it) {
  return replace(encodeURIComponent(it), find, replacer);
};

var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {
  setInternalState(this, {
    type: URL_SEARCH_PARAMS_ITERATOR,
    iterator: getIterator(getInternalParamsState(params).entries),
    kind: kind
  });
}, 'Iterator', function next() {
  var state = getInternalIteratorState(this);
  var kind = state.kind;
  var step = state.iterator.next();
  var entry = step.value;
  if (!step.done) {
    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];
  } return step;
}, true);

var URLSearchParamsState = function (init) {
  this.entries = [];
  this.url = null;

  if (init !== undefined) {
    if (isObject(init)) this.parseObject(init);
    else this.parseQuery(typeof init == 'string' ? charAt(init, 0) === '?' ? stringSlice(init, 1) : init : $toString(init));
  }
};

URLSearchParamsState.prototype = {
  type: URL_SEARCH_PARAMS,
  bindURL: function (url) {
    this.url = url;
    this.update();
  },
  parseObject: function (object) {
    var iteratorMethod = getIteratorMethod(object);
    var iterator, next, step, entryIterator, entryNext, first, second;

    if (iteratorMethod) {
      iterator = getIterator(object, iteratorMethod);
      next = iterator.next;
      while (!(step = call(next, iterator)).done) {
        entryIterator = getIterator(anObject(step.value));
        entryNext = entryIterator.next;
        if (
          (first = call(entryNext, entryIterator)).done ||
          (second = call(entryNext, entryIterator)).done ||
          !call(entryNext, entryIterator).done
        ) throw TypeError('Expected sequence with length 2');
        push(this.entries, { key: $toString(first.value), value: $toString(second.value) });
      }
    } else for (var key in object) if (hasOwn(object, key)) {
      push(this.entries, { key: key, value: $toString(object[key]) });
    }
  },
  parseQuery: function (query) {
    if (query) {
      var attributes = split(query, '&');
      var index = 0;
      var attribute, entry;
      while (index < attributes.length) {
        attribute = attributes[index++];
        if (attribute.length) {
          entry = split(attribute, '=');
          push(this.entries, {
            key: deserialize(shift(entry)),
            value: deserialize(join(entry, '='))
          });
        }
      }
    }
  },
  serialize: function () {
    var entries = this.entries;
    var result = [];
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      push(result, serialize(entry.key) + '=' + serialize(entry.value));
    } return join(result, '&');
  },
  update: function () {
    this.entries.length = 0;
    this.parseQuery(this.url.query);
  },
  updateURL: function () {
    if (this.url) this.url.update();
  }
};

// `URLSearchParams` constructor
// https://url.spec.whatwg.org/#interface-urlsearchparams
var URLSearchParamsConstructor = function URLSearchParams(/* init */) {
  anInstance(this, URLSearchParamsPrototype);
  var init = arguments.length > 0 ? arguments[0] : undefined;
  var state = setInternalState(this, new URLSearchParamsState(init));
  if (!DESCRIPTORS) this.length = state.entries.length;
};

var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;

defineBuiltIns(URLSearchParamsPrototype, {
  // `URLSearchParams.prototype.append` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-append
  append: function append(name, value) {
    validateArgumentsLength(arguments.length, 2);
    var state = getInternalParamsState(this);
    push(state.entries, { key: $toString(name), value: $toString(value) });
    if (!DESCRIPTORS) this.length++;
    state.updateURL();
  },
  // `URLSearchParams.prototype.delete` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete
  'delete': function (name) {
    validateArgumentsLength(arguments.length, 1);
    var state = getInternalParamsState(this);
    var entries = state.entries;
    var key = $toString(name);
    var index = 0;
    while (index < entries.length) {
      if (entries[index].key === key) splice(entries, index, 1);
      else index++;
    }
    if (!DESCRIPTORS) this.length = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.get` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-get
  get: function get(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) return entries[index].value;
    }
    return null;
  },
  // `URLSearchParams.prototype.getAll` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall
  getAll: function getAll(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var result = [];
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) push(result, entries[index].value);
    }
    return result;
  },
  // `URLSearchParams.prototype.has` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-has
  has: function has(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var index = 0;
    while (index < entries.length) {
      if (entries[index++].key === key) return true;
    }
    return false;
  },
  // `URLSearchParams.prototype.set` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-set
  set: function set(name, value) {
    validateArgumentsLength(arguments.length, 1);
    var state = getInternalParamsState(this);
    var entries = state.entries;
    var found = false;
    var key = $toString(name);
    var val = $toString(value);
    var index = 0;
    var entry;
    for (; index < entries.length; index++) {
      entry = entries[index];
      if (entry.key === key) {
        if (found) splice(entries, index--, 1);
        else {
          found = true;
          entry.value = val;
        }
      }
    }
    if (!found) push(entries, { key: key, value: val });
    if (!DESCRIPTORS) this.length = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.sort` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort
  sort: function sort() {
    var state = getInternalParamsState(this);
    arraySort(state.entries, function (a, b) {
      return a.key > b.key ? 1 : -1;
    });
    state.updateURL();
  },
  // `URLSearchParams.prototype.forEach` method
  forEach: function forEach(callback /* , thisArg */) {
    var entries = getInternalParamsState(this).entries;
    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined);
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      boundFunction(entry.value, entry.key, this);
    }
  },
  // `URLSearchParams.prototype.keys` method
  keys: function keys() {
    return new URLSearchParamsIterator(this, 'keys');
  },
  // `URLSearchParams.prototype.values` method
  values: function values() {
    return new URLSearchParamsIterator(this, 'values');
  },
  // `URLSearchParams.prototype.entries` method
  entries: function entries() {
    return new URLSearchParamsIterator(this, 'entries');
  }
}, { enumerable: true });

// `URLSearchParams.prototype[@@iterator]` method
defineBuiltIn(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries, { name: 'entries' });

// `URLSearchParams.prototype.toString` method
// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior
defineBuiltIn(URLSearchParamsPrototype, 'toString', function toString() {
  return getInternalParamsState(this).serialize();
}, { enumerable: true });

// `URLSearchParams.prototype.size` getter
// https://github.com/whatwg/url/pull/734
if (DESCRIPTORS) defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {
  get: function size() {
    return getInternalParamsState(this).entries.length;
  },
  configurable: true,
  enumerable: true
});

setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);

$({ global: true, constructor: true, forced: !USE_NATIVE_URL }, {
  URLSearchParams: URLSearchParamsConstructor
});

// Wrap `fetch` and `Request` for correct work with polyfilled `URLSearchParams`
if (!USE_NATIVE_URL && isCallable(Headers)) {
  var headersHas = uncurryThis(HeadersPrototype.has);
  var headersSet = uncurryThis(HeadersPrototype.set);

  var wrapRequestOptions = function (init) {
    if (isObject(init)) {
      var body = init.body;
      var headers;
      if (classof(body) === URL_SEARCH_PARAMS) {
        headers = init.headers ? new Headers(init.headers) : new Headers();
        if (!headersHas(headers, 'content-type')) {
          headersSet(headers, 'content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
        return create(init, {
          body: createPropertyDescriptor(0, $toString(body)),
          headers: createPropertyDescriptor(0, headers)
        });
      }
    } return init;
  };

  if (isCallable(nativeFetch)) {
    $({ global: true, enumerable: true, dontCallGetSet: true, forced: true }, {
      fetch: function fetch(input /* , init */) {
        return nativeFetch(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
      }
    });
  }

  if (isCallable(NativeRequest)) {
    var RequestConstructor = function Request(input /* , init */) {
      anInstance(this, RequestPrototype);
      return new NativeRequest(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
    };

    RequestPrototype.constructor = RequestConstructor;
    RequestConstructor.prototype = RequestPrototype;

    $({ global: true, constructor: true, dontCallGetSet: true, forced: true }, {
      Request: RequestConstructor
    });
  }
}

module.exports = {
  URLSearchParams: URLSearchParamsConstructor,
  getState: getInternalParamsState
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url-search-params.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(/*! ../modules/web.url-search-params.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.constructor.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url.constructor.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(/*! ../modules/es.string.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var USE_NATIVE_URL = __webpack_require__(/*! ../internals/url-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var assign = __webpack_require__(/*! ../internals/object-assign */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-assign.js");
var arrayFrom = __webpack_require__(/*! ../internals/array-from */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-from.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");
var codeAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").codeAt);
var toASCII = __webpack_require__(/*! ../internals/string-punycode-to-ascii */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-punycode-to-ascii.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var URLSearchParamsModule = __webpack_require__(/*! ../modules/web.url-search-params.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");

var setInternalState = InternalStateModule.set;
var getInternalURLState = InternalStateModule.getterFor('URL');
var URLSearchParams = URLSearchParamsModule.URLSearchParams;
var getInternalSearchParamsState = URLSearchParamsModule.getState;

var NativeURL = global.URL;
var TypeError = global.TypeError;
var parseInt = global.parseInt;
var floor = Math.floor;
var pow = Math.pow;
var charAt = uncurryThis(''.charAt);
var exec = uncurryThis(/./.exec);
var join = uncurryThis([].join);
var numberToString = uncurryThis(1.0.toString);
var pop = uncurryThis([].pop);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);
var toLowerCase = uncurryThis(''.toLowerCase);
var unshift = uncurryThis([].unshift);

var INVALID_AUTHORITY = 'Invalid authority';
var INVALID_SCHEME = 'Invalid scheme';
var INVALID_HOST = 'Invalid host';
var INVALID_PORT = 'Invalid port';

var ALPHA = /[a-z]/i;
// eslint-disable-next-line regexp/no-obscure-range -- safe
var ALPHANUMERIC = /[\d+-.a-z]/i;
var DIGIT = /\d/;
var HEX_START = /^0x/i;
var OCT = /^[0-7]+$/;
var DEC = /^\d+$/;
var HEX = /^[\da-f]+$/i;
/* eslint-disable regexp/no-control-character -- safe */
var FORBIDDEN_HOST_CODE_POINT = /[\0\t\n\r #%/:<>?@[\\\]^|]/;
var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\0\t\n\r #/:<>?@[\\\]^|]/;
var LEADING_C0_CONTROL_OR_SPACE = /^[\u0000-\u0020]+/;
var TRAILING_C0_CONTROL_OR_SPACE = /(^|[^\u0000-\u0020])[\u0000-\u0020]+$/;
var TAB_AND_NEW_LINE = /[\t\n\r]/g;
/* eslint-enable regexp/no-control-character -- safe */
var EOF;

// https://url.spec.whatwg.org/#ipv4-number-parser
var parseIPv4 = function (input) {
  var parts = split(input, '.');
  var partsLength, numbers, index, part, radix, number, ipv4;
  if (parts.length && parts[parts.length - 1] == '') {
    parts.length--;
  }
  partsLength = parts.length;
  if (partsLength > 4) return input;
  numbers = [];
  for (index = 0; index < partsLength; index++) {
    part = parts[index];
    if (part == '') return input;
    radix = 10;
    if (part.length > 1 && charAt(part, 0) == '0') {
      radix = exec(HEX_START, part) ? 16 : 8;
      part = stringSlice(part, radix == 8 ? 1 : 2);
    }
    if (part === '') {
      number = 0;
    } else {
      if (!exec(radix == 10 ? DEC : radix == 8 ? OCT : HEX, part)) return input;
      number = parseInt(part, radix);
    }
    push(numbers, number);
  }
  for (index = 0; index < partsLength; index++) {
    number = numbers[index];
    if (index == partsLength - 1) {
      if (number >= pow(256, 5 - partsLength)) return null;
    } else if (number > 255) return null;
  }
  ipv4 = pop(numbers);
  for (index = 0; index < numbers.length; index++) {
    ipv4 += numbers[index] * pow(256, 3 - index);
  }
  return ipv4;
};

// https://url.spec.whatwg.org/#concept-ipv6-parser
// eslint-disable-next-line max-statements -- TODO
var parseIPv6 = function (input) {
  var address = [0, 0, 0, 0, 0, 0, 0, 0];
  var pieceIndex = 0;
  var compress = null;
  var pointer = 0;
  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;

  var chr = function () {
    return charAt(input, pointer);
  };

  if (chr() == ':') {
    if (charAt(input, 1) != ':') return;
    pointer += 2;
    pieceIndex++;
    compress = pieceIndex;
  }
  while (chr()) {
    if (pieceIndex == 8) return;
    if (chr() == ':') {
      if (compress !== null) return;
      pointer++;
      pieceIndex++;
      compress = pieceIndex;
      continue;
    }
    value = length = 0;
    while (length < 4 && exec(HEX, chr())) {
      value = value * 16 + parseInt(chr(), 16);
      pointer++;
      length++;
    }
    if (chr() == '.') {
      if (length == 0) return;
      pointer -= length;
      if (pieceIndex > 6) return;
      numbersSeen = 0;
      while (chr()) {
        ipv4Piece = null;
        if (numbersSeen > 0) {
          if (chr() == '.' && numbersSeen < 4) pointer++;
          else return;
        }
        if (!exec(DIGIT, chr())) return;
        while (exec(DIGIT, chr())) {
          number = parseInt(chr(), 10);
          if (ipv4Piece === null) ipv4Piece = number;
          else if (ipv4Piece == 0) return;
          else ipv4Piece = ipv4Piece * 10 + number;
          if (ipv4Piece > 255) return;
          pointer++;
        }
        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
        numbersSeen++;
        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;
      }
      if (numbersSeen != 4) return;
      break;
    } else if (chr() == ':') {
      pointer++;
      if (!chr()) return;
    } else if (chr()) return;
    address[pieceIndex++] = value;
  }
  if (compress !== null) {
    swaps = pieceIndex - compress;
    pieceIndex = 7;
    while (pieceIndex != 0 && swaps > 0) {
      swap = address[pieceIndex];
      address[pieceIndex--] = address[compress + swaps - 1];
      address[compress + --swaps] = swap;
    }
  } else if (pieceIndex != 8) return;
  return address;
};

var findLongestZeroSequence = function (ipv6) {
  var maxIndex = null;
  var maxLength = 1;
  var currStart = null;
  var currLength = 0;
  var index = 0;
  for (; index < 8; index++) {
    if (ipv6[index] !== 0) {
      if (currLength > maxLength) {
        maxIndex = currStart;
        maxLength = currLength;
      }
      currStart = null;
      currLength = 0;
    } else {
      if (currStart === null) currStart = index;
      ++currLength;
    }
  }
  if (currLength > maxLength) {
    maxIndex = currStart;
    maxLength = currLength;
  }
  return maxIndex;
};

// https://url.spec.whatwg.org/#host-serializing
var serializeHost = function (host) {
  var result, index, compress, ignore0;
  // ipv4
  if (typeof host == 'number') {
    result = [];
    for (index = 0; index < 4; index++) {
      unshift(result, host % 256);
      host = floor(host / 256);
    } return join(result, '.');
  // ipv6
  } else if (typeof host == 'object') {
    result = '';
    compress = findLongestZeroSequence(host);
    for (index = 0; index < 8; index++) {
      if (ignore0 && host[index] === 0) continue;
      if (ignore0) ignore0 = false;
      if (compress === index) {
        result += index ? ':' : '::';
        ignore0 = true;
      } else {
        result += numberToString(host[index], 16);
        if (index < 7) result += ':';
      }
    }
    return '[' + result + ']';
  } return host;
};

var C0ControlPercentEncodeSet = {};
var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {
  ' ': 1, '"': 1, '<': 1, '>': 1, '`': 1
});
var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {
  '#': 1, '?': 1, '{': 1, '}': 1
});
var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\': 1, ']': 1, '^': 1, '|': 1
});

var percentEncode = function (chr, set) {
  var code = codeAt(chr, 0);
  return code > 0x20 && code < 0x7F && !hasOwn(set, chr) ? chr : encodeURIComponent(chr);
};

// https://url.spec.whatwg.org/#special-scheme
var specialSchemes = {
  ftp: 21,
  file: null,
  http: 80,
  https: 443,
  ws: 80,
  wss: 443
};

// https://url.spec.whatwg.org/#windows-drive-letter
var isWindowsDriveLetter = function (string, normalized) {
  var second;
  return string.length == 2 && exec(ALPHA, charAt(string, 0))
    && ((second = charAt(string, 1)) == ':' || (!normalized && second == '|'));
};

// https://url.spec.whatwg.org/#start-with-a-windows-drive-letter
var startsWithWindowsDriveLetter = function (string) {
  var third;
  return string.length > 1 && isWindowsDriveLetter(stringSlice(string, 0, 2)) && (
    string.length == 2 ||
    ((third = charAt(string, 2)) === '/' || third === '\\' || third === '?' || third === '#')
  );
};

// https://url.spec.whatwg.org/#single-dot-path-segment
var isSingleDot = function (segment) {
  return segment === '.' || toLowerCase(segment) === '%2e';
};

// https://url.spec.whatwg.org/#double-dot-path-segment
var isDoubleDot = function (segment) {
  segment = toLowerCase(segment);
  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';
};

// States:
var SCHEME_START = {};
var SCHEME = {};
var NO_SCHEME = {};
var SPECIAL_RELATIVE_OR_AUTHORITY = {};
var PATH_OR_AUTHORITY = {};
var RELATIVE = {};
var RELATIVE_SLASH = {};
var SPECIAL_AUTHORITY_SLASHES = {};
var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};
var AUTHORITY = {};
var HOST = {};
var HOSTNAME = {};
var PORT = {};
var FILE = {};
var FILE_SLASH = {};
var FILE_HOST = {};
var PATH_START = {};
var PATH = {};
var CANNOT_BE_A_BASE_URL_PATH = {};
var QUERY = {};
var FRAGMENT = {};

var URLState = function (url, isBase, base) {
  var urlString = $toString(url);
  var baseState, failure, searchParams;
  if (isBase) {
    failure = this.parse(urlString);
    if (failure) throw TypeError(failure);
    this.searchParams = null;
  } else {
    if (base !== undefined) baseState = new URLState(base, true);
    failure = this.parse(urlString, null, baseState);
    if (failure) throw TypeError(failure);
    searchParams = getInternalSearchParamsState(new URLSearchParams());
    searchParams.bindURL(this);
    this.searchParams = searchParams;
  }
};

URLState.prototype = {
  type: 'URL',
  // https://url.spec.whatwg.org/#url-parsing
  // eslint-disable-next-line max-statements -- TODO
  parse: function (input, stateOverride, base) {
    var url = this;
    var state = stateOverride || SCHEME_START;
    var pointer = 0;
    var buffer = '';
    var seenAt = false;
    var seenBracket = false;
    var seenPasswordToken = false;
    var codePoints, chr, bufferCodePoints, failure;

    input = $toString(input);

    if (!stateOverride) {
      url.scheme = '';
      url.username = '';
      url.password = '';
      url.host = null;
      url.port = null;
      url.path = [];
      url.query = null;
      url.fragment = null;
      url.cannotBeABaseURL = false;
      input = replace(input, LEADING_C0_CONTROL_OR_SPACE, '');
      input = replace(input, TRAILING_C0_CONTROL_OR_SPACE, '$1');
    }

    input = replace(input, TAB_AND_NEW_LINE, '');

    codePoints = arrayFrom(input);

    while (pointer <= codePoints.length) {
      chr = codePoints[pointer];
      switch (state) {
        case SCHEME_START:
          if (chr && exec(ALPHA, chr)) {
            buffer += toLowerCase(chr);
            state = SCHEME;
          } else if (!stateOverride) {
            state = NO_SCHEME;
            continue;
          } else return INVALID_SCHEME;
          break;

        case SCHEME:
          if (chr && (exec(ALPHANUMERIC, chr) || chr == '+' || chr == '-' || chr == '.')) {
            buffer += toLowerCase(chr);
          } else if (chr == ':') {
            if (stateOverride && (
              (url.isSpecial() != hasOwn(specialSchemes, buffer)) ||
              (buffer == 'file' && (url.includesCredentials() || url.port !== null)) ||
              (url.scheme == 'file' && !url.host)
            )) return;
            url.scheme = buffer;
            if (stateOverride) {
              if (url.isSpecial() && specialSchemes[url.scheme] == url.port) url.port = null;
              return;
            }
            buffer = '';
            if (url.scheme == 'file') {
              state = FILE;
            } else if (url.isSpecial() && base && base.scheme == url.scheme) {
              state = SPECIAL_RELATIVE_OR_AUTHORITY;
            } else if (url.isSpecial()) {
              state = SPECIAL_AUTHORITY_SLASHES;
            } else if (codePoints[pointer + 1] == '/') {
              state = PATH_OR_AUTHORITY;
              pointer++;
            } else {
              url.cannotBeABaseURL = true;
              push(url.path, '');
              state = CANNOT_BE_A_BASE_URL_PATH;
            }
          } else if (!stateOverride) {
            buffer = '';
            state = NO_SCHEME;
            pointer = 0;
            continue;
          } else return INVALID_SCHEME;
          break;

        case NO_SCHEME:
          if (!base || (base.cannotBeABaseURL && chr != '#')) return INVALID_SCHEME;
          if (base.cannotBeABaseURL && chr == '#') {
            url.scheme = base.scheme;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            url.cannotBeABaseURL = true;
            state = FRAGMENT;
            break;
          }
          state = base.scheme == 'file' ? FILE : RELATIVE;
          continue;

        case SPECIAL_RELATIVE_OR_AUTHORITY:
          if (chr == '/' && codePoints[pointer + 1] == '/') {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
            pointer++;
          } else {
            state = RELATIVE;
            continue;
          } break;

        case PATH_OR_AUTHORITY:
          if (chr == '/') {
            state = AUTHORITY;
            break;
          } else {
            state = PATH;
            continue;
          }

        case RELATIVE:
          url.scheme = base.scheme;
          if (chr == EOF) {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
          } else if (chr == '/' || (chr == '\\' && url.isSpecial())) {
            state = RELATIVE_SLASH;
          } else if (chr == '?') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = '';
            state = QUERY;
          } else if (chr == '#') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            state = FRAGMENT;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.path.length--;
            state = PATH;
            continue;
          } break;

        case RELATIVE_SLASH:
          if (url.isSpecial() && (chr == '/' || chr == '\\')) {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          } else if (chr == '/') {
            state = AUTHORITY;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            state = PATH;
            continue;
          } break;

        case SPECIAL_AUTHORITY_SLASHES:
          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          if (chr != '/' || charAt(buffer, pointer + 1) != '/') continue;
          pointer++;
          break;

        case SPECIAL_AUTHORITY_IGNORE_SLASHES:
          if (chr != '/' && chr != '\\') {
            state = AUTHORITY;
            continue;
          } break;

        case AUTHORITY:
          if (chr == '@') {
            if (seenAt) buffer = '%40' + buffer;
            seenAt = true;
            bufferCodePoints = arrayFrom(buffer);
            for (var i = 0; i < bufferCodePoints.length; i++) {
              var codePoint = bufferCodePoints[i];
              if (codePoint == ':' && !seenPasswordToken) {
                seenPasswordToken = true;
                continue;
              }
              var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);
              if (seenPasswordToken) url.password += encodedCodePoints;
              else url.username += encodedCodePoints;
            }
            buffer = '';
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial())
          ) {
            if (seenAt && buffer == '') return INVALID_AUTHORITY;
            pointer -= arrayFrom(buffer).length + 1;
            buffer = '';
            state = HOST;
          } else buffer += chr;
          break;

        case HOST:
        case HOSTNAME:
          if (stateOverride && url.scheme == 'file') {
            state = FILE_HOST;
            continue;
          } else if (chr == ':' && !seenBracket) {
            if (buffer == '') return INVALID_HOST;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PORT;
            if (stateOverride == HOSTNAME) return;
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial())
          ) {
            if (url.isSpecial() && buffer == '') return INVALID_HOST;
            if (stateOverride && buffer == '' && (url.includesCredentials() || url.port !== null)) return;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PATH_START;
            if (stateOverride) return;
            continue;
          } else {
            if (chr == '[') seenBracket = true;
            else if (chr == ']') seenBracket = false;
            buffer += chr;
          } break;

        case PORT:
          if (exec(DIGIT, chr)) {
            buffer += chr;
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial()) ||
            stateOverride
          ) {
            if (buffer != '') {
              var port = parseInt(buffer, 10);
              if (port > 0xFFFF) return INVALID_PORT;
              url.port = (url.isSpecial() && port === specialSchemes[url.scheme]) ? null : port;
              buffer = '';
            }
            if (stateOverride) return;
            state = PATH_START;
            continue;
          } else return INVALID_PORT;
          break;

        case FILE:
          url.scheme = 'file';
          if (chr == '/' || chr == '\\') state = FILE_SLASH;
          else if (base && base.scheme == 'file') {
            if (chr == EOF) {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = base.query;
            } else if (chr == '?') {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = '';
              state = QUERY;
            } else if (chr == '#') {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = base.query;
              url.fragment = '';
              state = FRAGMENT;
            } else {
              if (!startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
                url.host = base.host;
                url.path = arraySlice(base.path);
                url.shortenPath();
              }
              state = PATH;
              continue;
            }
          } else {
            state = PATH;
            continue;
          } break;

        case FILE_SLASH:
          if (chr == '/' || chr == '\\') {
            state = FILE_HOST;
            break;
          }
          if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
            if (isWindowsDriveLetter(base.path[0], true)) push(url.path, base.path[0]);
            else url.host = base.host;
          }
          state = PATH;
          continue;

        case FILE_HOST:
          if (chr == EOF || chr == '/' || chr == '\\' || chr == '?' || chr == '#') {
            if (!stateOverride && isWindowsDriveLetter(buffer)) {
              state = PATH;
            } else if (buffer == '') {
              url.host = '';
              if (stateOverride) return;
              state = PATH_START;
            } else {
              failure = url.parseHost(buffer);
              if (failure) return failure;
              if (url.host == 'localhost') url.host = '';
              if (stateOverride) return;
              buffer = '';
              state = PATH_START;
            } continue;
          } else buffer += chr;
          break;

        case PATH_START:
          if (url.isSpecial()) {
            state = PATH;
            if (chr != '/' && chr != '\\') continue;
          } else if (!stateOverride && chr == '?') {
            url.query = '';
            state = QUERY;
          } else if (!stateOverride && chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            state = PATH;
            if (chr != '/') continue;
          } break;

        case PATH:
          if (
            chr == EOF || chr == '/' ||
            (chr == '\\' && url.isSpecial()) ||
            (!stateOverride && (chr == '?' || chr == '#'))
          ) {
            if (isDoubleDot(buffer)) {
              url.shortenPath();
              if (chr != '/' && !(chr == '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else if (isSingleDot(buffer)) {
              if (chr != '/' && !(chr == '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else {
              if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {
                if (url.host) url.host = '';
                buffer = charAt(buffer, 0) + ':'; // normalize windows drive letter
              }
              push(url.path, buffer);
            }
            buffer = '';
            if (url.scheme == 'file' && (chr == EOF || chr == '?' || chr == '#')) {
              while (url.path.length > 1 && url.path[0] === '') {
                shift(url.path);
              }
            }
            if (chr == '?') {
              url.query = '';
              state = QUERY;
            } else if (chr == '#') {
              url.fragment = '';
              state = FRAGMENT;
            }
          } else {
            buffer += percentEncode(chr, pathPercentEncodeSet);
          } break;

        case CANNOT_BE_A_BASE_URL_PATH:
          if (chr == '?') {
            url.query = '';
            state = QUERY;
          } else if (chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            url.path[0] += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case QUERY:
          if (!stateOverride && chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            if (chr == "'" && url.isSpecial()) url.query += '%27';
            else if (chr == '#') url.query += '%23';
            else url.query += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case FRAGMENT:
          if (chr != EOF) url.fragment += percentEncode(chr, fragmentPercentEncodeSet);
          break;
      }

      pointer++;
    }
  },
  // https://url.spec.whatwg.org/#host-parsing
  parseHost: function (input) {
    var result, codePoints, index;
    if (charAt(input, 0) == '[') {
      if (charAt(input, input.length - 1) != ']') return INVALID_HOST;
      result = parseIPv6(stringSlice(input, 1, -1));
      if (!result) return INVALID_HOST;
      this.host = result;
    // opaque host
    } else if (!this.isSpecial()) {
      if (exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT, input)) return INVALID_HOST;
      result = '';
      codePoints = arrayFrom(input);
      for (index = 0; index < codePoints.length; index++) {
        result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);
      }
      this.host = result;
    } else {
      input = toASCII(input);
      if (exec(FORBIDDEN_HOST_CODE_POINT, input)) return INVALID_HOST;
      result = parseIPv4(input);
      if (result === null) return INVALID_HOST;
      this.host = result;
    }
  },
  // https://url.spec.whatwg.org/#cannot-have-a-username-password-port
  cannotHaveUsernamePasswordPort: function () {
    return !this.host || this.cannotBeABaseURL || this.scheme == 'file';
  },
  // https://url.spec.whatwg.org/#include-credentials
  includesCredentials: function () {
    return this.username != '' || this.password != '';
  },
  // https://url.spec.whatwg.org/#is-special
  isSpecial: function () {
    return hasOwn(specialSchemes, this.scheme);
  },
  // https://url.spec.whatwg.org/#shorten-a-urls-path
  shortenPath: function () {
    var path = this.path;
    var pathSize = path.length;
    if (pathSize && (this.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {
      path.length--;
    }
  },
  // https://url.spec.whatwg.org/#concept-url-serializer
  serialize: function () {
    var url = this;
    var scheme = url.scheme;
    var username = url.username;
    var password = url.password;
    var host = url.host;
    var port = url.port;
    var path = url.path;
    var query = url.query;
    var fragment = url.fragment;
    var output = scheme + ':';
    if (host !== null) {
      output += '//';
      if (url.includesCredentials()) {
        output += username + (password ? ':' + password : '') + '@';
      }
      output += serializeHost(host);
      if (port !== null) output += ':' + port;
    } else if (scheme == 'file') output += '//';
    output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
    if (query !== null) output += '?' + query;
    if (fragment !== null) output += '#' + fragment;
    return output;
  },
  // https://url.spec.whatwg.org/#dom-url-href
  setHref: function (href) {
    var failure = this.parse(href);
    if (failure) throw TypeError(failure);
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-origin
  getOrigin: function () {
    var scheme = this.scheme;
    var port = this.port;
    if (scheme == 'blob') try {
      return new URLConstructor(scheme.path[0]).origin;
    } catch (error) {
      return 'null';
    }
    if (scheme == 'file' || !this.isSpecial()) return 'null';
    return scheme + '://' + serializeHost(this.host) + (port !== null ? ':' + port : '');
  },
  // https://url.spec.whatwg.org/#dom-url-protocol
  getProtocol: function () {
    return this.scheme + ':';
  },
  setProtocol: function (protocol) {
    this.parse($toString(protocol) + ':', SCHEME_START);
  },
  // https://url.spec.whatwg.org/#dom-url-username
  getUsername: function () {
    return this.username;
  },
  setUsername: function (username) {
    var codePoints = arrayFrom($toString(username));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.username = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-password
  getPassword: function () {
    return this.password;
  },
  setPassword: function (password) {
    var codePoints = arrayFrom($toString(password));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.password = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-host
  getHost: function () {
    var host = this.host;
    var port = this.port;
    return host === null ? ''
      : port === null ? serializeHost(host)
      : serializeHost(host) + ':' + port;
  },
  setHost: function (host) {
    if (this.cannotBeABaseURL) return;
    this.parse(host, HOST);
  },
  // https://url.spec.whatwg.org/#dom-url-hostname
  getHostname: function () {
    var host = this.host;
    return host === null ? '' : serializeHost(host);
  },
  setHostname: function (hostname) {
    if (this.cannotBeABaseURL) return;
    this.parse(hostname, HOSTNAME);
  },
  // https://url.spec.whatwg.org/#dom-url-port
  getPort: function () {
    var port = this.port;
    return port === null ? '' : $toString(port);
  },
  setPort: function (port) {
    if (this.cannotHaveUsernamePasswordPort()) return;
    port = $toString(port);
    if (port == '') this.port = null;
    else this.parse(port, PORT);
  },
  // https://url.spec.whatwg.org/#dom-url-pathname
  getPathname: function () {
    var path = this.path;
    return this.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
  },
  setPathname: function (pathname) {
    if (this.cannotBeABaseURL) return;
    this.path = [];
    this.parse(pathname, PATH_START);
  },
  // https://url.spec.whatwg.org/#dom-url-search
  getSearch: function () {
    var query = this.query;
    return query ? '?' + query : '';
  },
  setSearch: function (search) {
    search = $toString(search);
    if (search == '') {
      this.query = null;
    } else {
      if ('?' == charAt(search, 0)) search = stringSlice(search, 1);
      this.query = '';
      this.parse(search, QUERY);
    }
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-searchparams
  getSearchParams: function () {
    return this.searchParams.facade;
  },
  // https://url.spec.whatwg.org/#dom-url-hash
  getHash: function () {
    var fragment = this.fragment;
    return fragment ? '#' + fragment : '';
  },
  setHash: function (hash) {
    hash = $toString(hash);
    if (hash == '') {
      this.fragment = null;
      return;
    }
    if ('#' == charAt(hash, 0)) hash = stringSlice(hash, 1);
    this.fragment = '';
    this.parse(hash, FRAGMENT);
  },
  update: function () {
    this.query = this.searchParams.serialize() || null;
  }
};

// `URL` constructor
// https://url.spec.whatwg.org/#url-class
var URLConstructor = function URL(url /* , base */) {
  var that = anInstance(this, URLPrototype);
  var base = validateArgumentsLength(arguments.length, 1) > 1 ? arguments[1] : undefined;
  var state = setInternalState(that, new URLState(url, false, base));
  if (!DESCRIPTORS) {
    that.href = state.serialize();
    that.origin = state.getOrigin();
    that.protocol = state.getProtocol();
    that.username = state.getUsername();
    that.password = state.getPassword();
    that.host = state.getHost();
    that.hostname = state.getHostname();
    that.port = state.getPort();
    that.pathname = state.getPathname();
    that.search = state.getSearch();
    that.searchParams = state.getSearchParams();
    that.hash = state.getHash();
  }
};

var URLPrototype = URLConstructor.prototype;

var accessorDescriptor = function (getter, setter) {
  return {
    get: function () {
      return getInternalURLState(this)[getter]();
    },
    set: setter && function (value) {
      return getInternalURLState(this)[setter](value);
    },
    configurable: true,
    enumerable: true
  };
};

if (DESCRIPTORS) {
  // `URL.prototype.href` accessors pair
  // https://url.spec.whatwg.org/#dom-url-href
  defineBuiltInAccessor(URLPrototype, 'href', accessorDescriptor('serialize', 'setHref'));
  // `URL.prototype.origin` getter
  // https://url.spec.whatwg.org/#dom-url-origin
  defineBuiltInAccessor(URLPrototype, 'origin', accessorDescriptor('getOrigin'));
  // `URL.prototype.protocol` accessors pair
  // https://url.spec.whatwg.org/#dom-url-protocol
  defineBuiltInAccessor(URLPrototype, 'protocol', accessorDescriptor('getProtocol', 'setProtocol'));
  // `URL.prototype.username` accessors pair
  // https://url.spec.whatwg.org/#dom-url-username
  defineBuiltInAccessor(URLPrototype, 'username', accessorDescriptor('getUsername', 'setUsername'));
  // `URL.prototype.password` accessors pair
  // https://url.spec.whatwg.org/#dom-url-password
  defineBuiltInAccessor(URLPrototype, 'password', accessorDescriptor('getPassword', 'setPassword'));
  // `URL.prototype.host` accessors pair
  // https://url.spec.whatwg.org/#dom-url-host
  defineBuiltInAccessor(URLPrototype, 'host', accessorDescriptor('getHost', 'setHost'));
  // `URL.prototype.hostname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hostname
  defineBuiltInAccessor(URLPrototype, 'hostname', accessorDescriptor('getHostname', 'setHostname'));
  // `URL.prototype.port` accessors pair
  // https://url.spec.whatwg.org/#dom-url-port
  defineBuiltInAccessor(URLPrototype, 'port', accessorDescriptor('getPort', 'setPort'));
  // `URL.prototype.pathname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-pathname
  defineBuiltInAccessor(URLPrototype, 'pathname', accessorDescriptor('getPathname', 'setPathname'));
  // `URL.prototype.search` accessors pair
  // https://url.spec.whatwg.org/#dom-url-search
  defineBuiltInAccessor(URLPrototype, 'search', accessorDescriptor('getSearch', 'setSearch'));
  // `URL.prototype.searchParams` getter
  // https://url.spec.whatwg.org/#dom-url-searchparams
  defineBuiltInAccessor(URLPrototype, 'searchParams', accessorDescriptor('getSearchParams'));
  // `URL.prototype.hash` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hash
  defineBuiltInAccessor(URLPrototype, 'hash', accessorDescriptor('getHash', 'setHash'));
}

// `URL.prototype.toJSON` method
// https://url.spec.whatwg.org/#dom-url-tojson
defineBuiltIn(URLPrototype, 'toJSON', function toJSON() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

// `URL.prototype.toString` method
// https://url.spec.whatwg.org/#URL-stringification-behavior
defineBuiltIn(URLPrototype, 'toString', function toString() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

if (NativeURL) {
  var nativeCreateObjectURL = NativeURL.createObjectURL;
  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;
  // `URL.createObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL
  if (nativeCreateObjectURL) defineBuiltIn(URLConstructor, 'createObjectURL', bind(nativeCreateObjectURL, NativeURL));
  // `URL.revokeObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL
  if (nativeRevokeObjectURL) defineBuiltIn(URLConstructor, 'revokeObjectURL', bind(nativeRevokeObjectURL, NativeURL));
}

setToStringTag(URLConstructor, 'URL');

$({ global: true, constructor: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {
  URL: URLConstructor
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(/*! ../modules/web.url.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.constructor.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\auto\\auto.mjs":
/*!***********************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\auto\auto.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/chart.mjs */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chart.mjs");


_dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.Chart.register(..._dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.registerables);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.Chart);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chart.mjs":
/*!************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\dist\chart.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Animation": () => (/* binding */ Animation),
/* harmony export */   "Animations": () => (/* binding */ Animations),
/* harmony export */   "ArcElement": () => (/* binding */ ArcElement),
/* harmony export */   "BarController": () => (/* binding */ BarController),
/* harmony export */   "BarElement": () => (/* binding */ BarElement),
/* harmony export */   "BasePlatform": () => (/* binding */ BasePlatform),
/* harmony export */   "BasicPlatform": () => (/* binding */ BasicPlatform),
/* harmony export */   "BubbleController": () => (/* binding */ BubbleController),
/* harmony export */   "CategoryScale": () => (/* binding */ CategoryScale),
/* harmony export */   "Chart": () => (/* binding */ Chart),
/* harmony export */   "DatasetController": () => (/* binding */ DatasetController),
/* harmony export */   "Decimation": () => (/* binding */ plugin_decimation),
/* harmony export */   "DomPlatform": () => (/* binding */ DomPlatform),
/* harmony export */   "DoughnutController": () => (/* binding */ DoughnutController),
/* harmony export */   "Element": () => (/* binding */ Element),
/* harmony export */   "Filler": () => (/* binding */ index),
/* harmony export */   "Interaction": () => (/* binding */ Interaction),
/* harmony export */   "Legend": () => (/* binding */ plugin_legend),
/* harmony export */   "LineController": () => (/* binding */ LineController),
/* harmony export */   "LineElement": () => (/* binding */ LineElement),
/* harmony export */   "LinearScale": () => (/* binding */ LinearScale),
/* harmony export */   "LogarithmicScale": () => (/* binding */ LogarithmicScale),
/* harmony export */   "PieController": () => (/* binding */ PieController),
/* harmony export */   "PointElement": () => (/* binding */ PointElement),
/* harmony export */   "PolarAreaController": () => (/* binding */ PolarAreaController),
/* harmony export */   "RadarController": () => (/* binding */ RadarController),
/* harmony export */   "RadialLinearScale": () => (/* binding */ RadialLinearScale),
/* harmony export */   "Scale": () => (/* binding */ Scale),
/* harmony export */   "ScatterController": () => (/* binding */ ScatterController),
/* harmony export */   "SubTitle": () => (/* binding */ plugin_subtitle),
/* harmony export */   "Ticks": () => (/* binding */ Ticks),
/* harmony export */   "TimeScale": () => (/* binding */ TimeScale),
/* harmony export */   "TimeSeriesScale": () => (/* binding */ TimeSeriesScale),
/* harmony export */   "Title": () => (/* binding */ plugin_title),
/* harmony export */   "Tooltip": () => (/* binding */ plugin_tooltip),
/* harmony export */   "_adapters": () => (/* binding */ adapters),
/* harmony export */   "_detectPlatform": () => (/* binding */ _detectPlatform),
/* harmony export */   "animator": () => (/* binding */ animator),
/* harmony export */   "controllers": () => (/* binding */ controllers),
/* harmony export */   "defaults": () => (/* reexport safe */ _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d),
/* harmony export */   "elements": () => (/* binding */ elements),
/* harmony export */   "layouts": () => (/* binding */ layouts),
/* harmony export */   "plugins": () => (/* binding */ plugins),
/* harmony export */   "registerables": () => (/* binding */ registerables),
/* harmony export */   "registry": () => (/* binding */ registry),
/* harmony export */   "scales": () => (/* binding */ scales)
/* harmony export */ });
/* harmony import */ var _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/helpers.segment.mjs */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chunks\\helpers.segment.mjs");
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */



class Animator {
  constructor() {
    this._request = null;
    this._charts = new Map();
    this._running = false;
    this._lastDate = undefined;
  }
  _notify(chart, anims, date, type) {
    const callbacks = anims.listeners[type];
    const numSteps = anims.duration;
    callbacks.forEach(fn => fn({
      chart,
      initial: anims.initial,
      numSteps,
      currentStep: Math.min(date - anims.start, numSteps)
    }));
  }
  _refresh() {
    if (this._request) {
      return;
    }
    this._running = true;
    this._request = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.r.call(window, () => {
      this._update();
      this._request = null;
      if (this._running) {
        this._refresh();
      }
    });
  }
  _update(date = Date.now()) {
    let remaining = 0;
    this._charts.forEach((anims, chart) => {
      if (!anims.running || !anims.items.length) {
        return;
      }
      const items = anims.items;
      let i = items.length - 1;
      let draw = false;
      let item;
      for (; i >= 0; --i) {
        item = items[i];
        if (item._active) {
          if (item._total > anims.duration) {
            anims.duration = item._total;
          }
          item.tick(date);
          draw = true;
        } else {
          items[i] = items[items.length - 1];
          items.pop();
        }
      }
      if (draw) {
        chart.draw();
        this._notify(chart, anims, date, 'progress');
      }
      if (!items.length) {
        anims.running = false;
        this._notify(chart, anims, date, 'complete');
        anims.initial = false;
      }
      remaining += items.length;
    });
    this._lastDate = date;
    if (remaining === 0) {
      this._running = false;
    }
  }
  _getAnims(chart) {
    const charts = this._charts;
    let anims = charts.get(chart);
    if (!anims) {
      anims = {
        running: false,
        initial: true,
        items: [],
        listeners: {
          complete: [],
          progress: []
        }
      };
      charts.set(chart, anims);
    }
    return anims;
  }
  listen(chart, event, cb) {
    this._getAnims(chart).listeners[event].push(cb);
  }
  add(chart, items) {
    if (!items || !items.length) {
      return;
    }
    this._getAnims(chart).items.push(...items);
  }
  has(chart) {
    return this._getAnims(chart).items.length > 0;
  }
  start(chart) {
    const anims = this._charts.get(chart);
    if (!anims) {
      return;
    }
    anims.running = true;
    anims.start = Date.now();
    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);
    this._refresh();
  }
  running(chart) {
    if (!this._running) {
      return false;
    }
    const anims = this._charts.get(chart);
    if (!anims || !anims.running || !anims.items.length) {
      return false;
    }
    return true;
  }
  stop(chart) {
    const anims = this._charts.get(chart);
    if (!anims || !anims.items.length) {
      return;
    }
    const items = anims.items;
    let i = items.length - 1;
    for (; i >= 0; --i) {
      items[i].cancel();
    }
    anims.items = [];
    this._notify(chart, anims, Date.now(), 'complete');
  }
  remove(chart) {
    return this._charts.delete(chart);
  }
}
var animator = new Animator();

const transparent = 'transparent';
const interpolators = {
  boolean(from, to, factor) {
    return factor > 0.5 ? to : from;
  },
  color(from, to, factor) {
    const c0 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(from || transparent);
    const c1 = c0.valid && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(to || transparent);
    return c1 && c1.valid
      ? c1.mix(c0, factor).hexString()
      : to;
  },
  number(from, to, factor) {
    return from + (to - from) * factor;
  }
};
class Animation {
  constructor(cfg, target, prop, to) {
    const currentValue = target[prop];
    to = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.to, to, currentValue, cfg.from]);
    const from = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.from, currentValue, to]);
    this._active = true;
    this._fn = cfg.fn || interpolators[cfg.type || typeof from];
    this._easing = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.e[cfg.easing] || _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.e.linear;
    this._start = Math.floor(Date.now() + (cfg.delay || 0));
    this._duration = this._total = Math.floor(cfg.duration);
    this._loop = !!cfg.loop;
    this._target = target;
    this._prop = prop;
    this._from = from;
    this._to = to;
    this._promises = undefined;
  }
  active() {
    return this._active;
  }
  update(cfg, to, date) {
    if (this._active) {
      this._notify(false);
      const currentValue = this._target[this._prop];
      const elapsed = date - this._start;
      const remain = this._duration - elapsed;
      this._start = date;
      this._duration = Math.floor(Math.max(remain, cfg.duration));
      this._total += elapsed;
      this._loop = !!cfg.loop;
      this._to = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.to, to, currentValue, cfg.from]);
      this._from = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.from, currentValue, to]);
    }
  }
  cancel() {
    if (this._active) {
      this.tick(Date.now());
      this._active = false;
      this._notify(false);
    }
  }
  tick(date) {
    const elapsed = date - this._start;
    const duration = this._duration;
    const prop = this._prop;
    const from = this._from;
    const loop = this._loop;
    const to = this._to;
    let factor;
    this._active = from !== to && (loop || (elapsed < duration));
    if (!this._active) {
      this._target[prop] = to;
      this._notify(true);
      return;
    }
    if (elapsed < 0) {
      this._target[prop] = from;
      return;
    }
    factor = (elapsed / duration) % 2;
    factor = loop && factor > 1 ? 2 - factor : factor;
    factor = this._easing(Math.min(1, Math.max(0, factor)));
    this._target[prop] = this._fn(from, to, factor);
  }
  wait() {
    const promises = this._promises || (this._promises = []);
    return new Promise((res, rej) => {
      promises.push({res, rej});
    });
  }
  _notify(resolved) {
    const method = resolved ? 'res' : 'rej';
    const promises = this._promises || [];
    for (let i = 0; i < promises.length; i++) {
      promises[i][method]();
    }
  }
}

const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];
const colors = ['color', 'borderColor', 'backgroundColor'];
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('animation', {
  delay: undefined,
  duration: 1000,
  easing: 'easeOutQuart',
  fn: undefined,
  from: undefined,
  loop: undefined,
  to: undefined,
  type: undefined,
});
const animationOptions = Object.keys(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.animation);
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('animation', {
  _fallback: false,
  _indexable: false,
  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('animations', {
  colors: {
    type: 'color',
    properties: colors
  },
  numbers: {
    type: 'number',
    properties: numbers
  },
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('animations', {
  _fallback: 'animation',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('transitions', {
  active: {
    animation: {
      duration: 400
    }
  },
  resize: {
    animation: {
      duration: 0
    }
  },
  show: {
    animations: {
      colors: {
        from: 'transparent'
      },
      visible: {
        type: 'boolean',
        duration: 0
      },
    }
  },
  hide: {
    animations: {
      colors: {
        to: 'transparent'
      },
      visible: {
        type: 'boolean',
        easing: 'linear',
        fn: v => v | 0
      },
    }
  }
});
class Animations {
  constructor(chart, config) {
    this._chart = chart;
    this._properties = new Map();
    this.configure(config);
  }
  configure(config) {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(config)) {
      return;
    }
    const animatedProps = this._properties;
    Object.getOwnPropertyNames(config).forEach(key => {
      const cfg = config[key];
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(cfg)) {
        return;
      }
      const resolved = {};
      for (const option of animationOptions) {
        resolved[option] = cfg[option];
      }
      ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(cfg.properties) && cfg.properties || [key]).forEach((prop) => {
        if (prop === key || !animatedProps.has(prop)) {
          animatedProps.set(prop, resolved);
        }
      });
    });
  }
  _animateOptions(target, values) {
    const newOptions = values.options;
    const options = resolveTargetOptions(target, newOptions);
    if (!options) {
      return [];
    }
    const animations = this._createAnimations(options, newOptions);
    if (newOptions.$shared) {
      awaitAll(target.options.$animations, newOptions).then(() => {
        target.options = newOptions;
      }, () => {
      });
    }
    return animations;
  }
  _createAnimations(target, values) {
    const animatedProps = this._properties;
    const animations = [];
    const running = target.$animations || (target.$animations = {});
    const props = Object.keys(values);
    const date = Date.now();
    let i;
    for (i = props.length - 1; i >= 0; --i) {
      const prop = props[i];
      if (prop.charAt(0) === '$') {
        continue;
      }
      if (prop === 'options') {
        animations.push(...this._animateOptions(target, values));
        continue;
      }
      const value = values[prop];
      let animation = running[prop];
      const cfg = animatedProps.get(prop);
      if (animation) {
        if (cfg && animation.active()) {
          animation.update(cfg, value, date);
          continue;
        } else {
          animation.cancel();
        }
      }
      if (!cfg || !cfg.duration) {
        target[prop] = value;
        continue;
      }
      running[prop] = animation = new Animation(cfg, target, prop, value);
      animations.push(animation);
    }
    return animations;
  }
  update(target, values) {
    if (this._properties.size === 0) {
      Object.assign(target, values);
      return;
    }
    const animations = this._createAnimations(target, values);
    if (animations.length) {
      animator.add(this._chart, animations);
      return true;
    }
  }
}
function awaitAll(animations, properties) {
  const running = [];
  const keys = Object.keys(properties);
  for (let i = 0; i < keys.length; i++) {
    const anim = animations[keys[i]];
    if (anim && anim.active()) {
      running.push(anim.wait());
    }
  }
  return Promise.all(running);
}
function resolveTargetOptions(target, newOptions) {
  if (!newOptions) {
    return;
  }
  let options = target.options;
  if (!options) {
    target.options = newOptions;
    return;
  }
  if (options.$shared) {
    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});
  }
  return options;
}

function scaleClip(scale, allowedOverflow) {
  const opts = scale && scale.options || {};
  const reverse = opts.reverse;
  const min = opts.min === undefined ? allowedOverflow : 0;
  const max = opts.max === undefined ? allowedOverflow : 0;
  return {
    start: reverse ? max : min,
    end: reverse ? min : max
  };
}
function defaultClip(xScale, yScale, allowedOverflow) {
  if (allowedOverflow === false) {
    return false;
  }
  const x = scaleClip(xScale, allowedOverflow);
  const y = scaleClip(yScale, allowedOverflow);
  return {
    top: y.end,
    right: x.end,
    bottom: y.start,
    left: x.start
  };
}
function toClip(value) {
  let t, r, b, l;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value)) {
    t = value.top;
    r = value.right;
    b = value.bottom;
    l = value.left;
  } else {
    t = r = b = l = value;
  }
  return {
    top: t,
    right: r,
    bottom: b,
    left: l,
    disabled: value === false
  };
}
function getSortedDatasetIndices(chart, filterVisible) {
  const keys = [];
  const metasets = chart._getSortedDatasetMetas(filterVisible);
  let i, ilen;
  for (i = 0, ilen = metasets.length; i < ilen; ++i) {
    keys.push(metasets[i].index);
  }
  return keys;
}
function applyStack(stack, value, dsIndex, options = {}) {
  const keys = stack.keys;
  const singleMode = options.mode === 'single';
  let i, ilen, datasetIndex, otherValue;
  if (value === null) {
    return;
  }
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    datasetIndex = +keys[i];
    if (datasetIndex === dsIndex) {
      if (options.all) {
        continue;
      }
      break;
    }
    otherValue = stack.values[datasetIndex];
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(otherValue) && (singleMode || (value === 0 || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value) === (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(otherValue)))) {
      value += otherValue;
    }
  }
  return value;
}
function convertObjectDataToArray(data) {
  const keys = Object.keys(data);
  const adata = new Array(keys.length);
  let i, ilen, key;
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    key = keys[i];
    adata[i] = {
      x: key,
      y: data[key]
    };
  }
  return adata;
}
function isStacked(scale, meta) {
  const stacked = scale && scale.options.stacked;
  return stacked || (stacked === undefined && meta.stack !== undefined);
}
function getStackKey(indexScale, valueScale, meta) {
  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;
}
function getUserBounds(scale) {
  const {min, max, minDefined, maxDefined} = scale.getUserBounds();
  return {
    min: minDefined ? min : Number.NEGATIVE_INFINITY,
    max: maxDefined ? max : Number.POSITIVE_INFINITY
  };
}
function getOrCreateStack(stacks, stackKey, indexValue) {
  const subStack = stacks[stackKey] || (stacks[stackKey] = {});
  return subStack[indexValue] || (subStack[indexValue] = {});
}
function getLastIndexInStack(stack, vScale, positive, type) {
  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {
    const value = stack[meta.index];
    if ((positive && value > 0) || (!positive && value < 0)) {
      return meta.index;
    }
  }
  return null;
}
function updateStacks(controller, parsed) {
  const {chart, _cachedMeta: meta} = controller;
  const stacks = chart._stacks || (chart._stacks = {});
  const {iScale, vScale, index: datasetIndex} = meta;
  const iAxis = iScale.axis;
  const vAxis = vScale.axis;
  const key = getStackKey(iScale, vScale, meta);
  const ilen = parsed.length;
  let stack;
  for (let i = 0; i < ilen; ++i) {
    const item = parsed[i];
    const {[iAxis]: index, [vAxis]: value} = item;
    const itemStacks = item._stacks || (item._stacks = {});
    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);
    stack[datasetIndex] = value;
    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);
    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);
  }
}
function getFirstScaleId(chart, axis) {
  const scales = chart.scales;
  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();
}
function createDatasetContext(parent, index) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent,
    {
      active: false,
      dataset: undefined,
      datasetIndex: index,
      index,
      mode: 'default',
      type: 'dataset'
    }
  );
}
function createDataContext(parent, index, element) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    active: false,
    dataIndex: index,
    parsed: undefined,
    raw: undefined,
    element,
    index,
    mode: 'default',
    type: 'data'
  });
}
function clearStacks(meta, items) {
  const datasetIndex = meta.controller.index;
  const axis = meta.vScale && meta.vScale.axis;
  if (!axis) {
    return;
  }
  items = items || meta._parsed;
  for (const parsed of items) {
    const stacks = parsed._stacks;
    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {
      return;
    }
    delete stacks[axis][datasetIndex];
  }
}
const isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';
const cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);
const createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked
  && {keys: getSortedDatasetIndices(chart, true), values: null};
class DatasetController {
  constructor(chart, datasetIndex) {
    this.chart = chart;
    this._ctx = chart.ctx;
    this.index = datasetIndex;
    this._cachedDataOpts = {};
    this._cachedMeta = this.getMeta();
    this._type = this._cachedMeta.type;
    this.options = undefined;
    this._parsing = false;
    this._data = undefined;
    this._objectData = undefined;
    this._sharedOptions = undefined;
    this._drawStart = undefined;
    this._drawCount = undefined;
    this.enableOptionSharing = false;
    this.supportsDecimation = false;
    this.$context = undefined;
    this._syncList = [];
    this.initialize();
  }
  initialize() {
    const meta = this._cachedMeta;
    this.configure();
    this.linkScales();
    meta._stacked = isStacked(meta.vScale, meta);
    this.addElements();
  }
  updateIndex(datasetIndex) {
    if (this.index !== datasetIndex) {
      clearStacks(this._cachedMeta);
    }
    this.index = datasetIndex;
  }
  linkScales() {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;
    const xid = meta.xAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.xAxisID, getFirstScaleId(chart, 'x'));
    const yid = meta.yAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.yAxisID, getFirstScaleId(chart, 'y'));
    const rid = meta.rAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.rAxisID, getFirstScaleId(chart, 'r'));
    const indexAxis = meta.indexAxis;
    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);
    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);
    meta.xScale = this.getScaleForId(xid);
    meta.yScale = this.getScaleForId(yid);
    meta.rScale = this.getScaleForId(rid);
    meta.iScale = this.getScaleForId(iid);
    meta.vScale = this.getScaleForId(vid);
  }
  getDataset() {
    return this.chart.data.datasets[this.index];
  }
  getMeta() {
    return this.chart.getDatasetMeta(this.index);
  }
  getScaleForId(scaleID) {
    return this.chart.scales[scaleID];
  }
  _getOtherScale(scale) {
    const meta = this._cachedMeta;
    return scale === meta.iScale
      ? meta.vScale
      : meta.iScale;
  }
  reset() {
    this._update('reset');
  }
  _destroy() {
    const meta = this._cachedMeta;
    if (this._data) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.u)(this._data, this);
    }
    if (meta._stacked) {
      clearStacks(meta);
    }
  }
  _dataCheck() {
    const dataset = this.getDataset();
    const data = dataset.data || (dataset.data = []);
    const _data = this._data;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data)) {
      this._data = convertObjectDataToArray(data);
    } else if (_data !== data) {
      if (_data) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.u)(_data, this);
        const meta = this._cachedMeta;
        clearStacks(meta);
        meta._parsed = [];
      }
      if (data && Object.isExtensible(data)) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.l)(data, this);
      }
      this._syncList = [];
      this._data = data;
    }
  }
  addElements() {
    const meta = this._cachedMeta;
    this._dataCheck();
    if (this.datasetElementType) {
      meta.dataset = new this.datasetElementType();
    }
  }
  buildOrUpdateElements(resetNewElements) {
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    let stackChanged = false;
    this._dataCheck();
    const oldStacked = meta._stacked;
    meta._stacked = isStacked(meta.vScale, meta);
    if (meta.stack !== dataset.stack) {
      stackChanged = true;
      clearStacks(meta);
      meta.stack = dataset.stack;
    }
    this._resyncElements(resetNewElements);
    if (stackChanged || oldStacked !== meta._stacked) {
      updateStacks(this, meta._parsed);
    }
  }
  configure() {
    const config = this.chart.config;
    const scopeKeys = config.datasetScopeKeys(this._type);
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);
    this.options = config.createResolver(scopes, this.getContext());
    this._parsing = this.options.parsing;
    this._cachedDataOpts = {};
  }
  parse(start, count) {
    const {_cachedMeta: meta, _data: data} = this;
    const {iScale, _stacked} = meta;
    const iAxis = iScale.axis;
    let sorted = start === 0 && count === data.length ? true : meta._sorted;
    let prev = start > 0 && meta._parsed[start - 1];
    let i, cur, parsed;
    if (this._parsing === false) {
      meta._parsed = data;
      meta._sorted = true;
      parsed = data;
    } else {
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(data[start])) {
        parsed = this.parseArrayData(meta, data, start, count);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data[start])) {
        parsed = this.parseObjectData(meta, data, start, count);
      } else {
        parsed = this.parsePrimitiveData(meta, data, start, count);
      }
      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);
      for (i = 0; i < count; ++i) {
        meta._parsed[i + start] = cur = parsed[i];
        if (sorted) {
          if (isNotInOrderComparedToPrev()) {
            sorted = false;
          }
          prev = cur;
        }
      }
      meta._sorted = sorted;
    }
    if (_stacked) {
      updateStacks(this, parsed);
    }
  }
  parsePrimitiveData(meta, data, start, count) {
    const {iScale, vScale} = meta;
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const labels = iScale.getLabels();
    const singleScale = iScale === vScale;
    const parsed = new Array(count);
    let i, ilen, index;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      parsed[i] = {
        [iAxis]: singleScale || iScale.parse(labels[index], index),
        [vAxis]: vScale.parse(data[index], index)
      };
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const {xScale, yScale} = meta;
    const parsed = new Array(count);
    let i, ilen, index, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      item = data[index];
      parsed[i] = {
        x: xScale.parse(item[0], index),
        y: yScale.parse(item[1], index)
      };
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const {xScale, yScale} = meta;
    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;
    const parsed = new Array(count);
    let i, ilen, index, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      item = data[index];
      parsed[i] = {
        x: xScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(item, xAxisKey), index),
        y: yScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(item, yAxisKey), index)
      };
    }
    return parsed;
  }
  getParsed(index) {
    return this._cachedMeta._parsed[index];
  }
  getDataElement(index) {
    return this._cachedMeta.data[index];
  }
  applyStack(scale, parsed, mode) {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const value = parsed[scale.axis];
    const stack = {
      keys: getSortedDatasetIndices(chart, true),
      values: parsed._stacks[scale.axis]
    };
    return applyStack(stack, value, meta.index, {mode});
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    const parsedValue = parsed[scale.axis];
    let value = parsedValue === null ? NaN : parsedValue;
    const values = stack && parsed._stacks[scale.axis];
    if (stack && values) {
      stack.values = values;
      value = applyStack(stack, parsedValue, this._cachedMeta.index);
    }
    range.min = Math.min(range.min, value);
    range.max = Math.max(range.max, value);
  }
  getMinMax(scale, canStack) {
    const meta = this._cachedMeta;
    const _parsed = meta._parsed;
    const sorted = meta._sorted && scale === meta.iScale;
    const ilen = _parsed.length;
    const otherScale = this._getOtherScale(scale);
    const stack = createStack(canStack, meta, this.chart);
    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};
    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);
    let i, parsed;
    function _skip() {
      parsed = _parsed[i];
      const otherValue = parsed[otherScale.axis];
      return !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;
    }
    for (i = 0; i < ilen; ++i) {
      if (_skip()) {
        continue;
      }
      this.updateRangeFromParsed(range, scale, parsed, stack);
      if (sorted) {
        break;
      }
    }
    if (sorted) {
      for (i = ilen - 1; i >= 0; --i) {
        if (_skip()) {
          continue;
        }
        this.updateRangeFromParsed(range, scale, parsed, stack);
        break;
      }
    }
    return range;
  }
  getAllParsedValues(scale) {
    const parsed = this._cachedMeta._parsed;
    const values = [];
    let i, ilen, value;
    for (i = 0, ilen = parsed.length; i < ilen; ++i) {
      value = parsed[i][scale.axis];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value)) {
        values.push(value);
      }
    }
    return values;
  }
  getMaxOverflow() {
    return false;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const vScale = meta.vScale;
    const parsed = this.getParsed(index);
    return {
      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',
      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''
    };
  }
  _update(mode) {
    const meta = this._cachedMeta;
    this.update(mode || 'default');
    meta._clip = toClip((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));
  }
  update(mode) {}
  draw() {
    const ctx = this._ctx;
    const chart = this.chart;
    const meta = this._cachedMeta;
    const elements = meta.data || [];
    const area = chart.chartArea;
    const active = [];
    const start = this._drawStart || 0;
    const count = this._drawCount || (elements.length - start);
    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;
    let i;
    if (meta.dataset) {
      meta.dataset.draw(ctx, area, start, count);
    }
    for (i = start; i < start + count; ++i) {
      const element = elements[i];
      if (element.hidden) {
        continue;
      }
      if (element.active && drawActiveElementsOnTop) {
        active.push(element);
      } else {
        element.draw(ctx, area);
      }
    }
    for (i = 0; i < active.length; ++i) {
      active[i].draw(ctx, area);
    }
  }
  getStyle(index, active) {
    const mode = active ? 'active' : 'default';
    return index === undefined && this._cachedMeta.dataset
      ? this.resolveDatasetElementOptions(mode)
      : this.resolveDataElementOptions(index || 0, mode);
  }
  getContext(index, active, mode) {
    const dataset = this.getDataset();
    let context;
    if (index >= 0 && index < this._cachedMeta.data.length) {
      const element = this._cachedMeta.data[index];
      context = element.$context ||
        (element.$context = createDataContext(this.getContext(), index, element));
      context.parsed = this.getParsed(index);
      context.raw = dataset.data[index];
      context.index = context.dataIndex = index;
    } else {
      context = this.$context ||
        (this.$context = createDatasetContext(this.chart.getContext(), this.index));
      context.dataset = dataset;
      context.index = context.datasetIndex = this.index;
    }
    context.active = !!active;
    context.mode = mode;
    return context;
  }
  resolveDatasetElementOptions(mode) {
    return this._resolveElementOptions(this.datasetElementType.id, mode);
  }
  resolveDataElementOptions(index, mode) {
    return this._resolveElementOptions(this.dataElementType.id, mode, index);
  }
  _resolveElementOptions(elementType, mode = 'default', index) {
    const active = mode === 'active';
    const cache = this._cachedDataOpts;
    const cacheKey = elementType + '-' + mode;
    const cached = cache[cacheKey];
    const sharing = this.enableOptionSharing && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(index);
    if (cached) {
      return cloneIfNotShared(cached, sharing);
    }
    const config = this.chart.config;
    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);
    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
    const names = Object.keys(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.elements[elementType]);
    const context = () => this.getContext(index, active);
    const values = config.resolveNamedOptions(scopes, names, context, prefixes);
    if (values.$shared) {
      values.$shared = sharing;
      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));
    }
    return values;
  }
  _resolveAnimations(index, transition, active) {
    const chart = this.chart;
    const cache = this._cachedDataOpts;
    const cacheKey = `animation-${transition}`;
    const cached = cache[cacheKey];
    if (cached) {
      return cached;
    }
    let options;
    if (chart.options.animation !== false) {
      const config = this.chart.config;
      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);
      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
      options = config.createResolver(scopes, this.getContext(index, active, transition));
    }
    const animations = new Animations(chart, options && options.animations);
    if (options && options._cacheable) {
      cache[cacheKey] = Object.freeze(animations);
    }
    return animations;
  }
  getSharedOptions(options) {
    if (!options.$shared) {
      return;
    }
    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));
  }
  includeOptions(mode, sharedOptions) {
    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;
  }
  _getSharedOptions(start, mode) {
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const previouslySharedOptions = this._sharedOptions;
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
    return {sharedOptions, includeOptions};
  }
  updateElement(element, index, properties, mode) {
    if (isDirectUpdateMode(mode)) {
      Object.assign(element, properties);
    } else {
      this._resolveAnimations(index, mode).update(element, properties);
    }
  }
  updateSharedOptions(sharedOptions, mode, newOptions) {
    if (sharedOptions && !isDirectUpdateMode(mode)) {
      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);
    }
  }
  _setStyle(element, index, mode, active) {
    element.active = active;
    const options = this.getStyle(index, active);
    this._resolveAnimations(index, mode, active).update(element, {
      options: (!active && this.getSharedOptions(options)) || options
    });
  }
  removeHoverStyle(element, datasetIndex, index) {
    this._setStyle(element, index, 'active', false);
  }
  setHoverStyle(element, datasetIndex, index) {
    this._setStyle(element, index, 'active', true);
  }
  _removeDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, undefined, 'active', false);
    }
  }
  _setDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, undefined, 'active', true);
    }
  }
  _resyncElements(resetNewElements) {
    const data = this._data;
    const elements = this._cachedMeta.data;
    for (const [method, arg1, arg2] of this._syncList) {
      this[method](arg1, arg2);
    }
    this._syncList = [];
    const numMeta = elements.length;
    const numData = data.length;
    const count = Math.min(numData, numMeta);
    if (count) {
      this.parse(0, count);
    }
    if (numData > numMeta) {
      this._insertElements(numMeta, numData - numMeta, resetNewElements);
    } else if (numData < numMeta) {
      this._removeElements(numData, numMeta - numData);
    }
  }
  _insertElements(start, count, resetNewElements = true) {
    const meta = this._cachedMeta;
    const data = meta.data;
    const end = start + count;
    let i;
    const move = (arr) => {
      arr.length += count;
      for (i = arr.length - 1; i >= end; i--) {
        arr[i] = arr[i - count];
      }
    };
    move(data);
    for (i = start; i < end; ++i) {
      data[i] = new this.dataElementType();
    }
    if (this._parsing) {
      move(meta._parsed);
    }
    this.parse(start, count);
    if (resetNewElements) {
      this.updateElements(data, start, count, 'reset');
    }
  }
  updateElements(element, start, count, mode) {}
  _removeElements(start, count) {
    const meta = this._cachedMeta;
    if (this._parsing) {
      const removed = meta._parsed.splice(start, count);
      if (meta._stacked) {
        clearStacks(meta, removed);
      }
    }
    meta.data.splice(start, count);
  }
  _sync(args) {
    if (this._parsing) {
      this._syncList.push(args);
    } else {
      const [method, arg1, arg2] = args;
      this[method](arg1, arg2);
    }
    this.chart._dataChanges.push([this.index, ...args]);
  }
  _onDataPush() {
    const count = arguments.length;
    this._sync(['_insertElements', this.getDataset().data.length - count, count]);
  }
  _onDataPop() {
    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);
  }
  _onDataShift() {
    this._sync(['_removeElements', 0, 1]);
  }
  _onDataSplice(start, count) {
    if (count) {
      this._sync(['_removeElements', start, count]);
    }
    const newCount = arguments.length - 2;
    if (newCount) {
      this._sync(['_insertElements', start, newCount]);
    }
  }
  _onDataUnshift() {
    this._sync(['_insertElements', 0, arguments.length]);
  }
}
DatasetController.defaults = {};
DatasetController.prototype.datasetElementType = null;
DatasetController.prototype.dataElementType = null;

function getAllScaleValues(scale, type) {
  if (!scale._cache.$bar) {
    const visibleMetas = scale.getMatchingVisibleMetas(type);
    let values = [];
    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {
      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));
    }
    scale._cache.$bar = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__._)(values.sort((a, b) => a - b));
  }
  return scale._cache.$bar;
}
function computeMinSampleSize(meta) {
  const scale = meta.iScale;
  const values = getAllScaleValues(scale, meta.type);
  let min = scale._length;
  let i, ilen, curr, prev;
  const updateMinAndPrev = () => {
    if (curr === 32767 || curr === -32768) {
      return;
    }
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(prev)) {
      min = Math.min(min, Math.abs(curr - prev) || min);
    }
    prev = curr;
  };
  for (i = 0, ilen = values.length; i < ilen; ++i) {
    curr = scale.getPixelForValue(values[i]);
    updateMinAndPrev();
  }
  prev = undefined;
  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {
    curr = scale.getPixelForTick(i);
    updateMinAndPrev();
  }
  return min;
}
function computeFitCategoryTraits(index, ruler, options, stackCount) {
  const thickness = options.barThickness;
  let size, ratio;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(thickness)) {
    size = ruler.min * options.categoryPercentage;
    ratio = options.barPercentage;
  } else {
    size = thickness * stackCount;
    ratio = 1;
  }
  return {
    chunk: size / stackCount,
    ratio,
    start: ruler.pixels[index] - (size / 2)
  };
}
function computeFlexCategoryTraits(index, ruler, options, stackCount) {
  const pixels = ruler.pixels;
  const curr = pixels[index];
  let prev = index > 0 ? pixels[index - 1] : null;
  let next = index < pixels.length - 1 ? pixels[index + 1] : null;
  const percent = options.categoryPercentage;
  if (prev === null) {
    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);
  }
  if (next === null) {
    next = curr + curr - prev;
  }
  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;
  const size = Math.abs(next - prev) / 2 * percent;
  return {
    chunk: size / stackCount,
    ratio: options.barPercentage,
    start
  };
}
function parseFloatBar(entry, item, vScale, i) {
  const startValue = vScale.parse(entry[0], i);
  const endValue = vScale.parse(entry[1], i);
  const min = Math.min(startValue, endValue);
  const max = Math.max(startValue, endValue);
  let barStart = min;
  let barEnd = max;
  if (Math.abs(min) > Math.abs(max)) {
    barStart = max;
    barEnd = min;
  }
  item[vScale.axis] = barEnd;
  item._custom = {
    barStart,
    barEnd,
    start: startValue,
    end: endValue,
    min,
    max
  };
}
function parseValue(entry, item, vScale, i) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(entry)) {
    parseFloatBar(entry, item, vScale, i);
  } else {
    item[vScale.axis] = vScale.parse(entry, i);
  }
  return item;
}
function parseArrayOrPrimitive(meta, data, start, count) {
  const iScale = meta.iScale;
  const vScale = meta.vScale;
  const labels = iScale.getLabels();
  const singleScale = iScale === vScale;
  const parsed = [];
  let i, ilen, item, entry;
  for (i = start, ilen = start + count; i < ilen; ++i) {
    entry = data[i];
    item = {};
    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);
    parsed.push(parseValue(entry, item, vScale, i));
  }
  return parsed;
}
function isFloatBar(custom) {
  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;
}
function barSign(size, vScale, actualBase) {
  if (size !== 0) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(size);
  }
  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);
}
function borderProps(properties) {
  let reverse, start, end, top, bottom;
  if (properties.horizontal) {
    reverse = properties.base > properties.x;
    start = 'left';
    end = 'right';
  } else {
    reverse = properties.base < properties.y;
    start = 'bottom';
    end = 'top';
  }
  if (reverse) {
    top = 'end';
    bottom = 'start';
  } else {
    top = 'start';
    bottom = 'end';
  }
  return {start, end, reverse, top, bottom};
}
function setBorderSkipped(properties, options, stack, index) {
  let edge = options.borderSkipped;
  const res = {};
  if (!edge) {
    properties.borderSkipped = res;
    return;
  }
  if (edge === true) {
    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};
    return;
  }
  const {start, end, reverse, top, bottom} = borderProps(properties);
  if (edge === 'middle' && stack) {
    properties.enableBorderRadius = true;
    if ((stack._top || 0) === index) {
      edge = top;
    } else if ((stack._bottom || 0) === index) {
      edge = bottom;
    } else {
      res[parseEdge(bottom, start, end, reverse)] = true;
      edge = top;
    }
  }
  res[parseEdge(edge, start, end, reverse)] = true;
  properties.borderSkipped = res;
}
function parseEdge(edge, a, b, reverse) {
  if (reverse) {
    edge = swap(edge, a, b);
    edge = startEnd(edge, b, a);
  } else {
    edge = startEnd(edge, a, b);
  }
  return edge;
}
function swap(orig, v1, v2) {
  return orig === v1 ? v2 : orig === v2 ? v1 : orig;
}
function startEnd(v, start, end) {
  return v === 'start' ? start : v === 'end' ? end : v;
}
function setInflateAmount(properties, {inflateAmount}, ratio) {
  properties.inflateAmount = inflateAmount === 'auto'
    ? ratio === 1 ? 0.33 : 0
    : inflateAmount;
}
class BarController extends DatasetController {
  parsePrimitiveData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseArrayData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseObjectData(meta, data, start, count) {
    const {iScale, vScale} = meta;
    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;
    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;
    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;
    const parsed = [];
    let i, ilen, item, obj;
    for (i = start, ilen = start + count; i < ilen; ++i) {
      obj = data[i];
      item = {};
      item[iScale.axis] = iScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, iAxisKey), i);
      parsed.push(parseValue((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, vAxisKey), item, vScale, i));
    }
    return parsed;
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    super.updateRangeFromParsed(range, scale, parsed, stack);
    const custom = parsed._custom;
    if (custom && scale === this._cachedMeta.vScale) {
      range.min = Math.min(range.min, custom.min);
      range.max = Math.max(range.max, custom.max);
    }
  }
  getMaxOverflow() {
    return 0;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const {iScale, vScale} = meta;
    const parsed = this.getParsed(index);
    const custom = parsed._custom;
    const value = isFloatBar(custom)
      ? '[' + custom.start + ', ' + custom.end + ']'
      : '' + vScale.getLabelForValue(parsed[vScale.axis]);
    return {
      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),
      value
    };
  }
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
    const meta = this._cachedMeta;
    meta.stack = this.getDataset().stack;
  }
  update(mode) {
    const meta = this._cachedMeta;
    this.updateElements(meta.data, 0, meta.data.length, mode);
  }
  updateElements(bars, start, count, mode) {
    const reset = mode === 'reset';
    const {index, _cachedMeta: {vScale}} = this;
    const base = vScale.getBasePixel();
    const horizontal = vScale.isHorizontal();
    const ruler = this._getRuler();
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    for (let i = start; i < start + count; i++) {
      const parsed = this.getParsed(i);
      const vpixels = reset || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);
      const ipixels = this._calculateBarIndexPixels(i, ruler);
      const stack = (parsed._stacks || {})[vScale.axis];
      const properties = {
        horizontal,
        base: vpixels.base,
        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),
        x: horizontal ? vpixels.head : ipixels.center,
        y: horizontal ? ipixels.center : vpixels.head,
        height: horizontal ? ipixels.size : Math.abs(vpixels.size),
        width: horizontal ? Math.abs(vpixels.size) : ipixels.size
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);
      }
      const options = properties.options || bars[i].options;
      setBorderSkipped(properties, options, stack, index);
      setInflateAmount(properties, options, ruler.ratio);
      this.updateElement(bars[i], i, properties, mode);
    }
  }
  _getStacks(last, dataIndex) {
    const {iScale} = this._cachedMeta;
    const metasets = iScale.getMatchingVisibleMetas(this._type)
      .filter(meta => meta.controller.options.grouped);
    const stacked = iScale.options.stacked;
    const stacks = [];
    const skipNull = (meta) => {
      const parsed = meta.controller.getParsed(dataIndex);
      const val = parsed && parsed[meta.vScale.axis];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(val) || isNaN(val)) {
        return true;
      }
    };
    for (const meta of metasets) {
      if (dataIndex !== undefined && skipNull(meta)) {
        continue;
      }
      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||
				(stacked === undefined && meta.stack === undefined)) {
        stacks.push(meta.stack);
      }
      if (meta.index === last) {
        break;
      }
    }
    if (!stacks.length) {
      stacks.push(undefined);
    }
    return stacks;
  }
  _getStackCount(index) {
    return this._getStacks(undefined, index).length;
  }
  _getStackIndex(datasetIndex, name, dataIndex) {
    const stacks = this._getStacks(datasetIndex, dataIndex);
    const index = (name !== undefined)
      ? stacks.indexOf(name)
      : -1;
    return (index === -1)
      ? stacks.length - 1
      : index;
  }
  _getRuler() {
    const opts = this.options;
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const pixels = [];
    let i, ilen;
    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {
      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));
    }
    const barThickness = opts.barThickness;
    const min = barThickness || computeMinSampleSize(meta);
    return {
      min,
      pixels,
      start: iScale._startPixel,
      end: iScale._endPixel,
      stackCount: this._getStackCount(),
      scale: iScale,
      grouped: opts.grouped,
      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage
    };
  }
  _calculateBarValuePixels(index) {
    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;
    const actualBase = baseValue || 0;
    const parsed = this.getParsed(index);
    const custom = parsed._custom;
    const floating = isFloatBar(custom);
    let value = parsed[vScale.axis];
    let start = 0;
    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;
    let head, size;
    if (length !== value) {
      start = length - value;
      length = value;
    }
    if (floating) {
      value = custom.barStart;
      length = custom.barEnd - custom.barStart;
      if (value !== 0 && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value) !== (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(custom.barEnd)) {
        start = 0;
      }
      start += value;
    }
    const startValue = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(baseValue) && !floating ? baseValue : start;
    let base = vScale.getPixelForValue(startValue);
    if (this.chart.getDataVisibility(index)) {
      head = vScale.getPixelForValue(start + length);
    } else {
      head = base;
    }
    size = head - base;
    if (Math.abs(size) < minBarLength) {
      size = barSign(size, vScale, actualBase) * minBarLength;
      if (value === actualBase) {
        base -= size / 2;
      }
      const startPixel = vScale.getPixelForDecimal(0);
      const endPixel = vScale.getPixelForDecimal(1);
      const min = Math.min(startPixel, endPixel);
      const max = Math.max(startPixel, endPixel);
      base = Math.max(Math.min(base, max), min);
      head = base + size;
    }
    if (base === vScale.getPixelForValue(actualBase)) {
      const halfGrid = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(size) * vScale.getLineWidthForValue(actualBase) / 2;
      base += halfGrid;
      size -= halfGrid;
    }
    return {
      size,
      base,
      head,
      center: head + size / 2
    };
  }
  _calculateBarIndexPixels(index, ruler) {
    const scale = ruler.scale;
    const options = this.options;
    const skipNull = options.skipNull;
    const maxBarThickness = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.maxBarThickness, Infinity);
    let center, size;
    if (ruler.grouped) {
      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;
      const range = options.barThickness === 'flex'
        ? computeFlexCategoryTraits(index, ruler, options, stackCount)
        : computeFitCategoryTraits(index, ruler, options, stackCount);
      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);
      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);
      size = Math.min(maxBarThickness, range.chunk * range.ratio);
    } else {
      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);
      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);
    }
    return {
      base: center - size / 2,
      head: center + size / 2,
      center,
      size
    };
  }
  draw() {
    const meta = this._cachedMeta;
    const vScale = meta.vScale;
    const rects = meta.data;
    const ilen = rects.length;
    let i = 0;
    for (; i < ilen; ++i) {
      if (this.getParsed(i)[vScale.axis] !== null) {
        rects[i].draw(this._ctx);
      }
    }
  }
}
BarController.id = 'bar';
BarController.defaults = {
  datasetElementType: false,
  dataElementType: 'bar',
  categoryPercentage: 0.8,
  barPercentage: 0.9,
  grouped: true,
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'base', 'width', 'height']
    }
  }
};
BarController.overrides = {
  scales: {
    _index_: {
      type: 'category',
      offset: true,
      grid: {
        offset: true
      }
    },
    _value_: {
      type: 'linear',
      beginAtZero: true,
    }
  }
};

class BubbleController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
  }
  parsePrimitiveData(meta, data, start, count) {
    const parsed = super.parsePrimitiveData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const parsed = super.parseArrayData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(item[2], this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const parsed = super.parseObjectData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  getMaxOverflow() {
    const data = this._cachedMeta.data;
    let max = 0;
    for (let i = data.length - 1; i >= 0; --i) {
      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
    }
    return max > 0 && max;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const {xScale, yScale} = meta;
    const parsed = this.getParsed(index);
    const x = xScale.getLabelForValue(parsed.x);
    const y = yScale.getLabelForValue(parsed.y);
    const r = parsed._custom;
    return {
      label: meta.label,
      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'
    };
  }
  update(mode) {
    const points = this._cachedMeta.data;
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale} = this._cachedMeta;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const parsed = !reset && this.getParsed(i);
      const properties = {};
      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);
      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);
      properties.skip = isNaN(iPixel) || isNaN(vPixel);
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
        if (reset) {
          properties.options.radius = 0;
        }
      }
      this.updateElement(point, i, properties, mode);
    }
  }
  resolveDataElementOptions(index, mode) {
    const parsed = this.getParsed(index);
    let values = super.resolveDataElementOptions(index, mode);
    if (values.$shared) {
      values = Object.assign({}, values, {$shared: false});
    }
    const radius = values.radius;
    if (mode !== 'active') {
      values.radius = 0;
    }
    values.radius += (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(parsed && parsed._custom, radius);
    return values;
  }
}
BubbleController.id = 'bubble';
BubbleController.defaults = {
  datasetElementType: false,
  dataElementType: 'point',
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'borderWidth', 'radius']
    }
  }
};
BubbleController.overrides = {
  scales: {
    x: {
      type: 'linear'
    },
    y: {
      type: 'linear'
    }
  },
  plugins: {
    tooltip: {
      callbacks: {
        title() {
          return '';
        }
      }
    }
  }
};

function getRatioAndOffset(rotation, circumference, cutout) {
  let ratioX = 1;
  let ratioY = 1;
  let offsetX = 0;
  let offsetY = 0;
  if (circumference < _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T) {
    const startAngle = rotation;
    const endAngle = startAngle + circumference;
    const startX = Math.cos(startAngle);
    const startY = Math.sin(startAngle);
    const endX = Math.cos(endAngle);
    const endY = Math.sin(endAngle);
    const calcMax = (angle, a, b) => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);
    const calcMin = (angle, a, b) => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);
    const maxX = calcMax(0, startX, endX);
    const maxY = calcMax(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startY, endY);
    const minX = calcMin(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P, startX, endX);
    const minY = calcMin(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startY, endY);
    ratioX = (maxX - minX) / 2;
    ratioY = (maxY - minY) / 2;
    offsetX = -(maxX + minX) / 2;
    offsetY = -(maxY + minY) / 2;
  }
  return {ratioX, ratioY, offsetX, offsetY};
}
class DoughnutController extends DatasetController {
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.enableOptionSharing = true;
    this.innerRadius = undefined;
    this.outerRadius = undefined;
    this.offsetX = undefined;
    this.offsetY = undefined;
  }
  linkScales() {}
  parse(start, count) {
    const data = this.getDataset().data;
    const meta = this._cachedMeta;
    if (this._parsing === false) {
      meta._parsed = data;
    } else {
      let getter = (i) => +data[i];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data[start])) {
        const {key = 'value'} = this._parsing;
        getter = (i) => +(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(data[i], key);
      }
      let i, ilen;
      for (i = start, ilen = start + count; i < ilen; ++i) {
        meta._parsed[i] = getter(i);
      }
    }
  }
  _getRotation() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.rotation - 90);
  }
  _getCircumference() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.circumference);
  }
  _getRotationExtents() {
    let min = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
    let max = -_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
    for (let i = 0; i < this.chart.data.datasets.length; ++i) {
      if (this.chart.isDatasetVisible(i)) {
        const controller = this.chart.getDatasetMeta(i).controller;
        const rotation = controller._getRotation();
        const circumference = controller._getCircumference();
        min = Math.min(min, rotation);
        max = Math.max(max, rotation + circumference);
      }
    }
    return {
      rotation: min,
      circumference: max - min,
    };
  }
  update(mode) {
    const chart = this.chart;
    const {chartArea} = chart;
    const meta = this._cachedMeta;
    const arcs = meta.data;
    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;
    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);
    const cutout = Math.min((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(this.options.cutout, maxSize), 1);
    const chartWeight = this._getRingWeight(this.index);
    const {circumference, rotation} = this._getRotationExtents();
    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);
    const maxWidth = (chartArea.width - spacing) / ratioX;
    const maxHeight = (chartArea.height - spacing) / ratioY;
    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);
    const outerRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(this.options.radius, maxRadius);
    const innerRadius = Math.max(outerRadius * cutout, 0);
    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();
    this.offsetX = offsetX * outerRadius;
    this.offsetY = offsetY * outerRadius;
    meta.total = this.calculateTotal();
    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);
    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  _circumference(i, reset) {
    const opts = this.options;
    const meta = this._cachedMeta;
    const circumference = this._getCircumference();
    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {
      return 0;
    }
    return this.calculateCircumference(meta._parsed[i] * circumference / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === 'reset';
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const centerX = (chartArea.left + chartArea.right) / 2;
    const centerY = (chartArea.top + chartArea.bottom) / 2;
    const animateScale = reset && animationOpts.animateScale;
    const innerRadius = animateScale ? 0 : this.innerRadius;
    const outerRadius = animateScale ? 0 : this.outerRadius;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    let startAngle = this._getRotation();
    let i;
    for (i = 0; i < start; ++i) {
      startAngle += this._circumference(i, reset);
    }
    for (i = start; i < start + count; ++i) {
      const circumference = this._circumference(i, reset);
      const arc = arcs[i];
      const properties = {
        x: centerX + this.offsetX,
        y: centerY + this.offsetY,
        startAngle,
        endAngle: startAngle + circumference,
        circumference,
        outerRadius,
        innerRadius
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);
      }
      startAngle += circumference;
      this.updateElement(arc, i, properties, mode);
    }
  }
  calculateTotal() {
    const meta = this._cachedMeta;
    const metaData = meta.data;
    let total = 0;
    let i;
    for (i = 0; i < metaData.length; i++) {
      const value = meta._parsed[i];
      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {
        total += Math.abs(value);
      }
    }
    return total;
  }
  calculateCircumference(value) {
    const total = this._cachedMeta.total;
    if (total > 0 && !isNaN(value)) {
      return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T * (Math.abs(value) / total);
    }
    return 0;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(meta._parsed[index], chart.options.locale);
    return {
      label: labels[index] || '',
      value,
    };
  }
  getMaxBorderWidth(arcs) {
    let max = 0;
    const chart = this.chart;
    let i, ilen, meta, controller, options;
    if (!arcs) {
      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {
        if (chart.isDatasetVisible(i)) {
          meta = chart.getDatasetMeta(i);
          arcs = meta.data;
          controller = meta.controller;
          break;
        }
      }
    }
    if (!arcs) {
      return 0;
    }
    for (i = 0, ilen = arcs.length; i < ilen; ++i) {
      options = controller.resolveDataElementOptions(i);
      if (options.borderAlign !== 'inner') {
        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);
      }
    }
    return max;
  }
  getMaxOffset(arcs) {
    let max = 0;
    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {
      const options = this.resolveDataElementOptions(i);
      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);
    }
    return max;
  }
  _getRingWeightOffset(datasetIndex) {
    let ringWeightOffset = 0;
    for (let i = 0; i < datasetIndex; ++i) {
      if (this.chart.isDatasetVisible(i)) {
        ringWeightOffset += this._getRingWeight(i);
      }
    }
    return ringWeightOffset;
  }
  _getRingWeight(datasetIndex) {
    return Math.max((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(this.chart.data.datasets[datasetIndex].weight, 1), 0);
  }
  _getVisibleDatasetWeightTotal() {
    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;
  }
}
DoughnutController.id = 'doughnut';
DoughnutController.defaults = {
  datasetElementType: false,
  dataElementType: 'arc',
  animation: {
    animateRotate: true,
    animateScale: false
  },
  animations: {
    numbers: {
      type: 'number',
      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']
    },
  },
  cutout: '50%',
  rotation: 0,
  circumference: 360,
  radius: '100%',
  spacing: 0,
  indexAxis: 'r',
};
DoughnutController.descriptors = {
  _scriptable: (name) => name !== 'spacing',
  _indexable: (name) => name !== 'spacing',
};
DoughnutController.overrides = {
  aspectRatio: 1,
  plugins: {
    legend: {
      labels: {
        generateLabels(chart) {
          const data = chart.data;
          if (data.labels.length && data.datasets.length) {
            const {labels: {pointStyle}} = chart.legend.options;
            return data.labels.map((label, i) => {
              const meta = chart.getDatasetMeta(0);
              const style = meta.controller.getStyle(i);
              return {
                text: label,
                fillStyle: style.backgroundColor,
                strokeStyle: style.borderColor,
                lineWidth: style.borderWidth,
                pointStyle: pointStyle,
                hidden: !chart.getDataVisibility(i),
                index: i
              };
            });
          }
          return [];
        }
      },
      onClick(e, legendItem, legend) {
        legend.chart.toggleDataVisibility(legendItem.index);
        legend.chart.update();
      }
    },
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(tooltipItem) {
          let dataLabel = tooltipItem.label;
          const value = ': ' + tooltipItem.formattedValue;
          if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(dataLabel)) {
            dataLabel = dataLabel.slice();
            dataLabel[0] += value;
          } else {
            dataLabel += value;
          }
          return dataLabel;
        }
      }
    }
  }
};

class LineController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true;
    this.supportsDecimation = true;
    super.initialize();
  }
  update(mode) {
    const meta = this._cachedMeta;
    const {dataset: line, data: points = [], _dataset} = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {start, count} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(meta)) {
      start = 0;
      count = points.length;
    }
    line._chart = this.chart;
    line._datasetIndex = this.index;
    line._decimated = !!_dataset._decimated;
    line.points = points;
    const options = this.resolveDatasetElementOptions(mode);
    if (!this.options.showLine) {
      options.borderWidth = 0;
    }
    options.segment = this.options.segment;
    this.updateElement(line, undefined, {
      animated: !animationsDisabled,
      options
    }, mode);
    this.updateElements(points, start, count, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {spanGaps, segment} = this.options;
    const maxGapLength = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = start; i < start + count; ++i) {
      const point = points[i];
      const parsed = this.getParsed(i);
      const properties = directUpdate ? point : {};
      const nullData = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    const data = meta.data || [];
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
  draw() {
    const meta = this._cachedMeta;
    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);
    super.draw();
  }
}
LineController.id = 'line';
LineController.defaults = {
  datasetElementType: 'line',
  dataElementType: 'point',
  showLine: true,
  spanGaps: false,
};
LineController.overrides = {
  scales: {
    _index_: {
      type: 'category',
    },
    _value_: {
      type: 'linear',
    },
  }
};

class PolarAreaController extends DatasetController {
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.innerRadius = undefined;
    this.outerRadius = undefined;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(meta._parsed[index].r, chart.options.locale);
    return {
      label: labels[index] || '',
      value,
    };
  }
  parseObjectData(meta, data, start, count) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.y.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const arcs = this._cachedMeta.data;
    this._updateRadius();
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  getMinMax() {
    const meta = this._cachedMeta;
    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};
    meta.data.forEach((element, index) => {
      const parsed = this.getParsed(index).r;
      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {
        if (parsed < range.min) {
          range.min = parsed;
        }
        if (parsed > range.max) {
          range.max = parsed;
        }
      }
    });
    return range;
  }
  _updateRadius() {
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
    const outerRadius = Math.max(minSize / 2, 0);
    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);
    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();
    this.outerRadius = outerRadius - (radiusLength * this.index);
    this.innerRadius = this.outerRadius - radiusLength;
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === 'reset';
    const chart = this.chart;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const scale = this._cachedMeta.rScale;
    const centerX = scale.xCenter;
    const centerY = scale.yCenter;
    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P;
    let angle = datasetStartAngle;
    let i;
    const defaultAngle = 360 / this.countVisibleElements();
    for (i = 0; i < start; ++i) {
      angle += this._computeAngle(i, mode, defaultAngle);
    }
    for (i = start; i < start + count; i++) {
      const arc = arcs[i];
      let startAngle = angle;
      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);
      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;
      angle = endAngle;
      if (reset) {
        if (animationOpts.animateScale) {
          outerRadius = 0;
        }
        if (animationOpts.animateRotate) {
          startAngle = endAngle = datasetStartAngle;
        }
      }
      const properties = {
        x: centerX,
        y: centerY,
        innerRadius: 0,
        outerRadius,
        startAngle,
        endAngle,
        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)
      };
      this.updateElement(arc, i, properties, mode);
    }
  }
  countVisibleElements() {
    const meta = this._cachedMeta;
    let count = 0;
    meta.data.forEach((element, index) => {
      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {
        count++;
      }
    });
    return count;
  }
  _computeAngle(index, mode, defaultAngle) {
    return this.chart.getDataVisibility(index)
      ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.resolveDataElementOptions(index, mode).angle || defaultAngle)
      : 0;
  }
}
PolarAreaController.id = 'polarArea';
PolarAreaController.defaults = {
  dataElementType: 'arc',
  animation: {
    animateRotate: true,
    animateScale: true
  },
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']
    },
  },
  indexAxis: 'r',
  startAngle: 0,
};
PolarAreaController.overrides = {
  aspectRatio: 1,
  plugins: {
    legend: {
      labels: {
        generateLabels(chart) {
          const data = chart.data;
          if (data.labels.length && data.datasets.length) {
            const {labels: {pointStyle}} = chart.legend.options;
            return data.labels.map((label, i) => {
              const meta = chart.getDatasetMeta(0);
              const style = meta.controller.getStyle(i);
              return {
                text: label,
                fillStyle: style.backgroundColor,
                strokeStyle: style.borderColor,
                lineWidth: style.borderWidth,
                pointStyle: pointStyle,
                hidden: !chart.getDataVisibility(i),
                index: i
              };
            });
          }
          return [];
        }
      },
      onClick(e, legendItem, legend) {
        legend.chart.toggleDataVisibility(legendItem.index);
        legend.chart.update();
      }
    },
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(context) {
          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;
        }
      }
    }
  },
  scales: {
    r: {
      type: 'radialLinear',
      angleLines: {
        display: false
      },
      beginAtZero: true,
      grid: {
        circular: true
      },
      pointLabels: {
        display: false
      },
      startAngle: 0
    }
  }
};

class PieController extends DoughnutController {
}
PieController.id = 'pie';
PieController.defaults = {
  cutout: 0,
  rotation: 0,
  circumference: 360,
  radius: '100%'
};

class RadarController extends DatasetController {
  getLabelAndValue(index) {
    const vScale = this._cachedMeta.vScale;
    const parsed = this.getParsed(index);
    return {
      label: vScale.getLabels()[index],
      value: '' + vScale.getLabelForValue(parsed[vScale.axis])
    };
  }
  parseObjectData(meta, data, start, count) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.y.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const meta = this._cachedMeta;
    const line = meta.dataset;
    const points = meta.data || [];
    const labels = meta.iScale.getLabels();
    line.points = points;
    if (mode !== 'resize') {
      const options = this.resolveDatasetElementOptions(mode);
      if (!this.options.showLine) {
        options.borderWidth = 0;
      }
      const properties = {
        _loop: true,
        _fullLoop: labels.length === points.length,
        options
      };
      this.updateElement(line, undefined, properties, mode);
    }
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const scale = this._cachedMeta.rScale;
    const reset = mode === 'reset';
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);
      const x = reset ? scale.xCenter : pointPosition.x;
      const y = reset ? scale.yCenter : pointPosition.y;
      const properties = {
        x,
        y,
        angle: pointPosition.angle,
        skip: isNaN(x) || isNaN(y),
        options
      };
      this.updateElement(point, i, properties, mode);
    }
  }
}
RadarController.id = 'radar';
RadarController.defaults = {
  datasetElementType: 'line',
  dataElementType: 'point',
  indexAxis: 'r',
  showLine: true,
  elements: {
    line: {
      fill: 'start'
    }
  },
};
RadarController.overrides = {
  aspectRatio: 1,
  scales: {
    r: {
      type: 'radialLinear',
    }
  }
};

class Element {
  constructor() {
    this.x = undefined;
    this.y = undefined;
    this.active = false;
    this.options = undefined;
    this.$animations = undefined;
  }
  tooltipPosition(useFinalPosition) {
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return {x, y};
  }
  hasValue() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(this.x) && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(this.y);
  }
  getProps(props, final) {
    const anims = this.$animations;
    if (!final || !anims) {
      return this;
    }
    const ret = {};
    props.forEach(prop => {
      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];
    });
    return ret;
  }
}
Element.defaults = {};
Element.defaultRoutes = undefined;

const formatters = {
  values(value) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(value) ? value : '' + value;
  },
  numeric(tickValue, index, ticks) {
    if (tickValue === 0) {
      return '0';
    }
    const locale = this.chart.options.locale;
    let notation;
    let delta = tickValue;
    if (ticks.length > 1) {
      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));
      if (maxTick < 1e-4 || maxTick > 1e+15) {
        notation = 'scientific';
      }
      delta = calculateDelta(tickValue, ticks);
    }
    const logDelta = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(Math.abs(delta));
    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);
    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};
    Object.assign(options, this.options.ticks.format);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(tickValue, locale, options);
  },
  logarithmic(tickValue, index, ticks) {
    if (tickValue === 0) {
      return '0';
    }
    const remain = tickValue / (Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickValue))));
    if (remain === 1 || remain === 2 || remain === 5) {
      return formatters.numeric.call(this, tickValue, index, ticks);
    }
    return '';
  }
};
function calculateDelta(tickValue, ticks) {
  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;
  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {
    delta = tickValue - Math.floor(tickValue);
  }
  return delta;
}
var Ticks = {formatters};

_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('scale', {
  display: true,
  offset: false,
  reverse: false,
  beginAtZero: false,
  bounds: 'ticks',
  grace: 0,
  grid: {
    display: true,
    lineWidth: 1,
    drawBorder: true,
    drawOnChartArea: true,
    drawTicks: true,
    tickLength: 8,
    tickWidth: (_ctx, options) => options.lineWidth,
    tickColor: (_ctx, options) => options.color,
    offset: false,
    borderDash: [],
    borderDashOffset: 0.0,
    borderWidth: 1
  },
  title: {
    display: false,
    text: '',
    padding: {
      top: 4,
      bottom: 4
    }
  },
  ticks: {
    minRotation: 0,
    maxRotation: 50,
    mirror: false,
    textStrokeWidth: 0,
    textStrokeColor: '',
    padding: 3,
    display: true,
    autoSkip: true,
    autoSkipPadding: 3,
    labelOffset: 0,
    callback: Ticks.formatters.values,
    minor: {},
    major: {},
    align: 'center',
    crossAlign: 'near',
    showLabelBackdrop: false,
    backdropColor: 'rgba(255, 255, 255, 0.75)',
    backdropPadding: 2,
  }
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.ticks', 'color', '', 'color');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.grid', 'color', '', 'borderColor');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.grid', 'borderColor', '', 'borderColor');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.title', 'color', '', 'color');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scale', {
  _fallback: false,
  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',
  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scales', {
  _fallback: 'scale',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scale.ticks', {
  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',
  _indexable: (name) => name !== 'backdropPadding',
});

function autoSkip(scale, ticks) {
  const tickOpts = scale.options.ticks;
  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);
  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];
  const numMajorIndices = majorIndices.length;
  const first = majorIndices[0];
  const last = majorIndices[numMajorIndices - 1];
  const newTicks = [];
  if (numMajorIndices > ticksLimit) {
    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);
    return newTicks;
  }
  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);
  if (numMajorIndices > 0) {
    let i, ilen;
    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;
    skip(ticks, newTicks, spacing, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);
    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {
      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);
    }
    skip(ticks, newTicks, spacing, last, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);
    return newTicks;
  }
  skip(ticks, newTicks, spacing);
  return newTicks;
}
function determineMaxTicks(scale) {
  const offset = scale.options.offset;
  const tickLength = scale._tickSize();
  const maxScale = scale._length / tickLength + (offset ? 0 : 1);
  const maxChart = scale._maxLength / tickLength;
  return Math.floor(Math.min(maxScale, maxChart));
}
function calculateSpacing(majorIndices, ticks, ticksLimit) {
  const evenMajorSpacing = getEvenSpacing(majorIndices);
  const spacing = ticks.length / ticksLimit;
  if (!evenMajorSpacing) {
    return Math.max(spacing, 1);
  }
  const factors = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.A)(evenMajorSpacing);
  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {
    const factor = factors[i];
    if (factor > spacing) {
      return factor;
    }
  }
  return Math.max(spacing, 1);
}
function getMajorIndices(ticks) {
  const result = [];
  let i, ilen;
  for (i = 0, ilen = ticks.length; i < ilen; i++) {
    if (ticks[i].major) {
      result.push(i);
    }
  }
  return result;
}
function skipMajors(ticks, newTicks, majorIndices, spacing) {
  let count = 0;
  let next = majorIndices[0];
  let i;
  spacing = Math.ceil(spacing);
  for (i = 0; i < ticks.length; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = majorIndices[count * spacing];
    }
  }
}
function skip(ticks, newTicks, spacing, majorStart, majorEnd) {
  const start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(majorStart, 0);
  const end = Math.min((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(majorEnd, ticks.length), ticks.length);
  let count = 0;
  let length, i, next;
  spacing = Math.ceil(spacing);
  if (majorEnd) {
    length = majorEnd - majorStart;
    spacing = length / Math.floor(length / spacing);
  }
  next = start;
  while (next < 0) {
    count++;
    next = Math.round(start + count * spacing);
  }
  for (i = Math.max(start, 0); i < end; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = Math.round(start + count * spacing);
    }
  }
}
function getEvenSpacing(arr) {
  const len = arr.length;
  let i, diff;
  if (len < 2) {
    return false;
  }
  for (diff = arr[0], i = 1; i < len; ++i) {
    if (arr[i] - arr[i - 1] !== diff) {
      return false;
    }
  }
  return diff;
}

const reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;
const offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;
function sample(arr, numItems) {
  const result = [];
  const increment = arr.length / numItems;
  const len = arr.length;
  let i = 0;
  for (; i < len; i += increment) {
    result.push(arr[Math.floor(i)]);
  }
  return result;
}
function getPixelForGridLine(scale, index, offsetGridLines) {
  const length = scale.ticks.length;
  const validIndex = Math.min(index, length - 1);
  const start = scale._startPixel;
  const end = scale._endPixel;
  const epsilon = 1e-6;
  let lineValue = scale.getPixelForTick(validIndex);
  let offset;
  if (offsetGridLines) {
    if (length === 1) {
      offset = Math.max(lineValue - start, end - lineValue);
    } else if (index === 0) {
      offset = (scale.getPixelForTick(1) - lineValue) / 2;
    } else {
      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;
    }
    lineValue += validIndex < index ? offset : -offset;
    if (lineValue < start - epsilon || lineValue > end + epsilon) {
      return;
    }
  }
  return lineValue;
}
function garbageCollect(caches, length) {
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(caches, (cache) => {
    const gc = cache.gc;
    const gcLen = gc.length / 2;
    let i;
    if (gcLen > length) {
      for (i = 0; i < gcLen; ++i) {
        delete cache.data[gc[i]];
      }
      gc.splice(0, gcLen);
    }
  });
}
function getTickMarkLength(options) {
  return options.drawTicks ? options.tickLength : 0;
}
function getTitleHeight(options, fallback) {
  if (!options.display) {
    return 0;
  }
  const font = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.font, fallback);
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  const lines = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(options.text) ? options.text.length : 1;
  return (lines * font.lineHeight) + padding.height;
}
function createScaleContext(parent, scale) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    scale,
    type: 'scale'
  });
}
function createTickContext(parent, index, tick) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    tick,
    index,
    type: 'tick'
  });
}
function titleAlign(align, position, reverse) {
  let ret = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(align);
  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {
    ret = reverseAlign(ret);
  }
  return ret;
}
function titleArgs(scale, offset, position, align) {
  const {top, left, bottom, right, chart} = scale;
  const {chartArea, scales} = chart;
  let rotation = 0;
  let maxWidth, titleX, titleY;
  const height = bottom - top;
  const width = right - left;
  if (scale.isHorizontal()) {
    titleX = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, left, right);
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;
    } else if (position === 'center') {
      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;
    } else {
      titleY = offsetFromEdge(scale, position, offset);
    }
    maxWidth = right - left;
  } else {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;
    } else if (position === 'center') {
      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;
    } else {
      titleX = offsetFromEdge(scale, position, offset);
    }
    titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, bottom, top);
    rotation = position === 'left' ? -_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H : _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H;
  }
  return {titleX, titleY, maxWidth, rotation};
}
class Scale extends Element {
  constructor(cfg) {
    super();
    this.id = cfg.id;
    this.type = cfg.type;
    this.options = undefined;
    this.ctx = cfg.ctx;
    this.chart = cfg.chart;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.width = undefined;
    this.height = undefined;
    this._margins = {
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    };
    this.maxWidth = undefined;
    this.maxHeight = undefined;
    this.paddingTop = undefined;
    this.paddingBottom = undefined;
    this.paddingLeft = undefined;
    this.paddingRight = undefined;
    this.axis = undefined;
    this.labelRotation = undefined;
    this.min = undefined;
    this.max = undefined;
    this._range = undefined;
    this.ticks = [];
    this._gridLineItems = null;
    this._labelItems = null;
    this._labelSizes = null;
    this._length = 0;
    this._maxLength = 0;
    this._longestTextCache = {};
    this._startPixel = undefined;
    this._endPixel = undefined;
    this._reversePixels = false;
    this._userMax = undefined;
    this._userMin = undefined;
    this._suggestedMax = undefined;
    this._suggestedMin = undefined;
    this._ticksLength = 0;
    this._borderValue = 0;
    this._cache = {};
    this._dataLimitsCached = false;
    this.$context = undefined;
  }
  init(options) {
    this.options = options.setContext(this.getContext());
    this.axis = options.axis;
    this._userMin = this.parse(options.min);
    this._userMax = this.parse(options.max);
    this._suggestedMin = this.parse(options.suggestedMin);
    this._suggestedMax = this.parse(options.suggestedMax);
  }
  parse(raw, index) {
    return raw;
  }
  getUserBounds() {
    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;
    _userMin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMin, Number.POSITIVE_INFINITY);
    _userMax = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMax, Number.NEGATIVE_INFINITY);
    _suggestedMin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_suggestedMin, Number.POSITIVE_INFINITY);
    _suggestedMax = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_suggestedMax, Number.NEGATIVE_INFINITY);
    return {
      min: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMin, _suggestedMin),
      max: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMax, _suggestedMax),
      minDefined: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(_userMin),
      maxDefined: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(_userMax)
    };
  }
  getMinMax(canStack) {
    let {min, max, minDefined, maxDefined} = this.getUserBounds();
    let range;
    if (minDefined && maxDefined) {
      return {min, max};
    }
    const metas = this.getMatchingVisibleMetas();
    for (let i = 0, ilen = metas.length; i < ilen; ++i) {
      range = metas[i].controller.getMinMax(this, canStack);
      if (!minDefined) {
        min = Math.min(min, range.min);
      }
      if (!maxDefined) {
        max = Math.max(max, range.max);
      }
    }
    min = maxDefined && min > max ? max : min;
    max = minDefined && min > max ? min : max;
    return {
      min: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(min, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(max, min)),
      max: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(max, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(min, max))
    };
  }
  getPadding() {
    return {
      left: this.paddingLeft || 0,
      top: this.paddingTop || 0,
      right: this.paddingRight || 0,
      bottom: this.paddingBottom || 0
    };
  }
  getTicks() {
    return this.ticks;
  }
  getLabels() {
    const data = this.chart.data;
    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];
  }
  beforeLayout() {
    this._cache = {};
    this._dataLimitsCached = false;
  }
  beforeUpdate() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeUpdate, [this]);
  }
  update(maxWidth, maxHeight, margins) {
    const {beginAtZero, grace, ticks: tickOpts} = this.options;
    const sampleSize = tickOpts.sampleSize;
    this.beforeUpdate();
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins = Object.assign({
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    }, margins);
    this.ticks = null;
    this._labelSizes = null;
    this._gridLineItems = null;
    this._labelItems = null;
    this.beforeSetDimensions();
    this.setDimensions();
    this.afterSetDimensions();
    this._maxLength = this.isHorizontal()
      ? this.width + margins.left + margins.right
      : this.height + margins.top + margins.bottom;
    if (!this._dataLimitsCached) {
      this.beforeDataLimits();
      this.determineDataLimits();
      this.afterDataLimits();
      this._range = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.D)(this, grace, beginAtZero);
      this._dataLimitsCached = true;
    }
    this.beforeBuildTicks();
    this.ticks = this.buildTicks() || [];
    this.afterBuildTicks();
    const samplingEnabled = sampleSize < this.ticks.length;
    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);
    this.configure();
    this.beforeCalculateLabelRotation();
    this.calculateLabelRotation();
    this.afterCalculateLabelRotation();
    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {
      this.ticks = autoSkip(this, this.ticks);
      this._labelSizes = null;
      this.afterAutoSkip();
    }
    if (samplingEnabled) {
      this._convertTicksToLabels(this.ticks);
    }
    this.beforeFit();
    this.fit();
    this.afterFit();
    this.afterUpdate();
  }
  configure() {
    let reversePixels = this.options.reverse;
    let startPixel, endPixel;
    if (this.isHorizontal()) {
      startPixel = this.left;
      endPixel = this.right;
    } else {
      startPixel = this.top;
      endPixel = this.bottom;
      reversePixels = !reversePixels;
    }
    this._startPixel = startPixel;
    this._endPixel = endPixel;
    this._reversePixels = reversePixels;
    this._length = endPixel - startPixel;
    this._alignToPixels = this.options.alignToPixels;
  }
  afterUpdate() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterUpdate, [this]);
  }
  beforeSetDimensions() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeSetDimensions, [this]);
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = 0;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = 0;
      this.bottom = this.height;
    }
    this.paddingLeft = 0;
    this.paddingTop = 0;
    this.paddingRight = 0;
    this.paddingBottom = 0;
  }
  afterSetDimensions() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterSetDimensions, [this]);
  }
  _callHooks(name) {
    this.chart.notifyPlugins(name, this.getContext());
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options[name], [this]);
  }
  beforeDataLimits() {
    this._callHooks('beforeDataLimits');
  }
  determineDataLimits() {}
  afterDataLimits() {
    this._callHooks('afterDataLimits');
  }
  beforeBuildTicks() {
    this._callHooks('beforeBuildTicks');
  }
  buildTicks() {
    return [];
  }
  afterBuildTicks() {
    this._callHooks('afterBuildTicks');
  }
  beforeTickToLabelConversion() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeTickToLabelConversion, [this]);
  }
  generateTickLabels(ticks) {
    const tickOpts = this.options.ticks;
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      tick = ticks[i];
      tick.label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(tickOpts.callback, [tick.value, i, ticks], this);
    }
  }
  afterTickToLabelConversion() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterTickToLabelConversion, [this]);
  }
  beforeCalculateLabelRotation() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeCalculateLabelRotation, [this]);
  }
  calculateLabelRotation() {
    const options = this.options;
    const tickOpts = options.ticks;
    const numTicks = this.ticks.length;
    const minRotation = tickOpts.minRotation || 0;
    const maxRotation = tickOpts.maxRotation;
    let labelRotation = minRotation;
    let tickWidth, maxHeight, maxLabelDiagonal;
    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {
      this.labelRotation = minRotation;
      return;
    }
    const labelSizes = this._getLabelSizes();
    const maxLabelWidth = labelSizes.widest.width;
    const maxLabelHeight = labelSizes.highest.height;
    const maxWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(this.chart.width - maxLabelWidth, 0, this.maxWidth);
    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);
    if (maxLabelWidth + 6 > tickWidth) {
      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));
      maxHeight = this.maxHeight - getTickMarkLength(options.grid)
				- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);
      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);
      labelRotation = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)(Math.min(
        Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((labelSizes.highest.height + 6) / tickWidth, -1, 1)),
        Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(maxLabelHeight / maxLabelDiagonal, -1, 1))
      ));
      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));
    }
    this.labelRotation = labelRotation;
  }
  afterCalculateLabelRotation() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterCalculateLabelRotation, [this]);
  }
  afterAutoSkip() {}
  beforeFit() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeFit, [this]);
  }
  fit() {
    const minSize = {
      width: 0,
      height: 0
    };
    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;
    const display = this._isVisible();
    const isHorizontal = this.isHorizontal();
    if (display) {
      const titleHeight = getTitleHeight(titleOpts, chart.options.font);
      if (isHorizontal) {
        minSize.width = this.maxWidth;
        minSize.height = getTickMarkLength(gridOpts) + titleHeight;
      } else {
        minSize.height = this.maxHeight;
        minSize.width = getTickMarkLength(gridOpts) + titleHeight;
      }
      if (tickOpts.display && this.ticks.length) {
        const {first, last, widest, highest} = this._getLabelSizes();
        const tickPadding = tickOpts.padding * 2;
        const angleRadians = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
        const cos = Math.cos(angleRadians);
        const sin = Math.sin(angleRadians);
        if (isHorizontal) {
          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;
          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);
        } else {
          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;
          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);
        }
        this._calculatePadding(first, last, sin, cos);
      }
    }
    this._handleMargins();
    if (isHorizontal) {
      this.width = this._length = chart.width - this._margins.left - this._margins.right;
      this.height = minSize.height;
    } else {
      this.width = minSize.width;
      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;
    }
  }
  _calculatePadding(first, last, sin, cos) {
    const {ticks: {align, padding}, position} = this.options;
    const isRotated = this.labelRotation !== 0;
    const labelsBelowTicks = position !== 'top' && this.axis === 'x';
    if (this.isHorizontal()) {
      const offsetLeft = this.getPixelForTick(0) - this.left;
      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);
      let paddingLeft = 0;
      let paddingRight = 0;
      if (isRotated) {
        if (labelsBelowTicks) {
          paddingLeft = cos * first.width;
          paddingRight = sin * last.height;
        } else {
          paddingLeft = sin * first.height;
          paddingRight = cos * last.width;
        }
      } else if (align === 'start') {
        paddingRight = last.width;
      } else if (align === 'end') {
        paddingLeft = first.width;
      } else if (align !== 'inner') {
        paddingLeft = first.width / 2;
        paddingRight = last.width / 2;
      }
      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);
      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);
    } else {
      let paddingTop = last.height / 2;
      let paddingBottom = first.height / 2;
      if (align === 'start') {
        paddingTop = 0;
        paddingBottom = first.height;
      } else if (align === 'end') {
        paddingTop = last.height;
        paddingBottom = 0;
      }
      this.paddingTop = paddingTop + padding;
      this.paddingBottom = paddingBottom + padding;
    }
  }
  _handleMargins() {
    if (this._margins) {
      this._margins.left = Math.max(this.paddingLeft, this._margins.left);
      this._margins.top = Math.max(this.paddingTop, this._margins.top);
      this._margins.right = Math.max(this.paddingRight, this._margins.right);
      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);
    }
  }
  afterFit() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterFit, [this]);
  }
  isHorizontal() {
    const {axis, position} = this.options;
    return position === 'top' || position === 'bottom' || axis === 'x';
  }
  isFullSize() {
    return this.options.fullSize;
  }
  _convertTicksToLabels(ticks) {
    this.beforeTickToLabelConversion();
    this.generateTickLabels(ticks);
    let i, ilen;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(ticks[i].label)) {
        ticks.splice(i, 1);
        ilen--;
        i--;
      }
    }
    this.afterTickToLabelConversion();
  }
  _getLabelSizes() {
    let labelSizes = this._labelSizes;
    if (!labelSizes) {
      const sampleSize = this.options.ticks.sampleSize;
      let ticks = this.ticks;
      if (sampleSize < ticks.length) {
        ticks = sample(ticks, sampleSize);
      }
      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);
    }
    return labelSizes;
  }
  _computeLabelSizes(ticks, length) {
    const {ctx, _longestTextCache: caches} = this;
    const widths = [];
    const heights = [];
    let widestLabelSize = 0;
    let highestLabelSize = 0;
    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;
    for (i = 0; i < length; ++i) {
      label = ticks[i].label;
      tickFont = this._resolveTickFontOptions(i);
      ctx.font = fontString = tickFont.string;
      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};
      lineHeight = tickFont.lineHeight;
      width = height = 0;
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(label) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label)) {
        width = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(ctx, cache.data, cache.gc, width, label);
        height = lineHeight;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label)) {
        for (j = 0, jlen = label.length; j < jlen; ++j) {
          nestedLabel = label[j];
          if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(nestedLabel) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(nestedLabel)) {
            width = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(ctx, cache.data, cache.gc, width, nestedLabel);
            height += lineHeight;
          }
        }
      }
      widths.push(width);
      heights.push(height);
      widestLabelSize = Math.max(width, widestLabelSize);
      highestLabelSize = Math.max(height, highestLabelSize);
    }
    garbageCollect(caches, length);
    const widest = widths.indexOf(widestLabelSize);
    const highest = heights.indexOf(highestLabelSize);
    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});
    return {
      first: valueAt(0),
      last: valueAt(length - 1),
      widest: valueAt(widest),
      highest: valueAt(highest),
      widths,
      heights,
    };
  }
  getLabelForValue(value) {
    return value;
  }
  getPixelForValue(value, index) {
    return NaN;
  }
  getValueForPixel(pixel) {}
  getPixelForTick(index) {
    const ticks = this.ticks;
    if (index < 0 || index > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index].value);
  }
  getPixelForDecimal(decimal) {
    if (this._reversePixels) {
      decimal = 1 - decimal;
    }
    const pixel = this._startPixel + decimal * this._length;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.I)(this._alignToPixels ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(this.chart, pixel, 0) : pixel);
  }
  getDecimalForPixel(pixel) {
    const decimal = (pixel - this._startPixel) / this._length;
    return this._reversePixels ? 1 - decimal : decimal;
  }
  getBasePixel() {
    return this.getPixelForValue(this.getBaseValue());
  }
  getBaseValue() {
    const {min, max} = this;
    return min < 0 && max < 0 ? max :
      min > 0 && max > 0 ? min :
      0;
  }
  getContext(index) {
    const ticks = this.ticks || [];
    if (index >= 0 && index < ticks.length) {
      const tick = ticks[index];
      return tick.$context ||
				(tick.$context = createTickContext(this.getContext(), index, tick));
    }
    return this.$context ||
			(this.$context = createScaleContext(this.chart.getContext(), this));
  }
  _tickSize() {
    const optionTicks = this.options.ticks;
    const rot = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    const cos = Math.abs(Math.cos(rot));
    const sin = Math.abs(Math.sin(rot));
    const labelSizes = this._getLabelSizes();
    const padding = optionTicks.autoSkipPadding || 0;
    const w = labelSizes ? labelSizes.widest.width + padding : 0;
    const h = labelSizes ? labelSizes.highest.height + padding : 0;
    return this.isHorizontal()
      ? h * cos > w * sin ? w / cos : h / sin
      : h * sin < w * cos ? h / cos : w / sin;
  }
  _isVisible() {
    const display = this.options.display;
    if (display !== 'auto') {
      return !!display;
    }
    return this.getMatchingVisibleMetas().length > 0;
  }
  _computeGridLineItems(chartArea) {
    const axis = this.axis;
    const chart = this.chart;
    const options = this.options;
    const {grid, position} = options;
    const offset = grid.offset;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const ticksLength = ticks.length + (offset ? 1 : 0);
    const tl = getTickMarkLength(grid);
    const items = [];
    const borderOpts = grid.setContext(this.getContext());
    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;
    const axisHalfWidth = axisWidth / 2;
    const alignBorderValue = function(pixel) {
      return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, pixel, axisWidth);
    };
    let borderValue, i, lineValue, alignedLineValue;
    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;
    if (position === 'top') {
      borderValue = alignBorderValue(this.bottom);
      ty1 = this.bottom - tl;
      ty2 = borderValue - axisHalfWidth;
      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;
      y2 = chartArea.bottom;
    } else if (position === 'bottom') {
      borderValue = alignBorderValue(this.top);
      y1 = chartArea.top;
      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;
      ty1 = borderValue + axisHalfWidth;
      ty2 = this.top + tl;
    } else if (position === 'left') {
      borderValue = alignBorderValue(this.right);
      tx1 = this.right - tl;
      tx2 = borderValue - axisHalfWidth;
      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;
      x2 = chartArea.right;
    } else if (position === 'right') {
      borderValue = alignBorderValue(this.left);
      x1 = chartArea.left;
      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;
      tx1 = borderValue + axisHalfWidth;
      tx2 = this.left + tl;
    } else if (axis === 'x') {
      if (position === 'center') {
        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      y1 = chartArea.top;
      y2 = chartArea.bottom;
      ty1 = borderValue + axisHalfWidth;
      ty2 = ty1 + tl;
    } else if (axis === 'y') {
      if (position === 'center') {
        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      tx1 = borderValue - axisHalfWidth;
      tx2 = tx1 - tl;
      x1 = chartArea.left;
      x2 = chartArea.right;
    }
    const limit = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.ticks.maxTicksLimit, ticksLength);
    const step = Math.max(1, Math.ceil(ticksLength / limit));
    for (i = 0; i < ticksLength; i += step) {
      const optsAtIndex = grid.setContext(this.getContext(i));
      const lineWidth = optsAtIndex.lineWidth;
      const lineColor = optsAtIndex.color;
      const borderDash = optsAtIndex.borderDash || [];
      const borderDashOffset = optsAtIndex.borderDashOffset;
      const tickWidth = optsAtIndex.tickWidth;
      const tickColor = optsAtIndex.tickColor;
      const tickBorderDash = optsAtIndex.tickBorderDash || [];
      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;
      lineValue = getPixelForGridLine(this, i, offset);
      if (lineValue === undefined) {
        continue;
      }
      alignedLineValue = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, lineValue, lineWidth);
      if (isHorizontal) {
        tx1 = tx2 = x1 = x2 = alignedLineValue;
      } else {
        ty1 = ty2 = y1 = y2 = alignedLineValue;
      }
      items.push({
        tx1,
        ty1,
        tx2,
        ty2,
        x1,
        y1,
        x2,
        y2,
        width: lineWidth,
        color: lineColor,
        borderDash,
        borderDashOffset,
        tickWidth,
        tickColor,
        tickBorderDash,
        tickBorderDashOffset,
      });
    }
    this._ticksLength = ticksLength;
    this._borderValue = borderValue;
    return items;
  }
  _computeLabelItems(chartArea) {
    const axis = this.axis;
    const options = this.options;
    const {position, ticks: optionTicks} = options;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const {align, crossAlign, padding, mirror} = optionTicks;
    const tl = getTickMarkLength(options.grid);
    const tickAndPadding = tl + padding;
    const hTickAndPadding = mirror ? -padding : tickAndPadding;
    const rotation = -(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    const items = [];
    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;
    let textBaseline = 'middle';
    if (position === 'top') {
      y = this.bottom - hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === 'bottom') {
      y = this.top + hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === 'left') {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (position === 'right') {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (axis === 'x') {
      if (position === 'center') {
        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;
      }
      textAlign = this._getXAxisLabelAlignment();
    } else if (axis === 'y') {
      if (position === 'center') {
        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        x = this.chart.scales[positionAxisID].getPixelForValue(value);
      }
      textAlign = this._getYAxisLabelAlignment(tl).textAlign;
    }
    if (axis === 'y') {
      if (align === 'start') {
        textBaseline = 'top';
      } else if (align === 'end') {
        textBaseline = 'bottom';
      }
    }
    const labelSizes = this._getLabelSizes();
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      label = tick.label;
      const optsAtIndex = optionTicks.setContext(this.getContext(i));
      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;
      font = this._resolveTickFontOptions(i);
      lineHeight = font.lineHeight;
      lineCount = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label) ? label.length : 1;
      const halfCount = lineCount / 2;
      const color = optsAtIndex.color;
      const strokeColor = optsAtIndex.textStrokeColor;
      const strokeWidth = optsAtIndex.textStrokeWidth;
      let tickTextAlign = textAlign;
      if (isHorizontal) {
        x = pixel;
        if (textAlign === 'inner') {
          if (i === ilen - 1) {
            tickTextAlign = !this.options.reverse ? 'right' : 'left';
          } else if (i === 0) {
            tickTextAlign = !this.options.reverse ? 'left' : 'right';
          } else {
            tickTextAlign = 'center';
          }
        }
        if (position === 'top') {
          if (crossAlign === 'near' || rotation !== 0) {
            textOffset = -lineCount * lineHeight + lineHeight / 2;
          } else if (crossAlign === 'center') {
            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;
          } else {
            textOffset = -labelSizes.highest.height + lineHeight / 2;
          }
        } else {
          if (crossAlign === 'near' || rotation !== 0) {
            textOffset = lineHeight / 2;
          } else if (crossAlign === 'center') {
            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;
          } else {
            textOffset = labelSizes.highest.height - lineCount * lineHeight;
          }
        }
        if (mirror) {
          textOffset *= -1;
        }
      } else {
        y = pixel;
        textOffset = (1 - lineCount) * lineHeight / 2;
      }
      let backdrop;
      if (optsAtIndex.showLabelBackdrop) {
        const labelPadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
        const height = labelSizes.heights[i];
        const width = labelSizes.widths[i];
        let top = y + textOffset - labelPadding.top;
        let left = x - labelPadding.left;
        switch (textBaseline) {
        case 'middle':
          top -= height / 2;
          break;
        case 'bottom':
          top -= height;
          break;
        }
        switch (textAlign) {
        case 'center':
          left -= width / 2;
          break;
        case 'right':
          left -= width;
          break;
        }
        backdrop = {
          left,
          top,
          width: width + labelPadding.width,
          height: height + labelPadding.height,
          color: optsAtIndex.backdropColor,
        };
      }
      items.push({
        rotation,
        label,
        font,
        color,
        strokeColor,
        strokeWidth,
        textOffset,
        textAlign: tickTextAlign,
        textBaseline,
        translation: [x, y],
        backdrop,
      });
    }
    return items;
  }
  _getXAxisLabelAlignment() {
    const {position, ticks} = this.options;
    const rotation = -(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    if (rotation) {
      return position === 'top' ? 'left' : 'right';
    }
    let align = 'center';
    if (ticks.align === 'start') {
      align = 'left';
    } else if (ticks.align === 'end') {
      align = 'right';
    } else if (ticks.align === 'inner') {
      align = 'inner';
    }
    return align;
  }
  _getYAxisLabelAlignment(tl) {
    const {position, ticks: {crossAlign, mirror, padding}} = this.options;
    const labelSizes = this._getLabelSizes();
    const tickAndPadding = tl + padding;
    const widest = labelSizes.widest.width;
    let textAlign;
    let x;
    if (position === 'left') {
      if (mirror) {
        x = this.right + padding;
        if (crossAlign === 'near') {
          textAlign = 'left';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x += (widest / 2);
        } else {
          textAlign = 'right';
          x += widest;
        }
      } else {
        x = this.right - tickAndPadding;
        if (crossAlign === 'near') {
          textAlign = 'right';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x -= (widest / 2);
        } else {
          textAlign = 'left';
          x = this.left;
        }
      }
    } else if (position === 'right') {
      if (mirror) {
        x = this.left + padding;
        if (crossAlign === 'near') {
          textAlign = 'right';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x -= (widest / 2);
        } else {
          textAlign = 'left';
          x -= widest;
        }
      } else {
        x = this.left + tickAndPadding;
        if (crossAlign === 'near') {
          textAlign = 'left';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x += widest / 2;
        } else {
          textAlign = 'right';
          x = this.right;
        }
      }
    } else {
      textAlign = 'right';
    }
    return {textAlign, x};
  }
  _computeLabelArea() {
    if (this.options.ticks.mirror) {
      return;
    }
    const chart = this.chart;
    const position = this.options.position;
    if (position === 'left' || position === 'right') {
      return {top: 0, left: this.left, bottom: chart.height, right: this.right};
    } if (position === 'top' || position === 'bottom') {
      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};
    }
  }
  drawBackground() {
    const {ctx, options: {backgroundColor}, left, top, width, height} = this;
    if (backgroundColor) {
      ctx.save();
      ctx.fillStyle = backgroundColor;
      ctx.fillRect(left, top, width, height);
      ctx.restore();
    }
  }
  getLineWidthForValue(value) {
    const grid = this.options.grid;
    if (!this._isVisible() || !grid.display) {
      return 0;
    }
    const ticks = this.ticks;
    const index = ticks.findIndex(t => t.value === value);
    if (index >= 0) {
      const opts = grid.setContext(this.getContext(index));
      return opts.lineWidth;
    }
    return 0;
  }
  drawGrid(chartArea) {
    const grid = this.options.grid;
    const ctx = this.ctx;
    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));
    let i, ilen;
    const drawLine = (p1, p2, style) => {
      if (!style.width || !style.color) {
        return;
      }
      ctx.save();
      ctx.lineWidth = style.width;
      ctx.strokeStyle = style.color;
      ctx.setLineDash(style.borderDash || []);
      ctx.lineDashOffset = style.borderDashOffset;
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
      ctx.restore();
    };
    if (grid.display) {
      for (i = 0, ilen = items.length; i < ilen; ++i) {
        const item = items[i];
        if (grid.drawOnChartArea) {
          drawLine(
            {x: item.x1, y: item.y1},
            {x: item.x2, y: item.y2},
            item
          );
        }
        if (grid.drawTicks) {
          drawLine(
            {x: item.tx1, y: item.ty1},
            {x: item.tx2, y: item.ty2},
            {
              color: item.tickColor,
              width: item.tickWidth,
              borderDash: item.tickBorderDash,
              borderDashOffset: item.tickBorderDashOffset
            }
          );
        }
      }
    }
  }
  drawBorder() {
    const {chart, ctx, options: {grid}} = this;
    const borderOpts = grid.setContext(this.getContext());
    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;
    if (!axisWidth) {
      return;
    }
    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;
    const borderValue = this._borderValue;
    let x1, x2, y1, y2;
    if (this.isHorizontal()) {
      x1 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.left, axisWidth) - axisWidth / 2;
      x2 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.right, lastLineWidth) + lastLineWidth / 2;
      y1 = y2 = borderValue;
    } else {
      y1 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.top, axisWidth) - axisWidth / 2;
      y2 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;
      x1 = x2 = borderValue;
    }
    ctx.save();
    ctx.lineWidth = borderOpts.borderWidth;
    ctx.strokeStyle = borderOpts.borderColor;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    ctx.restore();
  }
  drawLabels(chartArea) {
    const optionTicks = this.options.ticks;
    if (!optionTicks.display) {
      return;
    }
    const ctx = this.ctx;
    const area = this._computeLabelArea();
    if (area) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, area);
    }
    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));
    let i, ilen;
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      const item = items[i];
      const tickFont = item.font;
      const label = item.label;
      if (item.backdrop) {
        ctx.fillStyle = item.backdrop.color;
        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);
      }
      let y = item.textOffset;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, label, 0, y, tickFont, item);
    }
    if (area) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
  }
  drawTitle() {
    const {ctx, options: {position, title, reverse}} = this;
    if (!title.display) {
      return;
    }
    const font = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(title.font);
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(title.padding);
    const align = title.align;
    let offset = font.lineHeight / 2;
    if (position === 'bottom' || position === 'center' || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      offset += padding.bottom;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(title.text)) {
        offset += font.lineHeight * (title.text.length - 1);
      }
    } else {
      offset += padding.top;
    }
    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, title.text, 0, 0, font, {
      color: title.color,
      maxWidth,
      rotation,
      textAlign: titleAlign(align, position, reverse),
      textBaseline: 'middle',
      translation: [titleX, titleY],
    });
  }
  draw(chartArea) {
    if (!this._isVisible()) {
      return;
    }
    this.drawBackground();
    this.drawGrid(chartArea);
    this.drawBorder();
    this.drawTitle();
    this.drawLabels(chartArea);
  }
  _layers() {
    const opts = this.options;
    const tz = opts.ticks && opts.ticks.z || 0;
    const gz = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(opts.grid && opts.grid.z, -1);
    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {
      return [{
        z: tz,
        draw: (chartArea) => {
          this.draw(chartArea);
        }
      }];
    }
    return [{
      z: gz,
      draw: (chartArea) => {
        this.drawBackground();
        this.drawGrid(chartArea);
        this.drawTitle();
      }
    }, {
      z: gz + 1,
      draw: () => {
        this.drawBorder();
      }
    }, {
      z: tz,
      draw: (chartArea) => {
        this.drawLabels(chartArea);
      }
    }];
  }
  getMatchingVisibleMetas(type) {
    const metas = this.chart.getSortedVisibleDatasetMetas();
    const axisID = this.axis + 'AxisID';
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      const meta = metas[i];
      if (meta[axisID] === this.id && (!type || meta.type === type)) {
        result.push(meta);
      }
    }
    return result;
  }
  _resolveTickFontOptions(index) {
    const opts = this.options.ticks.setContext(this.getContext(index));
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
  }
  _maxDigits() {
    const fontSize = this._resolveTickFontOptions(0).lineHeight;
    return (this.isHorizontal() ? this.width : this.height) / fontSize;
  }
}

class TypedRegistry {
  constructor(type, scope, override) {
    this.type = type;
    this.scope = scope;
    this.override = override;
    this.items = Object.create(null);
  }
  isForType(type) {
    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);
  }
  register(item) {
    const proto = Object.getPrototypeOf(item);
    let parentScope;
    if (isIChartComponent(proto)) {
      parentScope = this.register(proto);
    }
    const items = this.items;
    const id = item.id;
    const scope = this.scope + '.' + id;
    if (!id) {
      throw new Error('class does not have id: ' + item);
    }
    if (id in items) {
      return scope;
    }
    items[id] = item;
    registerDefaults(item, scope, parentScope);
    if (this.override) {
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.override(item.id, item.overrides);
    }
    return scope;
  }
  get(id) {
    return this.items[id];
  }
  unregister(item) {
    const items = this.items;
    const id = item.id;
    const scope = this.scope;
    if (id in items) {
      delete items[id];
    }
    if (scope && id in _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d[scope]) {
      delete _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d[scope][id];
      if (this.override) {
        delete _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[id];
      }
    }
  }
}
function registerDefaults(item, scope, parentScope) {
  const itemDefaults = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.V)(Object.create(null), [
    parentScope ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.get(parentScope) : {},
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.get(scope),
    item.defaults
  ]);
  _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set(scope, itemDefaults);
  if (item.defaultRoutes) {
    routeDefaults(scope, item.defaultRoutes);
  }
  if (item.descriptors) {
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe(scope, item.descriptors);
  }
}
function routeDefaults(scope, routes) {
  Object.keys(routes).forEach(property => {
    const propertyParts = property.split('.');
    const sourceName = propertyParts.pop();
    const sourceScope = [scope].concat(propertyParts).join('.');
    const parts = routes[property].split('.');
    const targetName = parts.pop();
    const targetScope = parts.join('.');
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route(sourceScope, sourceName, targetScope, targetName);
  });
}
function isIChartComponent(proto) {
  return 'id' in proto && 'defaults' in proto;
}

class Registry {
  constructor() {
    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);
    this.elements = new TypedRegistry(Element, 'elements');
    this.plugins = new TypedRegistry(Object, 'plugins');
    this.scales = new TypedRegistry(Scale, 'scales');
    this._typedRegistries = [this.controllers, this.scales, this.elements];
  }
  add(...args) {
    this._each('register', args);
  }
  remove(...args) {
    this._each('unregister', args);
  }
  addControllers(...args) {
    this._each('register', args, this.controllers);
  }
  addElements(...args) {
    this._each('register', args, this.elements);
  }
  addPlugins(...args) {
    this._each('register', args, this.plugins);
  }
  addScales(...args) {
    this._each('register', args, this.scales);
  }
  getController(id) {
    return this._get(id, this.controllers, 'controller');
  }
  getElement(id) {
    return this._get(id, this.elements, 'element');
  }
  getPlugin(id) {
    return this._get(id, this.plugins, 'plugin');
  }
  getScale(id) {
    return this._get(id, this.scales, 'scale');
  }
  removeControllers(...args) {
    this._each('unregister', args, this.controllers);
  }
  removeElements(...args) {
    this._each('unregister', args, this.elements);
  }
  removePlugins(...args) {
    this._each('unregister', args, this.plugins);
  }
  removeScales(...args) {
    this._each('unregister', args, this.scales);
  }
  _each(method, args, typedRegistry) {
    [...args].forEach(arg => {
      const reg = typedRegistry || this._getRegistryForType(arg);
      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {
        this._exec(method, reg, arg);
      } else {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(arg, item => {
          const itemReg = typedRegistry || this._getRegistryForType(item);
          this._exec(method, itemReg, item);
        });
      }
    });
  }
  _exec(method, registry, component) {
    const camelMethod = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.W)(method);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(component['before' + camelMethod], [], component);
    registry[method](component);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(component['after' + camelMethod], [], component);
  }
  _getRegistryForType(type) {
    for (let i = 0; i < this._typedRegistries.length; i++) {
      const reg = this._typedRegistries[i];
      if (reg.isForType(type)) {
        return reg;
      }
    }
    return this.plugins;
  }
  _get(id, typedRegistry, type) {
    const item = typedRegistry.get(id);
    if (item === undefined) {
      throw new Error('"' + id + '" is not a registered ' + type + '.');
    }
    return item;
  }
}
var registry = new Registry();

class ScatterController extends DatasetController {
  update(mode) {
    const meta = this._cachedMeta;
    const {data: points = []} = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {start, count} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(meta)) {
      start = 0;
      count = points.length;
    }
    if (this.options.showLine) {
      const {dataset: line, _dataset} = meta;
      line._chart = this.chart;
      line._datasetIndex = this.index;
      line._decimated = !!_dataset._decimated;
      line.points = points;
      const options = this.resolveDatasetElementOptions(mode);
      options.segment = this.options.segment;
      this.updateElement(line, undefined, {
        animated: !animationsDisabled,
        options
      }, mode);
    }
    this.updateElements(points, start, count, mode);
  }
  addElements() {
    const {showLine} = this.options;
    if (!this.datasetElementType && showLine) {
      this.datasetElementType = registry.getElement('line');
    }
    super.addElements();
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {spanGaps, segment} = this.options;
    const maxGapLength = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = start; i < start + count; ++i) {
      const point = points[i];
      const parsed = this.getParsed(i);
      const properties = directUpdate ? point : {};
      const nullData = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const data = meta.data || [];
    if (!this.options.showLine) {
      let max = 0;
      for (let i = data.length - 1; i >= 0; --i) {
        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
      }
      return max > 0 && max;
    }
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
}
ScatterController.id = 'scatter';
ScatterController.defaults = {
  datasetElementType: false,
  dataElementType: 'point',
  showLine: false,
  fill: false
};
ScatterController.overrides = {
  interaction: {
    mode: 'point'
  },
  plugins: {
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(item) {
          return '(' + item.label + ', ' + item.formattedValue + ')';
        }
      }
    }
  },
  scales: {
    x: {
      type: 'linear'
    },
    y: {
      type: 'linear'
    }
  }
};

var controllers = /*#__PURE__*/Object.freeze({
__proto__: null,
BarController: BarController,
BubbleController: BubbleController,
DoughnutController: DoughnutController,
LineController: LineController,
PolarAreaController: PolarAreaController,
PieController: PieController,
RadarController: RadarController,
ScatterController: ScatterController
});

function abstract() {
  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');
}
class DateAdapter {
  constructor(options) {
    this.options = options || {};
  }
  init(chartOptions) {}
  formats() {
    return abstract();
  }
  parse(value, format) {
    return abstract();
  }
  format(timestamp, format) {
    return abstract();
  }
  add(timestamp, amount, unit) {
    return abstract();
  }
  diff(a, b, unit) {
    return abstract();
  }
  startOf(timestamp, unit, weekday) {
    return abstract();
  }
  endOf(timestamp, unit) {
    return abstract();
  }
}
DateAdapter.override = function(members) {
  Object.assign(DateAdapter.prototype, members);
};
var adapters = {
  _date: DateAdapter
};

function binarySearch(metaset, axis, value, intersect) {
  const {controller, data, _sorted} = metaset;
  const iScale = controller._cachedMeta.iScale;
  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {
    const lookupMethod = iScale._reversePixels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Y : _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z;
    if (!intersect) {
      return lookupMethod(data, axis, value);
    } else if (controller._sharedOptions) {
      const el = data[0];
      const range = typeof el.getRange === 'function' && el.getRange(axis);
      if (range) {
        const start = lookupMethod(data, axis, value - range);
        const end = lookupMethod(data, axis, value + range);
        return {lo: start.lo, hi: end.hi};
      }
    }
  }
  return {lo: 0, hi: data.length - 1};
}
function evaluateInteractionItems(chart, axis, position, handler, intersect) {
  const metasets = chart.getSortedVisibleDatasetMetas();
  const value = position[axis];
  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {
    const {index, data} = metasets[i];
    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);
    for (let j = lo; j <= hi; ++j) {
      const element = data[j];
      if (!element.skip) {
        handler(element, index, j);
      }
    }
  }
}
function getDistanceMetricForAxis(axis) {
  const useX = axis.indexOf('x') !== -1;
  const useY = axis.indexOf('y') !== -1;
  return function(pt1, pt2) {
    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;
    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;
    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));
  };
}
function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {
  const items = [];
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return items;
  }
  const evaluationFunc = function(element, datasetIndex, index) {
    if (!includeInvisible && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(element, chart.chartArea, 0)) {
      return;
    }
    if (element.inRange(position.x, position.y, useFinalPosition)) {
      items.push({element, datasetIndex, index});
    }
  };
  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);
  return items;
}
function getNearestRadialItems(chart, position, axis, useFinalPosition) {
  let items = [];
  function evaluationFunc(element, datasetIndex, index) {
    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);
    const {angle} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a0)(element, {x: position.x, y: position.y});
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle)) {
      items.push({element, datasetIndex, index});
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  let items = [];
  const distanceMetric = getDistanceMetricForAxis(axis);
  let minDistance = Number.POSITIVE_INFINITY;
  function evaluationFunc(element, datasetIndex, index) {
    const inRange = element.inRange(position.x, position.y, useFinalPosition);
    if (intersect && !inRange) {
      return;
    }
    const center = element.getCenterPoint(useFinalPosition);
    const pointInArea = !!includeInvisible || chart.isPointInArea(center);
    if (!pointInArea && !inRange) {
      return;
    }
    const distance = distanceMetric(position, center);
    if (distance < minDistance) {
      items = [{element, datasetIndex, index}];
      minDistance = distance;
    } else if (distance === minDistance) {
      items.push({element, datasetIndex, index});
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return [];
  }
  return axis === 'r' && !intersect
    ? getNearestRadialItems(chart, position, axis, useFinalPosition)
    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);
}
function getAxisItems(chart, position, axis, intersect, useFinalPosition) {
  const items = [];
  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';
  let intersectsItem = false;
  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {
    if (element[rangeMethod](position[axis], useFinalPosition)) {
      items.push({element, datasetIndex, index});
      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);
    }
  });
  if (intersect && !intersectsItem) {
    return [];
  }
  return items;
}
var Interaction = {
  evaluateInteractionItems,
  modes: {
    index(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'x';
      const includeInvisible = options.includeInvisible || false;
      const items = options.intersect
        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)
        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      const elements = [];
      if (!items.length) {
        return [];
      }
      chart.getSortedVisibleDatasetMetas().forEach((meta) => {
        const index = items[0].index;
        const element = meta.data[index];
        if (element && !element.skip) {
          elements.push({element, datasetIndex: meta.index, index});
        }
      });
      return elements;
    },
    dataset(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      let items = options.intersect
        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :
        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      if (items.length > 0) {
        const datasetIndex = items[0].datasetIndex;
        const data = chart.getDatasetMeta(datasetIndex).data;
        items = [];
        for (let i = 0; i < data.length; ++i) {
          items.push({element: data[i], datasetIndex, index: i});
        }
      }
      return items;
    },
    point(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);
    },
    nearest(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);
    },
    x(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);
    },
    y(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);
    }
  }
};

const STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];
function filterByPosition(array, position) {
  return array.filter(v => v.pos === position);
}
function filterDynamicPositionByAxis(array, axis) {
  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);
}
function sortByWeight(array, reverse) {
  return array.sort((a, b) => {
    const v0 = reverse ? b : a;
    const v1 = reverse ? a : b;
    return v0.weight === v1.weight ?
      v0.index - v1.index :
      v0.weight - v1.weight;
  });
}
function wrapBoxes(boxes) {
  const layoutBoxes = [];
  let i, ilen, box, pos, stack, stackWeight;
  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {
    box = boxes[i];
    ({position: pos, options: {stack, stackWeight = 1}} = box);
    layoutBoxes.push({
      index: i,
      box,
      pos,
      horizontal: box.isHorizontal(),
      weight: box.weight,
      stack: stack && (pos + stack),
      stackWeight
    });
  }
  return layoutBoxes;
}
function buildStacks(layouts) {
  const stacks = {};
  for (const wrap of layouts) {
    const {stack, pos, stackWeight} = wrap;
    if (!stack || !STATIC_POSITIONS.includes(pos)) {
      continue;
    }
    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});
    _stack.count++;
    _stack.weight += stackWeight;
  }
  return stacks;
}
function setLayoutDims(layouts, params) {
  const stacks = buildStacks(layouts);
  const {vBoxMaxWidth, hBoxMaxHeight} = params;
  let i, ilen, layout;
  for (i = 0, ilen = layouts.length; i < ilen; ++i) {
    layout = layouts[i];
    const {fullSize} = layout.box;
    const stack = stacks[layout.stack];
    const factor = stack && layout.stackWeight / stack.weight;
    if (layout.horizontal) {
      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;
      layout.height = hBoxMaxHeight;
    } else {
      layout.width = vBoxMaxWidth;
      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;
    }
  }
  return stacks;
}
function buildLayoutBoxes(boxes) {
  const layoutBoxes = wrapBoxes(boxes);
  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);
  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);
  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));
  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);
  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));
  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');
  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');
  return {
    fullSize,
    leftAndTop: left.concat(top),
    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),
    chartArea: filterByPosition(layoutBoxes, 'chartArea'),
    vertical: left.concat(right).concat(centerVertical),
    horizontal: top.concat(bottom).concat(centerHorizontal)
  };
}
function getCombinedMax(maxPadding, chartArea, a, b) {
  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);
}
function updateMaxPadding(maxPadding, boxPadding) {
  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);
  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);
  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);
  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);
}
function updateDims(chartArea, params, layout, stacks) {
  const {pos, box} = layout;
  const maxPadding = chartArea.maxPadding;
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(pos)) {
    if (layout.size) {
      chartArea[pos] -= layout.size;
    }
    const stack = stacks[layout.stack] || {size: 0, count: 1};
    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);
    layout.size = stack.size / stack.count;
    chartArea[pos] += layout.size;
  }
  if (box.getPadding) {
    updateMaxPadding(maxPadding, box.getPadding());
  }
  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));
  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));
  const widthChanged = newWidth !== chartArea.w;
  const heightChanged = newHeight !== chartArea.h;
  chartArea.w = newWidth;
  chartArea.h = newHeight;
  return layout.horizontal
    ? {same: widthChanged, other: heightChanged}
    : {same: heightChanged, other: widthChanged};
}
function handleMaxPadding(chartArea) {
  const maxPadding = chartArea.maxPadding;
  function updatePos(pos) {
    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);
    chartArea[pos] += change;
    return change;
  }
  chartArea.y += updatePos('top');
  chartArea.x += updatePos('left');
  updatePos('right');
  updatePos('bottom');
}
function getMargins(horizontal, chartArea) {
  const maxPadding = chartArea.maxPadding;
  function marginForPositions(positions) {
    const margin = {left: 0, top: 0, right: 0, bottom: 0};
    positions.forEach((pos) => {
      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);
    });
    return margin;
  }
  return horizontal
    ? marginForPositions(['left', 'right'])
    : marginForPositions(['top', 'bottom']);
}
function fitBoxes(boxes, chartArea, params, stacks) {
  const refitBoxes = [];
  let i, ilen, layout, box, refit, changed;
  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {
    layout = boxes[i];
    box = layout.box;
    box.update(
      layout.width || chartArea.w,
      layout.height || chartArea.h,
      getMargins(layout.horizontal, chartArea)
    );
    const {same, other} = updateDims(chartArea, params, layout, stacks);
    refit |= same && refitBoxes.length;
    changed = changed || other;
    if (!box.fullSize) {
      refitBoxes.push(layout);
    }
  }
  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;
}
function setBoxDims(box, left, top, width, height) {
  box.top = top;
  box.left = left;
  box.right = left + width;
  box.bottom = top + height;
  box.width = width;
  box.height = height;
}
function placeBoxes(boxes, chartArea, params, stacks) {
  const userPadding = params.padding;
  let {x, y} = chartArea;
  for (const layout of boxes) {
    const box = layout.box;
    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};
    const weight = (layout.stackWeight / stack.weight) || 1;
    if (layout.horizontal) {
      const width = chartArea.w * weight;
      const height = stack.size || box.height;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(stack.start)) {
        y = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);
      } else {
        setBoxDims(box, chartArea.left + stack.placed, y, width, height);
      }
      stack.start = y;
      stack.placed += width;
      y = box.bottom;
    } else {
      const height = chartArea.h * weight;
      const width = stack.size || box.width;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(stack.start)) {
        x = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);
      } else {
        setBoxDims(box, x, chartArea.top + stack.placed, width, height);
      }
      stack.start = x;
      stack.placed += height;
      x = box.right;
    }
  }
  chartArea.x = x;
  chartArea.y = y;
}
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('layout', {
  autoPadding: true,
  padding: {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  }
});
var layouts = {
  addBox(chart, item) {
    if (!chart.boxes) {
      chart.boxes = [];
    }
    item.fullSize = item.fullSize || false;
    item.position = item.position || 'top';
    item.weight = item.weight || 0;
    item._layers = item._layers || function() {
      return [{
        z: 0,
        draw(chartArea) {
          item.draw(chartArea);
        }
      }];
    };
    chart.boxes.push(item);
  },
  removeBox(chart, layoutItem) {
    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;
    if (index !== -1) {
      chart.boxes.splice(index, 1);
    }
  },
  configure(chart, item, options) {
    item.fullSize = options.fullSize;
    item.position = options.position;
    item.weight = options.weight;
  },
  update(chart, width, height, minPadding) {
    if (!chart) {
      return;
    }
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(chart.options.layout.padding);
    const availableWidth = Math.max(width - padding.width, 0);
    const availableHeight = Math.max(height - padding.height, 0);
    const boxes = buildLayoutBoxes(chart.boxes);
    const verticalBoxes = boxes.vertical;
    const horizontalBoxes = boxes.horizontal;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(chart.boxes, box => {
      if (typeof box.beforeLayout === 'function') {
        box.beforeLayout();
      }
    });
    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>
      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;
    const params = Object.freeze({
      outerWidth: width,
      outerHeight: height,
      padding,
      availableWidth,
      availableHeight,
      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,
      hBoxMaxHeight: availableHeight / 2
    });
    const maxPadding = Object.assign({}, padding);
    updateMaxPadding(maxPadding, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(minPadding));
    const chartArea = Object.assign({
      maxPadding,
      w: availableWidth,
      h: availableHeight,
      x: padding.left,
      y: padding.top
    }, padding);
    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);
    fitBoxes(boxes.fullSize, chartArea, params, stacks);
    fitBoxes(verticalBoxes, chartArea, params, stacks);
    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {
      fitBoxes(verticalBoxes, chartArea, params, stacks);
    }
    handleMaxPadding(chartArea);
    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);
    chartArea.x += chartArea.w;
    chartArea.y += chartArea.h;
    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);
    chart.chartArea = {
      left: chartArea.left,
      top: chartArea.top,
      right: chartArea.left + chartArea.w,
      bottom: chartArea.top + chartArea.h,
      height: chartArea.h,
      width: chartArea.w,
    };
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(boxes.chartArea, (layout) => {
      const box = layout.box;
      Object.assign(box, chart.chartArea);
      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});
    });
  }
};

class BasePlatform {
  acquireContext(canvas, aspectRatio) {}
  releaseContext(context) {
    return false;
  }
  addEventListener(chart, type, listener) {}
  removeEventListener(chart, type, listener) {}
  getDevicePixelRatio() {
    return 1;
  }
  getMaximumSize(element, width, height, aspectRatio) {
    width = Math.max(0, width || element.width);
    height = height || element.height;
    return {
      width,
      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)
    };
  }
  isAttached(canvas) {
    return true;
  }
  updateConfig(config) {
  }
}

class BasicPlatform extends BasePlatform {
  acquireContext(item) {
    return item && item.getContext && item.getContext('2d') || null;
  }
  updateConfig(config) {
    config.options.animation = false;
  }
}

const EXPANDO_KEY = '$chartjs';
const EVENT_TYPES = {
  touchstart: 'mousedown',
  touchmove: 'mousemove',
  touchend: 'mouseup',
  pointerenter: 'mouseenter',
  pointerdown: 'mousedown',
  pointermove: 'mousemove',
  pointerup: 'mouseup',
  pointerleave: 'mouseout',
  pointerout: 'mouseout'
};
const isNullOrEmpty = value => value === null || value === '';
function initCanvas(canvas, aspectRatio) {
  const style = canvas.style;
  const renderHeight = canvas.getAttribute('height');
  const renderWidth = canvas.getAttribute('width');
  canvas[EXPANDO_KEY] = {
    initial: {
      height: renderHeight,
      width: renderWidth,
      style: {
        display: style.display,
        height: style.height,
        width: style.width
      }
    }
  };
  style.display = style.display || 'block';
  style.boxSizing = style.boxSizing || 'border-box';
  if (isNullOrEmpty(renderWidth)) {
    const displayWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a3)(canvas, 'width');
    if (displayWidth !== undefined) {
      canvas.width = displayWidth;
    }
  }
  if (isNullOrEmpty(renderHeight)) {
    if (canvas.style.height === '') {
      canvas.height = canvas.width / (aspectRatio || 2);
    } else {
      const displayHeight = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a3)(canvas, 'height');
      if (displayHeight !== undefined) {
        canvas.height = displayHeight;
      }
    }
  }
  return canvas;
}
const eventListenerOptions = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a5 ? {passive: true} : false;
function addListener(node, type, listener) {
  node.addEventListener(type, listener, eventListenerOptions);
}
function removeListener(chart, type, listener) {
  chart.canvas.removeEventListener(type, listener, eventListenerOptions);
}
function fromNativeEvent(event, chart) {
  const type = EVENT_TYPES[event.type] || event.type;
  const {x, y} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(event, chart);
  return {
    type,
    chart,
    native: event,
    x: x !== undefined ? x : null,
    y: y !== undefined ? y : null,
  };
}
function nodeListContains(nodeList, canvas) {
  for (const node of nodeList) {
    if (node === canvas || node.contains(canvas)) {
      return true;
    }
  }
}
function createAttachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver(entries => {
    let trigger = false;
    for (const entry of entries) {
      trigger = trigger || nodeListContains(entry.addedNodes, canvas);
      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);
    }
    if (trigger) {
      listener();
    }
  });
  observer.observe(document, {childList: true, subtree: true});
  return observer;
}
function createDetachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver(entries => {
    let trigger = false;
    for (const entry of entries) {
      trigger = trigger || nodeListContains(entry.removedNodes, canvas);
      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);
    }
    if (trigger) {
      listener();
    }
  });
  observer.observe(document, {childList: true, subtree: true});
  return observer;
}
const drpListeningCharts = new Map();
let oldDevicePixelRatio = 0;
function onWindowResize() {
  const dpr = window.devicePixelRatio;
  if (dpr === oldDevicePixelRatio) {
    return;
  }
  oldDevicePixelRatio = dpr;
  drpListeningCharts.forEach((resize, chart) => {
    if (chart.currentDevicePixelRatio !== dpr) {
      resize();
    }
  });
}
function listenDevicePixelRatioChanges(chart, resize) {
  if (!drpListeningCharts.size) {
    window.addEventListener('resize', onWindowResize);
  }
  drpListeningCharts.set(chart, resize);
}
function unlistenDevicePixelRatioChanges(chart) {
  drpListeningCharts.delete(chart);
  if (!drpListeningCharts.size) {
    window.removeEventListener('resize', onWindowResize);
  }
}
function createResizeObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const container = canvas && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a2)(canvas);
  if (!container) {
    return;
  }
  const resize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a4)((width, height) => {
    const w = container.clientWidth;
    listener(width, height);
    if (w < container.clientWidth) {
      listener();
    }
  }, window);
  const observer = new ResizeObserver(entries => {
    const entry = entries[0];
    const width = entry.contentRect.width;
    const height = entry.contentRect.height;
    if (width === 0 && height === 0) {
      return;
    }
    resize(width, height);
  });
  observer.observe(container);
  listenDevicePixelRatioChanges(chart, resize);
  return observer;
}
function releaseObserver(chart, type, observer) {
  if (observer) {
    observer.disconnect();
  }
  if (type === 'resize') {
    unlistenDevicePixelRatioChanges(chart);
  }
}
function createProxyAndListen(chart, type, listener) {
  const canvas = chart.canvas;
  const proxy = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a4)((event) => {
    if (chart.ctx !== null) {
      listener(fromNativeEvent(event, chart));
    }
  }, chart, (args) => {
    const event = args[0];
    return [event, event.offsetX, event.offsetY];
  });
  addListener(canvas, type, proxy);
  return proxy;
}
class DomPlatform extends BasePlatform {
  acquireContext(canvas, aspectRatio) {
    const context = canvas && canvas.getContext && canvas.getContext('2d');
    if (context && context.canvas === canvas) {
      initCanvas(canvas, aspectRatio);
      return context;
    }
    return null;
  }
  releaseContext(context) {
    const canvas = context.canvas;
    if (!canvas[EXPANDO_KEY]) {
      return false;
    }
    const initial = canvas[EXPANDO_KEY].initial;
    ['height', 'width'].forEach((prop) => {
      const value = initial[prop];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
        canvas.removeAttribute(prop);
      } else {
        canvas.setAttribute(prop, value);
      }
    });
    const style = initial.style || {};
    Object.keys(style).forEach((key) => {
      canvas.style[key] = style[key];
    });
    canvas.width = canvas.width;
    delete canvas[EXPANDO_KEY];
    return true;
  }
  addEventListener(chart, type, listener) {
    this.removeEventListener(chart, type);
    const proxies = chart.$proxies || (chart.$proxies = {});
    const handlers = {
      attach: createAttachObserver,
      detach: createDetachObserver,
      resize: createResizeObserver
    };
    const handler = handlers[type] || createProxyAndListen;
    proxies[type] = handler(chart, type, listener);
  }
  removeEventListener(chart, type) {
    const proxies = chart.$proxies || (chart.$proxies = {});
    const proxy = proxies[type];
    if (!proxy) {
      return;
    }
    const handlers = {
      attach: releaseObserver,
      detach: releaseObserver,
      resize: releaseObserver
    };
    const handler = handlers[type] || removeListener;
    handler(chart, type, proxy);
    proxies[type] = undefined;
  }
  getDevicePixelRatio() {
    return window.devicePixelRatio;
  }
  getMaximumSize(canvas, width, height, aspectRatio) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a1)(canvas, width, height, aspectRatio);
  }
  isAttached(canvas) {
    const container = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a2)(canvas);
    return !!(container && container.isConnected);
  }
}

function _detectPlatform(canvas) {
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a6)() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {
    return BasicPlatform;
  }
  return DomPlatform;
}

class PluginService {
  constructor() {
    this._init = [];
  }
  notify(chart, hook, args, filter) {
    if (hook === 'beforeInit') {
      this._init = this._createDescriptors(chart, true);
      this._notify(this._init, chart, 'install');
    }
    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);
    const result = this._notify(descriptors, chart, hook, args);
    if (hook === 'afterDestroy') {
      this._notify(descriptors, chart, 'stop');
      this._notify(this._init, chart, 'uninstall');
    }
    return result;
  }
  _notify(descriptors, chart, hook, args) {
    args = args || {};
    for (const descriptor of descriptors) {
      const plugin = descriptor.plugin;
      const method = plugin[hook];
      const params = [chart, args, descriptor.options];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(method, params, plugin) === false && args.cancelable) {
        return false;
      }
    }
    return true;
  }
  invalidate() {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(this._cache)) {
      this._oldCache = this._cache;
      this._cache = undefined;
    }
  }
  _descriptors(chart) {
    if (this._cache) {
      return this._cache;
    }
    const descriptors = this._cache = this._createDescriptors(chart);
    this._notifyStateChanges(chart);
    return descriptors;
  }
  _createDescriptors(chart, all) {
    const config = chart && chart.config;
    const options = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(config.options && config.options.plugins, {});
    const plugins = allPlugins(config);
    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);
  }
  _notifyStateChanges(chart) {
    const previousDescriptors = this._oldCache || [];
    const descriptors = this._cache;
    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));
    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');
    this._notify(diff(descriptors, previousDescriptors), chart, 'start');
  }
}
function allPlugins(config) {
  const localIds = {};
  const plugins = [];
  const keys = Object.keys(registry.plugins.items);
  for (let i = 0; i < keys.length; i++) {
    plugins.push(registry.getPlugin(keys[i]));
  }
  const local = config.plugins || [];
  for (let i = 0; i < local.length; i++) {
    const plugin = local[i];
    if (plugins.indexOf(plugin) === -1) {
      plugins.push(plugin);
      localIds[plugin.id] = true;
    }
  }
  return {plugins, localIds};
}
function getOpts(options, all) {
  if (!all && options === false) {
    return null;
  }
  if (options === true) {
    return {};
  }
  return options;
}
function createDescriptors(chart, {plugins, localIds}, options, all) {
  const result = [];
  const context = chart.getContext();
  for (const plugin of plugins) {
    const id = plugin.id;
    const opts = getOpts(options[id], all);
    if (opts === null) {
      continue;
    }
    result.push({
      plugin,
      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)
    });
  }
  return result;
}
function pluginOpts(config, {plugin, local}, opts, context) {
  const keys = config.pluginScopeKeys(plugin);
  const scopes = config.getOptionScopes(opts, keys);
  if (local && plugin.defaults) {
    scopes.push(plugin.defaults);
  }
  return config.createResolver(scopes, context, [''], {
    scriptable: false,
    indexable: false,
    allKeys: true
  });
}

function getIndexAxis(type, options) {
  const datasetDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type] || {};
  const datasetOptions = (options.datasets || {})[type] || {};
  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';
}
function getAxisFromDefaultScaleID(id, indexAxis) {
  let axis = id;
  if (id === '_index_') {
    axis = indexAxis;
  } else if (id === '_value_') {
    axis = indexAxis === 'x' ? 'y' : 'x';
  }
  return axis;
}
function getDefaultScaleIDFromAxis(axis, indexAxis) {
  return axis === indexAxis ? '_index_' : '_value_';
}
function axisFromPosition(position) {
  if (position === 'top' || position === 'bottom') {
    return 'x';
  }
  if (position === 'left' || position === 'right') {
    return 'y';
  }
}
function determineAxis(id, scaleOptions) {
  if (id === 'x' || id === 'y') {
    return id;
  }
  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();
}
function mergeScaleConfig(config, options) {
  const chartDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[config.type] || {scales: {}};
  const configScales = options.scales || {};
  const chartIndexAxis = getIndexAxis(config.type, options);
  const firstIDs = Object.create(null);
  const scales = Object.create(null);
  Object.keys(configScales).forEach(id => {
    const scaleConf = configScales[id];
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(scaleConf)) {
      return console.error(`Invalid scale configuration for scale: ${id}`);
    }
    if (scaleConf._proxy) {
      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);
    }
    const axis = determineAxis(id, scaleConf);
    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);
    const defaultScaleOptions = chartDefaults.scales || {};
    firstIDs[axis] = firstIDs[axis] || id;
    scales[id] = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);
  });
  config.data.datasets.forEach(dataset => {
    const type = dataset.type || config.type;
    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);
    const datasetDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {};
    const defaultScaleOptions = datasetDefaults.scales || {};
    Object.keys(defaultScaleOptions).forEach(defaultID => {
      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);
      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;
      scales[id] = scales[id] || Object.create(null);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);
    });
  });
  Object.keys(scales).forEach(key => {
    const scale = scales[key];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(scale, [_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.scales[scale.type], _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.scale]);
  });
  return scales;
}
function initOptions(config) {
  const options = config.options || (config.options = {});
  options.plugins = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.plugins, {});
  options.scales = mergeScaleConfig(config, options);
}
function initData(data) {
  data = data || {};
  data.datasets = data.datasets || [];
  data.labels = data.labels || [];
  return data;
}
function initConfig(config) {
  config = config || {};
  config.data = initData(config.data);
  initOptions(config);
  return config;
}
const keyCache = new Map();
const keysCached = new Set();
function cachedKeys(cacheKey, generate) {
  let keys = keyCache.get(cacheKey);
  if (!keys) {
    keys = generate();
    keyCache.set(cacheKey, keys);
    keysCached.add(keys);
  }
  return keys;
}
const addIfFound = (set, obj, key) => {
  const opts = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, key);
  if (opts !== undefined) {
    set.add(opts);
  }
};
class Config {
  constructor(config) {
    this._config = initConfig(config);
    this._scopeCache = new Map();
    this._resolverCache = new Map();
  }
  get platform() {
    return this._config.platform;
  }
  get type() {
    return this._config.type;
  }
  set type(type) {
    this._config.type = type;
  }
  get data() {
    return this._config.data;
  }
  set data(data) {
    this._config.data = initData(data);
  }
  get options() {
    return this._config.options;
  }
  set options(options) {
    this._config.options = options;
  }
  get plugins() {
    return this._config.plugins;
  }
  update() {
    const config = this._config;
    this.clearCache();
    initOptions(config);
  }
  clearCache() {
    this._scopeCache.clear();
    this._resolverCache.clear();
  }
  datasetScopeKeys(datasetType) {
    return cachedKeys(datasetType,
      () => [[
        `datasets.${datasetType}`,
        ''
      ]]);
  }
  datasetAnimationScopeKeys(datasetType, transition) {
    return cachedKeys(`${datasetType}.transition.${transition}`,
      () => [
        [
          `datasets.${datasetType}.transitions.${transition}`,
          `transitions.${transition}`,
        ],
        [
          `datasets.${datasetType}`,
          ''
        ]
      ]);
  }
  datasetElementScopeKeys(datasetType, elementType) {
    return cachedKeys(`${datasetType}-${elementType}`,
      () => [[
        `datasets.${datasetType}.elements.${elementType}`,
        `datasets.${datasetType}`,
        `elements.${elementType}`,
        ''
      ]]);
  }
  pluginScopeKeys(plugin) {
    const id = plugin.id;
    const type = this.type;
    return cachedKeys(`${type}-plugin-${id}`,
      () => [[
        `plugins.${id}`,
        ...plugin.additionalOptionScopes || [],
      ]]);
  }
  _cachedScopes(mainScope, resetCache) {
    const _scopeCache = this._scopeCache;
    let cache = _scopeCache.get(mainScope);
    if (!cache || resetCache) {
      cache = new Map();
      _scopeCache.set(mainScope, cache);
    }
    return cache;
  }
  getOptionScopes(mainScope, keyLists, resetCache) {
    const {options, type} = this;
    const cache = this._cachedScopes(mainScope, resetCache);
    const cached = cache.get(keyLists);
    if (cached) {
      return cached;
    }
    const scopes = new Set();
    keyLists.forEach(keys => {
      if (mainScope) {
        scopes.add(mainScope);
        keys.forEach(key => addIfFound(scopes, mainScope, key));
      }
      keys.forEach(key => addIfFound(scopes, options, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {}, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a7, key));
    });
    const array = Array.from(scopes);
    if (array.length === 0) {
      array.push(Object.create(null));
    }
    if (keysCached.has(keyLists)) {
      cache.set(keyLists, array);
    }
    return array;
  }
  chartOptionScopes() {
    const {options, type} = this;
    return [
      options,
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {},
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type] || {},
      {type},
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d,
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a7
    ];
  }
  resolveNamedOptions(scopes, names, context, prefixes = ['']) {
    const result = {$shared: true};
    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);
    let options = resolver;
    if (needContext(resolver, names)) {
      result.$shared = false;
      context = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(context) ? context() : context;
      const subResolver = this.createResolver(scopes, context, subPrefixes);
      options = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a9)(resolver, context, subResolver);
    }
    for (const prop of names) {
      result[prop] = options[prop];
    }
    return result;
  }
  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {
    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(context)
      ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a9)(resolver, context, undefined, descriptorDefaults)
      : resolver;
  }
}
function getResolver(resolverCache, scopes, prefixes) {
  let cache = resolverCache.get(scopes);
  if (!cache) {
    cache = new Map();
    resolverCache.set(scopes, cache);
  }
  const cacheKey = prefixes.join();
  let cached = cache.get(cacheKey);
  if (!cached) {
    const resolver = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aa)(scopes, prefixes);
    cached = {
      resolver,
      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))
    };
    cache.set(cacheKey, cached);
  }
  return cached;
}
const hasFunction = value => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value)
  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(value[key]), false);
function needContext(proxy, names) {
  const {isScriptable, isIndexable} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ab)(proxy);
  for (const prop of names) {
    const scriptable = isScriptable(prop);
    const indexable = isIndexable(prop);
    const value = (indexable || scriptable) && proxy[prop];
    if ((scriptable && ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(value) || hasFunction(value)))
      || (indexable && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(value))) {
      return true;
    }
  }
  return false;
}

var version = "3.9.1";

const KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];
function positionIsHorizontal(position, axis) {
  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');
}
function compare2Level(l1, l2) {
  return function(a, b) {
    return a[l1] === b[l1]
      ? a[l2] - b[l2]
      : a[l1] - b[l1];
  };
}
function onAnimationsComplete(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  chart.notifyPlugins('afterRender');
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(animationOptions && animationOptions.onComplete, [context], chart);
}
function onAnimationProgress(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(animationOptions && animationOptions.onProgress, [context], chart);
}
function getCanvas(item) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a6)() && typeof item === 'string') {
    item = document.getElementById(item);
  } else if (item && item.length) {
    item = item[0];
  }
  if (item && item.canvas) {
    item = item.canvas;
  }
  return item;
}
const instances = {};
const getChart = (key) => {
  const canvas = getCanvas(key);
  return Object.values(instances).filter((c) => c.canvas === canvas).pop();
};
function moveNumericKeys(obj, start, move) {
  const keys = Object.keys(obj);
  for (const key of keys) {
    const intKey = +key;
    if (intKey >= start) {
      const value = obj[key];
      delete obj[key];
      if (move > 0 || intKey > start) {
        obj[intKey + move] = value;
      }
    }
  }
}
function determineLastEvent(e, lastEvent, inChartArea, isClick) {
  if (!inChartArea || e.type === 'mouseout') {
    return null;
  }
  if (isClick) {
    return lastEvent;
  }
  return e;
}
class Chart {
  constructor(item, userConfig) {
    const config = this.config = new Config(userConfig);
    const initialCanvas = getCanvas(item);
    const existingChart = getChart(initialCanvas);
    if (existingChart) {
      throw new Error(
        'Canvas is already in use. Chart with ID \'' + existingChart.id + '\'' +
				' must be destroyed before the canvas with ID \'' + existingChart.canvas.id + '\' can be reused.'
      );
    }
    const options = config.createResolver(config.chartOptionScopes(), this.getContext());
    this.platform = new (config.platform || _detectPlatform(initialCanvas))();
    this.platform.updateConfig(config);
    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);
    const canvas = context && context.canvas;
    const height = canvas && canvas.height;
    const width = canvas && canvas.width;
    this.id = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ad)();
    this.ctx = context;
    this.canvas = canvas;
    this.width = width;
    this.height = height;
    this._options = options;
    this._aspectRatio = this.aspectRatio;
    this._layers = [];
    this._metasets = [];
    this._stacks = undefined;
    this.boxes = [];
    this.currentDevicePixelRatio = undefined;
    this.chartArea = undefined;
    this._active = [];
    this._lastEvent = undefined;
    this._listeners = {};
    this._responsiveListeners = undefined;
    this._sortedMetasets = [];
    this.scales = {};
    this._plugins = new PluginService();
    this.$proxies = {};
    this._hiddenIndices = {};
    this.attached = false;
    this._animationsDisabled = undefined;
    this.$context = undefined;
    this._doResize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ae)(mode => this.update(mode), options.resizeDelay || 0);
    this._dataChanges = [];
    instances[this.id] = this;
    if (!context || !canvas) {
      console.error("Failed to create chart: can't acquire context from the given item");
      return;
    }
    animator.listen(this, 'complete', onAnimationsComplete);
    animator.listen(this, 'progress', onAnimationProgress);
    this._initialize();
    if (this.attached) {
      this.update();
    }
  }
  get aspectRatio() {
    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(aspectRatio)) {
      return aspectRatio;
    }
    if (maintainAspectRatio && _aspectRatio) {
      return _aspectRatio;
    }
    return height ? width / height : null;
  }
  get data() {
    return this.config.data;
  }
  set data(data) {
    this.config.data = data;
  }
  get options() {
    return this._options;
  }
  set options(options) {
    this.config.options = options;
  }
  _initialize() {
    this.notifyPlugins('beforeInit');
    if (this.options.responsive) {
      this.resize();
    } else {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.af)(this, this.options.devicePixelRatio);
    }
    this.bindEvents();
    this.notifyPlugins('afterInit');
    return this;
  }
  clear() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ag)(this.canvas, this.ctx);
    return this;
  }
  stop() {
    animator.stop(this);
    return this;
  }
  resize(width, height) {
    if (!animator.running(this)) {
      this._resize(width, height);
    } else {
      this._resizeBeforeDraw = {width, height};
    }
  }
  _resize(width, height) {
    const options = this.options;
    const canvas = this.canvas;
    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;
    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);
    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();
    const mode = this.width ? 'resize' : 'attach';
    this.width = newSize.width;
    this.height = newSize.height;
    this._aspectRatio = this.aspectRatio;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.af)(this, newRatio, true)) {
      return;
    }
    this.notifyPlugins('resize', {size: newSize});
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onResize, [this, newSize], this);
    if (this.attached) {
      if (this._doResize(mode)) {
        this.render();
      }
    }
  }
  ensureScalesHaveIDs() {
    const options = this.options;
    const scalesOptions = options.scales || {};
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(scalesOptions, (axisOptions, axisID) => {
      axisOptions.id = axisID;
    });
  }
  buildOrUpdateScales() {
    const options = this.options;
    const scaleOpts = options.scales;
    const scales = this.scales;
    const updated = Object.keys(scales).reduce((obj, id) => {
      obj[id] = false;
      return obj;
    }, {});
    let items = [];
    if (scaleOpts) {
      items = items.concat(
        Object.keys(scaleOpts).map((id) => {
          const scaleOptions = scaleOpts[id];
          const axis = determineAxis(id, scaleOptions);
          const isRadial = axis === 'r';
          const isHorizontal = axis === 'x';
          return {
            options: scaleOptions,
            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',
            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'
          };
        })
      );
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(items, (item) => {
      const scaleOptions = item.options;
      const id = scaleOptions.id;
      const axis = determineAxis(id, scaleOptions);
      const scaleType = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(scaleOptions.type, item.dtype);
      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {
        scaleOptions.position = item.dposition;
      }
      updated[id] = true;
      let scale = null;
      if (id in scales && scales[id].type === scaleType) {
        scale = scales[id];
      } else {
        const scaleClass = registry.getScale(scaleType);
        scale = new scaleClass({
          id,
          type: scaleType,
          ctx: this.ctx,
          chart: this
        });
        scales[scale.id] = scale;
      }
      scale.init(scaleOptions, options);
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(updated, (hasUpdated, id) => {
      if (!hasUpdated) {
        delete scales[id];
      }
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(scales, (scale) => {
      layouts.configure(this, scale, scale.options);
      layouts.addBox(this, scale);
    });
  }
  _updateMetasets() {
    const metasets = this._metasets;
    const numData = this.data.datasets.length;
    const numMeta = metasets.length;
    metasets.sort((a, b) => a.index - b.index);
    if (numMeta > numData) {
      for (let i = numData; i < numMeta; ++i) {
        this._destroyDatasetMeta(i);
      }
      metasets.splice(numData, numMeta - numData);
    }
    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));
  }
  _removeUnreferencedMetasets() {
    const {_metasets: metasets, data: {datasets}} = this;
    if (metasets.length > datasets.length) {
      delete this._stacks;
    }
    metasets.forEach((meta, index) => {
      if (datasets.filter(x => x === meta._dataset).length === 0) {
        this._destroyDatasetMeta(index);
      }
    });
  }
  buildOrUpdateControllers() {
    const newControllers = [];
    const datasets = this.data.datasets;
    let i, ilen;
    this._removeUnreferencedMetasets();
    for (i = 0, ilen = datasets.length; i < ilen; i++) {
      const dataset = datasets[i];
      let meta = this.getDatasetMeta(i);
      const type = dataset.type || this.config.type;
      if (meta.type && meta.type !== type) {
        this._destroyDatasetMeta(i);
        meta = this.getDatasetMeta(i);
      }
      meta.type = type;
      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);
      meta.order = dataset.order || 0;
      meta.index = i;
      meta.label = '' + dataset.label;
      meta.visible = this.isDatasetVisible(i);
      if (meta.controller) {
        meta.controller.updateIndex(i);
        meta.controller.linkScales();
      } else {
        const ControllerClass = registry.getController(type);
        const {datasetElementType, dataElementType} = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type];
        Object.assign(ControllerClass.prototype, {
          dataElementType: registry.getElement(dataElementType),
          datasetElementType: datasetElementType && registry.getElement(datasetElementType)
        });
        meta.controller = new ControllerClass(this, i);
        newControllers.push(meta.controller);
      }
    }
    this._updateMetasets();
    return newControllers;
  }
  _resetElements() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.data.datasets, (dataset, datasetIndex) => {
      this.getDatasetMeta(datasetIndex).controller.reset();
    }, this);
  }
  reset() {
    this._resetElements();
    this.notifyPlugins('reset');
  }
  update(mode) {
    const config = this.config;
    config.update();
    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());
    const animsDisabled = this._animationsDisabled = !options.animation;
    this._updateScales();
    this._checkEventBindings();
    this._updateHiddenIndices();
    this._plugins.invalidate();
    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {
      return;
    }
    const newControllers = this.buildOrUpdateControllers();
    this.notifyPlugins('beforeElementsUpdate');
    let minPadding = 0;
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {
      const {controller} = this.getDatasetMeta(i);
      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;
      controller.buildOrUpdateElements(reset);
      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);
    }
    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;
    this._updateLayout(minPadding);
    if (!animsDisabled) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(newControllers, (controller) => {
        controller.reset();
      });
    }
    this._updateDatasets(mode);
    this.notifyPlugins('afterUpdate', {mode});
    this._layers.sort(compare2Level('z', '_idx'));
    const {_active, _lastEvent} = this;
    if (_lastEvent) {
      this._eventHandler(_lastEvent, true);
    } else if (_active.length) {
      this._updateHoverStyles(_active, _active, true);
    }
    this.render();
  }
  _updateScales() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.scales, (scale) => {
      layouts.removeBox(this, scale);
    });
    this.ensureScalesHaveIDs();
    this.buildOrUpdateScales();
  }
  _checkEventBindings() {
    const options = this.options;
    const existingEvents = new Set(Object.keys(this._listeners));
    const newEvents = new Set(options.events);
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ah)(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {
      this.unbindEvents();
      this.bindEvents();
    }
  }
  _updateHiddenIndices() {
    const {_hiddenIndices} = this;
    const changes = this._getUniformDataChanges() || [];
    for (const {method, start, count} of changes) {
      const move = method === '_removeElements' ? -count : count;
      moveNumericKeys(_hiddenIndices, start, move);
    }
  }
  _getUniformDataChanges() {
    const _dataChanges = this._dataChanges;
    if (!_dataChanges || !_dataChanges.length) {
      return;
    }
    this._dataChanges = [];
    const datasetCount = this.data.datasets.length;
    const makeSet = (idx) => new Set(
      _dataChanges
        .filter(c => c[0] === idx)
        .map((c, i) => i + ',' + c.splice(1).join(','))
    );
    const changeSet = makeSet(0);
    for (let i = 1; i < datasetCount; i++) {
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ah)(changeSet, makeSet(i))) {
        return;
      }
    }
    return Array.from(changeSet)
      .map(c => c.split(','))
      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));
  }
  _updateLayout(minPadding) {
    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {
      return;
    }
    layouts.update(this, this.width, this.height, minPadding);
    const area = this.chartArea;
    const noArea = area.width <= 0 || area.height <= 0;
    this._layers = [];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.boxes, (box) => {
      if (noArea && box.position === 'chartArea') {
        return;
      }
      if (box.configure) {
        box.configure();
      }
      this._layers.push(...box._layers());
    }, this);
    this._layers.forEach((item, index) => {
      item._idx = index;
    });
    this.notifyPlugins('afterLayout');
  }
  _updateDatasets(mode) {
    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {
      return;
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this.getDatasetMeta(i).controller.configure();
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._updateDataset(i, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(mode) ? mode({datasetIndex: i}) : mode);
    }
    this.notifyPlugins('afterDatasetsUpdate', {mode});
  }
  _updateDataset(index, mode) {
    const meta = this.getDatasetMeta(index);
    const args = {meta, index, mode, cancelable: true};
    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {
      return;
    }
    meta.controller._update(mode);
    args.cancelable = false;
    this.notifyPlugins('afterDatasetUpdate', args);
  }
  render() {
    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {
      return;
    }
    if (animator.has(this)) {
      if (this.attached && !animator.running(this)) {
        animator.start(this);
      }
    } else {
      this.draw();
      onAnimationsComplete({chart: this});
    }
  }
  draw() {
    let i;
    if (this._resizeBeforeDraw) {
      const {width, height} = this._resizeBeforeDraw;
      this._resize(width, height);
      this._resizeBeforeDraw = null;
    }
    this.clear();
    if (this.width <= 0 || this.height <= 0) {
      return;
    }
    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {
      return;
    }
    const layers = this._layers;
    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {
      layers[i].draw(this.chartArea);
    }
    this._drawDatasets();
    for (; i < layers.length; ++i) {
      layers[i].draw(this.chartArea);
    }
    this.notifyPlugins('afterDraw');
  }
  _getSortedDatasetMetas(filterVisible) {
    const metasets = this._sortedMetasets;
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metasets.length; i < ilen; ++i) {
      const meta = metasets[i];
      if (!filterVisible || meta.visible) {
        result.push(meta);
      }
    }
    return result;
  }
  getSortedVisibleDatasetMetas() {
    return this._getSortedDatasetMetas(true);
  }
  _drawDatasets() {
    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {
      return;
    }
    const metasets = this.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      this._drawDataset(metasets[i]);
    }
    this.notifyPlugins('afterDatasetsDraw');
  }
  _drawDataset(meta) {
    const ctx = this.ctx;
    const clip = meta._clip;
    const useClip = !clip.disabled;
    const area = this.chartArea;
    const args = {
      meta,
      index: meta.index,
      cancelable: true
    };
    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {
      return;
    }
    if (useClip) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, {
        left: clip.left === false ? 0 : area.left - clip.left,
        right: clip.right === false ? this.width : area.right + clip.right,
        top: clip.top === false ? 0 : area.top - clip.top,
        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom
      });
    }
    meta.controller.draw();
    if (useClip) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
    args.cancelable = false;
    this.notifyPlugins('afterDatasetDraw', args);
  }
  isPointInArea(point) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(point, this.chartArea, this._minPadding);
  }
  getElementsAtEventForMode(e, mode, options, useFinalPosition) {
    const method = Interaction.modes[mode];
    if (typeof method === 'function') {
      return method(this, e, options, useFinalPosition);
    }
    return [];
  }
  getDatasetMeta(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    const metasets = this._metasets;
    let meta = metasets.filter(x => x && x._dataset === dataset).pop();
    if (!meta) {
      meta = {
        type: null,
        data: [],
        dataset: null,
        controller: null,
        hidden: null,
        xAxisID: null,
        yAxisID: null,
        order: dataset && dataset.order || 0,
        index: datasetIndex,
        _dataset: dataset,
        _parsed: [],
        _sorted: false
      };
      metasets.push(meta);
    }
    return meta;
  }
  getContext() {
    return this.$context || (this.$context = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(null, {chart: this, type: 'chart'}));
  }
  getVisibleDatasetCount() {
    return this.getSortedVisibleDatasetMetas().length;
  }
  isDatasetVisible(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    if (!dataset) {
      return false;
    }
    const meta = this.getDatasetMeta(datasetIndex);
    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;
  }
  setDatasetVisibility(datasetIndex, visible) {
    const meta = this.getDatasetMeta(datasetIndex);
    meta.hidden = !visible;
  }
  toggleDataVisibility(index) {
    this._hiddenIndices[index] = !this._hiddenIndices[index];
  }
  getDataVisibility(index) {
    return !this._hiddenIndices[index];
  }
  _updateVisibility(datasetIndex, dataIndex, visible) {
    const mode = visible ? 'show' : 'hide';
    const meta = this.getDatasetMeta(datasetIndex);
    const anims = meta.controller._resolveAnimations(undefined, mode);
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(dataIndex)) {
      meta.data[dataIndex].hidden = !visible;
      this.update();
    } else {
      this.setDatasetVisibility(datasetIndex, visible);
      anims.update(meta, {visible});
      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);
    }
  }
  hide(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, false);
  }
  show(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, true);
  }
  _destroyDatasetMeta(datasetIndex) {
    const meta = this._metasets[datasetIndex];
    if (meta && meta.controller) {
      meta.controller._destroy();
    }
    delete this._metasets[datasetIndex];
  }
  _stop() {
    let i, ilen;
    this.stop();
    animator.remove(this);
    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._destroyDatasetMeta(i);
    }
  }
  destroy() {
    this.notifyPlugins('beforeDestroy');
    const {canvas, ctx} = this;
    this._stop();
    this.config.clearCache();
    if (canvas) {
      this.unbindEvents();
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ag)(canvas, ctx);
      this.platform.releaseContext(ctx);
      this.canvas = null;
      this.ctx = null;
    }
    this.notifyPlugins('destroy');
    delete instances[this.id];
    this.notifyPlugins('afterDestroy');
  }
  toBase64Image(...args) {
    return this.canvas.toDataURL(...args);
  }
  bindEvents() {
    this.bindUserEvents();
    if (this.options.responsive) {
      this.bindResponsiveEvents();
    } else {
      this.attached = true;
    }
  }
  bindUserEvents() {
    const listeners = this._listeners;
    const platform = this.platform;
    const _add = (type, listener) => {
      platform.addEventListener(this, type, listener);
      listeners[type] = listener;
    };
    const listener = (e, x, y) => {
      e.offsetX = x;
      e.offsetY = y;
      this._eventHandler(e);
    };
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.options.events, (type) => _add(type, listener));
  }
  bindResponsiveEvents() {
    if (!this._responsiveListeners) {
      this._responsiveListeners = {};
    }
    const listeners = this._responsiveListeners;
    const platform = this.platform;
    const _add = (type, listener) => {
      platform.addEventListener(this, type, listener);
      listeners[type] = listener;
    };
    const _remove = (type, listener) => {
      if (listeners[type]) {
        platform.removeEventListener(this, type, listener);
        delete listeners[type];
      }
    };
    const listener = (width, height) => {
      if (this.canvas) {
        this.resize(width, height);
      }
    };
    let detached;
    const attached = () => {
      _remove('attach', attached);
      this.attached = true;
      this.resize();
      _add('resize', listener);
      _add('detach', detached);
    };
    detached = () => {
      this.attached = false;
      _remove('resize', listener);
      this._stop();
      this._resize(0, 0);
      _add('attach', attached);
    };
    if (platform.isAttached(this.canvas)) {
      attached();
    } else {
      detached();
    }
  }
  unbindEvents() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this._listeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._listeners = {};
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this._responsiveListeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._responsiveListeners = undefined;
  }
  updateHoverStyle(items, mode, enabled) {
    const prefix = enabled ? 'set' : 'remove';
    let meta, item, i, ilen;
    if (mode === 'dataset') {
      meta = this.getDatasetMeta(items[0].datasetIndex);
      meta.controller['_' + prefix + 'DatasetHoverStyle']();
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      item = items[i];
      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;
      if (controller) {
        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);
      }
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements) {
    const lastActive = this._active || [];
    const active = activeElements.map(({datasetIndex, index}) => {
      const meta = this.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error('No dataset found at index ' + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index],
        index,
      };
    });
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive);
    if (changed) {
      this._active = active;
      this._lastEvent = null;
      this._updateHoverStyles(active, lastActive);
    }
  }
  notifyPlugins(hook, args, filter) {
    return this._plugins.notify(this, hook, args, filter);
  }
  _updateHoverStyles(active, lastActive, replay) {
    const hoverOptions = this.options.hover;
    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));
    const deactivated = diff(lastActive, active);
    const activated = replay ? active : diff(active, lastActive);
    if (deactivated.length) {
      this.updateHoverStyle(deactivated, hoverOptions.mode, false);
    }
    if (activated.length && hoverOptions.mode) {
      this.updateHoverStyle(activated, hoverOptions.mode, true);
    }
  }
  _eventHandler(e, replay) {
    const args = {
      event: e,
      replay,
      cancelable: true,
      inChartArea: this.isPointInArea(e)
    };
    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);
    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {
      return;
    }
    const changed = this._handleEvent(e, replay, args.inChartArea);
    args.cancelable = false;
    this.notifyPlugins('afterEvent', args, eventFilter);
    if (changed || args.changed) {
      this.render();
    }
    return this;
  }
  _handleEvent(e, replay, inChartArea) {
    const {_active: lastActive = [], options} = this;
    const useFinalPosition = replay;
    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);
    const isClick = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aj)(e);
    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);
    if (inChartArea) {
      this._lastEvent = null;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onHover, [e, active, this], this);
      if (isClick) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onClick, [e, active, this], this);
      }
    }
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive);
    if (changed || replay) {
      this._active = active;
      this._updateHoverStyles(active, lastActive, replay);
    }
    this._lastEvent = lastEvent;
    return changed;
  }
  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {
    if (e.type === 'mouseout') {
      return [];
    }
    if (!inChartArea) {
      return lastActive;
    }
    const hoverOptions = this.options.hover;
    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);
  }
}
const invalidatePlugins = () => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(Chart.instances, (chart) => chart._plugins.invalidate());
const enumerable = true;
Object.defineProperties(Chart, {
  defaults: {
    enumerable,
    value: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d
  },
  instances: {
    enumerable,
    value: instances
  },
  overrides: {
    enumerable,
    value: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U
  },
  registry: {
    enumerable,
    value: registry
  },
  version: {
    enumerable,
    value: version
  },
  getChart: {
    enumerable,
    value: getChart
  },
  register: {
    enumerable,
    value: (...items) => {
      registry.add(...items);
      invalidatePlugins();
    }
  },
  unregister: {
    enumerable,
    value: (...items) => {
      registry.remove(...items);
      invalidatePlugins();
    }
  }
});

function clipArc(ctx, element, endAngle) {
  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;
  let angleMargin = pixelMargin / outerRadius;
  ctx.beginPath();
  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);
  if (innerRadius > pixelMargin) {
    angleMargin = pixelMargin / innerRadius;
    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);
  } else {
    ctx.arc(x, y, pixelMargin, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
  }
  ctx.closePath();
  ctx.clip();
}
function toRadiusCorners(value) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.al)(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);
}
function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {
  const o = toRadiusCorners(arc.options.borderRadius);
  const halfThickness = (outerRadius - innerRadius) / 2;
  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);
  const computeOuterLimit = (val) => {
    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(val, 0, Math.min(halfThickness, outerArcLimit));
  };
  return {
    outerStart: computeOuterLimit(o.outerStart),
    outerEnd: computeOuterLimit(o.outerEnd),
    innerStart: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(o.innerStart, 0, innerLimit),
    innerEnd: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(o.innerEnd, 0, innerLimit),
  };
}
function rThetaToXY(r, theta, x, y) {
  return {
    x: x + r * Math.cos(theta),
    y: y + r * Math.sin(theta),
  };
}
function pathArc(ctx, element, offset, spacing, end, circular) {
  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;
  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);
  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;
  let spacingOffset = 0;
  const alpha = end - start;
  if (spacing) {
    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;
    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;
    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;
    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;
    spacingOffset = (alpha - adjustedAngle) / 2;
  }
  const beta = Math.max(0.001, alpha * outerRadius - offset / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P) / outerRadius;
  const angleOffset = (alpha - beta) / 2;
  const startAngle = start + angleOffset + spacingOffset;
  const endAngle = end - angleOffset - spacingOffset;
  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);
  const outerStartAdjustedRadius = outerRadius - outerStart;
  const outerEndAdjustedRadius = outerRadius - outerEnd;
  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;
  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;
  const innerStartAdjustedRadius = innerRadius + innerStart;
  const innerEndAdjustedRadius = innerRadius + innerEnd;
  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;
  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;
  ctx.beginPath();
  if (circular) {
    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);
    if (outerEnd > 0) {
      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
    }
    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);
    ctx.lineTo(p4.x, p4.y);
    if (innerEnd > 0) {
      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, innerEndAdjustedAngle + Math.PI);
    }
    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);
    if (innerStart > 0) {
      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
    }
    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);
    ctx.lineTo(p8.x, p8.y);
    if (outerStart > 0) {
      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, outerStartAdjustedAngle);
    }
  } else {
    ctx.moveTo(x, y);
    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;
    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerStartX, outerStartY);
    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;
    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerEndX, outerEndY);
  }
  ctx.closePath();
}
function drawArc(ctx, element, offset, spacing, circular) {
  const {fullCircles, startAngle, circumference} = element;
  let endAngle = element.endAngle;
  if (fullCircles) {
    pathArc(ctx, element, offset, spacing, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T, circular);
    for (let i = 0; i < fullCircles; ++i) {
      ctx.fill();
    }
    if (!isNaN(circumference)) {
      endAngle = startAngle + circumference % _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
      if (circumference % _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T === 0) {
        endAngle += _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
      }
    }
  }
  pathArc(ctx, element, offset, spacing, endAngle, circular);
  ctx.fill();
  return endAngle;
}
function drawFullCircleBorders(ctx, element, inner) {
  const {x, y, startAngle, pixelMargin, fullCircles} = element;
  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);
  const innerRadius = element.innerRadius + pixelMargin;
  let i;
  if (inner) {
    clipArc(ctx, element, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  }
  ctx.beginPath();
  ctx.arc(x, y, innerRadius, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T, startAngle, true);
  for (i = 0; i < fullCircles; ++i) {
    ctx.stroke();
  }
  ctx.beginPath();
  ctx.arc(x, y, outerRadius, startAngle, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  for (i = 0; i < fullCircles; ++i) {
    ctx.stroke();
  }
}
function drawBorder(ctx, element, offset, spacing, endAngle, circular) {
  const {options} = element;
  const {borderWidth, borderJoinStyle} = options;
  const inner = options.borderAlign === 'inner';
  if (!borderWidth) {
    return;
  }
  if (inner) {
    ctx.lineWidth = borderWidth * 2;
    ctx.lineJoin = borderJoinStyle || 'round';
  } else {
    ctx.lineWidth = borderWidth;
    ctx.lineJoin = borderJoinStyle || 'bevel';
  }
  if (element.fullCircles) {
    drawFullCircleBorders(ctx, element, inner);
  }
  if (inner) {
    clipArc(ctx, element, endAngle);
  }
  pathArc(ctx, element, offset, spacing, endAngle, circular);
  ctx.stroke();
}
class ArcElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.circumference = undefined;
    this.startAngle = undefined;
    this.endAngle = undefined;
    this.innerRadius = undefined;
    this.outerRadius = undefined;
    this.pixelMargin = 0;
    this.fullCircles = 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(chartX, chartY, useFinalPosition) {
    const point = this.getProps(['x', 'y'], useFinalPosition);
    const {angle, distance} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a0)(point, {x: chartX, y: chartY});
    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([
      'startAngle',
      'endAngle',
      'innerRadius',
      'outerRadius',
      'circumference'
    ], useFinalPosition);
    const rAdjust = this.options.spacing / 2;
    const _circumference = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(circumference, endAngle - startAngle);
    const betweenAngles = _circumference >= _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle);
    const withinRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(distance, innerRadius + rAdjust, outerRadius + rAdjust);
    return (betweenAngles && withinRadius);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([
      'x',
      'y',
      'startAngle',
      'endAngle',
      'innerRadius',
      'outerRadius',
      'circumference',
    ], useFinalPosition);
    const {offset, spacing} = this.options;
    const halfAngle = (startAngle + endAngle) / 2;
    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;
    return {
      x: x + Math.cos(halfAngle) * halfRadius,
      y: y + Math.sin(halfAngle) * halfRadius
    };
  }
  tooltipPosition(useFinalPosition) {
    return this.getCenterPoint(useFinalPosition);
  }
  draw(ctx) {
    const {options, circumference} = this;
    const offset = (options.offset || 0) / 2;
    const spacing = (options.spacing || 0) / 2;
    const circular = options.circular;
    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;
    this.fullCircles = circumference > _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T ? Math.floor(circumference / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T) : 0;
    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {
      return;
    }
    ctx.save();
    let radiusOffset = 0;
    if (offset) {
      radiusOffset = offset / 2;
      const halfAngle = (this.startAngle + this.endAngle) / 2;
      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);
      if (this.circumference >= _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P) {
        radiusOffset = offset;
      }
    }
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular);
    drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular);
    ctx.restore();
  }
}
ArcElement.id = 'arc';
ArcElement.defaults = {
  borderAlign: 'center',
  borderColor: '#fff',
  borderJoinStyle: undefined,
  borderRadius: 0,
  borderWidth: 2,
  offset: 0,
  spacing: 0,
  angle: undefined,
  circular: true,
};
ArcElement.defaultRoutes = {
  backgroundColor: 'backgroundColor'
};

function setStyle(ctx, options, style = options) {
  ctx.lineCap = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderCapStyle, options.borderCapStyle);
  ctx.setLineDash((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderDash, options.borderDash));
  ctx.lineDashOffset = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderDashOffset, options.borderDashOffset);
  ctx.lineJoin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderJoinStyle, options.borderJoinStyle);
  ctx.lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderWidth, options.borderWidth);
  ctx.strokeStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderColor, options.borderColor);
}
function lineTo(ctx, previous, target) {
  ctx.lineTo(target.x, target.y);
}
function getLineMethod(options) {
  if (options.stepped) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.as;
  }
  if (options.tension || options.cubicInterpolationMode === 'monotone') {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.at;
  }
  return lineTo;
}
function pathVars(points, segment, params = {}) {
  const count = points.length;
  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;
  const {start: segmentStart, end: segmentEnd} = segment;
  const start = Math.max(paramsStart, segmentStart);
  const end = Math.min(paramsEnd, segmentEnd);
  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;
  return {
    count,
    start,
    loop: segment.loop,
    ilen: end < start && !outside ? count + end - start : end - start
  };
}
function pathSegment(ctx, line, segment, params) {
  const {points, options} = line;
  const {count, start, loop, ilen} = pathVars(points, segment, params);
  const lineMethod = getLineMethod(options);
  let {move = true, reverse} = params || {};
  let i, point, prev;
  for (i = 0; i <= ilen; ++i) {
    point = points[(start + (reverse ? ilen - i : i)) % count];
    if (point.skip) {
      continue;
    } else if (move) {
      ctx.moveTo(point.x, point.y);
      move = false;
    } else {
      lineMethod(ctx, prev, point, reverse, options.stepped);
    }
    prev = point;
  }
  if (loop) {
    point = points[(start + (reverse ? ilen : 0)) % count];
    lineMethod(ctx, prev, point, reverse, options.stepped);
  }
  return !!loop;
}
function fastPathSegment(ctx, line, segment, params) {
  const points = line.points;
  const {count, start, ilen} = pathVars(points, segment, params);
  const {move = true, reverse} = params || {};
  let avgX = 0;
  let countX = 0;
  let i, point, prevX, minY, maxY, lastY;
  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;
  const drawX = () => {
    if (minY !== maxY) {
      ctx.lineTo(avgX, maxY);
      ctx.lineTo(avgX, minY);
      ctx.lineTo(avgX, lastY);
    }
  };
  if (move) {
    point = points[pointIndex(0)];
    ctx.moveTo(point.x, point.y);
  }
  for (i = 0; i <= ilen; ++i) {
    point = points[pointIndex(i)];
    if (point.skip) {
      continue;
    }
    const x = point.x;
    const y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
      } else if (y > maxY) {
        maxY = y;
      }
      avgX = (countX * avgX + x) / ++countX;
    } else {
      drawX();
      ctx.lineTo(x, y);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
    }
    lastY = y;
  }
  drawX();
}
function _getSegmentMethod(line) {
  const opts = line.options;
  const borderDash = opts.borderDash && opts.borderDash.length;
  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;
  return useFastPath ? fastPathSegment : pathSegment;
}
function _getInterpolationMethod(options) {
  if (options.stepped) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ap;
  }
  if (options.tension || options.cubicInterpolationMode === 'monotone') {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aq;
  }
  return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ar;
}
function strokePathWithCache(ctx, line, start, count) {
  let path = line._path;
  if (!path) {
    path = line._path = new Path2D();
    if (line.path(path, start, count)) {
      path.closePath();
    }
  }
  setStyle(ctx, line.options);
  ctx.stroke(path);
}
function strokePathDirect(ctx, line, start, count) {
  const {segments, options} = line;
  const segmentMethod = _getSegmentMethod(line);
  for (const segment of segments) {
    setStyle(ctx, options, segment.style);
    ctx.beginPath();
    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {
      ctx.closePath();
    }
    ctx.stroke();
  }
}
const usePath2D = typeof Path2D === 'function';
function draw(ctx, line, start, count) {
  if (usePath2D && !line.options.segment) {
    strokePathWithCache(ctx, line, start, count);
  } else {
    strokePathDirect(ctx, line, start, count);
  }
}
class LineElement extends Element {
  constructor(cfg) {
    super();
    this.animated = true;
    this.options = undefined;
    this._chart = undefined;
    this._loop = undefined;
    this._fullLoop = undefined;
    this._path = undefined;
    this._points = undefined;
    this._segments = undefined;
    this._decimated = false;
    this._pointsUpdated = false;
    this._datasetIndex = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  updateControlPoints(chartArea, indexAxis) {
    const options = this.options;
    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {
      const loop = options.spanGaps ? this._loop : this._fullLoop;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.am)(this._points, options, chartArea, loop, indexAxis);
      this._pointsUpdated = true;
    }
  }
  set points(points) {
    this._points = points;
    delete this._segments;
    delete this._path;
    this._pointsUpdated = false;
  }
  get points() {
    return this._points;
  }
  get segments() {
    return this._segments || (this._segments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.an)(this, this.options.segment));
  }
  first() {
    const segments = this.segments;
    const points = this.points;
    return segments.length && points[segments[0].start];
  }
  last() {
    const segments = this.segments;
    const points = this.points;
    const count = segments.length;
    return count && points[segments[count - 1].end];
  }
  interpolate(point, property) {
    const options = this.options;
    const value = point[property];
    const points = this.points;
    const segments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ao)(this, {property, start: value, end: value});
    if (!segments.length) {
      return;
    }
    const result = [];
    const _interpolate = _getInterpolationMethod(options);
    let i, ilen;
    for (i = 0, ilen = segments.length; i < ilen; ++i) {
      const {start, end} = segments[i];
      const p1 = points[start];
      const p2 = points[end];
      if (p1 === p2) {
        result.push(p1);
        continue;
      }
      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));
      const interpolated = _interpolate(p1, p2, t, options.stepped);
      interpolated[property] = point[property];
      result.push(interpolated);
    }
    return result.length === 1 ? result[0] : result;
  }
  pathSegment(ctx, segment, params) {
    const segmentMethod = _getSegmentMethod(this);
    return segmentMethod(ctx, this, segment, params);
  }
  path(ctx, start, count) {
    const segments = this.segments;
    const segmentMethod = _getSegmentMethod(this);
    let loop = this._loop;
    start = start || 0;
    count = count || (this.points.length - start);
    for (const segment of segments) {
      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});
    }
    return !!loop;
  }
  draw(ctx, chartArea, start, count) {
    const options = this.options || {};
    const points = this.points || [];
    if (points.length && options.borderWidth) {
      ctx.save();
      draw(ctx, this, start, count);
      ctx.restore();
    }
    if (this.animated) {
      this._pointsUpdated = false;
      this._path = undefined;
    }
  }
}
LineElement.id = 'line';
LineElement.defaults = {
  borderCapStyle: 'butt',
  borderDash: [],
  borderDashOffset: 0,
  borderJoinStyle: 'miter',
  borderWidth: 3,
  capBezierPoints: true,
  cubicInterpolationMode: 'default',
  fill: false,
  spanGaps: false,
  stepped: false,
  tension: 0,
};
LineElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};
LineElement.descriptors = {
  _scriptable: true,
  _indexable: (name) => name !== 'borderDash' && name !== 'fill',
};

function inRange$1(el, pos, axis, useFinalPosition) {
  const options = el.options;
  const {[axis]: value} = el.getProps([axis], useFinalPosition);
  return (Math.abs(pos - value) < options.radius + options.hitRadius);
}
class PointElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.parsed = undefined;
    this.skip = undefined;
    this.stop = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    const options = this.options;
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange$1(this, mouseX, 'x', useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange$1(this, mouseY, 'y', useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return {x, y};
  }
  size(options) {
    options = options || this.options || {};
    let radius = options.radius || 0;
    radius = Math.max(radius, radius && options.hoverRadius || 0);
    const borderWidth = radius && options.borderWidth || 0;
    return (radius + borderWidth) * 2;
  }
  draw(ctx, area) {
    const options = this.options;
    if (this.skip || options.radius < 0.1 || !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(this, area, this.size(options) / 2)) {
      return;
    }
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.fillStyle = options.backgroundColor;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, options, this.x, this.y);
  }
  getRange() {
    const options = this.options || {};
    return options.radius + options.hitRadius;
  }
}
PointElement.id = 'point';
PointElement.defaults = {
  borderWidth: 1,
  hitRadius: 1,
  hoverBorderWidth: 1,
  hoverRadius: 4,
  pointStyle: 'circle',
  radius: 3,
  rotation: 0
};
PointElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};

function getBarBounds(bar, useFinalPosition) {
  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);
  let left, right, top, bottom, half;
  if (bar.horizontal) {
    half = height / 2;
    left = Math.min(x, base);
    right = Math.max(x, base);
    top = y - half;
    bottom = y + half;
  } else {
    half = width / 2;
    left = x - half;
    right = x + half;
    top = Math.min(y, base);
    bottom = Math.max(y, base);
  }
  return {left, top, right, bottom};
}
function skipOrLimit(skip, value, min, max) {
  return skip ? 0 : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(value, min, max);
}
function parseBorderWidth(bar, maxW, maxH) {
  const value = bar.options.borderWidth;
  const skip = bar.borderSkipped;
  const o = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aw)(value);
  return {
    t: skipOrLimit(skip.top, o.top, 0, maxH),
    r: skipOrLimit(skip.right, o.right, 0, maxW),
    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),
    l: skipOrLimit(skip.left, o.left, 0, maxW)
  };
}
function parseBorderRadius(bar, maxW, maxH) {
  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);
  const value = bar.options.borderRadius;
  const o = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(value);
  const maxR = Math.min(maxW, maxH);
  const skip = bar.borderSkipped;
  const enableBorder = enableBorderRadius || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value);
  return {
    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),
    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),
    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),
    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)
  };
}
function boundingRects(bar) {
  const bounds = getBarBounds(bar);
  const width = bounds.right - bounds.left;
  const height = bounds.bottom - bounds.top;
  const border = parseBorderWidth(bar, width / 2, height / 2);
  const radius = parseBorderRadius(bar, width / 2, height / 2);
  return {
    outer: {
      x: bounds.left,
      y: bounds.top,
      w: width,
      h: height,
      radius
    },
    inner: {
      x: bounds.left + border.l,
      y: bounds.top + border.t,
      w: width - border.l - border.r,
      h: height - border.t - border.b,
      radius: {
        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),
        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),
        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),
        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),
      }
    }
  };
}
function inRange(bar, x, y, useFinalPosition) {
  const skipX = x === null;
  const skipY = y === null;
  const skipBoth = skipX && skipY;
  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);
  return bounds
		&& (skipX || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, bounds.left, bounds.right))
		&& (skipY || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, bounds.top, bounds.bottom));
}
function hasRadius(radius) {
  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;
}
function addNormalRectPath(ctx, rect) {
  ctx.rect(rect.x, rect.y, rect.w, rect.h);
}
function inflateRect(rect, amount, refRect = {}) {
  const x = rect.x !== refRect.x ? -amount : 0;
  const y = rect.y !== refRect.y ? -amount : 0;
  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;
  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;
  return {
    x: rect.x + x,
    y: rect.y + y,
    w: rect.w + w,
    h: rect.h + h,
    radius: rect.radius
  };
}
class BarElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.horizontal = undefined;
    this.base = undefined;
    this.width = undefined;
    this.height = undefined;
    this.inflateAmount = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  draw(ctx) {
    const {inflateAmount, options: {borderColor, backgroundColor}} = this;
    const {inner, outer} = boundingRects(this);
    const addRectPath = hasRadius(outer.radius) ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av : addNormalRectPath;
    ctx.save();
    if (outer.w !== inner.w || outer.h !== inner.h) {
      ctx.beginPath();
      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));
      ctx.clip();
      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));
      ctx.fillStyle = borderColor;
      ctx.fill('evenodd');
    }
    ctx.beginPath();
    addRectPath(ctx, inflateRect(inner, inflateAmount));
    ctx.fillStyle = backgroundColor;
    ctx.fill();
    ctx.restore();
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    return inRange(this, mouseX, mouseY, useFinalPosition);
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange(this, mouseX, null, useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange(this, null, mouseY, useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);
    return {
      x: horizontal ? (x + base) / 2 : x,
      y: horizontal ? y : (y + base) / 2
    };
  }
  getRange(axis) {
    return axis === 'x' ? this.width / 2 : this.height / 2;
  }
}
BarElement.id = 'bar';
BarElement.defaults = {
  borderSkipped: 'start',
  borderWidth: 0,
  borderRadius: 0,
  inflateAmount: 'auto',
  pointStyle: undefined
};
BarElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};

var elements = /*#__PURE__*/Object.freeze({
__proto__: null,
ArcElement: ArcElement,
LineElement: LineElement,
PointElement: PointElement,
BarElement: BarElement
});

function lttbDecimation(data, start, count, availableWidth, options) {
  const samples = options.samples || availableWidth;
  if (samples >= count) {
    return data.slice(start, start + count);
  }
  const decimated = [];
  const bucketWidth = (count - 2) / (samples - 2);
  let sampledIndex = 0;
  const endIndex = start + count - 1;
  let a = start;
  let i, maxAreaPoint, maxArea, area, nextA;
  decimated[sampledIndex++] = data[a];
  for (i = 0; i < samples - 2; i++) {
    let avgX = 0;
    let avgY = 0;
    let j;
    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;
    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;
    const avgRangeLength = avgRangeEnd - avgRangeStart;
    for (j = avgRangeStart; j < avgRangeEnd; j++) {
      avgX += data[j].x;
      avgY += data[j].y;
    }
    avgX /= avgRangeLength;
    avgY /= avgRangeLength;
    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;
    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;
    const {x: pointAx, y: pointAy} = data[a];
    maxArea = area = -1;
    for (j = rangeOffs; j < rangeTo; j++) {
      area = 0.5 * Math.abs(
        (pointAx - avgX) * (data[j].y - pointAy) -
        (pointAx - data[j].x) * (avgY - pointAy)
      );
      if (area > maxArea) {
        maxArea = area;
        maxAreaPoint = data[j];
        nextA = j;
      }
    }
    decimated[sampledIndex++] = maxAreaPoint;
    a = nextA;
  }
  decimated[sampledIndex++] = data[endIndex];
  return decimated;
}
function minMaxDecimation(data, start, count, availableWidth) {
  let avgX = 0;
  let countX = 0;
  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;
  const decimated = [];
  const endIndex = start + count - 1;
  const xMin = data[start].x;
  const xMax = data[endIndex].x;
  const dx = xMax - xMin;
  for (i = start; i < start + count; ++i) {
    point = data[i];
    x = (point.x - xMin) / dx * availableWidth;
    y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
        minIndex = i;
      } else if (y > maxY) {
        maxY = y;
        maxIndex = i;
      }
      avgX = (countX * avgX + point.x) / ++countX;
    } else {
      const lastIndex = i - 1;
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(minIndex) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(maxIndex)) {
        const intermediateIndex1 = Math.min(minIndex, maxIndex);
        const intermediateIndex2 = Math.max(minIndex, maxIndex);
        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {
          decimated.push({
            ...data[intermediateIndex1],
            x: avgX,
          });
        }
        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {
          decimated.push({
            ...data[intermediateIndex2],
            x: avgX
          });
        }
      }
      if (i > 0 && lastIndex !== startIndex) {
        decimated.push(data[lastIndex]);
      }
      decimated.push(point);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
      minIndex = maxIndex = startIndex = i;
    }
  }
  return decimated;
}
function cleanDecimatedDataset(dataset) {
  if (dataset._decimated) {
    const data = dataset._data;
    delete dataset._decimated;
    delete dataset._data;
    Object.defineProperty(dataset, 'data', {value: data});
  }
}
function cleanDecimatedData(chart) {
  chart.data.datasets.forEach((dataset) => {
    cleanDecimatedDataset(dataset);
  });
}
function getStartAndCountOfVisiblePointsSimplified(meta, points) {
  const pointCount = points.length;
  let start = 0;
  let count;
  const {iScale} = meta;
  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();
  if (minDefined) {
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(points, iScale.axis, min).lo, 0, pointCount - 1);
  }
  if (maxDefined) {
    count = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(points, iScale.axis, max).hi + 1, start, pointCount) - start;
  } else {
    count = pointCount - start;
  }
  return {start, count};
}
var plugin_decimation = {
  id: 'decimation',
  defaults: {
    algorithm: 'min-max',
    enabled: false,
  },
  beforeElementsUpdate: (chart, args, options) => {
    if (!options.enabled) {
      cleanDecimatedData(chart);
      return;
    }
    const availableWidth = chart.width;
    chart.data.datasets.forEach((dataset, datasetIndex) => {
      const {_data, indexAxis} = dataset;
      const meta = chart.getDatasetMeta(datasetIndex);
      const data = _data || dataset.data;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([indexAxis, chart.options.indexAxis]) === 'y') {
        return;
      }
      if (!meta.controller.supportsDecimation) {
        return;
      }
      const xAxis = chart.scales[meta.xAxisID];
      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {
        return;
      }
      if (chart.options.parsing) {
        return;
      }
      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);
      const threshold = options.threshold || 4 * availableWidth;
      if (count <= threshold) {
        cleanDecimatedDataset(dataset);
        return;
      }
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(_data)) {
        dataset._data = data;
        delete dataset.data;
        Object.defineProperty(dataset, 'data', {
          configurable: true,
          enumerable: true,
          get: function() {
            return this._decimated;
          },
          set: function(d) {
            this._data = d;
          }
        });
      }
      let decimated;
      switch (options.algorithm) {
      case 'lttb':
        decimated = lttbDecimation(data, start, count, availableWidth, options);
        break;
      case 'min-max':
        decimated = minMaxDecimation(data, start, count, availableWidth);
        break;
      default:
        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);
      }
      dataset._decimated = decimated;
    });
  },
  destroy(chart) {
    cleanDecimatedData(chart);
  }
};

function _segments(line, target, property) {
  const segments = line.segments;
  const points = line.points;
  const tpoints = target.points;
  const parts = [];
  for (const segment of segments) {
    let {start, end} = segment;
    end = _findSegmentEnd(start, end, points);
    const bounds = _getBounds(property, points[start], points[end], segment.loop);
    if (!target.segments) {
      parts.push({
        source: segment,
        target: bounds,
        start: points[start],
        end: points[end]
      });
      continue;
    }
    const targetSegments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ao)(target, bounds);
    for (const tgt of targetSegments) {
      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);
      const fillSources = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ay)(segment, points, subBounds);
      for (const fillSource of fillSources) {
        parts.push({
          source: fillSource,
          target: tgt,
          start: {
            [property]: _getEdge(bounds, subBounds, 'start', Math.max)
          },
          end: {
            [property]: _getEdge(bounds, subBounds, 'end', Math.min)
          }
        });
      }
    }
  }
  return parts;
}
function _getBounds(property, first, last, loop) {
  if (loop) {
    return;
  }
  let start = first[property];
  let end = last[property];
  if (property === 'angle') {
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(start);
    end = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(end);
  }
  return {property, start, end};
}
function _pointsFromSegments(boundary, line) {
  const {x = null, y = null} = boundary || {};
  const linePoints = line.points;
  const points = [];
  line.segments.forEach(({start, end}) => {
    end = _findSegmentEnd(start, end, linePoints);
    const first = linePoints[start];
    const last = linePoints[end];
    if (y !== null) {
      points.push({x: first.x, y});
      points.push({x: last.x, y});
    } else if (x !== null) {
      points.push({x, y: first.y});
      points.push({x, y: last.y});
    }
  });
  return points;
}
function _findSegmentEnd(start, end, points) {
  for (;end > start; end--) {
    const point = points[end];
    if (!isNaN(point.x) && !isNaN(point.y)) {
      break;
    }
  }
  return end;
}
function _getEdge(a, b, prop, fn) {
  if (a && b) {
    return fn(a[prop], b[prop]);
  }
  return a ? a[prop] : b ? b[prop] : 0;
}

function _createBoundaryLine(boundary, line) {
  let points = [];
  let _loop = false;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(boundary)) {
    _loop = true;
    points = boundary;
  } else {
    points = _pointsFromSegments(boundary, line);
  }
  return points.length ? new LineElement({
    points,
    options: {tension: 0},
    _loop,
    _fullLoop: _loop
  }) : null;
}
function _shouldApplyFill(source) {
  return source && source.fill !== false;
}

function _resolveTarget(sources, index, propagate) {
  const source = sources[index];
  let fill = source.fill;
  const visited = [index];
  let target;
  if (!propagate) {
    return fill;
  }
  while (fill !== false && visited.indexOf(fill) === -1) {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(fill)) {
      return fill;
    }
    target = sources[fill];
    if (!target) {
      return false;
    }
    if (target.visible) {
      return fill;
    }
    visited.push(fill);
    fill = target.fill;
  }
  return false;
}
function _decodeFill(line, index, count) {
  const fill = parseFillOption(line);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    return isNaN(fill.value) ? false : fill;
  }
  let target = parseFloat(fill);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(target) && Math.floor(target) === target) {
    return decodeTargetIndex(fill[0], index, target, count);
  }
  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;
}
function decodeTargetIndex(firstCh, index, target, count) {
  if (firstCh === '-' || firstCh === '+') {
    target = index + target;
  }
  if (target === index || target < 0 || target >= count) {
    return false;
  }
  return target;
}
function _getTargetPixel(fill, scale) {
  let pixel = null;
  if (fill === 'start') {
    pixel = scale.bottom;
  } else if (fill === 'end') {
    pixel = scale.top;
  } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    pixel = scale.getPixelForValue(fill.value);
  } else if (scale.getBasePixel) {
    pixel = scale.getBasePixel();
  }
  return pixel;
}
function _getTargetValue(fill, scale, startValue) {
  let value;
  if (fill === 'start') {
    value = startValue;
  } else if (fill === 'end') {
    value = scale.options.reverse ? scale.min : scale.max;
  } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    value = fill.value;
  } else {
    value = scale.getBaseValue();
  }
  return value;
}
function parseFillOption(line) {
  const options = line.options;
  const fillOption = options.fill;
  let fill = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(fillOption && fillOption.target, fillOption);
  if (fill === undefined) {
    fill = !!options.backgroundColor;
  }
  if (fill === false || fill === null) {
    return false;
  }
  if (fill === true) {
    return 'origin';
  }
  return fill;
}

function _buildStackLine(source) {
  const {scale, index, line} = source;
  const points = [];
  const segments = line.segments;
  const sourcePoints = line.points;
  const linesBelow = getLinesBelow(scale, index);
  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    for (let j = segment.start; j <= segment.end; j++) {
      addPointsBelow(points, sourcePoints[j], linesBelow);
    }
  }
  return new LineElement({points, options: {}});
}
function getLinesBelow(scale, index) {
  const below = [];
  const metas = scale.getMatchingVisibleMetas('line');
  for (let i = 0; i < metas.length; i++) {
    const meta = metas[i];
    if (meta.index === index) {
      break;
    }
    if (!meta.hidden) {
      below.unshift(meta.dataset);
    }
  }
  return below;
}
function addPointsBelow(points, sourcePoint, linesBelow) {
  const postponed = [];
  for (let j = 0; j < linesBelow.length; j++) {
    const line = linesBelow[j];
    const {first, last, point} = findPoint(line, sourcePoint, 'x');
    if (!point || (first && last)) {
      continue;
    }
    if (first) {
      postponed.unshift(point);
    } else {
      points.push(point);
      if (!last) {
        break;
      }
    }
  }
  points.push(...postponed);
}
function findPoint(line, sourcePoint, property) {
  const point = line.interpolate(sourcePoint, property);
  if (!point) {
    return {};
  }
  const pointValue = point[property];
  const segments = line.segments;
  const linePoints = line.points;
  let first = false;
  let last = false;
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    const firstValue = linePoints[segment.start][property];
    const lastValue = linePoints[segment.end][property];
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(pointValue, firstValue, lastValue)) {
      first = pointValue === firstValue;
      last = pointValue === lastValue;
      break;
    }
  }
  return {first, last, point};
}

class simpleArc {
  constructor(opts) {
    this.x = opts.x;
    this.y = opts.y;
    this.radius = opts.radius;
  }
  pathSegment(ctx, bounds, opts) {
    const {x, y, radius} = this;
    bounds = bounds || {start: 0, end: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T};
    ctx.arc(x, y, radius, bounds.end, bounds.start, true);
    return !opts.bounds;
  }
  interpolate(point) {
    const {x, y, radius} = this;
    const angle = point.angle;
    return {
      x: x + Math.cos(angle) * radius,
      y: y + Math.sin(angle) * radius,
      angle
    };
  }
}

function _getTarget(source) {
  const {chart, fill, line} = source;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(fill)) {
    return getLineByIndex(chart, fill);
  }
  if (fill === 'stack') {
    return _buildStackLine(source);
  }
  if (fill === 'shape') {
    return true;
  }
  const boundary = computeBoundary(source);
  if (boundary instanceof simpleArc) {
    return boundary;
  }
  return _createBoundaryLine(boundary, line);
}
function getLineByIndex(chart, index) {
  const meta = chart.getDatasetMeta(index);
  const visible = meta && chart.isDatasetVisible(index);
  return visible ? meta.dataset : null;
}
function computeBoundary(source) {
  const scale = source.scale || {};
  if (scale.getPointPositionForValue) {
    return computeCircularBoundary(source);
  }
  return computeLinearBoundary(source);
}
function computeLinearBoundary(source) {
  const {scale = {}, fill} = source;
  const pixel = _getTargetPixel(fill, scale);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(pixel)) {
    const horizontal = scale.isHorizontal();
    return {
      x: horizontal ? pixel : null,
      y: horizontal ? null : pixel
    };
  }
  return null;
}
function computeCircularBoundary(source) {
  const {scale, fill} = source;
  const options = scale.options;
  const length = scale.getLabels().length;
  const start = options.reverse ? scale.max : scale.min;
  const value = _getTargetValue(fill, scale, start);
  const target = [];
  if (options.grid.circular) {
    const center = scale.getPointPositionForValue(0, start);
    return new simpleArc({
      x: center.x,
      y: center.y,
      radius: scale.getDistanceFromCenterForValue(value)
    });
  }
  for (let i = 0; i < length; ++i) {
    target.push(scale.getPointPositionForValue(i, value));
  }
  return target;
}

function _drawfill(ctx, source, area) {
  const target = _getTarget(source);
  const {line, scale, axis} = source;
  const lineOpts = line.options;
  const fillOption = lineOpts.fill;
  const color = lineOpts.backgroundColor;
  const {above = color, below = color} = fillOption || {};
  if (target && line.points.length) {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, area);
    doFill(ctx, {line, target, above, below, area, scale, axis});
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
  }
}
function doFill(ctx, cfg) {
  const {line, target, above, below, area, scale} = cfg;
  const property = line._loop ? 'angle' : cfg.axis;
  ctx.save();
  if (property === 'x' && below !== above) {
    clipVertical(ctx, target, area.top);
    fill(ctx, {line, target, color: above, scale, property});
    ctx.restore();
    ctx.save();
    clipVertical(ctx, target, area.bottom);
  }
  fill(ctx, {line, target, color: below, scale, property});
  ctx.restore();
}
function clipVertical(ctx, target, clipY) {
  const {segments, points} = target;
  let first = true;
  let lineLoop = false;
  ctx.beginPath();
  for (const segment of segments) {
    const {start, end} = segment;
    const firstPoint = points[start];
    const lastPoint = points[_findSegmentEnd(start, end, points)];
    if (first) {
      ctx.moveTo(firstPoint.x, firstPoint.y);
      first = false;
    } else {
      ctx.lineTo(firstPoint.x, clipY);
      ctx.lineTo(firstPoint.x, firstPoint.y);
    }
    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});
    if (lineLoop) {
      ctx.closePath();
    } else {
      ctx.lineTo(lastPoint.x, clipY);
    }
  }
  ctx.lineTo(target.first().x, clipY);
  ctx.closePath();
  ctx.clip();
}
function fill(ctx, cfg) {
  const {line, target, property, color, scale} = cfg;
  const segments = _segments(line, target, property);
  for (const {source: src, target: tgt, start, end} of segments) {
    const {style: {backgroundColor = color} = {}} = src;
    const notShape = target !== true;
    ctx.save();
    ctx.fillStyle = backgroundColor;
    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));
    ctx.beginPath();
    const lineLoop = !!line.pathSegment(ctx, src);
    let loop;
    if (notShape) {
      if (lineLoop) {
        ctx.closePath();
      } else {
        interpolatedLineTo(ctx, target, end, property);
      }
      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});
      loop = lineLoop && targetLoop;
      if (!loop) {
        interpolatedLineTo(ctx, target, start, property);
      }
    }
    ctx.closePath();
    ctx.fill(loop ? 'evenodd' : 'nonzero');
    ctx.restore();
  }
}
function clipBounds(ctx, scale, bounds) {
  const {top, bottom} = scale.chart.chartArea;
  const {property, start, end} = bounds || {};
  if (property === 'x') {
    ctx.beginPath();
    ctx.rect(start, top, end - start, bottom - top);
    ctx.clip();
  }
}
function interpolatedLineTo(ctx, target, point, property) {
  const interpolatedPoint = target.interpolate(point, property);
  if (interpolatedPoint) {
    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);
  }
}

var index = {
  id: 'filler',
  afterDatasetsUpdate(chart, _args, options) {
    const count = (chart.data.datasets || []).length;
    const sources = [];
    let meta, i, line, source;
    for (i = 0; i < count; ++i) {
      meta = chart.getDatasetMeta(i);
      line = meta.dataset;
      source = null;
      if (line && line.options && line instanceof LineElement) {
        source = {
          visible: chart.isDatasetVisible(i),
          index: i,
          fill: _decodeFill(line, i, count),
          chart,
          axis: meta.controller.options.indexAxis,
          scale: meta.vScale,
          line,
        };
      }
      meta.$filler = source;
      sources.push(source);
    }
    for (i = 0; i < count; ++i) {
      source = sources[i];
      if (!source || source.fill === false) {
        continue;
      }
      source.fill = _resolveTarget(sources, i, options.propagate);
    }
  },
  beforeDraw(chart, _args, options) {
    const draw = options.drawTime === 'beforeDraw';
    const metasets = chart.getSortedVisibleDatasetMetas();
    const area = chart.chartArea;
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (!source) {
        continue;
      }
      source.line.updateControlPoints(area, source.axis);
      if (draw && source.fill) {
        _drawfill(chart.ctx, source, area);
      }
    }
  },
  beforeDatasetsDraw(chart, _args, options) {
    if (options.drawTime !== 'beforeDatasetsDraw') {
      return;
    }
    const metasets = chart.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (_shouldApplyFill(source)) {
        _drawfill(chart.ctx, source, chart.chartArea);
      }
    }
  },
  beforeDatasetDraw(chart, args, options) {
    const source = args.meta.$filler;
    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {
      return;
    }
    _drawfill(chart.ctx, source, chart.chartArea);
  },
  defaults: {
    propagate: true,
    drawTime: 'beforeDatasetDraw'
  }
};

const getBoxSize = (labelOpts, fontSize) => {
  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;
  if (labelOpts.usePointStyle) {
    boxHeight = Math.min(boxHeight, fontSize);
    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);
  }
  return {
    boxWidth,
    boxHeight,
    itemHeight: Math.max(fontSize, boxHeight)
  };
};
const itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;
class Legend extends Element {
  constructor(config) {
    super();
    this._added = false;
    this.legendHitBoxes = [];
    this._hoveredItem = null;
    this.doughnutMode = false;
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this.legendItems = undefined;
    this.columnSizes = undefined;
    this.lineWidths = undefined;
    this.maxHeight = undefined;
    this.maxWidth = undefined;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.height = undefined;
    this.width = undefined;
    this._margins = undefined;
    this.position = undefined;
    this.weight = undefined;
    this.fullSize = undefined;
  }
  update(maxWidth, maxHeight, margins) {
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins;
    this.setDimensions();
    this.buildLabels();
    this.fit();
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = this._margins.left;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = this._margins.top;
      this.bottom = this.height;
    }
  }
  buildLabels() {
    const labelOpts = this.options.labels || {};
    let legendItems = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(labelOpts.generateLabels, [this.chart], this) || [];
    if (labelOpts.filter) {
      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));
    }
    if (labelOpts.sort) {
      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));
    }
    if (this.options.reverse) {
      legendItems.reverse();
    }
    this.legendItems = legendItems;
  }
  fit() {
    const {options, ctx} = this;
    if (!options.display) {
      this.width = this.height = 0;
      return;
    }
    const labelOpts = options.labels;
    const labelFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(labelOpts.font);
    const fontSize = labelFont.size;
    const titleHeight = this._computeTitleHeight();
    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);
    let width, height;
    ctx.font = labelFont.string;
    if (this.isHorizontal()) {
      width = this.maxWidth;
      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;
    } else {
      height = this.maxHeight;
      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;
    }
    this.width = Math.min(width, options.maxWidth || this.maxWidth);
    this.height = Math.min(height, options.maxHeight || this.maxHeight);
  }
  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {
    const {ctx, maxWidth, options: {labels: {padding}}} = this;
    const hitboxes = this.legendHitBoxes = [];
    const lineWidths = this.lineWidths = [0];
    const lineHeight = itemHeight + padding;
    let totalHeight = titleHeight;
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    let row = -1;
    let top = -lineHeight;
    this.legendItems.forEach((legendItem, i) => {
      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {
        totalHeight += lineHeight;
        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
        top += lineHeight;
        row++;
      }
      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};
      lineWidths[lineWidths.length - 1] += itemWidth + padding;
    });
    return totalHeight;
  }
  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {
    const {ctx, maxHeight, options: {labels: {padding}}} = this;
    const hitboxes = this.legendHitBoxes = [];
    const columnSizes = this.columnSizes = [];
    const heightLimit = maxHeight - titleHeight;
    let totalWidth = padding;
    let currentColWidth = 0;
    let currentColHeight = 0;
    let left = 0;
    let col = 0;
    this.legendItems.forEach((legendItem, i) => {
      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {
        totalWidth += currentColWidth + padding;
        columnSizes.push({width: currentColWidth, height: currentColHeight});
        left += currentColWidth + padding;
        col++;
        currentColWidth = currentColHeight = 0;
      }
      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};
      currentColWidth = Math.max(currentColWidth, itemWidth);
      currentColHeight += itemHeight + padding;
    });
    totalWidth += currentColWidth;
    columnSizes.push({width: currentColWidth, height: currentColHeight});
    return totalWidth;
  }
  adjustHitBoxes() {
    if (!this.options.display) {
      return;
    }
    const titleHeight = this._computeTitleHeight();
    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(rtl, this.left, this.width);
    if (this.isHorizontal()) {
      let row = 0;
      let left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - this.lineWidths[row]);
      for (const hitbox of hitboxes) {
        if (row !== hitbox.row) {
          row = hitbox.row;
          left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - this.lineWidths[row]);
        }
        hitbox.top += this.top + titleHeight + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);
        left += hitbox.width + padding;
      }
    } else {
      let col = 0;
      let top = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
      for (const hitbox of hitboxes) {
        if (hitbox.col !== col) {
          col = hitbox.col;
          top = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
        }
        hitbox.top = top;
        hitbox.left += this.left + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);
        top += hitbox.height + padding;
      }
    }
  }
  isHorizontal() {
    return this.options.position === 'top' || this.options.position === 'bottom';
  }
  draw() {
    if (this.options.display) {
      const ctx = this.ctx;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, this);
      this._draw();
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
  }
  _draw() {
    const {options: opts, columnSizes, lineWidths, ctx} = this;
    const {align, labels: labelOpts} = opts;
    const defaultColor = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.color;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(opts.rtl, this.left, this.width);
    const labelFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(labelOpts.font);
    const {color: fontColor, padding} = labelOpts;
    const fontSize = labelFont.size;
    const halfFontSize = fontSize / 2;
    let cursor;
    this.drawTitle();
    ctx.textAlign = rtlHelper.textAlign('left');
    ctx.textBaseline = 'middle';
    ctx.lineWidth = 0.5;
    ctx.font = labelFont.string;
    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);
    const drawLegendBox = function(x, y, legendItem) {
      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {
        return;
      }
      ctx.save();
      const lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineWidth, 1);
      ctx.fillStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.fillStyle, defaultColor);
      ctx.lineCap = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineCap, 'butt');
      ctx.lineDashOffset = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineDashOffset, 0);
      ctx.lineJoin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineJoin, 'miter');
      ctx.lineWidth = lineWidth;
      ctx.strokeStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.strokeStyle, defaultColor);
      ctx.setLineDash((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineDash, []));
      if (labelOpts.usePointStyle) {
        const drawOptions = {
          radius: boxHeight * Math.SQRT2 / 2,
          pointStyle: legendItem.pointStyle,
          rotation: legendItem.rotation,
          borderWidth: lineWidth
        };
        const centerX = rtlHelper.xPlus(x, boxWidth / 2);
        const centerY = y + halfFontSize;
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aE)(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);
      } else {
        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);
        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);
        const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(legendItem.borderRadius);
        ctx.beginPath();
        if (Object.values(borderRadius).some(v => v !== 0)) {
          (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
            x: xBoxLeft,
            y: yBoxTop,
            w: boxWidth,
            h: boxHeight,
            radius: borderRadius,
          });
        } else {
          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);
        }
        ctx.fill();
        if (lineWidth !== 0) {
          ctx.stroke();
        }
      }
      ctx.restore();
    };
    const fillText = function(x, y, legendItem) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {
        strikethrough: legendItem.hidden,
        textAlign: rtlHelper.textAlign(legendItem.textAlign)
      });
    };
    const isHorizontal = this.isHorizontal();
    const titleHeight = this._computeTitleHeight();
    if (isHorizontal) {
      cursor = {
        x: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - lineWidths[0]),
        y: this.top + padding + titleHeight,
        line: 0
      };
    } else {
      cursor = {
        x: this.left + padding,
        y: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),
        line: 0
      };
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aB)(this.ctx, opts.textDirection);
    const lineHeight = itemHeight + padding;
    this.legendItems.forEach((legendItem, i) => {
      ctx.strokeStyle = legendItem.fontColor || fontColor;
      ctx.fillStyle = legendItem.fontColor || fontColor;
      const textWidth = ctx.measureText(legendItem.text).width;
      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));
      const width = boxWidth + halfFontSize + textWidth;
      let x = cursor.x;
      let y = cursor.y;
      rtlHelper.setWidth(this.width);
      if (isHorizontal) {
        if (i > 0 && x + width + padding > this.right) {
          y = cursor.y += lineHeight;
          cursor.line++;
          x = cursor.x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - lineWidths[cursor.line]);
        }
      } else if (i > 0 && y + lineHeight > this.bottom) {
        x = cursor.x = x + columnSizes[cursor.line].width + padding;
        cursor.line++;
        y = cursor.y = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);
      }
      const realX = rtlHelper.x(x);
      drawLegendBox(realX, y, legendItem);
      x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aC)(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);
      fillText(rtlHelper.x(x), y, legendItem);
      if (isHorizontal) {
        cursor.x += width + padding;
      } else {
        cursor.y += lineHeight;
      }
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aD)(this.ctx, opts.textDirection);
  }
  drawTitle() {
    const opts = this.options;
    const titleOpts = opts.title;
    const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(titleOpts.font);
    const titlePadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(titleOpts.padding);
    if (!titleOpts.display) {
      return;
    }
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(opts.rtl, this.left, this.width);
    const ctx = this.ctx;
    const position = titleOpts.position;
    const halfFontSize = titleFont.size / 2;
    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;
    let y;
    let left = this.left;
    let maxWidth = this.width;
    if (this.isHorizontal()) {
      maxWidth = Math.max(...this.lineWidths);
      y = this.top + topPaddingPlusHalfFontSize;
      left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(opts.align, left, this.right - maxWidth);
    } else {
      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);
      y = topPaddingPlusHalfFontSize + (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());
    }
    const x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(position, left, left + maxWidth);
    ctx.textAlign = rtlHelper.textAlign((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(position));
    ctx.textBaseline = 'middle';
    ctx.strokeStyle = titleOpts.color;
    ctx.fillStyle = titleOpts.color;
    ctx.font = titleFont.string;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, titleOpts.text, x, y, titleFont);
  }
  _computeTitleHeight() {
    const titleOpts = this.options.title;
    const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(titleOpts.font);
    const titlePadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(titleOpts.padding);
    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;
  }
  _getLegendItemAt(x, y) {
    let i, hitBox, lh;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, this.left, this.right)
      && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, this.top, this.bottom)) {
      lh = this.legendHitBoxes;
      for (i = 0; i < lh.length; ++i) {
        hitBox = lh[i];
        if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, hitBox.left, hitBox.left + hitBox.width)
          && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, hitBox.top, hitBox.top + hitBox.height)) {
          return this.legendItems[i];
        }
      }
    }
    return null;
  }
  handleEvent(e) {
    const opts = this.options;
    if (!isListened(e.type, opts)) {
      return;
    }
    const hoveredItem = this._getLegendItemAt(e.x, e.y);
    if (e.type === 'mousemove' || e.type === 'mouseout') {
      const previous = this._hoveredItem;
      const sameItem = itemsEqual(previous, hoveredItem);
      if (previous && !sameItem) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onLeave, [e, previous, this], this);
      }
      this._hoveredItem = hoveredItem;
      if (hoveredItem && !sameItem) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onHover, [e, hoveredItem, this], this);
      }
    } else if (hoveredItem) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onClick, [e, hoveredItem, this], this);
    }
  }
}
function isListened(type, opts) {
  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {
    return true;
  }
  if (opts.onClick && (type === 'click' || type === 'mouseup')) {
    return true;
  }
  return false;
}
var plugin_legend = {
  id: 'legend',
  _element: Legend,
  start(chart, _args, options) {
    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});
    layouts.configure(chart, legend, options);
    layouts.addBox(chart, legend);
  },
  stop(chart) {
    layouts.removeBox(chart, chart.legend);
    delete chart.legend;
  },
  beforeUpdate(chart, _args, options) {
    const legend = chart.legend;
    layouts.configure(chart, legend, options);
    legend.options = options;
  },
  afterUpdate(chart) {
    const legend = chart.legend;
    legend.buildLabels();
    legend.adjustHitBoxes();
  },
  afterEvent(chart, args) {
    if (!args.replay) {
      chart.legend.handleEvent(args.event);
    }
  },
  defaults: {
    display: true,
    position: 'top',
    align: 'center',
    fullSize: true,
    reverse: false,
    weight: 1000,
    onClick(e, legendItem, legend) {
      const index = legendItem.datasetIndex;
      const ci = legend.chart;
      if (ci.isDatasetVisible(index)) {
        ci.hide(index);
        legendItem.hidden = true;
      } else {
        ci.show(index);
        legendItem.hidden = false;
      }
    },
    onHover: null,
    onLeave: null,
    labels: {
      color: (ctx) => ctx.chart.options.color,
      boxWidth: 40,
      padding: 10,
      generateLabels(chart) {
        const datasets = chart.data.datasets;
        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;
        return chart._getSortedDatasetMetas().map((meta) => {
          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);
          const borderWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(style.borderWidth);
          return {
            text: datasets[meta.index].label,
            fillStyle: style.backgroundColor,
            fontColor: color,
            hidden: !meta.visible,
            lineCap: style.borderCapStyle,
            lineDash: style.borderDash,
            lineDashOffset: style.borderDashOffset,
            lineJoin: style.borderJoinStyle,
            lineWidth: (borderWidth.width + borderWidth.height) / 4,
            strokeStyle: style.borderColor,
            pointStyle: pointStyle || style.pointStyle,
            rotation: style.rotation,
            textAlign: textAlign || style.textAlign,
            borderRadius: 0,
            datasetIndex: meta.index
          };
        }, this);
      }
    },
    title: {
      color: (ctx) => ctx.chart.options.color,
      display: false,
      position: 'center',
      text: '',
    }
  },
  descriptors: {
    _scriptable: (name) => !name.startsWith('on'),
    labels: {
      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),
    }
  },
};

class Title extends Element {
  constructor(config) {
    super();
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this._padding = undefined;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.width = undefined;
    this.height = undefined;
    this.position = undefined;
    this.weight = undefined;
    this.fullSize = undefined;
  }
  update(maxWidth, maxHeight) {
    const opts = this.options;
    this.left = 0;
    this.top = 0;
    if (!opts.display) {
      this.width = this.height = this.right = this.bottom = 0;
      return;
    }
    this.width = this.right = maxWidth;
    this.height = this.bottom = maxHeight;
    const lineCount = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(opts.text) ? opts.text.length : 1;
    this._padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(opts.padding);
    const textSize = lineCount * (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font).lineHeight + this._padding.height;
    if (this.isHorizontal()) {
      this.height = textSize;
    } else {
      this.width = textSize;
    }
  }
  isHorizontal() {
    const pos = this.options.position;
    return pos === 'top' || pos === 'bottom';
  }
  _drawArgs(offset) {
    const {top, left, bottom, right, options} = this;
    const align = options.align;
    let rotation = 0;
    let maxWidth, titleX, titleY;
    if (this.isHorizontal()) {
      titleX = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, left, right);
      titleY = top + offset;
      maxWidth = right - left;
    } else {
      if (options.position === 'left') {
        titleX = left + offset;
        titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, bottom, top);
        rotation = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P * -0.5;
      } else {
        titleX = right - offset;
        titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, top, bottom);
        rotation = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P * 0.5;
      }
      maxWidth = bottom - top;
    }
    return {titleX, titleY, maxWidth, rotation};
  }
  draw() {
    const ctx = this.ctx;
    const opts = this.options;
    if (!opts.display) {
      return;
    }
    const fontOpts = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
    const lineHeight = fontOpts.lineHeight;
    const offset = lineHeight / 2 + this._padding.top;
    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, opts.text, 0, 0, fontOpts, {
      color: opts.color,
      maxWidth,
      rotation,
      textAlign: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(opts.align),
      textBaseline: 'middle',
      translation: [titleX, titleY],
    });
  }
}
function createTitle(chart, titleOpts) {
  const title = new Title({
    ctx: chart.ctx,
    options: titleOpts,
    chart
  });
  layouts.configure(chart, title, titleOpts);
  layouts.addBox(chart, title);
  chart.titleBlock = title;
}
var plugin_title = {
  id: 'title',
  _element: Title,
  start(chart, _args, options) {
    createTitle(chart, options);
  },
  stop(chart) {
    const titleBlock = chart.titleBlock;
    layouts.removeBox(chart, titleBlock);
    delete chart.titleBlock;
  },
  beforeUpdate(chart, _args, options) {
    const title = chart.titleBlock;
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: 'center',
    display: false,
    font: {
      weight: 'bold',
    },
    fullSize: true,
    padding: 10,
    position: 'top',
    text: '',
    weight: 2000
  },
  defaultRoutes: {
    color: 'color'
  },
  descriptors: {
    _scriptable: true,
    _indexable: false,
  },
};

const map = new WeakMap();
var plugin_subtitle = {
  id: 'subtitle',
  start(chart, _args, options) {
    const title = new Title({
      ctx: chart.ctx,
      options,
      chart
    });
    layouts.configure(chart, title, options);
    layouts.addBox(chart, title);
    map.set(chart, title);
  },
  stop(chart) {
    layouts.removeBox(chart, map.get(chart));
    map.delete(chart);
  },
  beforeUpdate(chart, _args, options) {
    const title = map.get(chart);
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: 'center',
    display: false,
    font: {
      weight: 'normal',
    },
    fullSize: true,
    padding: 0,
    position: 'top',
    text: '',
    weight: 1500
  },
  defaultRoutes: {
    color: 'color'
  },
  descriptors: {
    _scriptable: true,
    _indexable: false,
  },
};

const positioners = {
  average(items) {
    if (!items.length) {
      return false;
    }
    let i, len;
    let x = 0;
    let y = 0;
    let count = 0;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const pos = el.tooltipPosition();
        x += pos.x;
        y += pos.y;
        ++count;
      }
    }
    return {
      x: x / count,
      y: y / count
    };
  },
  nearest(items, eventPosition) {
    if (!items.length) {
      return false;
    }
    let x = eventPosition.x;
    let y = eventPosition.y;
    let minDistance = Number.POSITIVE_INFINITY;
    let i, len, nearestElement;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const center = el.getCenterPoint();
        const d = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aG)(eventPosition, center);
        if (d < minDistance) {
          minDistance = d;
          nearestElement = el;
        }
      }
    }
    if (nearestElement) {
      const tp = nearestElement.tooltipPosition();
      x = tp.x;
      y = tp.y;
    }
    return {
      x,
      y
    };
  }
};
function pushOrConcat(base, toPush) {
  if (toPush) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(toPush)) {
      Array.prototype.push.apply(base, toPush);
    } else {
      base.push(toPush);
    }
  }
  return base;
}
function splitNewlines(str) {
  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\n') > -1) {
    return str.split('\n');
  }
  return str;
}
function createTooltipItem(chart, item) {
  const {element, datasetIndex, index} = item;
  const controller = chart.getDatasetMeta(datasetIndex).controller;
  const {label, value} = controller.getLabelAndValue(index);
  return {
    chart,
    label,
    parsed: controller.getParsed(index),
    raw: chart.data.datasets[datasetIndex].data[index],
    formattedValue: value,
    dataset: controller.getDataset(),
    dataIndex: index,
    datasetIndex,
    element
  };
}
function getTooltipSize(tooltip, options) {
  const ctx = tooltip.chart.ctx;
  const {body, footer, title} = tooltip;
  const {boxWidth, boxHeight} = options;
  const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
  const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.titleFont);
  const footerFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.footerFont);
  const titleLineCount = title.length;
  const footerLineCount = footer.length;
  const bodyLineItemCount = body.length;
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  let height = padding.height;
  let width = 0;
  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);
  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;
  if (titleLineCount) {
    height += titleLineCount * titleFont.lineHeight
			+ (titleLineCount - 1) * options.titleSpacing
			+ options.titleMarginBottom;
  }
  if (combinedBodyLength) {
    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;
    height += bodyLineItemCount * bodyLineHeight
			+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight
			+ (combinedBodyLength - 1) * options.bodySpacing;
  }
  if (footerLineCount) {
    height += options.footerMarginTop
			+ footerLineCount * footerFont.lineHeight
			+ (footerLineCount - 1) * options.footerSpacing;
  }
  let widthPadding = 0;
  const maxLineWidth = function(line) {
    width = Math.max(width, ctx.measureText(line).width + widthPadding);
  };
  ctx.save();
  ctx.font = titleFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.title, maxLineWidth);
  ctx.font = bodyFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);
  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(body, (bodyItem) => {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.before, maxLineWidth);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.lines, maxLineWidth);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.after, maxLineWidth);
  });
  widthPadding = 0;
  ctx.font = footerFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.footer, maxLineWidth);
  ctx.restore();
  width += padding.width;
  return {width, height};
}
function determineYAlign(chart, size) {
  const {y, height} = size;
  if (y < height / 2) {
    return 'top';
  } else if (y > (chart.height - height / 2)) {
    return 'bottom';
  }
  return 'center';
}
function doesNotFitWithAlign(xAlign, chart, options, size) {
  const {x, width} = size;
  const caret = options.caretSize + options.caretPadding;
  if (xAlign === 'left' && x + width + caret > chart.width) {
    return true;
  }
  if (xAlign === 'right' && x - width - caret < 0) {
    return true;
  }
}
function determineXAlign(chart, options, size, yAlign) {
  const {x, width} = size;
  const {width: chartWidth, chartArea: {left, right}} = chart;
  let xAlign = 'center';
  if (yAlign === 'center') {
    xAlign = x <= (left + right) / 2 ? 'left' : 'right';
  } else if (x <= width / 2) {
    xAlign = 'left';
  } else if (x >= chartWidth - width / 2) {
    xAlign = 'right';
  }
  if (doesNotFitWithAlign(xAlign, chart, options, size)) {
    xAlign = 'center';
  }
  return xAlign;
}
function determineAlignment(chart, options, size) {
  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);
  return {
    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),
    yAlign
  };
}
function alignX(size, xAlign) {
  let {x, width} = size;
  if (xAlign === 'right') {
    x -= width;
  } else if (xAlign === 'center') {
    x -= (width / 2);
  }
  return x;
}
function alignY(size, yAlign, paddingAndSize) {
  let {y, height} = size;
  if (yAlign === 'top') {
    y += paddingAndSize;
  } else if (yAlign === 'bottom') {
    y -= height + paddingAndSize;
  } else {
    y -= (height / 2);
  }
  return y;
}
function getBackgroundPoint(options, size, alignment, chart) {
  const {caretSize, caretPadding, cornerRadius} = options;
  const {xAlign, yAlign} = alignment;
  const paddingAndSize = caretSize + caretPadding;
  const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(cornerRadius);
  let x = alignX(size, xAlign);
  const y = alignY(size, yAlign, paddingAndSize);
  if (yAlign === 'center') {
    if (xAlign === 'left') {
      x += paddingAndSize;
    } else if (xAlign === 'right') {
      x -= paddingAndSize;
    }
  } else if (xAlign === 'left') {
    x -= Math.max(topLeft, bottomLeft) + caretSize;
  } else if (xAlign === 'right') {
    x += Math.max(topRight, bottomRight) + caretSize;
  }
  return {
    x: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(x, 0, chart.width - size.width),
    y: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(y, 0, chart.height - size.height)
  };
}
function getAlignedX(tooltip, align, options) {
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  return align === 'center'
    ? tooltip.x + tooltip.width / 2
    : align === 'right'
      ? tooltip.x + tooltip.width - padding.right
      : tooltip.x + padding.left;
}
function getBeforeAfterBodyLines(callback) {
  return pushOrConcat([], splitNewlines(callback));
}
function createTooltipContext(parent, tooltip, tooltipItems) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    tooltip,
    tooltipItems,
    type: 'tooltip'
  });
}
function overrideCallbacks(callbacks, context) {
  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;
  return override ? callbacks.override(override) : callbacks;
}
class Tooltip extends Element {
  constructor(config) {
    super();
    this.opacity = 0;
    this._active = [];
    this._eventPosition = undefined;
    this._size = undefined;
    this._cachedAnimations = undefined;
    this._tooltipItems = [];
    this.$animations = undefined;
    this.$context = undefined;
    this.chart = config.chart || config._chart;
    this._chart = this.chart;
    this.options = config.options;
    this.dataPoints = undefined;
    this.title = undefined;
    this.beforeBody = undefined;
    this.body = undefined;
    this.afterBody = undefined;
    this.footer = undefined;
    this.xAlign = undefined;
    this.yAlign = undefined;
    this.x = undefined;
    this.y = undefined;
    this.height = undefined;
    this.width = undefined;
    this.caretX = undefined;
    this.caretY = undefined;
    this.labelColors = undefined;
    this.labelPointStyles = undefined;
    this.labelTextColors = undefined;
  }
  initialize(options) {
    this.options = options;
    this._cachedAnimations = undefined;
    this.$context = undefined;
  }
  _resolveAnimations() {
    const cached = this._cachedAnimations;
    if (cached) {
      return cached;
    }
    const chart = this.chart;
    const options = this.options.setContext(this.getContext());
    const opts = options.enabled && chart.options.animation && options.animations;
    const animations = new Animations(this.chart, opts);
    if (opts._cacheable) {
      this._cachedAnimations = Object.freeze(animations);
    }
    return animations;
  }
  getContext() {
    return this.$context ||
			(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));
  }
  getTitle(context, options) {
    const {callbacks} = options;
    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);
    const title = callbacks.title.apply(this, [context]);
    const afterTitle = callbacks.afterTitle.apply(this, [context]);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeTitle));
    lines = pushOrConcat(lines, splitNewlines(title));
    lines = pushOrConcat(lines, splitNewlines(afterTitle));
    return lines;
  }
  getBeforeBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));
  }
  getBody(tooltipItems, options) {
    const {callbacks} = options;
    const bodyItems = [];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltipItems, (context) => {
      const bodyItem = {
        before: [],
        lines: [],
        after: []
      };
      const scoped = overrideCallbacks(callbacks, context);
      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));
      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));
      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));
      bodyItems.push(bodyItem);
    });
    return bodyItems;
  }
  getAfterBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));
  }
  getFooter(tooltipItems, options) {
    const {callbacks} = options;
    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);
    const footer = callbacks.footer.apply(this, [tooltipItems]);
    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeFooter));
    lines = pushOrConcat(lines, splitNewlines(footer));
    lines = pushOrConcat(lines, splitNewlines(afterFooter));
    return lines;
  }
  _createItems(options) {
    const active = this._active;
    const data = this.chart.data;
    const labelColors = [];
    const labelPointStyles = [];
    const labelTextColors = [];
    let tooltipItems = [];
    let i, len;
    for (i = 0, len = active.length; i < len; ++i) {
      tooltipItems.push(createTooltipItem(this.chart, active[i]));
    }
    if (options.filter) {
      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));
    }
    if (options.itemSort) {
      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltipItems, (context) => {
      const scoped = overrideCallbacks(options.callbacks, context);
      labelColors.push(scoped.labelColor.call(this, context));
      labelPointStyles.push(scoped.labelPointStyle.call(this, context));
      labelTextColors.push(scoped.labelTextColor.call(this, context));
    });
    this.labelColors = labelColors;
    this.labelPointStyles = labelPointStyles;
    this.labelTextColors = labelTextColors;
    this.dataPoints = tooltipItems;
    return tooltipItems;
  }
  update(changed, replay) {
    const options = this.options.setContext(this.getContext());
    const active = this._active;
    let properties;
    let tooltipItems = [];
    if (!active.length) {
      if (this.opacity !== 0) {
        properties = {
          opacity: 0
        };
      }
    } else {
      const position = positioners[options.position].call(this, active, this._eventPosition);
      tooltipItems = this._createItems(options);
      this.title = this.getTitle(tooltipItems, options);
      this.beforeBody = this.getBeforeBody(tooltipItems, options);
      this.body = this.getBody(tooltipItems, options);
      this.afterBody = this.getAfterBody(tooltipItems, options);
      this.footer = this.getFooter(tooltipItems, options);
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, size);
      const alignment = determineAlignment(this.chart, options, positionAndSize);
      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);
      this.xAlign = alignment.xAlign;
      this.yAlign = alignment.yAlign;
      properties = {
        opacity: 1,
        x: backgroundPoint.x,
        y: backgroundPoint.y,
        width: size.width,
        height: size.height,
        caretX: position.x,
        caretY: position.y
      };
    }
    this._tooltipItems = tooltipItems;
    this.$context = undefined;
    if (properties) {
      this._resolveAnimations().update(this, properties);
    }
    if (changed && options.external) {
      options.external.call(this, {chart: this.chart, tooltip: this, replay});
    }
  }
  drawCaret(tooltipPoint, ctx, size, options) {
    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);
    ctx.lineTo(caretPosition.x1, caretPosition.y1);
    ctx.lineTo(caretPosition.x2, caretPosition.y2);
    ctx.lineTo(caretPosition.x3, caretPosition.y3);
  }
  getCaretPosition(tooltipPoint, size, options) {
    const {xAlign, yAlign} = this;
    const {caretSize, cornerRadius} = options;
    const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(cornerRadius);
    const {x: ptX, y: ptY} = tooltipPoint;
    const {width, height} = size;
    let x1, x2, x3, y1, y2, y3;
    if (yAlign === 'center') {
      y2 = ptY + (height / 2);
      if (xAlign === 'left') {
        x1 = ptX;
        x2 = x1 - caretSize;
        y1 = y2 + caretSize;
        y3 = y2 - caretSize;
      } else {
        x1 = ptX + width;
        x2 = x1 + caretSize;
        y1 = y2 - caretSize;
        y3 = y2 + caretSize;
      }
      x3 = x1;
    } else {
      if (xAlign === 'left') {
        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);
      } else if (xAlign === 'right') {
        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;
      } else {
        x2 = this.caretX;
      }
      if (yAlign === 'top') {
        y1 = ptY;
        y2 = y1 - caretSize;
        x1 = x2 - caretSize;
        x3 = x2 + caretSize;
      } else {
        y1 = ptY + height;
        y2 = y1 + caretSize;
        x1 = x2 + caretSize;
        x3 = x2 - caretSize;
      }
      y3 = y1;
    }
    return {x1, x2, x3, y1, y2, y3};
  }
  drawTitle(pt, ctx, options) {
    const title = this.title;
    const length = title.length;
    let titleFont, titleSpacing, i;
    if (length) {
      const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.titleAlign, options);
      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);
      ctx.textBaseline = 'middle';
      titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.titleFont);
      titleSpacing = options.titleSpacing;
      ctx.fillStyle = options.titleColor;
      ctx.font = titleFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);
        pt.y += titleFont.lineHeight + titleSpacing;
        if (i + 1 === length) {
          pt.y += options.titleMarginBottom - titleSpacing;
        }
      }
    }
  }
  _drawColorBox(ctx, pt, i, rtlHelper, options) {
    const labelColors = this.labelColors[i];
    const labelPointStyle = this.labelPointStyles[i];
    const {boxHeight, boxWidth, boxPadding} = options;
    const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
    const colorX = getAlignedX(this, 'left', options);
    const rtlColorX = rtlHelper.x(colorX);
    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;
    const colorY = pt.y + yOffSet;
    if (options.usePointStyle) {
      const drawOptions = {
        radius: Math.min(boxWidth, boxHeight) / 2,
        pointStyle: labelPointStyle.pointStyle,
        rotation: labelPointStyle.rotation,
        borderWidth: 1
      };
      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;
      const centerY = colorY + boxHeight / 2;
      ctx.strokeStyle = options.multiKeyBackground;
      ctx.fillStyle = options.multiKeyBackground;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, drawOptions, centerX, centerY);
      ctx.strokeStyle = labelColors.borderColor;
      ctx.fillStyle = labelColors.backgroundColor;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, drawOptions, centerX, centerY);
    } else {
      ctx.lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1);
      ctx.strokeStyle = labelColors.borderColor;
      ctx.setLineDash(labelColors.borderDash || []);
      ctx.lineDashOffset = labelColors.borderDashOffset || 0;
      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);
      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);
      const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(labelColors.borderRadius);
      if (Object.values(borderRadius).some(v => v !== 0)) {
        ctx.beginPath();
        ctx.fillStyle = options.multiKeyBackground;
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: outerX,
          y: colorY,
          w: boxWidth,
          h: boxHeight,
          radius: borderRadius,
        });
        ctx.fill();
        ctx.stroke();
        ctx.fillStyle = labelColors.backgroundColor;
        ctx.beginPath();
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: innerX,
          y: colorY + 1,
          w: boxWidth - 2,
          h: boxHeight - 2,
          radius: borderRadius,
        });
        ctx.fill();
      } else {
        ctx.fillStyle = options.multiKeyBackground;
        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);
        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);
        ctx.fillStyle = labelColors.backgroundColor;
        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);
      }
    }
    ctx.fillStyle = this.labelTextColors[i];
  }
  drawBody(pt, ctx, options) {
    const {body} = this;
    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;
    const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
    let bodyLineHeight = bodyFont.lineHeight;
    let xLinePadding = 0;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
    const fillLineOfText = function(line) {
      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);
      pt.y += bodyLineHeight + bodySpacing;
    };
    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);
    let bodyItem, textColor, lines, i, j, ilen, jlen;
    ctx.textAlign = bodyAlign;
    ctx.textBaseline = 'middle';
    ctx.font = bodyFont.string;
    pt.x = getAlignedX(this, bodyAlignForCalculation, options);
    ctx.fillStyle = options.bodyColor;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.beforeBody, fillLineOfText);
    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'
      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)
      : 0;
    for (i = 0, ilen = body.length; i < ilen; ++i) {
      bodyItem = body[i];
      textColor = this.labelTextColors[i];
      ctx.fillStyle = textColor;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.before, fillLineOfText);
      lines = bodyItem.lines;
      if (displayColors && lines.length) {
        this._drawColorBox(ctx, pt, i, rtlHelper, options);
        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);
      }
      for (j = 0, jlen = lines.length; j < jlen; ++j) {
        fillLineOfText(lines[j]);
        bodyLineHeight = bodyFont.lineHeight;
      }
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.after, fillLineOfText);
    }
    xLinePadding = 0;
    bodyLineHeight = bodyFont.lineHeight;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.afterBody, fillLineOfText);
    pt.y -= bodySpacing;
  }
  drawFooter(pt, ctx, options) {
    const footer = this.footer;
    const length = footer.length;
    let footerFont, i;
    if (length) {
      const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.footerAlign, options);
      pt.y += options.footerMarginTop;
      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);
      ctx.textBaseline = 'middle';
      footerFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.footerFont);
      ctx.fillStyle = options.footerColor;
      ctx.font = footerFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);
        pt.y += footerFont.lineHeight + options.footerSpacing;
      }
    }
  }
  drawBackground(pt, ctx, tooltipSize, options) {
    const {xAlign, yAlign} = this;
    const {x, y} = pt;
    const {width, height} = tooltipSize;
    const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(options.cornerRadius);
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.beginPath();
    ctx.moveTo(x + topLeft, y);
    if (yAlign === 'top') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width - topRight, y);
    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);
    if (yAlign === 'center' && xAlign === 'right') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width, y + height - bottomRight);
    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);
    if (yAlign === 'bottom') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + bottomLeft, y + height);
    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);
    if (yAlign === 'center' && xAlign === 'left') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x, y + topLeft);
    ctx.quadraticCurveTo(x, y, x + topLeft, y);
    ctx.closePath();
    ctx.fill();
    if (options.borderWidth > 0) {
      ctx.stroke();
    }
  }
  _updateAnimationTarget(options) {
    const chart = this.chart;
    const anims = this.$animations;
    const animX = anims && anims.x;
    const animY = anims && anims.y;
    if (animX || animY) {
      const position = positioners[options.position].call(this, this._active, this._eventPosition);
      if (!position) {
        return;
      }
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, this._size);
      const alignment = determineAlignment(chart, options, positionAndSize);
      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);
      if (animX._to !== point.x || animY._to !== point.y) {
        this.xAlign = alignment.xAlign;
        this.yAlign = alignment.yAlign;
        this.width = size.width;
        this.height = size.height;
        this.caretX = position.x;
        this.caretY = position.y;
        this._resolveAnimations().update(this, point);
      }
    }
  }
  _willRender() {
    return !!this.opacity;
  }
  draw(ctx) {
    const options = this.options.setContext(this.getContext());
    let opacity = this.opacity;
    if (!opacity) {
      return;
    }
    this._updateAnimationTarget(options);
    const tooltipSize = {
      width: this.width,
      height: this.height
    };
    const pt = {
      x: this.x,
      y: this.y
    };
    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;
    if (options.enabled && hasTooltipContent) {
      ctx.save();
      ctx.globalAlpha = opacity;
      this.drawBackground(pt, ctx, tooltipSize, options);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aB)(ctx, options.textDirection);
      pt.y += padding.top;
      this.drawTitle(pt, ctx, options);
      this.drawBody(pt, ctx, options);
      this.drawFooter(pt, ctx, options);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aD)(ctx, options.textDirection);
      ctx.restore();
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements, eventPosition) {
    const lastActive = this._active;
    const active = activeElements.map(({datasetIndex, index}) => {
      const meta = this.chart.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error('Cannot find a dataset at index ' + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index],
        index,
      };
    });
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(lastActive, active);
    const positionChanged = this._positionChanged(active, eventPosition);
    if (changed || positionChanged) {
      this._active = active;
      this._eventPosition = eventPosition;
      this._ignoreReplayEvents = true;
      this.update(true);
    }
  }
  handleEvent(e, replay, inChartArea = true) {
    if (replay && this._ignoreReplayEvents) {
      return false;
    }
    this._ignoreReplayEvents = false;
    const options = this.options;
    const lastActive = this._active || [];
    const active = this._getActiveElements(e, lastActive, replay, inChartArea);
    const positionChanged = this._positionChanged(active, e);
    const changed = replay || !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive) || positionChanged;
    if (changed) {
      this._active = active;
      if (options.enabled || options.external) {
        this._eventPosition = {
          x: e.x,
          y: e.y
        };
        this.update(true, replay);
      }
    }
    return changed;
  }
  _getActiveElements(e, lastActive, replay, inChartArea) {
    const options = this.options;
    if (e.type === 'mouseout') {
      return [];
    }
    if (!inChartArea) {
      return lastActive;
    }
    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);
    if (options.reverse) {
      active.reverse();
    }
    return active;
  }
  _positionChanged(active, e) {
    const {caretX, caretY, options} = this;
    const position = positioners[options.position].call(this, active, e);
    return position !== false && (caretX !== position.x || caretY !== position.y);
  }
}
Tooltip.positioners = positioners;
var plugin_tooltip = {
  id: 'tooltip',
  _element: Tooltip,
  positioners,
  afterInit(chart, _args, options) {
    if (options) {
      chart.tooltip = new Tooltip({chart, options});
    }
  },
  beforeUpdate(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  reset(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  afterDraw(chart) {
    const tooltip = chart.tooltip;
    if (tooltip && tooltip._willRender()) {
      const args = {
        tooltip
      };
      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {
        return;
      }
      tooltip.draw(chart.ctx);
      chart.notifyPlugins('afterTooltipDraw', args);
    }
  },
  afterEvent(chart, args) {
    if (chart.tooltip) {
      const useFinalPosition = args.replay;
      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {
        args.changed = true;
      }
    }
  },
  defaults: {
    enabled: true,
    external: null,
    position: 'average',
    backgroundColor: 'rgba(0,0,0,0.8)',
    titleColor: '#fff',
    titleFont: {
      weight: 'bold',
    },
    titleSpacing: 2,
    titleMarginBottom: 6,
    titleAlign: 'left',
    bodyColor: '#fff',
    bodySpacing: 2,
    bodyFont: {
    },
    bodyAlign: 'left',
    footerColor: '#fff',
    footerSpacing: 2,
    footerMarginTop: 6,
    footerFont: {
      weight: 'bold',
    },
    footerAlign: 'left',
    padding: 6,
    caretPadding: 2,
    caretSize: 5,
    cornerRadius: 6,
    boxHeight: (ctx, opts) => opts.bodyFont.size,
    boxWidth: (ctx, opts) => opts.bodyFont.size,
    multiKeyBackground: '#fff',
    displayColors: true,
    boxPadding: 0,
    borderColor: 'rgba(0,0,0,0)',
    borderWidth: 0,
    animation: {
      duration: 400,
      easing: 'easeOutQuart',
    },
    animations: {
      numbers: {
        type: 'number',
        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],
      },
      opacity: {
        easing: 'linear',
        duration: 200
      }
    },
    callbacks: {
      beforeTitle: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      title(tooltipItems) {
        if (tooltipItems.length > 0) {
          const item = tooltipItems[0];
          const labels = item.chart.data.labels;
          const labelCount = labels ? labels.length : 0;
          if (this && this.options && this.options.mode === 'dataset') {
            return item.dataset.label || '';
          } else if (item.label) {
            return item.label;
          } else if (labelCount > 0 && item.dataIndex < labelCount) {
            return labels[item.dataIndex];
          }
        }
        return '';
      },
      afterTitle: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeBody: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeLabel: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      label(tooltipItem) {
        if (this && this.options && this.options.mode === 'dataset') {
          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;
        }
        let label = tooltipItem.dataset.label || '';
        if (label) {
          label += ': ';
        }
        const value = tooltipItem.formattedValue;
        if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
          label += value;
        }
        return label;
      },
      labelColor(tooltipItem) {
        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
        const options = meta.controller.getStyle(tooltipItem.dataIndex);
        return {
          borderColor: options.borderColor,
          backgroundColor: options.backgroundColor,
          borderWidth: options.borderWidth,
          borderDash: options.borderDash,
          borderDashOffset: options.borderDashOffset,
          borderRadius: 0,
        };
      },
      labelTextColor() {
        return this.options.bodyColor;
      },
      labelPointStyle(tooltipItem) {
        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
        const options = meta.controller.getStyle(tooltipItem.dataIndex);
        return {
          pointStyle: options.pointStyle,
          rotation: options.rotation,
        };
      },
      afterLabel: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      afterBody: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeFooter: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      footer: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      afterFooter: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF
    }
  },
  defaultRoutes: {
    bodyFont: 'font',
    footerFont: 'font',
    titleFont: 'font'
  },
  descriptors: {
    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',
    _indexable: false,
    callbacks: {
      _scriptable: false,
      _indexable: false,
    },
    animation: {
      _fallback: false
    },
    animations: {
      _fallback: 'animation'
    }
  },
  additionalOptionScopes: ['interaction']
};

var plugins = /*#__PURE__*/Object.freeze({
__proto__: null,
Decimation: plugin_decimation,
Filler: index,
Legend: plugin_legend,
SubTitle: plugin_subtitle,
Title: plugin_title,
Tooltip: plugin_tooltip
});

const addIfString = (labels, raw, index, addedLabels) => {
  if (typeof raw === 'string') {
    index = labels.push(raw) - 1;
    addedLabels.unshift({index, label: raw});
  } else if (isNaN(raw)) {
    index = null;
  }
  return index;
};
function findOrAddLabel(labels, raw, index, addedLabels) {
  const first = labels.indexOf(raw);
  if (first === -1) {
    return addIfString(labels, raw, index, addedLabels);
  }
  const last = labels.lastIndexOf(raw);
  return first !== last ? index : first;
}
const validIndex = (index, max) => index === null ? null : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(Math.round(index), 0, max);
class CategoryScale extends Scale {
  constructor(cfg) {
    super(cfg);
    this._startValue = undefined;
    this._valueRange = 0;
    this._addedLabels = [];
  }
  init(scaleOptions) {
    const added = this._addedLabels;
    if (added.length) {
      const labels = this.getLabels();
      for (const {index, label} of added) {
        if (labels[index] === label) {
          labels.splice(index, 1);
        }
      }
      this._addedLabels = [];
    }
    super.init(scaleOptions);
  }
  parse(raw, index) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(raw)) {
      return null;
    }
    const labels = this.getLabels();
    index = isFinite(index) && labels[index] === raw ? index
      : findOrAddLabel(labels, raw, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(index, raw), this._addedLabels);
    return validIndex(index, labels.length - 1);
  }
  determineDataLimits() {
    const {minDefined, maxDefined} = this.getUserBounds();
    let {min, max} = this.getMinMax(true);
    if (this.options.bounds === 'ticks') {
      if (!minDefined) {
        min = 0;
      }
      if (!maxDefined) {
        max = this.getLabels().length - 1;
      }
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const min = this.min;
    const max = this.max;
    const offset = this.options.offset;
    const ticks = [];
    let labels = this.getLabels();
    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);
    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);
    this._startValue = this.min - (offset ? 0.5 : 0);
    for (let value = min; value <= max; value++) {
      ticks.push({value});
    }
    return ticks;
  }
  getLabelForValue(value) {
    const labels = this.getLabels();
    if (value >= 0 && value < labels.length) {
      return labels[value];
    }
    return value;
  }
  configure() {
    super.configure();
    if (!this.isHorizontal()) {
      this._reversePixels = !this._reversePixels;
    }
  }
  getPixelForValue(value) {
    if (typeof value !== 'number') {
      value = this.parse(value);
    }
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getPixelForTick(index) {
    const ticks = this.ticks;
    if (index < 0 || index > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index].value);
  }
  getValueForPixel(pixel) {
    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);
  }
  getBasePixel() {
    return this.bottom;
  }
}
CategoryScale.id = 'category';
CategoryScale.defaults = {
  ticks: {
    callback: CategoryScale.prototype.getLabelForValue
  }
};

function generateTicks$1(generationOptions, dataRange) {
  const ticks = [];
  const MIN_SPACING = 1e-14;
  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;
  const unit = step || 1;
  const maxSpaces = maxTicks - 1;
  const {min: rmin, max: rmax} = dataRange;
  const minDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(min);
  const maxDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(max);
  const countDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(count);
  const minSpacing = (rmax - rmin) / (maxDigits + 1);
  let spacing = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aI)((rmax - rmin) / maxSpaces / unit) * unit;
  let factor, niceMin, niceMax, numSpaces;
  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {
    return [{value: rmin}, {value: rmax}];
  }
  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);
  if (numSpaces > maxSpaces) {
    spacing = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aI)(numSpaces * spacing / maxSpaces / unit) * unit;
  }
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(precision)) {
    factor = Math.pow(10, precision);
    spacing = Math.ceil(spacing * factor) / factor;
  }
  if (bounds === 'ticks') {
    niceMin = Math.floor(rmin / spacing) * spacing;
    niceMax = Math.ceil(rmax / spacing) * spacing;
  } else {
    niceMin = rmin;
    niceMax = rmax;
  }
  if (minDefined && maxDefined && step && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aJ)((max - min) / step, spacing / 1000)) {
    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));
    spacing = (max - min) / numSpaces;
    niceMin = min;
    niceMax = max;
  } else if (countDefined) {
    niceMin = minDefined ? min : niceMin;
    niceMax = maxDefined ? max : niceMax;
    numSpaces = count - 1;
    spacing = (niceMax - niceMin) / numSpaces;
  } else {
    numSpaces = (niceMax - niceMin) / spacing;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(numSpaces, Math.round(numSpaces), spacing / 1000)) {
      numSpaces = Math.round(numSpaces);
    } else {
      numSpaces = Math.ceil(numSpaces);
    }
  }
  const decimalPlaces = Math.max(
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aL)(spacing),
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aL)(niceMin)
  );
  factor = Math.pow(10, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(precision) ? decimalPlaces : precision);
  niceMin = Math.round(niceMin * factor) / factor;
  niceMax = Math.round(niceMax * factor) / factor;
  let j = 0;
  if (minDefined) {
    if (includeBounds && niceMin !== min) {
      ticks.push({value: min});
      if (niceMin < min) {
        j++;
      }
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {
        j++;
      }
    } else if (niceMin < min) {
      j++;
    }
  }
  for (; j < numSpaces; ++j) {
    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});
  }
  if (maxDefined && includeBounds && niceMax !== max) {
    if (ticks.length && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {
      ticks[ticks.length - 1].value = max;
    } else {
      ticks.push({value: max});
    }
  } else if (!maxDefined || niceMax === max) {
    ticks.push({value: niceMax});
  }
  return ticks;
}
function relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {
  const rad = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(minRotation);
  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;
  const length = 0.75 * minSpacing * ('' + value).length;
  return Math.min(minSpacing / ratio, length);
}
class LinearScaleBase extends Scale {
  constructor(cfg) {
    super(cfg);
    this.start = undefined;
    this.end = undefined;
    this._startValue = undefined;
    this._endValue = undefined;
    this._valueRange = 0;
  }
  parse(raw, index) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(raw)) {
      return null;
    }
    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {
      return null;
    }
    return +raw;
  }
  handleTickRangeOptions() {
    const {beginAtZero} = this.options;
    const {minDefined, maxDefined} = this.getUserBounds();
    let {min, max} = this;
    const setMin = v => (min = minDefined ? min : v);
    const setMax = v => (max = maxDefined ? max : v);
    if (beginAtZero) {
      const minSign = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(min);
      const maxSign = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(max);
      if (minSign < 0 && maxSign < 0) {
        setMax(0);
      } else if (minSign > 0 && maxSign > 0) {
        setMin(0);
      }
    }
    if (min === max) {
      let offset = 1;
      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {
        offset = Math.abs(max * 0.05);
      }
      setMax(max + offset);
      if (!beginAtZero) {
        setMin(min - offset);
      }
    }
    this.min = min;
    this.max = max;
  }
  getTickLimit() {
    const tickOpts = this.options.ticks;
    let {maxTicksLimit, stepSize} = tickOpts;
    let maxTicks;
    if (stepSize) {
      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;
      if (maxTicks > 1000) {
        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);
        maxTicks = 1000;
      }
    } else {
      maxTicks = this.computeTickLimit();
      maxTicksLimit = maxTicksLimit || 11;
    }
    if (maxTicksLimit) {
      maxTicks = Math.min(maxTicksLimit, maxTicks);
    }
    return maxTicks;
  }
  computeTickLimit() {
    return Number.POSITIVE_INFINITY;
  }
  buildTicks() {
    const opts = this.options;
    const tickOpts = opts.ticks;
    let maxTicks = this.getTickLimit();
    maxTicks = Math.max(2, maxTicks);
    const numericGeneratorOptions = {
      maxTicks,
      bounds: opts.bounds,
      min: opts.min,
      max: opts.max,
      precision: tickOpts.precision,
      step: tickOpts.stepSize,
      count: tickOpts.count,
      maxDigits: this._maxDigits(),
      horizontal: this.isHorizontal(),
      minRotation: tickOpts.minRotation || 0,
      includeBounds: tickOpts.includeBounds !== false
    };
    const dataRange = this._range || this;
    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);
    if (opts.bounds === 'ticks') {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aH)(ticks, this, 'value');
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  configure() {
    const ticks = this.ticks;
    let start = this.min;
    let end = this.max;
    super.configure();
    if (this.options.offset && ticks.length) {
      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;
      start -= offset;
      end += offset;
    }
    this._startValue = start;
    this._endValue = end;
    this._valueRange = end - start;
  }
  getLabelForValue(value) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(value, this.chart.options.locale, this.options.ticks.format);
  }
}

class LinearScale extends LinearScaleBase {
  determineDataLimits() {
    const {min, max} = this.getMinMax(true);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) ? min : 0;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) ? max : 1;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    const horizontal = this.isHorizontal();
    const length = horizontal ? this.width : this.height;
    const minRotation = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.ticks.minRotation);
    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;
    const tickFont = this._resolveTickFontOptions(0);
    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));
  }
  getPixelForValue(value) {
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;
  }
}
LinearScale.id = 'linear';
LinearScale.defaults = {
  ticks: {
    callback: Ticks.formatters.numeric
  }
};

function isMajor(tickVal) {
  const remain = tickVal / (Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickVal))));
  return remain === 1;
}
function generateTicks(generationOptions, dataRange) {
  const endExp = Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(dataRange.max));
  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));
  const ticks = [];
  let tickVal = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(generationOptions.min, Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(dataRange.min))));
  let exp = Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickVal));
  let significand = Math.floor(tickVal / Math.pow(10, exp));
  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;
  do {
    ticks.push({value: tickVal, major: isMajor(tickVal)});
    ++significand;
    if (significand === 10) {
      significand = 1;
      ++exp;
      precision = exp >= 0 ? 1 : precision;
    }
    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;
  } while (exp < endExp || (exp === endExp && significand < endSignificand));
  const lastTick = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(generationOptions.max, tickVal);
  ticks.push({value: lastTick, major: isMajor(tickVal)});
  return ticks;
}
class LogarithmicScale extends Scale {
  constructor(cfg) {
    super(cfg);
    this.start = undefined;
    this.end = undefined;
    this._startValue = undefined;
    this._valueRange = 0;
  }
  parse(raw, index) {
    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);
    if (value === 0) {
      this._zero = true;
      return undefined;
    }
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value) && value > 0 ? value : null;
  }
  determineDataLimits() {
    const {min, max} = this.getMinMax(true);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) ? Math.max(0, min) : null;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) ? Math.max(0, max) : null;
    if (this.options.beginAtZero) {
      this._zero = true;
    }
    this.handleTickRangeOptions();
  }
  handleTickRangeOptions() {
    const {minDefined, maxDefined} = this.getUserBounds();
    let min = this.min;
    let max = this.max;
    const setMin = v => (min = minDefined ? min : v);
    const setMax = v => (max = maxDefined ? max : v);
    const exp = (v, m) => Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(v)) + m);
    if (min === max) {
      if (min <= 0) {
        setMin(1);
        setMax(10);
      } else {
        setMin(exp(min, -1));
        setMax(exp(max, +1));
      }
    }
    if (min <= 0) {
      setMin(exp(max, -1));
    }
    if (max <= 0) {
      setMax(exp(min, +1));
    }
    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {
      setMin(exp(min, -1));
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const opts = this.options;
    const generationOptions = {
      min: this._userMin,
      max: this._userMax
    };
    const ticks = generateTicks(generationOptions, this);
    if (opts.bounds === 'ticks') {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aH)(ticks, this, 'value');
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  getLabelForValue(value) {
    return value === undefined
      ? '0'
      : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(value, this.chart.options.locale, this.options.ticks.format);
  }
  configure() {
    const start = this.min;
    super.configure();
    this._startValue = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(start);
    this._valueRange = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(this.max) - (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(start);
  }
  getPixelForValue(value) {
    if (value === undefined || value === 0) {
      value = this.min;
    }
    if (value === null || isNaN(value)) {
      return NaN;
    }
    return this.getPixelForDecimal(value === this.min
      ? 0
      : ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(value) - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    const decimal = this.getDecimalForPixel(pixel);
    return Math.pow(10, this._startValue + decimal * this._valueRange);
  }
}
LogarithmicScale.id = 'logarithmic';
LogarithmicScale.defaults = {
  ticks: {
    callback: Ticks.formatters.logarithmic,
    major: {
      enabled: true
    }
  }
};

function getTickBackdropHeight(opts) {
  const tickOpts = opts.ticks;
  if (tickOpts.display && opts.display) {
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(tickOpts.backdropPadding);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(tickOpts.font && tickOpts.font.size, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.font.size) + padding.height;
  }
  return 0;
}
function measureLabelSize(ctx, font, label) {
  label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label) ? label : [label];
  return {
    w: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aM)(ctx, font.string, label),
    h: label.length * font.lineHeight
  };
}
function determineLimits(angle, pos, size, min, max) {
  if (angle === min || angle === max) {
    return {
      start: pos - (size / 2),
      end: pos + (size / 2)
    };
  } else if (angle < min || angle > max) {
    return {
      start: pos - size,
      end: pos
    };
  }
  return {
    start: pos,
    end: pos + size
  };
}
function fitWithPointLabels(scale) {
  const orig = {
    l: scale.left + scale._padding.left,
    r: scale.right - scale._padding.right,
    t: scale.top + scale._padding.top,
    b: scale.bottom - scale._padding.bottom
  };
  const limits = Object.assign({}, orig);
  const labelSizes = [];
  const padding = [];
  const valueCount = scale._pointLabels.length;
  const pointLabelOpts = scale.options.pointLabels;
  const additionalAngle = pointLabelOpts.centerPointLabels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P / valueCount : 0;
  for (let i = 0; i < valueCount; i++) {
    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));
    padding[i] = opts.padding;
    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);
    const plFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);
    labelSizes[i] = textSize;
    const angleRadians = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(scale.getIndexAngle(i) + additionalAngle);
    const angle = Math.round((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)(angleRadians));
    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);
    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);
    updateLimits(limits, orig, angleRadians, hLimits, vLimits);
  }
  scale.setCenterPoint(
    orig.l - limits.l,
    limits.r - orig.r,
    orig.t - limits.t,
    limits.b - orig.b
  );
  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);
}
function updateLimits(limits, orig, angle, hLimits, vLimits) {
  const sin = Math.abs(Math.sin(angle));
  const cos = Math.abs(Math.cos(angle));
  let x = 0;
  let y = 0;
  if (hLimits.start < orig.l) {
    x = (orig.l - hLimits.start) / sin;
    limits.l = Math.min(limits.l, orig.l - x);
  } else if (hLimits.end > orig.r) {
    x = (hLimits.end - orig.r) / sin;
    limits.r = Math.max(limits.r, orig.r + x);
  }
  if (vLimits.start < orig.t) {
    y = (orig.t - vLimits.start) / cos;
    limits.t = Math.min(limits.t, orig.t - y);
  } else if (vLimits.end > orig.b) {
    y = (vLimits.end - orig.b) / cos;
    limits.b = Math.max(limits.b, orig.b + y);
  }
}
function buildPointLabelItems(scale, labelSizes, padding) {
  const items = [];
  const valueCount = scale._pointLabels.length;
  const opts = scale.options;
  const extra = getTickBackdropHeight(opts) / 2;
  const outerDistance = scale.drawingArea;
  const additionalAngle = opts.pointLabels.centerPointLabels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P / valueCount : 0;
  for (let i = 0; i < valueCount; i++) {
    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);
    const angle = Math.round((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(pointLabelPosition.angle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H)));
    const size = labelSizes[i];
    const y = yForAngle(pointLabelPosition.y, size.h, angle);
    const textAlign = getTextAlignForAngle(angle);
    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);
    items.push({
      x: pointLabelPosition.x,
      y,
      textAlign,
      left,
      top: y,
      right: left + size.w,
      bottom: y + size.h
    });
  }
  return items;
}
function getTextAlignForAngle(angle) {
  if (angle === 0 || angle === 180) {
    return 'center';
  } else if (angle < 180) {
    return 'left';
  }
  return 'right';
}
function leftForTextAlign(x, w, align) {
  if (align === 'right') {
    x -= w;
  } else if (align === 'center') {
    x -= (w / 2);
  }
  return x;
}
function yForAngle(y, h, angle) {
  if (angle === 90 || angle === 270) {
    y -= (h / 2);
  } else if (angle > 270 || angle < 90) {
    y -= h;
  }
  return y;
}
function drawPointLabels(scale, labelCount) {
  const {ctx, options: {pointLabels}} = scale;
  for (let i = labelCount - 1; i >= 0; i--) {
    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));
    const plFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(optsAtIndex.font);
    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];
    const {backdropColor} = optsAtIndex;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(backdropColor)) {
      const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(optsAtIndex.borderRadius);
      const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
      ctx.fillStyle = backdropColor;
      const backdropLeft = left - padding.left;
      const backdropTop = top - padding.top;
      const backdropWidth = right - left + padding.width;
      const backdropHeight = bottom - top + padding.height;
      if (Object.values(borderRadius).some(v => v !== 0)) {
        ctx.beginPath();
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: backdropLeft,
          y: backdropTop,
          w: backdropWidth,
          h: backdropHeight,
          radius: borderRadius,
        });
        ctx.fill();
      } else {
        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);
      }
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(
      ctx,
      scale._pointLabels[i],
      x,
      y + (plFont.lineHeight / 2),
      plFont,
      {
        color: optsAtIndex.color,
        textAlign: textAlign,
        textBaseline: 'middle'
      }
    );
  }
}
function pathRadiusLine(scale, radius, circular, labelCount) {
  const {ctx} = scale;
  if (circular) {
    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  } else {
    let pointPosition = scale.getPointPosition(0, radius);
    ctx.moveTo(pointPosition.x, pointPosition.y);
    for (let i = 1; i < labelCount; i++) {
      pointPosition = scale.getPointPosition(i, radius);
      ctx.lineTo(pointPosition.x, pointPosition.y);
    }
  }
}
function drawRadiusLine(scale, gridLineOpts, radius, labelCount) {
  const ctx = scale.ctx;
  const circular = gridLineOpts.circular;
  const {color, lineWidth} = gridLineOpts;
  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {
    return;
  }
  ctx.save();
  ctx.strokeStyle = color;
  ctx.lineWidth = lineWidth;
  ctx.setLineDash(gridLineOpts.borderDash);
  ctx.lineDashOffset = gridLineOpts.borderDashOffset;
  ctx.beginPath();
  pathRadiusLine(scale, radius, circular, labelCount);
  ctx.closePath();
  ctx.stroke();
  ctx.restore();
}
function createPointLabelContext(parent, index, label) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    label,
    index,
    type: 'pointLabel'
  });
}
class RadialLinearScale extends LinearScaleBase {
  constructor(cfg) {
    super(cfg);
    this.xCenter = undefined;
    this.yCenter = undefined;
    this.drawingArea = undefined;
    this._pointLabels = [];
    this._pointLabelItems = [];
  }
  setDimensions() {
    const padding = this._padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(getTickBackdropHeight(this.options) / 2);
    const w = this.width = this.maxWidth - padding.width;
    const h = this.height = this.maxHeight - padding.height;
    this.xCenter = Math.floor(this.left + w / 2 + padding.left);
    this.yCenter = Math.floor(this.top + h / 2 + padding.top);
    this.drawingArea = Math.floor(Math.min(w, h) / 2);
  }
  determineDataLimits() {
    const {min, max} = this.getMinMax(false);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) && !isNaN(min) ? min : 0;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) && !isNaN(max) ? max : 0;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));
  }
  generateTickLabels(ticks) {
    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);
    this._pointLabels = this.getLabels()
      .map((value, index) => {
        const label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.pointLabels.callback, [value, index], this);
        return label || label === 0 ? label : '';
      })
      .filter((v, i) => this.chart.getDataVisibility(i));
  }
  fit() {
    const opts = this.options;
    if (opts.display && opts.pointLabels.display) {
      fitWithPointLabels(this);
    } else {
      this.setCenterPoint(0, 0, 0, 0);
    }
  }
  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {
    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);
    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);
    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));
  }
  getIndexAngle(index) {
    const angleMultiplier = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T / (this._pointLabels.length || 1);
    const startAngle = this.options.startAngle || 0;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(index * angleMultiplier + (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(startAngle));
  }
  getDistanceFromCenterForValue(value) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
      return NaN;
    }
    const scalingFactor = this.drawingArea / (this.max - this.min);
    if (this.options.reverse) {
      return (this.max - value) * scalingFactor;
    }
    return (value - this.min) * scalingFactor;
  }
  getValueForDistanceFromCenter(distance) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(distance)) {
      return NaN;
    }
    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));
    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;
  }
  getPointLabelContext(index) {
    const pointLabels = this._pointLabels || [];
    if (index >= 0 && index < pointLabels.length) {
      const pointLabel = pointLabels[index];
      return createPointLabelContext(this.getContext(), index, pointLabel);
    }
  }
  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {
    const angle = this.getIndexAngle(index) - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H + additionalAngle;
    return {
      x: Math.cos(angle) * distanceFromCenter + this.xCenter,
      y: Math.sin(angle) * distanceFromCenter + this.yCenter,
      angle
    };
  }
  getPointPositionForValue(index, value) {
    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));
  }
  getBasePosition(index) {
    return this.getPointPositionForValue(index || 0, this.getBaseValue());
  }
  getPointLabelPosition(index) {
    const {left, top, right, bottom} = this._pointLabelItems[index];
    return {
      left,
      top,
      right,
      bottom,
    };
  }
  drawBackground() {
    const {backgroundColor, grid: {circular}} = this.options;
    if (backgroundColor) {
      const ctx = this.ctx;
      ctx.save();
      ctx.beginPath();
      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);
      ctx.closePath();
      ctx.fillStyle = backgroundColor;
      ctx.fill();
      ctx.restore();
    }
  }
  drawGrid() {
    const ctx = this.ctx;
    const opts = this.options;
    const {angleLines, grid} = opts;
    const labelCount = this._pointLabels.length;
    let i, offset, position;
    if (opts.pointLabels.display) {
      drawPointLabels(this, labelCount);
    }
    if (grid.display) {
      this.ticks.forEach((tick, index) => {
        if (index !== 0) {
          offset = this.getDistanceFromCenterForValue(tick.value);
          const optsAtIndex = grid.setContext(this.getContext(index - 1));
          drawRadiusLine(this, optsAtIndex, offset, labelCount);
        }
      });
    }
    if (angleLines.display) {
      ctx.save();
      for (i = labelCount - 1; i >= 0; i--) {
        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));
        const {color, lineWidth} = optsAtIndex;
        if (!lineWidth || !color) {
          continue;
        }
        ctx.lineWidth = lineWidth;
        ctx.strokeStyle = color;
        ctx.setLineDash(optsAtIndex.borderDash);
        ctx.lineDashOffset = optsAtIndex.borderDashOffset;
        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);
        position = this.getPointPosition(i, offset);
        ctx.beginPath();
        ctx.moveTo(this.xCenter, this.yCenter);
        ctx.lineTo(position.x, position.y);
        ctx.stroke();
      }
      ctx.restore();
    }
  }
  drawBorder() {}
  drawLabels() {
    const ctx = this.ctx;
    const opts = this.options;
    const tickOpts = opts.ticks;
    if (!tickOpts.display) {
      return;
    }
    const startAngle = this.getIndexAngle(0);
    let offset, width;
    ctx.save();
    ctx.translate(this.xCenter, this.yCenter);
    ctx.rotate(startAngle);
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    this.ticks.forEach((tick, index) => {
      if (index === 0 && !opts.reverse) {
        return;
      }
      const optsAtIndex = tickOpts.setContext(this.getContext(index));
      const tickFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(optsAtIndex.font);
      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);
      if (optsAtIndex.showLabelBackdrop) {
        ctx.font = tickFont.string;
        width = ctx.measureText(tick.label).width;
        ctx.fillStyle = optsAtIndex.backdropColor;
        const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
        ctx.fillRect(
          -width / 2 - padding.left,
          -offset - tickFont.size / 2 - padding.top,
          width + padding.width,
          tickFont.size + padding.height
        );
      }
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, tick.label, 0, -offset, tickFont, {
        color: optsAtIndex.color,
      });
    });
    ctx.restore();
  }
  drawTitle() {}
}
RadialLinearScale.id = 'radialLinear';
RadialLinearScale.defaults = {
  display: true,
  animate: true,
  position: 'chartArea',
  angleLines: {
    display: true,
    lineWidth: 1,
    borderDash: [],
    borderDashOffset: 0.0
  },
  grid: {
    circular: false
  },
  startAngle: 0,
  ticks: {
    showLabelBackdrop: true,
    callback: Ticks.formatters.numeric
  },
  pointLabels: {
    backdropColor: undefined,
    backdropPadding: 2,
    display: true,
    font: {
      size: 10
    },
    callback(label) {
      return label;
    },
    padding: 5,
    centerPointLabels: false
  }
};
RadialLinearScale.defaultRoutes = {
  'angleLines.color': 'borderColor',
  'pointLabels.color': 'color',
  'ticks.color': 'color'
};
RadialLinearScale.descriptors = {
  angleLines: {
    _fallback: 'grid'
  }
};

const INTERVALS = {
  millisecond: {common: true, size: 1, steps: 1000},
  second: {common: true, size: 1000, steps: 60},
  minute: {common: true, size: 60000, steps: 60},
  hour: {common: true, size: 3600000, steps: 24},
  day: {common: true, size: 86400000, steps: 30},
  week: {common: false, size: 604800000, steps: 4},
  month: {common: true, size: 2.628e9, steps: 12},
  quarter: {common: false, size: 7.884e9, steps: 4},
  year: {common: true, size: 3.154e10}
};
const UNITS = (Object.keys(INTERVALS));
function sorter(a, b) {
  return a - b;
}
function parse(scale, input) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(input)) {
    return null;
  }
  const adapter = scale._adapter;
  const {parser, round, isoWeekday} = scale._parseOpts;
  let value = input;
  if (typeof parser === 'function') {
    value = parser(value);
  }
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value)) {
    value = typeof parser === 'string'
      ? adapter.parse(value, parser)
      : adapter.parse(value);
  }
  if (value === null) {
    return null;
  }
  if (round) {
    value = round === 'week' && ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(isoWeekday) || isoWeekday === true)
      ? adapter.startOf(value, 'isoWeek', isoWeekday)
      : adapter.startOf(value, round);
  }
  return +value;
}
function determineUnitForAutoTicks(minUnit, min, max, capacity) {
  const ilen = UNITS.length;
  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {
    const interval = INTERVALS[UNITS[i]];
    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;
    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {
      return UNITS[i];
    }
  }
  return UNITS[ilen - 1];
}
function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {
  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {
    const unit = UNITS[i];
    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {
      return unit;
    }
  }
  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];
}
function determineMajorUnit(unit) {
  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {
    if (INTERVALS[UNITS[i]].common) {
      return UNITS[i];
    }
  }
}
function addTick(ticks, time, timestamps) {
  if (!timestamps) {
    ticks[time] = true;
  } else if (timestamps.length) {
    const {lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aO)(timestamps, time);
    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];
    ticks[timestamp] = true;
  }
}
function setMajorTicks(scale, ticks, map, majorUnit) {
  const adapter = scale._adapter;
  const first = +adapter.startOf(ticks[0].value, majorUnit);
  const last = ticks[ticks.length - 1].value;
  let major, index;
  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {
    index = map[major];
    if (index >= 0) {
      ticks[index].major = true;
    }
  }
  return ticks;
}
function ticksFromTimestamps(scale, values, majorUnit) {
  const ticks = [];
  const map = {};
  const ilen = values.length;
  let i, value;
  for (i = 0; i < ilen; ++i) {
    value = values[i];
    map[value] = i;
    ticks.push({
      value,
      major: false
    });
  }
  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);
}
class TimeScale extends Scale {
  constructor(props) {
    super(props);
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
    this._unit = 'day';
    this._majorUnit = undefined;
    this._offsets = {};
    this._normalized = false;
    this._parseOpts = undefined;
  }
  init(scaleOpts, opts) {
    const time = scaleOpts.time || (scaleOpts.time = {});
    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);
    adapter.init(opts);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(time.displayFormats, adapter.formats());
    this._parseOpts = {
      parser: time.parser,
      round: time.round,
      isoWeekday: time.isoWeekday
    };
    super.init(scaleOpts);
    this._normalized = opts.normalized;
  }
  parse(raw, index) {
    if (raw === undefined) {
      return null;
    }
    return parse(this, raw);
  }
  beforeLayout() {
    super.beforeLayout();
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
  }
  determineDataLimits() {
    const options = this.options;
    const adapter = this._adapter;
    const unit = options.time.unit || 'day';
    let {min, max, minDefined, maxDefined} = this.getUserBounds();
    function _applyBounds(bounds) {
      if (!minDefined && !isNaN(bounds.min)) {
        min = Math.min(min, bounds.min);
      }
      if (!maxDefined && !isNaN(bounds.max)) {
        max = Math.max(max, bounds.max);
      }
    }
    if (!minDefined || !maxDefined) {
      _applyBounds(this._getLabelBounds());
      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {
        _applyBounds(this.getMinMax(false));
      }
    }
    min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);
    max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;
    this.min = Math.min(min, max - 1);
    this.max = Math.max(min + 1, max);
  }
  _getLabelBounds() {
    const arr = this.getLabelTimestamps();
    let min = Number.POSITIVE_INFINITY;
    let max = Number.NEGATIVE_INFINITY;
    if (arr.length) {
      min = arr[0];
      max = arr[arr.length - 1];
    }
    return {min, max};
  }
  buildTicks() {
    const options = this.options;
    const timeOpts = options.time;
    const tickOpts = options.ticks;
    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();
    if (options.bounds === 'ticks' && timestamps.length) {
      this.min = this._userMin || timestamps[0];
      this.max = this._userMax || timestamps[timestamps.length - 1];
    }
    const min = this.min;
    const max = this.max;
    const ticks = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aN)(timestamps, min, max);
    this._unit = timeOpts.unit || (tickOpts.autoSkip
      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))
      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));
    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined
      : determineMajorUnit(this._unit);
    this.initOffsets(timestamps);
    if (options.reverse) {
      ticks.reverse();
    }
    return ticksFromTimestamps(this, ticks, this._majorUnit);
  }
  afterAutoSkip() {
    if (this.options.offsetAfterAutoskip) {
      this.initOffsets(this.ticks.map(tick => +tick.value));
    }
  }
  initOffsets(timestamps) {
    let start = 0;
    let end = 0;
    let first, last;
    if (this.options.offset && timestamps.length) {
      first = this.getDecimalForValue(timestamps[0]);
      if (timestamps.length === 1) {
        start = 1 - first;
      } else {
        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;
      }
      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);
      if (timestamps.length === 1) {
        end = last;
      } else {
        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;
      }
    }
    const limit = timestamps.length < 3 ? 0.5 : 0.25;
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(start, 0, limit);
    end = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(end, 0, limit);
    this._offsets = {start, end, factor: 1 / (start + 1 + end)};
  }
  _generate() {
    const adapter = this._adapter;
    const min = this.min;
    const max = this.max;
    const options = this.options;
    const timeOpts = options.time;
    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));
    const stepSize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(timeOpts.stepSize, 1);
    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;
    const hasWeekday = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(weekday) || weekday === true;
    const ticks = {};
    let first = min;
    let time, count;
    if (hasWeekday) {
      first = +adapter.startOf(first, 'isoWeek', weekday);
    }
    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);
    if (adapter.diff(max, min, minor) > 100000 * stepSize) {
      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);
    }
    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();
    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {
      addTick(ticks, time, timestamps);
    }
    if (time === max || options.bounds === 'ticks' || count === 1) {
      addTick(ticks, time, timestamps);
    }
    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);
  }
  getLabelForValue(value) {
    const adapter = this._adapter;
    const timeOpts = this.options.time;
    if (timeOpts.tooltipFormat) {
      return adapter.format(value, timeOpts.tooltipFormat);
    }
    return adapter.format(value, timeOpts.displayFormats.datetime);
  }
  _tickFormatFunction(time, index, ticks, format) {
    const options = this.options;
    const formats = options.time.displayFormats;
    const unit = this._unit;
    const majorUnit = this._majorUnit;
    const minorFormat = unit && formats[unit];
    const majorFormat = majorUnit && formats[majorUnit];
    const tick = ticks[index];
    const major = majorUnit && majorFormat && tick && tick.major;
    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));
    const formatter = options.ticks.callback;
    return formatter ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(formatter, [label, index, ticks], this) : label;
  }
  generateTickLabels(ticks) {
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      tick.label = this._tickFormatFunction(tick.value, i, ticks);
    }
  }
  getDecimalForValue(value) {
    return value === null ? NaN : (value - this.min) / (this.max - this.min);
  }
  getPixelForValue(value) {
    const offsets = this._offsets;
    const pos = this.getDecimalForValue(value);
    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return this.min + pos * (this.max - this.min);
  }
  _getLabelSize(label) {
    const ticksOpts = this.options.ticks;
    const tickLabelWidth = this.ctx.measureText(label).width;
    const angle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);
    const cosRotation = Math.cos(angle);
    const sinRotation = Math.sin(angle);
    const tickFontSize = this._resolveTickFontOptions(0).size;
    return {
      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),
      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)
    };
  }
  _getLabelCapacity(exampleTime) {
    const timeOpts = this.options.time;
    const displayFormats = timeOpts.displayFormats;
    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;
    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);
    const size = this._getLabelSize(exampleLabel);
    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;
    return capacity > 0 ? capacity : 1;
  }
  getDataTimestamps() {
    let timestamps = this._cache.data || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const metas = this.getMatchingVisibleMetas();
    if (this._normalized && metas.length) {
      return (this._cache.data = metas[0].controller.getAllParsedValues(this));
    }
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));
    }
    return (this._cache.data = this.normalize(timestamps));
  }
  getLabelTimestamps() {
    const timestamps = this._cache.labels || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const labels = this.getLabels();
    for (i = 0, ilen = labels.length; i < ilen; ++i) {
      timestamps.push(parse(this, labels[i]));
    }
    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));
  }
  normalize(values) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__._)(values.sort(sorter));
  }
}
TimeScale.id = 'time';
TimeScale.defaults = {
  bounds: 'data',
  adapters: {},
  time: {
    parser: false,
    unit: false,
    round: false,
    isoWeekday: false,
    minUnit: 'millisecond',
    displayFormats: {}
  },
  ticks: {
    source: 'auto',
    major: {
      enabled: false
    }
  }
};

function interpolate(table, val, reverse) {
  let lo = 0;
  let hi = table.length - 1;
  let prevSource, nextSource, prevTarget, nextTarget;
  if (reverse) {
    if (val >= table[lo].pos && val <= table[hi].pos) {
      ({lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(table, 'pos', val));
    }
    ({pos: prevSource, time: prevTarget} = table[lo]);
    ({pos: nextSource, time: nextTarget} = table[hi]);
  } else {
    if (val >= table[lo].time && val <= table[hi].time) {
      ({lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(table, 'time', val));
    }
    ({time: prevSource, pos: prevTarget} = table[lo]);
    ({time: nextSource, pos: nextTarget} = table[hi]);
  }
  const span = nextSource - prevSource;
  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;
}
class TimeSeriesScale extends TimeScale {
  constructor(props) {
    super(props);
    this._table = [];
    this._minPos = undefined;
    this._tableRange = undefined;
  }
  initOffsets() {
    const timestamps = this._getTimestampsForTable();
    const table = this._table = this.buildLookupTable(timestamps);
    this._minPos = interpolate(table, this.min);
    this._tableRange = interpolate(table, this.max) - this._minPos;
    super.initOffsets(timestamps);
  }
  buildLookupTable(timestamps) {
    const {min, max} = this;
    const items = [];
    const table = [];
    let i, ilen, prev, curr, next;
    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {
      curr = timestamps[i];
      if (curr >= min && curr <= max) {
        items.push(curr);
      }
    }
    if (items.length < 2) {
      return [
        {time: min, pos: 0},
        {time: max, pos: 1}
      ];
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      next = items[i + 1];
      prev = items[i - 1];
      curr = items[i];
      if (Math.round((next + prev) / 2) !== curr) {
        table.push({time: curr, pos: i / (ilen - 1)});
      }
    }
    return table;
  }
  _getTimestampsForTable() {
    let timestamps = this._cache.all || [];
    if (timestamps.length) {
      return timestamps;
    }
    const data = this.getDataTimestamps();
    const label = this.getLabelTimestamps();
    if (data.length && label.length) {
      timestamps = this.normalize(data.concat(label));
    } else {
      timestamps = data.length ? data : label;
    }
    timestamps = this._cache.all = timestamps;
    return timestamps;
  }
  getDecimalForValue(value) {
    return (interpolate(this._table, value) - this._minPos) / this._tableRange;
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);
  }
}
TimeSeriesScale.id = 'timeseries';
TimeSeriesScale.defaults = TimeScale.defaults;

var scales = /*#__PURE__*/Object.freeze({
__proto__: null,
CategoryScale: CategoryScale,
LinearScale: LinearScale,
LogarithmicScale: LogarithmicScale,
RadialLinearScale: RadialLinearScale,
TimeScale: TimeScale,
TimeSeriesScale: TimeSeriesScale
});

const registerables = [
  controllers,
  elements,
  plugins,
  scales,
];




/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chunks\\helpers.segment.mjs":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\dist\chunks\helpers.segment.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$": () => (/* binding */ _isPointInArea),
/* harmony export */   "A": () => (/* binding */ _factorize),
/* harmony export */   "B": () => (/* binding */ finiteOrDefault),
/* harmony export */   "C": () => (/* binding */ callback),
/* harmony export */   "D": () => (/* binding */ _addGrace),
/* harmony export */   "E": () => (/* binding */ _limitValue),
/* harmony export */   "F": () => (/* binding */ toDegrees),
/* harmony export */   "G": () => (/* binding */ _measureText),
/* harmony export */   "H": () => (/* binding */ HALF_PI),
/* harmony export */   "I": () => (/* binding */ _int16Range),
/* harmony export */   "J": () => (/* binding */ _alignPixel),
/* harmony export */   "K": () => (/* binding */ toPadding),
/* harmony export */   "L": () => (/* binding */ clipArea),
/* harmony export */   "M": () => (/* binding */ renderText),
/* harmony export */   "N": () => (/* binding */ unclipArea),
/* harmony export */   "O": () => (/* binding */ toFont),
/* harmony export */   "P": () => (/* binding */ PI),
/* harmony export */   "Q": () => (/* binding */ each),
/* harmony export */   "R": () => (/* binding */ _toLeftRightCenter),
/* harmony export */   "S": () => (/* binding */ _alignStartEnd),
/* harmony export */   "T": () => (/* binding */ TAU),
/* harmony export */   "U": () => (/* binding */ overrides),
/* harmony export */   "V": () => (/* binding */ merge),
/* harmony export */   "W": () => (/* binding */ _capitalize),
/* harmony export */   "X": () => (/* binding */ getRelativePosition),
/* harmony export */   "Y": () => (/* binding */ _rlookupByKey),
/* harmony export */   "Z": () => (/* binding */ _lookupByKey),
/* harmony export */   "_": () => (/* binding */ _arrayUnique),
/* harmony export */   "a": () => (/* binding */ resolve),
/* harmony export */   "a$": () => (/* binding */ toLineHeight),
/* harmony export */   "a0": () => (/* binding */ getAngleFromPoint),
/* harmony export */   "a1": () => (/* binding */ getMaximumSize),
/* harmony export */   "a2": () => (/* binding */ _getParentNode),
/* harmony export */   "a3": () => (/* binding */ readUsedSize),
/* harmony export */   "a4": () => (/* binding */ throttled),
/* harmony export */   "a5": () => (/* binding */ supportsEventListenerOptions),
/* harmony export */   "a6": () => (/* binding */ _isDomSupported),
/* harmony export */   "a7": () => (/* binding */ descriptors),
/* harmony export */   "a8": () => (/* binding */ isFunction),
/* harmony export */   "a9": () => (/* binding */ _attachContext),
/* harmony export */   "aA": () => (/* binding */ getRtlAdapter),
/* harmony export */   "aB": () => (/* binding */ overrideTextDirection),
/* harmony export */   "aC": () => (/* binding */ _textX),
/* harmony export */   "aD": () => (/* binding */ restoreTextDirection),
/* harmony export */   "aE": () => (/* binding */ drawPointLegend),
/* harmony export */   "aF": () => (/* binding */ noop),
/* harmony export */   "aG": () => (/* binding */ distanceBetweenPoints),
/* harmony export */   "aH": () => (/* binding */ _setMinAndMaxByKey),
/* harmony export */   "aI": () => (/* binding */ niceNum),
/* harmony export */   "aJ": () => (/* binding */ almostWhole),
/* harmony export */   "aK": () => (/* binding */ almostEquals),
/* harmony export */   "aL": () => (/* binding */ _decimalPlaces),
/* harmony export */   "aM": () => (/* binding */ _longestText),
/* harmony export */   "aN": () => (/* binding */ _filterBetween),
/* harmony export */   "aO": () => (/* binding */ _lookup),
/* harmony export */   "aP": () => (/* binding */ isPatternOrGradient),
/* harmony export */   "aQ": () => (/* binding */ getHoverColor),
/* harmony export */   "aR": () => (/* binding */ clone$1),
/* harmony export */   "aS": () => (/* binding */ _merger),
/* harmony export */   "aT": () => (/* binding */ _mergerIf),
/* harmony export */   "aU": () => (/* binding */ _deprecated),
/* harmony export */   "aV": () => (/* binding */ _splitKey),
/* harmony export */   "aW": () => (/* binding */ toFontString),
/* harmony export */   "aX": () => (/* binding */ splineCurve),
/* harmony export */   "aY": () => (/* binding */ splineCurveMonotone),
/* harmony export */   "aZ": () => (/* binding */ getStyle),
/* harmony export */   "a_": () => (/* binding */ fontString),
/* harmony export */   "aa": () => (/* binding */ _createResolver),
/* harmony export */   "ab": () => (/* binding */ _descriptors),
/* harmony export */   "ac": () => (/* binding */ mergeIf),
/* harmony export */   "ad": () => (/* binding */ uid),
/* harmony export */   "ae": () => (/* binding */ debounce),
/* harmony export */   "af": () => (/* binding */ retinaScale),
/* harmony export */   "ag": () => (/* binding */ clearCanvas),
/* harmony export */   "ah": () => (/* binding */ setsEqual),
/* harmony export */   "ai": () => (/* binding */ _elementsEqual),
/* harmony export */   "aj": () => (/* binding */ _isClickEvent),
/* harmony export */   "ak": () => (/* binding */ _isBetween),
/* harmony export */   "al": () => (/* binding */ _readValueToProps),
/* harmony export */   "am": () => (/* binding */ _updateBezierControlPoints),
/* harmony export */   "an": () => (/* binding */ _computeSegments),
/* harmony export */   "ao": () => (/* binding */ _boundSegments),
/* harmony export */   "ap": () => (/* binding */ _steppedInterpolation),
/* harmony export */   "aq": () => (/* binding */ _bezierInterpolation),
/* harmony export */   "ar": () => (/* binding */ _pointInLine),
/* harmony export */   "as": () => (/* binding */ _steppedLineTo),
/* harmony export */   "at": () => (/* binding */ _bezierCurveTo),
/* harmony export */   "au": () => (/* binding */ drawPoint),
/* harmony export */   "av": () => (/* binding */ addRoundedRectPath),
/* harmony export */   "aw": () => (/* binding */ toTRBL),
/* harmony export */   "ax": () => (/* binding */ toTRBLCorners),
/* harmony export */   "ay": () => (/* binding */ _boundSegment),
/* harmony export */   "az": () => (/* binding */ _normalizeAngle),
/* harmony export */   "b": () => (/* binding */ isArray),
/* harmony export */   "b0": () => (/* binding */ PITAU),
/* harmony export */   "b1": () => (/* binding */ INFINITY),
/* harmony export */   "b2": () => (/* binding */ RAD_PER_DEG),
/* harmony export */   "b3": () => (/* binding */ QUARTER_PI),
/* harmony export */   "b4": () => (/* binding */ TWO_THIRDS_PI),
/* harmony export */   "b5": () => (/* binding */ _angleDiff),
/* harmony export */   "c": () => (/* binding */ color),
/* harmony export */   "d": () => (/* binding */ defaults),
/* harmony export */   "e": () => (/* binding */ effects),
/* harmony export */   "f": () => (/* binding */ resolveObjectKey),
/* harmony export */   "g": () => (/* binding */ isNumberFinite),
/* harmony export */   "h": () => (/* binding */ createContext),
/* harmony export */   "i": () => (/* binding */ isObject),
/* harmony export */   "j": () => (/* binding */ defined),
/* harmony export */   "k": () => (/* binding */ isNullOrUndef),
/* harmony export */   "l": () => (/* binding */ listenArrayEvents),
/* harmony export */   "m": () => (/* binding */ toPercentage),
/* harmony export */   "n": () => (/* binding */ toDimension),
/* harmony export */   "o": () => (/* binding */ formatNumber),
/* harmony export */   "p": () => (/* binding */ _angleBetween),
/* harmony export */   "q": () => (/* binding */ _getStartAndCountOfVisiblePoints),
/* harmony export */   "r": () => (/* binding */ requestAnimFrame),
/* harmony export */   "s": () => (/* binding */ sign),
/* harmony export */   "t": () => (/* binding */ toRadians),
/* harmony export */   "u": () => (/* binding */ unlistenArrayEvents),
/* harmony export */   "v": () => (/* binding */ valueOrDefault),
/* harmony export */   "w": () => (/* binding */ _scaleRangesChanged),
/* harmony export */   "x": () => (/* binding */ isNumber),
/* harmony export */   "y": () => (/* binding */ _parseObjectDataRadialScale),
/* harmony export */   "z": () => (/* binding */ log10)
/* harmony export */ });
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function noop() {}
const uid = (function() {
  let id = 0;
  return function() {
    return id++;
  };
}());
function isNullOrUndef(value) {
  return value === null || typeof value === 'undefined';
}
function isArray(value) {
  if (Array.isArray && Array.isArray(value)) {
    return true;
  }
  const type = Object.prototype.toString.call(value);
  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {
    return true;
  }
  return false;
}
function isObject(value) {
  return value !== null && Object.prototype.toString.call(value) === '[object Object]';
}
const isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);
function finiteOrDefault(value, defaultValue) {
  return isNumberFinite(value) ? value : defaultValue;
}
function valueOrDefault(value, defaultValue) {
  return typeof value === 'undefined' ? defaultValue : value;
}
const toPercentage = (value, dimension) =>
  typeof value === 'string' && value.endsWith('%') ?
    parseFloat(value) / 100
    : value / dimension;
const toDimension = (value, dimension) =>
  typeof value === 'string' && value.endsWith('%') ?
    parseFloat(value) / 100 * dimension
    : +value;
function callback(fn, args, thisArg) {
  if (fn && typeof fn.call === 'function') {
    return fn.apply(thisArg, args);
  }
}
function each(loopable, fn, thisArg, reverse) {
  let i, len, keys;
  if (isArray(loopable)) {
    len = loopable.length;
    if (reverse) {
      for (i = len - 1; i >= 0; i--) {
        fn.call(thisArg, loopable[i], i);
      }
    } else {
      for (i = 0; i < len; i++) {
        fn.call(thisArg, loopable[i], i);
      }
    }
  } else if (isObject(loopable)) {
    keys = Object.keys(loopable);
    len = keys.length;
    for (i = 0; i < len; i++) {
      fn.call(thisArg, loopable[keys[i]], keys[i]);
    }
  }
}
function _elementsEqual(a0, a1) {
  let i, ilen, v0, v1;
  if (!a0 || !a1 || a0.length !== a1.length) {
    return false;
  }
  for (i = 0, ilen = a0.length; i < ilen; ++i) {
    v0 = a0[i];
    v1 = a1[i];
    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {
      return false;
    }
  }
  return true;
}
function clone$1(source) {
  if (isArray(source)) {
    return source.map(clone$1);
  }
  if (isObject(source)) {
    const target = Object.create(null);
    const keys = Object.keys(source);
    const klen = keys.length;
    let k = 0;
    for (; k < klen; ++k) {
      target[keys[k]] = clone$1(source[keys[k]]);
    }
    return target;
  }
  return source;
}
function isValidKey(key) {
  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;
}
function _merger(key, target, source, options) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    merge(tval, sval, options);
  } else {
    target[key] = clone$1(sval);
  }
}
function merge(target, source, options) {
  const sources = isArray(source) ? source : [source];
  const ilen = sources.length;
  if (!isObject(target)) {
    return target;
  }
  options = options || {};
  const merger = options.merger || _merger;
  for (let i = 0; i < ilen; ++i) {
    source = sources[i];
    if (!isObject(source)) {
      continue;
    }
    const keys = Object.keys(source);
    for (let k = 0, klen = keys.length; k < klen; ++k) {
      merger(keys[k], target, source, options);
    }
  }
  return target;
}
function mergeIf(target, source) {
  return merge(target, source, {merger: _mergerIf});
}
function _mergerIf(key, target, source) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    mergeIf(tval, sval);
  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {
    target[key] = clone$1(sval);
  }
}
function _deprecated(scope, value, previous, current) {
  if (value !== undefined) {
    console.warn(scope + ': "' + previous +
			'" is deprecated. Please use "' + current + '" instead');
  }
}
const keyResolvers = {
  '': v => v,
  x: o => o.x,
  y: o => o.y
};
function resolveObjectKey(obj, key) {
  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));
  return resolver(obj);
}
function _getKeyResolver(key) {
  const keys = _splitKey(key);
  return obj => {
    for (const k of keys) {
      if (k === '') {
        break;
      }
      obj = obj && obj[k];
    }
    return obj;
  };
}
function _splitKey(key) {
  const parts = key.split('.');
  const keys = [];
  let tmp = '';
  for (const part of parts) {
    tmp += part;
    if (tmp.endsWith('\\')) {
      tmp = tmp.slice(0, -1) + '.';
    } else {
      keys.push(tmp);
      tmp = '';
    }
  }
  return keys;
}
function _capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
const defined = (value) => typeof value !== 'undefined';
const isFunction = (value) => typeof value === 'function';
const setsEqual = (a, b) => {
  if (a.size !== b.size) {
    return false;
  }
  for (const item of a) {
    if (!b.has(item)) {
      return false;
    }
  }
  return true;
};
function _isClickEvent(e) {
  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';
}

const PI = Math.PI;
const TAU = 2 * PI;
const PITAU = TAU + PI;
const INFINITY = Number.POSITIVE_INFINITY;
const RAD_PER_DEG = PI / 180;
const HALF_PI = PI / 2;
const QUARTER_PI = PI / 4;
const TWO_THIRDS_PI = PI * 2 / 3;
const log10 = Math.log10;
const sign = Math.sign;
function niceNum(range) {
  const roundedRange = Math.round(range);
  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;
  const niceRange = Math.pow(10, Math.floor(log10(range)));
  const fraction = range / niceRange;
  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;
  return niceFraction * niceRange;
}
function _factorize(value) {
  const result = [];
  const sqrt = Math.sqrt(value);
  let i;
  for (i = 1; i < sqrt; i++) {
    if (value % i === 0) {
      result.push(i);
      result.push(value / i);
    }
  }
  if (sqrt === (sqrt | 0)) {
    result.push(sqrt);
  }
  result.sort((a, b) => a - b).pop();
  return result;
}
function isNumber(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
}
function almostEquals(x, y, epsilon) {
  return Math.abs(x - y) < epsilon;
}
function almostWhole(x, epsilon) {
  const rounded = Math.round(x);
  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);
}
function _setMinAndMaxByKey(array, target, property) {
  let i, ilen, value;
  for (i = 0, ilen = array.length; i < ilen; i++) {
    value = array[i][property];
    if (!isNaN(value)) {
      target.min = Math.min(target.min, value);
      target.max = Math.max(target.max, value);
    }
  }
}
function toRadians(degrees) {
  return degrees * (PI / 180);
}
function toDegrees(radians) {
  return radians * (180 / PI);
}
function _decimalPlaces(x) {
  if (!isNumberFinite(x)) {
    return;
  }
  let e = 1;
  let p = 0;
  while (Math.round(x * e) / e !== x) {
    e *= 10;
    p++;
  }
  return p;
}
function getAngleFromPoint(centrePoint, anglePoint) {
  const distanceFromXCenter = anglePoint.x - centrePoint.x;
  const distanceFromYCenter = anglePoint.y - centrePoint.y;
  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);
  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);
  if (angle < (-0.5 * PI)) {
    angle += TAU;
  }
  return {
    angle,
    distance: radialDistanceFromCenter
  };
}
function distanceBetweenPoints(pt1, pt2) {
  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));
}
function _angleDiff(a, b) {
  return (a - b + PITAU) % TAU - PI;
}
function _normalizeAngle(a) {
  return (a % TAU + TAU) % TAU;
}
function _angleBetween(angle, start, end, sameAngleIsFullCircle) {
  const a = _normalizeAngle(angle);
  const s = _normalizeAngle(start);
  const e = _normalizeAngle(end);
  const angleToStart = _normalizeAngle(s - a);
  const angleToEnd = _normalizeAngle(e - a);
  const startToAngle = _normalizeAngle(a - s);
  const endToAngle = _normalizeAngle(a - e);
  return a === s || a === e || (sameAngleIsFullCircle && s === e)
    || (angleToStart > angleToEnd && startToAngle < endToAngle);
}
function _limitValue(value, min, max) {
  return Math.max(min, Math.min(max, value));
}
function _int16Range(value) {
  return _limitValue(value, -32768, 32767);
}
function _isBetween(value, start, end, epsilon = 1e-6) {
  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;
}

function _lookup(table, value, cmp) {
  cmp = cmp || ((index) => table[index] < value);
  let hi = table.length - 1;
  let lo = 0;
  let mid;
  while (hi - lo > 1) {
    mid = (lo + hi) >> 1;
    if (cmp(mid)) {
      lo = mid;
    } else {
      hi = mid;
    }
  }
  return {lo, hi};
}
const _lookupByKey = (table, key, value, last) =>
  _lookup(table, value, last
    ? index => table[index][key] <= value
    : index => table[index][key] < value);
const _rlookupByKey = (table, key, value) =>
  _lookup(table, value, index => table[index][key] >= value);
function _filterBetween(values, min, max) {
  let start = 0;
  let end = values.length;
  while (start < end && values[start] < min) {
    start++;
  }
  while (end > start && values[end - 1] > max) {
    end--;
  }
  return start > 0 || end < values.length
    ? values.slice(start, end)
    : values;
}
const arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];
function listenArrayEvents(array, listener) {
  if (array._chartjs) {
    array._chartjs.listeners.push(listener);
    return;
  }
  Object.defineProperty(array, '_chartjs', {
    configurable: true,
    enumerable: false,
    value: {
      listeners: [listener]
    }
  });
  arrayEvents.forEach((key) => {
    const method = '_onData' + _capitalize(key);
    const base = array[key];
    Object.defineProperty(array, key, {
      configurable: true,
      enumerable: false,
      value(...args) {
        const res = base.apply(this, args);
        array._chartjs.listeners.forEach((object) => {
          if (typeof object[method] === 'function') {
            object[method](...args);
          }
        });
        return res;
      }
    });
  });
}
function unlistenArrayEvents(array, listener) {
  const stub = array._chartjs;
  if (!stub) {
    return;
  }
  const listeners = stub.listeners;
  const index = listeners.indexOf(listener);
  if (index !== -1) {
    listeners.splice(index, 1);
  }
  if (listeners.length > 0) {
    return;
  }
  arrayEvents.forEach((key) => {
    delete array[key];
  });
  delete array._chartjs;
}
function _arrayUnique(items) {
  const set = new Set();
  let i, ilen;
  for (i = 0, ilen = items.length; i < ilen; ++i) {
    set.add(items[i]);
  }
  if (set.size === ilen) {
    return items;
  }
  return Array.from(set);
}

function fontString(pixelSize, fontStyle, fontFamily) {
  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;
}
const requestAnimFrame = (function() {
  if (typeof window === 'undefined') {
    return function(callback) {
      return callback();
    };
  }
  return window.requestAnimationFrame;
}());
function throttled(fn, thisArg, updateFn) {
  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));
  let ticking = false;
  let args = [];
  return function(...rest) {
    args = updateArgs(rest);
    if (!ticking) {
      ticking = true;
      requestAnimFrame.call(window, () => {
        ticking = false;
        fn.apply(thisArg, args);
      });
    }
  };
}
function debounce(fn, delay) {
  let timeout;
  return function(...args) {
    if (delay) {
      clearTimeout(timeout);
      timeout = setTimeout(fn, delay, args);
    } else {
      fn.apply(this, args);
    }
    return delay;
  };
}
const _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';
const _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;
const _textX = (align, left, right, rtl) => {
  const check = rtl ? 'left' : 'right';
  return align === check ? right : align === 'center' ? (left + right) / 2 : left;
};
function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {
  const pointCount = points.length;
  let start = 0;
  let count = pointCount;
  if (meta._sorted) {
    const {iScale, _parsed} = meta;
    const axis = iScale.axis;
    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();
    if (minDefined) {
      start = _limitValue(Math.min(
        _lookupByKey(_parsed, iScale.axis, min).lo,
        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),
      0, pointCount - 1);
    }
    if (maxDefined) {
      count = _limitValue(Math.max(
        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,
        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),
      start, pointCount) - start;
    } else {
      count = pointCount - start;
    }
  }
  return {start, count};
}
function _scaleRangesChanged(meta) {
  const {xScale, yScale, _scaleRanges} = meta;
  const newRanges = {
    xmin: xScale.min,
    xmax: xScale.max,
    ymin: yScale.min,
    ymax: yScale.max
  };
  if (!_scaleRanges) {
    meta._scaleRanges = newRanges;
    return true;
  }
  const changed = _scaleRanges.xmin !== xScale.min
		|| _scaleRanges.xmax !== xScale.max
		|| _scaleRanges.ymin !== yScale.min
		|| _scaleRanges.ymax !== yScale.max;
  Object.assign(_scaleRanges, newRanges);
  return changed;
}

const atEdge = (t) => t === 0 || t === 1;
const elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));
const elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;
const effects = {
  linear: t => t,
  easeInQuad: t => t * t,
  easeOutQuad: t => -t * (t - 2),
  easeInOutQuad: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t
    : -0.5 * ((--t) * (t - 2) - 1),
  easeInCubic: t => t * t * t,
  easeOutCubic: t => (t -= 1) * t * t + 1,
  easeInOutCubic: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t
    : 0.5 * ((t -= 2) * t * t + 2),
  easeInQuart: t => t * t * t * t,
  easeOutQuart: t => -((t -= 1) * t * t * t - 1),
  easeInOutQuart: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t * t
    : -0.5 * ((t -= 2) * t * t * t - 2),
  easeInQuint: t => t * t * t * t * t,
  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,
  easeInOutQuint: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t * t * t
    : 0.5 * ((t -= 2) * t * t * t * t + 2),
  easeInSine: t => -Math.cos(t * HALF_PI) + 1,
  easeOutSine: t => Math.sin(t * HALF_PI),
  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),
  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),
  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,
  easeInOutExpo: t => atEdge(t) ? t : t < 0.5
    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))
    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),
  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),
  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),
  easeInOutCirc: t => ((t /= 0.5) < 1)
    ? -0.5 * (Math.sqrt(1 - t * t) - 1)
    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),
  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),
  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),
  easeInOutElastic(t) {
    const s = 0.1125;
    const p = 0.45;
    return atEdge(t) ? t :
      t < 0.5
        ? 0.5 * elasticIn(t * 2, s, p)
        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);
  },
  easeInBack(t) {
    const s = 1.70158;
    return t * t * ((s + 1) * t - s);
  },
  easeOutBack(t) {
    const s = 1.70158;
    return (t -= 1) * t * ((s + 1) * t + s) + 1;
  },
  easeInOutBack(t) {
    let s = 1.70158;
    if ((t /= 0.5) < 1) {
      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));
    }
    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);
  },
  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),
  easeOutBounce(t) {
    const m = 7.5625;
    const d = 2.75;
    if (t < (1 / d)) {
      return m * t * t;
    }
    if (t < (2 / d)) {
      return m * (t -= (1.5 / d)) * t + 0.75;
    }
    if (t < (2.5 / d)) {
      return m * (t -= (2.25 / d)) * t + 0.9375;
    }
    return m * (t -= (2.625 / d)) * t + 0.984375;
  },
  easeInOutBounce: t => (t < 0.5)
    ? effects.easeInBounce(t * 2) * 0.5
    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,
};

/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function round(v) {
  return v + 0.5 | 0;
}
const lim = (v, l, h) => Math.max(Math.min(v, h), l);
function p2b(v) {
  return lim(round(v * 2.55), 0, 255);
}
function n2b(v) {
  return lim(round(v * 255), 0, 255);
}
function b2n(v) {
  return lim(round(v / 2.55) / 100, 0, 1);
}
function n2p(v) {
  return lim(round(v * 100), 0, 100);
}
const map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};
const hex = [...'0123456789ABCDEF'];
const h1 = b => hex[b & 0xF];
const h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];
const eq = b => ((b & 0xF0) >> 4) === (b & 0xF);
const isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);
function hexParse(str) {
  var len = str.length;
  var ret;
  if (str[0] === '#') {
    if (len === 4 || len === 5) {
      ret = {
        r: 255 & map$1[str[1]] * 17,
        g: 255 & map$1[str[2]] * 17,
        b: 255 & map$1[str[3]] * 17,
        a: len === 5 ? map$1[str[4]] * 17 : 255
      };
    } else if (len === 7 || len === 9) {
      ret = {
        r: map$1[str[1]] << 4 | map$1[str[2]],
        g: map$1[str[3]] << 4 | map$1[str[4]],
        b: map$1[str[5]] << 4 | map$1[str[6]],
        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255
      };
    }
  }
  return ret;
}
const alpha = (a, f) => a < 255 ? f(a) : '';
function hexString(v) {
  var f = isShort(v) ? h1 : h2;
  return v
    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)
    : undefined;
}
const HUE_RE = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;
function hsl2rgbn(h, s, l) {
  const a = s * Math.min(l, 1 - l);
  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  return [f(0), f(8), f(4)];
}
function hsv2rgbn(h, s, v) {
  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);
  return [f(5), f(3), f(1)];
}
function hwb2rgbn(h, w, b) {
  const rgb = hsl2rgbn(h, 1, 0.5);
  let i;
  if (w + b > 1) {
    i = 1 / (w + b);
    w *= i;
    b *= i;
  }
  for (i = 0; i < 3; i++) {
    rgb[i] *= 1 - w - b;
    rgb[i] += w;
  }
  return rgb;
}
function hueValue(r, g, b, d, max) {
  if (r === max) {
    return ((g - b) / d) + (g < b ? 6 : 0);
  }
  if (g === max) {
    return (b - r) / d + 2;
  }
  return (r - g) / d + 4;
}
function rgb2hsl(v) {
  const range = 255;
  const r = v.r / range;
  const g = v.g / range;
  const b = v.b / range;
  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  const l = (max + min) / 2;
  let h, s, d;
  if (max !== min) {
    d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    h = hueValue(r, g, b, d, max);
    h = h * 60 + 0.5;
  }
  return [h | 0, s || 0, l];
}
function calln(f, a, b, c) {
  return (
    Array.isArray(a)
      ? f(a[0], a[1], a[2])
      : f(a, b, c)
  ).map(n2b);
}
function hsl2rgb(h, s, l) {
  return calln(hsl2rgbn, h, s, l);
}
function hwb2rgb(h, w, b) {
  return calln(hwb2rgbn, h, w, b);
}
function hsv2rgb(h, s, v) {
  return calln(hsv2rgbn, h, s, v);
}
function hue(h) {
  return (h % 360 + 360) % 360;
}
function hueParse(str) {
  const m = HUE_RE.exec(str);
  let a = 255;
  let v;
  if (!m) {
    return;
  }
  if (m[5] !== v) {
    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);
  }
  const h = hue(+m[2]);
  const p1 = +m[3] / 100;
  const p2 = +m[4] / 100;
  if (m[1] === 'hwb') {
    v = hwb2rgb(h, p1, p2);
  } else if (m[1] === 'hsv') {
    v = hsv2rgb(h, p1, p2);
  } else {
    v = hsl2rgb(h, p1, p2);
  }
  return {
    r: v[0],
    g: v[1],
    b: v[2],
    a: a
  };
}
function rotate(v, deg) {
  var h = rgb2hsl(v);
  h[0] = hue(h[0] + deg);
  h = hsl2rgb(h);
  v.r = h[0];
  v.g = h[1];
  v.b = h[2];
}
function hslString(v) {
  if (!v) {
    return;
  }
  const a = rgb2hsl(v);
  const h = a[0];
  const s = n2p(a[1]);
  const l = n2p(a[2]);
  return v.a < 255
    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`
    : `hsl(${h}, ${s}%, ${l}%)`;
}
const map = {
  x: 'dark',
  Z: 'light',
  Y: 're',
  X: 'blu',
  W: 'gr',
  V: 'medium',
  U: 'slate',
  A: 'ee',
  T: 'ol',
  S: 'or',
  B: 'ra',
  C: 'lateg',
  D: 'ights',
  R: 'in',
  Q: 'turquois',
  E: 'hi',
  P: 'ro',
  O: 'al',
  N: 'le',
  M: 'de',
  L: 'yello',
  F: 'en',
  K: 'ch',
  G: 'arks',
  H: 'ea',
  I: 'ightg',
  J: 'wh'
};
const names$1 = {
  OiceXe: 'f0f8ff',
  antiquewEte: 'faebd7',
  aqua: 'ffff',
  aquamarRe: '7fffd4',
  azuY: 'f0ffff',
  beige: 'f5f5dc',
  bisque: 'ffe4c4',
  black: '0',
  blanKedOmond: 'ffebcd',
  Xe: 'ff',
  XeviTet: '8a2be2',
  bPwn: 'a52a2a',
  burlywood: 'deb887',
  caMtXe: '5f9ea0',
  KartYuse: '7fff00',
  KocTate: 'd2691e',
  cSO: 'ff7f50',
  cSnflowerXe: '6495ed',
  cSnsilk: 'fff8dc',
  crimson: 'dc143c',
  cyan: 'ffff',
  xXe: '8b',
  xcyan: '8b8b',
  xgTMnPd: 'b8860b',
  xWay: 'a9a9a9',
  xgYF: '6400',
  xgYy: 'a9a9a9',
  xkhaki: 'bdb76b',
  xmagFta: '8b008b',
  xTivegYF: '556b2f',
  xSange: 'ff8c00',
  xScEd: '9932cc',
  xYd: '8b0000',
  xsOmon: 'e9967a',
  xsHgYF: '8fbc8f',
  xUXe: '483d8b',
  xUWay: '2f4f4f',
  xUgYy: '2f4f4f',
  xQe: 'ced1',
  xviTet: '9400d3',
  dAppRk: 'ff1493',
  dApskyXe: 'bfff',
  dimWay: '696969',
  dimgYy: '696969',
  dodgerXe: '1e90ff',
  fiYbrick: 'b22222',
  flSOwEte: 'fffaf0',
  foYstWAn: '228b22',
  fuKsia: 'ff00ff',
  gaRsbSo: 'dcdcdc',
  ghostwEte: 'f8f8ff',
  gTd: 'ffd700',
  gTMnPd: 'daa520',
  Way: '808080',
  gYF: '8000',
  gYFLw: 'adff2f',
  gYy: '808080',
  honeyMw: 'f0fff0',
  hotpRk: 'ff69b4',
  RdianYd: 'cd5c5c',
  Rdigo: '4b0082',
  ivSy: 'fffff0',
  khaki: 'f0e68c',
  lavFMr: 'e6e6fa',
  lavFMrXsh: 'fff0f5',
  lawngYF: '7cfc00',
  NmoncEffon: 'fffacd',
  ZXe: 'add8e6',
  ZcSO: 'f08080',
  Zcyan: 'e0ffff',
  ZgTMnPdLw: 'fafad2',
  ZWay: 'd3d3d3',
  ZgYF: '90ee90',
  ZgYy: 'd3d3d3',
  ZpRk: 'ffb6c1',
  ZsOmon: 'ffa07a',
  ZsHgYF: '20b2aa',
  ZskyXe: '87cefa',
  ZUWay: '778899',
  ZUgYy: '778899',
  ZstAlXe: 'b0c4de',
  ZLw: 'ffffe0',
  lime: 'ff00',
  limegYF: '32cd32',
  lRF: 'faf0e6',
  magFta: 'ff00ff',
  maPon: '800000',
  VaquamarRe: '66cdaa',
  VXe: 'cd',
  VScEd: 'ba55d3',
  VpurpN: '9370db',
  VsHgYF: '3cb371',
  VUXe: '7b68ee',
  VsprRggYF: 'fa9a',
  VQe: '48d1cc',
  VviTetYd: 'c71585',
  midnightXe: '191970',
  mRtcYam: 'f5fffa',
  mistyPse: 'ffe4e1',
  moccasR: 'ffe4b5',
  navajowEte: 'ffdead',
  navy: '80',
  Tdlace: 'fdf5e6',
  Tive: '808000',
  TivedBb: '6b8e23',
  Sange: 'ffa500',
  SangeYd: 'ff4500',
  ScEd: 'da70d6',
  pOegTMnPd: 'eee8aa',
  pOegYF: '98fb98',
  pOeQe: 'afeeee',
  pOeviTetYd: 'db7093',
  papayawEp: 'ffefd5',
  pHKpuff: 'ffdab9',
  peru: 'cd853f',
  pRk: 'ffc0cb',
  plum: 'dda0dd',
  powMrXe: 'b0e0e6',
  purpN: '800080',
  YbeccapurpN: '663399',
  Yd: 'ff0000',
  Psybrown: 'bc8f8f',
  PyOXe: '4169e1',
  saddNbPwn: '8b4513',
  sOmon: 'fa8072',
  sandybPwn: 'f4a460',
  sHgYF: '2e8b57',
  sHshell: 'fff5ee',
  siFna: 'a0522d',
  silver: 'c0c0c0',
  skyXe: '87ceeb',
  UXe: '6a5acd',
  UWay: '708090',
  UgYy: '708090',
  snow: 'fffafa',
  sprRggYF: 'ff7f',
  stAlXe: '4682b4',
  tan: 'd2b48c',
  teO: '8080',
  tEstN: 'd8bfd8',
  tomato: 'ff6347',
  Qe: '40e0d0',
  viTet: 'ee82ee',
  JHt: 'f5deb3',
  wEte: 'ffffff',
  wEtesmoke: 'f5f5f5',
  Lw: 'ffff00',
  LwgYF: '9acd32'
};
function unpack() {
  const unpacked = {};
  const keys = Object.keys(names$1);
  const tkeys = Object.keys(map);
  let i, j, k, ok, nk;
  for (i = 0; i < keys.length; i++) {
    ok = nk = keys[i];
    for (j = 0; j < tkeys.length; j++) {
      k = tkeys[j];
      nk = nk.replace(k, map[k]);
    }
    k = parseInt(names$1[ok], 16);
    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];
  }
  return unpacked;
}
let names;
function nameParse(str) {
  if (!names) {
    names = unpack();
    names.transparent = [0, 0, 0, 0];
  }
  const a = names[str.toLowerCase()];
  return a && {
    r: a[0],
    g: a[1],
    b: a[2],
    a: a.length === 4 ? a[3] : 255
  };
}
const RGB_RE = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;
function rgbParse(str) {
  const m = RGB_RE.exec(str);
  let a = 255;
  let r, g, b;
  if (!m) {
    return;
  }
  if (m[7] !== r) {
    const v = +m[7];
    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);
  }
  r = +m[1];
  g = +m[3];
  b = +m[5];
  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));
  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));
  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));
  return {
    r: r,
    g: g,
    b: b,
    a: a
  };
}
function rgbString(v) {
  return v && (
    v.a < 255
      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`
      : `rgb(${v.r}, ${v.g}, ${v.b})`
  );
}
const to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;
const from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
function interpolate(rgb1, rgb2, t) {
  const r = from(b2n(rgb1.r));
  const g = from(b2n(rgb1.g));
  const b = from(b2n(rgb1.b));
  return {
    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),
    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),
    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),
    a: rgb1.a + t * (rgb2.a - rgb1.a)
  };
}
function modHSL(v, i, ratio) {
  if (v) {
    let tmp = rgb2hsl(v);
    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));
    tmp = hsl2rgb(tmp);
    v.r = tmp[0];
    v.g = tmp[1];
    v.b = tmp[2];
  }
}
function clone(v, proto) {
  return v ? Object.assign(proto || {}, v) : v;
}
function fromObject(input) {
  var v = {r: 0, g: 0, b: 0, a: 255};
  if (Array.isArray(input)) {
    if (input.length >= 3) {
      v = {r: input[0], g: input[1], b: input[2], a: 255};
      if (input.length > 3) {
        v.a = n2b(input[3]);
      }
    }
  } else {
    v = clone(input, {r: 0, g: 0, b: 0, a: 1});
    v.a = n2b(v.a);
  }
  return v;
}
function functionParse(str) {
  if (str.charAt(0) === 'r') {
    return rgbParse(str);
  }
  return hueParse(str);
}
class Color {
  constructor(input) {
    if (input instanceof Color) {
      return input;
    }
    const type = typeof input;
    let v;
    if (type === 'object') {
      v = fromObject(input);
    } else if (type === 'string') {
      v = hexParse(input) || nameParse(input) || functionParse(input);
    }
    this._rgb = v;
    this._valid = !!v;
  }
  get valid() {
    return this._valid;
  }
  get rgb() {
    var v = clone(this._rgb);
    if (v) {
      v.a = b2n(v.a);
    }
    return v;
  }
  set rgb(obj) {
    this._rgb = fromObject(obj);
  }
  rgbString() {
    return this._valid ? rgbString(this._rgb) : undefined;
  }
  hexString() {
    return this._valid ? hexString(this._rgb) : undefined;
  }
  hslString() {
    return this._valid ? hslString(this._rgb) : undefined;
  }
  mix(color, weight) {
    if (color) {
      const c1 = this.rgb;
      const c2 = color.rgb;
      let w2;
      const p = weight === w2 ? 0.5 : weight;
      const w = 2 * p - 1;
      const a = c1.a - c2.a;
      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;
      w2 = 1 - w1;
      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;
      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;
      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;
      c1.a = p * c1.a + (1 - p) * c2.a;
      this.rgb = c1;
    }
    return this;
  }
  interpolate(color, t) {
    if (color) {
      this._rgb = interpolate(this._rgb, color._rgb, t);
    }
    return this;
  }
  clone() {
    return new Color(this.rgb);
  }
  alpha(a) {
    this._rgb.a = n2b(a);
    return this;
  }
  clearer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 - ratio;
    return this;
  }
  greyscale() {
    const rgb = this._rgb;
    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);
    rgb.r = rgb.g = rgb.b = val;
    return this;
  }
  opaquer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 + ratio;
    return this;
  }
  negate() {
    const v = this._rgb;
    v.r = 255 - v.r;
    v.g = 255 - v.g;
    v.b = 255 - v.b;
    return this;
  }
  lighten(ratio) {
    modHSL(this._rgb, 2, ratio);
    return this;
  }
  darken(ratio) {
    modHSL(this._rgb, 2, -ratio);
    return this;
  }
  saturate(ratio) {
    modHSL(this._rgb, 1, ratio);
    return this;
  }
  desaturate(ratio) {
    modHSL(this._rgb, 1, -ratio);
    return this;
  }
  rotate(deg) {
    rotate(this._rgb, deg);
    return this;
  }
}
function index_esm(input) {
  return new Color(input);
}

function isPatternOrGradient(value) {
  if (value && typeof value === 'object') {
    const type = value.toString();
    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';
  }
  return false;
}
function color(value) {
  return isPatternOrGradient(value) ? value : index_esm(value);
}
function getHoverColor(value) {
  return isPatternOrGradient(value)
    ? value
    : index_esm(value).saturate(0.5).darken(0.1).hexString();
}

const overrides = Object.create(null);
const descriptors = Object.create(null);
function getScope$1(node, key) {
  if (!key) {
    return node;
  }
  const keys = key.split('.');
  for (let i = 0, n = keys.length; i < n; ++i) {
    const k = keys[i];
    node = node[k] || (node[k] = Object.create(null));
  }
  return node;
}
function set(root, scope, values) {
  if (typeof scope === 'string') {
    return merge(getScope$1(root, scope), values);
  }
  return merge(getScope$1(root, ''), scope);
}
class Defaults {
  constructor(_descriptors) {
    this.animation = undefined;
    this.backgroundColor = 'rgba(0,0,0,0.1)';
    this.borderColor = 'rgba(0,0,0,0.1)';
    this.color = '#666';
    this.datasets = {};
    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();
    this.elements = {};
    this.events = [
      'mousemove',
      'mouseout',
      'click',
      'touchstart',
      'touchmove'
    ];
    this.font = {
      family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
      size: 12,
      style: 'normal',
      lineHeight: 1.2,
      weight: null
    };
    this.hover = {};
    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);
    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);
    this.hoverColor = (ctx, options) => getHoverColor(options.color);
    this.indexAxis = 'x';
    this.interaction = {
      mode: 'nearest',
      intersect: true,
      includeInvisible: false
    };
    this.maintainAspectRatio = true;
    this.onHover = null;
    this.onClick = null;
    this.parsing = true;
    this.plugins = {};
    this.responsive = true;
    this.scale = undefined;
    this.scales = {};
    this.showLine = true;
    this.drawActiveElementsOnTop = true;
    this.describe(_descriptors);
  }
  set(scope, values) {
    return set(this, scope, values);
  }
  get(scope) {
    return getScope$1(this, scope);
  }
  describe(scope, values) {
    return set(descriptors, scope, values);
  }
  override(scope, values) {
    return set(overrides, scope, values);
  }
  route(scope, name, targetScope, targetName) {
    const scopeObject = getScope$1(this, scope);
    const targetScopeObject = getScope$1(this, targetScope);
    const privateName = '_' + name;
    Object.defineProperties(scopeObject, {
      [privateName]: {
        value: scopeObject[name],
        writable: true
      },
      [name]: {
        enumerable: true,
        get() {
          const local = this[privateName];
          const target = targetScopeObject[targetName];
          if (isObject(local)) {
            return Object.assign({}, target, local);
          }
          return valueOrDefault(local, target);
        },
        set(value) {
          this[privateName] = value;
        }
      }
    });
  }
}
var defaults = new Defaults({
  _scriptable: (name) => !name.startsWith('on'),
  _indexable: (name) => name !== 'events',
  hover: {
    _fallback: 'interaction'
  },
  interaction: {
    _scriptable: false,
    _indexable: false,
  }
});

function toFontString(font) {
  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {
    return null;
  }
  return (font.style ? font.style + ' ' : '')
		+ (font.weight ? font.weight + ' ' : '')
		+ font.size + 'px '
		+ font.family;
}
function _measureText(ctx, data, gc, longest, string) {
  let textWidth = data[string];
  if (!textWidth) {
    textWidth = data[string] = ctx.measureText(string).width;
    gc.push(string);
  }
  if (textWidth > longest) {
    longest = textWidth;
  }
  return longest;
}
function _longestText(ctx, font, arrayOfThings, cache) {
  cache = cache || {};
  let data = cache.data = cache.data || {};
  let gc = cache.garbageCollect = cache.garbageCollect || [];
  if (cache.font !== font) {
    data = cache.data = {};
    gc = cache.garbageCollect = [];
    cache.font = font;
  }
  ctx.save();
  ctx.font = font;
  let longest = 0;
  const ilen = arrayOfThings.length;
  let i, j, jlen, thing, nestedThing;
  for (i = 0; i < ilen; i++) {
    thing = arrayOfThings[i];
    if (thing !== undefined && thing !== null && isArray(thing) !== true) {
      longest = _measureText(ctx, data, gc, longest, thing);
    } else if (isArray(thing)) {
      for (j = 0, jlen = thing.length; j < jlen; j++) {
        nestedThing = thing[j];
        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {
          longest = _measureText(ctx, data, gc, longest, nestedThing);
        }
      }
    }
  }
  ctx.restore();
  const gcLen = gc.length / 2;
  if (gcLen > arrayOfThings.length) {
    for (i = 0; i < gcLen; i++) {
      delete data[gc[i]];
    }
    gc.splice(0, gcLen);
  }
  return longest;
}
function _alignPixel(chart, pixel, width) {
  const devicePixelRatio = chart.currentDevicePixelRatio;
  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;
  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;
}
function clearCanvas(canvas, ctx) {
  ctx = ctx || canvas.getContext('2d');
  ctx.save();
  ctx.resetTransform();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.restore();
}
function drawPoint(ctx, options, x, y) {
  drawPointLegend(ctx, options, x, y, null);
}
function drawPointLegend(ctx, options, x, y, w) {
  let type, xOffset, yOffset, size, cornerRadius, width;
  const style = options.pointStyle;
  const rotation = options.rotation;
  const radius = options.radius;
  let rad = (rotation || 0) * RAD_PER_DEG;
  if (style && typeof style === 'object') {
    type = style.toString();
    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rad);
      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);
      ctx.restore();
      return;
    }
  }
  if (isNaN(radius) || radius <= 0) {
    return;
  }
  ctx.beginPath();
  switch (style) {
  default:
    if (w) {
      ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);
    } else {
      ctx.arc(x, y, radius, 0, TAU);
    }
    ctx.closePath();
    break;
  case 'triangle':
    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    rad += TWO_THIRDS_PI;
    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    rad += TWO_THIRDS_PI;
    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    ctx.closePath();
    break;
  case 'rectRounded':
    cornerRadius = radius * 0.516;
    size = radius - cornerRadius;
    xOffset = Math.cos(rad + QUARTER_PI) * size;
    yOffset = Math.sin(rad + QUARTER_PI) * size;
    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);
    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);
    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);
    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);
    ctx.closePath();
    break;
  case 'rect':
    if (!rotation) {
      size = Math.SQRT1_2 * radius;
      width = w ? w / 2 : size;
      ctx.rect(x - width, y - size, 2 * width, 2 * size);
      break;
    }
    rad += QUARTER_PI;
  case 'rectRot':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + yOffset, y - xOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    ctx.closePath();
    break;
  case 'crossRot':
    rad += QUARTER_PI;
  case 'cross':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    break;
  case 'star':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    rad += QUARTER_PI;
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    break;
  case 'line':
    xOffset = w ? w / 2 : Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    break;
  case 'dash':
    ctx.moveTo(x, y);
    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);
    break;
  }
  ctx.fill();
  if (options.borderWidth > 0) {
    ctx.stroke();
  }
}
function _isPointInArea(point, area, margin) {
  margin = margin || 0.5;
  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&
		point.y > area.top - margin && point.y < area.bottom + margin);
}
function clipArea(ctx, area) {
  ctx.save();
  ctx.beginPath();
  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);
  ctx.clip();
}
function unclipArea(ctx) {
  ctx.restore();
}
function _steppedLineTo(ctx, previous, target, flip, mode) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  if (mode === 'middle') {
    const midpoint = (previous.x + target.x) / 2.0;
    ctx.lineTo(midpoint, previous.y);
    ctx.lineTo(midpoint, target.y);
  } else if (mode === 'after' !== !!flip) {
    ctx.lineTo(previous.x, target.y);
  } else {
    ctx.lineTo(target.x, previous.y);
  }
  ctx.lineTo(target.x, target.y);
}
function _bezierCurveTo(ctx, previous, target, flip) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  ctx.bezierCurveTo(
    flip ? previous.cp1x : previous.cp2x,
    flip ? previous.cp1y : previous.cp2y,
    flip ? target.cp2x : target.cp1x,
    flip ? target.cp2y : target.cp1y,
    target.x,
    target.y);
}
function renderText(ctx, text, x, y, font, opts = {}) {
  const lines = isArray(text) ? text : [text];
  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';
  let i, line;
  ctx.save();
  ctx.font = font.string;
  setRenderOpts(ctx, opts);
  for (i = 0; i < lines.length; ++i) {
    line = lines[i];
    if (stroke) {
      if (opts.strokeColor) {
        ctx.strokeStyle = opts.strokeColor;
      }
      if (!isNullOrUndef(opts.strokeWidth)) {
        ctx.lineWidth = opts.strokeWidth;
      }
      ctx.strokeText(line, x, y, opts.maxWidth);
    }
    ctx.fillText(line, x, y, opts.maxWidth);
    decorateText(ctx, x, y, line, opts);
    y += font.lineHeight;
  }
  ctx.restore();
}
function setRenderOpts(ctx, opts) {
  if (opts.translation) {
    ctx.translate(opts.translation[0], opts.translation[1]);
  }
  if (!isNullOrUndef(opts.rotation)) {
    ctx.rotate(opts.rotation);
  }
  if (opts.color) {
    ctx.fillStyle = opts.color;
  }
  if (opts.textAlign) {
    ctx.textAlign = opts.textAlign;
  }
  if (opts.textBaseline) {
    ctx.textBaseline = opts.textBaseline;
  }
}
function decorateText(ctx, x, y, line, opts) {
  if (opts.strikethrough || opts.underline) {
    const metrics = ctx.measureText(line);
    const left = x - metrics.actualBoundingBoxLeft;
    const right = x + metrics.actualBoundingBoxRight;
    const top = y - metrics.actualBoundingBoxAscent;
    const bottom = y + metrics.actualBoundingBoxDescent;
    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;
    ctx.strokeStyle = ctx.fillStyle;
    ctx.beginPath();
    ctx.lineWidth = opts.decorationWidth || 2;
    ctx.moveTo(left, yDecoration);
    ctx.lineTo(right, yDecoration);
    ctx.stroke();
  }
}
function addRoundedRectPath(ctx, rect) {
  const {x, y, w, h, radius} = rect;
  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);
  ctx.lineTo(x, y + h - radius.bottomLeft);
  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);
  ctx.lineTo(x + w - radius.bottomRight, y + h);
  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);
  ctx.lineTo(x + w, y + radius.topRight);
  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);
  ctx.lineTo(x + radius.topLeft, y);
}

const LINE_HEIGHT = new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);
const FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);
function toLineHeight(value, size) {
  const matches = ('' + value).match(LINE_HEIGHT);
  if (!matches || matches[1] === 'normal') {
    return size * 1.2;
  }
  value = +matches[2];
  switch (matches[3]) {
  case 'px':
    return value;
  case '%':
    value /= 100;
    break;
  }
  return size * value;
}
const numberOrZero = v => +v || 0;
function _readValueToProps(value, props) {
  const ret = {};
  const objProps = isObject(props);
  const keys = objProps ? Object.keys(props) : props;
  const read = isObject(value)
    ? objProps
      ? prop => valueOrDefault(value[prop], value[props[prop]])
      : prop => value[prop]
    : () => value;
  for (const prop of keys) {
    ret[prop] = numberOrZero(read(prop));
  }
  return ret;
}
function toTRBL(value) {
  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});
}
function toTRBLCorners(value) {
  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);
}
function toPadding(value) {
  const obj = toTRBL(value);
  obj.width = obj.left + obj.right;
  obj.height = obj.top + obj.bottom;
  return obj;
}
function toFont(options, fallback) {
  options = options || {};
  fallback = fallback || defaults.font;
  let size = valueOrDefault(options.size, fallback.size);
  if (typeof size === 'string') {
    size = parseInt(size, 10);
  }
  let style = valueOrDefault(options.style, fallback.style);
  if (style && !('' + style).match(FONT_STYLE)) {
    console.warn('Invalid font style specified: "' + style + '"');
    style = '';
  }
  const font = {
    family: valueOrDefault(options.family, fallback.family),
    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),
    size,
    style,
    weight: valueOrDefault(options.weight, fallback.weight),
    string: ''
  };
  font.string = toFontString(font);
  return font;
}
function resolve(inputs, context, index, info) {
  let cacheable = true;
  let i, ilen, value;
  for (i = 0, ilen = inputs.length; i < ilen; ++i) {
    value = inputs[i];
    if (value === undefined) {
      continue;
    }
    if (context !== undefined && typeof value === 'function') {
      value = value(context);
      cacheable = false;
    }
    if (index !== undefined && isArray(value)) {
      value = value[index % value.length];
      cacheable = false;
    }
    if (value !== undefined) {
      if (info && !cacheable) {
        info.cacheable = false;
      }
      return value;
    }
  }
}
function _addGrace(minmax, grace, beginAtZero) {
  const {min, max} = minmax;
  const change = toDimension(grace, (max - min) / 2);
  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;
  return {
    min: keepZero(min, -Math.abs(change)),
    max: keepZero(max, change)
  };
}
function createContext(parentContext, context) {
  return Object.assign(Object.create(parentContext), context);
}

function _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {
  if (!defined(fallback)) {
    fallback = _resolve('_fallback', scopes);
  }
  const cache = {
    [Symbol.toStringTag]: 'Object',
    _cacheable: true,
    _scopes: scopes,
    _rootScopes: rootScopes,
    _fallback: fallback,
    _getTarget: getTarget,
    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),
  };
  return new Proxy(cache, {
    deleteProperty(target, prop) {
      delete target[prop];
      delete target._keys;
      delete scopes[0][prop];
      return true;
    },
    get(target, prop) {
      return _cached(target, prop,
        () => _resolveWithPrefixes(prop, prefixes, scopes, target));
    },
    getOwnPropertyDescriptor(target, prop) {
      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(scopes[0]);
    },
    has(target, prop) {
      return getKeysFromAllScopes(target).includes(prop);
    },
    ownKeys(target) {
      return getKeysFromAllScopes(target);
    },
    set(target, prop, value) {
      const storage = target._storage || (target._storage = getTarget());
      target[prop] = storage[prop] = value;
      delete target._keys;
      return true;
    }
  });
}
function _attachContext(proxy, context, subProxy, descriptorDefaults) {
  const cache = {
    _cacheable: false,
    _proxy: proxy,
    _context: context,
    _subProxy: subProxy,
    _stack: new Set(),
    _descriptors: _descriptors(proxy, descriptorDefaults),
    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),
    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)
  };
  return new Proxy(cache, {
    deleteProperty(target, prop) {
      delete target[prop];
      delete proxy[prop];
      return true;
    },
    get(target, prop, receiver) {
      return _cached(target, prop,
        () => _resolveWithContext(target, prop, receiver));
    },
    getOwnPropertyDescriptor(target, prop) {
      return target._descriptors.allKeys
        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined
        : Reflect.getOwnPropertyDescriptor(proxy, prop);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(proxy);
    },
    has(target, prop) {
      return Reflect.has(proxy, prop);
    },
    ownKeys() {
      return Reflect.ownKeys(proxy);
    },
    set(target, prop, value) {
      proxy[prop] = value;
      delete target[prop];
      return true;
    }
  });
}
function _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {
  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;
  return {
    allKeys: _allKeys,
    scriptable: _scriptable,
    indexable: _indexable,
    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,
    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable
  };
}
const readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;
const needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&
  (Object.getPrototypeOf(value) === null || value.constructor === Object);
function _cached(target, prop, resolve) {
  if (Object.prototype.hasOwnProperty.call(target, prop)) {
    return target[prop];
  }
  const value = resolve();
  target[prop] = value;
  return value;
}
function _resolveWithContext(target, prop, receiver) {
  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;
  let value = _proxy[prop];
  if (isFunction(value) && descriptors.isScriptable(prop)) {
    value = _resolveScriptable(prop, value, target, receiver);
  }
  if (isArray(value) && value.length) {
    value = _resolveArray(prop, value, target, descriptors.isIndexable);
  }
  if (needsSubResolver(prop, value)) {
    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);
  }
  return value;
}
function _resolveScriptable(prop, value, target, receiver) {
  const {_proxy, _context, _subProxy, _stack} = target;
  if (_stack.has(prop)) {
    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);
  }
  _stack.add(prop);
  value = value(_context, _subProxy || receiver);
  _stack.delete(prop);
  if (needsSubResolver(prop, value)) {
    value = createSubResolver(_proxy._scopes, _proxy, prop, value);
  }
  return value;
}
function _resolveArray(prop, value, target, isIndexable) {
  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;
  if (defined(_context.index) && isIndexable(prop)) {
    value = value[_context.index % value.length];
  } else if (isObject(value[0])) {
    const arr = value;
    const scopes = _proxy._scopes.filter(s => s !== arr);
    value = [];
    for (const item of arr) {
      const resolver = createSubResolver(scopes, _proxy, prop, item);
      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));
    }
  }
  return value;
}
function resolveFallback(fallback, prop, value) {
  return isFunction(fallback) ? fallback(prop, value) : fallback;
}
const getScope = (key, parent) => key === true ? parent
  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;
function addScopes(set, parentScopes, key, parentFallback, value) {
  for (const parent of parentScopes) {
    const scope = getScope(key, parent);
    if (scope) {
      set.add(scope);
      const fallback = resolveFallback(scope._fallback, key, value);
      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {
        return fallback;
      }
    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {
      return null;
    }
  }
  return false;
}
function createSubResolver(parentScopes, resolver, prop, value) {
  const rootScopes = resolver._rootScopes;
  const fallback = resolveFallback(resolver._fallback, prop, value);
  const allScopes = [...parentScopes, ...rootScopes];
  const set = new Set();
  set.add(value);
  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);
  if (key === null) {
    return false;
  }
  if (defined(fallback) && fallback !== prop) {
    key = addScopesFromKey(set, allScopes, fallback, key, value);
    if (key === null) {
      return false;
    }
  }
  return _createResolver(Array.from(set), [''], rootScopes, fallback,
    () => subGetTarget(resolver, prop, value));
}
function addScopesFromKey(set, allScopes, key, fallback, item) {
  while (key) {
    key = addScopes(set, allScopes, key, fallback, item);
  }
  return key;
}
function subGetTarget(resolver, prop, value) {
  const parent = resolver._getTarget();
  if (!(prop in parent)) {
    parent[prop] = {};
  }
  const target = parent[prop];
  if (isArray(target) && isObject(value)) {
    return value;
  }
  return target;
}
function _resolveWithPrefixes(prop, prefixes, scopes, proxy) {
  let value;
  for (const prefix of prefixes) {
    value = _resolve(readKey(prefix, prop), scopes);
    if (defined(value)) {
      return needsSubResolver(prop, value)
        ? createSubResolver(scopes, proxy, prop, value)
        : value;
    }
  }
}
function _resolve(key, scopes) {
  for (const scope of scopes) {
    if (!scope) {
      continue;
    }
    const value = scope[key];
    if (defined(value)) {
      return value;
    }
  }
}
function getKeysFromAllScopes(target) {
  let keys = target._keys;
  if (!keys) {
    keys = target._keys = resolveKeysFromAllScopes(target._scopes);
  }
  return keys;
}
function resolveKeysFromAllScopes(scopes) {
  const set = new Set();
  for (const scope of scopes) {
    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {
      set.add(key);
    }
  }
  return Array.from(set);
}
function _parseObjectDataRadialScale(meta, data, start, count) {
  const {iScale} = meta;
  const {key = 'r'} = this._parsing;
  const parsed = new Array(count);
  let i, ilen, index, item;
  for (i = 0, ilen = count; i < ilen; ++i) {
    index = i + start;
    item = data[index];
    parsed[i] = {
      r: iScale.parse(resolveObjectKey(item, key), index)
    };
  }
  return parsed;
}

const EPSILON = Number.EPSILON || 1e-14;
const getPoint = (points, i) => i < points.length && !points[i].skip && points[i];
const getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';
function splineCurve(firstPoint, middlePoint, afterPoint, t) {
  const previous = firstPoint.skip ? middlePoint : firstPoint;
  const current = middlePoint;
  const next = afterPoint.skip ? middlePoint : afterPoint;
  const d01 = distanceBetweenPoints(current, previous);
  const d12 = distanceBetweenPoints(next, current);
  let s01 = d01 / (d01 + d12);
  let s12 = d12 / (d01 + d12);
  s01 = isNaN(s01) ? 0 : s01;
  s12 = isNaN(s12) ? 0 : s12;
  const fa = t * s01;
  const fb = t * s12;
  return {
    previous: {
      x: current.x - fa * (next.x - previous.x),
      y: current.y - fa * (next.y - previous.y)
    },
    next: {
      x: current.x + fb * (next.x - previous.x),
      y: current.y + fb * (next.y - previous.y)
    }
  };
}
function monotoneAdjust(points, deltaK, mK) {
  const pointsLen = points.length;
  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen - 1; ++i) {
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent || !pointAfter) {
      continue;
    }
    if (almostEquals(deltaK[i], 0, EPSILON)) {
      mK[i] = mK[i + 1] = 0;
      continue;
    }
    alphaK = mK[i] / deltaK[i];
    betaK = mK[i + 1] / deltaK[i];
    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);
    if (squaredMagnitude <= 9) {
      continue;
    }
    tauK = 3 / Math.sqrt(squaredMagnitude);
    mK[i] = alphaK * tauK * deltaK[i];
    mK[i + 1] = betaK * tauK * deltaK[i];
  }
}
function monotoneCompute(points, mK, indexAxis = 'x') {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  let delta, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    const iPixel = pointCurrent[indexAxis];
    const vPixel = pointCurrent[valueAxis];
    if (pointBefore) {
      delta = (iPixel - pointBefore[indexAxis]) / 3;
      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;
      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];
    }
    if (pointAfter) {
      delta = (pointAfter[indexAxis] - iPixel) / 3;
      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;
      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];
    }
  }
}
function splineCurveMonotone(points, indexAxis = 'x') {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  const deltaK = Array(pointsLen).fill(0);
  const mK = Array(pointsLen);
  let i, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    if (pointAfter) {
      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];
      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;
    }
    mK[i] = !pointBefore ? deltaK[i]
      : !pointAfter ? deltaK[i - 1]
      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0
      : (deltaK[i - 1] + deltaK[i]) / 2;
  }
  monotoneAdjust(points, deltaK, mK);
  monotoneCompute(points, mK, indexAxis);
}
function capControlPoint(pt, min, max) {
  return Math.max(Math.min(pt, max), min);
}
function capBezierPoints(points, area) {
  let i, ilen, point, inArea, inAreaPrev;
  let inAreaNext = _isPointInArea(points[0], area);
  for (i = 0, ilen = points.length; i < ilen; ++i) {
    inAreaPrev = inArea;
    inArea = inAreaNext;
    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);
    if (!inArea) {
      continue;
    }
    point = points[i];
    if (inAreaPrev) {
      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);
      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);
    }
    if (inAreaNext) {
      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);
      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);
    }
  }
}
function _updateBezierControlPoints(points, options, area, loop, indexAxis) {
  let i, ilen, point, controlPoints;
  if (options.spanGaps) {
    points = points.filter((pt) => !pt.skip);
  }
  if (options.cubicInterpolationMode === 'monotone') {
    splineCurveMonotone(points, indexAxis);
  } else {
    let prev = loop ? points[points.length - 1] : points[0];
    for (i = 0, ilen = points.length; i < ilen; ++i) {
      point = points[i];
      controlPoints = splineCurve(
        prev,
        point,
        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],
        options.tension
      );
      point.cp1x = controlPoints.previous.x;
      point.cp1y = controlPoints.previous.y;
      point.cp2x = controlPoints.next.x;
      point.cp2y = controlPoints.next.y;
      prev = point;
    }
  }
  if (options.capBezierPoints) {
    capBezierPoints(points, area);
  }
}

function _isDomSupported() {
  return typeof window !== 'undefined' && typeof document !== 'undefined';
}
function _getParentNode(domNode) {
  let parent = domNode.parentNode;
  if (parent && parent.toString() === '[object ShadowRoot]') {
    parent = parent.host;
  }
  return parent;
}
function parseMaxStyle(styleValue, node, parentProperty) {
  let valueInPixels;
  if (typeof styleValue === 'string') {
    valueInPixels = parseInt(styleValue, 10);
    if (styleValue.indexOf('%') !== -1) {
      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];
    }
  } else {
    valueInPixels = styleValue;
  }
  return valueInPixels;
}
const getComputedStyle = (element) => window.getComputedStyle(element, null);
function getStyle(el, property) {
  return getComputedStyle(el).getPropertyValue(property);
}
const positions = ['top', 'right', 'bottom', 'left'];
function getPositionedStyle(styles, style, suffix) {
  const result = {};
  suffix = suffix ? '-' + suffix : '';
  for (let i = 0; i < 4; i++) {
    const pos = positions[i];
    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;
  }
  result.width = result.left + result.right;
  result.height = result.top + result.bottom;
  return result;
}
const useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);
function getCanvasPosition(e, canvas) {
  const touches = e.touches;
  const source = touches && touches.length ? touches[0] : e;
  const {offsetX, offsetY} = source;
  let box = false;
  let x, y;
  if (useOffsetPos(offsetX, offsetY, e.target)) {
    x = offsetX;
    y = offsetY;
  } else {
    const rect = canvas.getBoundingClientRect();
    x = source.clientX - rect.left;
    y = source.clientY - rect.top;
    box = true;
  }
  return {x, y, box};
}
function getRelativePosition(evt, chart) {
  if ('native' in evt) {
    return evt;
  }
  const {canvas, currentDevicePixelRatio} = chart;
  const style = getComputedStyle(canvas);
  const borderBox = style.boxSizing === 'border-box';
  const paddings = getPositionedStyle(style, 'padding');
  const borders = getPositionedStyle(style, 'border', 'width');
  const {x, y, box} = getCanvasPosition(evt, canvas);
  const xOffset = paddings.left + (box && borders.left);
  const yOffset = paddings.top + (box && borders.top);
  let {width, height} = chart;
  if (borderBox) {
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  return {
    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),
    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)
  };
}
function getContainerSize(canvas, width, height) {
  let maxWidth, maxHeight;
  if (width === undefined || height === undefined) {
    const container = _getParentNode(canvas);
    if (!container) {
      width = canvas.clientWidth;
      height = canvas.clientHeight;
    } else {
      const rect = container.getBoundingClientRect();
      const containerStyle = getComputedStyle(container);
      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');
      const containerPadding = getPositionedStyle(containerStyle, 'padding');
      width = rect.width - containerPadding.width - containerBorder.width;
      height = rect.height - containerPadding.height - containerBorder.height;
      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');
      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');
    }
  }
  return {
    width,
    height,
    maxWidth: maxWidth || INFINITY,
    maxHeight: maxHeight || INFINITY
  };
}
const round1 = v => Math.round(v * 10) / 10;
function getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {
  const style = getComputedStyle(canvas);
  const margins = getPositionedStyle(style, 'margin');
  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;
  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;
  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);
  let {width, height} = containerSize;
  if (style.boxSizing === 'content-box') {
    const borders = getPositionedStyle(style, 'border', 'width');
    const paddings = getPositionedStyle(style, 'padding');
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  width = Math.max(0, width - margins.width);
  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);
  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));
  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));
  if (width && !height) {
    height = round1(width / 2);
  }
  return {
    width,
    height
  };
}
function retinaScale(chart, forceRatio, forceStyle) {
  const pixelRatio = forceRatio || 1;
  const deviceHeight = Math.floor(chart.height * pixelRatio);
  const deviceWidth = Math.floor(chart.width * pixelRatio);
  chart.height = deviceHeight / pixelRatio;
  chart.width = deviceWidth / pixelRatio;
  const canvas = chart.canvas;
  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {
    canvas.style.height = `${chart.height}px`;
    canvas.style.width = `${chart.width}px`;
  }
  if (chart.currentDevicePixelRatio !== pixelRatio
      || canvas.height !== deviceHeight
      || canvas.width !== deviceWidth) {
    chart.currentDevicePixelRatio = pixelRatio;
    canvas.height = deviceHeight;
    canvas.width = deviceWidth;
    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
    return true;
  }
  return false;
}
const supportsEventListenerOptions = (function() {
  let passiveSupported = false;
  try {
    const options = {
      get passive() {
        passiveSupported = true;
        return false;
      }
    };
    window.addEventListener('test', null, options);
    window.removeEventListener('test', null, options);
  } catch (e) {
  }
  return passiveSupported;
}());
function readUsedSize(element, property) {
  const value = getStyle(element, property);
  const matches = value && value.match(/^(\d+)(\.\d+)?px$/);
  return matches ? +matches[1] : undefined;
}

function _pointInLine(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: p1.y + t * (p2.y - p1.y)
  };
}
function _steppedInterpolation(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y
    : mode === 'after' ? t < 1 ? p1.y : p2.y
    : t > 0 ? p2.y : p1.y
  };
}
function _bezierInterpolation(p1, p2, t, mode) {
  const cp1 = {x: p1.cp2x, y: p1.cp2y};
  const cp2 = {x: p2.cp1x, y: p2.cp1y};
  const a = _pointInLine(p1, cp1, t);
  const b = _pointInLine(cp1, cp2, t);
  const c = _pointInLine(cp2, p2, t);
  const d = _pointInLine(a, b, t);
  const e = _pointInLine(b, c, t);
  return _pointInLine(d, e, t);
}

const intlCache = new Map();
function getNumberFormat(locale, options) {
  options = options || {};
  const cacheKey = locale + JSON.stringify(options);
  let formatter = intlCache.get(cacheKey);
  if (!formatter) {
    formatter = new Intl.NumberFormat(locale, options);
    intlCache.set(cacheKey, formatter);
  }
  return formatter;
}
function formatNumber(num, locale, options) {
  return getNumberFormat(locale, options).format(num);
}

const getRightToLeftAdapter = function(rectX, width) {
  return {
    x(x) {
      return rectX + rectX + width - x;
    },
    setWidth(w) {
      width = w;
    },
    textAlign(align) {
      if (align === 'center') {
        return align;
      }
      return align === 'right' ? 'left' : 'right';
    },
    xPlus(x, value) {
      return x - value;
    },
    leftForLtr(x, itemWidth) {
      return x - itemWidth;
    },
  };
};
const getLeftToRightAdapter = function() {
  return {
    x(x) {
      return x;
    },
    setWidth(w) {
    },
    textAlign(align) {
      return align;
    },
    xPlus(x, value) {
      return x + value;
    },
    leftForLtr(x, _itemWidth) {
      return x;
    },
  };
};
function getRtlAdapter(rtl, rectX, width) {
  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();
}
function overrideTextDirection(ctx, direction) {
  let style, original;
  if (direction === 'ltr' || direction === 'rtl') {
    style = ctx.canvas.style;
    original = [
      style.getPropertyValue('direction'),
      style.getPropertyPriority('direction'),
    ];
    style.setProperty('direction', direction, 'important');
    ctx.prevTextDirection = original;
  }
}
function restoreTextDirection(ctx, original) {
  if (original !== undefined) {
    delete ctx.prevTextDirection;
    ctx.canvas.style.setProperty('direction', original[0], original[1]);
  }
}

function propertyFn(property) {
  if (property === 'angle') {
    return {
      between: _angleBetween,
      compare: _angleDiff,
      normalize: _normalizeAngle,
    };
  }
  return {
    between: _isBetween,
    compare: (a, b) => a - b,
    normalize: x => x
  };
}
function normalizeSegment({start, end, count, loop, style}) {
  return {
    start: start % count,
    end: end % count,
    loop: loop && (end - start + 1) % count === 0,
    style
  };
}
function getSegment(segment, points, bounds) {
  const {property, start: startBound, end: endBound} = bounds;
  const {between, normalize} = propertyFn(property);
  const count = points.length;
  let {start, end, loop} = segment;
  let i, ilen;
  if (loop) {
    start += count;
    end += count;
    for (i = 0, ilen = count; i < ilen; ++i) {
      if (!between(normalize(points[start % count][property]), startBound, endBound)) {
        break;
      }
      start--;
      end--;
    }
    start %= count;
    end %= count;
  }
  if (end < start) {
    end += count;
  }
  return {start, end, loop, style: segment.style};
}
function _boundSegment(segment, points, bounds) {
  if (!bounds) {
    return [segment];
  }
  const {property, start: startBound, end: endBound} = bounds;
  const count = points.length;
  const {compare, between, normalize} = propertyFn(property);
  const {start, end, loop, style} = getSegment(segment, points, bounds);
  const result = [];
  let inside = false;
  let subStart = null;
  let value, point, prevValue;
  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;
  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);
  const shouldStart = () => inside || startIsBefore();
  const shouldStop = () => !inside || endIsBefore();
  for (let i = start, prev = start; i <= end; ++i) {
    point = points[i % count];
    if (point.skip) {
      continue;
    }
    value = normalize(point[property]);
    if (value === prevValue) {
      continue;
    }
    inside = between(value, startBound, endBound);
    if (subStart === null && shouldStart()) {
      subStart = compare(value, startBound) === 0 ? i : prev;
    }
    if (subStart !== null && shouldStop()) {
      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));
      subStart = null;
    }
    prev = i;
    prevValue = value;
  }
  if (subStart !== null) {
    result.push(normalizeSegment({start: subStart, end, loop, count, style}));
  }
  return result;
}
function _boundSegments(line, bounds) {
  const result = [];
  const segments = line.segments;
  for (let i = 0; i < segments.length; i++) {
    const sub = _boundSegment(segments[i], line.points, bounds);
    if (sub.length) {
      result.push(...sub);
    }
  }
  return result;
}
function findStartAndEnd(points, count, loop, spanGaps) {
  let start = 0;
  let end = count - 1;
  if (loop && !spanGaps) {
    while (start < count && !points[start].skip) {
      start++;
    }
  }
  while (start < count && points[start].skip) {
    start++;
  }
  start %= count;
  if (loop) {
    end += start;
  }
  while (end > start && points[end % count].skip) {
    end--;
  }
  end %= count;
  return {start, end};
}
function solidSegments(points, start, max, loop) {
  const count = points.length;
  const result = [];
  let last = start;
  let prev = points[start];
  let end;
  for (end = start + 1; end <= max; ++end) {
    const cur = points[end % count];
    if (cur.skip || cur.stop) {
      if (!prev.skip) {
        loop = false;
        result.push({start: start % count, end: (end - 1) % count, loop});
        start = last = cur.stop ? end : null;
      }
    } else {
      last = end;
      if (prev.skip) {
        start = end;
      }
    }
    prev = cur;
  }
  if (last !== null) {
    result.push({start: start % count, end: last % count, loop});
  }
  return result;
}
function _computeSegments(line, segmentOptions) {
  const points = line.points;
  const spanGaps = line.options.spanGaps;
  const count = points.length;
  if (!count) {
    return [];
  }
  const loop = !!line._loop;
  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);
  if (spanGaps === true) {
    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);
  }
  const max = end < start ? end + count : end;
  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;
  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);
}
function splitByStyles(line, segments, points, segmentOptions) {
  if (!segmentOptions || !segmentOptions.setContext || !points) {
    return segments;
  }
  return doSplitByStyles(line, segments, points, segmentOptions);
}
function doSplitByStyles(line, segments, points, segmentOptions) {
  const chartContext = line._chart.getContext();
  const baseStyle = readStyle(line.options);
  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;
  const count = points.length;
  const result = [];
  let prevStyle = baseStyle;
  let start = segments[0].start;
  let i = start;
  function addStyle(s, e, l, st) {
    const dir = spanGaps ? -1 : 1;
    if (s === e) {
      return;
    }
    s += count;
    while (points[s % count].skip) {
      s -= dir;
    }
    while (points[e % count].skip) {
      e += dir;
    }
    if (s % count !== e % count) {
      result.push({start: s % count, end: e % count, loop: l, style: st});
      prevStyle = st;
      start = e % count;
    }
  }
  for (const segment of segments) {
    start = spanGaps ? start : segment.start;
    let prev = points[start % count];
    let style;
    for (i = start + 1; i <= segment.end; i++) {
      const pt = points[i % count];
      style = readStyle(segmentOptions.setContext(createContext(chartContext, {
        type: 'segment',
        p0: prev,
        p1: pt,
        p0DataIndex: (i - 1) % count,
        p1DataIndex: i % count,
        datasetIndex
      })));
      if (styleChanged(style, prevStyle)) {
        addStyle(start, i - 1, segment.loop, prevStyle);
      }
      prev = pt;
      prevStyle = style;
    }
    if (start < i - 1) {
      addStyle(start, i - 1, segment.loop, prevStyle);
    }
  }
  return result;
}
function readStyle(options) {
  return {
    backgroundColor: options.backgroundColor,
    borderCapStyle: options.borderCapStyle,
    borderDash: options.borderDash,
    borderDashOffset: options.borderDashOffset,
    borderJoinStyle: options.borderJoinStyle,
    borderWidth: options.borderWidth,
    borderColor: options.borderColor
  };
}
function styleChanged(style, prevStyle) {
  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);
}




/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Entry.js ***!
  \************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Login__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Login */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Login.js");
/* harmony import */ var _SystemPages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SystemPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js");
/* harmony import */ var _AgentPages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AgentPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _DiscountPages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DiscountPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\DiscountPages.js");
/* harmony import */ var _dataStatistic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dataStatistic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatistic.js");
/* harmony import */ var _initJqueryAjax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./initJqueryAjax */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\initJqueryAjax.js");








$(document).ready(function () {
  try {
    EntryJS();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    return;
  }
});
function EntryJS() {
  // readonly禁用backspace:
  document.onkeydown = _Global__WEBPACK_IMPORTED_MODULE_0__["default"].banBackSpace;

  // Login page:
  if (document.querySelector('input[data-pageId=dovepay-freight_login]')) {
    (0,_Login__WEBPACK_IMPORTED_MODULE_1__.initLogin_page)();
  }

  // Init Main:
  if (document.getElementById('dpfMain')) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].initMain();
  }

  // Init navbar:
  if (document.getElementById('dpfNav')) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].initNav();
  }

  // Init header:
  if (document.getElementById('dpfHeader')) {
    (0,_Login__WEBPACK_IMPORTED_MODULE_1__.initLogin_initQuirBtn)();
    if (document.getElementById('agentNameInHeader')) (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_userName)();
  }

  // 初始化系统商：用户查询：
  if (document.querySelector('input[data-pageId=system_getAllConsumer]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getAllConsumer)();
  }
  // 初始化系统商：账单查询：
  // if (document.querySelector('input[data-pageId=system_systemQueryBill]')) {
  //   initSystem_systemQueryBill();
  // }
  // 初始化系统商：查询账单：新需求
  if (document.querySelector('input[data-pageId=system_systemQueryBill_new]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_systemQueryBill_new)();
  }
  // 初始化系统商：账单详情查询：
  // if (document.querySelector('input[data-pageId=system_systemQueryBillDetails]')) {
  //   initSystem_systemQueryBillDetails();
  // }
  // 初始化系统商：查询账单详情：新需求
  if (document.querySelector('input[data-pageId=system_systemQueryBillDetails_new]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_systemQueryBillDetails_new)();
  }
  // 初始化系统商：优惠政策管理：
  if (document.querySelector('input[data-pageId=system_getAllDiscountPolicy]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getAllDiscountPolicy)();
  }
  // 初始化系统商：优惠政策详情：
  if (document.querySelector('input[data-pageId=system_getDiscountPolicy]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getDiscountPolicy)();
  }
  // 初始化系统商: 账单汇总查询:
  if (document.querySelector('input[data-pageId=system_billMangement_queryBills]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_billMangement_queryBills)();
  }
  // 初始化系统商: 基础数据页面:
  if (document.querySelector('input[data-pageId=system_baseData]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_baseData)();
  }

  // 初始化agent：查询账单(旧需求)：
  // if (document.querySelector('input[data-pageId=consumer_consumerQueryBill]')) {
  //   initAgent_consumerQueryBill();
  // }
  // 初始化agent：查询账单(新需求)：
  if (document.querySelector('input[data-pageId=agent_billMangement_queryBills]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_consumerQueryBill_new)();
  }
  // 初始化agent：查询账单详情(旧需求)：
  // if (document.querySelector('input[data-pageId=consumer_consumerQueryBillDetails]')) {
  //   initAgent_consumerQueryBillDetails();
  // }
  // 初始化agent：查询账单详情(新需求)：
  if (document.querySelector('input[data-pageId=consumer_consumerQueryBillDetails_new]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_consumerQueryBillDetails_new)();
  }
  // 初始化agent：绑定账户：
  if (document.querySelector('input[data-pageId=consumer_getBindConsumer]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_getBindConsumer)();
  }

  // 初始化station：查询账单：旧需求
  // if (document.querySelector('input[data-pageId=station_stationQueryBill]')) {
  //   initStation_stationQueryBill();
  // }
  // 初始化station：查询账单：新需求
  if (document.querySelector('input[data-pageId=station_stationQueryBill_new]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_stationQueryBill_new)();
  }
  // 初始化station：查询账单详情：旧需求
  // if (document.querySelector('input[data-pageId=station_stationQueryBillDetails]')) {
  //   initStation_stationQueryBillDetails();
  // }
  // 初始化station：查询账单详情：新需求
  if (document.querySelector('input[data-pageId=station_stationQueryBillDetails_new]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_stationQueryBillDetails_new)();
  }
  // 初始化station：用户信息管理：
  if (document.querySelector('input[data-pageId=station_getStationAllConsumer]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_getStationAllConsumer)();
  }
  // 初始化station: 优惠政策管理：
  if (document.querySelector('input[data-pageId=station_getAllDiscountPolicy]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_getAllDiscountPolicy)();
  }
  // 初始化station:优惠: 设置页面选项卡
  if (document.querySelector('input[data-pageId=station_createDiscountPolicy]')) {
    (0,_DiscountPages__WEBPACK_IMPORTED_MODULE_5__.initStation_initTabs)();
  }
  // 初始化station:优惠：政策名细页面：
  if (document.querySelector('input[data-pageId=discountPoliciesManagementDetails]')) {
    (0,_DiscountPages__WEBPACK_IMPORTED_MODULE_5__.initStation_discountPoliciesManagementDetails)();
  }
  // 初始化station: 基础数据页面:
  if (document.querySelector('input[data-pageId=station_baseData]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_baseData)();
  }
  // 初始化station: 账单规则查询页面:
  if (document.querySelector('input[data-pageId=station_billsSetting]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billsSetting)();
  }
  // 初始化station: 新增账单规则页面:
  if (document.querySelector('input[data-pageId=station_billsSetting_addRule]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billsSetting_addRule)();
  }
  // 初始化station: 账单汇总查询:
  if (document.querySelector('input[data-pageId=station_billMangement_queryBills]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billMangement_queryBills)();
  }
  // 初始化station: 数据统计:
  if (document.querySelector('input[data-pageId=dataStatisticIndex]')) {
    _dataStatistic__WEBPACK_IMPORTED_MODULE_6__.dsIndex();
  }
  // 初始化station: 数据统计明细:
  if (document.querySelector('input[data-pageId=dataStatisticDetails]')) {
    _dataStatistic__WEBPACK_IMPORTED_MODULE_6__.dsDetails();
  }
}
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG92ZXBheUZyZWlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXVCO0FBSUQ7QUFFd0I7QUFFdkMsU0FBU08sK0JBQStCQSxDQUFBLEVBQUc7RUFDaEQsT0FBT1AsK0VBQWdDLEVBQUU7QUFDM0M7QUFDTyxTQUFTUSxzQ0FBc0NBLENBQUEsRUFBRztFQUN2RCxPQUFPUCxzRkFBdUMsRUFBRTtBQUNsRDtBQUNPLFNBQVNRLGtCQUFrQkEsQ0FBQSxFQUFHO0VBQ25DLElBQUlDLElBQUksR0FBR0MsUUFBUSxDQUFDQyxjQUFjLENBQUMsbUJBQW1CLENBQUM7RUFDdkRWLHVEQUFTLENBQUNTLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBQUNDLEtBQUssRUFBRSxFQUFFLEVBQUVDLFdBQVcsRUFBRSxLQUFLLENBQUM7RUFDL0YsU0FBU0EsV0FBV0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ3ZCTixJQUFJLENBQUNPLFNBQVMsR0FBRyxRQUFRLEdBQUdELEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxlQUFlO0VBQ3ZEO0FBQ0Y7QUFDTyxTQUFTQyx5QkFBeUJBLENBQUEsRUFBRztFQUMxQztFQUNBLElBQUlDLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsaUNBQWlDLENBQUMsQ0FBQ0MsS0FBSztFQUN6RVgsdUVBQXlCLENBQUNrQixHQUFHLENBQUM7QUFDaEM7QUFFTyxTQUFTQyxTQUFTQSxDQUFBLEVBQUUsQ0FBQztBQUM1QkEsU0FBUyxDQUFDQyxTQUFTLENBQUNDLGVBQWUsR0FBRyxVQUFTUixHQUFHLEVBQUU7RUFDbEQsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7SUFDZk8sSUFBSSxHQUFHUCxJQUFJLENBQUNDLGVBQWU7SUFBRztJQUM5Qk8sTUFBTSxHQUFHUixJQUFJLENBQUNRLE1BQU07SUFBVTtJQUM5QjtJQUNBQyxVQUFVLEdBQUdULElBQUksQ0FBQ1UsY0FBYztJQUNoQ0MsSUFBSSxHQUFHbEIsUUFBUSxDQUFDQyxjQUFjLENBQUMsK0JBQStCLENBQUM7SUFDL0RrQixPQUFPLEdBQUdELElBQUksQ0FBQ2hCLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQztJQUN0RGtCLE9BQU8sR0FBR0YsSUFBSSxDQUFDaEIsYUFBYSxDQUFDLG9CQUFvQixDQUFDO0lBQ2xEbUIsT0FBTyxHQUFHSCxJQUFJLENBQUNoQixhQUFhLENBQUMsNkJBQTZCLENBQUM7SUFDM0RvQixPQUFPLEdBQUd0QixRQUFRLENBQUNDLGNBQWMsQ0FBQyxZQUFZLENBQUM7RUFDbkRrQixPQUFPLENBQUNoQixLQUFLLEdBQUdhLFVBQVU7RUFDMUJJLE9BQU8sQ0FBQ2pCLEtBQUssR0FBR1ksTUFBTTtFQUN0Qk0sT0FBTyxDQUFDbEIsS0FBSyxHQUFHVyxJQUFJO0VBQ3BCLElBQUlTLFVBQVUsRUFBRUMsR0FBRztFQUNuQixJQUFJVCxNQUFNLElBQUksQ0FBQyxFQUFFO0lBQUc7SUFDbEJPLE9BQU8sQ0FBQ0csU0FBUyxHQUFHLE1BQU07SUFDMUJGLFVBQVUsR0FBR3ZCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGNBQWMsQ0FBQztJQUNuRCxJQUFJcUIsVUFBVSxFQUFFNUIsbURBQVMsQ0FBQzRCLFVBQVUsQ0FBQztJQUNyQ0MsR0FBRyxHQUFHOUIsbURBQVMsQ0FBQyxTQUFTLEVBQUU7TUFBQ2dDLEtBQUssRUFBRSxTQUFTO01BQUVDLEtBQUssRUFBRTtJQUFJLENBQUMsQ0FBQztJQUMzREMsQ0FBQyxDQUFDSixHQUFHLENBQUMsQ0FBQ0ssWUFBWSxDQUFDWCxJQUFJLENBQUM7SUFDekJJLE9BQU8sQ0FBQ1EsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtNQUNoREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7TUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsOEJBQThCLENBQUMsQ0FBQ0MsS0FBSztNQUN0RSxJQUFJSSxJQUFJLEdBQUc7UUFDVFUsY0FBYyxFQUFFRCxVQUFVO1FBQzFCRCxNQUFNLEVBQUU7TUFDVixDQUFDO01BQ0R0QixvRUFBc0IsQ0FBQ2lCLEdBQUcsRUFBRUgsSUFBSSxDQUFDO0lBQ25DLENBQUMsQ0FBQztFQUNKO0VBQ0EsSUFBSVEsTUFBTSxJQUFJLENBQUMsRUFBRTtJQUFHO0lBQ2xCTyxPQUFPLENBQUNHLFNBQVMsR0FBRyxNQUFNO0lBQzFCRixVQUFVLEdBQUd2QixRQUFRLENBQUNFLGFBQWEsQ0FBQyxjQUFjLENBQUM7SUFDbkQsSUFBSXFCLFVBQVUsRUFBRTVCLG1EQUFTLENBQUM0QixVQUFVLENBQUM7SUFDckNDLEdBQUcsR0FBRzlCLG1EQUFTLENBQUMsUUFBUSxFQUFFO01BQUNnQyxLQUFLLEVBQUUsU0FBUztNQUFFQyxLQUFLLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDMURDLENBQUMsQ0FBQ0osR0FBRyxDQUFDLENBQUNLLFlBQVksQ0FBQ1gsSUFBSSxDQUFDO0lBQ3pCSSxPQUFPLENBQUNRLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDaERBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUl0QixHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBQUNDLEtBQUs7TUFDdEUsSUFBSUksSUFBSSxHQUFHO1FBQ1RVLGNBQWMsRUFBRUQsVUFBVTtRQUMxQkQsTUFBTSxFQUFFO01BQ1YsQ0FBQztNQUNEO01BQ0FrQixLQUFLLENBQUNDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQUNDLElBQUksQ0FBQyxZQUFVO1FBQzNEM0Msb0VBQXNCLENBQUNpQixHQUFHLEVBQUVILElBQUksQ0FBQztNQUNuQyxDQUFDLEVBQUUsWUFBVTtRQUNYO01BQ0YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0o7QUFDRixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xGNkI7QUFDZ0I7QUFDYjtBQUNPO0FBQ0Q7QUFDRDs7QUFFdEM7QUFDTyxTQUFTa0MsUUFBUUEsQ0FBRXBDLEdBQUcsRUFBRXFDLFFBQVEsRUFBRTtFQUN2QyxJQUFJckMsR0FBRyxDQUFDc0MsSUFBSSxJQUFJLEtBQUssRUFBRTtJQUNyQixJQUFJQyxNQUFNLEdBQUcsWUFBWSxHQUFHdkMsR0FBRyxDQUFDc0MsSUFBSSxHQUFHLElBQUksR0FBR3RDLEdBQUcsQ0FBQ3dDLEdBQUc7SUFDckRSLDREQUFvQixDQUFDTyxNQUFNLEVBQUVGLFFBQVEsQ0FBQztJQUN0QyxJQUFJSyxPQUFPLEVBQUU7TUFDWEEsT0FBTyxDQUFDQyxLQUFLLENBQUMsWUFBWSxFQUFFM0MsR0FBRyxDQUFDO0lBQ2xDO0lBQ0EsT0FBTyxLQUFLO0VBQ2Q7QUFDRjtBQUNBO0FBQ08sU0FBUzRDLGdCQUFnQkEsQ0FBQ0MsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRVYsUUFBUSxFQUFFVyxlQUFlLEVBQUVDLE1BQU0sRUFBRTtFQUNqRyxJQUFJQyxTQUFTLEdBQUd2RCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7RUFDcERzRCxTQUFTLENBQUN6QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFDO0lBQ2pEQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtJQUN0QixJQUFJd0IsS0FBSyxHQUFHNUIsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNuQixJQUFJbEIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDQyxLQUFLO0lBQ2xFLElBQUlzRCxRQUFRLEdBQUdELEtBQUssQ0FBQ0UsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDQyxlQUFlLEVBQUU7SUFDdEQsSUFBSSxPQUFPTixlQUFlLEtBQUssVUFBVSxFQUFFQSxlQUFlLENBQUNPLElBQUksQ0FBQyxJQUFJLEVBQUVILFFBQVEsQ0FBQztJQUMvRUEsUUFBUSxDQUFDUCxVQUFVLEdBQUdBLFVBQVU7SUFDaENPLFFBQVEsQ0FBQ0ksU0FBUyxHQUFHWCxVQUFVO0lBQy9CTyxRQUFRLENBQUNOLFFBQVEsR0FBR0EsUUFBUTtJQUM1Qk0sUUFBUSxDQUFDSyxTQUFTLEdBQUdYLFFBQVE7SUFDN0JkLCtEQUF1QixFQUFFO0lBQ3pCLElBQUksT0FBT0ssUUFBUSxLQUFLLFVBQVUsRUFBRTtNQUNsQ1UsT0FBTyxDQUFDUSxJQUFJLENBQUMsSUFBSSxFQUFFbEQsR0FBRyxFQUFFK0MsUUFBUSxFQUFFZixRQUFRLEVBQUVZLE1BQU0sQ0FBQztJQUNyRCxDQUFDLE1BQU07TUFDTEYsT0FBTyxDQUFDUSxJQUFJLENBQUMsSUFBSSxFQUFFbEQsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO0lBQ25DO0VBQ0YsQ0FBQyxDQUFDO0VBQ0ZGLFNBQVMsQ0FBQ1UsS0FBSyxFQUFFO0FBQ25CO0FBQ0E7QUFDTyxTQUFTQyxnQkFBZ0JBLENBQUNkLE9BQU8sRUFBRTtFQUN4QyxJQUFJZSxPQUFPLEdBQUduRSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7RUFDbEQsSUFBSSxDQUFDa0UsT0FBTyxFQUFFO0VBQ2RBLE9BQU8sQ0FBQ3JDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7SUFDaERBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO0lBQ3RCLElBQUl3QixLQUFLLEdBQUc1QixDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ25CLElBQUlsQixHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDJCQUEyQixDQUFDLENBQUNDLEtBQUs7SUFDbkUsSUFBSSxDQUFDTyxHQUFHLEVBQUU7SUFDVixJQUFJK0MsUUFBUSxHQUFHRCxLQUFLLENBQUNFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQ0MsZUFBZSxFQUFFO0lBQ3REUCxPQUFPLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVsRCxHQUFHLEVBQUUrQyxRQUFRLENBQUM7RUFDbkMsQ0FBQyxDQUFDO0FBQ0o7QUFDQTtBQUNPLFNBQVNXLGlCQUFpQkEsQ0FBQzFELEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQzNDLElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DLElBQUlnRSxRQUFRLEdBQUcsVUFBVTtFQUN6QjtFQUNBM0MsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0xDLFFBQVEsRUFBRSxFQUFFO0lBQ1pDLFNBQVMsRUFBRTtNQUNUQyxZQUFZLEVBQUU7SUFDaEIsQ0FBQztJQUNEakUsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFVSxNQUFNLEVBQUU4RCxHQUFHLEVBQUU7TUFDbEM7TUFDQSxJQUFJQSxHQUFHLENBQUM5RCxNQUFNLElBQUksR0FBRyxFQUFFO1FBQ3JCLElBQUk2QixNQUFNLEdBQUcsUUFBUSxHQUFHaUMsR0FBRyxDQUFDOUQsTUFBTSxHQUFHLElBQUksR0FBSThELEdBQUcsQ0FBQ0MsVUFBVTtRQUMzRHpDLDREQUFvQixDQUFDTyxNQUFNLENBQUM7UUFDNUI7TUFDRjtNQUNBLElBQUltQyxNQUFNLENBQUNDLFNBQVMsQ0FBQ0MsZ0JBQWdCLEVBQUU7UUFDckNGLE1BQU0sQ0FBQ0MsU0FBUyxDQUFDRSxVQUFVLENBQUM3RSxHQUFHLEVBQUVrRSxRQUFRLENBQUM7TUFDNUMsQ0FBQyxNQUFNO1FBQ0wsSUFBSVksWUFBWSxHQUFHSixNQUFNLENBQUMvRSxRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO1FBQ3JERCxZQUFZLENBQUNFLElBQUksR0FBR04sTUFBTSxDQUFDTyxHQUFHLENBQUNDLGVBQWUsQ0FBQ2xGLEdBQUcsQ0FBQztRQUNuRDhFLFlBQVksQ0FBQ0ssUUFBUSxHQUFHakIsUUFBUTtRQUNoQ3ZFLFFBQVEsQ0FBQ3lGLElBQUksQ0FBQ0MsV0FBVyxDQUFDUCxZQUFZLENBQUM7UUFDdkNBLFlBQVksQ0FBQ2xCLEtBQUssRUFBRTtRQUNwQmpFLFFBQVEsQ0FBQ3lGLElBQUksQ0FBQ0UsV0FBVyxDQUFDUixZQUFZLENBQUM7TUFDekM7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTNUYsU0FBU0EsQ0FBQ21CLEdBQUcsRUFBRUgsSUFBSSxFQUFFbUMsUUFBUSxFQUFFWSxNQUFNLEVBQUU7RUFDckQsSUFBSUcsUUFBUSxHQUFHLEVBQUU7RUFDakIsSUFBSWxELElBQUksRUFBRTtJQUNSLElBQUk7TUFDRixJQUFJcUYsT0FBTyxHQUFHdkQsc0RBQWMsQ0FBQzlCLElBQUksQ0FBQyxHQUFFOEQsSUFBSSxDQUFDeUIsS0FBSyxDQUFDdkYsSUFBSSxDQUFDLEdBQUVBLElBQUk7TUFDMUQsSUFBSSxDQUFDcUYsT0FBTyxJQUFJRyxPQUFBLENBQU9ILE9BQU8sTUFBSyxRQUFRLEVBQUUsTUFBTSxJQUFJSSxLQUFLLENBQUMsY0FBYyxDQUFDO01BQzVFdkMsUUFBUSxHQUFHcEIsc0RBQWMsQ0FBQzlCLElBQUksQ0FBQyxHQUFFQSxJQUFJLEdBQUU4RCxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztJQUM3RCxDQUFDLENBQUMsT0FBT3lDLEtBQUssRUFBRTtNQUNkWCw0REFBb0IsQ0FBQ1csS0FBSyxDQUFDO01BQzNCO0lBQ0Y7RUFDRjtFQUNBLElBQUlpRCxnQkFBZ0I7RUFDcEIsSUFBSTNDLE1BQU0sSUFBSSxPQUFPQSxNQUFNLEtBQUssVUFBVSxFQUFFO0lBQzFDMkMsZ0JBQWdCLEdBQUczQyxNQUFNO0VBQzNCO0VBQ0EsSUFBSTRDLFVBQVUsR0FBRztJQUNmeEYsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLEVBQUU0RixnQkFBZ0IsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUMvQyxJQUFJNUYsR0FBRyxDQUFDd0MsR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUN4QixJQUFJO1VBQ0YsSUFBSStDLE9BQU8sSUFBSUEsT0FBTyxDQUFDMUMsVUFBVSxFQUFFO1lBQ2pDUixRQUFRLENBQUNrQixJQUFJLENBQUMsSUFBSSxFQUFFdkQsR0FBRyxFQUFFdUYsT0FBTyxDQUFDMUMsVUFBVSxFQUFFMEMsT0FBTyxDQUFDekMsUUFBUSxDQUFDO1VBQ2hFLENBQUMsTUFBTTtZQUNMVCxRQUFRLENBQUNrQixJQUFJLENBQUMsSUFBSSxFQUFFdkQsR0FBRyxDQUFDO1VBQzFCO1FBQ0YsQ0FBQyxDQUFDLE9BQU0yQyxLQUFLLEVBQUU7VUFDYlgsNERBQW9CLENBQUNXLEtBQUssQ0FBQztVQUMzQjtRQUNGO01BQ0YsQ0FBQyxNQUFNO1FBQ0xYLDREQUFvQixDQUFDaEMsR0FBRyxDQUFDd0MsR0FBRyxDQUFDO1FBQzdCO01BQ0Y7SUFDRjtFQUNGLENBQUM7RUFDRCxJQUFJUyxNQUFNLElBQUl5QyxPQUFBLENBQU96QyxNQUFNLE1BQUssUUFBUSxFQUFFO0lBQ3hDLEtBQUssSUFBSTZDLEdBQUcsSUFBSTdDLE1BQU0sRUFBRTtNQUN0QjRDLFVBQVUsQ0FBQ0MsR0FBRyxDQUFDLEdBQUc3QyxNQUFNLENBQUM2QyxHQUFHLENBQUM7SUFDL0I7RUFDRixDQUFDLE1BQU0sSUFBSTdDLE1BQU0sS0FBSyxLQUFLLEVBQUU7SUFDM0I0QyxVQUFVLENBQUNFLE1BQU0sR0FBRyxLQUFLO0VBQzNCO0VBQ0F4RSxDQUFDLENBQUM0QyxJQUFJLENBQUMwQixVQUFVLENBQUM7QUFDcEI7O0FBRUE7QUFDTyxTQUFTRyx3QkFBd0JBLENBQUMzRixHQUFHLEVBQUVILElBQUksRUFBRTtFQUNsRCxJQUFJa0QsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQyxJQUFJMkMsVUFBVSxHQUFHM0MsSUFBSSxDQUFDMkMsVUFBVTtFQUNoQyxJQUFJQyxRQUFRLEdBQUc1QyxJQUFJLENBQUM0QyxRQUFRO0VBQzVCO0VBQ0F2QixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUVrRCxRQUFRO0lBQ2RtQixPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJb0MsUUFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCO01BQ0EsSUFBSWlHLEtBQUssR0FBRyxJQUFJOUQsb0RBQVMsRUFBRTtNQUMzQixJQUFJO1FBQ0Y4RCxLQUFLLENBQUNDLGlCQUFpQixDQUFDbEcsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLENBQUM7TUFDcEQsQ0FBQyxDQUFDLE9BQU9xRCxHQUFHLEVBQUU7UUFDWm5FLDREQUFvQixDQUFDbUUsR0FBRyxDQUFDO01BQzNCO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNPLFNBQVNDLCtCQUErQkEsQ0FBQy9GLEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQ3pELElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DcUIsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVBLEdBQUc7SUFDUkgsSUFBSSxFQUFFa0QsUUFBUTtJQUNkbUIsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QjtNQUNBLElBQUlpRyxLQUFLLEdBQUcsSUFBSTlELG9EQUFTLEVBQUU7TUFDM0IsSUFBSTtRQUNGOEQsS0FBSyxDQUFDSSxnQkFBZ0IsQ0FBQ3JHLEdBQUcsQ0FBQztNQUM3QixDQUFDLENBQUMsT0FBT21HLEdBQUcsRUFBRTtRQUNabkUsNERBQW9CLENBQUNtRSxHQUFHLENBQUM7TUFDM0I7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ08sU0FBU0csOEJBQThCQSxDQUFDakcsR0FBRyxFQUFFSCxJQUFJLEVBQUU7RUFDeEQsSUFBSWtELFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUMvRCxJQUFJLENBQUM7RUFDbkMsSUFBSTJDLFVBQVUsR0FBRzNDLElBQUksQ0FBQzJDLFVBQVU7RUFDaEMsSUFBSUMsUUFBUSxHQUFHNUMsSUFBSSxDQUFDNEMsUUFBUTtFQUM1QkosT0FBTyxDQUFDNkQsR0FBRyxDQUFDbEcsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO0VBQzFCN0IsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVBLEdBQUc7SUFDUkgsSUFBSSxFQUFFa0QsUUFBUTtJQUNkbUIsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QjBDLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQ3ZHLEdBQUcsQ0FBQztNQUNoQixJQUFJaUcsS0FBSyxHQUFHLElBQUk5RCxvREFBUyxFQUFFO01BQzNCLElBQUk7UUFDRjhELEtBQUssQ0FBQ08sc0JBQXNCLENBQUN4RyxHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsQ0FBQztNQUN6RCxDQUFDLENBQUMsT0FBT3FELEdBQUcsRUFBRTtRQUNabkUsNERBQW9CLENBQUNtRSxHQUFHLENBQUM7TUFDM0I7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKOztBQUVBO0FBQ0E7QUFDTyxTQUFTTSxlQUFlQSxDQUFDcEcsR0FBRyxFQUFFSCxJQUFJLEVBQUU7RUFBRztFQUM1QyxJQUFJa0QsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQ3FCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCO01BQ0E7TUFDQSxJQUFJb0MsUUFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO1FBQ2Z3RyxNQUFNLEdBQUd4RyxJQUFJLENBQUN3RyxNQUFNO1FBQ3BCQyxPQUFPLEdBQUd6RyxJQUFJLENBQUN5RyxPQUFPO01BQzFCM0UsNERBQW9CLENBQUMwRSxNQUFNLEVBQUVDLE9BQU8sQ0FBQztJQUN2QztFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTeEgseUJBQXlCQSxDQUFDa0IsR0FBRyxFQUFFO0VBQUc7RUFDaERrQixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSa0UsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QjtNQUNBLElBQUlpRyxLQUFLLEdBQUcsSUFBSTNGLG1EQUFTLEVBQUU7TUFDM0IsSUFBSTtRQUNGMkYsS0FBSyxDQUFDekYsZUFBZSxDQUFDUixHQUFHLENBQUM7TUFDNUIsQ0FBQyxDQUFDLE9BQU9tRyxHQUFHLEVBQUU7UUFDWm5FLDREQUFvQixDQUFDbUUsR0FBRyxDQUFDO01BQzNCO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNBO0FBQ08sU0FBUy9HLHNCQUFzQkEsQ0FBQ2lCLEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQUc7RUFDbkQsSUFBSWtELFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUMvRCxJQUFJLENBQUM7RUFDbkMsSUFBSVEsTUFBTSxHQUFHUixJQUFJLENBQUNRLE1BQU07RUFDeEJhLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlBLEdBQUcsQ0FBQ3NDLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDckIsSUFBSXVFLE1BQU07UUFDVixJQUFJbkcsTUFBTSxJQUFJLEdBQUcsRUFBRTtVQUNqQm1HLE1BQU0sR0FBR2xILFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGNBQWMsQ0FBQztVQUMvQ1Asb0RBQVMsQ0FBQ3VILE1BQU0sQ0FBQztVQUNqQmpGLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDL0UsSUFBSSxDQUFDLFlBQVc7WUFDMUNnRixRQUFRLENBQUNDLE1BQU0sRUFBRTtVQUNuQixDQUFDLENBQUM7UUFDSjtRQUNBLElBQUl0RyxNQUFNLElBQUksR0FBRyxFQUFFO1VBQ2pCbUcsTUFBTSxHQUFHbEgsUUFBUSxDQUFDRSxhQUFhLENBQUMsY0FBYyxDQUFDO1VBQy9DUCxvREFBUyxDQUFDdUgsTUFBTSxDQUFDO1VBQ2pCakYsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMvRSxJQUFJLENBQUMsWUFBVztZQUMxQ2dGLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFO1VBQ25CLENBQUMsQ0FBQztRQUNKO01BQ0YsQ0FBQyxNQUFNO1FBQ0wsSUFBSTdGLEdBQUcsR0FBRzlCLG9EQUFTLENBQUMsU0FBUyxFQUFFO1VBQUNnQyxLQUFLLEVBQUUsUUFBUTtVQUFFQyxLQUFLLEVBQUU7UUFBSSxDQUFDLENBQUM7UUFDOURDLENBQUMsQ0FBQ0osR0FBRyxDQUFDLENBQUNLLFlBQVksQ0FBQzdCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO01BQ3JEO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjs7QUFFQTtBQUNBO0FBQ08sU0FBU29ILG1CQUFtQkEsQ0FBQzVHLEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQzdDLElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DcUIsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVBLEdBQUc7SUFDUkgsSUFBSSxFQUFFa0QsUUFBUTtJQUNkbUIsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QixJQUFJQSxHQUFHLENBQUN3QyxHQUFHLElBQUksU0FBUyxFQUFFO1FBQ3hCWixLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQy9FLElBQUksQ0FBQyxZQUFXO1VBQ3hDcEMsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUNnRSxLQUFLLEVBQUU7UUFDOUMsQ0FBQyxDQUFDO01BQ0o7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTc0QseUJBQXlCQSxDQUFDN0csR0FBRyxFQUFFSCxJQUFJLEVBQUU7RUFDbkQsSUFBSWtELFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUMvRCxJQUFJLENBQUM7RUFDbkM7RUFDQXFCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0IsSUFBSTtRQUNGLElBQUlBLEdBQUcsQ0FBQ3dDLEdBQUcsSUFBSSxTQUFTLEVBQUU7VUFDeEJaLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDL0UsSUFBSSxDQUFDLFlBQVU7WUFDdkNwQyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ2dFLEtBQUssRUFBRTtVQUM5QyxDQUFDLENBQUM7UUFDSjtNQUNGLENBQUMsQ0FBQyxPQUFPdUQsQ0FBQyxFQUFFO1FBQ1ZuRiw0REFBb0IsQ0FBQ21GLENBQUMsQ0FBQztNQUN6QjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFDQTtBQUNPLFNBQVNDLCtCQUErQkEsQ0FBQy9HLEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQ3pELElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DO0VBQ0EsSUFBSTJDLFVBQVUsR0FBRzNDLElBQUksQ0FBQzJDLFVBQVU7RUFDaEMsSUFBSUMsUUFBUSxHQUFHNUMsSUFBSSxDQUFDNEMsUUFBUTtFQUM1QnZCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0I7TUFDQSxJQUFJaUcsS0FBSyxHQUFHLElBQUkvRCxxREFBUyxFQUFFO01BQzNCLElBQUk7UUFDRitELEtBQUssQ0FBQ29CLDhCQUE4QixDQUFDckgsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLENBQUM7TUFDakUsQ0FBQyxDQUFDLE9BQU9xRCxHQUFHLEVBQUU7UUFDWm5FLDREQUFvQixDQUFDbUUsR0FBRyxDQUFDO01BQzNCO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNBO0FBQ08sU0FBU21CLDZCQUE2QkEsQ0FBQ2pILEdBQUcsRUFBRU0sVUFBVSxFQUFFO0VBQzdEWSxDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUUsRUFBRTtJQUNScUUsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QixJQUFJdUgsT0FBTyxHQUFHNUgsUUFBUSxDQUFDRSxhQUFhLENBQUMsa0JBQWtCLENBQUM7TUFDeEQsSUFBSTJILE9BQU8sR0FBRyxJQUFJdkYsOENBQU8sRUFBRTtNQUMzQixJQUFJO1FBQ0Z1RixPQUFPLENBQUNDLHVCQUF1QixDQUFDekgsR0FBRyxFQUFFdUgsT0FBTyxFQUFFNUcsVUFBVSxDQUFDO1FBQ3pEaUIsS0FBSyxDQUFDQyxLQUFLLENBQUMwRixPQUFPLENBQUMsQ0FBQ0csSUFBSSxFQUFFO01BQzdCLENBQUMsQ0FBQyxPQUFNdkIsR0FBRyxFQUFFO1FBQ1huRSw0REFBb0IsQ0FBQ21FLEdBQUcsQ0FBQztNQUMzQjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFDQTtBQUNPLFNBQVN3Qiw2QkFBNkJBLENBQUN0SCxHQUFHLEVBQUVILElBQUksRUFBRTtFQUN2RCxJQUFLQSxJQUFJLEtBQUssSUFBSSxFQUFHO0lBQ25CMEIsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsYUFBYSxDQUFDO0lBQ2hDO0VBQ0Y7RUFDQSxJQUFJMUQsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQ3FCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0I7TUFDQSxJQUFJO1FBQ0YsSUFBSUEsR0FBRyxDQUFDd0MsR0FBRyxJQUFJLFNBQVMsRUFBRTtVQUN4QlosS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsT0FBTyxDQUFDO1FBQzVCLENBQUMsTUFBTTtVQUNMbEYsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUM5RyxHQUFHLENBQUN3QyxHQUFHLENBQUM7UUFDNUI7TUFDRixDQUFDLENBQUMsT0FBTzJFLENBQUMsRUFBRTtRQUNWbkYsNERBQW9CLENBQUNtRixDQUFDLENBQUM7TUFDekI7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTUywrQkFBK0JBLENBQUN2SCxHQUFHLEVBQUVILElBQUksRUFBRTtFQUN6RCxJQUFJa0QsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQ3FCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0I7TUFDQSxJQUFJO1FBQ0YsSUFBSXVILE9BQU8sR0FBRzVILFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGtCQUFrQixDQUFDO1FBQ3hELElBQUlvRyxLQUFLLEdBQUdzQixPQUFPLENBQUMxSCxhQUFhLENBQUMsT0FBTyxDQUFDO1FBQzFDLElBQUlnSSxHQUFHLEdBQUcsSUFBSTNGLHFEQUFTLEVBQUU7UUFDekIsSUFBSTRGLEtBQUssR0FBR0QsR0FBRyxDQUFDRSw4QkFBOEIsQ0FBQy9ILEdBQUcsQ0FBQztRQUNuRCxJQUFJZ0ksS0FBSyxHQUFHL0IsS0FBSyxDQUFDZ0MsZ0JBQWdCLENBQUMsT0FBTyxDQUFDO1FBQzNDLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixLQUFLLENBQUNHLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7VUFDckNqQyxLQUFLLENBQUNYLFdBQVcsQ0FBQzBDLEtBQUssQ0FBQ0UsQ0FBQyxDQUFDLENBQUM7UUFDN0I7UUFDQWpDLEtBQUssQ0FBQ1osV0FBVyxDQUFDeUMsS0FBSyxDQUFDO1FBQ3hCbEcsS0FBSyxDQUFDQyxLQUFLLENBQUMwRixPQUFPLENBQUMsQ0FBQ0csSUFBSSxFQUFFO01BQzdCLENBQUMsQ0FBQyxPQUFNUCxDQUFDLEVBQUU7UUFDVG5GLDREQUFvQixDQUFDbUYsQ0FBQyxDQUFDO01BQ3pCO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNBO0FBQ08sU0FBU2lCLHNDQUFzQ0EsQ0FBQy9ILEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQ2hFLElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DO0VBQ0FxQixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUVrRCxRQUFRO0lBQ2RtQixPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJQSxHQUFHLENBQUN3QyxHQUFHLElBQUksU0FBUyxFQUFFO1FBQ3hCWixLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQyxPQUFPLENBQUM7TUFDNUIsQ0FBQyxNQUFNO1FBQ0w5RSw0REFBb0IsQ0FBQ2hDLEdBQUcsQ0FBQ3dDLEdBQUcsQ0FBQztNQUMvQjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFDQTtBQUNPLFNBQVM2Riw4QkFBOEJBLENBQUNoSSxHQUFHLEVBQUVILElBQUksRUFBRTtFQUN4RCxJQUFJa0QsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQyxJQUFJMkMsVUFBVSxHQUFHM0MsSUFBSSxDQUFDMkMsVUFBVTtFQUNoQyxJQUFJQyxRQUFRLEdBQUc1QyxJQUFJLENBQUM0QyxRQUFRO0VBQzVCO0VBQ0F2QixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUVrRCxRQUFRO0lBQ2RtQixPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJb0MsUUFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCO01BQ0EsSUFBSTZILEdBQUcsR0FBRyxJQUFJM0YscURBQVMsRUFBRTtNQUN6QjJGLEdBQUcsQ0FBQ1MsNkJBQTZCLENBQUN0SSxHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsQ0FBQztJQUM5RDtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTeUYsOEJBQThCQSxDQUFDbEksR0FBRyxFQUFFSCxJQUFJLEVBQUU7RUFDeEQsSUFBSWtELFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUMvRCxJQUFJLENBQUM7RUFDbkNxQixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUVrRCxRQUFRO0lBQ2RtQixPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJb0MsUUFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCO01BQ0EsSUFBSUEsR0FBRyxDQUFDd0MsR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUN4QlosS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMvRSxJQUFJLENBQUMsWUFBVTtVQUN2Q2dGLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFO1FBQ25CLENBQUMsQ0FBQztNQUNKO0lBQ0Y7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNBO0FBQ08sU0FBU3dCLDJCQUEyQkEsQ0FBQ25JLEdBQUcsRUFBRUgsSUFBSSxFQUFFO0VBQ3JELElBQUlrRCxRQUFRLEdBQUdZLElBQUksQ0FBQ0MsU0FBUyxDQUFDL0QsSUFBSSxDQUFDO0VBQ25DO0VBQ0FxQixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRUEsR0FBRztJQUNSSCxJQUFJLEVBQUVrRCxRQUFRO0lBQ2RtQixPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJb0MsUUFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCO01BQ0EsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7TUFDbkIsSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtRQUNuQnZHLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLEtBQUssQ0FBQztNQUMxQjtNQUNBOUUsbUVBQTJCLENBQUM5QixJQUFJLENBQUM7TUFDakMsSUFBSXdJLEdBQUcsR0FBRy9JLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQztNQUM5QyxJQUFJK0ksbUJBQW1CLEdBQUcsSUFBSTtNQUM5QixJQUFJekksSUFBSSxDQUFDUSxNQUFNLElBQUksR0FBRyxFQUFFO1FBQ3RCZ0ksR0FBRyxDQUFDdEgsU0FBUyxHQUFHLElBQUk7UUFDcEJ1SCxtQkFBbUIsR0FBRyxDQUFDO01BQ3pCLENBQUMsTUFBTTtRQUNMRCxHQUFHLENBQUN0SCxTQUFTLEdBQUcsSUFBSTtRQUNwQnVILG1CQUFtQixHQUFHLENBQUM7TUFDekI7TUFDQUQsR0FBRyxDQUFDakgsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUM1Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsc0NBQXNDLENBQUMsQ0FBQ0MsS0FBSztRQUM5RSxJQUFJc0QsUUFBUSxHQUFHO1VBQ2J3RixnQkFBZ0IsRUFBRTFJLElBQUksQ0FBQzBJLGdCQUFnQjtVQUN2Q2xJLE1BQU0sRUFBRWlJO1FBQ1YsQ0FBQztRQUNESiw4QkFBOEIsQ0FBQ2xJLEdBQUcsRUFBRStDLFFBQVEsQ0FBQztNQUMvQyxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQztBQUNKO0FBQ0E7QUFDTyxTQUFTeUYsb0JBQW9CQSxDQUFDeEksR0FBRyxFQUFFSCxJQUFJLEVBQUU0SSxlQUFlLEVBQUU7RUFDL0QsSUFBSTFGLFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUM7SUFBQzhFLE9BQU8sRUFBRTdJO0VBQUksQ0FBQyxDQUFDO0VBQzlDcUIsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVBLEdBQUc7SUFDUkgsSUFBSSxFQUFFa0QsUUFBUTtJQUNkbUIsT0FBTyxFQUFFLFNBQUFBLFFBQVN2RSxHQUFHLEVBQUU7TUFDckIsSUFBSW9DLFFBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QixJQUFJd0gsT0FBTyxHQUFHLElBQUl2Riw4Q0FBTyxFQUFFO01BQzNCLElBQUk7UUFDRnVGLE9BQU8sQ0FBQ3dCLG9CQUFvQixDQUFDaEosR0FBRyxFQUFFOEksZUFBZSxDQUFDO01BQ3BELENBQUMsQ0FBQyxPQUFNM0IsQ0FBQyxFQUFFO1FBQ1RuRiw0REFBb0IsQ0FBQ21GLENBQUMsQ0FBQztNQUN6QjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFDQTtBQUNPLFNBQVM4Qiw0QkFBNEJBLENBQUM1SSxHQUFHLEVBQUVILElBQUksRUFBRTtFQUN0RCxJQUFJa0QsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQy9ELElBQUksQ0FBQztFQUNuQ3FCLENBQUMsQ0FBQzRDLElBQUksQ0FBQztJQUNMOUQsR0FBRyxFQUFFQSxHQUFHO0lBQ1JILElBQUksRUFBRWtELFFBQVE7SUFDZG1CLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO01BQ3JCLElBQUlvQyxRQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0IsSUFBSUEsR0FBRyxDQUFDd0MsR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUN4QlosS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMvRSxJQUFJLENBQUMsWUFBVztVQUN4QzJDLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRyw0QkFBNEI7UUFDckQsQ0FBQyxDQUFDO01BQ0osQ0FBQyxNQUFNO1FBQ0xoRCw0REFBb0IsQ0FBQ2hDLEdBQUcsQ0FBQ3dDLEdBQUcsQ0FBQztNQUMvQjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDM2Y4QjtBQUNRO0FBQ0Q7QUFHZjtBQUdmLFNBQVM0Ryw2Q0FBNkNBLENBQUEsRUFBRztFQUM5RCxJQUFJUixnQkFBZ0IsR0FBR2pKLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBQUNDLEtBQUs7RUFDbkYsSUFBSU8sR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDQyxLQUFLO0VBQzNFLElBQUlJLElBQUksR0FBRztJQUNUMEksZ0JBQWdCLEVBQUVBO0VBQ3BCLENBQUM7RUFDRDtFQUNBSix5RUFBMkIsQ0FBQ25JLEdBQUcsRUFBRUgsSUFBSSxDQUFDO0VBQ3RDO0VBQ0FQLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDNkIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBQztJQUMxRUEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7SUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsNENBQTRDLENBQUMsQ0FBQ0MsS0FBSztJQUNwRjRFLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRzNFLEdBQUc7RUFDNUIsQ0FBQyxDQUFDO0FBQ0o7QUFDTyxTQUFTZ0osb0JBQW9CQSxDQUFBLEVBQUc7RUFDckMsSUFBSUMsU0FBUyxHQUFHM0osUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztFQUM5RSxJQUFJLENBQUN3SixTQUFTLEVBQUU7RUFDaEIsSUFBSWpILFFBQVEsR0FBRyxTQUFYQSxRQUFRQSxDQUFZckMsR0FBRyxFQUFFO0lBQzNCLElBQUlvQyxzREFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO0lBQzdCLElBQUl1SixLQUFLLEdBQUd2SixHQUFHLENBQUNFLElBQUk7TUFDcEJzSixPQUFPLEdBQUc3SixRQUFRLENBQUNFLGFBQWEsQ0FBQyxlQUFlLENBQUM7SUFDakQsS0FBSyxJQUFJcUksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcUIsS0FBSyxDQUFDcEIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUNyQ3VCLFdBQVcsQ0FBQ0QsT0FBTyxFQUFFRCxLQUFLLENBQUNyQixDQUFDLENBQUMsRUFBRUEsQ0FBQyxDQUFDO0lBQ25DO0lBQ0F3QixVQUFVLENBQUMsQ0FBQyxDQUFDO0VBQ2YsQ0FBQztFQUNEUixzREFBWSxDQUFDSSxTQUFTLEVBQUVqSCxRQUFRLENBQUM7RUFDakMsU0FBU29ILFdBQVdBLENBQUNELE9BQU8sRUFBRXRKLElBQUksRUFBRXlKLEdBQUcsRUFBRTtJQUN2QyxJQUFJQyxFQUFFLEdBQUdqSyxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQ3JDOEUsQ0FBQyxHQUFHbEssUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUMvQjhFLENBQUMsQ0FBQ0MsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7SUFDM0JELENBQUMsQ0FBQ3pJLFNBQVMsR0FBR2xCLElBQUksQ0FBQ0osS0FBSztJQUN4QitKLENBQUMsQ0FBQ0MsWUFBWSxDQUFDLFdBQVcsRUFBRTVKLElBQUksQ0FBQzZKLElBQUksQ0FBQztJQUN0Q0YsQ0FBQyxDQUFDQyxZQUFZLENBQUMsVUFBVSxFQUFFNUosSUFBSSxDQUFDNEYsR0FBRyxDQUFDO0lBQ3BDK0QsQ0FBQyxDQUFDcEksZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtNQUMxQ0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7TUFDdEIrSCxVQUFVLENBQUNDLEdBQUcsQ0FBQztJQUNqQixDQUFDLENBQUM7SUFDRkMsRUFBRSxDQUFDdkUsV0FBVyxDQUFDd0UsQ0FBQyxDQUFDO0lBQ2pCTCxPQUFPLENBQUNuRSxXQUFXLENBQUN1RSxFQUFFLENBQUM7RUFDekI7RUFDQSxTQUFTRixVQUFVQSxDQUFDQyxHQUFHLEVBQUU7SUFDdkIsSUFBSUssU0FBUyxHQUFHckssUUFBUSxDQUFDRSxhQUFhLENBQUMsd0JBQXdCLENBQUM7SUFDaEUsSUFBSW9LLFFBQVEsR0FBRyxTQUFYQSxRQUFRQSxDQUFZakssR0FBRyxFQUFFO01BQzNCdUIsQ0FBQyxDQUFDeUksU0FBUyxDQUFDLENBQUNFLElBQUksQ0FBQ2xLLEdBQUcsQ0FBQztNQUN0Qm1LLFVBQVUsRUFBRTtJQUNkLENBQUM7SUFDRDVJLENBQUMsQ0FBQzRDLElBQUksQ0FBQztNQUNMOUQsR0FBRyxFQUFFLG1CQUFtQixJQUFJK0osTUFBTSxDQUFDVCxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUM7TUFDMUNVLE9BQU8sRUFBRSxFQUFFO01BQ1hOLElBQUksRUFBRSxLQUFLO01BQ1gzRixRQUFRLEVBQUUsTUFBTTtNQUNoQkcsT0FBTyxFQUFFMEY7SUFDWCxDQUFDLENBQUM7RUFDSjtFQUNBLFNBQVNFLFVBQVVBLENBQUEsRUFBRztJQUNwQjtJQUNBbkkseURBQWlCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQzs7SUFFekM7SUFDQSxJQUFJckMsUUFBUSxDQUFDQyxjQUFjLENBQUMsNkJBQTZCLENBQUMsRUFBQztNQUN6RHNKLHNEQUFZLENBQUMsa0JBQWtCLEVBQUUsVUFBU2xKLEdBQUcsRUFBRTtRQUM3QyxJQUFJb0Msc0RBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtRQUM3QixJQUFJQSxHQUFHLENBQUNFLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUU7VUFDdkJ2RyxLQUFLLENBQUNrRixLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMvRSxJQUFJLENBQUMsWUFBVTtZQUNwQ1csT0FBTyxDQUFDQyxLQUFLLENBQUMzQyxHQUFHLENBQUM7WUFDbEI7VUFDRixDQUFDLENBQUM7UUFDSjtRQUNBLElBQUl1SyxHQUFHLEdBQUc1SyxRQUFRLENBQUNDLGNBQWMsQ0FBQyw2QkFBNkIsQ0FBQztRQUNoRSxJQUFJTSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSTtRQUNuQixLQUFLLElBQUlnSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1VBQ3BDLElBQUlzQyxFQUFFLEdBQUc3SyxRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO1VBQ3pDLEtBQUssSUFBSWUsR0FBRyxJQUFJNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLEVBQUU7WUFDdkIsSUFBSXBDLEdBQUcsSUFBSSxPQUFPLEVBQUU7Y0FDbEIwRSxFQUFFLENBQUNwSixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztZQUM3QixDQUFDLE1BQU07Y0FDTDBFLEVBQUUsQ0FBQ1YsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7WUFDOUM7VUFDRjtVQUNBeUUsR0FBRyxDQUFDbEYsV0FBVyxDQUFDbUYsRUFBRSxDQUFDO1FBQ3JCOztRQUVBO1FBQ0EsSUFBSWhELE9BQU8sR0FBRzdILFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLHlCQUF5QixDQUFDO1FBQ2hFNkssWUFBWSxFQUFFO1FBQ2RGLEdBQUcsQ0FBQzlJLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxVQUFTQyxLQUFLLEVBQUU7VUFDN0NBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO1VBQ3RCOEksWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUMxQixDQUFDLENBQUM7UUFDRixTQUFTQSxZQUFZQSxDQUFDVixJQUFJLEVBQUU7VUFDMUIsSUFBSVEsR0FBRyxDQUFDRyxPQUFPLENBQUNILEdBQUcsQ0FBQ0ksYUFBYSxDQUFDLENBQUNDLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxVQUFVLEVBQUU7WUFDekVwRCxPQUFPLENBQUNuRyxLQUFLLENBQUN3SixPQUFPLEdBQUcsRUFBRTtZQUMxQixJQUFJZCxJQUFJLEVBQUU7Y0FDUnBLLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG9CQUFvQixDQUFDLENBQUNnRSxLQUFLLEVBQUU7WUFDdkQ7VUFDRixDQUFDLE1BQU07WUFDTDRELE9BQU8sQ0FBQ25HLEtBQUssQ0FBQ3dKLE9BQU8sR0FBRyxNQUFNO1lBQzlCbEwsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUNLLFNBQVMsR0FBRyxFQUFFO1VBQ3REO1FBQ0Y7TUFFRixDQUFDLENBQUM7SUFDSjs7SUFFQTtJQUNBLElBQUlOLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGVBQWUsQ0FBQyxFQUFFO01BQzVDLElBQUlrTCxhQUFhLEdBQUcsSUFBSUMsYUFBYSxFQUFFO01BQ3ZDRCxhQUFhLENBQUNFLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDM0I7O0lBRUE7SUFDQSxJQUFJckwsUUFBUSxDQUFDRSxhQUFhLENBQUMsY0FBYyxDQUFDLEVBQUU7TUFDMUMsSUFBSW9MLFVBQVUsR0FBRyxJQUFJQyxVQUFVLEVBQUU7TUFDakNELFVBQVUsQ0FBQ0QsR0FBRyxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUM7SUFDdEM7O0lBRUE7SUFDQSxJQUFJckwsUUFBUSxDQUFDRSxhQUFhLENBQUMsbUJBQW1CLENBQUMsSUFDM0NGLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLHlCQUF5QixDQUFDLEVBQUU7TUFDdER1SixxREFBVyxFQUFFO0lBQ2Y7O0lBRUE7SUFDQSxJQUFJeEosUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsRUFBRTtNQUNqRCxJQUFJNkksR0FBRyxHQUFHL0ksUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUM7TUFDdkQsSUFBSVEsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDQyxLQUFLO01BQ3BFLElBQUlnSixlQUFlLEdBQUduSixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQztNQUNuRTZJLEdBQUcsQ0FBQ2pILGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7UUFDNUNBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO1FBQ3RCLElBQUl5QixRQUFRLEdBQUd6RCxRQUFRLENBQUNFLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDQyxLQUFLO1FBQ2xFK0ksa0VBQW9CLENBQUN4SSxHQUFHLEVBQUUrQyxRQUFRLEVBQUUwRixlQUFlLENBQUM7TUFDdEQsQ0FBQyxDQUFDO01BQ0Y7TUFDQUosR0FBRyxDQUFDOUUsS0FBSyxFQUFFO0lBQ2I7O0lBRUE7SUFDQSxJQUFJakUsUUFBUSxDQUFDRSxhQUFhLENBQUMsMEJBQTBCLENBQUMsRUFBRTtNQUN0RCxJQUFJc0wsZUFBZSxHQUFHLElBQUlDLGVBQWUsRUFBRTtNQUMzQ0QsZUFBZSxDQUFDSCxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQzdCOztJQUVBO0lBQ0EsSUFBSXJMLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDBCQUEwQixDQUFDLEVBQUU7TUFDdER3TCxrQkFBa0IsQ0FBQyxHQUFHLENBQUM7SUFDekI7SUFDQSxJQUFJMUwsUUFBUSxDQUFDRSxhQUFhLENBQUMsMEJBQTBCLENBQUMsRUFBRTtNQUN0RHdMLGtCQUFrQixDQUFDLEdBQUcsQ0FBQztJQUN6QjtJQUNBLElBQUkxTCxRQUFRLENBQUNFLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQyxFQUFFO01BQ3REd0wsa0JBQWtCLENBQUMsR0FBRyxDQUFDO0lBQ3pCO0lBQ0EsU0FBU0Esa0JBQWtCQSxDQUFDQyxPQUFPLEVBQUU7TUFDbkMsSUFBSXBJLFNBQVMsR0FBR3ZELFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlCQUF5QixDQUFDO01BQ2pFcUQsU0FBUyxDQUFDekIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUNsREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsc0NBQXNDLENBQUMsQ0FBQ0MsS0FBSztRQUM5RSxJQUFJeUwsTUFBTSxHQUFHLElBQUlDLG1CQUFtQixFQUFFO1FBQ3RDLElBQUlwSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUlrSSxPQUFPLElBQUksR0FBRyxFQUNoQmxJLFFBQVEsR0FBR21JLE1BQU0sQ0FBQ0UsYUFBYSxFQUFFO1FBQ25DLElBQUlILE9BQU8sSUFBSSxHQUFHLEVBQ2hCbEksUUFBUSxHQUFHbUksTUFBTSxDQUFDRyxhQUFhLEVBQUU7UUFDbkMsSUFBSUosT0FBTyxJQUFJLEdBQUcsRUFDaEJsSSxRQUFRLEdBQUdtSSxNQUFNLENBQUNJLGFBQWEsRUFBRTtRQUNuQztRQUNBMUMsMEVBQTRCLENBQUM1SSxHQUFHLEVBQUUrQyxRQUFRLENBQUM7TUFDN0MsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtBQUNGO0FBRUEsU0FBUzhILFVBQVVBLENBQUEsRUFBRyxDQUFDO0FBQ3ZCQSxVQUFVLENBQUMzSyxTQUFTLENBQUN5SyxHQUFHLEdBQUcsVUFBU1ksU0FBUyxFQUFFN0IsSUFBSSxFQUFDO0VBQ2xELElBQUk4QixVQUFVLEdBQUdsTSxRQUFRLENBQUNFLGFBQWEsQ0FBQyxjQUFjLENBQUM7RUFDdkQsSUFBSWlNLEtBQUssR0FBR1osVUFBVSxDQUFDYSxhQUFhLENBQUNILFNBQVMsRUFBRTdCLElBQUksQ0FBQztFQUNyRCxJQUFJLENBQUM4QixVQUFVLEVBQUU7SUFDZixNQUFNLElBQUlsRyxLQUFLLENBQUMsc0JBQXNCLENBQUM7RUFDekM7RUFDQWtHLFVBQVUsQ0FBQ3hHLFdBQVcsQ0FBQ3lHLEtBQUssQ0FBQztBQUMvQixDQUFDO0FBQ0RaLFVBQVUsQ0FBQ2EsYUFBYSxHQUFHLFVBQVNILFNBQVMsRUFBRTdCLElBQUksRUFBQztFQUNsRDtFQUNBLElBQUlpQyxPQUFPLEdBQUdyTSxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzNDaUgsT0FBTyxDQUFDbEMsWUFBWSxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUM7O0VBRTdDO0VBQ0EsSUFBSW1DLE1BQU0sR0FBR3RNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDNUNrSCxNQUFNLENBQUNuQyxZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztFQUM3Q21DLE1BQU0sQ0FBQ25DLFlBQVksQ0FBQyxLQUFLLEVBQUU4QixTQUFTLENBQUM7RUFDckNLLE1BQU0sQ0FBQzdLLFNBQVMsR0FBRyxLQUFLO0VBQ3hCNEssT0FBTyxDQUFDM0csV0FBVyxDQUFDNEcsTUFBTSxDQUFDOztFQUUzQjtFQUNBLElBQUlDLGNBQWMsR0FBR3ZNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7RUFDbERtSCxjQUFjLENBQUNwQyxZQUFZLENBQUMsT0FBTyxFQUFFLHlDQUF5QyxDQUFDO0VBQy9Fa0MsT0FBTyxDQUFDM0csV0FBVyxDQUFDNkcsY0FBYyxDQUFDOztFQUVuQztFQUNBLElBQUlDLE1BQU0sR0FBR3hNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDNUNvSCxNQUFNLENBQUNyQyxZQUFZLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQztFQUN4Q3FDLE1BQU0sQ0FBQ3JDLFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO0VBQ25DcUMsTUFBTSxDQUFDckMsWUFBWSxDQUFDLE1BQU0sRUFBRThCLFNBQVMsQ0FBQztFQUN0Q00sY0FBYyxDQUFDN0csV0FBVyxDQUFDOEcsTUFBTSxDQUFDOztFQUVsQztFQUNBQyxZQUFZLENBQUNGLGNBQWMsQ0FBQztFQUM1QixTQUFTRSxZQUFZQSxDQUFDUCxVQUFVLEVBQUU5QixJQUFJLEVBQUU7SUFDdEMsSUFBSXNDLGVBQWUsR0FBRzFNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDakRzSCxlQUFlLENBQUN2QyxZQUFZLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQztJQUNuRHVDLGVBQWUsQ0FBQ3ZDLFlBQVksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDO0lBQ25ELElBQUl3QyxPQUFPLEdBQUczTSxRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO0lBQzlDdUgsT0FBTyxDQUFDeEMsWUFBWSxDQUFDLE9BQU8sRUFBRSxxQ0FBcUMsQ0FBQztJQUNwRXdDLE9BQU8sQ0FBQ3hDLFlBQVksQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDO0lBQ3RDd0MsT0FBTyxDQUFDakgsV0FBVyxDQUFDZ0gsZUFBZSxDQUFDO0lBQ3BDLElBQUksQ0FBQ3RDLElBQUksRUFBRTtNQUNUOEIsVUFBVSxDQUFDeEcsV0FBVyxDQUFDaUgsT0FBTyxDQUFDO0lBQ2pDLENBQUMsTUFBTTtNQUNMLElBQUlDLEtBQUssR0FBR1YsVUFBVSxDQUFDaE0sYUFBYSxDQUFDLFFBQVEsQ0FBQztNQUM5QyxJQUFJME0sS0FBSyxFQUFFO1FBQ1RWLFVBQVUsQ0FBQ3JLLFlBQVksQ0FBQzhLLE9BQU8sRUFBRUMsS0FBSyxDQUFDO01BQ3pDLENBQUMsTUFBTTtRQUNMVixVQUFVLENBQUN4RyxXQUFXLENBQUNpSCxPQUFPLENBQUM7TUFDakM7SUFDRjtJQUNBQSxPQUFPLENBQUM3SyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQ2hEQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QixJQUFJLENBQUNrSyxVQUFVLENBQUN2RyxXQUFXLENBQUMsSUFBSSxDQUFDO01BQ2pDLElBQUkyRixVQUFVLEdBQUcsSUFBSUMsVUFBVSxFQUFFO01BQ2pDRCxVQUFVLENBQUNELEdBQUcsQ0FBQyxZQUFZLENBQUM7SUFDOUIsQ0FBQyxDQUFDO0VBQ0o7O0VBRUE7RUFDQSxJQUFJLENBQUNqQixJQUFJLEVBQUU7SUFDVCxJQUFJeUMsZ0JBQWdCLEdBQUc3TSxRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xEeUgsZ0JBQWdCLENBQUMxQyxZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztJQUNyRDBDLGdCQUFnQixDQUFDMUMsWUFBWSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7SUFDcEQsSUFBSTJDLFFBQVEsR0FBRzlNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0MwSCxRQUFRLENBQUMzQyxZQUFZLENBQUMsT0FBTyxFQUFFLHVDQUF1QyxDQUFDO0lBQ3ZFMkMsUUFBUSxDQUFDcEgsV0FBVyxDQUFDbUgsZ0JBQWdCLENBQUM7SUFDdENOLGNBQWMsQ0FBQzdHLFdBQVcsQ0FBQ29ILFFBQVEsQ0FBQztJQUNwQ0EsUUFBUSxDQUFDaEwsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtNQUNqREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7TUFDdEIsSUFBSStLLFVBQVUsR0FBR1YsT0FBTyxDQUFDVyxzQkFBc0I7TUFDL0MsSUFBSUMsV0FBVyxHQUFHWixPQUFPLENBQUNhLGtCQUFrQjtNQUM1QyxJQUFJQyxpQkFBaUIsR0FBR0osVUFBVSxDQUFDN00sYUFBYSxDQUFDLG1CQUFtQixDQUFDO01BQ3JFLElBQUssQ0FBQyxDQUFDaU4saUJBQWlCLElBQUksQ0FBQ0YsV0FBVztRQUFHO1FBQ3pDUixZQUFZLENBQUNVLGlCQUFpQixFQUFFLGNBQWMsQ0FBQztNQUNqRGQsT0FBTyxDQUFDSCxVQUFVLENBQUN2RyxXQUFXLENBQUMwRyxPQUFPLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxPQUFPQSxPQUFPO0FBQ2hCLENBQUM7QUFFRCxTQUFTakIsYUFBYUEsQ0FBQSxFQUFHLENBQUM7QUFDMUJBLGFBQWEsQ0FBQ3hLLFNBQVMsQ0FBQ3lLLEdBQUcsR0FBRyxVQUFTakIsSUFBSSxFQUFFO0VBQzNDLElBQUk4QixVQUFVLEdBQUdsTSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxlQUFlLENBQUM7RUFDekQsSUFBSWtNLEtBQUssR0FBR2YsYUFBYSxDQUFDZ0MsUUFBUSxDQUFDaEQsSUFBSSxDQUFDO0VBQ3hDLElBQUksQ0FBQzhCLFVBQVUsRUFBRTtJQUNmLE1BQU0sSUFBSWxHLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztFQUMzQztFQUNBa0csVUFBVSxDQUFDeEcsV0FBVyxDQUFDeUcsS0FBSyxDQUFDO0FBQy9CLENBQUM7QUFDRGYsYUFBYSxDQUFDZ0MsUUFBUSxHQUFHLFVBQVNoRCxJQUFJLEVBQUU7RUFDdEMsSUFBSWlDLE9BQU8sR0FBR3JNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7RUFDM0NpSCxPQUFPLENBQUNsQyxZQUFZLENBQUMsT0FBTyxFQUFFLDJEQUEyRCxDQUFDO0VBRTFGLElBQUlrRCxRQUFRLEdBQUdyTixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzVDaUksUUFBUSxDQUFDbEQsWUFBWSxDQUFDLE9BQU8sRUFBRSxvQkFBb0IsQ0FBQztFQUNwRGtDLE9BQU8sQ0FBQzNHLFdBQVcsQ0FBQzJILFFBQVEsQ0FBQztFQUM3QixJQUFJQyxPQUFPLEdBQUd0TixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0VBQzdDa0ksT0FBTyxDQUFDbkQsWUFBWSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7RUFDOUNtRCxPQUFPLENBQUM3TCxTQUFTLEdBQUcsS0FBSztFQUN6QjRMLFFBQVEsQ0FBQzNILFdBQVcsQ0FBQzRILE9BQU8sQ0FBQztFQUM3QixJQUFJQyxPQUFPLEdBQUd2TixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0VBQzdDbUksT0FBTyxDQUFDcEQsWUFBWSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUM7RUFDekNvRCxPQUFPLENBQUNwRCxZQUFZLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQztFQUNwQ2tELFFBQVEsQ0FBQzNILFdBQVcsQ0FBQzZILE9BQU8sQ0FBQztFQUU3QixJQUFJQyxRQUFRLEdBQUd4TixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzVDb0ksUUFBUSxDQUFDckQsWUFBWSxDQUFDLE9BQU8sRUFBRSwrREFBK0QsQ0FBQztFQUMvRmtDLE9BQU8sQ0FBQzNHLFdBQVcsQ0FBQzhILFFBQVEsQ0FBQztFQUM3QixJQUFJQyxPQUFPLEdBQUd6TixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0VBQzdDcUksT0FBTyxDQUFDdEQsWUFBWSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7RUFDOUNzRCxPQUFPLENBQUN0RCxZQUFZLENBQUMsS0FBSyxFQUFFLGVBQWUsQ0FBQztFQUM1Q3NELE9BQU8sQ0FBQ2hNLFNBQVMsR0FBRyxRQUFRO0VBQzVCK0wsUUFBUSxDQUFDOUgsV0FBVyxDQUFDK0gsT0FBTyxDQUFDO0VBQzdCLElBQUlDLE9BQU8sR0FBRzFOLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDN0NzSSxPQUFPLENBQUN2RCxZQUFZLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQztFQUN6Q3VELE9BQU8sQ0FBQ3ZELFlBQVksQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO0VBQ3BDdUQsT0FBTyxDQUFDdkQsWUFBWSxDQUFDLE1BQU0sRUFBRSxlQUFlLENBQUM7RUFDN0NxRCxRQUFRLENBQUM5SCxXQUFXLENBQUNnSSxPQUFPLENBQUM7RUFFN0JqQixZQUFZLENBQUNKLE9BQU8sQ0FBQztFQUNyQixTQUFTSSxZQUFZQSxDQUFDSixPQUFPLEVBQUVqQyxJQUFJLEVBQUU7SUFDbkMsSUFBSXVELFFBQVEsR0FBRzNOLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0N1SSxRQUFRLENBQUN4RCxZQUFZLENBQUMsT0FBTyxFQUFFLHFDQUFxQyxDQUFDO0lBQ3JFLElBQUksQ0FBQ0MsSUFBSSxFQUFFO01BQ1RpQyxPQUFPLENBQUMzRyxXQUFXLENBQUNpSSxRQUFRLENBQUM7SUFDL0IsQ0FBQyxNQUFNO01BQ0wsSUFBSWYsS0FBSyxHQUFHUCxPQUFPLENBQUNuTSxhQUFhLENBQUMsUUFBUSxDQUFDO01BQzNDLElBQUkwTSxLQUFLLEVBQUU7UUFDVFAsT0FBTyxDQUFDeEssWUFBWSxDQUFDOEwsUUFBUSxFQUFFZixLQUFLLENBQUM7TUFDdkMsQ0FBQyxNQUFNO1FBQ0xQLE9BQU8sQ0FBQzNHLFdBQVcsQ0FBQ2lJLFFBQVEsQ0FBQztNQUMvQjtJQUNGO0lBQ0EsSUFBSUMsYUFBYSxHQUFHNU4sUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUMvQ3dJLGFBQWEsQ0FBQ3pELFlBQVksQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDO0lBQ2pEeUQsYUFBYSxDQUFDekQsWUFBWSxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUM7SUFDakR3RCxRQUFRLENBQUNqSSxXQUFXLENBQUNrSSxhQUFhLENBQUM7SUFDbkNELFFBQVEsQ0FBQzdMLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDakRBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUksQ0FBQ2tLLFVBQVUsQ0FBQ3ZHLFdBQVcsQ0FBQyxJQUFJLENBQUM7TUFDakMsSUFBSXdGLGFBQWEsR0FBRyxJQUFJQyxhQUFhLEVBQUU7TUFDdkNELGFBQWEsQ0FBQ0UsR0FBRyxFQUFFO0lBQ3JCLENBQUMsQ0FBQztFQUNKO0VBRUEsSUFBSSxDQUFDakIsSUFBSSxFQUFFO0lBQ1QsSUFBSXlELFNBQVMsR0FBRzdOLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDaER5SSxTQUFTLENBQUMxRCxZQUFZLENBQUMsT0FBTyxFQUFFLHVDQUF1QyxDQUFDO0lBQ3hFa0MsT0FBTyxDQUFDM0csV0FBVyxDQUFDbUksU0FBUyxDQUFDO0lBQzlCLElBQUlDLGNBQWMsR0FBRzlOLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDaEQwSSxjQUFjLENBQUMzRCxZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztJQUNuRDJELGNBQWMsQ0FBQzNELFlBQVksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDO0lBQ2xEMEQsU0FBUyxDQUFDbkksV0FBVyxDQUFDb0ksY0FBYyxDQUFDO0lBQ3JDRCxTQUFTLENBQUMvTCxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQ2xEQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QixJQUFJK0ssVUFBVSxHQUFHVixPQUFPLENBQUNXLHNCQUFzQjtNQUMvQyxJQUFJQyxXQUFXLEdBQUdaLE9BQU8sQ0FBQ2Esa0JBQWtCO01BQzVDLElBQUssQ0FBQyxDQUFDSCxVQUFVLElBQUksQ0FBQ0UsV0FBVztRQUFHO1FBQ2xDUixZQUFZLENBQUNNLFVBQVUsRUFBRSxjQUFjLENBQUM7TUFDMUNWLE9BQU8sQ0FBQ0gsVUFBVSxDQUFDdkcsV0FBVyxDQUFDMEcsT0FBTyxDQUFDO0lBQ3pDLENBQUMsQ0FBQztFQUNKO0VBQ0EsT0FBT0EsT0FBTztBQUNoQixDQUFDO0FBRUQsU0FBU1osZUFBZUEsQ0FBQSxFQUFHLENBQUM7QUFDNUJBLGVBQWUsQ0FBQzdLLFNBQVMsQ0FBQ3lLLEdBQUcsR0FBRyxVQUFTakIsSUFBSSxFQUFFO0VBQzdDeEksQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBQUNDLEtBQUs7SUFDakVJLElBQUksRUFBRSxFQUFFO0lBQ1JxRSxPQUFPLEVBQUUsU0FBQUEsUUFBU21KLE9BQU8sRUFBRTtNQUN6QixJQUFJQSxPQUFPLENBQUNwTCxJQUFJLElBQUksS0FBSyxFQUFFO1FBQ3pCVixLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQzRHLE9BQU8sQ0FBQ2xMLEdBQUcsQ0FBQztNQUNoQztNQUNBMEcsc0RBQVksQ0FBQyxtQkFBbUIsRUFBRSxVQUFTeUUsT0FBTyxFQUFDO1FBQ2pELElBQUlBLE9BQU8sQ0FBQ3JMLElBQUksSUFBSSxLQUFLLEVBQUU7VUFDekJWLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDNkcsT0FBTyxDQUFDbkwsR0FBRyxDQUFDO1FBQ2hDO1FBQ0EsSUFBSTtVQUNGLElBQUlzSixLQUFLLEdBQUdWLGVBQWUsQ0FBQzJCLFFBQVEsQ0FBQ1csT0FBTyxDQUFDeE4sSUFBSSxFQUFFeU4sT0FBTyxDQUFDek4sSUFBSSxFQUFFNkosSUFBSSxDQUFDO1VBQ3RFLElBQUk4QixVQUFVLEdBQUdsTSxRQUFRLENBQUNFLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQztVQUNuRWdNLFVBQVUsQ0FBQ3hHLFdBQVcsQ0FBQ3lHLEtBQUssQ0FBQztRQUMvQixDQUFDLENBQUMsT0FBTzNFLENBQUMsRUFBRTtVQUNWTCxLQUFLLENBQUNLLENBQUMsQ0FBQztVQUNSekUsT0FBTyxDQUFDQyxLQUFLLENBQUN3RSxDQUFDLENBQUM7UUFDbEI7TUFDRixDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUM7QUFDRGlFLGVBQWUsQ0FBQzJCLFFBQVEsR0FBRyxVQUFTYSxXQUFXLEVBQUVDLFdBQVcsRUFBRTlELElBQUksRUFBRTtFQUVsRTtFQUNBLElBQUlpQyxPQUFPLEdBQUdyTSxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzNDaUgsT0FBTyxDQUFDbEMsWUFBWSxDQUFDLE9BQU8sRUFBRSwrREFBK0QsQ0FBQzs7RUFFOUY7RUFDQSxJQUFJZ0UsVUFBVSxHQUFHbk8sUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztFQUM5QytJLFVBQVUsQ0FBQ2hFLFlBQVksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUM7RUFDbkRrQyxPQUFPLENBQUMzRyxXQUFXLENBQUN5SSxVQUFVLENBQUM7RUFDL0IsSUFBSUMsWUFBWSxHQUFHcE8sUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE9BQU8sQ0FBQztFQUNsRGdKLFlBQVksQ0FBQ2pFLFlBQVksQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDO0VBQ25EaUUsWUFBWSxDQUFDakUsWUFBWSxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsQ0FBQztFQUNsRGlFLFlBQVksQ0FBQzNNLFNBQVMsR0FBRyxPQUFPO0VBQ2hDME0sVUFBVSxDQUFDekksV0FBVyxDQUFDMEksWUFBWSxDQUFDOztFQUVwQztFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0VBRUE7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsSUFBTUMsWUFBWSxHQUFHck8sUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztFQUNsRCtJLFVBQVUsQ0FBQ3pJLFdBQVcsQ0FBQzJJLFlBQVksQ0FBQztFQUNwQ0EsWUFBWSxDQUFDQyxTQUFTLENBQUNqRCxHQUFHLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDO0VBRXZELElBQU1rRCxZQUFZLEdBQUd2TyxRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0VBQ3BEaUosWUFBWSxDQUFDM0ksV0FBVyxDQUFDNkksWUFBWSxDQUFDO0VBQ3RDQSxZQUFZLENBQUNELFNBQVMsQ0FBQ2pELEdBQUcsQ0FBQyxVQUFVLENBQUM7RUFDdENrRCxZQUFZLENBQUM3TSxLQUFLLENBQUM4TSxZQUFZLEdBQUcsVUFBVTtFQUM1Q0QsWUFBWSxDQUFDcEUsWUFBWSxDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUM7RUFDbERvRSxZQUFZLENBQUNwRSxZQUFZLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztFQUVqRCxJQUFNc0UsYUFBYSxHQUFHek8sUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztFQUN0RGlKLFlBQVksQ0FBQzNJLFdBQVcsQ0FBQytJLGFBQWEsQ0FBQztFQUN2QyxJQUFNQyxrQkFBa0IsR0FBRzFPLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7RUFDeERpSixZQUFZLENBQUMzSSxXQUFXLENBQUNnSixrQkFBa0IsQ0FBQzs7RUFFNUM7RUFDQUQsYUFBYSxDQUFDbk8sU0FBUyxHQUFHLHNEQUFzRDtFQUNoRm1PLGFBQWEsQ0FBQ0gsU0FBUyxDQUFDakQsR0FBRyxDQUFDLFdBQVcsRUFBRSxtQkFBbUIsQ0FBQztFQUM3RG9ELGFBQWEsQ0FBQ3RFLFlBQVksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDOztFQUU1QztFQUNBdUUsa0JBQWtCLENBQUN2RSxZQUFZLENBQUMsU0FBUyxFQUFFLGdDQUFnQyxDQUFDO0VBQzVFLElBQU13RSxTQUFTLEdBQUczTyxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQy9Dc0osa0JBQWtCLENBQUNoSixXQUFXLENBQUNpSixTQUFTLENBQUM7RUFDekNBLFNBQVMsQ0FBQ0wsU0FBUyxDQUFDakQsR0FBRyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQztFQUNyRCxJQUFNdUQsc0JBQXNCLEdBQUc1TyxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzVEdUosU0FBUyxDQUFDakosV0FBVyxDQUFDa0osc0JBQXNCLENBQUM7RUFDN0NBLHNCQUFzQixDQUFDTixTQUFTLENBQUNqRCxHQUFHLENBQUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGtCQUFrQixDQUFDO0VBQzNGLElBQU13RCx3QkFBd0IsR0FBRzdPLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7RUFDN0R3SixzQkFBc0IsQ0FBQ2xKLFdBQVcsQ0FBQ21KLHdCQUF3QixDQUFDO0VBQzVEQSx3QkFBd0IsQ0FBQ1AsU0FBUyxDQUFDakQsR0FBRyxDQUFDLFNBQVMsRUFBQyxpQkFBaUIsQ0FBQztFQUNuRTRDLFdBQVcsQ0FBQ2EsT0FBTyxDQUFDLFVBQUF2TyxJQUFJLEVBQUk7SUFDMUIsSUFBSUEsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFO01BQ3RCLElBQU0wSixFQUFFLEdBQUdqSyxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQ3ZDeUosd0JBQXdCLENBQUNuSixXQUFXLENBQUN1RSxFQUFFLENBQUM7TUFDeEMsSUFBTThFLEVBQUUsR0FBRy9PLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDMUM2RSxFQUFFLENBQUN2RSxXQUFXLENBQUNxSixFQUFFLENBQUM7TUFDbEJBLEVBQUUsQ0FBQzNFLElBQUksR0FBRyxVQUFVO01BQ3BCMkUsRUFBRSxDQUFDVCxTQUFTLENBQUNqRCxHQUFHLENBQUMsYUFBYSxFQUFFLHVCQUF1QixDQUFDO01BQ3hEMEQsRUFBRSxDQUFDNUUsWUFBWSxDQUFDLGlCQUFpQixFQUFFNUosSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO01BQ3REd08sRUFBRSxDQUFDNUUsWUFBWSxDQUFDLFlBQVksRUFBRTVKLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRUEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFFLEVBQUUsQ0FBQztNQUMvRCxJQUFNUixJQUFJLEdBQUdDLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7TUFDM0M2RSxFQUFFLENBQUN2RSxXQUFXLENBQUMzRixJQUFJLENBQUM7TUFDcEJBLElBQUksQ0FBQzBCLFNBQVMsR0FBR2xCLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDckM7RUFDRixDQUFDLENBQUM7RUFDRixJQUFNeU8sVUFBVSxHQUFHaFAsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztFQUNoRHVKLFNBQVMsQ0FBQ2pKLFdBQVcsQ0FBQ3NKLFVBQVUsQ0FBQztFQUNqQ0EsVUFBVSxDQUFDVixTQUFTLENBQUNqRCxHQUFHLENBQUMsZ0JBQWdCLENBQUM7RUFDMUMsSUFBTTRELFNBQVMsR0FBR2pQLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7RUFDbEQ0SixVQUFVLENBQUN0SixXQUFXLENBQUN1SixTQUFTLENBQUM7RUFDakNBLFNBQVMsQ0FBQ1gsU0FBUyxDQUFDakQsR0FBRyxDQUFDLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBQztFQUM1RTRELFNBQVMsQ0FBQ3hOLFNBQVMsR0FBRyxJQUFJO0VBQzFCd04sU0FBUyxDQUFDOUUsWUFBWSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUM7RUFDeEM4RSxTQUFTLENBQUNuTixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBTTtJQUN4QyxJQUFNb04sTUFBTSxHQUFHTCx3QkFBd0IsQ0FBQ3ZHLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDO0lBQ2xGLElBQU02RyxZQUFZLEdBQUcsRUFBRTtJQUN2QkQsTUFBTSxDQUFDSixPQUFPLENBQUMsVUFBQUMsRUFBRSxFQUFJO01BQ25CLElBQUlBLEVBQUUsQ0FBQ0ssT0FBTyxFQUFFO1FBQ2RELFlBQVksQ0FBQ0UsSUFBSSxDQUFDTixFQUFFLENBQUM5RCxZQUFZLENBQUMsaUJBQWlCLENBQUMsQ0FBQztNQUN2RDtJQUNGLENBQUMsQ0FBQztJQUNGbEksT0FBTyxDQUFDNkQsR0FBRyxDQUFDdUksWUFBWSxDQUFDO0lBQ3pCWixZQUFZLENBQUNwTyxLQUFLLEdBQUdnUCxZQUFZO0lBQ2pDbE4sS0FBSyxDQUFDcU4sSUFBSSxDQUFDWixrQkFBa0IsQ0FBQyxDQUFDYSxJQUFJLENBQUMsS0FBSyxDQUFDO0VBQzVDLENBQUMsQ0FBQzs7RUFFRjtFQUNBLElBQUlDLFVBQVUsR0FBR3hQLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7RUFDOUNvSyxVQUFVLENBQUNyRixZQUFZLENBQUMsT0FBTyxFQUFFLHNCQUFzQixDQUFDO0VBQ3hEa0MsT0FBTyxDQUFDM0csV0FBVyxDQUFDOEosVUFBVSxDQUFDO0VBQy9CLElBQUlDLFlBQVksR0FBR3pQLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDbERxSyxZQUFZLENBQUN0RixZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztFQUNuRHNGLFlBQVksQ0FBQ3RGLFlBQVksQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLENBQUM7RUFDbkRzRixZQUFZLENBQUNoTyxTQUFTLEdBQUcsTUFBTTtFQUMvQitOLFVBQVUsQ0FBQzlKLFdBQVcsQ0FBQytKLFlBQVksQ0FBQztFQUNwQyxJQUFJQyxPQUFPLEdBQUcxUCxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0VBQzNDc0ssT0FBTyxDQUFDdkYsWUFBWSxDQUFDLE9BQU8sRUFBRSx5Q0FBeUMsQ0FBQztFQUN4RXFGLFVBQVUsQ0FBQzlKLFdBQVcsQ0FBQ2dLLE9BQU8sQ0FBQztFQUMvQixJQUFJQyxhQUFhLEdBQUczUCxRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO0VBQ3BEdUssYUFBYSxDQUFDeEYsWUFBWSxDQUFDLE9BQU8sRUFBRSwwQkFBMEIsQ0FBQztFQUMvRHdGLGFBQWEsQ0FBQ3hGLFlBQVksQ0FBQyxNQUFNLEVBQUUsaUJBQWlCLENBQUM7RUFDckR1RixPQUFPLENBQUNoSyxXQUFXLENBQUNpSyxhQUFhLENBQUM7RUFDbEMsS0FBSyxJQUFJcEgsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHMkYsV0FBVyxDQUFDMUYsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUMzQyxJQUFJc0MsRUFBRSxHQUFHN0ssUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUN6QyxLQUFLLElBQUllLEdBQUcsSUFBSStILFdBQVcsQ0FBQzNGLENBQUMsQ0FBQyxFQUFFO01BQzlCLElBQUlwQyxHQUFHLElBQUksT0FBTyxFQUFFO1FBQ2xCMEUsRUFBRSxDQUFDcEosU0FBUyxHQUFHeU0sV0FBVyxDQUFDM0YsQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDcEM7TUFDQTBFLEVBQUUsQ0FBQ1YsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRStILFdBQVcsQ0FBQzNGLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7SUFDckQ7SUFDQXdKLGFBQWEsQ0FBQ2pLLFdBQVcsQ0FBQ21GLEVBQUUsQ0FBQztFQUMvQjs7RUFFQTtFQUNBLElBQUkrRSxRQUFRLEdBQUc1UCxRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0VBQzlDd0ssUUFBUSxDQUFDekYsWUFBWSxDQUFDLE9BQU8sRUFBRSw4Q0FBOEMsQ0FBQztFQUM5RXlGLFFBQVEsQ0FBQ3pGLFlBQVksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDO0VBQ3ZDeUYsUUFBUSxDQUFDekYsWUFBWSxDQUFDLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQztFQUNqRCxJQUFJMEYsR0FBRyxHQUFHRixhQUFhLENBQUMxRSxZQUFZLENBQUMsVUFBVSxDQUFDO0VBQ2hELElBQUk0RSxHQUFHLElBQUksTUFBTSxFQUFFO0lBQ2pCRCxRQUFRLENBQUN6RixZQUFZLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztFQUN2QztFQUNBdUYsT0FBTyxDQUFDaEssV0FBVyxDQUFDa0ssUUFBUSxDQUFDO0VBQzdCLElBQUlFLFNBQVMsR0FBRzlQLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7RUFDOUMwSyxTQUFTLENBQUMzRixZQUFZLENBQUMsT0FBTyxFQUFFLDJEQUEyRCxDQUFDO0VBQzVGMkYsU0FBUyxDQUFDck8sU0FBUyxHQUFHLEtBQUs7RUFDM0JpTyxPQUFPLENBQUNoSyxXQUFXLENBQUNvSyxTQUFTLENBQUM7RUFFOUIsSUFBSyxDQUFDMUYsSUFBSSxFQUFHO0lBQ1gsSUFBSTBDLFFBQVEsR0FBRzlNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDL0MwSCxRQUFRLENBQUMzQyxZQUFZLENBQUMsT0FBTyxFQUFFLHVDQUF1QyxDQUFDO0lBQ3ZFdUYsT0FBTyxDQUFDaEssV0FBVyxDQUFDb0gsUUFBUSxDQUFDO0lBQzdCLElBQUlpRCxTQUFTLEdBQUcvUCxRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0lBQzNDMkssU0FBUyxDQUFDNUYsWUFBWSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7SUFDOUM0RixTQUFTLENBQUM1RixZQUFZLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQztJQUM3QzJDLFFBQVEsQ0FBQ3BILFdBQVcsQ0FBQ3FLLFNBQVMsQ0FBQztJQUMvQmpELFFBQVEsQ0FBQ2hMLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDakRBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUkrSyxVQUFVLEdBQUdWLE9BQU8sQ0FBQ1csc0JBQXNCO01BQy9DLElBQUlDLFdBQVcsR0FBR1osT0FBTyxDQUFDYSxrQkFBa0I7TUFDNUMsSUFBSUMsaUJBQWlCLEdBQUdKLFVBQVUsQ0FBQzdNLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztNQUNyRSxJQUFLLENBQUMsQ0FBQ2lOLGlCQUFpQixJQUFJLENBQUNGLFdBQVc7UUFBRztRQUN6Q1IsWUFBWSxDQUFDVSxpQkFBaUIsRUFBRSxjQUFjLENBQUM7TUFDakRkLE9BQU8sQ0FBQ0gsVUFBVSxDQUFDdkcsV0FBVyxDQUFDMEcsT0FBTyxDQUFDO0lBQ3pDLENBQUMsQ0FBQztFQUNKOztFQUVBO0VBQ0FJLFlBQVksQ0FBQ2lELE9BQU8sRUFBRXRGLElBQUksQ0FBQztFQUMzQixTQUFTcUMsWUFBWUEsQ0FBQ1AsVUFBVSxFQUFFO0lBQ2hDLElBQUlTLE9BQU8sR0FBRzNNLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDOUN1SCxPQUFPLENBQUN4QyxZQUFZLENBQUMsT0FBTyxFQUFFLHFDQUFxQyxDQUFDO0lBQ3BFK0IsVUFBVSxDQUFDeEcsV0FBVyxDQUFDaUgsT0FBTyxDQUFDO0lBQy9CLElBQUlxRCxRQUFRLEdBQUdoUSxRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0lBQzFDNEssUUFBUSxDQUFDN0YsWUFBWSxDQUFDLE9BQU8sRUFBRSxZQUFZLENBQUM7SUFDNUM2RixRQUFRLENBQUM3RixZQUFZLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQztJQUM1Q3dDLE9BQU8sQ0FBQ2pILFdBQVcsQ0FBQ3NLLFFBQVEsQ0FBQztJQUM3QnJELE9BQU8sQ0FBQzdLLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDaERBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUksQ0FBQ2tLLFVBQVUsQ0FBQ3ZHLFdBQVcsQ0FBQyxJQUFJLENBQUM7TUFDakMsSUFBSTZGLGVBQWUsR0FBRyxJQUFJQyxlQUFlLEVBQUU7TUFDM0NELGVBQWUsQ0FBQ0gsR0FBRyxFQUFFO0lBQ3ZCLENBQUMsQ0FBQztFQUNKOztFQUVBO0VBQ0E0RSxZQUFZLENBQUNOLGFBQWEsQ0FBQyxDQUFDLENBQUU7RUFDOUJBLGFBQWEsQ0FBQzdOLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxZQUFXO0lBQ2xEbU8sWUFBWSxDQUFDLElBQUksQ0FBQztFQUNwQixDQUFDLENBQUM7RUFDRixTQUFTQSxZQUFZQSxDQUFDQyxVQUFVLEVBQUU7SUFDaEMsSUFBSUMsS0FBSyxHQUFHRCxVQUFVLENBQUNsRixhQUFhO0lBQ3BDLElBQUk2RSxHQUFHLEdBQUdLLFVBQVUsQ0FBQ25GLE9BQU8sQ0FBQ29GLEtBQUssQ0FBQyxDQUFDbEYsWUFBWSxDQUFDLFVBQVUsQ0FBQztJQUM1RCxJQUFJNEUsR0FBRyxJQUFJLE1BQU0sRUFBRTtNQUNqQkQsUUFBUSxDQUFDelAsS0FBSyxHQUFHLEVBQUU7TUFDbkJ5UCxRQUFRLENBQUN0UCxTQUFTLEdBQUcsRUFBRTtNQUN2QnNQLFFBQVEsQ0FBQ3pGLFlBQVksQ0FBQyxVQUFVLEVBQUUsTUFBTSxDQUFDO0lBQzNDLENBQUMsTUFBTTtNQUNMLElBQUl5RixRQUFRLENBQUMzRSxZQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssTUFBTSxFQUFFO1FBQ2hEMkUsUUFBUSxDQUFDUSxlQUFlLENBQUMsVUFBVSxDQUFDO01BQ3RDO0lBQ0Y7RUFDRjtFQUVBLE9BQU8vRCxPQUFPO0FBQ2hCLENBQUM7QUFFRCxTQUFTUixtQkFBbUJBLENBQUEsRUFBRyxDQUFDO0FBQ2hDQSxtQkFBbUIsQ0FBQ2pMLFNBQVMsQ0FBQ2tMLGFBQWEsR0FBRyxZQUFXO0VBQ3ZELElBQUl2TCxJQUFJLEdBQUcsQ0FBQyxDQUFDO0VBQ2IsSUFBSThQLGtCQUFrQixHQUFHclEsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztFQUN2RixJQUFJbVEsU0FBUyxHQUFHdFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJb1EsT0FBTyxHQUFHdlEsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztFQUNqRSxJQUFJcVEsWUFBWSxHQUFHeFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQytLLFlBQVksQ0FBQyxVQUFVLENBQUM7RUFDaEcsSUFBSXdGLGFBQWEsR0FBRzVFLG1CQUFtQixDQUFDNkUsdUJBQXVCLEVBQUU7RUFDakUsSUFBSUMsU0FBUyxHQUFHM1EsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJeVEsT0FBTyxHQUFHL0UsbUJBQW1CLENBQUNnRixVQUFVLEVBQUU7RUFDOUMsSUFBSUMsc0JBQXNCLEdBQUdqRixtQkFBbUIsQ0FBQ2tGLHlCQUF5QixFQUFFO0VBQzVFeFEsSUFBSSxDQUFDOFAsa0JBQWtCLEdBQUdBLGtCQUFrQjtFQUM1QzlQLElBQUksQ0FBQytQLFNBQVMsR0FBR0EsU0FBUztFQUMxQi9QLElBQUksQ0FBQ2dRLE9BQU8sR0FBR0EsT0FBTztFQUN0QmhRLElBQUksQ0FBQ2lRLFlBQVksR0FBR0EsWUFBWTtFQUNoQ2pRLElBQUksQ0FBQ2tRLGFBQWEsR0FBR0EsYUFBYTtFQUNsQ2xRLElBQUksQ0FBQ29RLFNBQVMsR0FBR0EsU0FBUztFQUMxQnBRLElBQUksQ0FBQ3FRLE9BQU8sR0FBR0EsT0FBTztFQUN0QnJRLElBQUksQ0FBQ3VRLHNCQUFzQixHQUFHQSxzQkFBc0I7RUFFcEQsT0FBT3ZRLElBQUk7QUFDYixDQUFDO0FBQ0RzTCxtQkFBbUIsQ0FBQ2pMLFNBQVMsQ0FBQ21MLGFBQWEsR0FBRyxZQUFXO0VBQ3ZELElBQUl4TCxJQUFJLEdBQUcsQ0FBQyxDQUFDO0VBQ2IsSUFBSThQLGtCQUFrQixHQUFHclEsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztFQUN2RixJQUFJbVEsU0FBUyxHQUFHdFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJb1EsT0FBTyxHQUFHdlEsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztFQUNqRSxJQUFJcVEsWUFBWSxHQUFHeFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQytLLFlBQVksQ0FBQyxVQUFVLENBQUM7RUFDaEcsSUFBSXdGLGFBQWEsR0FBRzVFLG1CQUFtQixDQUFDbUYsc0JBQXNCLEVBQUU7RUFDaEUsSUFBSUwsU0FBUyxHQUFHM1EsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJMlEsc0JBQXNCLEdBQUdqRixtQkFBbUIsQ0FBQ2tGLHlCQUF5QixFQUFFO0VBQzVFeFEsSUFBSSxDQUFDOFAsa0JBQWtCLEdBQUdBLGtCQUFrQjtFQUM1QzlQLElBQUksQ0FBQytQLFNBQVMsR0FBR0EsU0FBUztFQUMxQi9QLElBQUksQ0FBQ2dRLE9BQU8sR0FBR0EsT0FBTztFQUN0QmhRLElBQUksQ0FBQ2lRLFlBQVksR0FBR0EsWUFBWTtFQUNoQ2pRLElBQUksQ0FBQ2tRLGFBQWEsR0FBR0EsYUFBYTtFQUNsQ2xRLElBQUksQ0FBQ29RLFNBQVMsR0FBR0EsU0FBUztFQUMxQnBRLElBQUksQ0FBQ3VRLHNCQUFzQixHQUFHQSxzQkFBc0I7RUFFcEQsT0FBT3ZRLElBQUk7QUFDYixDQUFDO0FBQ0RzTCxtQkFBbUIsQ0FBQ2pMLFNBQVMsQ0FBQ29MLGFBQWEsR0FBRyxZQUFXO0VBQ3ZELElBQUl6TCxJQUFJLEdBQUcsQ0FBQyxDQUFDO0VBQ2IsSUFBSThQLGtCQUFrQixHQUFHclEsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztFQUN2RixJQUFJbVEsU0FBUyxHQUFHdFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJb1EsT0FBTyxHQUFHdlEsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztFQUNqRSxJQUFJcVEsWUFBWSxHQUFHeFEsUUFBUSxDQUFDRSxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQytLLFlBQVksQ0FBQyxVQUFVLENBQUM7RUFDaEcsSUFBSXdGLGFBQWEsR0FBRzVFLG1CQUFtQixDQUFDb0YsMEJBQTBCLEVBQUU7RUFDcEUsSUFBSU4sU0FBUyxHQUFHM1EsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FBQ0MsS0FBSztFQUNyRSxJQUFJeVEsT0FBTyxHQUFHL0UsbUJBQW1CLENBQUNnRixVQUFVLEVBQUU7RUFDOUMsSUFBSUMsc0JBQXNCLEdBQUdqRixtQkFBbUIsQ0FBQ2tGLHlCQUF5QixFQUFFO0VBQzVFeFEsSUFBSSxDQUFDOFAsa0JBQWtCLEdBQUdBLGtCQUFrQjtFQUM1QzlQLElBQUksQ0FBQytQLFNBQVMsR0FBR0EsU0FBUztFQUMxQi9QLElBQUksQ0FBQ2dRLE9BQU8sR0FBR0EsT0FBTztFQUN0QmhRLElBQUksQ0FBQ2lRLFlBQVksR0FBR0EsWUFBWTtFQUNoQ2pRLElBQUksQ0FBQ2tRLGFBQWEsR0FBR0EsYUFBYTtFQUNsQ2xRLElBQUksQ0FBQ29RLFNBQVMsR0FBR0EsU0FBUztFQUMxQnBRLElBQUksQ0FBQ3FRLE9BQU8sR0FBR0EsT0FBTztFQUN0QnJRLElBQUksQ0FBQ3VRLHNCQUFzQixHQUFHQSxzQkFBc0I7RUFFcEQsT0FBT3ZRLElBQUk7QUFDYixDQUFDO0FBQ0RzTCxtQkFBbUIsQ0FBQzZFLHVCQUF1QixHQUFHLFlBQVc7RUFDdkQsSUFBSVEsTUFBTSxHQUFHLEVBQUU7RUFDZixJQUFJQyxRQUFRLEdBQUduUixRQUFRLENBQUNzSSxnQkFBZ0IsQ0FBQyx3QkFBd0IsQ0FBQztFQUNsRSxJQUFJNkksUUFBUSxDQUFDM0ksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUN2QixNQUFNLElBQUl4QyxLQUFLLENBQUMsa0JBQWtCLENBQUM7RUFDckM7RUFDQSxLQUFLLElBQUl1QyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc0SSxRQUFRLENBQUMzSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ3hDLElBQUlwSSxLQUFLLEdBQUd5QixDQUFDLENBQUN3UCxJQUFJLENBQUNELFFBQVEsQ0FBQzVJLENBQUMsQ0FBQyxDQUFDcEksS0FBSyxDQUFDO0lBQ3JDLElBQUlBLEtBQUssSUFBSSxFQUFFLEVBQUU7TUFDZjtJQUNGO0lBQ0EsSUFBSW9JLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDVDJJLE1BQU0sSUFBSSxHQUFHO0lBQ2Y7SUFDQUEsTUFBTSxJQUFJL1EsS0FBSztFQUNqQjtFQUNBLE9BQU8rUSxNQUFNO0FBQ2YsQ0FBQztBQUNEckYsbUJBQW1CLENBQUNtRixzQkFBc0IsR0FBRyxZQUFXO0VBQ3RELElBQUlFLE1BQU0sR0FBRyxFQUFFO0VBQ2YsSUFBSUMsUUFBUSxHQUFHblIsUUFBUSxDQUFDc0ksZ0JBQWdCLENBQUMsMkJBQTJCLENBQUM7RUFDckUsSUFBSTZJLFFBQVEsQ0FBQzNJLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDdkIsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLFNBQVMsQ0FBQztFQUM1QjtFQUNBLEtBQUssSUFBSXVDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzRJLFFBQVEsQ0FBQzNJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDeEMsSUFBSXBJLEtBQUssR0FBR3lCLENBQUMsQ0FBQ3dQLElBQUksQ0FBQ0QsUUFBUSxDQUFDNUksQ0FBQyxDQUFDLENBQUNwSSxLQUFLLENBQUM7SUFDckMsSUFBSUEsS0FBSyxJQUFJLEVBQUUsRUFBRTtNQUNmO0lBQ0Y7SUFDQSxJQUFJb0ksQ0FBQyxHQUFHLENBQUMsRUFBRTtNQUNUMkksTUFBTSxJQUFJLEdBQUc7SUFDZjtJQUNBQSxNQUFNLElBQUkvUSxLQUFLO0VBQ2pCO0VBQ0EsT0FBTytRLE1BQU07QUFDZixDQUFDO0FBQ0RyRixtQkFBbUIsQ0FBQ29GLDBCQUEwQixHQUFHLFlBQVc7RUFDMUQsSUFBSUksTUFBTSxHQUFHclIsUUFBUSxDQUFDRSxhQUFhLENBQUMsNEJBQTRCLENBQUM7RUFDakUsSUFBSUMsS0FBSyxHQUFHa1IsTUFBTSxDQUFDdEcsT0FBTyxDQUFDc0csTUFBTSxDQUFDckcsYUFBYSxDQUFDLENBQUNDLFlBQVksQ0FBQyxVQUFVLENBQUM7RUFDekUsT0FBTzlLLEtBQUs7QUFDZCxDQUFDO0FBQ0QwTCxtQkFBbUIsQ0FBQ2dGLFVBQVUsR0FBRyxZQUFXO0VBQzFDLElBQUlLLE1BQU0sR0FBRyxFQUFFO0VBQ2YsSUFBSUcsTUFBTSxHQUFHclIsUUFBUSxDQUFDRSxhQUFhLENBQUMsYUFBYSxDQUFDO0VBQ2xELElBQUlvUixHQUFHLEdBQUdELE1BQU0sQ0FBQy9JLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztFQUMzQztFQUNBO0VBQ0E7RUFDQTtFQUNBLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHK0ksR0FBRyxDQUFDOUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUNuQyxJQUFJcUksT0FBTyxHQUFHVSxHQUFHLENBQUMvSSxDQUFDLENBQUMsQ0FBQzBDLFlBQVksQ0FBQyxjQUFjLENBQUM7SUFDakQsSUFBSTFDLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDVDJJLE1BQU0sSUFBSSxHQUFHO0lBQ2Y7SUFDQSxJQUFJTixPQUFPLEtBQUssSUFBSSxJQUFJQSxPQUFPLEtBQUssRUFBRSxFQUFFO01BQ3RDO0lBQ0Y7SUFDQU0sTUFBTSxJQUFJTixPQUFPO0VBQ25CO0VBQ0EsT0FBT00sTUFBTTtBQUNmLENBQUM7QUFDRHJGLG1CQUFtQixDQUFDa0YseUJBQXlCLEdBQUcsWUFBVztFQUN6RCxJQUFJRyxNQUFNLEdBQUcsRUFBRTtFQUNmLElBQUlLLE9BQU8sR0FBR3ZSLFFBQVEsQ0FBQ3NJLGdCQUFnQixDQUFDLCtCQUErQixDQUFDO0VBQ3hFLElBQUlpSixPQUFPLENBQUMvSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQUUsT0FBTyxJQUFJO0VBQUU7RUFDdkMsS0FBSyxJQUFJRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdnSixPQUFPLENBQUMvSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ3ZDOztJQUVBO0lBQ0E7O0lBRUE7SUFDQSxJQUFNaUosZUFBZSxHQUFHRCxPQUFPLENBQUNoSixDQUFDLENBQUMsQ0FBQ0QsZ0JBQWdCLENBQUMsMkNBQTJDLENBQUM7SUFFaEcsSUFBSW1KLFVBQVUsR0FBR0YsT0FBTyxDQUFDaEosQ0FBQyxDQUFDLENBQUNySSxhQUFhLENBQUMsOEJBQThCLENBQUM7SUFDekUsSUFBSXdSLGVBQWUsR0FBR0QsVUFBVSxDQUFDMUcsT0FBTyxDQUFDMEcsVUFBVSxDQUFDekcsYUFBYSxDQUFDLENBQUNDLFlBQVksQ0FBQyxVQUFVLENBQUM7SUFDM0YsSUFBSTBHLGdCQUFnQixHQUFHSixPQUFPLENBQUNoSixDQUFDLENBQUMsQ0FBQ3JJLGFBQWEsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDQyxLQUFLOztJQUVyRjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBO0lBQ0FxUixlQUFlLENBQUMxQyxPQUFPLENBQUMsVUFBQUMsRUFBRSxFQUFJO01BQzVCLElBQUlBLEVBQUUsQ0FBQ0ssT0FBTyxFQUFFO1FBQ2QsSUFBTTdPLElBQUksR0FBRyxDQUFDLENBQUM7UUFDZkEsSUFBSSxDQUFDbVIsZUFBZSxHQUFHQSxlQUFlO1FBQ3RDblIsSUFBSSxDQUFDcVIsY0FBYyxHQUFHN0MsRUFBRSxDQUFDOUQsWUFBWSxDQUFDLFlBQVksQ0FBQztRQUNuRDFLLElBQUksQ0FBQ3NSLGtCQUFrQixHQUFHOUMsRUFBRSxDQUFDOUQsWUFBWSxDQUFDLGlCQUFpQixDQUFDO1FBQzVEMUssSUFBSSxDQUFDb1IsZ0JBQWdCLEdBQUdBLGdCQUFnQjtRQUN4Q1QsTUFBTSxDQUFDN0IsSUFBSSxDQUFDOU8sSUFBSSxDQUFDO01BQ25CO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7RUFDQSxJQUFJdVIsWUFBWSxHQUFHOVIsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztFQUN0RSxJQUFJMlIsWUFBWSxFQUFFO0lBQ2hCWixNQUFNLENBQUM3QixJQUFJLENBQUM7TUFDVnFDLGVBQWUsRUFBRSxNQUFNO01BQ3ZCQyxnQkFBZ0IsRUFBRS9QLENBQUMsQ0FBQ3dQLElBQUksQ0FBQ1UsWUFBWTtJQUN2QyxDQUFDLENBQUM7RUFDSjtFQUNBLE9BQU9aLE1BQU07QUFDZixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNodkJjLFNBQVNhLFlBQVlBLENBQUEsRUFBRyxDQUFDO0FBRXhDQSxZQUFZLENBQUNuUixTQUFTLENBQUNvUixTQUFTLEdBQUcsWUFBVztFQUM1QyxJQUFJOVEsSUFBSSxHQUFHbEIsUUFBUSxDQUFDQyxjQUFjLENBQUMsVUFBVSxDQUFDO0VBQzlDLElBQUlnUyxJQUFJLEdBQUcvUSxJQUFJLENBQUMrSixZQUFZLENBQUMsVUFBVSxDQUFDO0VBQ3hDLFFBQVFnSCxJQUFJO0lBQ1Y7TUFDRSxNQUFNLElBQUlqTSxLQUFLLENBQUMsdUJBQXVCLENBQUM7SUFDMUMsS0FBSyw4QkFBOEI7TUFDakMsT0FBTytMLFlBQVksQ0FBQ0csNEJBQTRCLEVBQUU7SUFDbEQ7SUFDRixLQUFLLFNBQVM7TUFDWixPQUFPLFlBQVc7UUFBQ25QLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQyxLQUFLLENBQUM7TUFBQSxDQUFDO0VBQUM7QUFFN0MsQ0FBQztBQUVEbUwsWUFBWSxDQUFDRyw0QkFBNEIsR0FBRyxZQUFXO0VBQ3JELElBQUlDLFlBQVksR0FBR25TLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQztFQUN0RCxJQUFJbVMscUJBQXFCLEdBQUcsRUFBRTtFQUM5QixJQUFJQyx5QkFBeUIsR0FBRyxNQUFNLEdBQUdELHFCQUFxQixHQUFHLEdBQUc7RUFDcEUsT0FBTztJQUNMRSxhQUFhLEVBQUUsU0FBQUEsY0FBQSxFQUFXO01BQ3hCLElBQUlDLEdBQUcsR0FBR0osWUFBWTtNQUN0QixJQUFJSyxRQUFRLEdBQUdKLHFCQUFxQjtNQUNwQyxJQUFJSyxZQUFZLEdBQUdKLHlCQUF5QjtNQUM1QyxJQUFJLENBQUNFLEdBQUcsRUFBRTtNQUNWQSxHQUFHLENBQUNwSSxZQUFZLENBQUMsV0FBVyxFQUFFcUksUUFBUSxDQUFDO01BQ3ZDRCxHQUFHLENBQUNwSSxZQUFZLENBQUMsYUFBYSxFQUFFc0ksWUFBWSxDQUFDO01BQzdDRixHQUFHLENBQUNwSSxZQUFZLENBQUMsWUFBWSxFQUFFLFFBQVEsR0FBR3NJLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztNQUM1RUYsR0FBRyxDQUFDcEksWUFBWSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUM7TUFDMUNvSSxHQUFHLENBQUNHLEtBQUssRUFBRTtNQUNYO01BQ0FILEdBQUcsQ0FBQ3pRLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxZQUFXO1FBQ3RDaVEsWUFBWSxDQUFDWSxhQUFhLENBQUMsSUFBSSxFQUFFRixZQUFZLENBQUM7TUFDaEQsQ0FBQyxDQUFDO01BQ0ZGLEdBQUcsQ0FBQ3pRLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxZQUFXO1FBQ3hDaVEsWUFBWSxDQUFDYSxlQUFlLENBQUMsSUFBSSxFQUFFSixRQUFRLENBQUM7TUFDOUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUNESyxlQUFlLEVBQUUsU0FBQUEsZ0JBQUEsRUFBVTtNQUN6QixJQUFJQyxHQUFHLEdBQUcsS0FBSztNQUNmLElBQUlDLFVBQVUsR0FBRy9TLFFBQVEsQ0FBQ3NJLGdCQUFnQixDQUFDLGdDQUFnQyxDQUFDO01BQzVFLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHd0ssVUFBVSxDQUFDdkssTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUMxQyxJQUFJeUssUUFBUSxHQUFHRCxVQUFVLENBQUN4SyxDQUFDLENBQUM7UUFDNUIsSUFBSXlLLFFBQVEsQ0FBQzVELE9BQU8sRUFBRTtVQUNwQjBELEdBQUcsR0FBRyxJQUFJO1VBQ1Y7UUFDRjtNQUNGO01BQ0EsSUFBSSxDQUFDQSxHQUFHLEVBQ043USxLQUFLLENBQUNnUixZQUFZLENBQUMsaUJBQWlCLEVBQUUsU0FBUyxDQUFDO01BQ2xELE9BQU9ILEdBQUc7SUFDWixDQUFDO0lBQ0RJLFNBQVMsRUFBRSxTQUFBQSxVQUFBLEVBQVc7TUFDcEJuQixZQUFZLENBQUNhLGVBQWUsQ0FBQ1QsWUFBWSxFQUFFQyxxQkFBcUIsQ0FBQztNQUNqRSxJQUFJZSxJQUFJLEdBQUcsRUFBRTtNQUNiQSxJQUFJLENBQUM5RCxJQUFJLENBQUMwQyxZQUFZLENBQUNZLGFBQWEsQ0FBQ1IsWUFBWSxFQUFFRSx5QkFBeUIsQ0FBQyxDQUFDO01BQzlFYyxJQUFJLENBQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDd0QsZUFBZSxFQUFFLENBQUM7TUFDakMsT0FBT2QsWUFBWSxDQUFDcUIsWUFBWSxDQUFDRCxJQUFJLENBQUM7SUFDeEM7RUFDRixDQUFDO0FBQ0gsQ0FBQztBQUVEcEIsWUFBWSxDQUFDWSxhQUFhLEdBQUcsVUFBU0osR0FBRyxFQUFFYyxVQUFVLEVBQUU7RUFDckQsSUFBSUMsVUFBVSxHQUFHLFFBQVE7RUFDekIsSUFBSSxDQUFDZixHQUFHLENBQUNwUyxLQUFLLEVBQUU7SUFDZG9TLEdBQUcsQ0FBQ2pFLFNBQVMsQ0FBQ2pELEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztJQUNuQ2tILEdBQUcsQ0FBQ3BJLFlBQVksQ0FBQyxhQUFhLEVBQUVtSixVQUFVLENBQUM7SUFDM0NmLEdBQUcsQ0FBQ3BJLFlBQVksQ0FBQyxZQUFZLEVBQUUsUUFBUSxHQUFHbUosVUFBVSxHQUFHLGtCQUFrQixDQUFDO0lBQzFFclIsS0FBSyxDQUFDc1IsT0FBTyxDQUFDaEIsR0FBRyxDQUFDLENBQUN4SyxJQUFJLEVBQUU7SUFDekIsT0FBTyxLQUFLO0VBQ2QsQ0FBQyxNQUFNO0lBQ0x3SyxHQUFHLENBQUNqRSxTQUFTLENBQUNrRixNQUFNLENBQUMsZ0JBQWdCLENBQUM7SUFDdENqQixHQUFHLENBQUNwSSxZQUFZLENBQUMsWUFBWSxFQUFFLFFBQVEsR0FBR2tKLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQztJQUMxRSxPQUFPLElBQUk7RUFDYjtBQUNGLENBQUM7QUFDRHRCLFlBQVksQ0FBQ2EsZUFBZSxHQUFHLFVBQVNMLEdBQUcsRUFBRWtCLE1BQU0sRUFBRTtFQUNuRCxJQUFJQyxTQUFTLEdBQUc5UixDQUFDLENBQUN3UCxJQUFJLENBQUNtQixHQUFHLENBQUNwUyxLQUFLLENBQUM7RUFDakMsSUFBSXVULFNBQVMsQ0FBQ2xMLE1BQU0sR0FBR2lMLE1BQU0sRUFBRTtJQUM3QmxCLEdBQUcsQ0FBQ3BTLEtBQUssR0FBR3VULFNBQVMsQ0FBQ0MsS0FBSyxDQUFDLENBQUMsRUFBRUYsTUFBTSxDQUFDO0VBQ3hDLENBQUMsTUFBTTtJQUNMbEIsR0FBRyxDQUFDcFMsS0FBSyxHQUFHdVQsU0FBUztFQUN2QjtBQUNGLENBQUM7QUFDRDNCLFlBQVksQ0FBQ3FCLFlBQVksR0FBRyxVQUFTUSxPQUFPLEVBQUU7RUFDNUMsS0FBSyxJQUFJckwsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcUwsT0FBTyxDQUFDcEwsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUN2QyxJQUFJdUssR0FBRyxHQUFHYyxPQUFPLENBQUNyTCxDQUFDLENBQUM7SUFDcEIsSUFBSSxDQUFDdUssR0FBRyxFQUFFO01BQ1IsT0FBT0EsR0FBRztJQUNaLENBQUMsTUFBTTtNQUNMO0lBQ0Y7RUFDRjtFQUNBLE9BQU8sSUFBSTtBQUNiLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMvRkQ7QUFDQSxJQUFJLENBQUNlLEtBQUssQ0FBQ0MsT0FBTyxFQUFFO0VBQ2xCRCxLQUFLLENBQUNDLE9BQU8sR0FBRyxVQUFTQyxHQUFHLEVBQUU7SUFDNUIsT0FBT0MsTUFBTSxDQUFDcFQsU0FBUyxDQUFDcVQsUUFBUSxDQUFDclEsSUFBSSxDQUFDbVEsR0FBRyxDQUFDLEtBQUssZ0JBQWdCO0VBQ2pFLENBQUM7QUFDSDtBQUVBLElBQUkxUixPQUFPLEdBQUc7RUFDWlMsWUFBWSxFQUFFLFNBQUFBLGFBQVNFLEtBQUssRUFBRU4sUUFBUSxFQUFFO0lBQ3RDLElBQUl3UixNQUFNLEdBQUdsUixLQUFLLEdBQUVBLEtBQUssR0FBRSxNQUFNO0lBQ2pDLElBQUlELE9BQU8sRUFBRTtNQUNYQSxPQUFPLENBQUNDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRWtSLE1BQU0sRUFBRUEsTUFBTSxDQUFDQyxLQUFLLENBQUM7SUFDekQ7SUFDQSxJQUFJbFMsS0FBSyxFQUFFO01BQ1QsSUFBSTtRQUNGQSxLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQytNLE1BQU0sQ0FBQyxDQUFDOVIsSUFBSSxDQUFDTSxRQUFRLENBQUM7TUFDMUMsQ0FBQyxDQUFDLE9BQU84RSxDQUFDLEVBQUU7UUFDVkwsS0FBSyxDQUFDK00sTUFBTSxDQUFDO01BQ2Y7SUFDRixDQUFDLE1BQU07TUFDTC9NLEtBQUssQ0FBQytNLE1BQU0sQ0FBQztJQUNmO0VBQ0YsQ0FBQztFQUNERSxnQkFBZ0IsRUFBRSxTQUFBQSxpQkFBU0MsU0FBUyxFQUFFQyxPQUFPLEVBQUU7SUFBRztJQUNoRCxJQUFJMVQsU0FBUyxHQUFHb1QsTUFBTSxDQUFDSyxTQUFTLENBQUN6VCxTQUFTLENBQUMsQ0FBQyxDQUFFO0lBQzlDQSxTQUFTLENBQUMyVCxXQUFXLEdBQUdELE9BQU8sQ0FBQyxDQUFjO0lBQzlDQSxPQUFPLENBQUMxVCxTQUFTLEdBQUdBLFNBQVMsQ0FBQyxDQUFnQjtFQUNoRCxDQUFDOztFQUNEaUYsTUFBTSxFQUFFLFNBQUFBLE9BQVMyTyxHQUFHLEVBQUU7SUFDcEIsSUFBSSxPQUFPQSxHQUFHLEtBQUssUUFBUSxFQUFFLE9BQU8sS0FBSztJQUN6QyxJQUFJO01BQ0EsSUFBSUMsTUFBTSxHQUFHcFEsSUFBSSxDQUFDeUIsS0FBSyxDQUFDME8sR0FBRyxDQUFDO01BQzVCLElBQUdDLE1BQU0sSUFBSTFPLE9BQUEsQ0FBTzBPLE1BQU0sTUFBSyxRQUFRLEVBQUM7UUFDdEMsT0FBTyxJQUFJO01BQ2IsQ0FBQyxNQUFNO1FBQ0wsT0FBTyxLQUFLO01BQ2Q7SUFDSixDQUFDLFFBQU9qTixDQUFDLEVBQUU7TUFDVDtJQUFBO0VBRUosQ0FBQztFQUNEa04sS0FBSyxFQUFFLFNBQUFBLE1BQVNDLElBQUksRUFBRTtJQUNwQixPQUFRLE9BQU9DLFdBQVcsS0FBSyxVQUFVLEdBQ3BDRCxJQUFJLFlBQVlDLFdBQVcsR0FDM0JELElBQUksSUFBSzVPLE9BQUEsQ0FBTzRPLElBQUksTUFBSyxRQUFTLElBQUtBLElBQUksQ0FBQ0UsUUFBUSxLQUFLLENBQUUsSUFBSyxPQUFPRixJQUFJLENBQUNHLFFBQVEsS0FBSyxRQUFVO0VBQzFHLENBQUM7RUFDREMsUUFBUSxFQUFFLFNBQUFBLFNBQUEsRUFBVztJQUNuQixJQUFJQyxJQUFJLEdBQUdoVixRQUFRLENBQUNDLGNBQWMsQ0FBQyxTQUFTLENBQUM7SUFDN0MsSUFBSWdWLE9BQU8sR0FBRyxFQUFFO0lBQ2hCLElBQUlDLElBQUksR0FBRyxFQUFFO0lBQ2IsSUFBSUMsT0FBTyxHQUFHLEVBQUU7SUFDaEI7SUFDQSxJQUFJQyxlQUFlLEdBQUdyUSxNQUFNLENBQUNzUSxXQUFXO0lBQ3hDO0lBQ0EsSUFBSUMsRUFBRSxHQUFHRixlQUFlLEdBQUdILE9BQU8sR0FBR0MsSUFBSSxHQUFHQyxPQUFPO0lBQ25ESCxJQUFJLENBQUM3SyxZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsR0FBR21MLEVBQUUsR0FBRyxJQUFJLENBQUM7RUFDdkQsQ0FBQztFQUNEQyxPQUFPLEVBQUUsU0FBQUEsUUFBQSxFQUFXO0lBQ2xCLElBQUlDLElBQUksR0FBR3hWLFFBQVEsQ0FBQ3NJLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDO0lBQ3RELEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaU4sSUFBSSxDQUFDaE4sTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUNwQ2lOLElBQUksQ0FBQ2pOLENBQUMsQ0FBQyxDQUFDekcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVU7UUFDMUNDLEtBQUssQ0FBQzBULGVBQWUsRUFBRTtRQUN2QixJQUFJQyxVQUFVLEdBQUcsSUFBSSxDQUFDeFYsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDb08sU0FBUztRQUNsRCxJQUFJcUgsUUFBUSxHQUFHLElBQUksQ0FBQ3pJLGtCQUFrQjtRQUN0QyxJQUFJd0ksVUFBVSxDQUFDRSxRQUFRLENBQUMsZUFBZSxDQUFDLEVBQUU7VUFDeEMsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdMLElBQUksQ0FBQ2hOLE1BQU0sRUFBRXFOLENBQUMsRUFBRSxFQUFFO1lBQ3BDTCxJQUFJLENBQUNLLENBQUMsQ0FBQyxDQUFDM1YsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUN2QmlLLFlBQVksQ0FBQyxPQUFPLEVBQUUsa0JBQWtCLENBQUM7WUFDNUNxTCxJQUFJLENBQUNLLENBQUMsQ0FBQyxDQUFDM0ksa0JBQWtCLENBQUMvQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQztVQUNsRTtVQUNBdUwsVUFBVSxDQUFDbEMsTUFBTSxDQUFDLGVBQWUsQ0FBQztVQUNsQ2tDLFVBQVUsQ0FBQ3JLLEdBQUcsQ0FBQyxhQUFhLENBQUM7VUFDN0JzSyxRQUFRLENBQUN4TCxZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztRQUNqRCxDQUFDLE1BQU07VUFDTCxJQUFJLENBQUMyTCxJQUFJLEVBQUU7VUFDWEosVUFBVSxDQUFDbEMsTUFBTSxDQUFDLGFBQWEsQ0FBQztVQUNoQ2tDLFVBQVUsQ0FBQ3JLLEdBQUcsQ0FBQyxlQUFlLENBQUM7VUFDL0JzSyxRQUFRLENBQUN4TCxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQztRQUNoRDtNQUNGLENBQUMsRUFBRSxLQUFLLENBQUM7SUFDWDtJQUNBbkssUUFBUSxDQUFDOEIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVU7TUFDM0MsS0FBSyxJQUFJeUcsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaU4sSUFBSSxDQUFDaE4sTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUNwQ2lOLElBQUksQ0FBQ2pOLENBQUMsQ0FBQyxDQUFDMkUsa0JBQWtCLENBQUMvQyxZQUFZLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQztRQUNoRXFMLElBQUksQ0FBQ2pOLENBQUMsQ0FBQyxDQUFDckksYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDaUssWUFBWSxDQUFDLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQztNQUN0RTtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUM7RUFDRDRMLE9BQU8sRUFBRTtJQUNQaE8sSUFBSSxFQUFFLFNBQUFBLEtBQUEsRUFBVztNQUNmLElBQUkvSCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO01BQy9DLElBQUl3RixJQUFJLEdBQUd6RixRQUFRLENBQUNFLGFBQWEsQ0FBQyxNQUFNLENBQUM7TUFDekMsSUFBSThVLElBQUksR0FBR2hWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLE1BQU0sQ0FBQztNQUN6QyxJQUFJZ00sVUFBVSxHQUFHOEksSUFBSSxHQUFFQSxJQUFJLEdBQUV2UCxJQUFJO01BQ2pDLElBQUl1USxHQUFHLEdBQUdoVyxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO01BQ3ZDNFEsR0FBRyxDQUFDN0wsWUFBWSxDQUFDLElBQUksRUFBRSxnQkFBZ0IsQ0FBQztNQUN4QztNQUNBNkwsR0FBRyxDQUFDdFUsS0FBSyxDQUFDdVUsUUFBUSxHQUFHLE9BQU87TUFDNUJELEdBQUcsQ0FBQzdMLFlBQVksQ0FBQyxPQUFPLEVBQUUsdUZBQXVGLENBQUM7TUFDbEg2TCxHQUFHLENBQUMxVixTQUFTLEdBQUcsMkZBQTJGO01BQzNHNEwsVUFBVSxDQUFDeEcsV0FBVyxDQUFDc1EsR0FBRyxDQUFDO01BQzNCLE9BQU9BLEdBQUc7SUFDWixDQUFDO0lBQ0R6RyxJQUFJLEVBQUUsU0FBQUEsS0FBQSxFQUFXO01BQ2YsSUFBSXlHLEdBQUcsR0FBR2hXLFFBQVEsQ0FBQ3NJLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDO01BQ3RELElBQUksQ0FBQzBOLEdBQUcsSUFBSUEsR0FBRyxDQUFDeE4sTUFBTSxLQUFLLENBQUMsRUFBRTtRQUM1QixNQUFNLElBQUl4QyxLQUFLLENBQUMsYUFBYSxDQUFDO01BQ2hDO01BQ0EsSUFBSWdRLEdBQUcsQ0FBQ3hOLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDbEIsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLGVBQWUsQ0FBQztNQUNsQztNQUNBLEtBQUssSUFBSXVDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3lOLEdBQUcsQ0FBQ3hOLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDbkN5TixHQUFHLENBQUN6TixDQUFDLENBQUMsQ0FBQzJELFVBQVUsQ0FBQ3ZHLFdBQVcsQ0FBQ3FRLEdBQUcsQ0FBQ3pOLENBQUMsQ0FBQyxDQUFDO01BQ3ZDO0lBQ0Y7RUFDRixDQUFDO0VBQ0QyTixnQkFBZ0IsRUFBRTtJQUNoQkMsZUFBZSxFQUFFLFNBQUFBLGdCQUFTQyxTQUFTLEVBQUU7TUFDbkMsSUFBSUMsS0FBSyxHQUFHLElBQUk7TUFDaEIsSUFBSXpKLEtBQUssR0FBR3dKLFNBQVM7TUFDckIsSUFBSUUsUUFBUSxHQUFHLENBQUM7TUFDaEIsR0FBRztRQUNERCxLQUFLLEdBQUd6SixLQUFLLENBQUNWLFVBQVU7UUFDeEJVLEtBQUssR0FBR3lKLEtBQUs7UUFDYkMsUUFBUSxFQUFFO01BQ1osQ0FBQyxRQUFTRCxLQUFLLENBQUNFLE9BQU8sS0FBSyxPQUFPLElBQUlELFFBQVEsR0FBRyxDQUFDO01BQ25ELElBQUtELEtBQUssQ0FBQ0UsT0FBTyxLQUFLLE9BQU8sRUFBRztRQUMvQixNQUFNLElBQUl2USxLQUFLLENBQUMsV0FBVyxDQUFDO01BQzlCO01BQ0EsT0FBT3FRLEtBQUs7SUFDZCxDQUFDO0lBQ0RHLGdCQUFnQixFQUFFLFNBQUFBLGlCQUFTQyxRQUFRLEVBQUU7TUFDbkMsSUFBSUMsVUFBVSxHQUFHLElBQUk7TUFDckI7TUFDQSxPQUFPLFlBQVk7UUFDakIsS0FBSyxJQUFJbk8sQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHa08sUUFBUSxDQUFDak8sTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtVQUN4QyxJQUFJb08sS0FBSyxHQUFHRixRQUFRLENBQUNsTyxDQUFDLENBQUM7VUFDdkIsSUFBSThOLEtBQUssR0FBR0ssVUFBVSxDQUFDUCxlQUFlLENBQUNRLEtBQUssQ0FBQztVQUM3Q04sS0FBSyxDQUFDL0gsU0FBUyxDQUFDa0YsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBQzFDO1FBQ0EsS0FBSyxJQUFJakwsRUFBQyxHQUFHLENBQUMsRUFBRUEsRUFBQyxHQUFHa08sUUFBUSxDQUFDak8sTUFBTSxFQUFFRCxFQUFDLEVBQUUsRUFBRTtVQUN4QyxJQUFJcU8sTUFBTSxHQUFHSCxRQUFRLENBQUNsTyxFQUFDLENBQUM7VUFDeEIsSUFBSXFPLE1BQU0sQ0FBQ3hILE9BQU8sRUFBRTtZQUNsQnNILFVBQVUsQ0FBQ1AsZUFBZSxDQUFDUyxNQUFNLENBQUMsQ0FBQ3RJLFNBQVMsQ0FBQ2pELEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztVQUNwRTtRQUNGO1FBQ0E7TUFDRixDQUFDO0lBQ0gsQ0FBQzs7SUFDRHdMLGVBQWUsRUFBRSxTQUFBQSxnQkFBU0YsS0FBSyxFQUFFO01BQy9CLElBQUlELFVBQVUsR0FBRyxJQUFJO01BQ3JCLElBQUlDLEtBQUssQ0FBQ0csWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBQ2pDSixVQUFVLENBQUNQLGVBQWUsQ0FBQ1EsS0FBSyxDQUFDLENBQUNySSxTQUFTLENBQUNqRCxHQUFHLENBQUMsZ0JBQWdCLENBQUM7TUFDbkUsQ0FBQyxNQUFNO1FBQ0xxTCxVQUFVLENBQUNQLGVBQWUsQ0FBQ1EsS0FBSyxDQUFDLENBQUNySSxTQUFTLENBQUNrRixNQUFNLENBQUMsZ0JBQWdCLENBQUM7TUFDdEU7SUFDRixDQUFDO0lBQ0R1RCxhQUFhLEVBQUUsU0FBQUEsY0FBU04sUUFBUSxFQUFFO01BQ2hDLElBQUl0VyxLQUFLLEdBQUcsSUFBSTtNQUNoQixLQUFLLElBQUlvSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdrTyxRQUFRLENBQUNqTyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3hDLElBQUlvTyxLQUFLLEdBQUdGLFFBQVEsQ0FBQ2xPLENBQUMsQ0FBQztRQUN2QixJQUFJb08sS0FBSyxDQUFDdkgsT0FBTyxFQUFFO1VBQ2pCalAsS0FBSyxHQUFHd1csS0FBSyxDQUFDeFcsS0FBSztRQUNyQjtNQUNGO01BQ0EsT0FBT0EsS0FBSztJQUNkO0VBQ0YsQ0FBQztFQUNEd0ssU0FBUyxFQUFFLFNBQUFBLFVBQVNxTSxXQUFXLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxFQUFFO0lBQ2hELElBQUlDLEdBQUcsR0FBR25YLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDK1csV0FBVyxDQUFDO0lBQzlDLElBQUlJLEdBQUcsR0FBR3BYLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDZ1gsU0FBUyxDQUFDO0lBQzVDLElBQUlJLE9BQU8sR0FBR0gsSUFBSSxJQUFJQSxJQUFJLENBQUNHLE9BQU8sR0FBRUgsSUFBSSxDQUFDRyxPQUFPLEdBQUUsWUFBWTtJQUM5RCxJQUFJQSxPQUFPLEtBQUssVUFBVSxFQUFFO01BQzFCQyxTQUFTLENBQUNOLFdBQVcsQ0FBQztNQUN0Qk0sU0FBUyxDQUFDTCxTQUFTLENBQUM7SUFDdEI7SUFDQSxJQUFJTSxPQUFPLEdBQUdMLElBQUksSUFBSUEsSUFBSSxDQUFDSyxPQUFPLEdBQUVMLElBQUksQ0FBQ0ssT0FBTyxHQUFFLEtBQUs7SUFDdkQsSUFBSUMsT0FBTyxHQUFHTixJQUFJLElBQUlBLElBQUksQ0FBQ00sT0FBTyxHQUFFTixJQUFJLENBQUNNLE9BQU8sR0FBRSxLQUFLO0lBQ3ZETCxHQUFHLENBQUNyVixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBVztNQUN2QyxJQUFJMlYsUUFBUSxHQUFHO1FBQ2JKLE9BQU8sRUFBRUEsT0FBTztRQUNoQkcsT0FBTyxFQUFFLGNBQWMsR0FBR1AsU0FBUyxHQUFHO01BQ3hDLENBQUM7TUFDRCxJQUFJSSxPQUFPLEtBQUssVUFBVSxFQUFFO1FBQzFCSSxRQUFRLENBQUNDLEdBQUcsR0FBR1YsV0FBVyxHQUFHLElBQUk7UUFDakNTLFFBQVEsQ0FBQ0UsV0FBVyxHQUFHVCxJQUFJLENBQUNTLFdBQVcsR0FBRVQsSUFBSSxDQUFDUyxXQUFXLEdBQUUsVUFBVTtNQUN2RTtNQUNBLElBQUlKLE9BQU8sRUFBRUUsUUFBUSxDQUFDRixPQUFPLEdBQUdBLE9BQU87TUFDdkMsSUFBSUMsT0FBTyxLQUFLLE9BQU8sRUFBRUMsUUFBUSxDQUFDRCxPQUFPLEdBQUcsY0FBYyxHQUFHUCxTQUFTLEdBQUcsc0JBQXNCO01BQy9GVyxXQUFXLENBQUNILFFBQVEsQ0FBQztJQUN2QixDQUFDLENBQUM7SUFDRkwsR0FBRyxDQUFDdFYsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVc7TUFDdkMsSUFBSStWLFFBQVEsR0FBRztRQUNiUixPQUFPLEVBQUVBLE9BQU87UUFDaEJFLE9BQU8sRUFBRSxjQUFjLEdBQUdQLFdBQVcsR0FBRztNQUMxQyxDQUFDO01BQ0QsSUFBSUssT0FBTyxLQUFLLFVBQVUsRUFBRTtRQUMxQlEsUUFBUSxDQUFDSCxHQUFHLEdBQUdULFNBQVMsR0FBRyxJQUFJO1FBQy9CWSxRQUFRLENBQUNGLFdBQVcsR0FBR1QsSUFBSSxDQUFDUyxXQUFXLEdBQUVULElBQUksQ0FBQ1MsV0FBVyxHQUFFLFVBQVU7TUFDdkU7TUFDQSxJQUFJSixPQUFPLEVBQ1RNLFFBQVEsQ0FBQ04sT0FBTyxHQUFHLGNBQWMsR0FBR1AsV0FBVyxHQUFHLFdBQVcsR0FBR08sT0FBTyxHQUFHLEtBQUs7TUFDakYsSUFBSUMsT0FBTyxLQUFLLE9BQU8sRUFBRUssUUFBUSxDQUFDTCxPQUFPLEdBQUcsVUFBVTtNQUN0REksV0FBVyxDQUFDQyxRQUFRLENBQUM7SUFDdkIsQ0FBQyxDQUFDO0lBQ0YsU0FBU0MsY0FBY0EsQ0FBQ0MsS0FBSyxFQUFFO01BQzdCLElBQUloUCxHQUFHLEdBQUcvSSxRQUFRLENBQUNFLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQztNQUMxRCxJQUFJLENBQUM2SSxHQUFHLEVBQUU7TUFDVkEsR0FBRyxDQUFDakgsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVc7UUFDdkNpVyxLQUFLLENBQUM1WCxLQUFLLEdBQUcsRUFBRTtNQUNsQixDQUFDLENBQUM7SUFDSjtJQUNBLFNBQVNtWCxTQUFTQSxDQUFDVSxFQUFFLEVBQUU7TUFDckIsSUFBSXpGLEdBQUcsR0FBR3ZTLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDekMsSUFBSTZTLEdBQUcsR0FBR2pZLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDK1gsRUFBRSxDQUFDO01BQ3JDLElBQUlFLE9BQU8sR0FBR0QsR0FBRyxDQUFDaE4sWUFBWSxDQUFDLE1BQU0sQ0FBQztNQUN0QyxJQUFJMUssSUFBSSxHQUFHMFgsR0FBRyxDQUFDaE4sWUFBWSxDQUFDLFlBQVksQ0FBQztNQUN6Q2dOLEdBQUcsQ0FBQzdILGVBQWUsQ0FBQyxNQUFNLENBQUM7TUFDM0JtQyxHQUFHLENBQUNwSSxZQUFZLENBQUMsTUFBTSxFQUFFK04sT0FBTyxDQUFDO01BQ2pDM0YsR0FBRyxDQUFDcEksWUFBWSxDQUFDLElBQUksRUFBRTZOLEVBQUUsR0FBRyxJQUFJLENBQUM7TUFDakN6RixHQUFHLENBQUNwSSxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQztNQUNsQyxJQUFJNUosSUFBSSxFQUFFO1FBQ1JnUyxHQUFHLENBQUNwSSxZQUFZLENBQUMsT0FBTyxFQUFFNUosSUFBSSxDQUFDO1FBQy9CMFgsR0FBRyxDQUFDOU4sWUFBWSxDQUFDLE9BQU8sRUFBRTVKLElBQUksQ0FBQ29ULEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHcFQsSUFBSSxDQUFDb1QsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7TUFDNUU7TUFDQTNULFFBQVEsQ0FBQ0MsY0FBYyxDQUFDK1gsRUFBRSxDQUFDLENBQUM5TCxVQUFVLENBQUN4RyxXQUFXLENBQUM2TSxHQUFHLENBQUM7TUFDdkR1RixjQUFjLENBQUN2RixHQUFHLENBQUM7TUFDbkIsT0FBT0EsR0FBRztJQUNaO0VBQ0YsQ0FBQztFQUNENEYsWUFBWSxFQUFFLFNBQUFBLGFBQVNwVyxLQUFLLEVBQUU7SUFDNUIsSUFBSXFXLEVBQUUsR0FBR3JXLEtBQUssSUFBSWdELE1BQU0sQ0FBQ2hELEtBQUs7SUFDOUIsSUFBSXNXLEdBQUcsR0FBR0QsRUFBRSxDQUFDRSxNQUFNLElBQUlGLEVBQUUsQ0FBQ0csVUFBVTtJQUNwQyxJQUFJQyxDQUFDLEdBQUdILEdBQUcsQ0FBQ2pPLElBQUksSUFBSWlPLEdBQUcsQ0FBQ3BOLFlBQVksQ0FBQyxNQUFNLENBQUM7SUFDNUMsSUFBSXdOLFNBQVMsR0FBR0osR0FBRyxDQUFDcE4sWUFBWSxDQUFDLFVBQVUsQ0FBQztJQUM1Q3dOLFNBQVMsR0FBSUEsU0FBUyxJQUFJLEVBQUUsR0FBSSxLQUFLLEdBQUdBLFNBQVM7SUFDakQsSUFBSUMsS0FBSyxHQUFJTixFQUFFLENBQUNPLE9BQU8sSUFBSSxDQUFDLEtBQUtILENBQUMsSUFBSSxVQUFVLElBQUlBLENBQUMsSUFBSSxNQUFNLElBQUlBLENBQUMsSUFBSSxRQUFRLElBQUlBLENBQUMsSUFBRyxVQUFVLENBQUMsSUFBSUMsU0FBUyxJQUFJRyxTQUFTLEdBQUksSUFBSSxHQUFHLEtBQUs7SUFDN0ksSUFBSUMsS0FBSyxHQUFJVCxFQUFFLENBQUNPLE9BQU8sSUFBSSxDQUFDLElBQUlILENBQUMsSUFBSSxVQUFVLElBQUlBLENBQUMsSUFBSSxNQUFNLElBQUlBLENBQUMsSUFBSSxRQUFRLElBQUlBLENBQUMsSUFBSSxVQUFVLEdBQUksSUFBSSxHQUFHLEtBQUs7SUFDbEgsSUFBSUssS0FBSyxFQUFFO01BQ1QsT0FBTyxLQUFLO0lBQ2Q7SUFDQSxJQUFJSCxLQUFLLEVBQUU7TUFDVCxPQUFPLEtBQUs7SUFDZDtFQUNGLENBQUM7RUFDRHpSLFlBQVksRUFBRSxTQUFBQSxhQUFTdkcsR0FBRyxFQUFFMlgsR0FBRyxFQUFFO0lBQy9CLElBQUluWCxJQUFJLEdBQUdsQixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO0lBQ3pDbEUsSUFBSSxDQUFDUSxLQUFLLENBQUN3SixPQUFPLEdBQUcsTUFBTTtJQUMzQmhLLElBQUksQ0FBQzRYLE1BQU0sR0FBRyxNQUFNO0lBQ3BCNVgsSUFBSSxDQUFDNlgsTUFBTSxHQUFHclksR0FBRztJQUNqQixLQUFNLElBQUl5RixHQUFHLElBQUlrUyxHQUFHLEVBQUU7TUFDcEIsSUFBSTlGLEdBQUcsR0FBR3ZTLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDekNtTixHQUFHLENBQUNuSSxJQUFJLEdBQUcsUUFBUTtNQUNuQm1JLEdBQUcsQ0FBQ3pSLElBQUksR0FBR3FGLEdBQUc7TUFDZG9NLEdBQUcsQ0FBQ3BTLEtBQUssR0FBR2tZLEdBQUcsQ0FBQ2xTLEdBQUcsQ0FBQztNQUNwQmpGLElBQUksQ0FBQ3dFLFdBQVcsQ0FBQzZNLEdBQUcsQ0FBQztJQUN2QjtJQUNBdlMsUUFBUSxDQUFDeUYsSUFBSSxDQUFDQyxXQUFXLENBQUN4RSxJQUFJLENBQUM7SUFDL0JBLElBQUksQ0FBQzBLLE1BQU0sRUFBRTtJQUNiNUwsUUFBUSxDQUFDeUYsSUFBSSxDQUFDRSxXQUFXLENBQUN6RSxJQUFJLENBQUM7RUFDakMsQ0FBQztFQUNEOFgsa0JBQWtCLEVBQUUsU0FBQUEsbUJBQVNDLFFBQVEsRUFBRUMsWUFBWSxFQUFFO0lBQ25ELElBQUlDLEdBQUcsR0FBR25aLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDMUMrVCxHQUFHLENBQUNoUCxZQUFZLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQztJQUNqQ2dQLEdBQUcsQ0FBQzFYLFNBQVMsR0FBRyxJQUFJO0lBQ3BCeVgsWUFBWSxDQUFDeFQsV0FBVyxDQUFDeVQsR0FBRyxDQUFDO0lBQzdCLEtBQUssSUFBSTVRLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzBRLFFBQVEsQ0FBQ3pRLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDeEMsSUFBSXNDLEVBQUUsR0FBRzdLLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7TUFDekN5RixFQUFFLENBQUNWLFlBQVksQ0FBQyxPQUFPLEVBQUU4TyxRQUFRLENBQUMxUSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUN6QzBFLEVBQUUsQ0FBQ3BKLFNBQVMsR0FBR3dYLFFBQVEsQ0FBQzFRLENBQUMsQ0FBQyxDQUFDcEksS0FBSztNQUNoQytZLFlBQVksQ0FBQ3hULFdBQVcsQ0FBQ21GLEVBQUUsQ0FBQztJQUM5QjtFQUNGLENBQUM7RUFDRHVPLGVBQWUsRUFBRSxTQUFBQSxnQkFBU0gsUUFBUSxFQUFFQyxZQUFZLEVBQUU7SUFDaEQsSUFBSUMsR0FBRyxHQUFHblosUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUMxQytULEdBQUcsQ0FBQ2hQLFlBQVksQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDO0lBQzdCZ1AsR0FBRyxDQUFDMVgsU0FBUyxHQUFHLElBQUk7SUFDcEJ5WCxZQUFZLENBQUN4VCxXQUFXLENBQUN5VCxHQUFHLENBQUM7SUFDN0IsS0FBSyxJQUFJNVEsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHMFEsUUFBUSxDQUFDelEsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBQztNQUN2QyxJQUFJc0MsRUFBRSxHQUFHN0ssUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztNQUN6Q3lGLEVBQUUsQ0FBQ1YsWUFBWSxDQUFDLE9BQU8sRUFBRThPLFFBQVEsQ0FBQzFRLENBQUMsQ0FBQyxDQUFDOFEsVUFBVSxDQUFDO01BQ2hEeE8sRUFBRSxDQUFDcEosU0FBUyxHQUFHd1gsUUFBUSxDQUFDMVEsQ0FBQyxDQUFDLENBQUMrUSxlQUFlO01BQzFDSixZQUFZLENBQUN4VCxXQUFXLENBQUNtRixFQUFFLENBQUM7SUFDOUI7RUFDRixDQUFDO0VBQ0QvQixtQkFBbUIsRUFBRSxTQUFBQSxvQkFBU3ZJLElBQUksRUFBRTtJQUNsQ1AsUUFBUSxDQUFDQyxjQUFjLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0UsS0FBSyxHQUFHSSxJQUFJLENBQUM4UCxrQkFBa0I7SUFDN0VyUSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQ0UsS0FBSyxHQUFHSSxJQUFJLENBQUNnWixVQUFVO0lBQ3pEdlosUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUNFLEtBQUssR0FBR0ksSUFBSSxDQUFDK1AsU0FBUztJQUMzRHRRLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDRSxLQUFLLEdBQUdJLElBQUksQ0FBQ2dRLE9BQU87SUFDdkR2USxRQUFRLENBQUNDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQ0UsS0FBSyxHQUFHSSxJQUFJLENBQUNpWixnQkFBZ0I7SUFDckV4WixRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQ0UsS0FBSyxHQUFHSSxJQUFJLENBQUNvUSxTQUFTO0lBQzNEM1EsUUFBUSxDQUFDQyxjQUFjLENBQUMsY0FBYyxDQUFDLENBQUNFLEtBQUssR0FBR3NaLFVBQVUsRUFBRTtJQUM1RCxTQUFTQSxVQUFVQSxDQUFBLEVBQUc7TUFDcEIsSUFBSUMsSUFBSSxHQUFHblosSUFBSSxDQUFDdVEsc0JBQXNCO01BQ3RDLElBQUk0SSxJQUFJLENBQUNsUixNQUFNLEdBQUcsQ0FBQyxFQUFFLE9BQU8sSUFBSTtNQUNoQyxJQUFJMEksTUFBTSxHQUFHLEVBQUU7TUFDZixLQUFLLElBQUkzSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdtUixJQUFJLENBQUNsUixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3BDLElBQUltUixJQUFJLENBQUNuUixDQUFDLENBQUMsQ0FBQ21KLGVBQWUsSUFBSSxNQUFNLEVBQUU7VUFDckNSLE1BQU0sR0FBR3dJLElBQUksQ0FBQ25SLENBQUMsQ0FBQyxDQUFDb0osZ0JBQWdCO1FBQ25DO01BQ0Y7TUFDQSxPQUFPVCxNQUFNO0lBQ2Y7SUFDQTtJQUNBLElBQUl5SSxhQUFhLEdBQUczWixRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7SUFDeEQsSUFBSU0sSUFBSSxDQUFDcVosU0FBUyxFQUFFO01BQ2xCLElBQUl2RCxLQUFLLEdBQUdyVyxRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO01BQzNDaVIsS0FBSyxDQUFDNVUsU0FBUyxHQUFHLE9BQU87TUFDekJrWSxhQUFhLENBQUNqVSxXQUFXLENBQUMyUSxLQUFLLENBQUM7TUFDaEMsSUFBSUwsR0FBRyxHQUFHaFcsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztNQUN2QzRRLEdBQUcsQ0FBQzdMLFlBQVksQ0FBQyxPQUFPLEVBQUUsc0NBQXNDLENBQUM7TUFDakU2TCxHQUFHLENBQUN2VSxTQUFTLEdBQUdsQixJQUFJLENBQUNxWixTQUFTO01BQzlCRCxhQUFhLENBQUNqVSxXQUFXLENBQUNzUSxHQUFHLENBQUM7SUFDaEMsQ0FBQyxNQUFNLElBQUkyRCxhQUFhLENBQUNyWixTQUFTLEVBQUU7TUFDbENxWixhQUFhLENBQUNyWixTQUFTLEdBQUcsRUFBRTtJQUM5QjtJQUNBO0lBQ0EsSUFBSXVaLGlCQUFpQixHQUFHN1osUUFBUSxDQUFDQyxjQUFjLENBQUMsZUFBZSxDQUFDO0lBQ2hFLElBQUlNLElBQUksQ0FBQ2tRLGFBQWEsRUFBRTtNQUN0QixJQUFJNEYsTUFBSyxHQUFHclcsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE9BQU8sQ0FBQztNQUMzQyxJQUFJN0UsSUFBSSxDQUFDaVEsWUFBWSxJQUFJLEdBQUcsRUFDMUI2RixNQUFLLENBQUM1VSxTQUFTLEdBQUcsTUFBTSxDQUFDLEtBQ3RCLElBQUlsQixJQUFJLENBQUNpUSxZQUFZLElBQUksSUFBSSxFQUNoQzZGLE1BQUssQ0FBQzVVLFNBQVMsR0FBRyxNQUFNLENBQUMsS0FDdEIsSUFBSWxCLElBQUksQ0FBQ2lRLFlBQVksSUFBSSxHQUFHLEVBQy9CNkYsTUFBSyxDQUFDNVUsU0FBUyxHQUFHLFFBQVEsQ0FBQyxLQUUzQjRVLE1BQUssQ0FBQzVVLFNBQVMsR0FBRyxLQUFLO01BQ3pCb1ksaUJBQWlCLENBQUNuVSxXQUFXLENBQUMyUSxNQUFLLENBQUM7TUFDcEMsSUFBSUwsSUFBRyxHQUFHaFcsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztNQUN2QzRRLElBQUcsQ0FBQzdMLFlBQVksQ0FBQyxPQUFPLEVBQUUsc0NBQXNDLENBQUM7TUFDakU2TCxJQUFHLENBQUN2VSxTQUFTLEdBQUdsQixJQUFJLENBQUNrUSxhQUFhO01BQ2xDb0osaUJBQWlCLENBQUNuVSxXQUFXLENBQUNzUSxJQUFHLENBQUM7SUFDcEMsQ0FBQyxNQUFNLElBQUk2RCxpQkFBaUIsQ0FBQ3ZaLFNBQVMsRUFBRTtNQUN0Q3VaLGlCQUFpQixDQUFDdlosU0FBUyxHQUFHLEVBQUU7SUFDbEM7SUFFQSxJQUFJZ0csS0FBSyxHQUFHdEcsUUFBUSxDQUFDQyxjQUFjLENBQUMsd0JBQXdCLENBQUM7SUFDN0QsSUFBSWtJLEtBQUssR0FBRzJSLFFBQVEsRUFBRTtJQUN0QnhULEtBQUssQ0FBQ1osV0FBVyxDQUFDeUMsS0FBSyxDQUFDO0lBQ3hCLFNBQVMyUixRQUFRQSxDQUFBLEVBQUc7TUFDbEIsSUFBSTNSLEtBQUssR0FBR25JLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDM0MsSUFBSXNVLElBQUksR0FBR25aLElBQUksQ0FBQ3VRLHNCQUFzQjtNQUN0QyxLQUFLLElBQUl2SSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdtUixJQUFJLENBQUNsUixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3BDLElBQUl3UixFQUFFLEdBQUcvWixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO1FBQ3JDLElBQUlzVSxJQUFJLENBQUNuUixDQUFDLENBQUMsQ0FBQ21KLGVBQWUsSUFBSSxNQUFNLEVBQUU7VUFDckM7UUFDRixDQUFDLE1BQU07VUFDTCxJQUFJc0ksR0FBRyxHQUFHaGEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztVQUN0QzRVLEdBQUcsQ0FBQ3ZZLFNBQVMsR0FBR2lZLElBQUksQ0FBQ25SLENBQUMsQ0FBQyxDQUFDc0osa0JBQWtCO1VBQzFDLElBQUlvSSxHQUFHLEdBQUdqYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO1VBQ3RDNlUsR0FBRyxDQUFDeFksU0FBUyxHQUFHaVksSUFBSSxDQUFDblIsQ0FBQyxDQUFDLENBQUMyUixtQkFBbUI7VUFDM0MsSUFBSUMsR0FBRyxHQUFHbmEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztVQUN0QytVLEdBQUcsQ0FBQzFZLFNBQVMsR0FBR2lZLElBQUksQ0FBQ25SLENBQUMsQ0FBQyxDQUFDb0osZ0JBQWdCO1VBQ3hDb0ksRUFBRSxDQUFDclUsV0FBVyxDQUFDc1UsR0FBRyxDQUFDO1VBQ25CRCxFQUFFLENBQUNyVSxXQUFXLENBQUN1VSxHQUFHLENBQUM7VUFDbkJGLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3lVLEdBQUcsQ0FBQztVQUNuQmhTLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztRQUN2QjtNQUNGO01BQ0EsT0FBTzVSLEtBQUs7SUFDZDtFQUNGLENBQUM7RUFDRHBFLEtBQUssRUFBRTtJQUNMcVcsVUFBVSxFQUFFLFNBQUFBLFdBQVNDLE9BQU8sRUFBRTtNQUM1QixJQUFJQyxHQUFHLEdBQUd0YSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQ3RDLElBQUltVixHQUFHLEdBQUd2YSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQ3RDbVYsR0FBRyxDQUFDOVksU0FBUyxHQUFHLEtBQUs7TUFDckI4WSxHQUFHLENBQUNwUSxZQUFZLENBQUMsU0FBUyxFQUFFa1EsT0FBTyxDQUFDO01BQ3BDRSxHQUFHLENBQUNwUSxZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDO01BQzNDbVEsR0FBRyxDQUFDNVUsV0FBVyxDQUFDNlUsR0FBRyxDQUFDO01BQ3BCO01BQ0EsSUFBSUMsR0FBRyxHQUFHeGEsUUFBUSxDQUFDRSxhQUFhLENBQUMsd0JBQXdCLENBQUM7TUFDMURzYSxHQUFHLENBQUNsYSxTQUFTLEdBQUcsRUFBRTtNQUVsQixPQUFPZ2EsR0FBRztJQUNaLENBQUM7SUFDREcsT0FBTyxFQUFFLFNBQUFBLFFBQVNuVSxLQUFLLEVBQUU7TUFDdkIsSUFBSW9VLEtBQUssR0FBR3BVLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDeEN3YSxLQUFLLENBQUNwYSxTQUFTLEdBQUcsRUFBRTtNQUNwQixJQUFJcWEsU0FBUyxHQUFHM2EsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUM1Q3NWLEtBQUssQ0FBQ2hWLFdBQVcsQ0FBQ2lWLFNBQVMsQ0FBQztNQUM1QjtNQUNBO01BQ0EsT0FBT0EsU0FBUztJQUNsQixDQUFDO0lBQ0RDLEtBQUssRUFBRSxTQUFBQSxNQUFTQyxRQUFRLEVBQUVoUixPQUFPLEVBQUVpUixPQUFPLEVBQUU7TUFDMUMsSUFBSUMsRUFBRSxHQUFHL2EsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUNyQyxJQUFJMkMsSUFBSSxHQUFHK1MsT0FBTyxLQUFLbEMsU0FBUyxHQUFFLElBQUksR0FBRWtDLE9BQU87TUFDL0MsSUFBSS9VLE9BQUEsQ0FBTzhELE9BQU8sS0FBSSxRQUFRLEVBQUU7UUFDOUJrUixFQUFFLENBQUNyVixXQUFXLENBQUNtRSxPQUFPLENBQUM7TUFDekIsQ0FBQyxNQUFNO1FBQ0xrUixFQUFFLENBQUN0WixTQUFTLEdBQUdvSSxPQUFPO01BQ3hCO01BQ0EsSUFBSSxDQUFDOUIsSUFBSSxFQUFFZ1QsRUFBRSxDQUFDNVEsWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7TUFDeEMwUSxRQUFRLENBQUNuVixXQUFXLENBQUNxVixFQUFFLENBQUM7TUFDeEIsT0FBT0EsRUFBRTtJQUNYLENBQUM7SUFDREMsS0FBSyxFQUFFLFNBQUFBLE1BQVNILFFBQVEsRUFBRXRhLElBQUksRUFBRXVhLE9BQU8sRUFBRUcsVUFBVSxFQUFFO01BQ25ELElBQUlDLEVBQUUsR0FBR2xiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7TUFDckMsSUFBSTJDLElBQUksR0FBRytTLE9BQU8sS0FBS2xDLFNBQVMsR0FBRSxJQUFJLEdBQUVrQyxPQUFPO01BQy9DLElBQUlLLE9BQU8sR0FBR0YsVUFBVSxHQUFFQSxVQUFVLEdBQUUsR0FBRztNQUN6QyxJQUFJLE9BQU8xYSxJQUFJLEtBQUssUUFBUSxJQUFJLE9BQU9BLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDeEQsSUFBSUEsSUFBSSxFQUFFO1VBQ1IsSUFBSVIsSUFBSSxHQUFHQyxRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO1VBQ3pDckYsSUFBSSxDQUFDMkIsS0FBSyxDQUFDd0osT0FBTyxHQUFHLGNBQWM7VUFDbkNuTCxJQUFJLENBQUNPLFNBQVMsR0FBR0MsSUFBSTtVQUNyQjJhLEVBQUUsQ0FBQ3hWLFdBQVcsQ0FBQzNGLElBQUksQ0FBQztRQUN0QixDQUFDLE1BQU07VUFDTHFiLFNBQVMsQ0FBQ0YsRUFBRSxFQUFFQyxPQUFPLENBQUM7UUFDeEI7TUFDRixDQUFDLE1BQU0sSUFBSTlZLE9BQU8sQ0FBQ3FTLEtBQUssQ0FBQ25VLElBQUksQ0FBQyxFQUFFO1FBQzlCMmEsRUFBRSxDQUFDeFYsV0FBVyxDQUFDbkYsSUFBSSxDQUFDO01BQ3RCLENBQUMsTUFBTSxJQUFJc1QsS0FBSyxDQUFDQyxPQUFPLENBQUN2VCxJQUFJLENBQUMsRUFBRTtRQUM5QixJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQ25CNFMsU0FBUyxDQUFDRixFQUFFLEVBQUVDLE9BQU8sQ0FBQztRQUN4QixDQUFDLE1BQU07VUFDTCxLQUFLLElBQUk1UyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1lBQ3BDMlMsRUFBRSxDQUFDeFYsV0FBVyxDQUFDbkYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUM7VUFDekI7UUFDRjtNQUNGLENBQUMsTUFBTTtRQUNMNlMsU0FBUyxDQUFDRixFQUFFLEVBQUVDLE9BQU8sQ0FBQztNQUN4QjtNQUNBLElBQUksQ0FBQ3BULElBQUksRUFBRW1ULEVBQUUsQ0FBQy9RLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO01BQ3hDMFEsUUFBUSxDQUFDblYsV0FBVyxDQUFDd1YsRUFBRSxDQUFDO01BQ3hCLE9BQU9BLEVBQUU7TUFDVCxTQUFTRSxTQUFTQSxDQUFDRixFQUFFLEVBQUVDLE9BQU8sRUFBRTtRQUM5QkQsRUFBRSxDQUFDNWEsU0FBUyxHQUFHNmEsT0FBTztRQUN0QkQsRUFBRSxDQUFDL1EsWUFBWSxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQztNQUM1QztJQUNGLENBQUM7SUFDRGtSLFdBQVcsRUFBRSxTQUFBQSxZQUFTUixRQUFRLEVBQUVTLE1BQU0sRUFBRXBZLFVBQVUsRUFBRUMsUUFBUSxFQUFFO01BQzVELElBQUlvWSxRQUFRLEdBQUd2YixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQzNDeVYsUUFBUSxDQUFDblYsV0FBVyxDQUFDNlYsUUFBUSxDQUFDO01BQzlCQSxRQUFRLENBQUM5WixTQUFTLEdBQUc2WixNQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUM3USxNQUFNLENBQUN2SCxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUl1SCxNQUFNLENBQUN0SCxRQUFRLENBQUM7TUFDN0UsT0FBT29ZLFFBQVE7SUFDakIsQ0FBQztJQUNEQyxRQUFRLEVBQUUsU0FBQUEsU0FBU04sRUFBRSxFQUFFTyxLQUFLLEVBQUU7TUFDNUIsSUFBSTFiLElBQUksR0FBR21iLEVBQUUsQ0FBQ2hiLGFBQWEsQ0FBQyxNQUFNLENBQUM7TUFDbkMsSUFBSSxDQUFDSCxJQUFJLEVBQUU7TUFDWCxJQUFJMmIsSUFBSSxHQUFHRCxLQUFLLEdBQUVBLEtBQUssR0FBRSxHQUFHO01BQzVCO01BQ0EsSUFBSUUsYUFBYSxHQUFHNVcsTUFBTSxDQUFDNlcsZ0JBQWdCLEdBQ3ZDN1csTUFBTSxDQUFDNlcsZ0JBQWdCLENBQUM3YixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM4YixnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQ2xJLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FDMUU1VCxJQUFJLENBQUMrYixZQUFZLENBQUNELGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDbEksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztNQUM1RCxJQUFJbEosTUFBTSxDQUFDa1IsYUFBYSxDQUFDLEdBQUdELElBQUksRUFBRSxPQUFPUixFQUFFO01BQzNDQSxFQUFFLENBQUN4WixLQUFLLENBQUNxYSxRQUFRLEdBQUcsUUFBUTtNQUM1QmIsRUFBRSxDQUFDeFosS0FBSyxDQUFDOE0sWUFBWSxHQUFHLFVBQVU7TUFDbEMwTSxFQUFFLENBQUN4WixLQUFLLENBQUNzYSxRQUFRLEdBQUdOLElBQUksR0FBRyxJQUFJO01BQy9CUixFQUFFLENBQUN4WixLQUFLLENBQUN1YSxNQUFNLEdBQUcsU0FBUztNQUMzQmYsRUFBRSxDQUFDelosU0FBUyxHQUFHMUIsSUFBSSxDQUFDMEIsU0FBUztNQUM3QnlaLEVBQUUsQ0FBQy9RLFlBQVksQ0FBQyxZQUFZLEVBQUUrUSxFQUFFLENBQUN6WixTQUFTLENBQUM7TUFDM0MsT0FBT3laLEVBQUU7SUFDWCxDQUFDO0lBQ0RnQixVQUFVLEVBQUUsU0FBQUEsV0FBU25DLEVBQUUsRUFBRW9DLEdBQUcsRUFBRTtNQUM1QixJQUFJQyxHQUFHLEdBQUdyQyxFQUFFLENBQUN6UixnQkFBZ0IsQ0FBQyxJQUFJLENBQUM7TUFDbkMsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2VCxHQUFHLENBQUM1VCxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ25DLElBQUkyUyxFQUFFLEdBQUdrQixHQUFHLENBQUM3VCxDQUFDLENBQUM7UUFDZixJQUFJLENBQUNpVCxRQUFRLENBQUNOLEVBQUUsRUFBRWlCLEdBQUcsQ0FBQztNQUN4QjtNQUNBLE9BQU9wQyxFQUFFO0lBQ1gsQ0FBQztJQUNEc0MsYUFBYSxFQUFFLFNBQUFBLGNBQUEsRUFBVztNQUN4QixJQUFJL1YsS0FBSyxHQUFHdEcsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO01BQ2hELElBQUksQ0FBQ3FHLEtBQUssRUFBRTtNQUNaLElBQUksQ0FBQ0EsS0FBSyxDQUFDd1EsWUFBWSxDQUFDLGVBQWUsQ0FBQyxFQUFFO01BQzFDLElBQUl3RixJQUFJLEdBQUdoVyxLQUFLLENBQUMyRSxZQUFZLENBQUMsZUFBZSxDQUFDO01BQzlDLElBQUlzUixJQUFJLEdBQUdDLEtBQUssQ0FBQy9SLE1BQU0sQ0FBQzZSLElBQUksQ0FBQyxDQUFDLEdBQUUsSUFBSSxHQUFFN1IsTUFBTSxDQUFDNlIsSUFBSSxDQUFDO01BQ2xELElBQUluVSxLQUFLLEdBQUc3QixLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO01BQ3hDLElBQUl1YyxHQUFHLEdBQUd0VSxLQUFLLENBQUNHLGdCQUFnQixDQUFDLElBQUksQ0FBQztNQUN0QyxJQUFJbVUsR0FBRyxDQUFDalUsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNwQixLQUFLLElBQUlELENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2tVLEdBQUcsQ0FBQ2pVLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDbkMsSUFBSXdSLEVBQUUsR0FBRzBDLEdBQUcsQ0FBQ2xVLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQzJULFVBQVUsQ0FBQ25DLEVBQUUsRUFBRXdDLElBQUksQ0FBQztNQUMzQjtNQUNBLE9BQU9wVSxLQUFLO0lBQ2QsQ0FBQztJQUNEdVUsY0FBYyxFQUFFLFNBQUFBLGVBQVNDLFNBQVMsRUFBRXpRLFVBQVUsRUFBRTtNQUM5QyxJQUFJMFEsUUFBUSxHQUFHLENBQUM7TUFDaEIsS0FBSyxJQUFJclUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHb1UsU0FBUyxDQUFDblUsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUN6QyxJQUFJbVIsSUFBSSxHQUFHaUQsU0FBUyxDQUFDcFUsQ0FBQyxDQUFDO1FBQ3ZCLElBQUltUixJQUFJLENBQUNtRCxVQUFVLEtBQUssS0FBSyxFQUFFO1VBQzdCLElBQUlDLEdBQUcsR0FBRzljLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7VUFDdEMwWCxHQUFHLENBQUNyYixTQUFTLEdBQUcsTUFBTTtVQUN0QnFiLEdBQUcsQ0FBQzNTLFlBQVksQ0FBQyxVQUFVLEVBQUV5UyxRQUFRLENBQUM7VUFDdENFLEdBQUcsQ0FBQzNTLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO1VBQ3pDeVMsUUFBUSxFQUFFO1VBQ1YxUSxVQUFVLENBQUN4RyxXQUFXLENBQUNvWCxHQUFHLENBQUM7UUFDN0I7UUFDQSxJQUFJL0IsRUFBRSxHQUFHL2EsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztRQUNyQzJWLEVBQUUsQ0FBQ3RaLFNBQVMsR0FBR2lZLElBQUksQ0FBQ21ELFVBQVU7UUFDOUI5QixFQUFFLENBQUM1USxZQUFZLENBQUMsVUFBVSxFQUFFeVMsUUFBUSxDQUFDO1FBQ3JDQSxRQUFRLEVBQUU7UUFDVjdCLEVBQUUsQ0FBQzVRLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO1FBQ3hDK0IsVUFBVSxDQUFDeEcsV0FBVyxDQUFDcVYsRUFBRSxDQUFDO01BQzVCO0lBQ0YsQ0FBQztJQUNEZ0MsaUJBQWlCLEVBQUUsU0FBQUEsa0JBQVN4YyxJQUFJLEVBQUU0RixHQUFHLEVBQUU7TUFDckMsSUFBSTZXLEdBQUcsR0FBRyxFQUFFO01BQ1osS0FBSyxJQUFJelUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUNwQyxJQUFJcEksS0FBSyxHQUFHSSxJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDOE4sUUFBUSxFQUFFLENBQUNrSCxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUMzQzhCLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQztRQUNyRCxJQUFJMWMsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNzVSxVQUFVLEtBQUssS0FBSyxFQUFFO1VBQ2hDRyxHQUFHLENBQUMzTixJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMxQjtRQUNBMk4sR0FBRyxDQUFDM04sSUFBSSxDQUFDbFAsS0FBSyxDQUFDO01BQ2pCO01BQ0EsT0FBTzZjLEdBQUc7SUFDWixDQUFDO0lBQ0RFLGdCQUFnQixFQUFFLFNBQUFBLGlCQUFTQyxLQUFLLEVBQUVDLFFBQVEsRUFBRW5FLFFBQVEsRUFBRTtNQUNwRCxJQUFJK0QsR0FBRyxHQUFHRyxLQUFLLEdBQUUsQ0FBQ0EsS0FBSyxDQUFDLEdBQUUsRUFBRTtNQUM1QixLQUFLLElBQUk1VSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2VSxRQUFRLENBQUM1VSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3hDLElBQUloSSxJQUFJLEdBQUcsR0FBRztRQUNkLElBQUk4YyxVQUFVLEdBQUdELFFBQVEsQ0FBQzdVLENBQUMsQ0FBQztRQUM1QixLQUFLLElBQUlzTixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUd3SCxVQUFVLENBQUM3VSxNQUFNLEVBQUVxTixDQUFDLEVBQUUsRUFBRTtVQUMxQyxJQUFJeUgsVUFBVSxHQUFHRCxVQUFVLENBQUN4SCxDQUFDLENBQUM7VUFDOUIsS0FBSyxJQUFJMEgsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHdEUsUUFBUSxDQUFDelEsTUFBTSxFQUFFK1UsQ0FBQyxFQUFFLEVBQUU7WUFDeEMsSUFBSUMsU0FBUyxHQUFHdkUsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNFLEtBQUs7WUFDakMsSUFBSUMsU0FBUyxHQUFHekUsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNJLEdBQUcsS0FBSyxJQUFJLEdBQUUsR0FBRyxHQUFFMUUsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNJLEdBQUc7WUFDOUQsSUFBSUMsUUFBUSxHQUFHM0UsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNNLE9BQU87WUFDbEMsSUFBSUMsWUFBWSxHQUFHN0UsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNRLFVBQVUsS0FBSyxLQUFLO1lBQ25ELElBQUlULFVBQVUsSUFBSUUsU0FBUyxFQUFFO2NBQzNCLElBQUlNLFlBQVksRUFBRTtnQkFDaEJkLEdBQUcsQ0FBQ2dCLEdBQUcsRUFBRTtnQkFDVGhCLEdBQUcsQ0FBQzNOLElBQUksQ0FBQ3VPLFFBQVEsQ0FBQztjQUNwQjtjQUNBcmQsSUFBSSxHQUFHbWQsU0FBUztZQUNsQjtVQUNGO1FBQ0Y7UUFDQVYsR0FBRyxDQUFDM04sSUFBSSxDQUFDOU8sSUFBSSxDQUFDO01BQ2hCO01BQ0EsSUFBSTRjLEtBQUssRUFBRTtRQUNULE9BQU9ILEdBQUc7TUFDWixDQUFDLE1BQU07UUFDTCxPQUFPO1VBQ0x6YyxJQUFJLEVBQUV5YyxHQUFHO1VBQ1RHLEtBQUssRUFBRTtRQUNULENBQUM7TUFDSDtJQUNGLENBQUM7SUFDRGMsa0JBQWtCLEVBQUUsU0FBQUEsbUJBQVNiLFFBQVEsRUFBRW5FLFFBQVEsRUFBRTtNQUMvQyxJQUFJK0QsR0FBRyxHQUFHLEVBQUU7TUFDWixLQUFLLElBQUl6VSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2VSxRQUFRLENBQUM1VSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3hDLElBQUk4VSxVQUFVLEdBQUdELFFBQVEsQ0FBQzdVLENBQUMsQ0FBQztRQUM1QixLQUFLLElBQUlzTixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUd3SCxVQUFVLENBQUM3VSxNQUFNLEVBQUVxTixDQUFDLEVBQUUsRUFBRTtVQUMxQyxJQUFJeUgsVUFBVSxHQUFHRCxVQUFVLENBQUN4SCxDQUFDLENBQUM7VUFDOUIsS0FBSyxJQUFJMEgsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHdEUsUUFBUSxDQUFDelEsTUFBTSxFQUFFK1UsQ0FBQyxFQUFFLEVBQUU7WUFDeEMsSUFBSUMsU0FBUyxHQUFHdkUsUUFBUSxDQUFDc0UsQ0FBQyxDQUFDLENBQUNFLEtBQUs7WUFDakMsSUFBSUgsVUFBVSxJQUFJRSxTQUFTLEVBQUU7Y0FDM0IsSUFBSW5GLEdBQUcsR0FBR1ksUUFBUSxDQUFDc0UsQ0FBQyxDQUFDO1lBQ3ZCO1VBQ0Y7UUFDRjtRQUNBLElBQUlsRixHQUFHLEtBQUssSUFBSSxJQUFJQSxHQUFHLEtBQUtPLFNBQVMsRUFBRTtVQUNyQ29FLEdBQUcsQ0FBQzNOLElBQUksQ0FBQ2dKLEdBQUcsQ0FBQztVQUNiQSxHQUFHLEdBQUcsSUFBSTtRQUNaO01BQ0Y7TUFDQSxPQUFPMkUsR0FBRztJQUNaLENBQUM7SUFDRGtCLHVCQUF1QixFQUFFLFNBQUFBLHdCQUFTQyxRQUFRLEVBQUVqUyxVQUFVLEVBQUU7TUFDdEQsSUFBSWtTLEtBQUssR0FBR3ZLLEtBQUssQ0FBQ0MsT0FBTyxDQUFDcUssUUFBUSxDQUFDO01BQ25DLElBQUk1ZCxJQUFJLEdBQUc2ZCxLQUFLLEdBQUVELFFBQVEsR0FBRUEsUUFBUSxDQUFDNWQsSUFBSTtNQUN6QyxLQUFLLElBQUlnSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3BDLElBQUkyUyxFQUFFLEdBQUdsYixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO1FBQ3JDOFYsRUFBRSxDQUFDelosU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQzZWLEtBQUssRUFBRTtVQUNWbEQsRUFBRSxDQUFDL1EsWUFBWSxDQUFDLFVBQVUsRUFBRTVCLENBQUMsQ0FBQztRQUNoQyxDQUFDLE1BQU07VUFDTCxJQUFJQSxDQUFDLElBQUksQ0FBQyxFQUFFMlMsRUFBRSxDQUFDL1EsWUFBWSxDQUFDLFVBQVUsRUFBRTVCLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDOUM7UUFDQTJELFVBQVUsQ0FBQ3hHLFdBQVcsQ0FBQ3dWLEVBQUUsQ0FBQztNQUM1QjtJQUNGLENBQUM7SUFDRG1ELFlBQVksRUFBRSxTQUFBQSxhQUFTQyxZQUFZLEVBQUVDLFVBQVUsRUFBRTtNQUMvQyxJQUFJO1FBQ0YsSUFBSWpZLEtBQUssR0FBR2dZLFlBQVksR0FBRUEsWUFBWSxHQUFFdGUsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO1FBQzVFLElBQUl1ZSxJQUFJLEdBQUdELFVBQVUsR0FBRUEsVUFBVSxHQUFFLEdBQUc7UUFDdEMsSUFBSUUsR0FBRyxHQUFHblksS0FBSyxDQUFDZ0MsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUM7UUFDbkQsSUFBSSxDQUFDbVcsR0FBRyxFQUFFO1FBQ1YsSUFBSTdCLFFBQVEsR0FBRzZCLEdBQUcsQ0FBQ2pXLE1BQU07UUFDekIsS0FBSyxJQUFJRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdxVSxRQUFRLEVBQUVyVSxDQUFDLEVBQUUsRUFBRTtVQUNqQyxJQUFJbVcsTUFBTSxHQUFHcFksS0FBSyxDQUFDZ0MsZ0JBQWdCLENBQUMsZUFBZSxHQUFDQyxDQUFDLEdBQUMsSUFBSSxDQUFDO1VBQzNELElBQUlvVyxXQUFXLEdBQUcsRUFBRTtVQUNwQixLQUFLLElBQUk5SSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2SSxNQUFNLENBQUNsVyxNQUFNLEVBQUVxTixDQUFDLEVBQUUsRUFBRTtZQUN0QzhJLFdBQVcsR0FBRyxJQUFJO1lBQ2xCLElBQUlELE1BQU0sQ0FBQzdJLENBQUMsQ0FBQyxDQUFDcFUsU0FBUyxLQUFLK2MsSUFBSSxFQUFFO2NBQ2hDRyxXQUFXLEdBQUcsS0FBSztjQUNuQjtZQUNGO1VBQ0Y7VUFDQSxJQUFJQSxXQUFXLEVBQUU7WUFDZixLQUFLLElBQUlwQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdtQixNQUFNLENBQUNsVyxNQUFNLEVBQUUrVSxDQUFDLEVBQUUsRUFBRTtjQUN0Q21CLE1BQU0sQ0FBQ25CLENBQUMsQ0FBQyxDQUFDcFQsWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7WUFDdEM7WUFDQTdELEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxlQUFlLEdBQUNxSSxDQUFDLEdBQUMsSUFBSSxDQUFDLENBQUM0QixZQUFZLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztVQUN4RTtRQUNGO01BQ0YsQ0FBQyxDQUFDLE9BQU9uSCxLQUFLLEVBQUU7UUFDZEQsT0FBTyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQztRQUNwQjtNQUNGO0lBQ0YsQ0FBQztJQUNENGIsU0FBUyxFQUFFLFNBQUFBLFVBQVNOLFlBQVksRUFBRTtNQUNoQyxJQUFJO1FBQ0YsSUFBSWhZLEtBQUssR0FBR2dZLFlBQVksR0FBRUEsWUFBWSxHQUFFdGUsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO1FBQzVFLElBQUkrVixHQUFHLEdBQUcxUCxLQUFLLENBQUM0RixVQUFVO1FBQzFCLElBQUk3QixTQUFTLEdBQUdySyxRQUFRLENBQUNFLGFBQWEsQ0FBQyxjQUFjLENBQUM7UUFDdEQsSUFBSTJlLFFBQVEsR0FBRzlaLE1BQU0sQ0FBQzZXLGdCQUFnQixDQUFDdFYsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDdVYsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUNsSSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFGLElBQUltTCxRQUFRLEdBQUcvWixNQUFNLENBQUM2VyxnQkFBZ0IsQ0FBQzVGLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQzZGLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDbEksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFJbEosTUFBTSxDQUFDb1UsUUFBUSxDQUFDLEdBQUdwVSxNQUFNLENBQUNxVSxRQUFRLENBQUMsRUFBRTtVQUN2Q3pVLFNBQVMsQ0FBQ2lFLFNBQVMsQ0FBQ2tGLE1BQU0sQ0FBQyxhQUFhLENBQUM7VUFDekNuSixTQUFTLENBQUNpRSxTQUFTLENBQUNqRCxHQUFHLENBQUMsWUFBWSxDQUFDO1FBQ3ZDO01BQ0YsQ0FBQyxDQUFDLE9BQU1ySSxLQUFLLEVBQUU7UUFDYkQsT0FBTyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQztRQUNwQjtNQUNGO0lBQ0YsQ0FBQztJQUNEK2IsV0FBVyxFQUFFLFNBQUFBLFlBQVNDLEtBQUssRUFBRTtNQUMzQixJQUFJQyxHQUFHLEdBQUdqZixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO01BQ3pDNlosR0FBRyxDQUFDOVUsWUFBWSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUM7TUFDakMsSUFBSStVLEdBQUcsR0FBR2xmLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDekM2WixHQUFHLENBQUN2WixXQUFXLENBQUN3WixHQUFHLENBQUM7TUFDcEJBLEdBQUcsQ0FBQy9VLFlBQVksQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDO01BQ3BDK1UsR0FBRyxDQUFDL1UsWUFBWSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7TUFDeEMsSUFBSTZVLEtBQUssRUFBRTtRQUNURSxHQUFHLENBQUMvVSxZQUFZLENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQztRQUNuQytVLEdBQUcsQ0FBQy9VLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO01BQ2xDLENBQUMsTUFBTTtRQUNMK1UsR0FBRyxDQUFDL1UsWUFBWSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUM7TUFDdkM7TUFDQStVLEdBQUcsQ0FBQ3BkLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO1FBQ3ZDLElBQUlpSCxHQUFHLEdBQUcvSSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUM7UUFDN0MsSUFBSSxDQUFDOEksR0FBRyxFQUFFO1VBQ1IsTUFBTSxJQUFJL0MsS0FBSyxDQUFDLFFBQVEsQ0FBQztRQUMzQjtRQUNBLElBQUksSUFBSSxDQUFDb0osT0FBTyxFQUFFO1VBQ2hCckcsR0FBRyxDQUFDcUgsZUFBZSxDQUFDLFVBQVUsQ0FBQztRQUNqQyxDQUFDLE1BQU07VUFDTHJILEdBQUcsQ0FBQ29CLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO1FBQ2xDO01BQ0YsQ0FBQyxDQUFDO01BQ0YsT0FBTzhVLEdBQUc7SUFDWixDQUFDO0lBQ0RFLGNBQWMsRUFBRSxTQUFBQSxlQUFTQyxNQUFNLEVBQUVDLFdBQVcsRUFBRTtNQUM1Q0QsTUFBTSxDQUFDdGQsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVc7UUFDMUMsSUFBSXNkLE1BQU0sQ0FBQ2hRLE9BQU8sRUFBRTtVQUNsQixLQUFLLElBQUk3RyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc4VyxXQUFXLENBQUM3VyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1lBQzNDLElBQUksQ0FBQzhXLFdBQVcsQ0FBQzlXLENBQUMsQ0FBQyxDQUFDNkcsT0FBTyxFQUFFO2NBQzNCaVEsV0FBVyxDQUFDOVcsQ0FBQyxDQUFDLENBQUN0RSxLQUFLLEVBQUU7WUFDeEI7VUFDRjtRQUNGLENBQUMsTUFBTTtVQUNMLEtBQUssSUFBSXNFLEdBQUMsR0FBRyxDQUFDLEVBQUVBLEdBQUMsR0FBRzhXLFdBQVcsQ0FBQzdXLE1BQU0sRUFBRUQsR0FBQyxFQUFFLEVBQUU7WUFDM0MsSUFBSThXLFdBQVcsQ0FBQzlXLEdBQUMsQ0FBQyxDQUFDNkcsT0FBTyxFQUFFO2NBQzFCaVEsV0FBVyxDQUFDOVcsR0FBQyxDQUFDLENBQUN0RSxLQUFLLEVBQUU7WUFDeEI7VUFDRjtRQUNGO01BQ0YsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUNEcWIsZ0JBQWdCLEVBQUUsU0FBQUEsaUJBQVNKLEdBQUcsRUFBRXhGLElBQUksRUFBRTtNQUNwQyxLQUFNLElBQUluUixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcyVyxHQUFHLENBQUMxVyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3BDLElBQUkyVyxHQUFHLENBQUMzVyxDQUFDLENBQUMsQ0FBQzZHLE9BQU8sRUFBRTtVQUNsQixJQUFJN08sSUFBSSxHQUFHMmUsR0FBRyxDQUFDM1csQ0FBQyxDQUFDLENBQUMwQyxZQUFZLENBQUMsY0FBYyxDQUFDO1VBQzlDeU8sSUFBSSxDQUFDckssSUFBSSxDQUFDOU8sSUFBSSxDQUFDO1FBQ2pCLENBQUMsTUFBTTtVQUNMO1FBQ0Y7TUFDRjtJQUNGLENBQUM7SUFDRHlELFNBQVMsRUFBRSxTQUFBQSxVQUFBLEVBQVc7TUFDcEIsSUFBSWtFLEdBQUcsR0FBR2xJLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQztNQUM5QyxJQUFJLENBQUNpSSxHQUFHLEVBQUU7TUFDVkEsR0FBRyxDQUFDaUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUNEb1YsU0FBUyxFQUFFLFNBQUFBLFVBQUEsRUFBVztNQUNwQixJQUFJclgsR0FBRyxHQUFHbEksUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO01BQzlDLElBQUksQ0FBQ2lJLEdBQUcsRUFBRTtNQUNWQSxHQUFHLENBQUNrSSxlQUFlLENBQUMsUUFBUSxDQUFDO0lBQy9CO0VBQ0YsQ0FBQztFQUNEb1Asd0JBQXdCLEVBQUUsU0FBQUEseUJBQUEsRUFBVztJQUNuQyxJQUFJQyxLQUFLLEdBQUd6ZixRQUFRLENBQUNFLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDQyxLQUFLO0lBQzVELElBQUksQ0FBQ3NmLEtBQUssRUFBRTtNQUNWLE1BQU0sSUFBSXpaLEtBQUssQ0FBQyxVQUFVLENBQUM7SUFDN0I7SUFDQSxJQUFJeVosS0FBSyxJQUFJLEdBQUcsSUFBSUEsS0FBSyxJQUFJLEdBQUcsRUFBRTtNQUNoQztNQUNBLE9BQU8sUUFBUTtJQUNqQixDQUFDLE1BQU0sSUFBSUEsS0FBSyxJQUFLLEdBQUcsRUFBRTtNQUN4QjtNQUNBLE9BQU8sY0FBYztJQUN2QixDQUFDLE1BQU0sSUFBSUEsS0FBSyxJQUFJLEdBQUcsRUFBRTtNQUN2QjtNQUNBLE9BQU8sU0FBUztJQUNsQjtFQUNGLENBQUM7RUFDREMsbUJBQW1CLEVBQUUsU0FBQUEsb0JBQVNyTyxNQUFNLEVBQUVzTyxJQUFJLEVBQUV4ZixLQUFLLEVBQUU7SUFDakQsSUFBSXlmLE9BQU8sR0FBRzVmLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDOUN3YSxPQUFPLENBQUN6VixZQUFZLENBQUMsT0FBTyxFQUFFaEssS0FBSyxDQUFDO0lBQ3BDeWYsT0FBTyxDQUFDbmUsU0FBUyxHQUFHa2UsSUFBSTtJQUN4QnRPLE1BQU0sQ0FBQzNMLFdBQVcsQ0FBQ2thLE9BQU8sQ0FBQztFQUM3QixDQUFDO0VBQ0RDLGNBQWMsRUFBRSxTQUFBQSxlQUFTeE8sTUFBTSxFQUFFOVEsSUFBSSxFQUFFO0lBQ3JDLEtBQUssSUFBSWdJLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2hJLElBQUksQ0FBQ2lJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDcEMsSUFBSXVYLE1BQU0sR0FBRzlmLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7TUFDN0MwYSxNQUFNLENBQUNyZSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BJLEtBQUs7TUFDaEMyZixNQUFNLENBQUMzZixLQUFLLEdBQUdJLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRztNQUMxQmtMLE1BQU0sQ0FBQzNMLFdBQVcsQ0FBQ29hLE1BQU0sQ0FBQztJQUM1QjtFQUNGLENBQUM7RUFDREMsV0FBVyxFQUFFLFNBQUFBLFlBQVUxZixHQUFHLEVBQUU7SUFDMUIsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7SUFDbkIsSUFBSUEsSUFBSSxJQUFJLElBQUksSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxJQUFJLENBQUMsRUFBRTtNQUNwQyxNQUFNLElBQUl4QyxLQUFLLENBQUMsU0FBUyxDQUFDO0lBQzVCO0lBQ0EsSUFBSXFMLE1BQU0sR0FBR3JSLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHVCQUF1QixDQUFDO0lBQzVELElBQUksQ0FBQ3dmLG1CQUFtQixDQUFDck8sTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7SUFDNUMsSUFBSTtNQUNGLElBQUksQ0FBQ3dPLGNBQWMsQ0FBQ3hPLE1BQU0sRUFBRTlRLElBQUksQ0FBQztJQUNuQyxDQUFDLENBQUMsT0FBTWlILENBQUMsRUFBRTtNQUNULE1BQU0sSUFBSXhCLEtBQUssQ0FBQ3dCLENBQUMsQ0FBQztJQUNwQjtFQUNGLENBQUM7RUFDRHdZLGNBQWMsRUFBRSxTQUFBQSxlQUFVM2YsR0FBRyxFQUFFO0lBQzdCLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO0lBQ25CLElBQUlBLElBQUksSUFBSSxJQUFJLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sSUFBSSxDQUFDLEVBQUU7TUFDcEMsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLFNBQVMsQ0FBQztJQUM1QjtJQUNBLElBQUlxTCxNQUFNLEdBQUdyUixRQUFRLENBQUNFLGFBQWEsQ0FBQywwQkFBMEIsQ0FBQztJQUMvRCxJQUFJLENBQUN3ZixtQkFBbUIsQ0FBQ3JPLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQzVDLElBQUk7TUFDRixJQUFJLENBQUN3TyxjQUFjLENBQUN4TyxNQUFNLEVBQUU5USxJQUFJLENBQUM7SUFDbkMsQ0FBQyxDQUFDLE9BQU1pSCxDQUFDLEVBQUU7TUFDVCxNQUFNLElBQUl4QixLQUFLLENBQUN3QixDQUFDLENBQUM7SUFDcEI7RUFDRixDQUFDO0VBQ0R5WSxZQUFZLEVBQUUsU0FBQUEsYUFBQSxFQUFXO0lBQUc7SUFDMUIsSUFBSTtNQUNGLE9BQU87UUFDTEMsY0FBYyxFQUFFbGdCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDRCQUE0QixDQUFDLENBQUNDLEtBQUs7UUFDMUVnZ0IsWUFBWSxFQUFFbmdCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUNDO01BQ25FLENBQUM7SUFDSCxDQUFDLENBQUMsT0FBTzZDLEtBQUssRUFBRTtNQUNkLElBQUlELE9BQU8sRUFBRUEsT0FBTyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQztNQUNqQyxPQUFPO1FBQ0xrZCxjQUFjLEVBQUUsRUFBRTtRQUNsQkMsWUFBWSxFQUFFO01BQ2hCLENBQUM7SUFDSDtFQUNGLENBQUM7RUFDREMsV0FBVyxFQUFFLFNBQUFBLFlBQVNDLEtBQUssRUFBRTVjLFFBQVEsRUFBRTtJQUNyQyxJQUFJO01BQ0YsSUFBSSxDQUFDLElBQUksQ0FBQ2lSLEtBQUssQ0FBQzJMLEtBQUssQ0FBQyxJQUFJQSxLQUFLLENBQUM3WCxNQUFNLEVBQUU7UUFDdEMsS0FBSyxJQUFJRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc4WCxLQUFLLENBQUM3WCxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1VBQ3JDOFgsS0FBSyxDQUFDOVgsQ0FBQyxDQUFDLENBQUN6RyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUVZLFFBQVEsQ0FBQztRQUM5QztNQUNGLENBQUMsTUFBTTtRQUNMMmQsS0FBSyxDQUFDdmUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFWSxRQUFRLENBQUM7TUFDM0M7SUFDRixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ2Q7SUFDRjtJQUNBLFNBQVNOLFFBQVFBLENBQUNYLEtBQUssRUFBRTtNQUN2QkEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7TUFDdEIsSUFBSXRCLEdBQUcsR0FBRyxJQUFJLENBQUN1SyxZQUFZLENBQUMsTUFBTSxDQUFDO01BQ25DNUksT0FBTyxDQUFDNEUsWUFBWSxDQUFDdkcsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO0lBQ3JDO0VBQ0Y7QUFDRixDQUFDO0FBRUQsaUVBQWVwQixPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeHdCZixTQUFTbUgsV0FBV0EsQ0FBQSxFQUFHO0VBQzFCLElBQUk4VyxNQUFNLEdBQUd0Z0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsYUFBYSxDQUFDO0VBQ2xELElBQUlxZ0IsTUFBTSxHQUFHdmdCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGFBQWEsQ0FBQztFQUNsRCxJQUFJc2dCLE9BQU8sR0FBR3hnQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxlQUFlLENBQUM7RUFDckQsSUFBSXVnQixPQUFPLEdBQUd6Z0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsYUFBYSxDQUFDO0VBRW5ELElBQUlzZ0IsT0FBTyxJQUFJQyxPQUFPLElBQUlILE1BQU0sSUFBSUMsTUFBTSxFQUFFO0lBQ3hDRCxNQUFNLENBQUN4ZSxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBUzBGLENBQUMsRUFBRTtNQUN6Q0EsQ0FBQyxDQUFDeEYsY0FBYyxFQUFFO01BQ2xCMGUsaUJBQWlCLENBQUMsY0FBYyxFQUFFLFlBQVksRUFBRSxVQUFVLENBQUM7SUFDL0QsQ0FBQyxDQUFDO0lBQ0ZILE1BQU0sQ0FBQ3plLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTMEYsQ0FBQyxFQUFFO01BQ3pDQSxDQUFDLENBQUN4RixjQUFjLEVBQUU7TUFDbEIwZSxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDO0lBQ25ELENBQUMsQ0FBQztFQUNOO0VBRUEsU0FBU0EsaUJBQWlCQSxDQUFDQyxRQUFRLEVBQUVDLE1BQU0sRUFBRXhXLElBQUksRUFBRTtJQUMvQyxJQUFJNk4sR0FBRyxHQUFHalksUUFBUSxDQUFDQyxjQUFjLENBQUMwZ0IsUUFBUSxDQUFDO0lBQzNDLElBQUlFLElBQUksR0FBRzdnQixRQUFRLENBQUNDLGNBQWMsQ0FBQzJnQixNQUFNLENBQUM7SUFDMUMsS0FBSSxJQUFJRSxLQUFLLEdBQUMsQ0FBQyxFQUFFQSxLQUFLLEdBQUc3SSxHQUFHLENBQUNsTixPQUFPLENBQUN2QyxNQUFNLEVBQUVzWSxLQUFLLEVBQUUsRUFBRTtNQUNsRCxJQUFHN0ksR0FBRyxDQUFDbE4sT0FBTyxDQUFDK1YsS0FBSyxDQUFDLENBQUNDLFFBQVEsSUFBSSxJQUFJLEVBQUU7UUFDaEMsSUFBSWpCLE1BQU0sR0FBRzdILEdBQUcsQ0FBQ2xOLE9BQU8sQ0FBQytWLEtBQUssQ0FBQztRQUMvQixJQUFJRSxLQUFLLEdBQUdsQixNQUFNLENBQUNtQixVQUFVO1FBQzdCLElBQUlDLFNBQVMsR0FBR2xoQixRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO1FBQ2hELEtBQUssSUFBSW1ELENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3lZLEtBQUssQ0FBQ3hZLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7VUFDbkMyWSxTQUFTLENBQUMvVyxZQUFZLENBQUM2VyxLQUFLLENBQUN6WSxDQUFDLENBQUMsQ0FBQ3pILElBQUksRUFBRWtnQixLQUFLLENBQUN6WSxDQUFDLENBQUMsQ0FBQ3BJLEtBQUssQ0FBQztRQUN6RDtRQUNBK2dCLFNBQVMsQ0FBQy9nQixLQUFLLEdBQUcyZixNQUFNLENBQUMzZixLQUFLO1FBQzlCK2dCLFNBQVMsQ0FBQ3ZCLElBQUksR0FBR0csTUFBTSxDQUFDSCxJQUFJO1FBQzVCdUIsU0FBUyxDQUFDSCxRQUFRLEdBQUcsSUFBSTtRQUN6QjtRQUNBLElBQUkvZ0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsbUJBQW1CLENBQUMsSUFDeENGLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLHlCQUF5QixDQUFDLEVBQUU7VUFDdkQsSUFBSWtoQixHQUFHLEdBQUdELFNBQVMsQ0FBQ2pXLFlBQVksQ0FBQyxjQUFjLENBQUM7VUFDaEQsSUFBSW1XLFdBQVcsR0FBR1AsSUFBSSxDQUFDdlksZ0JBQWdCLENBQUMsUUFBUSxDQUFDO1VBQ2pELElBQUk4WSxXQUFXLENBQUM1WSxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3hCLEtBQUssSUFBSXFOLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3VMLFdBQVcsQ0FBQzVZLE1BQU0sRUFBRXFOLENBQUMsRUFBRSxFQUFFO2NBQ3pDLElBQUl3TCxHQUFHLEdBQUdELFdBQVcsQ0FBQ3ZMLENBQUMsQ0FBQyxDQUFDNUssWUFBWSxDQUFDLGNBQWMsQ0FBQztjQUNyRCxJQUFJYixJQUFJLEVBQUU7Z0JBQ04sSUFBSytXLEdBQUcsS0FBS0UsR0FBRyxFQUFHO2tCQUNmcGYsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsZ0JBQWdCLENBQUM7a0JBQ25DO2dCQUNKO2NBQ0o7WUFFSjtVQUNKO1FBQ0o7UUFDQSxJQUFJO1VBQ0MwWixJQUFJLENBQUN4VixHQUFHLENBQUM2VixTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztVQUMzQmpKLEdBQUcsQ0FBQ3pFLE1BQU0sQ0FBQ3NOLEtBQUssRUFBRSxJQUFJLENBQUM7UUFDM0IsQ0FBQyxRQUFNOWQsS0FBSyxFQUFFO1VBQ1Y2ZCxJQUFJLENBQUN4VixHQUFHLENBQUM2VixTQUFTLENBQUMsQ0FBQyxDQUFDO1VBQ3JCakosR0FBRyxDQUFDekUsTUFBTSxDQUFDc04sS0FBSyxDQUFDO1FBQ3JCO1FBQ0RBLEtBQUssRUFBRTtNQUNmO0lBQ0o7RUFDSjtBQUNKO0FBRU8sU0FBU3hlLE9BQU9BLENBQUEsRUFBRyxDQUFDO0FBRTNCQSxPQUFPLENBQUMxQixTQUFTLENBQUN5SSxvQkFBb0IsR0FBRyxVQUFTaVksUUFBUSxFQUFFalgsU0FBUyxFQUFFO0VBQ25FLElBQUk7SUFDQSxJQUFJOUosSUFBSSxHQUFHK2dCLFFBQVEsQ0FBQy9nQixJQUFJO0lBQ3hCLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDakJ2RyxLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQyxTQUFTLENBQUM7TUFDNUI7SUFDSjtJQUNBa0QsU0FBUyxDQUFDL0osU0FBUyxHQUFHLEVBQUU7SUFDeEIsS0FBSyxJQUFJaUksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUNsQyxJQUFJc0MsRUFBRSxHQUFHN0ssUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztNQUN6QyxLQUFNLElBQUllLEdBQUcsSUFBSTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxFQUFFO1FBQ3hCLElBQUlwQyxHQUFHLElBQUksU0FBUyxFQUFFO1VBQ3BCMEUsRUFBRSxDQUFDcEosU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7VUFDM0IwRSxFQUFFLENBQUNWLFlBQVksQ0FBQyxPQUFPLEdBQUdoRSxHQUFHLEVBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDO1FBQzlDO1FBQ0EwRSxFQUFFLENBQUNWLFlBQVksQ0FBQyxPQUFPLEdBQUdoRSxHQUFHLEVBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDO01BQzlDO01BQ0FrRSxTQUFTLENBQUMzRSxXQUFXLENBQUNtRixFQUFFLENBQUM7SUFDN0I7RUFDSixDQUFDLENBQUMsT0FBT3JFLEdBQUcsRUFBRTtJQUNWVyxLQUFLLENBQUNYLEdBQUcsQ0FBQztJQUNWekQsT0FBTyxDQUFDQyxLQUFLLENBQUN3RCxHQUFHLENBQUM7RUFDdEI7QUFDSixDQUFDO0FBQ0RsRSxPQUFPLENBQUMxQixTQUFTLENBQUNrSCx1QkFBdUIsR0FBRyxVQUFTd1osUUFBUSxFQUFFQyxTQUFTLEVBQUV2Z0IsVUFBVSxFQUFFO0VBQ2xGLElBQUl3Z0IsT0FBTyxHQUFHRCxTQUFTLENBQUNyaEIsYUFBYSxDQUFDLGVBQWUsQ0FBQztFQUN0RCxJQUFJdWhCLE9BQU8sR0FBR0YsU0FBUyxDQUFDcmhCLGFBQWEsQ0FBQyxhQUFhLENBQUM7RUFDcERzaEIsT0FBTyxDQUFDbGhCLFNBQVMsR0FBRyxFQUFFO0VBQ3RCbWhCLE9BQU8sQ0FBQ25oQixTQUFTLEdBQUcsRUFBRTtFQUN0Qm1oQixPQUFPLENBQUN0WCxZQUFZLENBQUMsaUJBQWlCLEVBQUVuSixVQUFVLENBQUM7RUFDbkQsSUFBSVQsSUFBSSxHQUFHK2dCLFFBQVEsQ0FBQy9nQixJQUFJO0VBQ3hCLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFBRTtFQUFRO0VBQy9CLElBQUlrWixTQUFTLEdBQUcsRUFBRTtFQUNsQixLQUFLLElBQUluWixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ2xDLElBQUlzQyxFQUFFLEdBQUc3SyxRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO0lBQ3pDLEtBQU0sSUFBSWUsR0FBRyxJQUFJNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLEVBQUU7TUFDdEIsSUFBSXBDLEdBQUcsSUFBSSxvQkFBb0IsRUFBRTtRQUM3QjBFLEVBQUUsQ0FBQ3BKLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQy9CLENBQUMsTUFBTTtRQUNIMEUsRUFBRSxDQUFDVixZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztNQUNoRDtJQUNKO0lBQ0F1YixTQUFTLENBQUNyUyxJQUFJLENBQUN4RSxFQUFFLENBQUM7SUFDbEIyVyxPQUFPLENBQUM5YixXQUFXLENBQUNtRixFQUFFLENBQUM7RUFDM0I7RUFDQSxPQUFPNlcsU0FBUztBQUNwQixDQUFDO0FBQ0RwZixPQUFPLENBQUMxQixTQUFTLENBQUMrZ0IscUJBQXFCLEdBQUcsWUFBVztFQUNqRDtFQUNBLElBQUlGLE9BQU8sR0FBR3poQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxhQUFhLENBQUM7RUFDbkQsSUFBSWMsVUFBVSxHQUFHeWdCLE9BQU8sQ0FBQ3hXLFlBQVksQ0FBQyxpQkFBaUIsQ0FBQztFQUN4RCxJQUFJeEgsUUFBUSxHQUFHO0lBQUV6QyxVQUFVLEVBQUVBO0VBQVcsQ0FBQztFQUN6QyxJQUFJNGdCLGlCQUFpQixHQUFHLEVBQUU7RUFDMUIsSUFBSXRRLEdBQUcsR0FBR21RLE9BQU8sQ0FBQ25aLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztFQUM1QyxJQUFJZ0osR0FBRyxDQUFDOUksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUFFLE9BQU8sSUFBSTtFQUFDO0VBQ2xDLEtBQU0sSUFBSUQsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHK0ksR0FBRyxDQUFDOUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUNsQyxJQUFJVSxnQkFBZ0IsR0FBR3FJLEdBQUcsQ0FBQy9JLENBQUMsQ0FBQyxDQUFDMEMsWUFBWSxDQUFDLHVCQUF1QixDQUFDO0lBQ25FMlcsaUJBQWlCLENBQUN2UyxJQUFJLENBQUNwRyxnQkFBZ0IsQ0FBQztFQUM1QztFQUNBeEYsUUFBUSxDQUFDbWUsaUJBQWlCLEdBQUdBLGlCQUFpQjtFQUM5QyxPQUFPbmUsUUFBUTtBQUNuQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3SDZCO0FBQ1M7QUFFaEMsU0FBU29lLGNBQWNBLENBQUEsRUFBRztFQUMvQixJQUFJO0lBQ0Z2WCxRQUFRLEVBQUU7RUFDWixDQUFDLENBQUMsT0FBTXRILEtBQUssRUFBRTtJQUNiWCw0REFBb0IsQ0FBQ1csS0FBSyxDQUFDO0lBQzNCK0IsTUFBTSxDQUFDcUMsUUFBUSxDQUFDL0IsSUFBSSxHQUFHLHlCQUF5QjtFQUNsRDtFQUNBLFNBQVNpRixRQUFRQSxDQUFBLEVBQUc7SUFDbEJ3WCxtQkFBbUIsRUFBRTtJQUNyQixJQUFJQyxPQUFPLEdBQUcvaEIsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztJQUNqRSxJQUFJNmhCLFFBQVEsR0FBR2hpQixRQUFRLENBQUNFLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQztJQUM5RCxJQUFJK2hCLGFBQWEsR0FBR2ppQixRQUFRLENBQUNFLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQztJQUNuRSxJQUFJZ0IsSUFBSSxHQUFHbEIsUUFBUSxDQUFDQyxjQUFjLENBQUMsWUFBWSxDQUFDO0lBQ2hELElBQUlpaUIsVUFBVSxHQUFHbGlCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLG9CQUFvQixDQUFDO0lBQzdELElBQUk2aEIsT0FBTyxLQUFLLFFBQVEsRUFBRTtNQUN4QkUsYUFBYSxDQUFDOWhCLEtBQUssR0FBRyxRQUFRO01BQzlCNmhCLFFBQVEsQ0FBQzdoQixLQUFLLEdBQUcsUUFBUTtNQUN6QmUsSUFBSSxDQUFDMEssTUFBTSxFQUFFO0lBQ2YsQ0FBQyxNQUFNO01BQ0wsSUFBSWxMLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0MsS0FBSztNQUM5RCtoQixVQUFVLENBQUNwZ0IsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUNwREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEJtZ0IsY0FBYyxFQUFFO01BQ2xCLENBQUMsQ0FBQztNQUNGQSxjQUFjLEVBQUU7SUFDbEI7SUFDQSxTQUFTQSxjQUFjQSxDQUFBLEVBQUc7TUFDeEIsSUFBSTVoQixJQUFJLEdBQUc7UUFBRSxRQUFRLEVBQUUyaEIsVUFBVSxDQUFDL2hCO01BQU8sQ0FBQztNQUMxQyxJQUFJOGhCLGFBQWEsR0FBR2ppQixRQUFRLENBQUNFLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQztNQUNuRStoQixhQUFhLENBQUM5aEIsS0FBSyxHQUFHLEVBQUU7TUFDeEJaLHVEQUFTLENBQUNtQixHQUFHLEVBQUVILElBQUksRUFBRSxJQUFJNmhCLFVBQVUsRUFBRSxDQUFDQyxPQUFPLEVBQUU7UUFDN0NqYyxNQUFNLEVBQUUsS0FBSztRQUNicEQsS0FBSyxFQUFFLFNBQUFBLE1BQVM2QixHQUFHLEVBQUV5ZCxVQUFVLGNBQWE7VUFDMUMsSUFBSXZmLE9BQU8sRUFBRUEsT0FBTyxDQUFDQyxLQUFLLENBQUNzZixVQUFVLENBQUM7VUFDdENyZ0IsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsUUFBUSxHQUFHbWIsVUFBVSxDQUFDLENBQUNsZ0IsSUFBSSxDQUFDbWdCLHFCQUFxQixDQUFDO1FBQ3RFO01BQ0YsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtBQUNGO0FBQ08sU0FBU0MscUJBQXFCQSxDQUFBLEVBQUc7RUFDdEMsSUFBSTtJQUNGbFksUUFBUSxFQUFFO0VBQ1osQ0FBQyxDQUFDLE9BQU10SCxLQUFLLEVBQUU7SUFDYlgsNERBQW9CLENBQUNXLEtBQUssQ0FBQztJQUMzQjtFQUNGO0VBQ0EsU0FBU3NILFFBQVFBLENBQUEsRUFBRztJQUNsQixJQUFJbVksT0FBTyxHQUFHemlCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFNBQVMsQ0FBQztJQUNoRHdpQixPQUFPLENBQUMzZ0IsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFlBQVc7TUFDM0MsSUFBSWlILEdBQUcsR0FBRyxJQUFJO01BQ2Q5RyxLQUFLLENBQUNDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDQyxJQUFJLENBQUMsWUFBVTtRQUM1QyxJQUFJO1VBQ0ZzZ0IsSUFBSSxDQUFDM1osR0FBRyxDQUFDO1FBQ1gsQ0FBQyxDQUFDLE9BQU0vRixLQUFLLEVBQUU7VUFDYlgsNERBQW9CLENBQUNXLEtBQUssQ0FBQztVQUMzQjtRQUNGO01BQ0YsQ0FBQyxDQUFDO01BQ0YsU0FBUzBmLElBQUlBLENBQUMzWixHQUFHLEVBQUU7UUFDakIrWSxtQkFBbUIsRUFBRTtRQUNyQixJQUFJcGhCLEdBQUcsR0FBR3FJLEdBQUcsQ0FBQ2tDLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDdEMsSUFBSTBYLFFBQVEsR0FBRzNpQixRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQ0UsS0FBSztRQUN4RCxJQUFJSSxJQUFJLEdBQUc7VUFDVG9pQixRQUFRLEVBQUVBO1FBQ1osQ0FBQztRQUNEcGpCLHVEQUFTLENBQUNtQixHQUFHLEVBQUVILElBQUksRUFBRSxVQUFTRixHQUFHLEVBQUU7VUFDakMsSUFBSTtZQUNGLElBQUl1aUIsUUFBUSxHQUFHdmlCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDcWlCLFFBQVE7WUFDaEM3ZCxNQUFNLENBQUNxQyxRQUFRLENBQUMvQixJQUFJLEdBQUd1ZCxRQUFRO1VBQ2pDLENBQUMsQ0FBQyxPQUFNNWYsS0FBSyxFQUFFO1lBQ2JYLDREQUFvQixDQUFDVyxLQUFLLENBQUM7WUFDM0I7VUFDRjtRQUNGLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7QUFDRjtBQUNPLFNBQVM4ZSxtQkFBbUJBLENBQUEsRUFBRztFQUNwQyxJQUFJOUwsR0FBRyxHQUFHaFcsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztFQUN2QzRRLEdBQUcsQ0FBQzdMLFlBQVksQ0FBQyxPQUFPLEVBQUUsMkdBQTJHLENBQUM7RUFDdEksSUFBSTVCLENBQUMsR0FBR3ZJLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7RUFDbkNtRCxDQUFDLENBQUM0QixZQUFZLENBQUMsT0FBTyxFQUFFLDBDQUEwQyxDQUFDO0VBQ25FNkwsR0FBRyxDQUFDdFEsV0FBVyxDQUFDNkMsQ0FBQyxDQUFDO0VBQ2xCLElBQUl4SSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7RUFDekNyRixJQUFJLENBQUNvSyxZQUFZLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQztFQUNyQ3BLLElBQUksQ0FBQzBCLFNBQVMsR0FBRyxZQUFZO0VBQzdCdVUsR0FBRyxDQUFDdFEsV0FBVyxDQUFDM0YsSUFBSSxDQUFDO0VBQ3JCLElBQUk4aUIsS0FBSyxHQUFHN2lCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7RUFDMUN5ZCxLQUFLLENBQUNwaEIsU0FBUyxHQUFHLE1BQU07RUFDeEJ1VSxHQUFHLENBQUN0USxXQUFXLENBQUNtZCxLQUFLLENBQUM7RUFDdEI3aUIsUUFBUSxDQUFDeUYsSUFBSSxDQUFDQyxXQUFXLENBQUNzUSxHQUFHLENBQUM7RUFDOUIsT0FBT0EsR0FBRztBQUNaO0FBQ08sU0FBU3VNLHFCQUFxQkEsQ0FBQSxFQUFHO0VBQ3RDLElBQUk7SUFDRixJQUFJUixPQUFPLEdBQUcvaEIsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztJQUNqRTRFLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRzBjLE9BQU8sS0FBSyxRQUFRLEdBQ3pDL2hCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlCQUF5QixDQUFDLENBQUNDLEtBQUssR0FDdkRILFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlCQUF5QixDQUFDLENBQUNDLEtBQUs7RUFDM0QsQ0FBQyxDQUFDLE9BQU82QyxLQUFLLEVBQUU7SUFDZCtCLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRyx5QkFBeUI7RUFDbEQ7QUFDRjtBQUVPLFNBQVMrYyxVQUFVQSxDQUFBLEVBQUcsQ0FBQztBQUM5QkEsVUFBVSxDQUFDeGhCLFNBQVMsQ0FBQ3loQixPQUFPLEdBQUcsVUFBU2hpQixHQUFHLEVBQUU7RUFDM0MsSUFBSTtJQUNGLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO0lBQ25CLElBQUl1aUIsU0FBUyxHQUFHdmlCLElBQUksQ0FBQ3VpQixTQUFTO0lBQzlCLElBQUkxWSxJQUFJLEdBQUc3SixJQUFJLENBQUM2SixJQUFJO0lBQ3BCLElBQUk2WCxhQUFhLEdBQUdqaUIsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUM7SUFDbkUsSUFBSThoQixRQUFRLEdBQUdoaUIsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUJBQXVCLENBQUM7SUFDOUQsSUFBSWdCLElBQUksR0FBR2xCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQztJQUNoRGdpQixhQUFhLENBQUM5aEIsS0FBSyxHQUFHMmlCLFNBQVM7SUFDL0JkLFFBQVEsQ0FBQzdoQixLQUFLLEdBQUdpSyxJQUFJO0lBQ3JCLElBQUksQ0FBQyxDQUFDNlgsYUFBYSxDQUFDOWhCLEtBQUssSUFBSSxDQUFDLENBQUM2aEIsUUFBUSxDQUFDN2hCLEtBQUssRUFBRTtNQUM3Q2UsSUFBSSxDQUFDMEssTUFBTSxFQUFFO0lBQ2YsQ0FBQyxNQUFNO01BQ0wzSixLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQyxrQkFBa0IsR0FBRzJiLFNBQVMsR0FBRyxTQUFTLEdBQUcxWSxJQUFJLENBQUMsQ0FBQ2hJLElBQUksQ0FBQ21nQixxQkFBcUIsQ0FBQztJQUNsRztFQUNGLENBQUMsQ0FBQyxPQUFNdmYsS0FBSyxFQUFFO0lBQ2JmLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLFFBQVEsR0FBR25FLEtBQUssQ0FBQyxDQUFDWixJQUFJLENBQUNtZ0IscUJBQXFCLENBQUM7RUFDakU7QUFFRixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pJRCxTQUFTUSxPQUFPQSxDQUFFdmhCLEdBQUcsRUFBRTBWLElBQUksRUFBRTtFQUFFO0VBQzdCLElBQUksQ0FBQzFWLEdBQUcsR0FBR0EsR0FBRztFQUNkLElBQUksQ0FBQ0UsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFFO0VBQ3BCLElBQUksQ0FBQ3NoQixLQUFLLEdBQUcsRUFBRTtFQUNmLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUU7RUFDakIsSUFBSy9MLElBQUksRUFBRztJQUNWLElBQUksQ0FBQ3hWLEtBQUssR0FBR3dWLElBQUksQ0FBQ3hWLEtBQUs7SUFDdkIsSUFBSSxDQUFDc2hCLEtBQUssR0FBRzlMLElBQUksQ0FBQ3ZWLEtBQUs7RUFDekI7QUFDRjtBQUNBb2hCLE9BQU8sQ0FBQ25pQixTQUFTLENBQUNzaUIsTUFBTSxHQUFHLFlBQVc7RUFDcEMsSUFBSUMsT0FBTyxHQUFHLEVBQUU7SUFDWkMsT0FBTyxHQUFHLEVBQUU7SUFDWjVoQixHQUFHLEdBQUcsSUFBSSxDQUFDQSxHQUFHO0lBQ2RFLEtBQUssR0FBRyxJQUFJLENBQUNBLEtBQUs7SUFDbEJzaEIsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSyxHQUFHLEtBQUs7SUFDdkNLLElBQUksR0FBR3JqQixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3BDa2UsSUFBSSxHQUFHdGpCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDbkM0UCxJQUFJLEdBQUdoVixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ2xDbWUsSUFBSSxHQUFHdmpCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7RUFDdEMsSUFBSyxPQUFPNUQsR0FBRyxJQUFJLFFBQVEsRUFBRztJQUM1QjRoQixPQUFPLEdBQUc1aEIsR0FBRztJQUNiLElBQUlFLEtBQUssSUFBSSxTQUFTLEVBQUU7TUFDdEJ5aEIsT0FBTyxHQUFHLElBQUk7SUFDaEI7SUFDQSxJQUFJemhCLEtBQUssSUFBSSxTQUFTLEVBQUU7TUFDdEJ5aEIsT0FBTyxHQUFHLElBQUk7SUFDaEI7SUFDQSxJQUFJemhCLEtBQUssSUFBSSxTQUFTLEVBQUU7TUFDdEJ5aEIsT0FBTyxHQUFHLElBQUk7SUFDaEI7SUFDQSxJQUFJemhCLEtBQUssSUFBSSxRQUFRLEVBQUU7TUFDckJ5aEIsT0FBTyxHQUFHLElBQUk7SUFDaEI7RUFDRjtFQUNBLElBQUtwZCxPQUFBLENBQU92RSxHQUFHLEtBQUksUUFBUSxFQUFFO0lBQzNCNGhCLE9BQU8sR0FBRzVoQixHQUFHLENBQUNtZSxJQUFJO0lBQ2xCd0QsT0FBTyxHQUFHM2hCLEdBQUcsQ0FBQzJiLEtBQUs7SUFDbkJtRyxJQUFJLENBQUNoakIsU0FBUyxHQUFHNmlCLE9BQU87RUFDMUI7RUFDQUUsSUFBSSxDQUFDbFosWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7RUFDakNvWixJQUFJLENBQUNwWixZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDO0VBQzVDb1osSUFBSSxDQUFDcFosWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7RUFDakMsSUFBS3pJLEtBQUssRUFBRztJQUNYMmhCLElBQUksQ0FBQ2xaLFlBQVksQ0FBQyxPQUFPLEVBQUUsV0FBVyxHQUFHekksS0FBSyxDQUFDO0VBQ2pEO0VBQ0E0aEIsSUFBSSxDQUFDaGpCLFNBQVMsR0FBRzZpQixPQUFPO0VBQ3hCbk8sSUFBSSxDQUFDMVUsU0FBUyxHQUFHOGlCLE9BQU87RUFDeEIsSUFBSyxDQUFDSixLQUFLLEVBQUc7SUFDWkssSUFBSSxDQUFDM2QsV0FBVyxDQUFDNmQsSUFBSSxDQUFDO0VBQ3hCO0VBQ0FGLElBQUksQ0FBQzNkLFdBQVcsQ0FBQzRkLElBQUksQ0FBQztFQUN0QkQsSUFBSSxDQUFDM2QsV0FBVyxDQUFDc1AsSUFBSSxDQUFDO0VBQ3RCLElBQUksQ0FBQ2lPLE9BQU8sR0FBR0ksSUFBSTtFQUNuQixPQUFPQSxJQUFJO0FBQ2IsQ0FBQztBQUNNLFNBQVMzakIsU0FBU0EsQ0FBRzhCLEdBQUcsRUFBRTBWLElBQUksRUFBRTtFQUNyQyxJQUFJc00sQ0FBQyxHQUFHLElBQUlULE9BQU8sQ0FBRXZoQixHQUFHLEVBQUUwVixJQUFJLENBQUM7SUFDM0IrTCxPQUFPLEdBQUdPLENBQUMsQ0FBQ04sTUFBTSxFQUFFO0VBQ3hCLE9BQU9ELE9BQU87QUFDaEI7QUFDTyxTQUFTdGpCLFNBQVNBLENBQUU4akIsSUFBSSxFQUFHO0VBQ2hDLElBQUssQ0FBQ0EsSUFBSSxFQUFHO0lBQ1gsT0FBTyxLQUFLO0VBQ2QsQ0FBQyxNQUFNO0lBQ0wsSUFBSUMsR0FBRyxHQUFHRCxJQUFJLENBQUN2WCxVQUFVO0lBQ3pCLElBQUt3WCxHQUFHLEVBQ05BLEdBQUcsQ0FBQy9kLFdBQVcsQ0FBQzhkLElBQUksQ0FBQyxDQUFDLEtBRXRCLE9BQU8sS0FBSztFQUNoQjtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0RjhCO0FBQ2YsU0FBU0UsZUFBZUEsQ0FBQ3RqQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFVixRQUFRLEVBQUVXLGVBQWUsRUFBRTtFQUNyR2hCLGtFQUEwQixFQUFFO0VBQzVCQSwrREFBdUIsRUFBRTtFQUN6QkEsK0RBQXVCLEVBQUU7RUFDekJBLG1FQUEyQixFQUFFO0VBQzdCLElBQUloQyxHQUFHLENBQUNFLElBQUksQ0FBQ3FqQixTQUFTLEdBQUcsQ0FBQyxFQUFFO0lBQzFCLElBQUlDLENBQUMsR0FBRyxJQUFJQyxRQUFRLEVBQUU7SUFDdEJELENBQUMsQ0FBQ0UsYUFBYSxDQUFDMWpCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDcWpCLFNBQVMsRUFBRTFnQixVQUFVLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFVixRQUFRLEVBQUVXLGVBQWUsQ0FBQztFQUMvRixDQUFDLE1BQU07SUFDTCxJQUFJMmdCLElBQUksR0FBR2hrQixRQUFRLENBQUNFLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQztJQUMzRCxJQUFJOGpCLElBQUksRUFDTkEsSUFBSSxDQUFDMWpCLFNBQVMsR0FBRyxFQUFFO0VBQ3ZCO0FBQ0Y7QUFDQSxTQUFTd2pCLFFBQVFBLENBQUEsRUFBRyxDQUFDO0FBQ3JCQSxRQUFRLENBQUNsakIsU0FBUyxDQUFDbWpCLGFBQWEsR0FBRyxVQUFVSCxTQUFTLEVBQUUxZ0IsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRVYsUUFBUSxFQUFFVyxlQUFlLEVBQUM7RUFDL0d1Z0IsU0FBUyxHQUFHblosTUFBTSxDQUFDbVosU0FBUyxDQUFDO0VBQzdCMWdCLFVBQVUsR0FBR3VILE1BQU0sQ0FBQ3ZILFVBQVUsQ0FBQztFQUMvQkMsUUFBUSxHQUFHc0gsTUFBTSxDQUFDdEgsUUFBUSxDQUFDO0VBQzNCLElBQUk2Z0IsSUFBSSxHQUFHaGtCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHdCQUF3QixDQUFDO0VBQzNEOGpCLElBQUksQ0FBQzFqQixTQUFTLEdBQUcsRUFBRTtFQUNuQixJQUFJSSxHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDBCQUEwQixDQUFDLENBQUNDLEtBQUs7RUFDbEUsSUFBSytDLFVBQVUsR0FBRyxDQUFDLEVBQUc7SUFDcEIsSUFBSStnQixRQUFRLEdBQUdILFFBQVEsQ0FBQ0ksYUFBYSxDQUFDRixJQUFJLENBQUM7SUFDM0NDLFFBQVEsQ0FBQ25pQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQ2pEQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QixJQUFJekIsSUFBSSxHQUFHNGpCLFdBQVcsQ0FBQ2poQixVQUFVLEdBQUcsQ0FBQyxFQUFFRyxlQUFlLENBQUM7TUFDdkRELE9BQU8sQ0FBQ1EsSUFBSSxDQUFDLElBQUksRUFBRWxELEdBQUcsRUFBRUgsSUFBSSxFQUFFbUMsUUFBUSxDQUFDO0lBQ3pDLENBQUMsQ0FBQztFQUNKO0VBQ0EsS0FBSyxJQUFJNkYsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcWIsU0FBUyxFQUFFcmIsQ0FBQyxFQUFFLEVBQUU7SUFDbEMsSUFBSTBCLEVBQUU7SUFDTixJQUFLMUIsQ0FBQyxJQUFJckYsVUFBVSxHQUFHLENBQUMsRUFBRTtNQUN4QitHLEVBQUUsR0FBRzZaLFFBQVEsQ0FBQ00sZ0JBQWdCLENBQUNsaEIsVUFBVSxDQUFDO0lBQzVDLENBQUMsTUFBTTtNQUNMLElBQUltVixHQUFHLEdBQUd5TCxRQUFRLENBQUNPLGdCQUFnQixDQUFDOWIsQ0FBQyxHQUFDLENBQUMsQ0FBQztNQUN4QyxJQUFJK2IsSUFBSSxHQUFHak0sR0FBRyxDQUFDaU0sSUFBSTtNQUNuQnJhLEVBQUUsR0FBR29PLEdBQUcsQ0FBQ3BPLEVBQUU7TUFDWHFhLElBQUksQ0FBQ3hpQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1FBQzdDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtRQUN0QixJQUFJekIsSUFBSSxHQUFHNGpCLFdBQVcsQ0FBQyxJQUFJLENBQUMxaUIsU0FBUyxFQUFFNEIsZUFBZSxDQUFDO1FBQ3ZERCxPQUFPLENBQUNRLElBQUksQ0FBQyxJQUFJLEVBQUVsRCxHQUFHLEVBQUVILElBQUksRUFBRW1DLFFBQVEsQ0FBQztNQUN6QyxDQUFDLENBQUM7SUFDSjtJQUNBc2hCLElBQUksQ0FBQ3RlLFdBQVcsQ0FBQ3VFLEVBQUUsQ0FBQztFQUN0QjtFQUNBLElBQUsvRyxVQUFVLEdBQUcwZ0IsU0FBUyxFQUFHO0lBQzVCLElBQUlXLFFBQVEsR0FBR1QsUUFBUSxDQUFDVSxjQUFjLENBQUNSLElBQUksQ0FBQztJQUM1Q08sUUFBUSxDQUFDemlCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDakRBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUl6QixJQUFJLEdBQUc0akIsV0FBVyxDQUFDamhCLFVBQVUsR0FBRyxDQUFDLEVBQUVHLGVBQWUsQ0FBQztNQUN2REQsT0FBTyxDQUFDUSxJQUFJLENBQUMsSUFBSSxFQUFFbEQsR0FBRyxFQUFFSCxJQUFJLEVBQUVtQyxRQUFRLENBQUM7SUFDekMsQ0FBQyxDQUFDO0VBQ0o7RUFFQW9oQixRQUFRLENBQUNXLGdCQUFnQixDQUFDLEVBQUUsRUFBRVQsSUFBSSxFQUFFOWdCLFVBQVUsRUFBRTBnQixTQUFTLENBQUM7RUFFMUQsU0FBU08sV0FBV0EsQ0FBQ2poQixVQUFVLEVBQUVHLGVBQWUsRUFBRTtJQUNoRCxJQUFJOUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNiLElBQUlXLElBQUksR0FBR2xCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQztJQUM5Q00sSUFBSSxHQUFHcUIsQ0FBQyxDQUFDVixJQUFJLENBQUMsQ0FBQ3lDLGVBQWUsRUFBRTtJQUNoQyxJQUFJLE9BQU9OLGVBQWUsS0FBSyxVQUFVLEVBQUVBLGVBQWUsQ0FBQ08sSUFBSSxDQUFDLElBQUksRUFBRXJELElBQUksQ0FBQztJQUMzRUEsSUFBSSxDQUFDMkMsVUFBVSxHQUFHQSxVQUFVO0lBQzVCM0MsSUFBSSxDQUFDc0QsU0FBUyxHQUFHWCxVQUFVO0lBQzNCM0MsSUFBSSxDQUFDNEMsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCNUMsSUFBSSxDQUFDdUQsU0FBUyxHQUFHWCxRQUFRO0lBQ3pCLE9BQU81QyxJQUFJO0VBQ2I7QUFDRixDQUFDO0FBQ0R1akIsUUFBUSxDQUFDSSxhQUFhLEdBQUcsVUFBU1EsUUFBUSxFQUFFO0VBQzFDLElBQUlDLE1BQU0sR0FBRzNrQixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0VBQ3pDdWYsTUFBTSxDQUFDeGEsWUFBWSxDQUFDLE9BQU8sRUFBQyxVQUFVLENBQUM7RUFDdkN1YSxRQUFRLENBQUNoZixXQUFXLENBQUNpZixNQUFNLENBQUM7RUFDNUIsSUFBSVYsUUFBUSxHQUFHamtCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7RUFDMUN1ZixNQUFNLENBQUNqZixXQUFXLENBQUN1ZSxRQUFRLENBQUM7RUFDNUIsSUFBSVcsUUFBUSxHQUFHNWtCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7RUFDN0N3ZixRQUFRLENBQUN6YSxZQUFZLENBQUMsd0JBQXdCLEVBQUUsRUFBRSxDQUFDO0VBQ25EOFosUUFBUSxDQUFDdmUsV0FBVyxDQUFDa2YsUUFBUSxDQUFDO0VBQzlCLE9BQU9YLFFBQVE7QUFDakIsQ0FBQztBQUNESCxRQUFRLENBQUNVLGNBQWMsR0FBRyxVQUFTRSxRQUFRLEVBQUU7RUFDM0MsSUFBSUcsTUFBTSxHQUFHN2tCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7RUFDekN5ZixNQUFNLENBQUMxYSxZQUFZLENBQUMsT0FBTyxFQUFDLFVBQVUsQ0FBQztFQUN2Q3VhLFFBQVEsQ0FBQ2hmLFdBQVcsQ0FBQ21mLE1BQU0sQ0FBQztFQUM1QixJQUFJTixRQUFRLEdBQUd2a0IsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztFQUMxQ3lmLE1BQU0sQ0FBQ25mLFdBQVcsQ0FBQzZlLFFBQVEsQ0FBQztFQUM1QixJQUFJTyxRQUFRLEdBQUc5a0IsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztFQUM3QzBmLFFBQVEsQ0FBQzNhLFlBQVksQ0FBQyxvQkFBb0IsRUFBRSxFQUFFLENBQUM7RUFDL0NvYSxRQUFRLENBQUM3ZSxXQUFXLENBQUNvZixRQUFRLENBQUM7RUFDOUIsT0FBT1AsUUFBUTtBQUNqQixDQUFDO0FBQ0RULFFBQVEsQ0FBQ00sZ0JBQWdCLEdBQUcsVUFBUzNpQixTQUFTLEVBQUU7RUFDOUMsSUFBSXdJLEVBQUUsR0FBR2pLLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7RUFDckMsSUFBSXJGLElBQUksR0FBR0MsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztFQUN6Q3JGLElBQUksQ0FBQzBCLFNBQVMsR0FBR0EsU0FBUztFQUMxQndJLEVBQUUsQ0FBQ0UsWUFBWSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUM7RUFDckNGLEVBQUUsQ0FBQ3ZFLFdBQVcsQ0FBQzNGLElBQUksQ0FBQztFQUNwQixPQUFPa0ssRUFBRTtBQUNYLENBQUM7QUFDRDZaLFFBQVEsQ0FBQ08sZ0JBQWdCLEdBQUcsVUFBUzVpQixTQUFTLEVBQUU7RUFDOUMsSUFBSXdJLEVBQUUsR0FBR2pLLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7RUFDckMsSUFBSWtmLElBQUksR0FBR3RrQixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0VBQ3RDa2YsSUFBSSxDQUFDN2lCLFNBQVMsR0FBR0EsU0FBUztFQUMxQndJLEVBQUUsQ0FBQ3ZFLFdBQVcsQ0FBQzRlLElBQUksQ0FBQztFQUNwQixPQUFPO0lBQ0xyYSxFQUFFLEVBQUVBLEVBQUU7SUFDTnFhLElBQUksRUFBRUE7RUFDUixDQUFDO0FBQ0gsQ0FBQztBQUNEUixRQUFRLENBQUNXLGdCQUFnQixHQUFHLFVBQVNNLFVBQVUsRUFBRTdZLFVBQVUsRUFBRWhKLFVBQVUsRUFBRTBnQixTQUFTLEVBQUU7RUFDbEYsSUFBSW9CLFNBQVMsR0FBR0QsVUFBVTtFQUMxQixJQUFJRSxLQUFLLEdBQUcvWSxVQUFVLENBQUM1RCxnQkFBZ0IsQ0FBQyxtQkFBbUIsQ0FBQztFQUM1RCxJQUFJMkIsRUFBRTtFQUNOLElBQUlRLE1BQU0sQ0FBQ3ZILFVBQVUsQ0FBQyxHQUFHOGhCLFNBQVMsR0FBQyxDQUFDLEVBQUc7SUFDckMsS0FBSyxJQUFJemMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHa0MsTUFBTSxDQUFDdkgsVUFBVSxDQUFDLEdBQUM4aEIsU0FBUyxHQUFDLENBQUMsRUFBRXpjLENBQUMsRUFBRSxFQUFFO01BQ3ZEMGMsS0FBSyxDQUFDMWMsQ0FBQyxDQUFDLENBQUM3RyxLQUFLLENBQUN3SixPQUFPLEdBQUcsTUFBTTtJQUNqQztJQUNBakIsRUFBRSxHQUFHLElBQUksQ0FBQ21hLGdCQUFnQixDQUFDLEtBQUssQ0FBQztJQUNqQ2xZLFVBQVUsQ0FBQ3JLLFlBQVksQ0FBQ29JLEVBQUUsRUFBRWdiLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUN2QztFQUNBLElBQUlyQixTQUFTLEdBQUMxZ0IsVUFBVSxHQUFHOGhCLFNBQVMsR0FBQyxDQUFDLEVBQUU7SUFDdEMsS0FBSyxJQUFJemMsRUFBQyxHQUFHa0MsTUFBTSxDQUFDdkgsVUFBVSxDQUFDLEdBQUM4aEIsU0FBUyxFQUFFemMsRUFBQyxHQUFHcWIsU0FBUyxHQUFDLENBQUMsRUFBRXJiLEVBQUMsRUFBRSxFQUFFO01BQy9EMGMsS0FBSyxDQUFDMWMsRUFBQyxDQUFDLENBQUM3RyxLQUFLLENBQUN3SixPQUFPLEdBQUcsTUFBTTtJQUNqQztJQUNBakIsRUFBRSxHQUFHLElBQUksQ0FBQ21hLGdCQUFnQixDQUFDLEtBQUssQ0FBQztJQUNqQ2xZLFVBQVUsQ0FBQ3JLLFlBQVksQ0FBQ29JLEVBQUUsRUFBRWdiLEtBQUssQ0FBQ3JCLFNBQVMsR0FBQyxDQUFDLENBQUMsQ0FBQztFQUNqRDtBQUNGLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoSTZCO0FBRTlCLFNBQVNzQixTQUFTQSxDQUFBLEVBQUU7RUFDbEIsSUFBSSxDQUFDQyxHQUFHLEdBQUdubEIsUUFBUSxDQUFDRSxhQUFhLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0MsS0FBSztBQUNqRTtBQUNBK2tCLFNBQVMsQ0FBQ3RrQixTQUFTLENBQUN3a0IsS0FBSyxHQUFHLFVBQVV0a0IsSUFBSSxFQUFFaU8sRUFBRSxFQUFFO0VBQzlDO0VBQ0FuTixDQUFDLENBQUM0QyxJQUFJLENBQUM7SUFDTDlELEdBQUcsRUFBRSxJQUFJLENBQUN5a0IsR0FBRztJQUNiNWtCLElBQUksRUFBRThELElBQUksQ0FBQ0MsU0FBUyxDQUFDO01BQUM4RixJQUFJLEVBQUV0SjtJQUFJLENBQUMsQ0FBQztJQUNsQzhELE9BQU8sRUFBRW1LO0VBQ1gsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUNjLFNBQVN4RixZQUFZQSxDQUFDekksSUFBSSxFQUFFaU8sRUFBRSxFQUFFO0VBQzdDLElBQUlzVyxFQUFFLEdBQUcsSUFBSUgsU0FBUyxFQUFFO0VBQ3hCLElBQUk7SUFDRkcsRUFBRSxDQUFDRCxLQUFLLENBQUN0a0IsSUFBSSxFQUFFaU8sRUFBRSxDQUFDO0VBQ3BCLENBQUMsQ0FBQyxPQUFNdkksR0FBRyxFQUFFO0lBQ1huRSw0REFBb0IsQ0FBQ21FLEdBQUcsQ0FBQztFQUMzQjtBQUNGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3BCOEI7QUFDUTtBQUNVO0FBQ1A7QUFDRDtBQWlCbEI7QUFFdEIsSUFBSThlLElBQUksR0FBR0MsT0FBTyxFQUFFO0FBRXBCLFNBQVNBLE9BQU9BLENBQUEsRUFBRztFQUNqQixJQUFJO0lBQ0YsT0FBT3ZsQixRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQ0UsS0FBSztFQUNsRCxDQUFDLENBQUMsT0FBTzZDLEtBQUssRUFBRTtJQUNkWCw2REFBb0IsQ0FBQ1csS0FBSyxDQUFDO0lBQzNCO0VBQ0Y7QUFDRjtBQUNPLFNBQVN3aUIsb0JBQW9CQSxDQUFBLEVBQUc7RUFDckM7RUFDQW5qQiwwREFBaUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFO0lBQ3hDZ1YsT0FBTyxFQUFFLFVBQVU7SUFDbkI7SUFDQUcsT0FBTyxFQUFFO0VBQ1gsQ0FBQyxDQUFDO0VBQ0ZpTyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0VBQ1QsU0FBU0EsS0FBS0EsQ0FBQSxFQUFHO0lBQ2ZDLFdBQVcsRUFBRTtFQUNmO0VBRUEsU0FBU0MsbUJBQW1CQSxDQUFDdGxCLEdBQUcsRUFBRTtJQUNoQyxJQUFJQSxHQUFHLENBQUNFLElBQUksS0FBS3FZLFNBQVMsRUFBRSxNQUFNLElBQUk1UyxLQUFLLENBQUMsb0JBQW9CLENBQUM7SUFDakUsSUFBSSxDQUFDNk4sS0FBSyxDQUFDQyxPQUFPLENBQUN6VCxHQUFHLENBQUNFLElBQUksQ0FBQyxFQUFFLE1BQU0sSUFBSXlGLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQztJQUNwRSxJQUFJM0YsR0FBRyxDQUFDRSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQU0sSUFBSXhDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQztFQUNoRTtFQUVBLFNBQVM0ZixVQUFVQSxDQUFDNUksR0FBRyxFQUFFNkksT0FBTyxFQUFFO0lBQ2hDLElBQUlqYixHQUFHLEdBQUc1SyxRQUFRLENBQUNFLGFBQWEsQ0FBQyxjQUFjLEdBQUcybEIsT0FBTyxHQUFHLEdBQUcsQ0FBQztJQUNoRSxJQUFJLENBQUNqYixHQUFHLEVBQUU7SUFDVixLQUFLLElBQUlyQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUd5VSxHQUFHLENBQUN4VSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQ25DLElBQUlzQyxFQUFFLEdBQUc3SyxRQUFRLENBQUNvRixhQUFhLENBQUMsUUFBUSxDQUFDO01BQ3pDeUYsRUFBRSxDQUFDVixZQUFZLENBQUMsT0FBTyxFQUFFNlMsR0FBRyxDQUFDelUsQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDcEMwRSxFQUFFLENBQUNwSixTQUFTLEdBQUd1YixHQUFHLENBQUN6VSxDQUFDLENBQUMsQ0FBQ3BJLEtBQUs7TUFDM0J5SyxHQUFHLENBQUNsRixXQUFXLENBQUNtRixFQUFFLENBQUM7SUFDckI7RUFDRjtFQUVBLFNBQVM2YSxXQUFXQSxDQUFBLEVBQUc7SUFDckJuYyx1REFBWSxDQUFDLFNBQVMsRUFBRSxVQUFTbEosR0FBRyxFQUFFO01BQ3BDLElBQUlvQyx1REFBUSxDQUFDcEMsR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO01BQzdCLElBQUk7UUFDRnNsQixtQkFBbUIsQ0FBQ3RsQixHQUFHLENBQUM7UUFDeEJ1bEIsVUFBVSxDQUFDdmxCLEdBQUcsQ0FBQ0UsSUFBSSxFQUFFLFFBQVEsQ0FBQztRQUM5QnVsQixXQUFXLEVBQUU7TUFDZixDQUFDLENBQUMsT0FBTzlpQixLQUFLLEVBQUU7UUFDZFgsNkRBQW9CLENBQUNXLEtBQUssQ0FBQztRQUMzQjtNQUNGO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxTQUFTOGlCLFdBQVdBLENBQUEsRUFBRztJQUNyQnZjLHVEQUFZLENBQUMsU0FBUyxFQUFFLFVBQVNsSixHQUFHLEVBQUU7TUFDcEMsSUFBSW9DLHVEQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0IsSUFBSTtRQUNGc2xCLG1CQUFtQixDQUFDdGxCLEdBQUcsQ0FBQztRQUN4QnVsQixVQUFVLENBQUN2bEIsR0FBRyxDQUFDRSxJQUFJLEVBQUUsUUFBUSxDQUFDO1FBQzlCd2xCLFlBQVksRUFBRTtNQUNoQixDQUFDLENBQUMsT0FBTy9pQixLQUFLLEVBQUU7UUFDZFgsNkRBQW9CLENBQUNXLEtBQUssQ0FBQztRQUMzQjtNQUNGO0lBQ0YsQ0FBQyxDQUFDO0VBQ0o7RUFFQSxTQUFTK2lCLFlBQVlBLENBQUEsRUFBRztJQUN0QnhjLHVEQUFZLENBQUMsVUFBVSxFQUFFLFVBQVNsSixHQUFHLEVBQUU7TUFDckMsSUFBSW9DLHVEQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDN0IsSUFBSTtRQUNGc2xCLG1CQUFtQixDQUFDdGxCLEdBQUcsQ0FBQztRQUN4QnVsQixVQUFVLENBQUN2bEIsR0FBRyxDQUFDRSxJQUFJLEVBQUUsU0FBUyxDQUFDO1FBQy9CLElBQUkra0IsSUFBSSxLQUFLLFFBQVEsRUFBRTtVQUNyQmhiLFFBQVEsRUFBRTtVQUNWO1FBQ0Y7UUFDQTBiLHVCQUF1QixFQUFFO01BQzNCLENBQUMsQ0FBQyxPQUFPaGpCLEtBQUssRUFBRTtRQUNkWCw2REFBb0IsQ0FBQ1csS0FBSyxDQUFDO1FBQzNCO01BQ0Y7SUFDRixDQUFDLENBQUM7RUFDSjtFQUVBLFNBQVNnakIsdUJBQXVCQSxDQUFBLEVBQUc7SUFDakMsSUFBSWIsR0FBRyxHQUFHbmxCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHVDQUF1QyxDQUFDO0lBQ3pFLElBQUlRLEdBQUcsR0FBR3lrQixHQUFHLENBQUNobEIsS0FBSztJQUNuQlosd0RBQVMsQ0FBQ21CLEdBQUcsRUFBRSxFQUFFLEVBQUV1bEIsd0JBQXdCLENBQUM7RUFDOUM7RUFFQSxTQUFTQSx3QkFBd0JBLENBQUM1bEIsR0FBRyxFQUFFO0lBQ3JDLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJLElBQUlGLEdBQUcsQ0FBQzZsQixJQUFJO0lBQy9CLElBQUk7TUFDRixJQUFJM2xCLElBQUksS0FBS3FZLFNBQVMsRUFBRSxNQUFNLElBQUk1UyxLQUFLLENBQUMsb0JBQW9CLENBQUM7TUFDN0QsSUFBSSxDQUFDNk4sS0FBSyxDQUFDQyxPQUFPLENBQUN2VCxJQUFJLENBQUMsRUFBRSxNQUFNLElBQUl5RixLQUFLLENBQUMsc0JBQXNCLENBQUM7TUFDakUsSUFBSXpGLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUUsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO0lBQzNELENBQUMsQ0FBQyxPQUFPUSxHQUFHLEVBQUU7TUFDWjtNQUNBOEQsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUNkOztJQUNBLEtBQUssSUFBSS9CLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2hJLElBQUksQ0FBQ2lJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDcEM0ZCxxQkFBcUIsQ0FBQzVsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQztJQUNoQztJQUNBLElBQUk7TUFDRjZkLHdCQUF3QixFQUFFO01BQzFCOWIsUUFBUSxFQUFFO0lBQ1osQ0FBQyxDQUFDLE9BQU90SCxLQUFLLEVBQUU7TUFDZFgsNkRBQW9CLENBQUNXLEtBQUssQ0FBQztNQUMzQjtJQUNGO0lBRUEsU0FBU21qQixxQkFBcUJBLENBQUM1bEIsSUFBSSxFQUFFO01BQ25DLElBQUk4bEIsSUFBSSxHQUFHOWxCLElBQUksQ0FBQytsQixRQUFRLEdBQUcvbEIsSUFBSSxDQUFDK2xCLFFBQVEsR0FBRyxNQUFNO01BQ2pELElBQUlDLElBQUksR0FBR2htQixJQUFJLENBQUNpbUIsWUFBWSxHQUFHam1CLElBQUksQ0FBQ2ltQixZQUFZLEdBQUcsTUFBTTtNQUN6RCxJQUFJeE8sRUFBRSxHQUFHelgsSUFBSSxDQUFDa21CLFVBQVUsR0FBR2xtQixJQUFJLENBQUNrbUIsVUFBVSxHQUFHLE1BQU07TUFDbkQsSUFBSTNsQixJQUFJLEdBQUdQLElBQUksQ0FBQ21tQixZQUFZLEdBQUdubUIsSUFBSSxDQUFDbW1CLFlBQVksR0FBRyxNQUFNO01BQ3pELElBQUl6USxRQUFRLEdBQUdqVyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxjQUFjLENBQUM7TUFDdEQsSUFBSStqQixJQUFJLEdBQUdoa0IsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztNQUN4QzZRLFFBQVEsQ0FBQ3ZRLFdBQVcsQ0FBQ3NlLElBQUksQ0FBQztNQUMxQkEsSUFBSSxDQUFDdGUsV0FBVyxDQUFDaWhCLFFBQVEsRUFBRSxDQUFDO01BQzVCM0MsSUFBSSxDQUFDdGUsV0FBVyxDQUFDa2hCLE9BQU8sRUFBRSxDQUFDO01BRTNCLFNBQVNELFFBQVFBLENBQUEsRUFBRztRQUNsQixJQUFJdFEsS0FBSyxHQUFHclcsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE9BQU8sQ0FBQztRQUMzQ2lSLEtBQUssQ0FBQ2xNLFlBQVksQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDO1FBQzFDa00sS0FBSyxDQUFDNVUsU0FBUyxHQUFHWCxJQUFJO1FBQ3RCLElBQUlpWCxLQUFLLEdBQUcvWCxRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO1FBQzNDaVIsS0FBSyxDQUFDM1EsV0FBVyxDQUFDcVMsS0FBSyxDQUFDO1FBQ3hCQSxLQUFLLENBQUM1TixZQUFZLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQztRQUNuQzROLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxNQUFNLEVBQUUsVUFBVSxDQUFDO1FBQ3RDNE4sS0FBSyxDQUFDNU4sWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7UUFDaEM0TixLQUFLLENBQUM1TixZQUFZLENBQUMsT0FBTyxFQUFFa2MsSUFBSSxDQUFDO1FBQ2pDdE8sS0FBSyxDQUFDNU4sWUFBWSxDQUFDLElBQUksRUFBRTZOLEVBQUUsQ0FBQztRQUM1QixPQUFPM0IsS0FBSztNQUNkO01BRUEsU0FBU3VRLE9BQU9BLENBQUEsRUFBRztRQUNqQixJQUFJdFgsSUFBSSxHQUFHdFAsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztRQUN4Q2tLLElBQUksQ0FBQ25GLFlBQVksQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDO1FBQzVDLElBQUl3RSxTQUFTLEdBQUczTyxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO1FBQzdDa0ssSUFBSSxDQUFDNUosV0FBVyxDQUFDaUosU0FBUyxDQUFDO1FBQzNCQSxTQUFTLENBQUN4RSxZQUFZLENBQUMsT0FBTyxFQUFFLHVDQUF1QyxDQUFDO1FBQ3hFd0UsU0FBUyxDQUFDakosV0FBVyxDQUFDbWhCLGFBQWEsRUFBRSxDQUFDO1FBQ3RDbFksU0FBUyxDQUFDakosV0FBVyxDQUFDb2hCLFdBQVcsRUFBRSxDQUFDO1FBQ3BDLE9BQU94WCxJQUFJO1FBRVgsU0FBU3VYLGFBQWFBLENBQUEsRUFBRztVQUN2QixJQUFJRSxNQUFNLEdBQUcvbUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztVQUMxQzJoQixNQUFNLENBQUM1YyxZQUFZLENBQUMsT0FBTyxFQUFFLGdCQUFnQixDQUFDO1VBQzlDLElBQUlnVCxLQUFLLEdBQUduZCxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO1VBQ3pDK1gsS0FBSyxDQUFDaFQsWUFBWSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7VUFDNUM0YyxNQUFNLENBQUNyaEIsV0FBVyxDQUFDeVgsS0FBSyxDQUFDO1VBQ3pCLElBQUk2SixDQUFDLEdBQUdobkIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztVQUNwQytYLEtBQUssQ0FBQ3pYLFdBQVcsQ0FBQ3NoQixDQUFDLENBQUM7VUFDcEJBLENBQUMsQ0FBQ3ZsQixTQUFTLEdBQUdYLElBQUk7VUFDbEIsT0FBT2ltQixNQUFNO1FBQ2Y7UUFFQSxTQUFTRCxXQUFXQSxDQUFBLEVBQUc7VUFDckIsSUFBSTlRLEdBQUcsR0FBR2hXLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7VUFDdkM0USxHQUFHLENBQUM3TCxZQUFZLENBQUMsT0FBTyxFQUFFLCtDQUErQyxDQUFDO1VBQzFFLElBQUlvYyxJQUFJLEtBQUssTUFBTSxFQUFFO1lBQ25CdlEsR0FBRyxDQUFDdlUsU0FBUyxHQUFHLEtBQUs7VUFDdkI7VUFDQSxJQUFJO1lBQ0YsSUFBSXdsQixLQUFLLEdBQUcsRUFBRTtZQUNkLElBQUlWLElBQUksQ0FBQ1csT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFRCxLQUFLLEdBQUdWLElBQUksQ0FBQ1ksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQ2pELElBQUlaLElBQUksQ0FBQ1csT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFRCxLQUFLLEdBQUdWLElBQUksQ0FBQ1ksS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUMxRCxJQUFJRixLQUFLLENBQUN6ZSxNQUFNLEdBQUcsQ0FBQyxFQUFFd04sR0FBRyxDQUFDdlUsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUMxQyxLQUFLLElBQUlvVSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdvUixLQUFLLENBQUN6ZSxNQUFNLEVBQUVxTixDQUFDLEVBQUUsRUFBRTtjQUNyQyxJQUFJOVYsSUFBSSxHQUFHQyxRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO2NBQ3pDckYsSUFBSSxDQUFDb0ssWUFBWSxDQUFDLE9BQU8sRUFBRSx1REFBdUQsQ0FBQztjQUNuRnBLLElBQUksQ0FBQzBCLFNBQVMsR0FBR0csQ0FBQyxDQUFDd1AsSUFBSSxDQUFDNlYsS0FBSyxDQUFDcFIsQ0FBQyxDQUFDLENBQUM7Y0FDakNHLEdBQUcsQ0FBQ3RRLFdBQVcsQ0FBQzNGLElBQUksQ0FBQztZQUN2QjtVQUNGLENBQUMsQ0FBQyxPQUFPaUQsS0FBSyxFQUFFO1lBQ2RnVCxHQUFHLENBQUN2VSxTQUFTLEdBQUd1QixLQUFLO1VBQ3ZCO1VBQ0EsT0FBT2dULEdBQUc7UUFDWjtNQUNGO0lBQ0Y7RUFDRjtFQUVBLFNBQVNvUSx3QkFBd0JBLENBQUEsRUFBRztJQUNsQyxJQUFJZ0IsZUFBZSxHQUFHcG5CLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGNBQWMsQ0FBQztJQUM3RCxJQUFJb25CLFVBQVUsR0FBR0QsZUFBZSxDQUFDOWUsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7SUFDdEUsSUFBSWdmLFVBQVUsR0FBR0YsZUFBZSxDQUFDOWUsZ0JBQWdCLENBQUMsT0FBTyxDQUFDO0lBQzFEO0lBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc4ZSxVQUFVLENBQUM3ZSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQzFDLElBQUlvTyxLQUFLLEdBQUcwUSxVQUFVLENBQUM5ZSxDQUFDLENBQUM7TUFDekIsSUFBSWdmLElBQUksR0FBR2xsQixpRUFBd0I7TUFDbkNrbEIsSUFBSSxDQUFDMVEsZUFBZSxDQUFDRixLQUFLLENBQUM7TUFDM0JBLEtBQUssQ0FBQzdVLGdCQUFnQixDQUFDLFFBQVEsRUFBRXlsQixJQUFJLENBQUMvUSxnQkFBZ0IsQ0FBQzZRLFVBQVUsQ0FBQyxDQUFDO01BQ25FMVEsS0FBSyxDQUFDN1UsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUM5Q0EsS0FBSyxDQUFDMFQsZUFBZSxFQUFFLENBQUMsQ0FBQztNQUMzQixDQUFDLENBQUM7SUFDSjtJQUNBO0lBQ0EsS0FBSyxJQUFJbE4sRUFBQyxHQUFHLENBQUMsRUFBRUEsRUFBQyxHQUFHK2UsVUFBVSxDQUFDOWUsTUFBTSxFQUFFRCxFQUFDLEVBQUUsRUFBRTtNQUMxQyxJQUFJOE4sS0FBSyxHQUFHaVIsVUFBVSxDQUFDL2UsRUFBQyxDQUFDO01BQ3pCOE4sS0FBSyxDQUFDdlUsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUNsREEsS0FBSyxDQUFDQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO01BQzFCLENBQUMsQ0FBQztJQUNKO0lBQ0E7SUFDQSxJQUFJd2xCLFFBQVEsR0FBR3huQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQztJQUMxRCxJQUFJdW5CLFlBQVksR0FBR0osVUFBVSxDQUFDLENBQUMsQ0FBQztJQUNoQ0csUUFBUSxDQUFDMWxCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO01BQzVDMmxCLFlBQVksQ0FBQ3hqQixLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3hCLENBQUMsQ0FBQztFQUNKOztFQUVBLFNBQVNxRyxRQUFRQSxDQUFBLEVBQUc7SUFDbEJySCwrREFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFMUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUNtbEIsNkJBQTZCLEVBQUUsVUFBU25uQixJQUFJLEVBQUU7TUFDL0YsSUFBSUEsSUFBSSxDQUFDK2xCLFFBQVEsS0FBSyxFQUFFLEVBQ3RCL2xCLElBQUksQ0FBQytsQixRQUFRLEdBQUcsSUFBSTtJQUN4QixDQUFDLEVBQUU7TUFDRHFCLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztJQUNGempCLCtEQUFnQixDQUFDRSw0REFBaUIsQ0FBQztFQUNyQztBQUNGO0FBQ08sU0FBU3dqQixvQ0FBb0NBLENBQUEsRUFBRztFQUNyRDtFQUNBdmxCLDBEQUFpQixDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUU7SUFDeENnVixPQUFPLEVBQUUsVUFBVTtJQUNuQjtJQUNBRyxPQUFPLEVBQUUsT0FBTztJQUNoQkcsV0FBVyxFQUFFO0VBQ2YsQ0FBQyxDQUFDO0VBQ0YxVSwrREFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFMUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUNzbEIsMkJBQTJCLENBQUM7QUFDakY7QUFDTyxTQUFTeG9CLGdDQUFnQ0EsQ0FBQSxFQUFHO0VBQ2pELElBQUlpbUIsSUFBSSxLQUFLLE9BQU8sRUFBRTtJQUNwQmhiLFFBQVEsRUFBRTtFQUNaLENBQUMsTUFBTTtJQUNMd2QsV0FBVyxFQUFFO0VBQ2Y7RUFFQSxTQUFTeGQsUUFBUUEsQ0FBQSxFQUFHO0lBQ2xCakksMERBQWlCLENBQUMsV0FBVyxFQUFFLFNBQVMsRUFBRTtNQUN4Q2dWLE9BQU8sRUFBRSxVQUFVO01BQ25CRSxPQUFPLEVBQUUsY0FBYztNQUN2QkMsT0FBTyxFQUFFLE9BQU87TUFDaEJHLFdBQVcsRUFBRTtJQUNmLENBQUMsQ0FBQztJQUNGMVUsK0RBQWdCLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTFELG9EQUFTLEVBQUUsSUFBSWdELFNBQVMsRUFBRSxDQUFDd2xCLHNCQUFzQixDQUFDO0VBQzVFO0VBRUEsU0FBU0QsV0FBV0EsQ0FBQSxFQUFHO0lBQ3JCemxCLDREQUFtQixDQUFDckMsUUFBUSxDQUFDc0ksZ0JBQWdCLENBQUMsZUFBZSxDQUFDLEVBQUVqRyw2REFBb0IsRUFBRSxDQUFDO0lBQ3ZGWSwrREFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFMUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUN3bEIsc0JBQXNCLENBQUM7SUFDMUU3akIsK0RBQWdCLENBQUNFLDREQUFpQixDQUFDO0lBQ25DLElBQUlraEIsSUFBSSxLQUFLLFFBQVEsRUFBRTtJQUN2QixJQUFJQSxJQUFJLEtBQUssU0FBUyxFQUFFMEMsa0JBQWtCLEVBQUU7SUFFNUMsU0FBU0Esa0JBQWtCQSxDQUFBLEVBQUc7TUFDNUIsSUFBSUMsUUFBUSxHQUFHam9CLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQztNQUNsRGdvQixRQUFRLENBQUNubUIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUNqREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsaUNBQWlDLENBQUMsQ0FBQ0MsS0FBSztRQUN6RSxJQUFJK2UsR0FBRyxHQUFHbGYsUUFBUSxDQUFDc0ksZ0JBQWdCLENBQUMsV0FBVyxDQUFDO1FBQ2hELElBQUlvUixJQUFJLEdBQUcsRUFBRTtRQUNiclgsdUVBQThCLENBQUM2YyxHQUFHLEVBQUV4RixJQUFJLENBQUM7UUFDekMsSUFBSUEsSUFBSSxDQUFDbFIsTUFBTSxJQUFJLENBQUMsRUFBRTtVQUNwQnZHLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLFNBQVMsQ0FBQztVQUM1QjtRQUNGO1FBQ0EsSUFBSTFELFFBQVEsR0FBRztVQUFFeWtCLFdBQVcsRUFBRXhPO1FBQUssQ0FBQztRQUNwQztRQUNBblMsd0VBQXlCLENBQUM3RyxHQUFHLEVBQUUrQyxRQUFRLENBQUM7TUFDMUMsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtBQUNGO0FBQ08sU0FBU25FLHVDQUF1Q0EsQ0FBQSxFQUFHO0VBQ3hELElBQUlnbUIsSUFBSSxLQUFLLE9BQU8sRUFBRTtJQUNwQjZDLFlBQVksRUFBRTtJQUNkO0VBQ0Y7RUFDQTVlLHVEQUFZLENBQUMsV0FBVyxFQUFFLFVBQVNsSixHQUFHLEVBQUU7SUFDdEMsSUFBSW9DLHVEQUFRLENBQUNwQyxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7SUFDN0JnQywrREFBc0IsQ0FBQ2hDLEdBQUcsQ0FBQztJQUMzQjhuQixZQUFZLEVBQUU7RUFDaEIsQ0FBQyxDQUFDO0VBRUYsU0FBU0EsWUFBWUEsQ0FBQSxFQUFHO0lBQ3RCLElBQUk3QyxJQUFJLEtBQUssT0FBTyxFQUFFampCLDREQUFtQixDQUFDckMsUUFBUSxDQUFDc0ksZ0JBQWdCLENBQUMsZUFBZSxDQUFDLEVBQUVqRyw2REFBb0IsRUFBRSxDQUFDO0lBQzdHO0lBQ0FZLCtEQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUxRCxvREFBUyxFQUFFLElBQUlnRCxTQUFTLEVBQUUsQ0FBQzZsQix5QkFBeUIsQ0FBQztJQUM1RTtJQUNBbGtCLCtEQUFnQixDQUFDRSw0REFBaUIsQ0FBQztFQUNyQztBQUNGO0FBQ08sU0FBU2lrQixpQ0FBaUNBLENBQUEsRUFBRztFQUNsRDtFQUNBcGxCLCtEQUFnQixDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUV3RSwwRUFBK0IsQ0FBQztFQUN4RDtFQUNBdkQsK0RBQWdCLENBQUNFLDREQUFpQixDQUFDOztFQUVuQztFQUNBLElBQUlra0IsV0FBVyxHQUFHdG9CLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztFQUM5RCxJQUFJb29CLFdBQVcsRUFBRTtJQUNmOWUsc0RBQVcsRUFBRTtFQUNmO0VBQ0E7RUFDQSxJQUFJK2UsbUJBQW1CLEdBQUd2b0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0JBQWdCLENBQUM7RUFDbEVxb0IsbUJBQW1CLENBQUN6bUIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtJQUM1REEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7SUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsK0JBQStCLENBQUMsQ0FBQ0MsS0FBSztJQUN2RSxJQUFJMEgsT0FBTyxHQUFHLElBQUl2Riw4Q0FBTyxFQUFFO0lBQzNCLElBQUkvQixJQUFJLEdBQUdzSCxPQUFPLENBQUM4WixxQkFBcUIsRUFBRTtJQUMxQzNaLDRFQUE2QixDQUFDdEgsR0FBRyxFQUFFSCxJQUFJLENBQUM7RUFDMUMsQ0FBQyxDQUFDO0FBQ0o7QUFDTyxTQUFTaW9CLGdDQUFnQ0EsQ0FBQSxFQUFHO0VBQ2pEO0VBQ0FqZix1REFBWSxDQUFDLGVBQWUsRUFBRSxVQUFTbEosR0FBRyxFQUFFO0lBQzFDO0lBQ0EsSUFBSSxDQUFDQSxHQUFHLENBQUNFLElBQUksSUFBSUYsR0FBRyxDQUFDRSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3BDLE1BQU0sSUFBSXhDLEtBQUssQ0FBQyxRQUFRLENBQUM7SUFDM0I7SUFDQSxJQUFJeWlCLGFBQWEsR0FBR3BvQixHQUFHLENBQUNFLElBQUk7SUFDNUIsSUFBSVcsSUFBSSxHQUFHbEIsUUFBUSxDQUFDQyxjQUFjLENBQUMsVUFBVSxDQUFDO0lBQzlDLElBQUl5b0IsVUFBVSxHQUFHeG5CLElBQUksQ0FBQ2hCLGFBQWEsQ0FBQywyQkFBMkIsQ0FBQztJQUNoRSxJQUFJaVosR0FBRyxHQUFHblosUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztJQUMxQytULEdBQUcsQ0FBQ2haLEtBQUssR0FBRyxNQUFNO0lBQ2xCZ1osR0FBRyxDQUFDMVgsU0FBUyxHQUFHLElBQUk7SUFDcEJpbkIsVUFBVSxDQUFDaGpCLFdBQVcsQ0FBQ3lULEdBQUcsQ0FBQztJQUMzQixLQUFLLElBQUk1USxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdrZ0IsYUFBYSxDQUFDamdCLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDN0MsSUFBSXNDLEVBQUUsR0FBRzdLLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7TUFDekMsS0FBSyxJQUFJZSxHQUFHLElBQUlzaUIsYUFBYSxDQUFDbGdCLENBQUMsQ0FBQyxFQUFFO1FBQ2hDLElBQUlwQyxHQUFHLElBQUksT0FBTyxFQUFFO1VBQ2xCMEUsRUFBRSxDQUFDcEosU0FBUyxHQUFHZ25CLGFBQWEsQ0FBQ2xnQixDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztRQUN0QztRQUNBLElBQUlBLEdBQUcsSUFBSSxLQUFLLEVBQUU7VUFDaEIwRSxFQUFFLENBQUNWLFlBQVksQ0FBQyxPQUFPLEVBQUVzZSxhQUFhLENBQUNsZ0IsQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztRQUNqRDtRQUNBMEUsRUFBRSxDQUFDVixZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFc2lCLGFBQWEsQ0FBQ2xnQixDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDO1FBQ3JEdWlCLFVBQVUsQ0FBQ2hqQixXQUFXLENBQUNtRixFQUFFLENBQUM7TUFDNUI7SUFDRjs7SUFFQTtJQUNBeEksMERBQWlCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUN6Q0EsMERBQWlCLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQzs7SUFFL0M7SUFDQVksK0RBQWdCLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRXlGLHlFQUE4QixDQUFDOztJQUV2RDtJQUNBLElBQUlpZ0IsTUFBTSxHQUFHM29CLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHFCQUFxQixDQUFDO0lBQzFEeW9CLE1BQU0sQ0FBQzdtQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQy9DQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QitDLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRyxrQkFBa0I7SUFDM0MsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0o7QUFDTyxTQUFTdWpCLHdCQUF3QkEsQ0FBQSxFQUFHO0VBQ3pDdm1CLDBEQUFpQixDQUFDLFdBQVcsRUFBRSxTQUFTLEVBQUU7SUFDeEM7SUFDQTtJQUNBO0VBQUEsQ0FDRCxDQUFDO0VBQ0Y7RUFDQXdtQixjQUFjLEVBQUU7RUFFaEIsU0FBU0EsY0FBY0EsQ0FBQSxFQUFHO0lBQ3hCLElBQUk5ZixHQUFHLEdBQUcvSSxRQUFRLENBQUNDLGNBQWMsQ0FBQyxTQUFTLENBQUM7SUFDNUM4SSxHQUFHLENBQUNqSCxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQzVDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QitDLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRyxzQkFBc0I7SUFDL0MsQ0FBQyxDQUFDO0VBQ0o7RUFDQTtFQUNBcEMsK0RBQWdCLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTFELG9EQUFTLEVBQUUsSUFBSWdELFNBQVMsRUFBRSxDQUFDdW1CLDRCQUE0QixDQUFDO0FBQ2xGO0FBQ08sU0FBU0MsZ0NBQWdDQSxDQUFBLEVBQUc7RUFDakQsSUFBSTduQixJQUFJLEdBQUdsQixRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUM7RUFDOUMsSUFBSStvQixHQUFHLEdBQUcsSUFBSWpYLHNEQUFZLEVBQUU7RUFDNUIsSUFBSUMsU0FBUyxHQUFHZ1gsR0FBRyxDQUFDaFgsU0FBUyxFQUFFO0VBQy9CO0VBQ0FpWCxhQUFhLEVBQUU7RUFFZixTQUFTQSxhQUFhQSxDQUFBLENBQUU7RUFBQSxFQUFXO0lBQ2pDMWYsdURBQVksQ0FBQyxXQUFXLEVBQUUsVUFBU2xKLEdBQUcsRUFBRTtNQUN0QyxJQUFJb0MsdURBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QixJQUFJO1FBQ0YsSUFBSUEsR0FBRyxDQUFDRSxJQUFJLEtBQUtxWSxTQUFTLEVBQUUsTUFBTSxJQUFJNVMsS0FBSyxDQUFDLG9CQUFvQixDQUFDO1FBQ2pFLElBQUksQ0FBQzZOLEtBQUssQ0FBQ0MsT0FBTyxDQUFDelQsR0FBRyxDQUFDRSxJQUFJLENBQUMsRUFBRSxNQUFNLElBQUl5RixLQUFLLENBQUMsb0JBQW9CLENBQUM7UUFDbkUsSUFBSTNGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDaUksTUFBTSxJQUFJLENBQUMsRUFBRSxNQUFNLElBQUl4QyxLQUFLLENBQUMscUJBQXFCLENBQUM7UUFDaEUsSUFBSSxDQUFDM0QsdURBQWMsQ0FBQ2hDLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixLQUFLLENBQUMsRUFBRSxNQUFNLElBQUk2RixLQUFLLENBQUMsb0JBQW9CLENBQUM7TUFDL0UsQ0FBQyxDQUFDLE9BQU9oRCxLQUFLLEVBQUU7UUFDZFgsNkRBQW9CLENBQUNXLEtBQUssQ0FBQztRQUMzQjtNQUNGO01BQ0FrbUIsYUFBYSxDQUFDN2tCLElBQUksQ0FBQ3lCLEtBQUssQ0FBQ3pGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixLQUFLLENBQUMsQ0FBQztNQUM1Q21LLFFBQVEsRUFBRTtJQUNaLENBQUMsQ0FBQztFQUNKO0VBRUEsU0FBUzRlLGFBQWFBLENBQUNDLFVBQVUsRUFBRTtJQUNqQyxJQUFJLENBQUN0VixLQUFLLENBQUNDLE9BQU8sQ0FBQ3FWLFVBQVUsQ0FBQyxFQUFFLE1BQU0sSUFBSW5qQixLQUFLLENBQUMsb0JBQW9CLENBQUM7SUFDckUsSUFBSW1qQixVQUFVLENBQUMzZ0IsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLElBQUl4QyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ25ELElBQUlvakIsYUFBYSxHQUFHcHBCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGVBQWUsQ0FBQztJQUM1RCxJQUFJb3BCLGlCQUFpQixHQUFHcnBCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG1CQUFtQixDQUFDO0lBQ3BFLElBQUlxcEIsWUFBWSxHQUFHdHBCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGNBQWMsQ0FBQztJQUMxRCxJQUFJc3BCLGVBQWUsR0FBRyxDQUFDO0lBQ3ZCLEtBQUssSUFBSWhoQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc0Z0IsVUFBVSxDQUFDM2dCLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7TUFDMUMsSUFBSWloQixTQUFTLEdBQUdMLFVBQVUsQ0FBQzVnQixDQUFDLENBQUM7TUFDN0IsSUFBSWloQixTQUFTLENBQUNDLFFBQVEsRUFBRTtRQUN0QixJQUFJSixpQkFBaUIsQ0FBQ3ZTLFlBQVksQ0FBQyxRQUFRLENBQUMsRUFBRTtVQUM1Q3VTLGlCQUFpQixDQUFDalosZUFBZSxDQUFDLFFBQVEsQ0FBQztRQUM3QztRQUNBbVosZUFBZSxFQUFFO01BQ25CLENBQUMsTUFBTTtRQUNMLElBQUlILGFBQWEsQ0FBQ3RTLFlBQVksQ0FBQyxRQUFRLENBQUMsRUFBRTtVQUN4Q3NTLGFBQWEsQ0FBQ2haLGVBQWUsQ0FBQyxRQUFRLENBQUM7UUFDekM7TUFDRjtNQUNBc1osT0FBTyxDQUFDRixTQUFTLENBQUM7SUFDcEI7SUFDQSxJQUFJRCxlQUFlLEdBQUcsQ0FBQyxJQUFJRCxZQUFZLENBQUN4UyxZQUFZLENBQUMsUUFBUSxDQUFDLEVBQUU7TUFDOUR3UyxZQUFZLENBQUNsWixlQUFlLENBQUMsUUFBUSxDQUFDO0lBQ3hDO0lBRUEsU0FBU3NaLE9BQU9BLENBQUNucEIsSUFBSSxFQUFFO01BQ3JCLElBQUk7UUFDRndDLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQ3JHLElBQUksQ0FBQztRQUNqQixJQUFJTyxJQUFJLEdBQUdQLElBQUksQ0FBQ08sSUFBSSxHQUFHUCxJQUFJLENBQUNPLElBQUksR0FBRyxNQUFNO1FBQ3pDLElBQUlzSixJQUFJLEdBQUc3SixJQUFJLENBQUM2SixJQUFJLEdBQUc3SixJQUFJLENBQUM2SixJQUFJLEdBQUcsTUFBTTtRQUN6QyxJQUFJNFosSUFBSSxHQUFHempCLElBQUksQ0FBQ2twQixRQUFRLEdBQ3RCenBCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGdCQUFnQixDQUFDLEdBQ3pDRCxRQUFRLENBQUNDLGNBQWMsQ0FBQyxZQUFZLENBQUM7UUFDdkMsSUFBSTBwQixLQUFLLEdBQUdDLFFBQVEsQ0FBQ3JwQixJQUFJLENBQUM7UUFDMUJ5akIsSUFBSSxDQUFDdGUsV0FBVyxDQUFDaWtCLEtBQUssQ0FBQztRQUN2QixJQUFJdFQsS0FBSyxHQUFHc1EsUUFBUSxDQUFDN2xCLElBQUksQ0FBQztRQUMxQixJQUFJK29CLFVBQVUsR0FBR0MsYUFBYSxFQUFFO1FBQ2hDSCxLQUFLLENBQUNqa0IsV0FBVyxDQUFDMlEsS0FBSyxDQUFDO1FBQ3hCc1QsS0FBSyxDQUFDamtCLFdBQVcsQ0FBQ21rQixVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDaFcsS0FBSyxDQUFDQyxPQUFPLENBQUN2VCxJQUFJLENBQUNzSixPQUFPLENBQUMsRUFBRSxNQUFNLElBQUk3RCxLQUFLLENBQUMscUJBQXFCLENBQUM7UUFDeEUsSUFBSXpGLElBQUksQ0FBQ3NKLE9BQU8sQ0FBQ3JCLE1BQU0sR0FBRyxDQUFDLEVBQUUsTUFBTSxJQUFJeEMsS0FBSyxDQUFDekYsSUFBSSxDQUFDTyxJQUFJLEdBQUcsUUFBUSxDQUFDO1FBQ2xFLEtBQUssSUFBSStVLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3RWLElBQUksQ0FBQ3NKLE9BQU8sQ0FBQ3JCLE1BQU0sRUFBRXFOLENBQUMsRUFBRSxFQUFFO1VBQzVDLElBQUkxUCxHQUFHLEdBQUc1RixJQUFJLENBQUNzSixPQUFPLENBQUNnTSxDQUFDLENBQUMsQ0FBQzFQLEdBQUcsR0FBRzVGLElBQUksQ0FBQ3NKLE9BQU8sQ0FBQ2dNLENBQUMsQ0FBQyxDQUFDMVAsR0FBRyxHQUFHLEVBQUU7VUFDeEQsSUFBSWhHLEtBQUssR0FBR0ksSUFBSSxDQUFDc0osT0FBTyxDQUFDZ00sQ0FBQyxDQUFDLENBQUMxVixLQUFLLEdBQUdJLElBQUksQ0FBQ3NKLE9BQU8sQ0FBQ2dNLENBQUMsQ0FBQyxDQUFDMVYsS0FBSyxHQUFHLE1BQU07VUFDbEUsSUFBSTBKLE9BQU8sR0FBR2tnQixVQUFVLENBQUM1akIsR0FBRyxFQUFFaEcsS0FBSyxDQUFDO1VBQ3BDMHBCLFVBQVUsQ0FBQ25rQixXQUFXLENBQUNtRSxPQUFPLENBQUM7UUFDakM7UUFDQTtNQUNGLENBQUMsQ0FBQyxPQUFPN0csS0FBSyxFQUFFO1FBQ2RYLDZEQUFvQixDQUFDVyxLQUFLLENBQUM7UUFDM0I7TUFDRjtNQUVBLFNBQVM0bUIsUUFBUUEsQ0FBQ3JwQixJQUFJLEVBQUU7UUFDdEIsSUFBSW9wQixLQUFLLEdBQUczcEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEtBQUssQ0FBQztRQUN6Q3VrQixLQUFLLENBQUN4ZixZQUFZLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQztRQUN4QyxJQUFJLENBQUM1SixJQUFJLENBQUNrcEIsUUFBUSxFQUFFRSxLQUFLLENBQUNyYixTQUFTLENBQUNqRCxHQUFHLENBQUMsV0FBVyxDQUFDO1FBQ3BELE9BQU9zZSxLQUFLO01BQ2Q7TUFFQSxTQUFTaEQsUUFBUUEsQ0FBQzdsQixJQUFJLEVBQUU7UUFDdEIsSUFBSXVWLEtBQUssR0FBR3JXLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7UUFDM0NpUixLQUFLLENBQUNsTSxZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztRQUM1Q2tNLEtBQUssQ0FBQ2xNLFlBQVksQ0FBQyxlQUFlLEVBQUVDLElBQUksQ0FBQztRQUN6Q2lNLEtBQUssQ0FBQ2xNLFlBQVksQ0FBQyxlQUFlLEVBQUVySixJQUFJLENBQUM7UUFDekN1VixLQUFLLENBQUM1VSxTQUFTLEdBQUdYLElBQUk7UUFDdEIsT0FBT3VWLEtBQUs7TUFDZDtNQUVBLFNBQVN5VCxhQUFhQSxDQUFBLEVBQUc7UUFDdkIsSUFBSUUsV0FBVyxHQUFHaHFCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDL0M0a0IsV0FBVyxDQUFDN2YsWUFBWSxDQUFDLE9BQU8sRUFBRSxnQ0FBZ0MsQ0FBQztRQUNuRTZmLFdBQVcsQ0FBQzdmLFlBQVksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDO1FBQ3ZDLE9BQU82ZixXQUFXO01BQ3BCO01BRUEsU0FBU0QsVUFBVUEsQ0FBQzVqQixHQUFHLEVBQUVoRyxLQUFLLEVBQUU7UUFDOUIsSUFBSTZWLEdBQUcsR0FBR2hXLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDdkMsSUFBSWlSLEtBQUssR0FBR3JXLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7UUFDM0NpUixLQUFLLENBQUNsTSxZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztRQUMxQzZMLEdBQUcsQ0FBQ3RRLFdBQVcsQ0FBQzJRLEtBQUssQ0FBQztRQUN0QixJQUFJMEIsS0FBSyxHQUFHL1gsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE9BQU8sQ0FBQztRQUMzQzJTLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxNQUFNLEVBQUU1SixJQUFJLENBQUNrcEIsUUFBUSxHQUFHLFVBQVUsR0FBRyxPQUFPLENBQUM7UUFDaEUxUixLQUFLLENBQUM1TixZQUFZLENBQUMsT0FBTyxFQUFFNUosSUFBSSxDQUFDa3BCLFFBQVEsR0FBRyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQzdEMVIsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLE1BQU0sRUFBRUMsSUFBSSxDQUFDO1FBQ2hDMk4sS0FBSyxDQUFDNU4sWUFBWSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7UUFDaEM0TixLQUFLLENBQUM1TixZQUFZLENBQUMsT0FBTyxFQUFFaEUsR0FBRyxDQUFDO1FBQ2hDNFIsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLGVBQWUsRUFBRWhLLEtBQUssQ0FBQztRQUMxQyxJQUFJNFgsS0FBSyxDQUFDOU0sWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLE9BQU8sSUFBSThNLEtBQUssQ0FBQzVYLEtBQUssS0FBSyxJQUFJLEVBQ2hFNFgsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7UUFDbkNrTSxLQUFLLENBQUMzUSxXQUFXLENBQUNxUyxLQUFLLENBQUM7UUFDeEIsSUFBSWhZLElBQUksR0FBR0MsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztRQUN6Q3JGLElBQUksQ0FBQzBCLFNBQVMsR0FBR3RCLEtBQUs7UUFDdEJrVyxLQUFLLENBQUMzUSxXQUFXLENBQUMzRixJQUFJLENBQUM7UUFDdkIsT0FBT2lXLEdBQUc7TUFDWjtJQUNGO0VBQ0Y7RUFFQSxTQUFTMUwsUUFBUUEsQ0FBQSxFQUFHO0lBQ2xCO0lBQ0F0SyxRQUFRLENBQUNzSSxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQ3dHLE9BQU8sQ0FBQyxVQUFBa0gsR0FBRyxFQUFJO01BQ3JEQSxHQUFHLENBQUMxTixnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDd0csT0FBTyxDQUFDLFVBQUNpSixLQUFLLEVBQUU1SCxLQUFLLEVBQUs7UUFDcEUsSUFBSTRILEtBQUssQ0FBQ2pYLElBQUksS0FBSyxVQUFVLElBQUlxUCxLQUFLLEtBQUssQ0FBQyxFQUFFO1VBQzVDNEgsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUM7UUFDbkM7TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFDRjtJQUNBNkgsU0FBUyxDQUFDTSxhQUFhLEVBQUU7SUFDekI7SUFDQTJYLGFBQWEsRUFBRTtJQUVmLFNBQVNBLGFBQWFBLENBQUEsRUFBRztNQUN2QixJQUFJQyxLQUFLLEdBQUdocEIsSUFBSSxDQUFDb0gsZ0JBQWdCLENBQUMsWUFBWSxDQUFDO01BQy9DLElBQUk0aEIsS0FBSyxDQUFDMWhCLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDcEIsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO01BQ3RDO01BQ0EsS0FBSyxJQUFJNlAsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcVUsS0FBSyxDQUFDMWhCLE1BQU0sRUFBRXFOLENBQUMsRUFBRSxFQUFFO1FBQ3JDLElBQUltTyxJQUFJLEdBQUdrRyxLQUFLLENBQUNyVSxDQUFDLENBQUM7UUFDbkJzVSxVQUFVLENBQUNuRyxJQUFJLENBQUM7TUFDbEI7TUFFQSxTQUFTbUcsVUFBVUEsQ0FBQ25HLElBQUksRUFBRTtRQUN4QixJQUFJb0csTUFBTSxHQUFHcEcsSUFBSSxDQUFDMWIsZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7UUFDdkQsSUFBSThoQixNQUFNLENBQUM1aEIsTUFBTSxHQUFHLENBQUMsRUFBRTtVQUNyQjtRQUNGO1FBQ0EsS0FBSyxJQUFJRCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2aEIsTUFBTSxDQUFDNWhCLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7VUFDdEMsSUFBSW9PLEtBQUssR0FBR3lULE1BQU0sQ0FBQzdoQixDQUFDLENBQUM7VUFDckIsSUFBSWdmLElBQUksR0FBR2xsQixpRUFBd0I7VUFDbkNrbEIsSUFBSSxDQUFDMVEsZUFBZSxDQUFDRixLQUFLLENBQUM7VUFDM0JBLEtBQUssQ0FBQzdVLGdCQUFnQixDQUFDLFFBQVEsRUFBRXlsQixJQUFJLENBQUMvUSxnQkFBZ0IsQ0FBQzRULE1BQU0sQ0FBQyxDQUFDO1FBQ2pFO01BQ0Y7SUFDRjtJQUNBO0lBQ0FyWCxVQUFVLEVBQUU7SUFFWixTQUFTQSxVQUFVQSxDQUFBLEVBQUc7TUFDcEIsSUFBSXNYLE9BQU8sR0FBR3JxQixRQUFRLENBQUNDLGNBQWMsQ0FBQyxlQUFlLENBQUM7TUFDdEQsSUFBSXFxQixJQUFJLEdBQUdwcEIsSUFBSSxDQUFDb0gsZ0JBQWdCLENBQUMsZ0NBQWdDLENBQUM7TUFDbEU7TUFDQWlpQixZQUFZLEVBQUU7TUFFZCxTQUFTQSxZQUFZQSxDQUFBLEVBQUc7UUFDdEIsSUFBSUQsSUFBSSxDQUFDOWhCLE1BQU0sR0FBRyxDQUFDLEVBQUU7VUFDbkI7UUFDRjtRQUNBLEtBQUssSUFBSUQsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHK2hCLElBQUksQ0FBQzloQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1VBQ3BDLElBQUlpaUIsR0FBRyxHQUFHRixJQUFJLENBQUMvaEIsQ0FBQyxDQUFDO1VBQ2pCaWlCLEdBQUcsQ0FBQzFvQixnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsWUFBVztZQUN4QzJvQixXQUFXLENBQUMsSUFBSSxDQUFDO1lBQ2pCLElBQUlKLE9BQU8sQ0FBQ2piLE9BQU8sRUFBRTtjQUNuQmliLE9BQU8sQ0FBQ2piLE9BQU8sR0FBRyxLQUFLO1lBQ3pCO1VBQ0YsQ0FBQyxDQUFDO1FBQ0o7TUFDRjtNQUNBO01BQ0FzYixjQUFjLEVBQUU7TUFFaEIsU0FBU0EsY0FBY0EsQ0FBQSxFQUFHO1FBQ3hCLElBQUksQ0FBQ0wsT0FBTyxFQUFFO1VBQ1o7UUFDRjtRQUNBLElBQUlDLElBQUksQ0FBQzloQixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQ25CO1FBQ0Y7UUFDQTZoQixPQUFPLENBQUN2b0IsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFlBQVc7VUFDNUMsSUFBSSxJQUFJLENBQUNzTixPQUFPLEVBQUU7WUFDaEI7WUFDQXViLGFBQWEsQ0FBQ0wsSUFBSSxFQUFFLElBQUksQ0FBQztVQUMzQixDQUFDLE1BQU07WUFDTDtZQUNBSyxhQUFhLENBQUNMLElBQUksRUFBRSxLQUFLLENBQUM7VUFDNUI7UUFDRixDQUFDLENBQUM7UUFFRixTQUFTSyxhQUFhQSxDQUFDNVgsVUFBVSxFQUFFRCxHQUFHLEVBQUU7VUFDdEMsSUFBSSxDQUFDQyxVQUFVLElBQUlBLFVBQVUsQ0FBQ3ZLLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDeEMsTUFBTSxJQUFJeEMsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1VBQ3RDO1VBQ0EsS0FBSyxJQUFJdUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHd0ssVUFBVSxDQUFDdkssTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtZQUMxQyxJQUFJeUssUUFBUSxHQUFHRCxVQUFVLENBQUN4SyxDQUFDLENBQUM7WUFDNUIsSUFBSXVLLEdBQUcsSUFBSUUsUUFBUSxDQUFDNUQsT0FBTyxFQUFFO2NBQzNCO1lBQUEsQ0FDRCxNQUFNO2NBQ0w0RCxRQUFRLENBQUM1RCxPQUFPLEdBQUcwRCxHQUFHO2NBQ3RCMlgsV0FBVyxDQUFDelgsUUFBUSxDQUFDO1lBQ3ZCO1VBQ0Y7UUFDRjtNQUNGO01BQ0E7TUFDQSxTQUFTeVgsV0FBV0EsQ0FBQ3pYLFFBQVEsRUFBRTtRQUM3QixJQUFJNFgsVUFBVSxHQUFHdm9CLGlGQUF3QyxDQUFDMlEsUUFBUSxDQUFDLENBQUMxRSxTQUFTO1FBQzdFLElBQUlzYyxVQUFVLENBQUNoVixRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7VUFDbkNnVixVQUFVLENBQUNDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztVQUNyQ0QsVUFBVSxDQUFDQyxNQUFNLENBQUMsaUJBQWlCLENBQUM7UUFDdEMsQ0FBQyxNQUFNO1VBQ0xELFVBQVUsQ0FBQ0MsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBQ3JDO01BQ0Y7SUFDRjtJQUNBO0lBQ0FDLGFBQWEsRUFBRTtJQUVmLFNBQVNBLGFBQWFBLENBQUEsRUFBRztNQUN2QixJQUFJL2hCLEdBQUcsR0FBRy9JLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQztNQUMvQyxJQUFJUyxHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHFDQUFxQyxDQUFDLENBQUNDLEtBQUs7TUFDN0UsSUFBSTRxQixHQUFHLEdBQUcsNERBQTREO01BQ3RFaGlCLEdBQUcsQ0FBQ2pILGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7UUFDNUNBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO1FBQ3RCLElBQUksQ0FBQ2dRLFNBQVMsQ0FBQ2tCLFNBQVMsRUFBRSxFQUFFO1VBQzFCO1FBQ0Y7UUFDQWpSLEtBQUssQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFlBQVc7VUFDcEQsSUFBSTtZQUNGLElBQUlxQixRQUFRLEdBQUcwZ0IsV0FBVyxFQUFFO1lBQzVCLElBQUk2RyxPQUFPLEdBQUdockIsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUNBQXVDLENBQUMsQ0FBQ0MsS0FBSztZQUNuRjtZQUNBWix3REFBUyxDQUFDeXJCLE9BQU8sRUFBRXZuQixRQUFRLEVBQUV3bkIsZUFBZSxDQUFDO1VBQy9DLENBQUMsQ0FBQyxPQUFPam9CLEtBQUssRUFBRTtZQUNkWCw2REFBb0IsQ0FBQ1csS0FBSyxDQUFDO1lBQzNCO1VBQ0Y7UUFDRixDQUFDLENBQUM7TUFDSixDQUFDLENBQUM7TUFFRixTQUFTbWhCLFdBQVdBLENBQUEsRUFBRztRQUNyQixPQUFPOWYsSUFBSSxDQUFDQyxTQUFTLENBQUM7VUFDcEJvaUIsWUFBWSxFQUFFd0UsT0FBTyxFQUFFO1VBQ3ZCNUUsUUFBUSxFQUFFNkUsT0FBTyxFQUFFLENBQUM5RSxJQUFJO1VBQ3hCRyxZQUFZLEVBQUUyRSxPQUFPLEVBQUUsQ0FBQzVFO1FBQzFCLENBQUMsQ0FBQztNQUNKO01BRUEsU0FBUzJFLE9BQU9BLENBQUEsRUFBRztRQUNqQixJQUFJcHFCLElBQUksR0FBR2QsUUFBUSxDQUFDQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUNFLEtBQUs7UUFDcEQsSUFBSSxDQUFDVyxJQUFJLEVBQUUsTUFBTSxJQUFJa0YsS0FBSyxDQUFDLG1CQUFtQixDQUFDO1FBQy9DLE9BQU9sRixJQUFJO01BQ2I7TUFFQSxTQUFTcXFCLE9BQU9BLENBQUEsRUFBRztRQUNqQixJQUFJO1VBQ0YsSUFBSUMsRUFBRSxHQUFHcHJCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDcUksZ0JBQWdCLENBQUMsbUJBQW1CLENBQUM7VUFDcEYsSUFBSStpQixFQUFFLEdBQUdyckIsUUFBUSxDQUFDQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ3FJLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDO1VBQzNGLElBQUlnakIsYUFBYSxHQUFHQyxnQkFBZ0IsRUFBRTtVQUN0QyxJQUFJRCxhQUFhLENBQUM5aUIsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLElBQUl4QyxLQUFLLENBQUMsYUFBYSxDQUFDO1VBQzVELElBQUl3bEIsU0FBUyxHQUFHQyxZQUFZLENBQUNILGFBQWEsQ0FBQztVQUMzQyxPQUFPO1lBQ0xqRixJQUFJLEVBQUVxRixVQUFVLENBQUNGLFNBQVMsQ0FBQyxDQUFDbkYsSUFBSTtZQUNoQ0UsSUFBSSxFQUFFbUYsVUFBVSxDQUFDRixTQUFTLENBQUMsQ0FBQ2pGO1VBQzlCLENBQUM7UUFDSCxDQUFDLENBQUMsT0FBT3ZqQixLQUFLLEVBQUU7VUFDZCxNQUFNLElBQUlnRCxLQUFLLENBQUNoRCxLQUFLLENBQUM7UUFDeEI7UUFFQSxTQUFTdW9CLGdCQUFnQkEsQ0FBQSxFQUFHO1VBQzFCLElBQUl0RSxLQUFLLEdBQUcsRUFBRTtVQUNkMEUsZUFBZSxDQUFDUCxFQUFFLEVBQUVuRSxLQUFLLENBQUM7VUFDMUIwRSxlQUFlLENBQUNOLEVBQUUsRUFBRXBFLEtBQUssQ0FBQztVQUMxQixPQUFPQSxLQUFLO1FBQ2Q7UUFFQSxTQUFTMEUsZUFBZUEsQ0FBQ0MsTUFBTSxFQUFFM0UsS0FBSyxFQUFFO1VBQ3RDLEtBQUssSUFBSTFlLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3FqQixNQUFNLENBQUNwakIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtZQUN0QyxJQUFJcWpCLE1BQU0sQ0FBQ3JqQixDQUFDLENBQUMsQ0FBQzZHLE9BQU8sRUFDbkI2WCxLQUFLLENBQUM1WCxJQUFJLENBQUN1YyxNQUFNLENBQUNyakIsQ0FBQyxDQUFDLENBQUM7VUFDekI7UUFDRjtRQUVBLFNBQVNrakIsWUFBWUEsQ0FBQ0csTUFBTSxFQUFFO1VBQzVCLElBQUkzRSxLQUFLLEdBQUcsRUFBRTtVQUNkLEtBQUssSUFBSTFlLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3FqQixNQUFNLENBQUNwakIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtZQUN0QyxJQUFJZ0ssR0FBRyxHQUFHcVosTUFBTSxDQUFDcmpCLENBQUMsQ0FBQztZQUNuQjBlLEtBQUssQ0FBQzVYLElBQUksQ0FBQztjQUNUdk8sSUFBSSxFQUFFeVIsR0FBRyxDQUFDelIsSUFBSTtjQUNkWCxLQUFLLEVBQUVvUyxHQUFHLENBQUNwUyxLQUFLO2NBQ2hCb21CLElBQUksRUFBRWhVLEdBQUcsQ0FBQ3RILFlBQVksQ0FBQyxlQUFlO1lBQ3hDLENBQUMsQ0FBQztVQUNKO1VBQ0EsT0FBT2djLEtBQUs7UUFDZDtRQUVBLFNBQVN5RSxVQUFVQSxDQUFDRyxRQUFRLEVBQUU7VUFDNUIsSUFBSTNhLE1BQU0sR0FBRyxDQUFDLENBQUM7VUFDZixJQUFJcVYsSUFBSSxHQUFHLEVBQUU7VUFDYixJQUFJdUYsT0FBTyxHQUFHLEVBQUU7VUFDaEIsS0FBSyxJQUFJdmpCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3NqQixRQUFRLENBQUNyakIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtZQUN4QyxJQUFJc2pCLFFBQVEsQ0FBQ3RqQixDQUFDLENBQUMsQ0FBQ3pILElBQUksS0FBS2dyQixPQUFPLEVBQUU7Y0FDaEM1YSxNQUFNLENBQUMyYSxRQUFRLENBQUN0akIsQ0FBQyxDQUFDLENBQUN6SCxJQUFJLENBQUMsQ0FBQ3VPLElBQUksQ0FBQ3djLFFBQVEsQ0FBQ3RqQixDQUFDLENBQUMsQ0FBQ3BJLEtBQUssQ0FBQztZQUNsRCxDQUFDLE1BQU07Y0FDTCtRLE1BQU0sQ0FBQzJhLFFBQVEsQ0FBQ3RqQixDQUFDLENBQUMsQ0FBQ3pILElBQUksQ0FBQyxHQUFHLENBQUMrcUIsUUFBUSxDQUFDdGpCLENBQUMsQ0FBQyxDQUFDcEksS0FBSyxDQUFDO2NBQzlDMnJCLE9BQU8sR0FBR0QsUUFBUSxDQUFDdGpCLENBQUMsQ0FBQyxDQUFDekgsSUFBSTtZQUM1QjtZQUNBeWxCLElBQUksQ0FBQ2xYLElBQUksQ0FBQ3djLFFBQVEsQ0FBQ3RqQixDQUFDLENBQUMsQ0FBQ2dlLElBQUksQ0FBQztVQUM3QjtVQUNBLE9BQU87WUFDTEYsSUFBSSxFQUFFaGlCLElBQUksQ0FBQ0MsU0FBUyxDQUFDNE0sTUFBTSxDQUFDO1lBQzVCcVYsSUFBSSxFQUFFd0YsU0FBUyxDQUFDeEYsSUFBSTtVQUN0QixDQUFDO1VBRUQsU0FBU3dGLFNBQVNBLENBQUM5RSxLQUFLLEVBQUU7WUFDeEIsSUFBSS9WLE1BQU0sR0FBRyxFQUFFO1lBQ2YsS0FBSyxJQUFJM0ksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHMGUsS0FBSyxDQUFDemUsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtjQUNyQzJJLE1BQU0sSUFBSStWLEtBQUssQ0FBQzFlLENBQUMsQ0FBQyxDQUFDMEwsUUFBUSxFQUFFO2NBQzdCLElBQUkxTCxDQUFDLEdBQUcwZSxLQUFLLENBQUN6ZSxNQUFNLEdBQUcsQ0FBQyxFQUN0QjBJLE1BQU0sSUFBSSxJQUFJO1lBQ2xCO1lBQ0EsT0FBT0EsTUFBTTtVQUNmO1FBQ0Y7TUFDRjtNQUVBLFNBQVMrWixlQUFlQSxDQUFBLEVBQUc7UUFDekI7UUFDQWhwQixLQUFLLENBQUNnUixZQUFZLENBQUM4WCxHQUFHLEVBQUU7VUFDdEJocUIsTUFBTSxFQUFFLFNBQVM7VUFDakI0bUIsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO1FBQ0YxbEIsS0FBSyxDQUFDK3BCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLGtCQUFrQixFQUFFLE9BQU8sRUFBRSxZQUFXO1VBQ3BEbG5CLE1BQU0sQ0FBQ3FDLFFBQVEsQ0FBQy9CLElBQUksR0FBRzNFLEdBQUc7UUFDNUIsQ0FBQyxDQUFDO01BQ0o7SUFDRjtFQUNGO0FBQ0Y7QUFFTyxTQUFTNkIsU0FBU0EsQ0FBQSxFQUFHLENBQUM7QUFDN0I7QUFDQUEsU0FBUyxDQUFDM0IsU0FBUyxDQUFDOG1CLDZCQUE2QixHQUFHLFVBQVNybkIsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLEVBQUU7RUFDdEYrb0IsVUFBVSxFQUFFO0VBRVosU0FBU0EsVUFBVUEsQ0FBQSxFQUFHO0lBQ3BCLElBQUl4ckIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDQyxLQUFLO0lBQ3RFWix3REFBUyxDQUFDbUIsR0FBRyxFQUFFLEVBQUUsRUFBRXlyQixXQUFXLENBQUM7RUFDakM7RUFFQSxTQUFTQSxXQUFXQSxDQUFDQyxRQUFRLEVBQUU7SUFDN0IsSUFBSTtNQUNGLElBQUk5bEIsS0FBSyxHQUFHdEcsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO01BQ2hELElBQUksQ0FBQ21zQixRQUFRLENBQUM3ckIsSUFBSSxFQUFFLE1BQU0sSUFBSXlGLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQztNQUN2RCxJQUFJMlUsU0FBUyxHQUFHdFksOERBQXFCLENBQUNpRSxLQUFLLENBQUM7TUFDNUMrbEIsVUFBVSxDQUFDaHNCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDO01BQ3BCK3JCLFFBQVEsQ0FBQ0YsUUFBUSxDQUFDN3JCLElBQUksQ0FBQztNQUN2QmdzQixRQUFRLENBQUNsc0IsR0FBRyxFQUFFK3JCLFFBQVEsQ0FBQzdyQixJQUFJLENBQUM7TUFDNUJvakIsc0RBQWUsQ0FBQ3RqQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRTVELG9EQUFTLEVBQUUsSUFBSWdELFNBQVMsRUFBRSxDQUFDbWxCLDZCQUE2QixFQUFFLFVBQVNubkIsSUFBSSxFQUFFO1FBQ2xILElBQUlBLElBQUksQ0FBQytsQixRQUFRLEtBQUssRUFBRSxFQUN0Qi9sQixJQUFJLENBQUMrbEIsUUFBUSxHQUFHLElBQUk7TUFDeEIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLE9BQU90akIsS0FBSyxFQUFFO01BQ2QsTUFBTSxJQUFJZ0QsS0FBSyxDQUFDaEQsS0FBSyxDQUFDO0lBQ3hCO0lBRUEsU0FBU3FwQixVQUFVQSxDQUFDOXJCLElBQUksRUFBRTtNQUN4QixJQUFJaXNCLE9BQU8sR0FBR2xtQixLQUFLLENBQUNwRyxhQUFhLENBQUMsU0FBUyxDQUFDO01BQzVDLElBQUksQ0FBQ3NzQixPQUFPLEVBQUU7TUFDZEEsT0FBTyxDQUFDcmlCLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO01BQ2xDLElBQUk1SixJQUFJLENBQUNrc0IsVUFBVSxLQUFLN1QsU0FBUyxFQUFFO1FBQ2pDNFQsT0FBTyxDQUFDdHNCLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDdUIsU0FBUyxHQUFHbEIsSUFBSSxDQUFDa3NCLFVBQVU7UUFDcEVELE9BQU8sQ0FBQ3BjLGVBQWUsQ0FBQyxRQUFRLENBQUM7TUFDbkM7SUFDRjtJQUVBLFNBQVNrYyxRQUFRQSxDQUFDL3JCLElBQUksRUFBRTtNQUN0QjhCLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztNQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE9BQU8sQ0FBQztNQUN2Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztNQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztNQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztNQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztNQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztNQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztNQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztNQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE9BQU8sQ0FBQztNQUN2Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLFNBQVMsQ0FBQztNQUN6Q3RZLHFFQUE0QixDQUFDOUIsSUFBSSxFQUFFb2EsU0FBUyxDQUFDO01BQzdDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO0lBQ3RDO0lBRUEsU0FBUzRSLFFBQVFBLENBQUMzbUIsT0FBTyxFQUFFOG1CLFNBQVMsRUFBRTtNQUNwQyxJQUFJdmtCLEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDeENvRyxLQUFLLENBQUM2RCxZQUFZLENBQUMsZUFBZSxFQUFFLEVBQUUsQ0FBQztNQUN2Q2hDLEtBQUssQ0FBQzdILFNBQVMsR0FBRyxFQUFFO01BQ3BCLElBQUlDLElBQUksR0FBR3FGLE9BQU8sQ0FBQ3JGLElBQUksQ0FBQ29zQixPQUFPO01BQy9CLElBQUksQ0FBQ3BzQixJQUFJLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDNUIsSUFBSThSLEdBQUcsR0FBR2pZLGlFQUF3QixDQUFDc1ksU0FBUyxDQUFDclMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUNFLE1BQU0sQ0FBQztRQUMzRUwsS0FBSyxDQUFDekMsV0FBVyxDQUFDNFUsR0FBRyxDQUFDO1FBQ3RCO01BQ0Y7TUFDQSxLQUFLLElBQUkvUixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3BDLElBQUl3UixFQUFFLEdBQUcvWixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO1FBQ3JDK0MsS0FBSyxDQUFDekMsV0FBVyxDQUFDcVUsRUFBRSxDQUFDO1FBQ3JCLElBQUl3QixRQUFRLEdBQUd2YixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO1FBQzNDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDNlYsUUFBUSxDQUFDO1FBQ3hCQSxRQUFRLENBQUM5WixTQUFTLEdBQUc4RyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUNrQyxNQUFNLENBQUN2SCxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUl1SCxNQUFNLENBQUN0SCxRQUFRLENBQUM7UUFDeEVkLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNxa0IsUUFBUSxDQUFDO1FBQ3pDdnFCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNza0IsUUFBUSxDQUFDO1FBQ3pDeHFCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN1a0IsT0FBTyxDQUFDO1FBQ3hDenFCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNhLE9BQU8sQ0FBQztRQUN4Qy9HLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUM2QixJQUFJLENBQUM7UUFDckMvSCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDd2tCLFdBQVcsQ0FBQztRQUM1QzFxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDeWtCLFdBQVcsQ0FBQztRQUM1QzNxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDMGtCLE1BQU0sQ0FBQztRQUN2QzVxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDMmtCLEdBQUcsQ0FBQztRQUNwQzdxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDNGtCLE1BQU0sQ0FBQztRQUN2QzlxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDNmtCLEtBQUssQ0FBQztRQUN0Qy9xQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDOGtCLGFBQWEsQ0FBQztRQUM5Q2hyQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDK2tCLFdBQVcsQ0FBQztRQUM1Q2pyQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDZ2xCLFlBQVksQ0FBQztRQUM3QyxJQUFJblEsUUFBUSxHQUFHL2Esd0VBQStCLENBQUNxcUIsU0FBUyxFQUFFLE9BQU8sQ0FBQztRQUNsRSxJQUFJYyxRQUFRLEdBQUduckIsdUVBQThCLENBQUMsSUFBSSxFQUFFK2EsUUFBUSxFQUFFL1ksSUFBSSxDQUFDeUIsS0FBSyxDQUFDdkYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNrbEIsV0FBVyxDQUFDLENBQUM7UUFDOUZwckIsOEVBQXFDLENBQUNtckIsUUFBUSxFQUFFelQsRUFBRSxDQUFDO1FBQ25EMVgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ21sQixXQUFXLENBQUM7UUFDNUM7TUFDRjtJQUNGO0VBQ0Y7QUFDRixDQUFDO0FBQ0Q7QUFDQW5yQixTQUFTLENBQUMzQixTQUFTLENBQUNpbkIsMkJBQTJCLEdBQUcsVUFBU3huQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtFQUNwRixJQUFJO0lBQ0ZncEIsV0FBVyxDQUFDOXJCLEdBQUcsQ0FBQztFQUNsQixDQUFDLENBQUMsT0FBTzJDLEtBQUssRUFBRTtJQUNkLE1BQU0sSUFBSWdELEtBQUssQ0FBQ2hELEtBQUssQ0FBQztFQUN4QjtFQUVBLFNBQVNtcEIsV0FBV0EsQ0FBQzlyQixHQUFHLEVBQUU7SUFDeEIsSUFBSWlHLEtBQUssR0FBR3RHLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQztJQUNoRCxJQUFJLENBQUNJLEdBQUcsQ0FBQ0UsSUFBSSxFQUFFLE1BQU0sSUFBSXlGLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztJQUNqRCxJQUFJMlUsU0FBUyxHQUFHdFksOERBQXFCLENBQUNpRSxLQUFLLENBQUM7SUFDNUNnbUIsUUFBUSxFQUFFO0lBQ1ZDLFFBQVEsQ0FBQ2xzQixHQUFHLENBQUM7SUFDYnNqQixzREFBZSxDQUFDdGpCLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFNUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUNzbEIsMkJBQTJCLENBQUM7SUFFbEcsU0FBU3lFLFFBQVFBLENBQUEsRUFBRztNQUNsQmpxQiw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7TUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7TUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxRQUFRLENBQUM7TUFDeEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7SUFDdEM7SUFFQSxTQUFTNFIsUUFBUUEsQ0FBQ2xzQixHQUFHLEVBQUU7TUFDckIsSUFBSThILEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDeENpSSxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtNQUNwQixJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDb3RCLFFBQVE7TUFDNUIsSUFBSSxDQUFDcHRCLElBQUksSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtRQUM1QixJQUFJOFIsR0FBRyxHQUFHalksaUVBQXdCLENBQUNzWSxTQUFTLENBQUNyUyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsTUFBTSxDQUFDO1FBQzNFTCxLQUFLLENBQUN6QyxXQUFXLENBQUM0VSxHQUFHLENBQUM7UUFDdEI7TUFDRjtNQUNBLEtBQUssSUFBSS9SLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2hJLElBQUksQ0FBQ2lJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsSUFBSXdSLEVBQUUsR0FBRy9aLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFDckMrQyxLQUFLLENBQUN6QyxXQUFXLENBQUNxVSxFQUFFLENBQUM7UUFDckIxWCxrRUFBeUIsQ0FBQzBYLEVBQUUsRUFBRXhSLENBQUMsRUFBRXJGLFVBQVUsRUFBRUMsUUFBUSxDQUFDO1FBQ3REZCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDbWUsWUFBWSxDQUFDO1FBQzdDcmtCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNxbEIsa0JBQWtCLENBQUM7UUFDbkR2ckIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3NsQixTQUFTLENBQUM7UUFDMUN4ckIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3VsQixVQUFVLENBQUM7UUFDM0N6ckIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3dsQixRQUFRLENBQUM7UUFDekMxckIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUVpVSxPQUFPLENBQUN6dEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNrZSxVQUFVLENBQUMsQ0FBQztNQUN0RDtNQUVBLFNBQVN1SCxPQUFPQSxDQUFDaFcsRUFBRSxFQUFFO1FBQ25CLElBQUlBLEVBQUUsS0FBS1ksU0FBUyxFQUFFLE1BQU0sSUFBSTVTLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQztRQUN4RSxJQUFJc2UsSUFBSSxHQUFHdGtCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7UUFDdENrZixJQUFJLENBQUM3aUIsU0FBUyxHQUFHLE1BQU07UUFDdkI2aUIsSUFBSSxDQUFDbmEsWUFBWSxDQUFDLGlCQUFpQixFQUFFNk4sRUFBRSxDQUFDO1FBQ3hDc00sSUFBSSxDQUFDbmEsWUFBWSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUM7UUFDdkNtYSxJQUFJLENBQUN4aUIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtVQUM3Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7VUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMseUJBQXlCLENBQUMsQ0FBQ0MsS0FBSyxHQUFHLEdBQUcsR0FBRzZYLEVBQUU7VUFDNUUzViw2REFBb0IsQ0FBQzNCLEdBQUcsRUFBRTJCLDZEQUFvQixFQUFFLENBQUM7UUFDbkQsQ0FBQyxDQUFDO1FBQ0YsT0FBT2lpQixJQUFJO01BQ2I7SUFDRjtFQUNGO0FBQ0YsQ0FBQztBQUNEO0FBQ0EvaEIsU0FBUyxDQUFDM0IsU0FBUyxDQUFDbW5CLHNCQUFzQixHQUFHLFVBQVMxbkIsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLEVBQUU7RUFDL0UsSUFBSTtJQUNGZ3BCLFdBQVcsQ0FBQzlyQixHQUFHLENBQUM7RUFDbEIsQ0FBQyxDQUFDLE9BQU8yQyxLQUFLLEVBQUU7SUFDZCxNQUFNLElBQUlnRCxLQUFLLENBQUNoRCxLQUFLLENBQUM7RUFDeEI7RUFFQSxTQUFTbXBCLFdBQVdBLENBQUM5ckIsR0FBRyxFQUFFO0lBQ3hCLElBQUlpRyxLQUFLLEdBQUd0RyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7SUFDaEQsSUFBSSxDQUFDSSxHQUFHLENBQUNFLElBQUksRUFBRSxNQUFNLElBQUl5RixLQUFLLENBQUMsaUJBQWlCLENBQUM7SUFDakQsSUFBSTJVLFNBQVMsR0FBR3RZLDhEQUFxQixDQUFDaUUsS0FBSyxDQUFDO0lBQzVDLElBQUkybkIsUUFBUSxHQUFHNXJCLGtFQUF5QixDQUFDLEtBQUssQ0FBQztJQUMvQ3NZLFNBQVMsR0FBRzJLLElBQUksS0FBSyxPQUFPLEdBQUc0SSxhQUFhLEVBQUUsR0FBRzVCLFFBQVEsRUFBRTtJQUMzRDtJQUNBQyxRQUFRLENBQUNsc0IsR0FBRyxDQUFDO0lBQ2IsSUFBSWlsQixJQUFJLEtBQUssU0FBUyxFQUFFNkksV0FBVyxDQUFDRixRQUFRLENBQUM7SUFDN0N0SyxzREFBZSxDQUFDdGpCLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFNUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUN3bEIsc0JBQXNCLENBQUM7SUFFN0YsU0FBU3FHLGNBQWNBLENBQUEsRUFBRztNQUN4QixJQUFJN2IsR0FBRyxHQUFHdlMsUUFBUSxDQUFDRSxhQUFhLENBQUMsOEJBQThCLENBQUM7TUFDaEUsSUFBSSxDQUFDcVMsR0FBRyxFQUFFO01BQ1YsSUFBSTdSLEdBQUcsR0FBRzZSLEdBQUcsQ0FBQ3BTLEtBQUs7TUFDbkIsSUFBSSxDQUFDTyxHQUFHLEVBQUU7TUFDVixJQUFJK0MsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQzFDLENBQUMsQ0FBQzVCLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMwRCxlQUFlLEVBQUUsQ0FBQztNQUN2RnBFLHdEQUFTLENBQUNtQixHQUFHLEVBQUUrQyxRQUFRLEVBQUU0b0IsVUFBVSxDQUFDO0lBQ3RDO0lBRUEsU0FBU0EsVUFBVUEsQ0FBQ2hzQixHQUFHLEVBQUU7TUFDdkIsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7TUFDbkIsSUFBSWlzQixPQUFPLEdBQUdsbUIsS0FBSyxDQUFDcEcsYUFBYSxDQUFDLFNBQVMsQ0FBQztNQUM1QyxJQUFJLENBQUNzc0IsT0FBTyxFQUFFO01BQ2RBLE9BQU8sQ0FBQ3RzQixhQUFhLENBQUMsZUFBZSxDQUFDLENBQUN1QixTQUFTLEdBQUdsQixJQUFJLENBQUM4dEIsV0FBVyxHQUFHOXRCLElBQUksQ0FBQzh0QixXQUFXLEdBQUcsS0FBSztNQUM5RjdCLE9BQU8sQ0FBQ3RzQixhQUFhLENBQUMsbUJBQW1CLENBQUMsQ0FBQ3VCLFNBQVMsR0FBR2xCLElBQUksQ0FBQyt0Qix1QkFBdUIsR0FBRy90QixJQUFJLENBQUMrdEIsdUJBQXVCLEdBQUcsS0FBSztNQUMxSDlCLE9BQU8sQ0FBQ3RzQixhQUFhLENBQUMsa0JBQWtCLENBQUMsQ0FBQ3VCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2d1QixXQUFXLEdBQUdodUIsSUFBSSxDQUFDZ3VCLFdBQVcsR0FBRyxLQUFLO01BQ2pHL0IsT0FBTyxDQUFDcGMsZUFBZSxDQUFDLFFBQVEsQ0FBQztJQUNuQztJQUVBLFNBQVNrYyxRQUFRQSxDQUFBLEVBQUc7TUFDbEIsSUFBSWhILElBQUksS0FBSyxTQUFTLEVBQUVqakIsNERBQW1CLENBQUNzWSxTQUFTLEVBQUVzVCxRQUFRLENBQUM7TUFDaEU1ckIsNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQztNQUM3Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztNQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztNQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLFFBQVEsQ0FBQztNQUN4Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE9BQU8sQ0FBQztNQUN2Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE9BQU8sQ0FBQztNQUN2Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLFFBQVEsQ0FBQztNQUN4Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLFFBQVEsQ0FBQztNQUN4Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLGVBQWUsRUFBRSxLQUFLLENBQUM7TUFDdER0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEMsT0FBT0EsU0FBUztJQUNsQjtJQUVBLFNBQVN1VCxhQUFhQSxDQUFBLEVBQUc7TUFDdkI3ckIsNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsT0FBTyxDQUFDO01BQ3ZDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsS0FBSyxDQUFDO01BQ3JDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsT0FBTyxDQUFDO01BQ3ZDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsT0FBTyxDQUFDO01BQ3ZDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDLE9BQU9BLFNBQVM7SUFDbEI7SUFFQSxTQUFTNFIsUUFBUUEsQ0FBQ2xzQixHQUFHLEVBQUU7TUFDckIsSUFBSThILEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7TUFDeENvRyxLQUFLLENBQUM2RCxZQUFZLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQztNQUMxQ2hDLEtBQUssQ0FBQzdILFNBQVMsR0FBRyxFQUFFO01BQ3BCLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJLENBQUNpdUIsV0FBVztNQUMvQixJQUFJanVCLElBQUksS0FBS3FZLFNBQVMsRUFBRSxNQUFNLElBQUk1UyxLQUFLLENBQUMsNkJBQTZCLENBQUM7TUFDdEUsSUFBSSxDQUFDekYsSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzVCLElBQUk4UixHQUFHLEdBQUdqWSxpRUFBd0IsQ0FBQ3NZLFNBQVMsQ0FBQ3JTLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDRSxNQUFNLENBQUM7UUFDM0VMLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztRQUN0QjtNQUNGO01BQ0EsS0FBSyxJQUFJL1IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUNwQyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztRQUNyQytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztRQUNyQixJQUFJdUwsSUFBSSxLQUFLLFNBQVMsRUFBRTtVQUN0QixJQUFJbUosVUFBVSxHQUFHenVCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7VUFDN0MyVSxFQUFFLENBQUNyVSxXQUFXLENBQUMrb0IsVUFBVSxDQUFDO1VBQzFCLElBQUl6YixRQUFRLEdBQUczUSxrRUFBeUIsRUFBRTtVQUMxQzJRLFFBQVEsQ0FBQzlTLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQ2lLLFlBQVksQ0FBQyxjQUFjLEVBQUU1SixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ21tQixPQUFPLENBQUM7UUFDL0U7UUFDQXJzQixrRUFBeUIsQ0FBQzBYLEVBQUUsRUFBRXhSLENBQUMsRUFBRXJGLFVBQVUsRUFBRUMsUUFBUSxDQUFDO1FBQ3REZCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDb21CLGFBQWEsQ0FBQztRQUM5Q3RzQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDc2xCLFNBQVMsQ0FBQztRQUMxQyxJQUFJdkksSUFBSSxLQUFLLE9BQU8sRUFBRTtVQUNwQmpqQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDbWUsWUFBWSxDQUFDO1VBQzdDcmtCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNtbUIsT0FBTyxDQUFDO1VBQ3hDcnNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNtbEIsV0FBVyxDQUFDO1VBQzVDcnJCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNxbUIsZUFBZSxDQUFDO1VBQ2hEdnNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNzbUIsU0FBUyxDQUFDO1VBQzFDeHNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN1bUIsS0FBSyxDQUFDO1VBQ3RDenNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFZ1YsYUFBYSxDQUFDeHVCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsQ0FBQyxNQUFNO1VBQ0xsRyw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDNkIsSUFBSSxFQUFFLEtBQUssQ0FBQztVQUM1Qy9ILDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNtbEIsV0FBVyxDQUFDO1VBQzVDcnJCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNzbUIsU0FBUyxDQUFDO1VBQzFDeHNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNxbUIsZUFBZSxDQUFDO1VBQ2hEdnNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN1bEIsVUFBVSxDQUFDO1VBQzNDenJCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNtbUIsT0FBTyxDQUFDO1VBQ3hDcnNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN1bUIsS0FBSyxDQUFDO1VBQ3RDenNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN2SCxVQUFVLENBQUM7VUFDM0NxQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDeW1CLFlBQVksQ0FBQztVQUM3QzNzQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDMG1CLGFBQWEsRUFBRSxLQUFLLENBQUM7VUFDckQ1c0IsNERBQW1CLENBQUMwWCxFQUFFLEVBQUVtVixRQUFRLENBQUMzdUIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QztRQUNBO01BQ0Y7O01BQ0EsT0FBT0osS0FBSztNQUVaLFNBQVMrbUIsUUFBUUEsQ0FBQzN1QixJQUFJLEVBQUU7UUFDdEIsSUFBSW11QixPQUFPLEdBQUdudUIsSUFBSSxDQUFDbXVCLE9BQU87UUFDMUIsSUFBSUEsT0FBTyxLQUFLOVYsU0FBUyxFQUFFLE1BQU0sSUFBSTVTLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQztRQUNoRSxJQUFJcWEsS0FBSyxHQUFHLEVBQUU7UUFDZEEsS0FBSyxDQUFDaFIsSUFBSSxDQUFDOGYsYUFBYSxFQUFFLENBQUM7UUFDM0IsSUFBSTdKLElBQUksS0FBSyxTQUFTLEVBQUU7VUFDdEIsSUFBSThKLFFBQVEsR0FBR0MsV0FBVyxFQUFFO1VBQzVCLElBQUlELFFBQVEsRUFBRS9PLEtBQUssQ0FBQ2hSLElBQUksQ0FBQ2dnQixXQUFXLEVBQUUsQ0FBQztRQUN6QztRQUNBLE9BQU9oUCxLQUFLO1FBRVosU0FBUzhPLGFBQWFBLENBQUEsRUFBRztVQUN2QixJQUFJN0ssSUFBSSxHQUFHdGtCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7VUFDdENrZixJQUFJLENBQUM3aUIsU0FBUyxHQUFHLE1BQU07VUFDdkI2aUIsSUFBSSxDQUFDbmEsWUFBWSxDQUFDLGNBQWMsRUFBRXVrQixPQUFPLENBQUM7VUFDMUMsSUFBSWh1QixHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGlDQUFpQyxDQUFDLENBQUNDLEtBQUssR0FBRyxHQUFHLEdBQUd1dUIsT0FBTztVQUN6RixJQUFJanJCLFFBQVEsR0FBR3BCLDZEQUFvQixFQUFFO1VBQ3JDLElBQUlpakIsSUFBSSxLQUFLLFNBQVMsRUFBRTdoQixRQUFRLENBQUM2ckIsTUFBTSxHQUFHN2tCLE1BQU0sQ0FBQ2xLLElBQUksQ0FBQ1EsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJMEosTUFBTSxDQUFDbEssSUFBSSxDQUFDNEIsT0FBTyxDQUFDLEtBQUssQ0FBQztVQUNqR21pQixJQUFJLENBQUN4aUIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtZQUM3Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7WUFDdEJLLDZEQUFvQixDQUFDM0IsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO1VBQ3JDLENBQUMsQ0FBQztVQUNGLE9BQU82Z0IsSUFBSTtRQUNiO1FBRUEsU0FBUytLLFdBQVdBLENBQUEsRUFBRztVQUNyQixJQUFJNWtCLE1BQU0sQ0FBQ2xLLElBQUksQ0FBQzRCLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPLEtBQUs7VUFDNUMsSUFBSThyQixRQUFRLENBQUMvdEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDK0ssWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNuRWdqQixRQUFRLENBQUMvdEIsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDa1EsZUFBZSxDQUFDLFVBQVUsQ0FBQztVQUM3RDtVQUNBcWUsVUFBVSxDQUFDL29CLFdBQVcsQ0FBQ3NOLFFBQVEsQ0FBQztVQUNoQyxJQUFJb2MsUUFBUSxHQUFHcHZCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7VUFDMUNncUIsUUFBUSxDQUFDM3RCLFNBQVMsR0FBRyxJQUFJO1VBQ3pCMnRCLFFBQVEsQ0FBQ2psQixZQUFZLENBQUMsT0FBTyxFQUFFLHNCQUFzQixDQUFDO1VBQ3REaWxCLFFBQVEsQ0FBQ2psQixZQUFZLENBQUMsY0FBYyxFQUFFdWtCLE9BQU8sQ0FBQztVQUM5Q1UsUUFBUSxDQUFDdHRCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7WUFDakRBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO1lBQ3RCLElBQUl0QixHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLGlDQUFpQyxDQUFDLENBQUNDLEtBQUs7WUFDekUsSUFBSXV1QixPQUFPLEdBQUcsSUFBSSxDQUFDempCLFlBQVksQ0FBQyxjQUFjLENBQUM7WUFDL0MsSUFBSWlkLFdBQVcsR0FBRyxFQUFFO1lBQ3BCQSxXQUFXLENBQUM3WSxJQUFJLENBQUNxZixPQUFPLENBQUM7WUFDekIsSUFBSW51QixJQUFJLEdBQUc7Y0FBRTJuQixXQUFXLEVBQUVBO1lBQVksQ0FBQztZQUN2QzNnQix3RUFBeUIsQ0FBQzdHLEdBQUcsRUFBRUgsSUFBSSxDQUFDO1VBQ3RDLENBQUMsQ0FBQztVQUNGLE9BQU82dUIsUUFBUTtRQUNqQjtNQUNGO01BRUEsU0FBU0wsYUFBYUEsQ0FBQ3h1QixJQUFJLEVBQUU7UUFDM0IsSUFBSTJRLE1BQU0sR0FBRyxFQUFFO1FBQ2YsSUFBSXFlLFVBQVUsR0FBR3Z2QixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO1FBQzVDbXFCLFVBQVUsQ0FBQzl0QixTQUFTLEdBQUcsTUFBTTtRQUM3Qjh0QixVQUFVLENBQUNwbEIsWUFBWSxDQUFDLE1BQU0sRUFBRW5LLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlCQUF5QixDQUFDLENBQUNDLEtBQUssR0FBRyxHQUFHLEdBQUdJLElBQUksQ0FBQ211QixPQUFPLENBQUM7UUFDN0d4ZCxNQUFNLENBQUM3QixJQUFJLENBQUNrZ0IsVUFBVSxDQUFDO1FBQ3ZCLElBQUk5a0IsTUFBTSxDQUFDbEssSUFBSSxDQUFDUSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBT21RLE1BQU0sQ0FBQyxDQUFDO1FBQzlDLElBQUlzZSxPQUFPLEdBQUd4dkIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztRQUN6Q29xQixPQUFPLENBQUNybEIsWUFBWSxDQUFDLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQztRQUNyRHFsQixPQUFPLENBQUMvdEIsU0FBUyxHQUFHLElBQUk7UUFDeEIrdEIsT0FBTyxDQUFDcmxCLFlBQVksQ0FBQyxjQUFjLEVBQUU1SixJQUFJLENBQUNtdUIsT0FBTyxDQUFDO1FBQ2xEYyxPQUFPLENBQUMxdEIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtVQUNoREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7VUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMscUJBQXFCLENBQUMsQ0FBQ0MsS0FBSztVQUM3RCxJQUFJc3ZCLE9BQU8sR0FBR3p2QixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDQyxLQUFLO1VBQ2pFLElBQUl1dUIsT0FBTyxHQUFHLElBQUksQ0FBQ3pqQixZQUFZLENBQUMsY0FBYyxDQUFDO1VBQy9DLElBQUkxSyxJQUFJLEdBQUc7WUFBRW11QixPQUFPLEVBQUVBLE9BQU87WUFBRWUsT0FBTyxFQUFFQTtVQUFRLENBQUM7VUFDakQ7VUFDQTtVQUNBM29CLDhEQUFlLENBQUNwRyxHQUFHLEVBQUVILElBQUksQ0FBQztRQUM1QixDQUFDLENBQUM7UUFDRjJRLE1BQU0sQ0FBQzdCLElBQUksQ0FBQ21nQixPQUFPLENBQUM7UUFDcEIsT0FBT3RlLE1BQU07TUFDZjtJQUNGO0lBRUEsU0FBU2lkLFdBQVdBLENBQUNGLFFBQVEsRUFBRTtNQUM3QkEsUUFBUSxDQUFDbnNCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO1FBQzVDO1FBQ0EsSUFBSSxJQUFJLENBQUM1QixhQUFhLENBQUMsT0FBTyxDQUFDLENBQUNrUCxPQUFPLEVBQ3JDc2dCLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUVsQkEsV0FBVyxDQUFDLEtBQUssQ0FBQztNQUN0QixDQUFDLENBQUM7TUFFRixTQUFTQSxXQUFXQSxDQUFDM3VCLE1BQU0sRUFBRTtRQUMzQixJQUFJNHVCLFFBQVEsR0FBRzN2QixRQUFRLENBQUNzSSxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQztRQUMxRCxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR29uQixRQUFRLENBQUNubkIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtVQUN4QyxJQUFJb25CLFFBQVEsQ0FBQ3BuQixDQUFDLENBQUMsQ0FBQzZHLE9BQU8sS0FBSyxDQUFDck8sTUFBTSxFQUFFNHVCLFFBQVEsQ0FBQ3BuQixDQUFDLENBQUMsQ0FBQ3RFLEtBQUssRUFBRTtRQUMxRDtNQUNGO0lBQ0Y7RUFDRjtBQUNGLENBQUM7QUFDRDtBQUNBMUIsU0FBUyxDQUFDM0IsU0FBUyxDQUFDd25CLHlCQUF5QixHQUFHLFVBQVMvbkIsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLEVBQUU7RUFDbEYrb0IsVUFBVSxFQUFFO0VBRVosU0FBU0EsVUFBVUEsQ0FBQSxFQUFHO0lBQ3BCLElBQUl4ckIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDQyxLQUFLO0lBQ3RFWix3REFBUyxDQUFDbUIsR0FBRyxFQUFFLEVBQUUsRUFBRXlyQixXQUFXLENBQUM7RUFDakM7RUFFQSxTQUFTQSxXQUFXQSxDQUFDQyxRQUFRLEVBQUU7SUFDN0IsSUFBSTtNQUNGLElBQUk5bEIsS0FBSyxHQUFHdEcsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO01BQ2hELElBQUksQ0FBQ21zQixRQUFRLENBQUM3ckIsSUFBSSxFQUFFLE1BQU0sSUFBSXlGLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQztNQUN2RCxJQUFJMlUsU0FBUyxHQUFHdFksOERBQXFCLENBQUNpRSxLQUFLLENBQUM7TUFDNUM4bkIsY0FBYyxFQUFFO01BQ2hCOUIsUUFBUSxDQUFDRixRQUFRLENBQUM3ckIsSUFBSSxDQUFDO01BQ3ZCZ3NCLFFBQVEsQ0FBQ2xzQixHQUFHLEVBQUUrckIsUUFBUSxDQUFDN3JCLElBQUksQ0FBQztNQUM1Qm9qQixzREFBZSxDQUFDdGpCLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFNUQsb0RBQVMsRUFBRSxJQUFJZ0QsU0FBUyxFQUFFLENBQUM2bEIseUJBQXlCLENBQUM7SUFDbEcsQ0FBQyxDQUFDLE9BQU9wbEIsS0FBSyxFQUFFO01BQ2QsTUFBTSxJQUFJZ0QsS0FBSyxDQUFDaEQsS0FBSyxDQUFDO0lBQ3hCO0lBRUEsU0FBU29yQixjQUFjQSxDQUFBLEVBQUc7TUFDeEIsSUFBSTdiLEdBQUcsR0FBR3ZTLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHFDQUFxQyxDQUFDO01BQ3ZFLElBQUksQ0FBQ3FTLEdBQUcsRUFBRTtNQUNWLElBQUk3UixHQUFHLEdBQUc2UixHQUFHLENBQUNwUyxLQUFLO01BQ25CLElBQUksQ0FBQ08sR0FBRyxFQUFFO01BQ1YsSUFBSStDLFFBQVEsR0FBR1ksSUFBSSxDQUFDQyxTQUFTLENBQUMxQyxDQUFDLENBQUM1QixRQUFRLENBQUNDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDMEQsZUFBZSxFQUFFLENBQUM7TUFDdkZwRSx3REFBUyxDQUFDbUIsR0FBRyxFQUFFK0MsUUFBUSxFQUFFNG9CLFVBQVUsQ0FBQztJQUN0QztJQUVBLFNBQVNBLFVBQVVBLENBQUNoc0IsR0FBRyxFQUFFO01BQ3ZCLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO01BQ25CLElBQUlpc0IsT0FBTyxHQUFHbG1CLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxTQUFTLENBQUM7TUFDNUMsSUFBSSxDQUFDc3NCLE9BQU8sRUFBRTtNQUNkQSxPQUFPLENBQUN0c0IsYUFBYSxDQUFDLGlCQUFpQixDQUFDLENBQUN1QixTQUFTLEdBQUdsQixJQUFJLENBQUNrc0IsVUFBVSxHQUFHbHNCLElBQUksQ0FBQ2tzQixVQUFVLEdBQUcsS0FBSztNQUM5RkQsT0FBTyxDQUFDdHNCLGFBQWEsQ0FBQyxlQUFlLENBQUMsQ0FBQ3VCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ3d0QixRQUFRLEdBQUd4dEIsSUFBSSxDQUFDd3RCLFFBQVEsR0FBRyxLQUFLO01BQ3hGdkIsT0FBTyxDQUFDdHNCLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDdUIsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ3VCLFdBQVcsR0FBR2h1QixJQUFJLENBQUNndUIsV0FBVyxHQUFHLEtBQUs7TUFDakcvQixPQUFPLENBQUN0c0IsYUFBYSxDQUFDLG1CQUFtQixDQUFDLENBQUN1QixTQUFTLEdBQUdsQixJQUFJLENBQUNxdkIsWUFBWSxHQUFHcnZCLElBQUksQ0FBQ3F2QixZQUFZLEdBQUcsS0FBSztNQUNwR3BELE9BQU8sQ0FBQ3BjLGVBQWUsQ0FBQyxRQUFRLENBQUM7SUFDbkM7SUFFQSxTQUFTa2MsUUFBUUEsQ0FBQy9yQixJQUFJLEVBQUU7TUFDdEI4Qiw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxPQUFPLENBQUM7TUFDdkN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7TUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxLQUFLLENBQUM7TUFDckN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEMsSUFBSTJLLElBQUksS0FBSyxPQUFPLEVBQUVqakIsNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQzVEdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsS0FBSyxDQUFDO01BQ3JDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsS0FBSyxDQUFDO01BQ3JDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsS0FBSyxDQUFDO01BQ3JDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO01BQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsT0FBTyxDQUFDO01BQ3ZDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsU0FBUyxDQUFDO01BQ3pDLElBQUkySyxJQUFJLEtBQUssT0FBTyxFQUFFampCLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztNQUM1RHRZLHFFQUE0QixDQUFDOUIsSUFBSSxFQUFFb2EsU0FBUyxDQUFDO01BQzdDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BDLElBQUkySyxJQUFJLEtBQUssT0FBTyxFQUFFampCLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztJQUM1RDtJQUVBLFNBQVM0UixRQUFRQSxDQUFDM21CLE9BQU8sRUFBRThtQixTQUFTLEVBQUU7TUFDcEMsSUFBSXZrQixLQUFLLEdBQUc3QixLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO01BQ3hDb0csS0FBSyxDQUFDNkQsWUFBWSxDQUFDLGVBQWUsRUFBRSxFQUFFLENBQUM7TUFDdkNoQyxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtNQUNwQixJQUFJQyxJQUFJLEdBQUdxRixPQUFPLENBQUNyRixJQUFJLENBQUNvc0IsT0FBTztNQUMvQixJQUFJLENBQUNwc0IsSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzVCLElBQUk4UixHQUFHLEdBQUdqWSxpRUFBd0IsQ0FBQ3NZLFNBQVMsQ0FBQ3JTLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDRSxNQUFNLENBQUM7UUFDM0VMLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztRQUN0QjtNQUNGO01BQ0EsS0FBSyxJQUFJL1IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUNwQyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztRQUNyQytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztRQUNyQixJQUFJOFYsS0FBSyxHQUFHN3ZCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFDeEMrQyxLQUFLLENBQUN6QyxXQUFXLENBQUNtcUIsS0FBSyxDQUFDO1FBQ3hCeHRCLGtFQUF5QixDQUFDMFgsRUFBRSxFQUFFeFIsQ0FBQyxFQUFFckYsVUFBVSxFQUFFQyxRQUFRLENBQUMsQ0FBQ2dILFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ2pGOUgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3FrQixRQUFRLENBQUMsQ0FBQ3ppQixZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUNwRTlILDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNza0IsUUFBUSxDQUFDLENBQUMxaUIsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDcEU5SCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDdWtCLE9BQU8sQ0FBQyxDQUFDM2lCLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ25FOUgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ2EsT0FBTyxDQUFDLENBQUNlLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ25FLElBQUltYixJQUFJLEtBQUssT0FBTyxFQUFFampCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUM2QixJQUFJLENBQUMsQ0FBQ0QsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDdEY5SCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDd2tCLFdBQVcsQ0FBQyxDQUFDNWlCLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFOUgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3lrQixXQUFXLENBQUMsQ0FBQzdpQixZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUN2RTlILDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMwa0IsTUFBTSxDQUFDLENBQUM5aUIsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDbEU5SCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDMmtCLEdBQUcsQ0FBQyxDQUFDL2lCLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQy9EOUgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQzRrQixNQUFNLENBQUMsQ0FBQ2hqQixZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUNsRTlILDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUM2a0IsS0FBSyxDQUFDLENBQUNqakIsWUFBWSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFDakU5SCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDOGtCLGFBQWEsQ0FBQyxDQUFDbGpCLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFOUgsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQytrQixXQUFXLENBQUMsQ0FBQ25qQixZQUFZLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztRQUN2RSxJQUFJbWIsSUFBSSxLQUFLLE9BQU8sRUFBRWpqQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDZ2xCLFlBQVksQ0FBQyxDQUFDcGpCLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDO1FBQzlGLElBQUlpVCxRQUFRLEdBQUcvYSx3RUFBK0IsQ0FBQ3FxQixTQUFTLEVBQUUsT0FBTyxDQUFDO1FBQ2xFLElBQUlvRCxNQUFNLEdBQUd6dEIsdUVBQThCLENBQUMsTUFBTSxFQUFFK2EsUUFBUSxFQUFFL1ksSUFBSSxDQUFDeUIsS0FBSyxDQUFDdkYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNrbEIsV0FBVyxDQUFDLENBQUM7UUFDOUYsSUFBSXNDLE1BQU0sR0FBRzF0Qix1RUFBOEIsQ0FBQyxNQUFNLEVBQUUrYSxRQUFRLEVBQUUvWSxJQUFJLENBQUN5QixLQUFLLENBQUN2RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3luQixlQUFlLENBQUMsQ0FBQztRQUNsRyxJQUFJMUssSUFBSSxLQUFLLFNBQVMsRUFBRSxJQUFJMkssV0FBVyxHQUFHNXRCLHlFQUFnQyxDQUFDK2EsUUFBUSxFQUFFL1ksSUFBSSxDQUFDeUIsS0FBSyxDQUFDdkYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN5bkIsZUFBZSxDQUFDLENBQUM7UUFDekgzdEIsOEVBQXFDLENBQUN5dEIsTUFBTSxFQUFFL1YsRUFBRSxDQUFDO1FBQ2pEMVgsOEVBQXFDLENBQUMwdEIsTUFBTSxFQUFFRixLQUFLLENBQUM7UUFDcER4dEIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ21sQixXQUFXLENBQUM7UUFDNUNyckIsNERBQW1CLENBQUN3dEIsS0FBSyxFQUFFdHZCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcW1CLGVBQWUsQ0FBQztRQUNuRCxJQUFJdEosSUFBSSxLQUFLLE9BQU8sRUFBRWpqQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQzVQLFlBQVksQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7UUFDMUYsSUFBSW1iLElBQUksS0FBSyxPQUFPLEVBQUVqakIsNERBQW1CLENBQUN3dEIsS0FBSyxFQUFFSyxTQUFTLENBQUMzdkIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLEVBQUUwbkIsV0FBVyxDQUFDLENBQUM7UUFDakY7TUFDRjs7TUFFQSxTQUFTQyxTQUFTQSxDQUFDM3ZCLElBQUksRUFBRTB2QixXQUFXLEVBQUU7UUFDcEMsSUFBSUUsVUFBVSxHQUFHbndCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7UUFDNUMrcUIsVUFBVSxDQUFDMXVCLFNBQVMsR0FBRyxNQUFNO1FBQzdCMHVCLFVBQVUsQ0FBQ2htQixZQUFZLENBQUMsY0FBYyxFQUFFNUosSUFBSSxDQUFDdXNCLE9BQU8sQ0FBQztRQUNyRHFELFVBQVUsQ0FBQ2htQixZQUFZLENBQUMsT0FBTyxFQUFFLHNCQUFzQixDQUFDO1FBQ3hEZ21CLFVBQVUsQ0FBQ3J1QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1VBQ25EQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtVQUN0QixJQUFJeUIsUUFBUSxHQUFHWSxJQUFJLENBQUNDLFNBQVMsQ0FBQztZQUFFd29CLE9BQU8sRUFBRSxJQUFJLENBQUM3aEIsWUFBWSxDQUFDLGNBQWM7VUFBRSxDQUFDLENBQUM7VUFDN0UsSUFBSXZLLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztVQUN4RVosd0RBQVMsQ0FBQ21CLEdBQUcsRUFBRStDLFFBQVEsRUFBRTJzQixZQUFZLENBQUM7UUFDeEMsQ0FBQyxDQUFDO1FBQ0YsSUFBSTlLLElBQUksS0FBSyxRQUFRLEVBQUUsT0FBTzZLLFVBQVU7UUFDeEMsSUFBSTdLLElBQUksS0FBSyxTQUFTLEVBQUU7VUFDdEIsSUFBSSxDQUFDdGxCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLG9CQUFvQixDQUFDLENBQUNDLEtBQUssRUFBRSxPQUFPLEtBQUs7VUFDckUsSUFBSWt3QixVQUFVLEdBQUdyd0IsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztVQUM1Q2lyQixVQUFVLENBQUM1dUIsU0FBUyxHQUFHLElBQUk7VUFDM0I0dUIsVUFBVSxDQUFDbG1CLFlBQVksQ0FBQyxrQkFBa0IsRUFBRTlGLElBQUksQ0FBQ0MsU0FBUyxDQUFDMnJCLFdBQVcsQ0FBQyxDQUFDO1VBQ3hFSSxVQUFVLENBQUNsbUIsWUFBWSxDQUFDLGNBQWMsRUFBRTVKLElBQUksQ0FBQ3VzQixPQUFPLENBQUM7VUFDckR1RCxVQUFVLENBQUNsbUIsWUFBWSxDQUFDLFlBQVksRUFBRTVKLElBQUksQ0FBQzZzQixLQUFLLENBQUM7VUFDakRpRCxVQUFVLENBQUNsbUIsWUFBWSxDQUFDLGtCQUFrQixFQUFFNUosSUFBSSxDQUFDbXRCLFdBQVcsQ0FBQztVQUM3RDJDLFVBQVUsQ0FBQ2xtQixZQUFZLENBQUMsZUFBZSxFQUFFNUosSUFBSSxDQUFDd3RCLFFBQVEsQ0FBQztVQUN2RHNDLFVBQVUsQ0FBQ3Z1QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1lBQ25EQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtZQUN0QixJQUFJeUIsUUFBUSxHQUFHO2NBQ2IsU0FBUyxFQUFFLElBQUksQ0FBQ3dILFlBQVksQ0FBQyxjQUFjLENBQUM7Y0FDNUMsVUFBVSxFQUFFLElBQUksQ0FBQ0EsWUFBWSxDQUFDLGVBQWUsQ0FBQztjQUM5QyxhQUFhLEVBQUUsSUFBSSxDQUFDQSxZQUFZLENBQUMsa0JBQWtCLENBQUM7Y0FDcEQsT0FBTyxFQUFFLElBQUksQ0FBQ0EsWUFBWSxDQUFDLFlBQVksQ0FBQztjQUN4QyxhQUFhLEVBQUUsSUFBSSxDQUFDQSxZQUFZLENBQUMsa0JBQWtCO1lBQ3JELENBQUM7WUFDRCxJQUFJckQsT0FBTyxHQUFHMG9CLFdBQVcsQ0FBQzdzQixRQUFRLEVBQUUsT0FBTyxDQUFDO1lBQzVDeEIsS0FBSyxDQUFDQyxLQUFLLENBQUMwRixPQUFPLENBQUMsQ0FBQ0csSUFBSSxFQUFFO1VBQzdCLENBQUMsQ0FBQztVQUNGLE9BQU8sQ0FBQ3NvQixVQUFVLEVBQUVGLFVBQVUsQ0FBQztRQUNqQztNQUNGO0lBQ0Y7RUFDRjtFQUVBLFNBQVNDLFlBQVlBLENBQUMvdkIsR0FBRyxFQUFFO0lBQ3pCLElBQUlFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO0lBQ25CLElBQUlGLEdBQUcsQ0FBQ0UsSUFBSSxLQUFLcVksU0FBUyxFQUFFLE1BQU0sSUFBSTVTLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztJQUM5RCxJQUFJM0YsR0FBRyxDQUFDRSxJQUFJLEtBQUssSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3hDdkcsS0FBSyxDQUFDQyxLQUFLLENBQUNpRixLQUFLLENBQUMsa0JBQWtCLENBQUM7TUFDckM7SUFDRjtJQUNBLElBQUksQ0FBQzBNLEtBQUssQ0FBQ0MsT0FBTyxDQUFDelQsR0FBRyxDQUFDRSxJQUFJLENBQUMsRUFBRSxNQUFNLElBQUl5RixLQUFLLENBQUMsb0JBQW9CLENBQUM7SUFDbkUsSUFBSTlELEtBQUssR0FBR2xDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLGlCQUFpQixDQUFDO0lBQ3RELElBQUlxRyxLQUFLLEdBQUd0RyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxzQkFBc0IsQ0FBQztJQUMzRCxJQUFJeWEsS0FBSyxHQUFHcFUsS0FBSyxDQUFDcEcsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUN4Q3dhLEtBQUssQ0FBQ3BhLFNBQVMsR0FBRyxFQUFFO0lBQ3BCLElBQUlxYSxTQUFTLEdBQUd0WSw4REFBcUIsQ0FBQ2lFLEtBQUssQ0FBQztJQUM1Q2pFLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLEtBQUssQ0FBQztJQUNyQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztJQUN0Q3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztJQUNwQyxJQUFJeFMsS0FBSyxHQUFHN0IsS0FBSyxDQUFDcEcsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUN4Q2lJLEtBQUssQ0FBQzdILFNBQVMsR0FBRyxFQUFFO0lBQ3BCLEtBQUssSUFBSWlJLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2xJLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUN4QyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUNyQytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztNQUNyQjFYLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFMVosR0FBRyxDQUFDRSxJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ2dvQixVQUFVLENBQUM7TUFDL0NsdUIsNERBQW1CLENBQUMwWCxFQUFFLEVBQUUxWixHQUFHLENBQUNFLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDaW9CLFVBQVUsQ0FBQztNQUMvQ251Qiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRTFaLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNrb0IsTUFBTSxDQUFDO0lBQzdDO0lBQ0F4dUIsS0FBSyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUFDNkYsSUFBSSxFQUFFO0VBQzNCO0FBQ0YsQ0FBQztBQUNEO0FBQ0F4RixTQUFTLENBQUMzQixTQUFTLENBQUNrb0IsNEJBQTRCLEdBQUcsVUFBU3pvQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtFQUNyRixJQUFJO0lBQ0YsSUFBSW1ELEtBQUssR0FBR3RHLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLFlBQVksQ0FBQztJQUNoRCxJQUFJeWEsU0FBUyxHQUFHdFksOERBQXFCLENBQUNpRSxLQUFLLENBQUM7SUFDNUNvcUIsV0FBVyxFQUFFO0lBQ2JDLFdBQVcsRUFBRTtJQUNiaE4sc0RBQWUsQ0FBQ3RqQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRTVELG9EQUFTLEVBQUUsSUFBSWdELFNBQVMsRUFBRSxDQUFDdW1CLDRCQUE0QixDQUFDO0VBQ3JHLENBQUMsQ0FBQyxPQUFPOWxCLEtBQUssRUFBRTtJQUNkLE1BQU0sSUFBSWdELEtBQUssQ0FBQ2hELEtBQUssQ0FBQztFQUN4QjtFQUVBLFNBQVMwdEIsV0FBV0EsQ0FBQSxFQUFHO0lBQ3JCcnVCLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztJQUNwQ3RZLDREQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7SUFDN0N0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7SUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxLQUFLLENBQUM7SUFDckN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7SUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxRQUFRLENBQUM7SUFDeEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7SUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxPQUFPLENBQUM7SUFDdkN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxRQUFRLENBQUM7SUFDeEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxLQUFLLENBQUM7SUFDckN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7SUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDO0lBQzVDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO0lBQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO0VBQ3RDO0VBRUEsU0FBU2dXLFdBQVdBLENBQUEsRUFBRztJQUNyQixJQUFJeG9CLEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7SUFDeENpSSxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtJQUNwQixJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDcXdCLGlCQUFpQjtJQUNyQyxJQUFJLENBQUNyd0IsSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQzVCLElBQUk4UixHQUFHLEdBQUdqWSxpRUFBd0IsQ0FBQ3NZLFNBQVMsQ0FBQ3JTLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDRSxNQUFNLENBQUM7TUFDM0VMLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztNQUN0QjtJQUNGO0lBQ0EsS0FBSyxJQUFJL1IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUNwQyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUNyQytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztNQUNyQixJQUFJd0IsUUFBUSxHQUFHdmIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUMzQzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzZWLFFBQVEsQ0FBQztNQUN4QkEsUUFBUSxDQUFDOVosU0FBUyxHQUFHOEcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDa0MsTUFBTSxDQUFDdkgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJdUgsTUFBTSxDQUFDdEgsUUFBUSxDQUFDO01BQ3hFZCw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDa2UsVUFBVSxFQUFFLEtBQUssQ0FBQztNQUNsRHBrQiw0REFBbUIsQ0FBQzBYLEVBQUUsRUFBRXhaLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDbWUsWUFBWSxDQUFDO01BQzdDbUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsV0FBVyxDQUFDO01BQ2pEdUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsU0FBUyxDQUFDO01BQy9DdUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsU0FBUyxDQUFDO01BQy9DdUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsZUFBZSxDQUFDO01BQ3JEdUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsVUFBVSxDQUFDO01BQ2hEdUssY0FBYyxDQUFDOVcsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUMrZCxRQUFRLEVBQUUsUUFBUSxDQUFDO01BQzlDamtCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNnb0IsVUFBVSxDQUFDO01BQzNDbHVCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNzbUIsU0FBUyxDQUFDO01BQzFDeHNCLDREQUFtQixDQUFDMFgsRUFBRSxFQUFFeFosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUN4SCxNQUFNLEVBQUUsS0FBSyxDQUFDO01BQzlDc0IsNERBQW1CLENBQUMwWCxFQUFFLEVBQUV4WixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3VvQixPQUFPLENBQUM7TUFDeEMvVyxFQUFFLENBQUNyVSxXQUFXLENBQUNxckIsV0FBVyxDQUFDeHdCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDa2UsVUFBVSxDQUFDLENBQUM7SUFDakQ7SUFFQSxTQUFTb0ssY0FBY0EsQ0FBQ2hXLFFBQVEsRUFBRW9NLEtBQUssRUFBRW5tQixJQUFJLEVBQUVnYSxPQUFPLEVBQUU7TUFDdEQsSUFBSS9TLElBQUksR0FBRytTLE9BQU8sS0FBS2xDLFNBQVMsR0FBRyxJQUFJLEdBQUdrQyxPQUFPO01BQ2pELElBQUlJLEVBQUUsR0FBR2xiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7TUFDckN5VixRQUFRLENBQUNuVixXQUFXLENBQUN3VixFQUFFLENBQUM7TUFDeEJBLEVBQUUsQ0FBQ3paLFNBQVMsR0FBR3V2QixRQUFRLEVBQUUsQ0FBQ3JSLElBQUk7TUFDOUJ6RSxFQUFFLENBQUMvUSxZQUFZLENBQUMsbUJBQW1CLEVBQUU2bUIsUUFBUSxFQUFFLENBQUM1bUIsSUFBSSxDQUFDO01BQ3JELElBQUksQ0FBQ3JDLElBQUksRUFBRW1ULEVBQUUsQ0FBQy9RLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO01BQ3hDLE9BQU8rUSxFQUFFO01BRVQsU0FBUzhWLFFBQVFBLENBQUEsRUFBRztRQUNsQixJQUFJLENBQUNuZCxLQUFLLENBQUNDLE9BQU8sQ0FBQ21ULEtBQUssQ0FBQyxFQUFFLE1BQU0sSUFBSWpoQixLQUFLLENBQUMsZ0JBQWdCLENBQUM7UUFDNUQsSUFBSTJaLElBQUksR0FBRyxHQUFHO1FBQ2QsSUFBSXNSLFFBQVEsR0FBRyxFQUFFO1FBQ2pCLEtBQUssSUFBSXBiLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR29SLEtBQUssQ0FBQ3plLE1BQU0sRUFBRXFOLENBQUMsRUFBRSxFQUFFO1VBQ3JDLElBQUl6TCxJQUFJLEdBQUc2YyxLQUFLLENBQUNwUixDQUFDLENBQUMsQ0FBQ3pMLElBQUk7VUFDeEIsSUFBSUEsSUFBSSxLQUFLdEosSUFBSSxFQUFFO1lBQ2pCNmUsSUFBSSxHQUFHc0gsS0FBSyxDQUFDcFIsQ0FBQyxDQUFDLENBQUNoTSxPQUFPLEdBQUdvZCxLQUFLLENBQUNwUixDQUFDLENBQUMsQ0FBQ2hNLE9BQU8sR0FBRzhWLElBQUk7WUFDakRzUixRQUFRLEdBQUc3bUIsSUFBSTtVQUNqQjtRQUNGO1FBQ0EsT0FBTztVQUNMdVYsSUFBSSxFQUFFQSxJQUFJO1VBQ1Z2VixJQUFJLEVBQUU2bUI7UUFDUixDQUFDO01BQ0g7SUFDRjtJQUVBLFNBQVNGLFdBQVdBLENBQUN0SyxVQUFVLEVBQUU7TUFDL0IsSUFBSXZMLEVBQUUsR0FBR2xiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7TUFDckM4VixFQUFFLENBQUMvUSxZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztNQUN6QyxJQUFJK21CLFVBQVUsR0FBR2x4QixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO01BQzVDOFYsRUFBRSxDQUFDeFYsV0FBVyxDQUFDd3JCLFVBQVUsQ0FBQztNQUMxQkEsVUFBVSxDQUFDL21CLFlBQVksQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDO01BQzVDK21CLFVBQVUsQ0FBQy9tQixZQUFZLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQztNQUN6QyttQixVQUFVLENBQUMvbUIsWUFBWSxDQUFDLGlCQUFpQixFQUFFc2MsVUFBVSxDQUFDO01BQ3REeUssVUFBVSxDQUFDenZCLFNBQVMsR0FBRyxJQUFJO01BQzNCeXZCLFVBQVUsQ0FBQ3B2QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1FBQ25EQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtRQUN0QixJQUFJbXZCLE9BQU8sR0FBRyxJQUFJO1FBQ2xCbHZCLEtBQUssQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFlBQVc7VUFDcEQsSUFBSTtZQUNGN0Msd0RBQVMsQ0FBQzZ4QixNQUFNLEVBQUUsRUFBRWpOLFdBQVcsQ0FBQ2dOLE9BQU8sQ0FBQyxFQUFFbEcsZUFBZSxDQUFDO1VBQzVELENBQUMsQ0FBQyxPQUFPam9CLEtBQUssRUFBRTtZQUNkWCw2REFBb0IsQ0FBQ1csS0FBSyxDQUFDO1lBQzNCO1VBQ0Y7UUFDRixDQUFDLENBQUM7TUFDSixDQUFDLENBQUM7TUFDRixPQUFPa1ksRUFBRTtNQUVULFNBQVNrVyxNQUFNQSxDQUFBLEVBQUc7UUFDaEIsT0FBT3B4QixRQUFRLENBQUNFLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDQyxLQUFLO01BQ25FO01BRUEsU0FBU2drQixXQUFXQSxDQUFDa04sT0FBTyxFQUFFO1FBQzVCLElBQUk1SyxVQUFVLEdBQUc0SyxPQUFPLENBQUNwbUIsWUFBWSxDQUFDLGlCQUFpQixDQUFDO1FBQ3hELElBQUl3YixVQUFVLEtBQUs3TixTQUFTLEVBQUUsTUFBTSxJQUFJNVMsS0FBSyxDQUFDLGVBQWUsQ0FBQztRQUM5RCxPQUFPM0IsSUFBSSxDQUFDQyxTQUFTLENBQUM7VUFDcEIsWUFBWSxFQUFFbWlCO1FBQ2hCLENBQUMsQ0FBQztNQUNKO01BRUEsU0FBU3dFLGVBQWVBLENBQUEsRUFBRztRQUN6QmhwQixLQUFLLENBQUNDLEtBQUssQ0FBQ2lGLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQy9FLElBQUksQ0FBQyxZQUFXO1VBQ3hDLElBQUk7WUFDRnBDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDZ0UsS0FBSyxFQUFFO1VBQzlDLENBQUMsQ0FBQyxPQUFPakIsS0FBSyxFQUFFO1lBQ2RYLDZEQUFvQixDQUFDVyxLQUFLLENBQUM7WUFDM0I7VUFDRjtRQUNGLENBQUMsQ0FBQztNQUNKO0lBQ0Y7RUFDRjtBQUNGLENBQUM7QUFDRDtBQUNBVCxTQUFTLENBQUMzQixTQUFTLENBQUM4Ryw4QkFBOEIsR0FBRyxVQUFTckgsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLEVBQUU7RUFDdkYsSUFBSW1ELEtBQUssR0FBR3RHLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLFlBQVksQ0FBQztFQUVoRCxJQUFJeWEsU0FBUyxHQUFHdFksOERBQXFCLENBQUNpRSxLQUFLLENBQUM7RUFDNUNqRSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxRQUFRLENBQUM7RUFDeEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFDcEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSw0REFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFFcEMsSUFBSXhTLEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDeENpSSxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtFQUVwQixJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDK3dCLFlBQVk7RUFFaEMsSUFBSSxDQUFDL3dCLElBQUksSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUM1QixJQUFJOFIsR0FBRyxHQUFHalksaUVBQXdCLENBQUNzWSxTQUFTLENBQUNyUyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsTUFBTSxDQUFDO0lBQzNFTCxLQUFLLENBQUN6QyxXQUFXLENBQUM0VSxHQUFHLENBQUM7SUFDdEI7RUFDRjtFQUVBLEtBQUssSUFBSS9SLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2hJLElBQUksQ0FBQ2lJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDcEMsSUFBSXdSLEVBQUUsR0FBRy9aLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDckMrQyxLQUFLLENBQUN6QyxXQUFXLENBQUNxVSxFQUFFLENBQUM7SUFFckIsSUFBSXdCLFFBQVEsR0FBR3ZiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDM0MyVSxFQUFFLENBQUNyVSxXQUFXLENBQUM2VixRQUFRLENBQUM7SUFDeEJBLFFBQVEsQ0FBQzlaLFNBQVMsR0FBRzhHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQ2tDLE1BQU0sQ0FBQ3ZILFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSXVILE1BQU0sQ0FBQ3RILFFBQVEsQ0FBQztJQUV4RSxJQUFJNlcsR0FBRyxHQUFHaGEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3NVLEdBQUcsQ0FBQztJQUNuQixJQUFJQyxHQUFHLEdBQUdqYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDdVUsR0FBRyxDQUFDO0lBQ25CLElBQUlFLEdBQUcsR0FBR25hLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUN5VSxHQUFHLENBQUM7SUFDbkIsSUFBSW9YLEdBQUcsR0FBR3Z4QixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDNnJCLEdBQUcsQ0FBQztJQUNuQixJQUFJQyxHQUFHLEdBQUd4eEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzhyQixHQUFHLENBQUM7SUFDbkIsSUFBSUMsR0FBRyxHQUFHenhCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUMrckIsR0FBRyxDQUFDO0lBQ25CLElBQUlDLE9BQU8sR0FBRzF4QixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ3pDLElBQUl1c0IsUUFBUSxHQUFHM3hCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFHMUMsS0FBSyxJQUFJZSxHQUFHLElBQUk1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsRUFBRTtNQUN2QixJQUFJcEMsR0FBRyxJQUFJLFlBQVksRUFBRTtRQUN2QjZULEdBQUcsQ0FBQ3ZZLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRzVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO1FBQzFEdXJCLE9BQU8sQ0FBQ3ZuQixZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztRQUNqRHdyQixRQUFRLENBQUN4bkIsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7TUFDcEQ7TUFDQSxJQUFJQSxHQUFHLElBQUksaUJBQWlCLEVBQzFCOFQsR0FBRyxDQUFDeFksU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUcsR0FBRyxHQUFHNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDNUQsSUFBSUEsR0FBRyxJQUFJLFlBQVksRUFDckJnVSxHQUFHLENBQUMxWSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRyxHQUFHLEdBQUc1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM1RCxJQUFJQSxHQUFHLElBQUksWUFBWSxFQUNyQm9yQixHQUFHLENBQUM5dkIsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUcsR0FBRyxHQUFHNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDNUQsSUFBSUEsR0FBRyxJQUFJLFlBQVksRUFDckJxckIsR0FBRyxDQUFDL3ZCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFHLEdBQUcsR0FBRzVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO0lBQzlEO0lBRUEsSUFBSXVULElBQUksR0FBR25aLElBQUksQ0FBQ2dJLENBQUMsQ0FBQztJQUNsQjtJQUNBLElBQUltUixJQUFJLENBQUNrWSxRQUFRLElBQUksSUFBSSxJQUFJbFksSUFBSSxDQUFDM1ksTUFBTSxJQUFJLEdBQUcsRUFBRTtNQUMvQzB3QixHQUFHLENBQUNod0IsU0FBUyxHQUFHLEdBQUc7SUFDckIsQ0FBQyxNQUFNLElBQUlpWSxJQUFJLENBQUNrWSxRQUFRLElBQUksSUFBSSxFQUFFO01BQUU7TUFDbEMsSUFBSWxZLElBQUksQ0FBQ21ZLE1BQU0sSUFBSSxHQUFHLEVBQUU7UUFBRTtRQUN4QkgsT0FBTyxDQUFDandCLFNBQVMsR0FBRyxNQUFNO1FBQzFCZ3dCLEdBQUcsQ0FBQy9yQixXQUFXLENBQUNnc0IsT0FBTyxDQUFDO1FBQ3hCQSxPQUFPLENBQUM1dkIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtVQUNoREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7VUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsNEJBQTRCLENBQUMsQ0FBQ0MsS0FBSztVQUNwRSxJQUFJYSxVQUFVLEdBQUcsSUFBSSxDQUFDaUssWUFBWSxDQUFDLGlCQUFpQixDQUFDO1VBQ3JEdEQsNEVBQTZCLENBQUNqSCxHQUFHLEVBQUVNLFVBQVUsQ0FBQztRQUNoRCxDQUFDLENBQUM7TUFDSjtNQUNBMndCLFFBQVEsQ0FBQ2x3QixTQUFTLEdBQUcsUUFBUTtNQUM3Qmt3QixRQUFRLENBQUN4bkIsWUFBWSxDQUFDLE9BQU8sRUFBRSxzQkFBc0IsQ0FBQztNQUN0RHduQixRQUFRLENBQUM3dkIsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUNqREEsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIsSUFBSXRCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQ0MsS0FBSztRQUNyRSxJQUFJYSxVQUFVLEdBQUcsSUFBSSxDQUFDaUssWUFBWSxDQUFDLGlCQUFpQixDQUFDO1FBQ3JELElBQUkxSyxJQUFJLEdBQUc7VUFBRVMsVUFBVSxFQUFFQTtRQUFXLENBQUM7UUFDckNpSCw4RUFBK0IsQ0FBQ3ZILEdBQUcsRUFBRUgsSUFBSSxDQUFDO01BQzVDLENBQUMsQ0FBQztNQUNGa3hCLEdBQUcsQ0FBQy9yQixXQUFXLENBQUNpc0IsUUFBUSxDQUFDO0lBQzNCO0VBQ0Y7O0VBRUE7RUFDQWhPLHNEQUFlLENBQUN0akIsR0FBRyxFQUFFNkMsVUFBVSxFQUFFQyxRQUFRLEVBQUVzRSwwRUFBK0IsQ0FBQztBQUM3RSxDQUFDO0FBQ0Q7QUFDQWxGLFNBQVMsQ0FBQzNCLFNBQVMsQ0FBQ3dILDhCQUE4QixHQUFHLFVBQVMvSCxHQUFHLEVBQUU7RUFDakUsSUFBSThILEtBQUssR0FBR25JLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDM0MsSUFBSTdFLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJO0VBQ25CLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLElBQUlqSSxJQUFJLEtBQUssSUFBSSxFQUFFO0lBQ3BDLElBQUkrWixHQUFHLEdBQUd0YSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDLElBQUltVixHQUFHLEdBQUd2YSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDbVYsR0FBRyxDQUFDcFEsWUFBWSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUM7SUFDaENvUSxHQUFHLENBQUM5WSxTQUFTLEdBQUcsS0FBSztJQUNyQjhZLEdBQUcsQ0FBQzdZLEtBQUssQ0FBQ293QixTQUFTLEdBQUcsUUFBUTtJQUM5QnhYLEdBQUcsQ0FBQzVVLFdBQVcsQ0FBQzZVLEdBQUcsQ0FBQztJQUNwQnBTLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztJQUN0QixPQUFPblMsS0FBSztFQUNkO0VBQ0EsS0FBSyxJQUFJSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdoSSxJQUFJLENBQUNpSSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ3BDLElBQUl3UixFQUFFLEdBQUcvWixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUk0VSxHQUFHLEdBQUdoYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO01BQ3BDNlUsR0FBRyxHQUFHamEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUNsQzJzQixLQUFLLEdBQUcveEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztNQUN0Q3lkLEtBQUssR0FBRzdpQixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO01BQ3RDK1UsR0FBRyxHQUFHbmEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUNwQyxJQUFJa2YsSUFBSSxHQUFHdGtCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDdEMrVSxHQUFHLENBQUN6VSxXQUFXLENBQUM0ZSxJQUFJLENBQUM7SUFDckIsS0FBSyxJQUFJbmUsR0FBRyxJQUFJNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLEVBQUU7TUFDdkIsSUFBSXBDLEdBQUcsSUFBSSxvQkFBb0IsRUFBRTtRQUMvQjZULEdBQUcsQ0FBQzdQLFlBQVksQ0FBQyxVQUFVLEVBQUVoRSxHQUFHLENBQUM7UUFDakM2VCxHQUFHLENBQUN2WSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QixDQUFDLE1BQU0sSUFBSUEsR0FBRyxJQUFJLGNBQWMsRUFBRTtRQUNoQzRyQixLQUFLLENBQUM1bkIsWUFBWSxDQUFDLFVBQVUsRUFBRWhFLEdBQUcsQ0FBQztRQUNuQzRyQixLQUFLLENBQUN0d0IsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDaEMsQ0FBQyxNQUFNLElBQUlBLEdBQUcsSUFBSSxZQUFZLEVBQUU7UUFDOUIwYyxLQUFLLENBQUMxWSxZQUFZLENBQUMsVUFBVSxFQUFFaEUsR0FBRyxDQUFDO1FBQ25DMGMsS0FBSyxDQUFDcGhCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQ2hDLENBQUMsTUFBTSxJQUFJQSxHQUFHLElBQUksUUFBUSxFQUFFO1FBQzFCZ1UsR0FBRyxDQUFDaFEsWUFBWSxDQUFDLFVBQVUsRUFBRWhFLEdBQUcsQ0FBQztRQUNqQzZyQixhQUFhLENBQUN6eEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsRUFBRW1lLElBQUksQ0FBQztNQUNuQyxDQUFDLE1BQU0sSUFBSW5lLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtRQUNwQ21lLElBQUksQ0FBQ25hLFlBQVksQ0FBQyxPQUFPLEdBQUdoRSxHQUFHLEVBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDO01BQ2hELENBQUMsTUFBTSxJQUFJQSxHQUFHLElBQUksWUFBWSxFQUFFO1FBQzlCbWUsSUFBSSxDQUFDbmEsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7TUFDaEQsQ0FBQyxNQUFNO1FBQ0wsSUFBSStVLEVBQUUsR0FBR2xiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7UUFDckM4VixFQUFFLENBQUMvUSxZQUFZLENBQUMsVUFBVSxFQUFFaEUsR0FBRyxDQUFDO1FBQ2hDK1UsRUFBRSxDQUFDelosU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7UUFDM0IrVSxFQUFFLENBQUN4WixLQUFLLENBQUN3SixPQUFPLEdBQUcsTUFBTTtRQUN6QjZPLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3dWLEVBQUUsQ0FBQztNQUNwQjtJQUNGO0lBQ0FqQixHQUFHLENBQUN2VSxXQUFXLENBQUNxc0IsS0FBSyxDQUFDO0lBQ3RCOVgsR0FBRyxDQUFDdlUsV0FBVyxDQUFDbWQsS0FBSyxDQUFDO0lBQ3RCOUksRUFBRSxDQUFDclUsV0FBVyxDQUFDc1UsR0FBRyxDQUFDO0lBQ25CRCxFQUFFLENBQUNyVSxXQUFXLENBQUN1VSxHQUFHLENBQUM7SUFDbkJGLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3lVLEdBQUcsQ0FBQztJQUNuQm1LLElBQUksQ0FBQ3hpQixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO01BQzdDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtNQUN0QixJQUFJaUgsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDZ0MsWUFBWSxDQUFDLHVCQUF1QixDQUFDO01BQ2pFLElBQUlqSyxVQUFVLEdBQUcsSUFBSSxDQUFDaUssWUFBWSxDQUFDLGlCQUFpQixDQUFDO01BQ3JELElBQUlsSyxNQUFNLEdBQUcsSUFBSSxDQUFDa0ssWUFBWSxDQUFDLGFBQWEsQ0FBQztNQUM3QyxJQUFJeEgsUUFBUSxHQUFHO1FBQ2J3RixnQkFBZ0IsRUFBRUEsZ0JBQWdCO1FBQ2xDakksVUFBVSxFQUFFQSxVQUFVO1FBQ3RCRCxNQUFNLEVBQUVBO01BQ1YsQ0FBQztNQUNELElBQUlMLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQ0MsS0FBSztNQUNyRXNJLHFGQUFzQyxDQUFDL0gsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO01BQ3JELElBQUl3dUIsS0FBSyxHQUFHLElBQUksQ0FBQy9sQixVQUFVO01BQzNCLElBQUluTCxNQUFNLElBQUksR0FBRyxFQUFFO1FBQ2pCa3hCLEtBQUssQ0FBQ3RzQixXQUFXLENBQUMsSUFBSSxDQUFDO1FBQ3ZCc3NCLEtBQUssQ0FBQ3h3QixTQUFTLEdBQUcsS0FBSztNQUN6QjtNQUNBLElBQUlWLE1BQU0sSUFBSSxHQUFHLEVBQUU7UUFDakJreEIsS0FBSyxDQUFDdHNCLFdBQVcsQ0FBQyxJQUFJLENBQUM7UUFDdkJzc0IsS0FBSyxDQUFDeHdCLFNBQVMsR0FBRyxLQUFLO01BQ3pCO0lBQ0YsQ0FBQyxDQUFDO0lBQ0YwRyxLQUFLLENBQUN6QyxXQUFXLENBQUNxVSxFQUFFLENBQUM7RUFDdkI7RUFDQSxPQUFPNVIsS0FBSztFQUVaLFNBQVM2cEIsYUFBYUEsQ0FBQ2p4QixNQUFNLEVBQUV1akIsSUFBSSxFQUFFO0lBQ25DLElBQUl2akIsTUFBTSxJQUFJLEdBQUcsRUFBRTtNQUNqQjtNQUNBdWpCLElBQUksQ0FBQ25hLFlBQVksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDO01BQ3JDbWEsSUFBSSxDQUFDN2lCLFNBQVMsR0FBRyxJQUFJO0lBQ3ZCO0lBQ0EsSUFBSVYsTUFBTSxJQUFJLEdBQUcsRUFBRTtNQUNqQjtNQUNBdWpCLElBQUksQ0FBQ25hLFlBQVksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDO01BQ3JDbWEsSUFBSSxDQUFDN2lCLFNBQVMsR0FBRyxJQUFJO0lBQ3ZCO0VBQ0Y7QUFDRixDQUFDO0FBQ0Q7QUFDQWMsU0FBUyxDQUFDM0IsU0FBUyxDQUFDK0gsNkJBQTZCLEdBQUcsVUFBU3RJLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFO0VBQ3RGLElBQUltRCxLQUFLLEdBQUd0RyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxXQUFXLENBQUM7RUFFaEQsSUFBSTBhLFNBQVMsR0FBR3RZLDhEQUFxQixDQUFDaUUsS0FBSyxDQUFDO0VBQzVDakUsNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO0VBQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsUUFBUSxDQUFDO0VBQ3hDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO0VBQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsS0FBSyxDQUFDO0VBQ3JDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO0VBQ3BDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsTUFBTSxDQUFDO0VBQ3RDdFksNERBQW1CLENBQUNzWSxTQUFTLEVBQUUsSUFBSSxDQUFDO0VBRXBDLElBQUl4UyxLQUFLLEdBQUc3QixLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO0VBQ3hDaUksS0FBSyxDQUFDN0gsU0FBUyxHQUFHLEVBQUU7RUFDcEIsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUksQ0FBQzJ4QixrQkFBa0I7RUFDdEMsSUFBSSxDQUFDM3hCLElBQUksSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtJQUM1QixJQUFJOFIsR0FBRyxHQUFHalksaUVBQXdCLENBQUNzWSxTQUFTLENBQUNyUyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsTUFBTSxDQUFDO0lBQzNFTCxLQUFLLENBQUN6QyxXQUFXLENBQUM0VSxHQUFHLENBQUM7SUFDdEI7RUFDRjtFQUNBLEtBQUssSUFBSS9SLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2hJLElBQUksQ0FBQ2lJLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDcEMsSUFBSXdSLEVBQUUsR0FBRy9aLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDckMsSUFBSW1XLFFBQVEsR0FBR3ZiLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDM0MyVSxFQUFFLENBQUNyVSxXQUFXLENBQUM2VixRQUFRLENBQUM7SUFDeEJBLFFBQVEsQ0FBQzlaLFNBQVMsR0FBRzhHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQ2tDLE1BQU0sQ0FBQ3ZILFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSXVILE1BQU0sQ0FBQ3RILFFBQVEsQ0FBQztJQUN4RSxJQUFJNlcsR0FBRyxHQUFHaGEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3NVLEdBQUcsQ0FBQztJQUNuQixJQUFJQyxHQUFHLEdBQUdqYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDdVUsR0FBRyxDQUFDO0lBQ25CLElBQUlFLEdBQUcsR0FBR25hLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUN5VSxHQUFHLENBQUM7SUFDbkIsSUFBSWdZLFdBQVcsR0FBR255QixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO0lBQ2hEK1UsR0FBRyxDQUFDelUsV0FBVyxDQUFDeXNCLFdBQVcsQ0FBQztJQUM1QixJQUFJQyxXQUFXLEdBQUdweUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztJQUNoRGd0QixXQUFXLENBQUMzd0IsU0FBUyxHQUFHLEdBQUc7SUFDM0IwWSxHQUFHLENBQUN6VSxXQUFXLENBQUMwc0IsV0FBVyxDQUFDO0lBQzVCLElBQUlDLFdBQVcsR0FBR3J5QixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO0lBQ2hEK1UsR0FBRyxDQUFDelUsV0FBVyxDQUFDMnNCLFdBQVcsQ0FBQztJQUM1QixJQUFJZCxHQUFHLEdBQUd2eEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzZyQixHQUFHLENBQUM7SUFDbkIsSUFBSUMsR0FBRyxHQUFHeHhCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUM4ckIsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR3p4QixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDK3JCLEdBQUcsQ0FBQztJQUNuQixJQUFJYSxVQUFVLEdBQUd0eUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUM1Q2t0QixVQUFVLENBQUM3d0IsU0FBUyxHQUFHLE1BQU07SUFDN0I2d0IsVUFBVSxDQUFDanRCLElBQUksR0FBRytCLFFBQVEsQ0FBQ21yQixRQUFRLEdBQUcsV0FBVyxHQUFHaHlCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDVSxnQkFBZ0I7SUFDNUV3b0IsR0FBRyxDQUFDL3JCLFdBQVcsQ0FBQzRzQixVQUFVLENBQUM7SUFDM0IsSUFBSUUsT0FBTyxHQUFHeHlCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFDekNvdEIsT0FBTyxDQUFDcm9CLFlBQVksQ0FBQyxPQUFPLEVBQUUsc0JBQXNCLENBQUM7SUFDckQ7SUFDQSxLQUFLLElBQUloRSxHQUFHLElBQUk1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsRUFBRTtNQUN2QixJQUFJcEMsR0FBRyxJQUFJLGtCQUFrQixFQUFFO1FBQzdCcXNCLE9BQU8sQ0FBQ3JvQixZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztNQUNuRDtNQUNBLElBQUlBLEdBQUcsSUFBSSxvQkFBb0IsRUFBRTtRQUMvQjZULEdBQUcsQ0FBQ3ZZLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQzlCO01BQ0EsSUFBSUEsR0FBRyxJQUFJLGtCQUFrQixFQUFFO1FBQzdCOFQsR0FBRyxDQUFDeFksU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7UUFDNUI4VCxHQUFHLENBQUM5UCxZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztNQUMvQztNQUNBLElBQUlBLEdBQUcsSUFBSSxXQUFXLEVBQUU7UUFDdEJnc0IsV0FBVyxDQUFDMXdCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQ3RDO01BQ0EsSUFBSUEsR0FBRyxJQUFJLFNBQVMsRUFBRTtRQUNwQmtzQixXQUFXLENBQUM1d0IsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDdEM7TUFDQSxJQUFJQSxHQUFHLElBQUksWUFBWSxFQUFFO1FBQ3ZCb3JCLEdBQUcsQ0FBQzl2QixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QjtNQUNBLElBQUlBLEdBQUcsSUFBSSxRQUFRLEVBQUU7UUFDbkIsSUFBSTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFO1VBQ3ZCcXNCLE9BQU8sQ0FBQy93QixTQUFTLEdBQUcsSUFBSTtVQUN4Qit3QixPQUFPLENBQUNyb0IsWUFBWSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUM7VUFDeENzbkIsR0FBRyxDQUFDL3JCLFdBQVcsQ0FBQzhzQixPQUFPLENBQUM7UUFDMUI7UUFDQSxJQUFJanlCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsSUFBSSxHQUFHLEVBQUU7VUFDOUNxc0IsT0FBTyxDQUFDL3dCLFNBQVMsR0FBRyxJQUFJO1VBQ3hCK3dCLE9BQU8sQ0FBQ3JvQixZQUFZLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQztVQUN4Q3NuQixHQUFHLENBQUMvckIsV0FBVyxDQUFDOHNCLE9BQU8sQ0FBQztRQUMxQjtNQUNGO01BQ0EsSUFBSXJzQixHQUFHLElBQUksU0FBUyxFQUFFO1FBQ3BCcXJCLEdBQUcsQ0FBQy92QixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QjtJQUNGO0lBQ0Fxc0IsT0FBTyxDQUFDMXdCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDaERBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUlzaUIsSUFBSSxHQUFHLElBQUk7TUFDZixJQUFJNWpCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsc0NBQXNDLENBQUMsQ0FBQ0MsS0FBSztNQUM5RSxJQUFJc0QsUUFBUSxHQUFHO1FBQ2J3RixnQkFBZ0IsRUFBRXFiLElBQUksQ0FBQ3JaLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQztRQUM1RGxLLE1BQU0sRUFBRXVqQixJQUFJLENBQUNyWixZQUFZLENBQUMsYUFBYTtNQUN6QyxDQUFDO01BQ0Q7TUFDQXJDLDZFQUE4QixDQUFDbEksR0FBRyxFQUFFK0MsUUFBUSxDQUFDO0lBQy9DLENBQUMsQ0FBQztJQUNGMEUsS0FBSyxDQUFDekMsV0FBVyxDQUFDcVUsRUFBRSxDQUFDO0VBQ3ZCO0VBQ0E0SixzREFBZSxDQUFDdGpCLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFdUYseUVBQThCLENBQUM7QUFDNUUsQ0FBQzs7QUFJRDtBQUNBLFNBQVMrcEIsS0FBS0EsQ0FBQ2x5QixJQUFJLEVBQUU0YyxLQUFLLEVBQUVuRixFQUFFLEVBQUU7RUFDOUIsSUFBSSxDQUFDelgsSUFBSSxHQUFHQSxJQUFJO0VBQ2hCLElBQUksQ0FBQzRjLEtBQUssR0FBR0EsS0FBSztFQUNsQixJQUFJLENBQUNuRixFQUFFLEdBQUdBLEVBQUUsR0FBR0EsRUFBRSxHQUFHLElBQUk7QUFDMUI7QUFDQXlhLEtBQUssQ0FBQzd4QixTQUFTLENBQUNzaUIsTUFBTSxHQUFHLFlBQVc7RUFDbEMsSUFBSTNpQixJQUFJLEdBQUcsSUFBSSxDQUFDQSxJQUFJO0lBQ2xCbXlCLFNBQVMsR0FBRyxJQUFJLENBQUN2VixLQUFLO0lBQ3RCd1YsT0FBTyxHQUFHLElBQUksQ0FBQzNhLEVBQUU7SUFDakI5VixLQUFLLEdBQUdsQyxRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3JDd3RCLE1BQU0sR0FBRzV5QixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3RDeXRCLE9BQU8sR0FBRzd5QixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3ZDMHRCLE1BQU0sR0FBRzl5QixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3JDMnRCLEtBQUssR0FBRy95QixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3JDNHRCLEtBQUssR0FBR2h6QixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO0VBQ3hDbEQsS0FBSyxDQUFDaUksWUFBWSxDQUFDLElBQUksRUFBRXdvQixPQUFPLENBQUM7RUFDakN6d0IsS0FBSyxDQUFDaUksWUFBWSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7RUFDbEN5b0IsTUFBTSxDQUFDem9CLFlBQVksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUM7RUFDL0Mwb0IsT0FBTyxDQUFDMW9CLFlBQVksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUM7RUFDaEQyb0IsTUFBTSxDQUFDM29CLFlBQVksQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7RUFDOUMyb0IsTUFBTSxDQUFDcnhCLFNBQVMsR0FBR2l4QixTQUFTO0VBQzVCSyxLQUFLLENBQUM1b0IsWUFBWSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7RUFDNUM0b0IsS0FBSyxDQUFDNW9CLFlBQVksQ0FBQyxrQkFBa0IsRUFBRSxFQUFFLENBQUM7RUFDMUM2b0IsS0FBSyxDQUFDN29CLFlBQVksQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDO0VBQzVDNm9CLEtBQUssQ0FBQzdvQixZQUFZLENBQUMsU0FBUyxFQUFFLEVBQUUsQ0FBQztFQUVqQzZvQixLQUFLLENBQUM3b0IsWUFBWSxDQUFDLGNBQWMsRUFBRTVKLElBQUksQ0FBQ3VzQixPQUFPLENBQUM7RUFDaEQrRixPQUFPLENBQUNudEIsV0FBVyxDQUFDb3RCLE1BQU0sQ0FBQztFQUMzQixJQUFJckYsV0FBVyxHQUFHcHBCLElBQUksQ0FBQ3lCLEtBQUssQ0FBQ3ZGLElBQUksQ0FBQ2t0QixXQUFXLENBQUM7RUFDOUM7RUFDQSxLQUFLLElBQUlsbEIsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHa2xCLFdBQVcsQ0FBQ2psQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQzNDLElBQUkwcUIsR0FBRyxHQUFHUixLQUFLLENBQUNTLGFBQWEsQ0FBQ3pGLFdBQVcsQ0FBQ2xsQixDQUFDLENBQUMsQ0FBQztJQUM3QyxLQUFLLElBQUlzTixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdvZCxHQUFHLENBQUN6cUIsTUFBTSxFQUFFcU4sQ0FBQyxFQUFFLEVBQUU7TUFDbkNtZCxLQUFLLENBQUN0dEIsV0FBVyxDQUFDdXRCLEdBQUcsQ0FBQ3BkLENBQUMsQ0FBQyxDQUFDO0lBQzNCO0VBQ0Y7RUFDQSxJQUFJc2QsYUFBYSxHQUFHVixLQUFLLENBQUNXLGdCQUFnQixDQUFDN3lCLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxDQUFDO0VBQ25FLElBQUk4eUIsWUFBWSxHQUFHWixLQUFLLENBQUNhLGVBQWUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDO0VBQzdELElBQUlDLGFBQWEsR0FBR2QsS0FBSyxDQUFDZSxnQkFBZ0IsQ0FBQ1IsS0FBSyxDQUFDO0VBQ2pEQSxLQUFLLENBQUN0dEIsV0FBVyxDQUFDeXRCLGFBQWEsQ0FBQztFQUNoQ0gsS0FBSyxDQUFDdHRCLFdBQVcsQ0FBQzJ0QixZQUFZLENBQUM7RUFDL0JMLEtBQUssQ0FBQ3R0QixXQUFXLENBQUM2dEIsYUFBYSxDQUFDO0VBQ2hDZCxLQUFLLENBQUNnQixXQUFXLENBQUNULEtBQUssRUFBRXp5QixJQUFJLENBQUM2c0IsS0FBSyxDQUFDO0VBRXBDMkYsS0FBSyxDQUFDcnRCLFdBQVcsQ0FBQ3N0QixLQUFLLENBQUM7RUFDeEJKLE1BQU0sQ0FBQ2x0QixXQUFXLENBQUNtdEIsT0FBTyxDQUFDO0VBQzNCRCxNQUFNLENBQUNsdEIsV0FBVyxDQUFDcXRCLEtBQUssQ0FBQztFQUN6Qjd3QixLQUFLLENBQUN3RCxXQUFXLENBQUNrdEIsTUFBTSxDQUFDO0VBQ3pCLE9BQU8xd0IsS0FBSztBQUNkLENBQUM7QUFDRHV3QixLQUFLLENBQUNnQixXQUFXLEdBQUcsVUFBU3Z5QixJQUFJLEVBQUVrc0IsS0FBSyxFQUFFO0VBQ3hDLElBQUlzRyxlQUFlLEdBQUd4eUIsSUFBSSxDQUFDb0gsZ0JBQWdCLENBQUMseUJBQXlCLENBQUM7SUFDcEVxckIsWUFBWSxHQUFHenlCLElBQUksQ0FBQ2hCLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQztFQUMzRCxJQUFJMHpCLFFBQVEsR0FBRzF5QixJQUFJLENBQUNoQixhQUFhLENBQUMsc0JBQXNCLENBQUM7SUFDdkQyekIsUUFBUSxHQUFHLElBQUk7RUFDakIsSUFBSUQsUUFBUSxFQUFFO0lBQ1pDLFFBQVEsR0FBRzN5QixJQUFJLENBQUNoQixhQUFhLENBQUMscUJBQXFCLENBQUM7SUFDcEQyekIsUUFBUSxDQUFDL3hCLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxVQUFTQyxLQUFLLEVBQUU7TUFDaERBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO01BQ3RCLElBQUk4eEIsUUFBUSxHQUFHLElBQUksQ0FBQzN6QixLQUFLO01BQ3pCeXpCLFFBQVEsQ0FBQ3pwQixZQUFZLENBQUMsT0FBTyxFQUFFNHBCLFVBQVUsQ0FBQzNHLEtBQUssRUFBRTBHLFFBQVEsQ0FBQyxDQUFDO01BQzNESCxZQUFZLENBQUN4cEIsWUFBWSxDQUFDLE9BQU8sRUFBRTZwQixXQUFXLEVBQUUsQ0FBQztJQUNuRCxDQUFDLENBQUM7RUFDSjtFQUNBLEtBQUssSUFBSXpyQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdtckIsZUFBZSxDQUFDbHJCLE1BQU0sRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDL0MsSUFBSW1SLElBQUksR0FBR2dhLGVBQWUsQ0FBQ25yQixDQUFDLENBQUM7SUFDN0IsSUFBS21SLElBQUksQ0FBQzVZLElBQUksSUFBSSxTQUFTLElBQU00WSxJQUFJLENBQUN6TyxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksTUFBTyxFQUFFO01BQ3pFeU8sSUFBSSxDQUFDNVgsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUM1Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIyeEIsWUFBWSxDQUFDeHBCLFlBQVksQ0FBQyxPQUFPLEVBQUU2cEIsV0FBVyxFQUFFLENBQUM7TUFDbkQsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtFQUVBLFNBQVNBLFdBQVdBLENBQUEsRUFBRztJQUNyQixJQUFJOWlCLE1BQU0sR0FBRyxDQUFDO0lBQ2QsS0FBSyxJQUFJM0ksQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHbXJCLGVBQWUsQ0FBQ2xyQixNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQy9DLElBQUltUixJQUFJLEdBQUdnYSxlQUFlLENBQUNuckIsQ0FBQyxDQUFDO01BQzdCLElBQUltUixJQUFJLENBQUM1WSxJQUFJLElBQUksU0FBUyxJQUFJNFksSUFBSSxDQUFDek8sWUFBWSxDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU0sRUFBRTtRQUNyRWlHLE1BQU0sSUFBSXpHLE1BQU0sQ0FBQ2lQLElBQUksQ0FBQ3ZaLEtBQUssQ0FBQztNQUM5QjtJQUNGO0lBQ0EsT0FBTytRLE1BQU07RUFDZjtFQUVBLFNBQVM2aUIsVUFBVUEsQ0FBQzNHLEtBQUssRUFBRTBHLFFBQVEsRUFBRTtJQUNuQyxJQUFJNWlCLE1BQU0sR0FBRyxDQUFDO0lBQ2RBLE1BQU0sR0FBR3pHLE1BQU0sQ0FBQzJpQixLQUFLLENBQUMsR0FBRzNpQixNQUFNLENBQUNxcEIsUUFBUSxDQUFDO0lBQ3pDLE9BQU9HLElBQUksQ0FBQ0MsS0FBSyxDQUFDaGpCLE1BQU0sQ0FBQztFQUMzQjtBQUNGLENBQUM7QUFDRHVoQixLQUFLLENBQUN0TyxXQUFXLEdBQUcsVUFBU2pqQixJQUFJLEVBQUU7RUFDakMsSUFBSXVDLFFBQVEsR0FBRztJQUNicXBCLE9BQU8sRUFBRSxFQUFFO0lBQ1hpQixRQUFRLEVBQUUsRUFBRTtJQUNaTixXQUFXLEVBQUUsRUFBRTtJQUNmZ0QsTUFBTSxFQUFFO0VBQ1YsQ0FBQztFQUNELElBQUkwRCxlQUFlLEdBQUdqekIsSUFBSSxDQUFDb0gsZ0JBQWdCLENBQUMseUJBQXlCLENBQUM7SUFDcEU4ckIsV0FBVyxHQUFHbHpCLElBQUksQ0FBQ2hCLGFBQWEsQ0FBQyxxQkFBcUIsQ0FBQztFQUN6RHVELFFBQVEsQ0FBQ3FwQixPQUFPLEdBQUc1ckIsSUFBSSxDQUFDK0osWUFBWSxDQUFDLGNBQWMsQ0FBQztFQUNwRHhILFFBQVEsQ0FBQ3NxQixRQUFRLEdBQUc3c0IsSUFBSSxDQUFDaEIsYUFBYSxDQUFDLHNCQUFzQixDQUFDLENBQUNDLEtBQUs7RUFDcEVzRCxRQUFRLENBQUNndEIsTUFBTSxHQUFHdnZCLElBQUksQ0FBQ2hCLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDQyxLQUFLO0VBQ3hFLEtBQUssSUFBSW9JLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRzRyQixlQUFlLENBQUMzckIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUMvQyxJQUFJOFAsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNaQSxHQUFHLENBQUNvRixLQUFLLEdBQUcwVyxlQUFlLENBQUM1ckIsQ0FBQyxDQUFDLENBQUN6SCxJQUFJO0lBQ25DLElBQUlxekIsZUFBZSxDQUFDNXJCLENBQUMsQ0FBQyxDQUFDMEMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLE1BQU0sRUFBRTtNQUMxRG9OLEdBQUcsQ0FBQ3dGLE9BQU8sR0FBR3VXLFdBQVcsQ0FBQ2owQixLQUFLO0lBQ2pDO0lBQ0FrWSxHQUFHLENBQUNzRixHQUFHLEdBQUd3VyxlQUFlLENBQUM1ckIsQ0FBQyxDQUFDLENBQUNwSSxLQUFLO0lBQ2xDa1ksR0FBRyxDQUFDMEYsVUFBVSxHQUFHb1csZUFBZSxDQUFDNXJCLENBQUMsQ0FBQyxDQUFDMEMsWUFBWSxDQUFDLGlCQUFpQixDQUFDO0lBQ25FeEgsUUFBUSxDQUFDZ3FCLFdBQVcsQ0FBQ3BlLElBQUksQ0FBQ2dKLEdBQUcsQ0FBQztFQUNoQztFQUNBLE9BQU81VSxRQUFRO0FBQ2pCLENBQUM7QUFDRGd2QixLQUFLLENBQUNlLGdCQUFnQixHQUFHLFVBQVN0eUIsSUFBSSxFQUFFO0VBQ3RDLElBQUltekIsUUFBUSxHQUFHcjBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxTQUFTLENBQUM7SUFDOUNrdkIsVUFBVSxHQUFHdDBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7SUFDN0NtdkIsVUFBVSxHQUFHdjBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxRQUFRLENBQUM7RUFDL0NpdkIsUUFBUSxDQUFDbHFCLFlBQVksQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7RUFDaERtcUIsVUFBVSxDQUFDbnFCLFlBQVksQ0FBQyxPQUFPLEVBQUUscURBQXFELENBQUM7RUFDdkZtcUIsVUFBVSxDQUFDN3lCLFNBQVMsR0FBRyxJQUFJO0VBQzNCNnlCLFVBQVUsQ0FBQzV5QixLQUFLLENBQUM4eUIsV0FBVyxHQUFHLEtBQUs7RUFDcENGLFVBQVUsQ0FBQ3h5QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO0lBQ25EQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtJQUN0QixJQUFJdEIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDQyxLQUFLO0lBQzFFLElBQUlJLElBQUksR0FBR2t5QixLQUFLLENBQUN0TyxXQUFXLENBQUNqakIsSUFBSSxDQUFDO0lBQ2xDO0lBQ0FvRyxrRUFBbUIsQ0FBQzVHLEdBQUcsRUFBRUgsSUFBSSxDQUFDO0VBQ2hDLENBQUMsQ0FBQztFQUNGZzBCLFVBQVUsQ0FBQ3BxQixZQUFZLENBQUMsT0FBTyxFQUFFLHNDQUFzQyxDQUFDO0VBQ3hFb3FCLFVBQVUsQ0FBQzl5QixTQUFTLEdBQUcsSUFBSTtFQUMzQjR5QixRQUFRLENBQUMzdUIsV0FBVyxDQUFDNHVCLFVBQVUsQ0FBQztFQUNoQ0QsUUFBUSxDQUFDM3VCLFdBQVcsQ0FBQzZ1QixVQUFVLENBQUM7RUFDaEMsT0FBT0YsUUFBUTtBQUNqQixDQUFDO0FBQ0Q1QixLQUFLLENBQUNhLGVBQWUsR0FBRyxVQUFTeHlCLElBQUksRUFBRTZlLElBQUksRUFBRTtFQUMzQyxJQUFJOFUsSUFBSSxHQUFHejBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7SUFDdENzdkIsTUFBTSxHQUFHMTBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxPQUFPLENBQUM7SUFDeEN1dkIsU0FBUyxHQUFHMzBCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxVQUFVLENBQUM7RUFDaERxdkIsSUFBSSxDQUFDdHFCLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO0VBQzFDdXFCLE1BQU0sQ0FBQ3ZxQixZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztFQUM3Q3VxQixNQUFNLENBQUNqekIsU0FBUyxHQUFHa2UsSUFBSTtFQUN2QitVLE1BQU0sQ0FBQ3ZxQixZQUFZLENBQUMsS0FBSyxFQUFFckosSUFBSSxDQUFDO0VBQ2hDNnpCLFNBQVMsQ0FBQ3hxQixZQUFZLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQztFQUM5Q3dxQixTQUFTLENBQUN4cUIsWUFBWSxDQUFDLE1BQU0sRUFBRXJKLElBQUksQ0FBQztFQUNwQzZ6QixTQUFTLENBQUN4cUIsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7RUFDakN3cUIsU0FBUyxDQUFDeHFCLFlBQVksQ0FBQyxhQUFhLEVBQUUsZUFBZSxDQUFDO0VBQ3REd3FCLFNBQVMsQ0FBQ3hxQixZQUFZLENBQUMsV0FBVyxFQUFFLEdBQUcsQ0FBQztFQUN4Q3dxQixTQUFTLENBQUN4cUIsWUFBWSxDQUFDLE9BQU8sRUFBRSxjQUFjLENBQUM7RUFDL0NzcUIsSUFBSSxDQUFDL3VCLFdBQVcsQ0FBQ2d2QixNQUFNLENBQUM7RUFDeEJELElBQUksQ0FBQy91QixXQUFXLENBQUNpdkIsU0FBUyxDQUFDO0VBQzNCLE9BQU9GLElBQUk7QUFDYixDQUFDO0FBQ0RoQyxLQUFLLENBQUNXLGdCQUFnQixHQUFHLFVBQVM3eUIsSUFBSSxFQUFFTyxJQUFJLEVBQUU2ZSxJQUFJLEVBQUU7RUFDbEQsSUFBSThVLElBQUksR0FBR3owQixRQUFRLENBQUNvRixhQUFhLENBQUMsS0FBSyxDQUFDO0lBQ3RDc3ZCLE1BQU0sR0FBRzEwQixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0lBQ3hDd3ZCLE1BQU0sR0FBRzUwQixRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO0lBQ3hDcW9CLFdBQVcsR0FBR3BwQixJQUFJLENBQUN5QixLQUFLLENBQUN2RixJQUFJLENBQUNrdEIsV0FBVyxDQUFDO0lBQzFDTSxRQUFRLEdBQUcsQ0FBQztFQUNkMEcsSUFBSSxDQUFDdHFCLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO0VBQzFDdXFCLE1BQU0sQ0FBQ3ZxQixZQUFZLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQztFQUM3Q3VxQixNQUFNLENBQUNqekIsU0FBUyxHQUFHa2UsSUFBSTtFQUN2QitVLE1BQU0sQ0FBQ3ZxQixZQUFZLENBQUMsS0FBSyxFQUFFckosSUFBSSxDQUFDO0VBQ2hDOHpCLE1BQU0sQ0FBQ3pxQixZQUFZLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQztFQUN4Q3lxQixNQUFNLENBQUN6cUIsWUFBWSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUM7RUFDckN5cUIsTUFBTSxDQUFDenFCLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO0VBQ25DeXFCLE1BQU0sQ0FBQ3pxQixZQUFZLENBQUMsTUFBTSxFQUFFckosSUFBSSxDQUFDO0VBQ2pDLEtBQUssSUFBSXlILENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR2tsQixXQUFXLENBQUNqbEIsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUMzQ3dsQixRQUFRLElBQUl0akIsTUFBTSxDQUFDZ2pCLFdBQVcsQ0FBQ2xsQixDQUFDLENBQUMsQ0FBQ29WLEdBQUcsQ0FBQztFQUN4QztFQUNBaVgsTUFBTSxDQUFDenFCLFlBQVksQ0FBQyxPQUFPLEVBQUU0akIsUUFBUSxDQUFDO0VBQ3RDMEcsSUFBSSxDQUFDL3VCLFdBQVcsQ0FBQ2d2QixNQUFNLENBQUM7RUFDeEJELElBQUksQ0FBQy91QixXQUFXLENBQUNrdkIsTUFBTSxDQUFDO0VBQ3hCLE9BQU9ILElBQUk7QUFDYixDQUFDO0FBQ0RoQyxLQUFLLENBQUNTLGFBQWEsR0FBRyxVQUFTM3lCLElBQUksRUFBRTtFQUNuQyxJQUFJc2QsT0FBTyxHQUFHdGQsSUFBSSxDQUFDc2QsT0FBTyxHQUFHdGQsSUFBSSxDQUFDc2QsT0FBTyxHQUFHLElBQUk7SUFDOUNGLEdBQUcsR0FBR3BkLElBQUksQ0FBQ29kLEdBQUc7SUFDZEYsS0FBSyxHQUFHbGQsSUFBSSxDQUFDa2QsS0FBSztJQUNsQk0sVUFBVSxHQUFHeGQsSUFBSSxDQUFDd2QsVUFBVTtFQUM5QixJQUFJQSxVQUFVLEtBQUssS0FBSyxFQUFFO0lBQ3hCLElBQUk4VyxHQUFHLEdBQUdDLFNBQVMsQ0FBQyxTQUFTLENBQUM7TUFDNUJDLEdBQUcsR0FBR0QsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUN6QixPQUFPLENBQUNELEdBQUcsRUFBRUUsR0FBRyxDQUFDO0VBQ25CLENBQUMsTUFBTTtJQUNMLElBQUlDLEVBQUUsR0FBR0YsU0FBUyxFQUFFO0lBQ3BCLE9BQU8sQ0FBQ0UsRUFBRSxDQUFDO0VBQ2I7RUFFQSxTQUFTRixTQUFTQSxDQUFDMXFCLElBQUksRUFBRTtJQUN2QixJQUFJb1UsSUFBSSxHQUFJcFUsSUFBSSxLQUFLLFNBQVU7TUFDN0I2cUIsUUFBUSxHQUFHajFCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxLQUFLLENBQUM7TUFDeENpUixLQUFLLEdBQUdyVyxRQUFRLENBQUNvRixhQUFhLENBQUMsT0FBTyxDQUFDO01BQ3ZDMlMsS0FBSyxHQUFHL1gsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE9BQU8sQ0FBQztJQUN6QyxJQUFJOHZCLFlBQVksR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN2QkQsUUFBUSxDQUFDOXFCLFlBQVksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFDO0lBQzlDa00sS0FBSyxDQUFDbE0sWUFBWSxDQUFDLE9BQU8sRUFBRSxlQUFlLENBQUM7SUFDNUM0TixLQUFLLENBQUM1TixZQUFZLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQztJQUN2QzROLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDO0lBQ3BDNE4sS0FBSyxDQUFDNU4sWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDNUI0TixLQUFLLENBQUM1TixZQUFZLENBQUMsTUFBTSxFQUFFcVUsSUFBSSxHQUFHLFNBQVMsR0FBR2YsS0FBSyxDQUFDO0lBQ3BELElBQUlyVCxJQUFJLEtBQUssTUFBTSxFQUFFO01BQUU7TUFDckIyTixLQUFLLENBQUM1TixZQUFZLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQztNQUN0QzROLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO0lBQ3BDLENBQUMsTUFBTTtNQUNMO01BQ0EsSUFBSSxDQUFDcVUsSUFBSSxFQUFFO1FBQUU7UUFDWHpHLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxXQUFXLEVBQUUrcUIsWUFBWSxDQUFDO01BQy9DO01BQ0FuZCxLQUFLLENBQUNqVyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1FBQzlDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtRQUN0QixJQUFJLENBQUM3QixLQUFLLEdBQUdzSyxNQUFNLENBQUMsSUFBSSxDQUFDdEssS0FBSyxDQUFDO1FBQy9CLElBQUlxZSxJQUFJLEVBQUU7VUFDUjtVQUNBLElBQUksQ0FBQ3JlLEtBQUssR0FBRzh6QixJQUFJLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUMvekIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUc7UUFDakQsQ0FBQyxNQUFNO1VBQ0w7VUFDQSxJQUFJLENBQUNBLEtBQUssR0FBRzh6QixJQUFJLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUMvekIsS0FBSyxDQUFDO1FBQ3JDO1FBQ0EsSUFBSSxDQUFDa1IsTUFBTSxFQUFFO01BQ2YsQ0FBQyxDQUFDO01BQ0YwRyxLQUFLLENBQUNqVyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1FBQzdDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtRQUN0QixJQUFJLENBQUM3QixLQUFLLEdBQUdzSyxNQUFNLENBQUMsSUFBSSxDQUFDdEssS0FBSyxDQUFDO01BQ2pDLENBQUMsQ0FBQztJQUNKO0lBQ0FrVyxLQUFLLENBQUNsTSxZQUFZLENBQUMsS0FBSyxFQUFFNE4sS0FBSyxDQUFDalgsSUFBSSxDQUFDO0lBQ3JDdVYsS0FBSyxDQUFDNVUsU0FBUyxHQUFHK2MsSUFBSSxHQUFHLE1BQU0sR0FBR1QsVUFBVTtJQUM1QyxJQUFJLENBQUNTLElBQUksRUFBRTtNQUNUekcsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLGtCQUFrQixFQUFFLEVBQUUsQ0FBQztNQUMxQztNQUNBNE4sS0FBSyxDQUFDalcsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVNDLEtBQUssRUFBRTtRQUM5Q0EsS0FBSyxDQUFDQyxjQUFjLEVBQUU7UUFDdEIsSUFBSSxDQUFDN0IsS0FBSyxHQUFHLElBQUksQ0FBQ0EsS0FBSyxDQUFDZ2IsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUM7UUFDMUMsSUFBSSxJQUFJLENBQUNoYixLQUFLLENBQUNxSSxNQUFNLEdBQUcwc0IsWUFBWSxFQUFFO1VBQ3BDLElBQUksQ0FBQy8wQixLQUFLLEdBQUcsSUFBSSxDQUFDQSxLQUFLLENBQUN3VCxLQUFLLENBQUMsQ0FBQyxFQUFFdWhCLFlBQVksQ0FBQztRQUNoRDtNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsTUFBTTtNQUNMO01BQ0FuZCxLQUFLLENBQUNqVyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFFO1FBQzlDQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtRQUN0QixJQUFJLENBQUM3QixLQUFLLEdBQUcsSUFBSSxDQUFDQSxLQUFLLENBQUM4YyxLQUFLLENBQUMsb0JBQW9CLENBQUM7TUFDckQsQ0FBQyxDQUFDO0lBQ0o7SUFDQWxGLEtBQUssQ0FBQzVOLFlBQVksQ0FBQyxPQUFPLEVBQUVxVSxJQUFJLEdBQUdYLE9BQU8sR0FBR0YsR0FBRyxDQUFDO0lBQ2pENUYsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLE1BQU0sRUFBRXFVLElBQUksR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQy9DekcsS0FBSyxDQUFDNU4sWUFBWSxDQUFDLGlCQUFpQixFQUFFNFQsVUFBVSxDQUFDO0lBQ2pEa1gsUUFBUSxDQUFDdnZCLFdBQVcsQ0FBQzJRLEtBQUssQ0FBQztJQUMzQjRlLFFBQVEsQ0FBQ3Z2QixXQUFXLENBQUNxUyxLQUFLLENBQUM7SUFDM0IsT0FBT2tkLFFBQVE7RUFDakI7QUFDRixDQUFDO0FBRUQsU0FBUzNFLFdBQVdBLENBQUMvdkIsSUFBSSxFQUFFNGMsS0FBSyxFQUFFbkYsRUFBRSxFQUFFO0VBQ3BDLElBQUltZCxHQUFHLEdBQUcsSUFBSTFDLEtBQUssQ0FBQ2x5QixJQUFJLEVBQUU0YyxLQUFLLEVBQUVuRixFQUFFLENBQUM7RUFDcEMsT0FBT21kLEdBQUcsQ0FBQ2pTLE1BQU0sRUFBRTtBQUNyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDajhEOEI7QUFJUDtBQUtEO0FBQ2dCO0FBQ0U7QUFFakMsU0FBU2tTLG1CQUFtQkEsQ0FBQSxFQUFHO0VBQ3BDLE9BQU81UCxtRUFBb0IsRUFBRTtBQUMvQjtBQUNPLFNBQVM2UCxtQ0FBbUNBLENBQUEsRUFBRztFQUNwRCxPQUFPek4sbUZBQW9DLEVBQUU7QUFDL0M7QUFDTyxTQUFTME4sOEJBQThCQSxDQUFBLEVBQUc7RUFDL0MsT0FBT2oyQiwrRUFBZ0MsRUFBRTtBQUMzQztBQUNPLFNBQVNrMkIscUNBQXFDQSxDQUFBLEVBQUc7RUFDdEQsT0FBT2oyQixzRkFBdUMsRUFBRTtBQUNsRDtBQUNPLFNBQVNrMkIseUJBQXlCQSxDQUFBLEVBQUc7RUFDekM7RUFDRHZ5Qiw4REFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFb0Qsa0VBQXdCLENBQUM7RUFDakQ7RUFDQW5DLDhEQUFnQixDQUFDRSwyREFBaUIsQ0FBQztBQUNyQztBQUNPLFNBQVNxeEIsK0JBQStCQSxDQUFBLEVBQUc7RUFDaEQsSUFBSUMsc0JBQXNCLEdBQUcxMUIsUUFBUSxDQUFDRSxhQUFhLENBQUMsZ0NBQWdDLENBQUMsQ0FBQ0MsS0FBSztFQUMzRm9KLHNEQUFZLENBQUMsZUFBZSxFQUFFLFVBQVNsSixHQUFHLEVBQUM7SUFDekM7SUFDQTtJQUNBLElBQUl1SyxHQUFHLEdBQUc1SyxRQUFRLENBQUNDLGNBQWMsQ0FBQyxjQUFjLENBQUM7SUFDakRvQyxrRUFBMEIsQ0FBQ2hDLEdBQUcsQ0FBQ0UsSUFBSSxFQUFFcUssR0FBRyxDQUFDO0lBQ3pDaEosQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO01BQ0w5RCxHQUFHLEVBQUVnMUIsc0JBQXNCO01BQzNCOXdCLE9BQU8sRUFBRSxTQUFBQSxRQUFTdkUsR0FBRyxFQUFFO1FBQ3JCO1FBQ0EsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7UUFDbkIsSUFBSXFLLEdBQUcsR0FBRzVLLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFlBQVksQ0FBQztRQUMvQ29DLCtEQUF1QixDQUFDOUIsSUFBSSxFQUFFcUssR0FBRyxDQUFDO1FBQ2xDO1FBQ0F2SSx5REFBaUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDO1FBQ3pDQSx5REFBaUIsQ0FBQyxjQUFjLEVBQUUsWUFBWSxDQUFDO1FBQy9DO1FBQ0FZLDhEQUFnQixDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUwRCx3RUFBOEIsQ0FBQztNQUN6RDtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQ08sU0FBU2d2Qiw0QkFBNEJBLENBQUEsRUFBRztFQUM3QyxJQUFJMXNCLGdCQUFnQixHQUFHakosUUFBUSxDQUFDRSxhQUFhLENBQUMsOEJBQThCLENBQUMsQ0FBQ0MsS0FBSztFQUNuRixJQUFJTyxHQUFHLEdBQUdWLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLG1DQUFtQyxDQUFDLENBQUNDLEtBQUs7RUFDM0UsSUFBSUksSUFBSSxHQUFHO0lBQ1QwSSxnQkFBZ0IsRUFBRUE7RUFDcEIsQ0FBQztFQUNEckgsQ0FBQyxDQUFDNEMsSUFBSSxDQUFDO0lBQ0w5RCxHQUFHLEVBQUVBLEdBQUc7SUFDUkgsSUFBSSxFQUFFOEQsSUFBSSxDQUFDQyxTQUFTLENBQUMvRCxJQUFJLENBQUM7SUFDMUJxRSxPQUFPLEVBQUUsU0FBQUEsUUFBU3ZFLEdBQUcsRUFBRTtNQUNyQixJQUFJb0Msc0RBQVEsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUM3QjBDLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQ3ZHLEdBQUcsQ0FBQztNQUNoQixJQUFJO1FBQ0YsSUFBSUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7UUFDbkIsSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtVQUNuQnZHLEtBQUssQ0FBQ0MsS0FBSyxDQUFDaUYsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUMxQjtRQUNBOUUsbUVBQTJCLENBQUM5QixJQUFJLENBQUM7TUFDbkMsQ0FBQyxDQUFDLE9BQU95QyxLQUFLLEVBQUU7UUFDZG1FLEtBQUssQ0FBQ25FLEtBQUssQ0FBQztNQUNkO0lBQ0Y7RUFDRixDQUFDLENBQUM7RUFDRjtFQUNBaEQsUUFBUSxDQUFDQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUM2QixnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsVUFBU0MsS0FBSyxFQUFDO0lBQzFFQSxLQUFLLENBQUNDLGNBQWMsRUFBRTtJQUN0QixJQUFJdEIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDQyxLQUFLO0lBQzlENEUsTUFBTSxDQUFDcUMsUUFBUSxDQUFDL0IsSUFBSSxHQUFHM0UsR0FBRztFQUM1QixDQUFDLENBQUM7QUFDSjtBQUVPLFNBQVM4QixTQUFTQSxDQUFBLEVBQUUsQ0FBQztBQUM1QkEsU0FBUyxDQUFDNUIsU0FBUyxDQUFDMkYsaUJBQWlCLEdBQUcsVUFBU2xHLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFO0VBQzFFLElBQUltRCxLQUFLLEdBQUd0RyxRQUFRLENBQUNFLGFBQWEsQ0FBQyxZQUFZLENBQUM7RUFFaEQsSUFBSXdhLEtBQUssR0FBR3BVLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDeEN3YSxLQUFLLENBQUNwYSxTQUFTLEdBQUcsRUFBRTtFQUNwQixJQUFJcWEsU0FBUyxHQUFHM2EsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztFQUM1Q3NWLEtBQUssQ0FBQ2hWLFdBQVcsQ0FBQ2lWLFNBQVMsQ0FBQztFQUM1QnRZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztFQUNwQ3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztFQUN0Q3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLFFBQVEsQ0FBQztFQUN4Q3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztFQUNwQ3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztFQUN0Q3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLE1BQU0sQ0FBQztFQUN0Q3RZLDJEQUFtQixDQUFDc1ksU0FBUyxFQUFFLElBQUksQ0FBQztFQUVwQyxJQUFJeFMsS0FBSyxHQUFHN0IsS0FBSyxDQUFDcEcsYUFBYSxDQUFDLE9BQU8sQ0FBQztFQUN4Q2lJLEtBQUssQ0FBQzdILFNBQVMsR0FBRyxFQUFFO0VBQ3BCLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRSxJQUFJLENBQUMrd0IsWUFBWTtFQUVoQyxJQUFJLENBQUMvd0IsSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQzVCLElBQUk4UixHQUFHLEdBQUdqWSxnRUFBd0IsQ0FBQ3NZLFNBQVMsQ0FBQ3JTLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDRSxNQUFNLENBQUM7SUFDM0VMLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztJQUN0QjtFQUNGO0VBRUEsS0FBSyxJQUFJL1IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUNwQyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUVyQyxJQUFJbVcsUUFBUSxHQUFHdmIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUMzQzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzZWLFFBQVEsQ0FBQztJQUN4QkEsUUFBUSxDQUFDOVosU0FBUyxHQUFHOEcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDa0MsTUFBTSxDQUFDdkgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJdUgsTUFBTSxDQUFDdEgsUUFBUSxDQUFDO0lBRXhFLElBQUk2VyxHQUFHLEdBQUdoYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDc1UsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR2phLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUN1VSxHQUFHLENBQUM7SUFDbkIsSUFBSUUsR0FBRyxHQUFHbmEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3lVLEdBQUcsQ0FBQztJQUNuQixJQUFJb1gsR0FBRyxHQUFHdnhCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUM2ckIsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR3h4QixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDOHJCLEdBQUcsQ0FBQztJQUNuQixJQUFJQyxHQUFHLEdBQUd6eEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQytyQixHQUFHLENBQUM7SUFDbkIsSUFBSW1FLG1CQUFtQixHQUFHNTFCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxHQUFHLENBQUM7SUFFckQsS0FBSyxJQUFJZSxHQUFHLElBQUk1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsRUFBRTtNQUN2QixJQUFJcEMsR0FBRyxJQUFJLFlBQVksRUFBRTtRQUN2QjZULEdBQUcsQ0FBQ3ZZLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO1FBQzVCeXZCLG1CQUFtQixDQUFDenJCLFlBQVksQ0FBQyxpQkFBaUIsRUFBRTVKLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7TUFDbkU7TUFDQSxJQUFJQSxHQUFHLElBQUksaUJBQWlCLEVBQUU7UUFDNUI4VCxHQUFHLENBQUN4WSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QjtNQUNBLElBQUlBLEdBQUcsSUFBSSxZQUFZLEVBQUU7UUFDdkJnVSxHQUFHLENBQUMxWSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QjtNQUNBLElBQUlBLEdBQUcsSUFBSSxRQUFRLEVBQUU7UUFDbkJnVSxHQUFHLENBQUNoUSxZQUFZLENBQUMsT0FBTyxHQUFHaEUsR0FBRyxFQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsQ0FBQztNQUMvQztNQUNBLElBQUlBLEdBQUcsSUFBSSxZQUFZLEVBQUU7UUFDdkJvckIsR0FBRyxDQUFDOXZCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQzlCO01BQ0EsSUFBSUEsR0FBRyxJQUFJLFFBQVEsRUFBRTtRQUNuQm9yQixHQUFHLENBQUNwbkIsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7TUFDL0M7TUFDQSxJQUFJQSxHQUFHLElBQUksWUFBWSxFQUFFO1FBQ3ZCcXJCLEdBQUcsQ0FBQy92QixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5QjtNQUNBLElBQUlBLEdBQUcsSUFBSSxVQUFVLEVBQUU7UUFDckJxckIsR0FBRyxDQUFDcm5CLFlBQVksQ0FBQyxPQUFPLEdBQUdoRSxHQUFHLEVBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDO01BQy9DO0lBQ0Y7O0lBRUE7SUFDQSxJQUFLZ1UsR0FBRyxDQUFDbFAsWUFBWSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEdBQUcsSUFBTXVtQixHQUFHLENBQUN2bUIsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUssRUFBRTtNQUMzRjJxQixtQkFBbUIsQ0FBQ24wQixTQUFTLEdBQUcsUUFBUTtNQUN4Q20wQixtQkFBbUIsQ0FBQ3Z3QixJQUFJLEdBQUcsdUJBQXVCO01BQ2xEb3NCLEdBQUcsQ0FBQy9yQixXQUFXLENBQUNrd0IsbUJBQW1CLENBQUM7TUFFcENBLG1CQUFtQixDQUFDOXpCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFTQyxLQUFLLEVBQUU7UUFDNURBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO1FBQ3RCLElBQUlzaUIsSUFBSSxHQUFHLElBQUk7UUFDZixJQUFJNWpCLEdBQUcsR0FBR1YsUUFBUSxDQUFDRSxhQUFhLENBQUMsdUNBQXVDLENBQUMsQ0FBQ0MsS0FBSztRQUMvRSxJQUFJSSxJQUFJLEdBQUc7VUFBQ1MsVUFBVSxFQUFFc2pCLElBQUksQ0FBQ3JaLFlBQVksQ0FBQyxpQkFBaUI7UUFBQyxDQUFDO1FBQzdEeEUsNkVBQStCLENBQUMvRixHQUFHLEVBQUVILElBQUksQ0FBQztNQUM1QyxDQUFDLENBQUM7SUFDSixDQUFDLE1BQU07TUFDTGt4QixHQUFHLENBQUNod0IsU0FBUyxHQUFHLEdBQUc7SUFDckI7SUFFQTBHLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztFQUN2Qjs7RUFFQTtFQUNBNEoscURBQWUsQ0FBQ3RqQixHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRWtELGtFQUF3QixDQUFDO0FBQ3RFLENBQUM7QUFDRDdELFNBQVMsQ0FBQzVCLFNBQVMsQ0FBQzhGLGdCQUFnQixHQUFHLFVBQVNyRyxHQUFHLEVBQUU7RUFDbkQsSUFBSTZCLEtBQUssR0FBR2xDLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLG9CQUFvQixDQUFDO0VBQ3pELElBQUlxRyxLQUFLLEdBQUdwRSxLQUFLLENBQUNoQyxhQUFhLENBQUMsT0FBTyxDQUFDO0VBQ3hDLElBQUlpSSxLQUFLLEdBQUc3QixLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO0VBQ3hDaUksS0FBSyxDQUFDN0gsU0FBUyxHQUFHLEVBQUU7RUFDcEIsSUFBSTJZLFFBQVEsR0FBRzVZLEdBQUcsQ0FBQ0UsSUFBSTtFQUV2QixLQUFLLElBQUlnSSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUcwUSxRQUFRLENBQUN6USxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ3hDLElBQUl3UixFQUFFLEdBQUcvWixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUk0VSxHQUFHLEdBQUdoYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDc1UsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR2phLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMsSUFBSXl3QixTQUFTLEdBQUc3MUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztJQUM5QzZVLEdBQUcsQ0FBQ3ZVLFdBQVcsQ0FBQ213QixTQUFTLENBQUM7SUFDMUIsSUFBSUMsUUFBUSxHQUFHOTFCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7SUFDN0Mwd0IsUUFBUSxDQUFDM3JCLFlBQVksQ0FBQyxPQUFPLEVBQUUsNENBQTRDLENBQUM7SUFDNUUyckIsUUFBUSxDQUFDcjBCLFNBQVMsR0FBRyxHQUFHO0lBQ3hCd1ksR0FBRyxDQUFDdlUsV0FBVyxDQUFDb3dCLFFBQVEsQ0FBQztJQUN6QixJQUFJQyxPQUFPLEdBQUcvMUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLE1BQU0sQ0FBQztJQUM1QzZVLEdBQUcsQ0FBQ3ZVLFdBQVcsQ0FBQ3F3QixPQUFPLENBQUM7SUFDeEJoYyxFQUFFLENBQUNyVSxXQUFXLENBQUN1VSxHQUFHLENBQUM7SUFFbkIsS0FBSyxJQUFJOVQsR0FBRyxJQUFJOFMsUUFBUSxDQUFDMVEsQ0FBQyxDQUFDLEVBQUU7TUFDM0IsSUFBSXBDLEdBQUcsSUFBSSxvQkFBb0IsRUFDN0I2VCxHQUFHLENBQUN2WSxTQUFTLEdBQUd3WCxRQUFRLENBQUMxUSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDLEtBQzlCLElBQUlBLEdBQUcsSUFBSSxjQUFjLEVBQzVCMHZCLFNBQVMsQ0FBQ3AwQixTQUFTLEdBQUd3WCxRQUFRLENBQUMxUSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDLEtBQ3BDLElBQUlBLEdBQUcsSUFBSSxZQUFZLEVBQzFCNHZCLE9BQU8sQ0FBQ3QwQixTQUFTLEdBQUd3WCxRQUFRLENBQUMxUSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxDQUFDLEtBRXJDNlQsR0FBRyxDQUFDN1AsWUFBWSxDQUFDLE9BQU8sR0FBR2hFLEdBQUcsRUFBRThTLFFBQVEsQ0FBQzFRLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLENBQUM7SUFDckQ7SUFFQWdDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztFQUN2QjtFQUVBOVgsS0FBSyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUFDNkYsSUFBSSxFQUFFO0FBQzNCLENBQUM7QUFDRHZGLFNBQVMsQ0FBQzVCLFNBQVMsQ0FBQ2lHLHNCQUFzQixHQUFHLFVBQVN4RyxHQUFHLEVBQUU2QyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtFQUMvRSxJQUFJbUQsS0FBSyxHQUFHdEcsUUFBUSxDQUFDRSxhQUFhLENBQUMsWUFBWSxDQUFDO0VBQ2hELElBQUl3YSxLQUFLLEdBQUdwVSxLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO0VBQ3hDd2EsS0FBSyxDQUFDcGEsU0FBUyxHQUFHLEVBQUU7RUFDcEIsSUFBSXFhLFNBQVMsR0FBRzNhLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7RUFDNUNzVixLQUFLLENBQUNoVixXQUFXLENBQUNpVixTQUFTLENBQUM7RUFDNUJ0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFDcEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxRQUFRLENBQUM7RUFDeEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxLQUFLLENBQUM7RUFDckN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFDcEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxNQUFNLENBQUM7RUFDdEN0WSwyREFBbUIsQ0FBQ3NZLFNBQVMsRUFBRSxJQUFJLENBQUM7RUFFcEMsSUFBSXhTLEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7RUFDeENpSSxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtFQUNwQixJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDeTFCLHdCQUF3QjtFQUM1Qzs7RUFFQSxJQUFJLENBQUN6MUIsSUFBSSxJQUFJQSxJQUFJLENBQUNpSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQzVCLElBQUk4UixHQUFHLEdBQUdqWSxnRUFBd0IsQ0FBQ3NZLFNBQVMsQ0FBQ3JTLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDRSxNQUFNLENBQUM7SUFDM0VMLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQzRVLEdBQUcsQ0FBQztJQUN0QjtFQUNGO0VBRUEsS0FBSyxJQUFJL1IsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHaEksSUFBSSxDQUFDaUksTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUNwQyxJQUFJd1IsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUNyQytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztJQUVyQixJQUFJd0IsUUFBUSxHQUFHdmIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUMzQzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzZWLFFBQVEsQ0FBQztJQUN4QkEsUUFBUSxDQUFDOVosU0FBUyxHQUFHOEcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDa0MsTUFBTSxDQUFDdkgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJdUgsTUFBTSxDQUFDdEgsUUFBUSxDQUFDO0lBRXhFLElBQUk2VyxHQUFHLEdBQUdoYSxRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDc1UsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR2phLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUN1VSxHQUFHLENBQUM7SUFDbkIsSUFBSUUsR0FBRyxHQUFHbmEsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQ3lVLEdBQUcsQ0FBQztJQUNuQixJQUFJOGIsT0FBTyxHQUFHajJCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7SUFDNUMrVSxHQUFHLENBQUN6VSxXQUFXLENBQUN1d0IsT0FBTyxDQUFDO0lBQ3hCLElBQUlDLE9BQU8sR0FBR2wyQixRQUFRLENBQUNvRixhQUFhLENBQUMsTUFBTSxDQUFDO0lBQzVDOHdCLE9BQU8sQ0FBQy9yQixZQUFZLENBQUMsT0FBTyxFQUFFLDRDQUE0QyxDQUFDO0lBQzNFK3JCLE9BQU8sQ0FBQ3owQixTQUFTLEdBQUcsR0FBRztJQUN2QjBZLEdBQUcsQ0FBQ3pVLFdBQVcsQ0FBQ3d3QixPQUFPLENBQUM7SUFDeEIsSUFBSUgsT0FBTyxHQUFHLzFCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxNQUFNLENBQUM7SUFDNUMrVSxHQUFHLENBQUN6VSxXQUFXLENBQUNxd0IsT0FBTyxDQUFDO0lBQ3hCLElBQUl4RSxHQUFHLEdBQUd2eEIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztJQUN0QzJVLEVBQUUsQ0FBQ3JVLFdBQVcsQ0FBQzZyQixHQUFHLENBQUM7SUFDbkIsSUFBSUMsR0FBRyxHQUFHeHhCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUM4ckIsR0FBRyxDQUFDO0lBQ25CLElBQUlDLEdBQUcsR0FBR3p4QixRQUFRLENBQUNvRixhQUFhLENBQUMsSUFBSSxDQUFDO0lBQ3RDMlUsRUFBRSxDQUFDclUsV0FBVyxDQUFDK3JCLEdBQUcsQ0FBQztJQUNuQixJQUFJMEUsR0FBRyxHQUFHbjJCLFFBQVEsQ0FBQ29GLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDdEMyVSxFQUFFLENBQUNyVSxXQUFXLENBQUN5d0IsR0FBRyxDQUFDO0lBQ25CLElBQUk3UixJQUFJLEdBQUd0a0IsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLEdBQUcsQ0FBQztJQUN0Q2tmLElBQUksQ0FBQzdpQixTQUFTLEdBQUcsTUFBTTtJQUN2QjAwQixHQUFHLENBQUN6d0IsV0FBVyxDQUFDNGUsSUFBSSxDQUFDO0lBRXJCLEtBQUssSUFBSW5lLEdBQUcsSUFBSTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxFQUFFO01BQ3ZCLElBQUlwQyxHQUFHLElBQUksb0JBQW9CLEVBQUU7UUFDL0I2VCxHQUFHLENBQUN2WSxTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRSxHQUFHLEdBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUMxRDtNQUNBLElBQUlBLEdBQUcsSUFBSSxrQkFBa0IsRUFBRTtRQUM3QjhULEdBQUcsQ0FBQ3hZLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFFLEdBQUcsR0FBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQzFEO01BQ0EsSUFBSUEsR0FBRyxJQUFJLFdBQVcsRUFBRTtRQUN0Qjh2QixPQUFPLENBQUN4MEIsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUUsR0FBRyxHQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDOUQ7TUFDQSxJQUFJQSxHQUFHLElBQUksU0FBUyxFQUFFO1FBQ3BCNHZCLE9BQU8sQ0FBQ3QwQixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRSxHQUFHLEdBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUM5RDtNQUNBLElBQUlBLEdBQUcsSUFBSSxTQUFTLEVBQUU7UUFDcEJvckIsR0FBRyxDQUFDOXZCLFNBQVMsR0FBR2xCLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFFLEdBQUcsR0FBRTVGLElBQUksQ0FBQ2dJLENBQUMsQ0FBQyxDQUFDcEMsR0FBRyxDQUFDO01BQzFEO01BQ0EsSUFBSUEsR0FBRyxJQUFJLFlBQVksRUFBRTtRQUN2QnFyQixHQUFHLENBQUMvdkIsU0FBUyxHQUFHbEIsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUUsR0FBRyxHQUFFNUYsSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNwQyxHQUFHLENBQUM7TUFDMUQ7TUFDQSxJQUFJQSxHQUFHLElBQUksY0FBYyxFQUFFO1FBQ3pCc3JCLEdBQUcsQ0FBQ2h3QixTQUFTLEdBQUdsQixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQyxLQUFLLElBQUksR0FBRSxHQUFHLEdBQUU1RixJQUFJLENBQUNnSSxDQUFDLENBQUMsQ0FBQ3BDLEdBQUcsQ0FBQztNQUMxRDtJQUNGO0lBRUFtZSxJQUFJLENBQUNuYSxZQUFZLENBQUMsTUFBTSxFQUFFLHFCQUFxQixHQUFHNUosSUFBSSxDQUFDZ0ksQ0FBQyxDQUFDLENBQUNVLGdCQUFnQixDQUFDO0VBRTdFOztFQUVBO0VBQ0EwYSxxREFBZSxDQUFDdGpCLEdBQUcsRUFBRTZDLFVBQVUsRUFBRUMsUUFBUSxFQUFFd0Qsd0VBQThCLENBQUM7QUFDNUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZUZ0M7QUFFbEIsU0FBUzB2QixNQUFNQSxDQUFDQyxRQUFRLEVBQUVoekIsTUFBTSxFQUFFO0VBQy9DLElBQUksQ0FBQ2d6QixRQUFRLEVBQUU7SUFDYixPQUFPdnpCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLG9FQUFvRSxDQUFDO0VBQzVGO0VBQ0EsSUFBTXV6QixZQUFZLEdBQUdqekIsTUFBTSxJQUFJQSxNQUFNLENBQUNrekIsVUFBVSxHQUFFbHpCLE1BQU0sQ0FBQ2t6QixVQUFVLENBQUNDLGVBQWUsR0FBRXoyQixRQUFRO0VBQzdGLElBQU0wMkIsR0FBRyxHQUFHSCxZQUFZLENBQUNyMkIsYUFBYSxDQUFDbzJCLFFBQVEsQ0FBQztFQUNoRCxJQUFNSyxHQUFHLEdBQUdyekIsTUFBTSxJQUFJQSxNQUFNLENBQUNxekIsR0FBRyxHQUFFcnpCLE1BQU0sQ0FBQ3F6QixHQUFHLEdBQUUsSUFBSTtFQUNsRCxJQUFJLENBQUNELEdBQUcsRUFBRSxPQUFPM3pCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLHVCQUF1QixDQUFDO0VBQ3ZELElBQUksQ0FBQzB6QixHQUFHLENBQUNFLFVBQVUsRUFBRSxPQUFPN3pCLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLGNBQWMsQ0FBQztFQUN6RCxJQUFJLENBQUN5Z0IsSUFBSSxHQUFHaVQsR0FBRztFQUNmLElBQUksQ0FBQ0MsR0FBRyxHQUFHRCxHQUFHLENBQUNFLFVBQVUsQ0FBQ0QsR0FBRyxDQUFDO0VBQzlCLElBQUksQ0FBQ0UsTUFBTSxHQUFHLEdBQUc7RUFDakIsSUFBSSxDQUFDcGIsS0FBSyxHQUFHLEdBQUc7RUFDaEIxWSxPQUFPLENBQUM2RCxHQUFHLENBQUMsYUFBYSxDQUFDO0FBQzVCO0FBRUF5dkIsTUFBTSxDQUFDejFCLFNBQVMsQ0FBQ2syQixPQUFPLEdBQUcsVUFBU0MsS0FBSyxFQUFFO0VBQ3pDLElBQUk7SUFDRixJQUFNQyxVQUFVLEdBQUcsSUFBSSxDQUFDdlQsSUFBSTtJQUM1QixJQUFNd1QsTUFBTSxHQUFHRCxVQUFVLENBQUM5cUIsVUFBVTtJQUNwQyxJQUFNZ3JCLFdBQVcsR0FBR255QixNQUFNLENBQUM2VyxnQkFBZ0IsQ0FBQ3FiLE1BQU0sQ0FBQyxDQUFDcGIsZ0JBQWdCLENBQUMsV0FBVyxDQUFDO0lBQ2pGbWIsVUFBVSxDQUFDdmIsS0FBSyxHQUFHMGIsUUFBUSxDQUFDRCxXQUFXLENBQUM7SUFDeEMsSUFBTUUsV0FBVyxHQUFHTCxLQUFLO0lBQ3pCLElBQU1NLFlBQVksR0FBR0YsUUFBUSxDQUFDSCxVQUFVLENBQUN2YixLQUFLLENBQUMsR0FBQzBiLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUNELFFBQVEsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pHSixVQUFVLENBQUNILE1BQU0sR0FBR1EsWUFBWTtJQUNoQyxJQUFJLENBQUM1YixLQUFLLEdBQUd1YixVQUFVLENBQUN2YixLQUFLO0lBQzdCLElBQUksQ0FBQ29iLE1BQU0sR0FBR0csVUFBVSxDQUFDSCxNQUFNO0lBQy9CLE9BQU8sSUFBSTtFQUNiLENBQUMsQ0FBQyxPQUFNcnZCLENBQUMsRUFBRTtJQUNUekUsT0FBTyxDQUFDQyxLQUFLLENBQUN3RSxDQUFDLENBQUMyTSxLQUFLLENBQUM7SUFDdEIsT0FBTyxJQUFJO0VBQ2I7QUFDRixDQUFDO0FBRURraUIsTUFBTSxDQUFDejFCLFNBQVMsQ0FBQzAyQixVQUFVLEdBQUcsVUFBU0MsYUFBYSxFQUFFO0VBQ3BELElBQUk7SUFDRixJQUFNWixHQUFHLEdBQUcsSUFBSSxDQUFDQSxHQUFHO0lBQ3BCUCx3RUFBd0IsR0FBRyxFQUFFO0lBQzdCLElBQU1zQixLQUFLLEdBQUcsSUFBSXRCLHFEQUFLLENBQUNPLEdBQUcsRUFBRVksYUFBYSxDQUFDO0lBQzNDLElBQUksQ0FBQ0csS0FBSyxHQUFHQSxLQUFLO0lBQ2xCLElBQUksQ0FBQ0gsYUFBYSxHQUFHQSxhQUFhO0lBQ2xDeDBCLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQyxjQUFjLENBQUM7SUFDM0IsT0FBTyxJQUFJO0VBQ2IsQ0FBQyxDQUFDLE9BQU1ZLENBQUMsRUFBRTtJQUNUekUsT0FBTyxDQUFDQyxLQUFLLENBQUN3RSxDQUFDLENBQUMyTSxLQUFLLENBQUM7SUFDdEIsT0FBTyxJQUFJO0VBQ2I7QUFDRixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pGOEI7QUFDVTtBQUNYO0FBQ3VCO0FBRzlCO0FBRWYsU0FBU3lqQixPQUFPQSxDQUFBLEVBQUc7RUFDeEI3MEIsT0FBTyxDQUFDNkQsR0FBRyxDQUFDLG9DQUFvQyxDQUFDO0VBQ2pEaXhCLGVBQWUsRUFBRTtFQUNqQkMsYUFBYSxFQUFFLENBQ2QxMUIsSUFBSSxDQUFDLFVBQUFrZixRQUFRO0lBQUEsT0FBSXlXLFdBQVcsQ0FBQ3pXLFFBQVEsQ0FBQztFQUFBLEVBQUMsQ0FDdkNsZixJQUFJLENBQUM7SUFBQSxPQUFNNDFCLFdBQVcsQ0FBQ0MsUUFBUSxFQUFFQyxjQUFjLENBQUM7RUFBQSxFQUFDLENBQ2pEQyxLQUFLLENBQUMsVUFBQW4xQixLQUFLO0lBQUEsT0FBSUQsT0FBTyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQztFQUFBLEVBQUM7QUFDdkM7QUFFTyxTQUFTbzFCLFNBQVNBLENBQUEsRUFBRztFQUMxQnIxQixPQUFPLENBQUM2RCxHQUFHLENBQUMsc0NBQXNDLENBQUM7RUFFbkR5eEIsYUFBYSxDQUFDLGFBQWEsRUFBRSx1Q0FBdUMsQ0FBQztFQUVyRVAsYUFBYSxFQUFFLENBQ2QxMUIsSUFBSSxDQUFDLFVBQUFrZixRQUFRO0lBQUEsT0FBSWdYLGVBQWUsQ0FBQ2hYLFFBQVEsQ0FBQztFQUFBLEVBQUMsQ0FDM0M2VyxLQUFLLENBQUMsVUFBQW4xQixLQUFLO0lBQUEsT0FBSUQsT0FBTyxDQUFDQyxLQUFLLENBQUNBLEtBQUssQ0FBQztFQUFBLEVBQUM7O0VBRXJDO0VBQ0FnMUIsV0FBVyxDQUFDTyxlQUFlLEVBQUUsSUFBSSxFQUFHLFlBQU07SUFBQ0MsT0FBTyxDQUFDQyxJQUFJLEVBQUU7RUFBQSxDQUFDLENBQUMsQ0FDMUROLEtBQUssQ0FBQyxVQUFBbjFCLEtBQUs7SUFBQSxPQUFJRCxPQUFPLENBQUNDLEtBQUssQ0FBQ0EsS0FBSyxDQUFDO0VBQUEsRUFBQztBQUV2QztBQUVBLFNBQVM2MEIsZUFBZUEsQ0FBQSxFQUFHO0VBQ3pCLElBQUk7SUFDRixJQUFNYSxXQUFXLEdBQUcxNEIsUUFBUSxDQUFDRSxhQUFhLENBQUMsd0JBQXdCLENBQUM7SUFDcEV3NEIsV0FBVyxDQUFDNTJCLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFXO01BQy9DOFYsV0FBVyxDQUFDO1FBQ1ZvZCxFQUFFLEVBQUMsSUFBSTtRQUNQM2QsT0FBTyxFQUFDLE1BQU07UUFDZEcsT0FBTyxFQUFDO01BQ1YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9oUSxDQUFDLEVBQUU7SUFDVnpFLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDd0UsQ0FBQyxDQUFDMk0sS0FBSyxDQUFDO0VBQ3hCO0FBQ0Y7QUFDQSxTQUFTMmpCLGFBQWFBLENBQUEsRUFBRztFQUN2QixPQUFPLElBQUlhLE9BQU8sQ0FBQyxVQUFDdDRCLEdBQUcsRUFBRXU0QixHQUFHLEVBQUs7SUFDL0IsSUFBSTtNQUNGLElBQU1sNEIsR0FBRyxHQUFHVixRQUFRLENBQUNFLGFBQWEsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDQyxLQUFLO01BQ3BGWix1REFBUyxDQUFDbUIsR0FBRyxFQUFFLEVBQUUsRUFBRUwsR0FBRyxDQUFDO0lBQ3pCLENBQUMsQ0FBQyxPQUFPbUgsQ0FBQyxFQUFFO01BQ1ZveEIsR0FBRyxDQUFDcHhCLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztJQUNkO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7QUFDQSxTQUFTNGpCLFdBQVdBLENBQUN6VyxRQUFRLEVBQUU7RUFDN0IsT0FBTyxJQUFJcVgsT0FBTyxDQUFDLFVBQUNFLE9BQU8sRUFBRUQsR0FBRyxFQUFLO0lBQ25DLElBQUk7TUFDRixJQUFNRSxhQUFhLEdBQUc5NEIsUUFBUSxDQUFDRSxhQUFhLENBQUMsMkJBQTJCLENBQUM7TUFDekUsSUFBTTY0QixPQUFPLEdBQUd6WCxRQUFRLENBQUMvZ0IsSUFBSTtNQUM3QixJQUFJdzRCLE9BQU8sQ0FBQ3Z3QixNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3RCdXdCLE9BQU8sQ0FBQ2pxQixPQUFPLENBQUMsVUFBQ3ZPLElBQUksRUFBSztVQUN4QixJQUFNdWYsTUFBTSxHQUFHOWYsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLFFBQVEsQ0FBQztVQUMvQzBhLE1BQU0sQ0FBQzNWLFlBQVksQ0FBQyxPQUFPLEVBQUU1SixJQUFJLENBQUNrbUIsVUFBVSxDQUFDO1VBQzdDM0csTUFBTSxDQUFDcmUsU0FBUyxHQUFHbEIsSUFBSSxDQUFDbW1CLFlBQVk7VUFDcENvUyxhQUFhLENBQUNwekIsV0FBVyxDQUFDb2EsTUFBTSxDQUFDO1FBQ25DLENBQUMsQ0FBQztNQUNKO01BQ0ErWSxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQ3BCLENBQUMsQ0FBQyxPQUFNcnhCLENBQUMsRUFBRTtNQUNUb3hCLEdBQUcsQ0FBQ3B4QixDQUFDLENBQUMyTSxLQUFLLENBQUM7TUFDWjtJQUNGO0VBQ0YsQ0FBQyxDQUFDO0FBQ0o7O0FBQ0EsU0FBU21rQixlQUFlQSxDQUFDajRCLEdBQUcsRUFBRTtFQUM1QixJQUFJO0lBQ0YsSUFBSTJYLEVBQUUsR0FBR2hZLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLDBCQUEwQixDQUFDO0lBQzNELElBQUl5ZixJQUFJLEdBQUczZixRQUFRLENBQUNFLGFBQWEsQ0FBQyxlQUFlLENBQUM7SUFDbEQsSUFBSSxDQUFDOFgsRUFBRSxDQUFDN1gsS0FBSyxFQUFFO01BQ2J3ZixJQUFJLENBQUN4ZixLQUFLLEdBQUcsSUFBSTtJQUNuQixDQUFDLE1BQU07TUFDTCxJQUFNNDRCLE9BQU8sR0FBRzE0QixHQUFHLENBQUNFLElBQUk7TUFDeEJ3NEIsT0FBTyxDQUFDQyxJQUFJLENBQUMsVUFBQ3o0QixJQUFJLEVBQUs7UUFDckIsSUFBSXlYLEVBQUUsQ0FBQzdYLEtBQUssS0FBS0ksSUFBSSxDQUFDa21CLFVBQVUsRUFBRTtVQUNoQzlHLElBQUksQ0FBQ3hmLEtBQUssR0FBR0ksSUFBSSxDQUFDbW1CLFlBQVk7VUFDOUIsT0FBTyxJQUFJO1FBQ2I7TUFDRixDQUFDLENBQUM7SUFDSjtFQUNGLENBQUMsQ0FBQyxPQUFNbGYsQ0FBQyxFQUFFO0lBQ1R6RSxPQUFPLENBQUNDLEtBQUssQ0FBQ3dFLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztFQUN4QjtBQUNGO0FBQ0EsU0FBUzZqQixXQUFXQSxDQUFDanBCLEVBQUUsRUFBRWtxQixXQUFXLEVBQUVoekIsZ0JBQWdCLEVBQUU7RUFDdEQsT0FBTyxJQUFJMHlCLE9BQU8sQ0FBQyxVQUFDdDRCLEdBQUcsRUFBRXU0QixHQUFHLEVBQUs7SUFDL0IsSUFBSTtNQUNGMTBCLDhEQUFnQixDQUFDRSwyREFBaUIsQ0FBQztJQUNyQyxDQUFDLENBQUMsT0FBTW9ELENBQUMsRUFBRTtNQUNUekUsT0FBTyxDQUFDQyxLQUFLLENBQUN3RSxDQUFDLENBQUMyTSxLQUFLLENBQUM7SUFDeEI7SUFDQSxJQUFJO01BQ0ZsUiw4REFBZ0IsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFMUQsbURBQVMsRUFBRXdQLEVBQUUsRUFBRWtxQixXQUFXLEVBQUVoekIsZ0JBQWdCLENBQUM7SUFDdkUsQ0FBQyxDQUFDLE9BQU11QixDQUFDLEVBQUU7TUFDVG94QixHQUFHLENBQUNweEIsQ0FBQyxDQUFDMk0sS0FBSyxDQUFDO0lBQ2Q7RUFDRixDQUFDLENBQUM7QUFDSjtBQUNBLFNBQVMrakIsY0FBY0EsQ0FBQzMzQixJQUFJLEVBQUU7RUFDNUIsSUFBSTtJQUNGUCxRQUFRLENBQUNFLGFBQWEsQ0FBQywrQkFBK0IsQ0FBQyxDQUFDQyxLQUFLLEdBQUdJLElBQUksQ0FBQ2ttQixVQUFVO0VBQ2pGLENBQUMsQ0FBQyxPQUFNamYsQ0FBQyxFQUFFO0lBQ1R6RSxPQUFPLENBQUNDLEtBQUssQ0FBQ3dFLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztFQUN4QjtBQUNGO0FBQ0EsU0FBUzhqQixRQUFRQSxDQUFDM1csUUFBUSxFQUFFcGUsVUFBVSxFQUFFQyxRQUFRLEVBQUU7RUFDaEQsSUFBSTtJQUNGSixPQUFPLENBQUM2RCxHQUFHLENBQUMwYSxRQUFRLENBQUM7SUFDckIsSUFBTWhiLEtBQUssR0FBR3RHLFFBQVEsQ0FBQ0MsY0FBYyxDQUFDLFdBQVcsQ0FBQztJQUNsRCxJQUFNMGEsU0FBUyxHQUFHdFksNkRBQXFCLENBQUNpRSxLQUFLLENBQUM7SUFDOUNnbUIsUUFBUSxDQUFDM1IsU0FBUyxDQUFDO0lBQ25CNFIsUUFBUSxDQUFDam1CLEtBQUssRUFBRWdiLFFBQVEsQ0FBQztJQUN6QnFDLHFEQUFlLENBQUNyQyxRQUFRLEVBQUVwZSxVQUFVLEVBQUVDLFFBQVEsRUFBRTVELG1EQUFTLEVBQUUwNEIsUUFBUSxDQUFDO0VBQ3RFLENBQUMsQ0FBQyxPQUFNendCLENBQUMsRUFBRTtJQUNUekUsT0FBTyxDQUFDQyxLQUFLLENBQUN3RSxDQUFDLENBQUMyTSxLQUFLLENBQUM7RUFDeEI7RUFDQSxTQUFTbVksUUFBUUEsQ0FBQ3ZTLEVBQUUsRUFBRTtJQUNwQixJQUFNbWYsR0FBRyxHQUFHNzJCLDJEQUFtQjtJQUMvQixJQUFNODJCLE9BQU8sR0FBRyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQztJQUNuRUEsT0FBTyxDQUFDcnFCLE9BQU8sQ0FBQyxVQUFDNlEsSUFBSSxFQUFLO01BQ3hCdVosR0FBRyxDQUFDbmYsRUFBRSxFQUFFNEYsSUFBSSxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0VBQ0o7RUFDQSxTQUFTNE0sUUFBUUEsQ0FBQ2ptQixLQUFLLEVBQUVqRyxHQUFHLEVBQUU7SUFDNUIsSUFBTThILEtBQUssR0FBRzdCLEtBQUssQ0FBQ3BHLGFBQWEsQ0FBQyxPQUFPLENBQUM7SUFDMUNpSSxLQUFLLENBQUM3SCxTQUFTLEdBQUcsRUFBRTtJQUNwQixJQUFNQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDaXVCLFdBQVc7SUFDakMsSUFBSSxDQUFDanVCLElBQUksSUFBSUEsSUFBSSxDQUFDaUksTUFBTSxHQUFHLENBQUMsRUFBRTtNQUM1QixJQUFNTixHQUFHLEdBQUc3RixxREFBYTtNQUN6QixJQUFNaVksR0FBRyxHQUFHcFMsR0FBRyxDQUFDa1MsVUFBVSxDQUFDbFMsR0FBRyxDQUFDdVMsT0FBTyxDQUFDblUsS0FBSyxDQUFDLENBQUNnQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsTUFBTSxDQUFDO01BQzVFTCxLQUFLLENBQUN6QyxXQUFXLENBQUM0VSxHQUFHLENBQUM7TUFDdEI7SUFDRjtJQUNBL1osSUFBSSxDQUFDdU8sT0FBTyxDQUFDLFVBQUNzcUIsSUFBSSxjQUFnQjtNQUNoQyxJQUFNcmYsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUN2QytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztNQUNyQjtNQUNBO01BQ0E7TUFDQSxJQUFNbWYsR0FBRyxHQUFHNzJCLDJEQUFtQjtNQUMvQixJQUFNZzNCLE9BQU8sR0FBRyxDQUFDLGNBQWMsRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUMzRCxpQkFBaUIsRUFBRSxVQUFVLEVBQUUsYUFBYSxDQUFDO01BQy9DQSxPQUFPLENBQUN2cUIsT0FBTyxDQUFDLFVBQUN3TixJQUFJLEVBQUs7UUFDeEI0YyxHQUFHLENBQUNuZixFQUFFLEVBQUVxZixJQUFJLENBQUM5YyxJQUFJLENBQUMsQ0FBQztNQUNyQixDQUFDLENBQUM7TUFDRjtNQUNBLElBQU1nZCxRQUFRLEdBQUd0NUIsUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUM3QyxJQUFNbTBCLFlBQVksR0FBR3Y1QixRQUFRLENBQUNvRixhQUFhLENBQUMsR0FBRyxDQUFDO01BQ2hEazBCLFFBQVEsQ0FBQzV6QixXQUFXLENBQUM2ekIsWUFBWSxDQUFDO01BQ2xDeGYsRUFBRSxDQUFDclUsV0FBVyxDQUFDNHpCLFFBQVEsQ0FBQztNQUN4QkMsWUFBWSxDQUFDOTNCLFNBQVMsR0FBRyxNQUFNO01BQy9CNDNCLE9BQU8sQ0FBQ3ZxQixPQUFPLENBQUMsVUFBQ3dOLElBQUksRUFBSztRQUN4QmlkLFlBQVksQ0FBQ0MsT0FBTyxDQUFDbGQsSUFBSSxDQUFDLEdBQUc4YyxJQUFJLENBQUM5YyxJQUFJLENBQUM7TUFDekMsQ0FBQyxDQUFDO01BQ0ZpZCxZQUFZLENBQUN6M0IsZ0JBQWdCLENBQUMsT0FBTyxFQUFFMjNCLFNBQVMsQ0FBQztJQUNuRCxDQUFDLENBQUM7RUFDSjtBQUNGO0FBQ0EsU0FBU0EsU0FBU0EsQ0FBQzEzQixLQUFLLEVBQUU7RUFDeEJBLEtBQUssQ0FBQ0MsY0FBYyxFQUFFO0VBQ3RCLElBQU1nekIsRUFBRSxHQUFHanpCLEtBQUssQ0FBQ3VXLE1BQU07RUFDdkIsSUFBSTtJQUNGLElBQU1vaEIsR0FBRyxHQUFHMzBCLE1BQU0sQ0FBQ3FDLFFBQVE7SUFDM0IsSUFBTTFHLEdBQUcsTUFBQWk1QixNQUFBLENBQU1ELEdBQUcsQ0FBQ0UsUUFBUSxRQUFBRCxNQUFBLENBQUtELEdBQUcsQ0FBQ0csSUFBSSxtREFBZ0Q7SUFDeEYsSUFBSXAyQixRQUFRLEdBQUc7TUFDYmdqQixVQUFVLEVBQUV6bUIsUUFBUSxDQUFDRSxhQUFhLENBQUMsNkJBQTZCLENBQUMsQ0FBQ0M7SUFDcEUsQ0FBQztJQUNELElBQUk2MEIsRUFBRSxDQUFDd0UsT0FBTyxFQUFFO01BQ2QsS0FBSSxJQUFJbGQsSUFBSSxJQUFJMFksRUFBRSxDQUFDd0UsT0FBTyxFQUFFO1FBQzFCLzFCLFFBQVEsQ0FBQzZZLElBQUksQ0FBQyxHQUFHMFksRUFBRSxDQUFDd0UsT0FBTyxDQUFDbGQsSUFBSSxDQUFDO01BQ25DO0lBQ0Y7SUFDQWphLDREQUFvQixDQUFDM0IsR0FBRyxFQUFFK0MsUUFBUSxDQUFDO0VBQ3JDLENBQUMsQ0FBQyxPQUFNK0QsQ0FBQyxFQUFFO0lBQ1R6RSxPQUFPLENBQUNDLEtBQUssQ0FBQ3dFLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztFQUN4QjtBQUNGO0FBQ0EsU0FBU2trQixhQUFhQSxDQUFDNVUsSUFBSSxFQUFFYSxJQUFJLEVBQUU7RUFDakMsSUFBTXBhLENBQUMsR0FBR2xLLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDdWpCLElBQUksQ0FBQztFQUN0QyxJQUFNaVcsR0FBRyxHQUFHMzBCLE1BQU0sQ0FBQ3FDLFFBQVE7RUFDM0I4QyxDQUFDLENBQUNDLFlBQVksQ0FBQyxNQUFNLEtBQUF3dkIsTUFBQSxDQUFLRCxHQUFHLENBQUNFLFFBQVEsUUFBQUQsTUFBQSxDQUFLRCxHQUFHLENBQUNHLElBQUksT0FBQUYsTUFBQSxDQUFJclYsSUFBSSxFQUFHO0FBQ2hFO0FBQ0EsU0FBU2lVLGVBQWVBLENBQUNqWCxRQUFRLEVBQUVwZSxVQUFVLEVBQUVDLFFBQVEsRUFBRTtFQUN2RCxJQUFJO0lBQ0ZKLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQzBhLFFBQVEsQ0FBQztJQUNyQixJQUFNaGIsS0FBSyxHQUFHdEcsUUFBUSxDQUFDQyxjQUFjLENBQUMsV0FBVyxDQUFDO0lBQ2xELElBQU0wYSxTQUFTLEdBQUd0WSw2REFBcUIsQ0FBQ2lFLEtBQUssQ0FBQztJQUM5Q2dtQixRQUFRLENBQUMzUixTQUFTLENBQUM7SUFDbkI0UixRQUFRLENBQUNqbUIsS0FBSyxFQUFFZ2IsUUFBUSxDQUFDO0lBQ3pCcUMscURBQWUsQ0FBQ3JDLFFBQVEsRUFBRXBlLFVBQVUsRUFBRUMsUUFBUSxFQUFFNUQsbURBQVMsRUFBRTA0QixRQUFRLENBQUM7RUFDdEUsQ0FBQyxDQUFDLE9BQU16d0IsQ0FBQyxFQUFFO0lBQ1R6RSxPQUFPLENBQUNDLEtBQUssQ0FBQ3dFLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztFQUN4QjtFQUNBLElBQUk7SUFDRjJsQixZQUFZLENBQUN4WSxRQUFRLENBQUM7RUFDeEIsQ0FBQyxDQUFDLE9BQU05WixDQUFDLEVBQUU7SUFDVHpFLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDd0UsQ0FBQyxDQUFDMk0sS0FBSyxDQUFDO0VBQ3hCO0VBQ0EsU0FBU21ZLFFBQVFBLENBQUN2UyxFQUFFLEVBQUU7SUFDcEIsSUFBTW1mLEdBQUcsR0FBRzcyQiwyREFBbUI7SUFDL0IsSUFBTTgyQixPQUFPLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUM7SUFDN0NBLE9BQU8sQ0FBQ3JxQixPQUFPLENBQUMsVUFBQzZRLElBQUksRUFBSztNQUN4QnVaLEdBQUcsQ0FBQ25mLEVBQUUsRUFBRTRGLElBQUksQ0FBQztJQUNmLENBQUMsQ0FBQztFQUNKO0VBQ0EsU0FBUzRNLFFBQVFBLENBQUNqbUIsS0FBSyxFQUFFakcsR0FBRyxFQUFFO0lBQzVCLElBQU04SCxLQUFLLEdBQUc3QixLQUFLLENBQUNwRyxhQUFhLENBQUMsT0FBTyxDQUFDO0lBQzFDaUksS0FBSyxDQUFDN0gsU0FBUyxHQUFHLEVBQUU7SUFDcEIsSUFBTUMsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7SUFDckIsSUFBSSxDQUFDQSxJQUFJLElBQUlBLElBQUksQ0FBQ2lJLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDNUIsSUFBTU4sR0FBRyxHQUFHN0YscURBQWE7TUFDekIsSUFBTWlZLEdBQUcsR0FBR3BTLEdBQUcsQ0FBQ2tTLFVBQVUsQ0FBQ2xTLEdBQUcsQ0FBQ3VTLE9BQU8sQ0FBQ25VLEtBQUssQ0FBQyxDQUFDZ0MsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUNFLE1BQU0sQ0FBQztNQUM1RUwsS0FBSyxDQUFDekMsV0FBVyxDQUFDNFUsR0FBRyxDQUFDO01BQ3RCO0lBQ0Y7SUFDQS9aLElBQUksQ0FBQ3VPLE9BQU8sQ0FBQyxVQUFDc3FCLElBQUksRUFBSztNQUNyQixJQUFNcmYsRUFBRSxHQUFHL1osUUFBUSxDQUFDb0YsYUFBYSxDQUFDLElBQUksQ0FBQztNQUN2QytDLEtBQUssQ0FBQ3pDLFdBQVcsQ0FBQ3FVLEVBQUUsQ0FBQztNQUNyQixJQUFNbWYsR0FBRyxHQUFHNzJCLDJEQUFtQjtNQUMvQixJQUFNZzNCLE9BQU8sR0FBRyxDQUFDLGNBQWMsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUN4RCxpQkFBaUIsQ0FBQztNQUNwQkEsT0FBTyxDQUFDdnFCLE9BQU8sQ0FBQyxVQUFDd04sSUFBSSxFQUFLO1FBQ3hCNGMsR0FBRyxDQUFDbmYsRUFBRSxFQUFFcWYsSUFBSSxDQUFDOWMsSUFBSSxDQUFDLENBQUM7TUFDckIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0o7RUFDQztFQUNELFNBQVN3ZCxZQUFZQSxDQUFDejVCLEdBQUcsRUFBRTtJQUN6QixJQUFNcTJCLEdBQUcsR0FBRyxJQUFJTCwrQ0FBTSxDQUFDLHFCQUFxQixDQUFDLENBQzVDUyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FDaEJRLFVBQVUsQ0FBQ0sscUVBQVcsQ0FBQ3QzQixHQUFHLENBQUMsQ0FBQztJQUU3QjBDLE9BQU8sQ0FBQzZELEdBQUcsQ0FBQzh2QixHQUFHLENBQUM7RUFDbEI7QUFDRjs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDMVBBLElBQU1xRCxLQUFLLEdBQUc7RUFDWkMsSUFBSSxFQUFFLGlCQUFpQjtFQUN2QkMsTUFBTSxFQUFFO0FBQ1YsQ0FBQztBQUNELElBQU1DLFdBQVcsR0FBRyxJQUFJO0FBRXhCLElBQU05dkIsSUFBSSxHQUFHLEtBQUs7QUFDbEIsSUFBTVcsT0FBTyxHQUFHO0VBQ2RvdkIsTUFBTSxFQUFFO0lBQ05DLE9BQU8sRUFBRTtFQUNYO0FBQ0YsQ0FBQztBQUVELDZCQUFlLG9DQUFTLzVCLEdBQUcsRUFBRTtFQUMzQixJQUFNZzZCLFFBQVEsR0FBR0MsV0FBVyxDQUFDajZCLEdBQUcsQ0FBQztFQUNqQyxPQUFPO0lBQ0wrSixJQUFJLEVBQUVBLElBQUk7SUFDVjdKLElBQUksRUFBRWc2QixPQUFPLENBQUNGLFFBQVEsQ0FBQztJQUN2QnR2QixPQUFPLEVBQUVBO0VBQ1gsQ0FBQztBQUNIO0FBRUEsU0FBU3V2QixXQUFXQSxDQUFDajZCLEdBQUcsRUFBRTtFQUN4QixJQUFJO0lBQ0YsSUFBTUUsSUFBSSxHQUFHRixHQUFHLENBQUNFLElBQUk7SUFDckIsSUFBSTg1QixRQUFRLEdBQUcsRUFBRTtJQUNqQjk1QixJQUFJLENBQUN1TyxPQUFPLENBQUMsVUFBQ3NxQixJQUFJLEVBQUs7TUFDckIsSUFBSTNrQixNQUFNLEdBQUcsQ0FBQyxDQUFDO01BQ2ZBLE1BQU0sQ0FBQzRCLEtBQUssR0FBRytpQixJQUFJLENBQUNvQixRQUFRO01BQzVCL2xCLE1BQU0sQ0FBQ3RFLEtBQUssR0FBR2lwQixJQUFJLENBQUMvSyxXQUFXO01BQy9CZ00sUUFBUSxDQUFDaHJCLElBQUksQ0FBQ29GLE1BQU0sQ0FBQztJQUN2QixDQUFDLENBQUM7SUFDRjRsQixRQUFRLENBQUNJLElBQUksQ0FBQyxVQUFDQyxTQUFTLEVBQUVDLFVBQVU7TUFBQSxPQUNsQ3hELFFBQVEsQ0FBQ3VELFNBQVMsQ0FBQ3JrQixLQUFLLENBQUMsR0FBRzhnQixRQUFRLENBQUN3RCxVQUFVLENBQUN0a0IsS0FBSyxDQUFDO0lBQUEsRUFBQztJQUN6RCxPQUFPZ2tCLFFBQVE7RUFDakIsQ0FBQyxDQUFDLE9BQU03eUIsQ0FBQyxFQUFFO0lBQ1R6RSxPQUFPLENBQUNDLEtBQUssQ0FBQ3dFLENBQUMsQ0FBQzJNLEtBQUssQ0FBQztFQUN4QjtBQUNGO0FBRUEsU0FBU29tQixPQUFPQSxDQUFDaDZCLElBQUksRUFBRTtFQUVyQixPQUFPO0lBQ0xxNkIsTUFBTSxFQUFFQyxTQUFTLENBQUN0NkIsSUFBSSxDQUFDO0lBQ3ZCdTZCLFFBQVEsRUFBRSxDQUFDO01BQ1R2NkIsSUFBSSxFQUFFdzZCLFFBQVEsQ0FBQ3g2QixJQUFJLENBQUM7TUFDcEI4VixLQUFLLEVBQUU2akIsV0FBVztNQUNsQmMsZUFBZSxFQUFFakIsS0FBSyxDQUFDQyxJQUFJO01BQzNCaUIsV0FBVyxFQUFFbEIsS0FBSyxDQUFDQyxJQUFJO01BQ3ZCa0IsZUFBZSxFQUFFO0lBQ25CLENBQUM7RUFDSCxDQUFDO0VBRUQsU0FBU0wsU0FBU0EsQ0FBQ3Q2QixJQUFJLEVBQUU7SUFDdkIsSUFBSTBtQixLQUFLLEdBQUcsRUFBRTtJQUNkMW1CLElBQUksQ0FBQ3VPLE9BQU8sQ0FBQyxVQUFDc3FCLElBQUksRUFBSztNQUNyQm5TLEtBQUssQ0FBQzVYLElBQUksQ0FBQytwQixJQUFJLENBQUMvaUIsS0FBSyxDQUFDO0lBQ3hCLENBQUMsQ0FBQztJQUNGLE9BQU80USxLQUFLO0VBQ2Q7RUFFQSxTQUFTOFQsUUFBUUEsQ0FBQ3g2QixJQUFJLEVBQUU7SUFDdEIsSUFBSTBtQixLQUFLLEdBQUcsRUFBRTtJQUNkMW1CLElBQUksQ0FBQ3VPLE9BQU8sQ0FBQyxVQUFDc3FCLElBQUksRUFBSztNQUNyQm5TLEtBQUssQ0FBQzVYLElBQUksQ0FBQytwQixJQUFJLENBQUNqcEIsS0FBSyxDQUFDO0lBQ3hCLENBQUMsQ0FBQztJQUNGLE9BQU84VyxLQUFLO0VBQ2Q7QUFFRjs7Ozs7Ozs7Ozs7Ozs7OztBQ3JFOEI7QUFDOUI7QUFDQTtBQUNBcmxCLENBQUMsQ0FBQ3U1QixTQUFTLENBQUM7RUFDVnp3QixPQUFPLEVBQUU7SUFDUG9ZLFNBQVMsRUFBRWxoQixDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQ2lPLEdBQUcsRUFBRTtJQUN2Q3VyQixNQUFNLEVBQUV4NUIsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUNpTyxHQUFHLEVBQUU7SUFDakN6RixJQUFJLEVBQUV4SSxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQ2lPLEdBQUc7RUFDakMsQ0FBQztFQUNEekYsSUFBSSxFQUFFLE1BQU07RUFBRztFQUNmM0YsUUFBUSxFQUFFLE1BQU07RUFDaEI0MkIsV0FBVyxFQUFFLGtCQUFrQjtFQUMvQjFULE9BQU8sRUFBRTtBQUNYLENBQUMsQ0FBQztBQUNGO0FBQ0EvbEIsQ0FBQyxDQUFDNUIsUUFBUSxDQUFDLENBQUNzN0IsU0FBUyxDQUFDLFVBQVN2NUIsS0FBSyxFQUFFOEMsR0FBRyxFQUFFMDJCLFFBQVEsRUFBQztFQUNsRCxJQUFJQyxNQUFNLEdBQUdELFFBQVEsQ0FBQzc2QixHQUFHO0VBQ3pCLElBQUkrNkIsT0FBTyxHQUFHRixRQUFRLENBQUNoN0IsSUFBSTtFQUMzQixJQUFJRixHQUFHLEdBQUd3RSxHQUFHLENBQUM5RCxNQUFNLEdBQUc4RCxHQUFHLENBQUNDLFVBQVU7RUFDckMsSUFBSS9CLE9BQU8sRUFDVEEsT0FBTyxDQUFDQyxLQUFLLENBQUN3NEIsTUFBTSxFQUFFQyxPQUFPLEVBQUVwN0IsR0FBRyxDQUFDO0VBQ3JDZ0MsNERBQW9CLENBQUMsa0JBQWtCLEdBQUd3QyxHQUFHLENBQUM5RCxNQUFNLEdBQUcsYUFBYSxHQUFHMjZCLGFBQWEsQ0FBQzcyQixHQUFHLENBQUNDLFVBQVUsQ0FBQyxDQUFDO0VBQ3JHLFNBQVM0MkIsYUFBYUEsQ0FBQzdNLFNBQVMsRUFBRTtJQUNoQyxJQUFJbFAsSUFBSSxHQUFHa1AsU0FBUztJQUNwQixJQUFJQSxTQUFTLEtBQUssU0FBUyxFQUFFbFAsSUFBSSxHQUFHLE1BQU07SUFDMUMsT0FBT0EsSUFBSTtFQUNiO0FBQ0YsQ0FBQyxDQUFDO0FBQ0Y7QUFDQS9kLENBQUMsQ0FBQzVCLFFBQVEsQ0FBQyxDQUFDMjdCLFNBQVMsQ0FBQyxZQUFXO0VBQy9CdDVCLDREQUFvQixFQUFFO0FBQ3hCLENBQUMsQ0FBQztBQUNGVCxDQUFDLENBQUM1QixRQUFRLENBQUMsQ0FBQzQ3QixRQUFRLENBQUMsWUFBVztFQUM5QnY1Qiw0REFBb0IsRUFBRTtBQUN4QixDQUFDLENBQUM7QUFDRjtBQUNBVCxDQUFDLENBQUNpNkIsRUFBRSxDQUFDbDRCLGVBQWUsR0FBRyxZQUFXO0VBQ2hDLElBQUltNEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztFQUNWLElBQUk1eEIsQ0FBQyxHQUFHLElBQUksQ0FBQzZ4QixjQUFjLEVBQUU7RUFDN0JuNkIsQ0FBQyxDQUFDbzZCLElBQUksQ0FBQzl4QixDQUFDLEVBQUUsWUFBVztJQUNuQixJQUFJL0osS0FBSyxHQUFHa0Msc0RBQWMsQ0FBQyxJQUFJLENBQUNsQyxLQUFLLENBQUMsR0FBRWtFLElBQUksQ0FBQ3lCLEtBQUssQ0FBQyxJQUFJLENBQUMzRixLQUFLLENBQUMsR0FBRSxJQUFJLENBQUNBLEtBQUs7SUFDMUUsSUFBSTI3QixDQUFDLENBQUMsSUFBSSxDQUFDaDdCLElBQUksQ0FBQyxLQUFLOFgsU0FBUyxFQUFFO01BQzlCLElBQUksQ0FBQ2tqQixDQUFDLENBQUMsSUFBSSxDQUFDaDdCLElBQUksQ0FBQyxDQUFDdU8sSUFBSSxFQUFFO1FBQ3RCeXNCLENBQUMsQ0FBQyxJQUFJLENBQUNoN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQ2c3QixDQUFDLENBQUMsSUFBSSxDQUFDaDdCLElBQUksQ0FBQyxDQUFDO01BQy9CO01BQ0FnN0IsQ0FBQyxDQUFDLElBQUksQ0FBQ2g3QixJQUFJLENBQUMsQ0FBQ3VPLElBQUksQ0FBQ2xQLEtBQUssSUFBSSxFQUFFLENBQUM7SUFDaEMsQ0FBQyxNQUFNO01BQ0wyN0IsQ0FBQyxDQUFDLElBQUksQ0FBQ2g3QixJQUFJLENBQUMsR0FBR1gsS0FBSyxJQUFJLEVBQUU7SUFDNUI7RUFDRixDQUFDLENBQUM7RUFDRixPQUFPMjdCLENBQUM7QUFDVixDQUFDOzs7Ozs7Ozs7O0FDbkRELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxrQkFBa0IsbUJBQU8sQ0FBQyxtSUFBNEI7O0FBRXREOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDVEEsb0JBQW9CLG1CQUFPLENBQUMscUlBQTZCO0FBQ3pELGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0Qjs7QUFFdEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNUQSxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRW5EO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUkEsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELGFBQWEsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDakQscUJBQXFCLDhLQUFnRDs7QUFFckU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ25CYTtBQUNiLGFBQWEsdUtBQStDOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1BBLG9CQUFvQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUEEsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNUYTtBQUNiLGVBQWUsc0tBQStDO0FBQzlELDBCQUEwQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFdkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7Ozs7Ozs7Ozs7OztBQ1hXO0FBQ2IsV0FBVyxtQkFBTyxDQUFDLG1KQUFvQztBQUN2RCxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsbUNBQW1DLG1CQUFPLENBQUMseUtBQStDO0FBQzFGLDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1QztBQUMzRSxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDekQsd0JBQXdCLG1CQUFPLENBQUMsaUpBQW1DO0FBQ25FLHFCQUFxQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMzRCxrQkFBa0IsbUJBQU8sQ0FBQyxpSUFBMkI7QUFDckQsd0JBQXdCLG1CQUFPLENBQUMsK0lBQWtDOztBQUVsRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQ0FBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM3Q0Esc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCx3QkFBd0IsbUJBQU8sQ0FBQyxpSkFBbUM7O0FBRW5FLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFdBQVcsZ0JBQWdCO0FBQ2pDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUMvQkEsV0FBVyxtQkFBTyxDQUFDLG1KQUFvQztBQUN2RCxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsb0JBQW9CLG1CQUFPLENBQUMscUlBQTZCO0FBQ3pELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0Msd0JBQXdCLG1CQUFPLENBQUMsaUpBQW1DO0FBQ25FLHlCQUF5QixtQkFBTyxDQUFDLGlKQUFtQzs7QUFFcEU7O0FBRUEsc0JBQXNCLGtFQUFrRTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0EsNENBQTRDO0FBQzVDLDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDLFVBQVU7QUFDViw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3hFQSxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxpQkFBaUIsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRXpEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7O0FDbEJhO0FBQ2IsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsV0FBVztBQUMzRCxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7O0FDVEEsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSxxQkFBcUIsbUJBQU8sQ0FBQyx1SUFBOEI7O0FBRTNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNmQSxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7O0FBRTlEOzs7Ozs7Ozs7OztBQ0ZBLGlCQUFpQixtQkFBTyxDQUFDLDZJQUFpQzs7QUFFMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTs7Ozs7Ozs7Ozs7QUMzQ0EsY0FBYyxtQkFBTyxDQUFDLHlIQUF1QjtBQUM3QyxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDekQsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7Ozs7Ozs7OztBQ3JCQSw4QkFBOEIsbUJBQU8sQ0FBQywySkFBd0M7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDTkEsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNWQSxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVTtBQUN6RCxFQUFFLGdCQUFnQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCO0FBQ0E7Ozs7Ozs7Ozs7O0FDckNBLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQzs7QUFFOUQsNkJBQTZCO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNQQSw0QkFBNEIsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDeEUsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQsbUJBQW1COztBQUVwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDNUJBLGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsY0FBYyxtQkFBTyxDQUFDLHlIQUF1QjtBQUM3QyxxQ0FBcUMsbUJBQU8sQ0FBQyw2S0FBaUQ7QUFDOUYsMkJBQTJCLG1CQUFPLENBQUMscUpBQXFDOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2ZBLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7O0FBRXhDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDUEQsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELDZCQUE2QixtQkFBTyxDQUFDLHlKQUF1QztBQUM1RSxlQUFlLG1CQUFPLENBQUMsMkhBQXdCOztBQUUvQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQTs7Ozs7Ozs7Ozs7QUNkQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7Ozs7Ozs7Ozs7O0FDSkEsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELDJCQUEyQixtQkFBTyxDQUFDLHFKQUFxQztBQUN4RSwrQkFBK0IsbUJBQU8sQ0FBQyw2SkFBeUM7O0FBRWhGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ1BhO0FBQ2Isb0JBQW9CLG1CQUFPLENBQUMsdUlBQThCO0FBQzFELDJCQUEyQixtQkFBTyxDQUFDLHFKQUFxQztBQUN4RSwrQkFBK0IsbUJBQU8sQ0FBQyw2SkFBeUM7O0FBRWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDVEEsa0JBQWtCLG1CQUFPLENBQUMsbUlBQTRCO0FBQ3RELHFCQUFxQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFbEU7QUFDQSwwREFBMEQsY0FBYztBQUN4RSwwREFBMEQsY0FBYztBQUN4RTtBQUNBOzs7Ozs7Ozs7OztBQ1BBLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCwyQkFBMkIsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDeEUsa0JBQWtCLG1CQUFPLENBQUMsbUlBQTRCO0FBQ3RELDJCQUEyQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKOzs7Ozs7Ozs7OztBQzFCQSxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ0xBLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtDQUFrQyxrREFBa0Q7QUFDcEYsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKOzs7Ozs7Ozs7Ozs7QUNYYTtBQUNiLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0Qjs7QUFFdEQ7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1BBLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxPQUFPLG1CQUFtQixhQUFhO0FBQ3hFLENBQUM7Ozs7Ozs7Ozs7O0FDTkQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1RBLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNUQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNsQ0E7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQyx1SkFBc0M7O0FBRTFFO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7O0FDTkEsZ0JBQWdCLG1CQUFPLENBQUMsMklBQWdDOztBQUV4RDs7QUFFQTs7Ozs7Ozs7Ozs7QUNKQSxjQUFjLG1CQUFPLENBQUMscUlBQTZCO0FBQ25ELGNBQWMsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRW5EO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNMQTtBQUNBOzs7Ozs7Ozs7OztBQ0RBLFNBQVMsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRWpEOzs7Ozs7Ozs7OztBQ0ZBLGdCQUFnQixtQkFBTyxDQUFDLDJJQUFnQzs7QUFFeEQ7Ozs7Ozs7Ozs7O0FDRkEsZ0JBQWdCLG1CQUFPLENBQUMsMklBQWdDOztBQUV4RDtBQUNBOzs7Ozs7Ozs7OztBQ0hBLGNBQWMsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRWhEOzs7Ozs7Ozs7OztBQ0ZBLGdCQUFnQixtQkFBTyxDQUFDLDJJQUFnQzs7QUFFeEQ7Ozs7Ozs7Ozs7O0FDRkE7Ozs7Ozs7Ozs7O0FDQUEsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxnQkFBZ0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRXhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUMxQkEsZ0JBQWdCLG1CQUFPLENBQUMsMklBQWdDOztBQUV4RDs7QUFFQTs7Ozs7Ozs7Ozs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNUQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLCtCQUErQixzTUFBNEQ7QUFDM0Ysa0NBQWtDLG1CQUFPLENBQUMscUtBQTZDO0FBQ3ZGLG9CQUFvQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMxRCwyQkFBMkIsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDeEUsZ0NBQWdDLG1CQUFPLENBQUMsK0pBQTBDO0FBQ2xGLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDhEQUE4RDtBQUM5RCxJQUFJO0FBQ0osa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDTmE7QUFDYjtBQUNBLG1CQUFPLENBQUMsaUlBQTJCO0FBQ25DLGtCQUFrQixtQkFBTyxDQUFDLGlLQUEyQztBQUNyRSxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDMUQsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELGtDQUFrQyxtQkFBTyxDQUFDLHFLQUE2Qzs7QUFFdkY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCLG1CQUFtQjs7QUFFL0M7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGVBQWU7QUFDZixLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7OztBQ3pFQSxrQkFBa0IsbUJBQU8sQ0FBQyxpSkFBbUM7O0FBRTdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7OztBQ1RELGtCQUFrQixtQkFBTyxDQUFDLGlLQUEyQztBQUNyRSxnQkFBZ0IsbUJBQU8sQ0FBQyw2SEFBeUI7QUFDakQsa0JBQWtCLG1CQUFPLENBQUMsaUpBQW1DOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNaQSxZQUFZLG1CQUFPLENBQUMsbUhBQW9COztBQUV4QztBQUNBO0FBQ0EsNEJBQTRCLGFBQWE7QUFDekM7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDUEQsa0JBQWtCLG1CQUFPLENBQUMsaUpBQW1DOztBQUU3RDs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDTkEsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7O0FBRXBEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLGFBQWE7QUFDNUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNoQkEsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5Qjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQjs7Ozs7Ozs7Ozs7QUNSQSxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUkEsa0JBQWtCLG1CQUFPLENBQUMsaUpBQW1DOztBQUU3RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNWQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNUQSxjQUFjLG1CQUFPLENBQUMsdUhBQXNCO0FBQzVDLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCx3QkFBd0IsbUJBQU8sQ0FBQyxpSkFBbUM7QUFDbkUsZ0JBQWdCLG1CQUFPLENBQUMsMkhBQXdCO0FBQ2hELHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQzs7QUFFOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNaQSxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0QjtBQUN0RCx3QkFBd0IsbUJBQU8sQ0FBQywrSUFBa0M7O0FBRWxFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDWkEsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGNBQWMsbUJBQU8sQ0FBQyx5SEFBdUI7QUFDN0MsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGNBQWMsbUJBQU8sQ0FBQywrSEFBMEI7QUFDaEQsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTs7Ozs7Ozs7Ozs7QUM1QkEsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCO0FBQ2pELHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQzs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1JBLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLElBQUk7QUFDN0Msa0RBQWtELElBQUk7O0FBRXREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7O0FDNUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUJBQU0sZ0JBQWdCLHFCQUFNO0FBQzNDO0FBQ0EsaUJBQWlCLGNBQWM7Ozs7Ozs7Ozs7O0FDYi9CLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCOztBQUUvQyxtQ0FBbUM7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNWQTs7Ozs7Ozs7Ozs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCOzs7Ozs7Ozs7OztBQ0xBLGlCQUFpQixtQkFBTyxDQUFDLGlJQUEyQjs7QUFFcEQ7Ozs7Ozs7Ozs7O0FDRkEsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsb0JBQW9CLG1CQUFPLENBQUMsdUpBQXNDOztBQUVsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixHQUFHO0FBQ0gsQ0FBQzs7Ozs7Ozs7Ozs7QUNWRCxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxjQUFjLG1CQUFPLENBQUMsK0hBQTBCOztBQUVoRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxFQUFFOzs7Ozs7Ozs7OztBQ2RGLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLHFCQUFxQixtQkFBTyxDQUFDLHVKQUFzQzs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNqQkEsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxZQUFZLG1CQUFPLENBQUMsaUlBQTJCOztBQUUvQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7O0FDYkEsc0JBQXNCLG1CQUFPLENBQUMseUpBQXVDO0FBQ3JFLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDMUMsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxrQ0FBa0MsbUJBQU8sQ0FBQyxxS0FBNkM7QUFDdkYsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxhQUFhLG1CQUFPLENBQUMsaUlBQTJCO0FBQ2hELGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRW5EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDO0FBQ3ZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDckVBLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxnQkFBZ0IsbUJBQU8sQ0FBQywySEFBd0I7O0FBRWhEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDVEEsY0FBYyxtQkFBTyxDQUFDLCtIQUEwQjs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1BBLG1CQUFtQixtQkFBTyxDQUFDLGlJQUEyQjs7QUFFdEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7Ozs7Ozs7Ozs7QUNWQSxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQyxpSUFBMkI7QUFDcEQsb0JBQW9CLG1CQUFPLENBQUMscUlBQTZCOztBQUV6RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxnQkFBZ0I7QUFDMUQ7QUFDQSxDQUFDOzs7Ozs7Ozs7OztBQ25ERCxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNKQSxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsbUJBQW1CLG1CQUFPLENBQUMsaUlBQTJCOztBQUV0RDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7Ozs7Ozs7Ozs7O0FDVEE7Ozs7Ozs7Ozs7O0FDQUEsaUJBQWlCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3BELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDakUsd0JBQXdCLG1CQUFPLENBQUMsMklBQWdDOztBQUVoRTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNaQSxXQUFXLG1CQUFPLENBQUMsbUpBQW9DO0FBQ3ZELFdBQVcsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDL0MsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDdEQsNEJBQTRCLG1CQUFPLENBQUMseUpBQXVDO0FBQzNFLHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSxvQkFBb0IsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDakUsa0JBQWtCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3JELHdCQUF3QixtQkFBTyxDQUFDLCtJQUFrQztBQUNsRSxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRXpEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnQkFBZ0I7QUFDNUU7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7Ozs7Ozs7OztBQ25FQSxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUN0QmE7QUFDYix3QkFBd0IsOEtBQXdEO0FBQ2hGLGFBQWEsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDakQsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLHFCQUFxQixtQkFBTyxDQUFDLDJJQUFnQztBQUM3RCxnQkFBZ0IsbUJBQU8sQ0FBQywySEFBd0I7O0FBRWhELCtCQUErQjs7QUFFL0I7QUFDQTtBQUNBLDhEQUE4RCx5REFBeUQ7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2ZhO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsbUJBQW1CLG1CQUFPLENBQUMsbUlBQTRCO0FBQ3ZELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxnQ0FBZ0MsbUJBQU8sQ0FBQywrSkFBMEM7QUFDbEYscUJBQXFCLG1CQUFPLENBQUMsdUpBQXNDO0FBQ25FLHFCQUFxQixtQkFBTyxDQUFDLHVKQUFzQztBQUNuRSxxQkFBcUIsbUJBQU8sQ0FBQywySUFBZ0M7QUFDN0Qsa0NBQWtDLG1CQUFPLENBQUMscUtBQTZDO0FBQ3ZGLG9CQUFvQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMxRCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsZ0JBQWdCLG1CQUFPLENBQUMsMkhBQXdCO0FBQ2hELG9CQUFvQixtQkFBTyxDQUFDLHFJQUE2Qjs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0I7O0FBRS9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUMsOENBQThDO0FBQzlDLGdEQUFnRDtBQUNoRCxNQUFNLHFCQUFxQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLDRDQUE0QztBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLFNBQVMsb0ZBQW9GO0FBQ25HOztBQUVBO0FBQ0E7QUFDQSxrRUFBa0UsZUFBZTtBQUNqRjtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ2xHYTtBQUNiLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsYUFBYSxtQkFBTyxDQUFDLG1JQUE0QjtBQUNqRCxxQkFBcUIsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDbkUsb0JBQW9CLG1CQUFPLENBQUMsdUlBQThCO0FBQzFELHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxjQUFjLG1CQUFPLENBQUMsdUhBQXNCOztBQUU1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2hEQTs7Ozs7Ozs7Ozs7QUNBQSxlQUFlLG1CQUFPLENBQUMsMkhBQXdCOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ05BLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxhQUFhLG1CQUFPLENBQUMseUlBQStCO0FBQ3BELGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCxpQ0FBaUMsdUtBQWtEO0FBQ25GLG9CQUFvQixtQkFBTyxDQUFDLHFJQUE2QjtBQUN6RCwwQkFBMEIsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRS9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsYUFBYSxjQUFjLFVBQVU7QUFDM0UsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxpQ0FBaUM7QUFDdEY7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNCQUFzQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsaUJBQWlCO0FBQzdFO0FBQ0EsTUFBTTtBQUNOLElBQUksZ0JBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDckREO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDVEEsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxXQUFXLG1CQUFPLENBQUMsbUpBQW9DO0FBQ3ZELCtCQUErQixzTUFBNEQ7QUFDM0YsZ0JBQWdCLDRJQUFnQztBQUNoRCxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGFBQWEsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDakQsb0JBQW9CLG1CQUFPLENBQUMsaUpBQW1DO0FBQy9ELHNCQUFzQixtQkFBTyxDQUFDLHFKQUFxQztBQUNuRSxjQUFjLG1CQUFPLENBQUMscUlBQTZCOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxxQkFBcUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FDL0VhO0FBQ2IsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCOztBQUVqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7Ozs7Ozs7Ozs7O0FDcEJhO0FBQ2Isa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGtDQUFrQyxtQkFBTyxDQUFDLHVLQUE4QztBQUN4RixpQ0FBaUMsbUJBQU8sQ0FBQyxtS0FBNEM7QUFDckYsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsTUFBTSwyQkFBMkI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUcsS0FBSyxNQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZUFBZTtBQUM3RCxtQkFBbUIsMENBQTBDO0FBQzdELENBQUMsc0NBQXNDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOzs7Ozs7Ozs7OztBQ3hERjtBQUNBLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsNkJBQTZCLG1CQUFPLENBQUMseUpBQXVDO0FBQzVFLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0QjtBQUN0RCxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsV0FBVyxtQkFBTyxDQUFDLGlIQUFtQjtBQUN0Qyw0QkFBNEIsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDMUUsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGdCQUFnQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7Ozs7Ozs7Ozs7O0FDbEZBLGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCw4QkFBOEIsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDNUUsMkJBQTJCLG1CQUFPLENBQUMscUpBQXFDO0FBQ3hFLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0Msc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNuQkEsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELHFCQUFxQixtQkFBTyxDQUFDLHFJQUE2QjtBQUMxRCw4QkFBOEIsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDNUUsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzFDQSxrQkFBa0IsbUJBQU8sQ0FBQywrSEFBMEI7QUFDcEQsV0FBVyxtQkFBTyxDQUFDLG1JQUE0QjtBQUMvQyxpQ0FBaUMsbUJBQU8sQ0FBQyxtS0FBNEM7QUFDckYsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDMUQsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxxQkFBcUIsbUJBQU8sQ0FBQyxxSUFBNkI7O0FBRTFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCO0FBQ0E7Ozs7Ozs7Ozs7O0FDckJBO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLCtIQUEwQjtBQUNoRCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsMkJBQTJCLDRMQUF1RDtBQUNsRixpQkFBaUIsbUJBQU8sQ0FBQyw2SUFBaUM7O0FBRTFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN0QkEseUJBQXlCLG1CQUFPLENBQUMsaUpBQW1DO0FBQ3BFLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0Qjs7QUFFdEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7Ozs7Ozs7Ozs7O0FDVkE7QUFDQSxTQUFTOzs7Ozs7Ozs7OztBQ0RULGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCO0FBQ2pELCtCQUErQixtQkFBTyxDQUFDLHlKQUF1Qzs7QUFFOUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7Ozs7Ozs7Ozs7QUNwQkEsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DOztBQUU5RCwrQkFBK0I7Ozs7Ozs7Ozs7O0FDRi9CLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxhQUFhLG1CQUFPLENBQUMseUlBQStCO0FBQ3BELHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxjQUFjLG9LQUE4QztBQUM1RCxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRW5EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNuQkEseUJBQXlCLG1CQUFPLENBQUMsaUpBQW1DO0FBQ3BFLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0Qjs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNSYTtBQUNiLDhCQUE4QjtBQUM5QjtBQUNBOztBQUVBO0FBQ0EsNEVBQTRFLE1BQU07O0FBRWxGO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEVBQUU7Ozs7Ozs7Ozs7O0FDYkY7QUFDQSwwQkFBMEIsbUJBQU8sQ0FBQyxxS0FBNkM7QUFDL0UsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyx5QkFBeUIsbUJBQU8sQ0FBQyxpSkFBbUM7O0FBRXBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUN6Qlk7QUFDYiw0QkFBNEIsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDeEUsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjs7QUFFNUM7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBOzs7Ozs7Ozs7OztBQ1JBLFdBQVcsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7O0FBRS9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNkQSxpQkFBaUIsbUJBQU8sQ0FBQyxpSUFBMkI7QUFDcEQsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGdDQUFnQyxtQkFBTyxDQUFDLG1LQUE0QztBQUNwRixrQ0FBa0MsbUJBQU8sQ0FBQyx1S0FBOEM7QUFDeEYsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2JBLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7O0FBRTFDOzs7Ozs7Ozs7OztBQ0ZBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsSUFBSTtBQUNKLGFBQWE7QUFDYjtBQUNBOzs7Ozs7Ozs7OztBQ05BLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDMUMsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLG9CQUFvQixtQkFBTyxDQUFDLHFJQUE2QjtBQUN6RCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsaUJBQWlCLG1CQUFPLENBQUMsMklBQWdDO0FBQ3pELGNBQWMsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDbkQsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxpQkFBaUIsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRXpEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsYUFBYTtBQUNqRjtBQUNBLHlCQUF5QixhQUFhLGdCQUFnQixhQUFhO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxhQUFhO0FBQzFEO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzlDQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCOztBQUUxQzs7Ozs7Ozs7Ozs7QUNGQSxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMscUpBQXFDOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1hBLCtCQUErQixtQkFBTyxDQUFDLDZKQUF5QztBQUNoRixrQ0FBa0MsbUJBQU8sQ0FBQyxxS0FBNkM7QUFDdkYsaUNBQWlDLHNNQUFpRTs7QUFFbEc7QUFDQSx1RUFBdUUsYUFBYTtBQUNwRixDQUFDOzs7Ozs7Ozs7OztBQ05EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7Ozs7Ozs7OztBQ3ZCQSxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGNBQWMsbUJBQU8sQ0FBQywrSEFBMEI7QUFDaEQsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCOztBQUVuRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ25CYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLGlJQUEyQjtBQUNyRCxvQkFBb0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDaEUsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxhQUFhLG1CQUFPLENBQUMsbUlBQTRCO0FBQ2pELHVCQUF1QixnS0FBMEM7QUFDakUsMEJBQTBCLG1CQUFPLENBQUMsNkpBQXlDO0FBQzNFLHNCQUFzQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7O0FDcEhhO0FBQ2IsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2pCQSxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsb0JBQW9CLG1CQUFPLENBQUMscUpBQXFDO0FBQ2pFLGtCQUFrQixtQkFBTyxDQUFDLGlJQUEyQjs7QUFFckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNYQSxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQzdCQSxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7QUNURCxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7O0FBRTFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7OztBQ1ZELHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQzs7QUFFbkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNUYTtBQUNiLGlCQUFpQixtQkFBTyxDQUFDLGlJQUEyQjtBQUNwRCw0QkFBNEIsbUJBQU8sQ0FBQyx5SkFBdUM7QUFDM0Usc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFcEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsS0FBSztBQUNMO0FBQ0E7Ozs7Ozs7Ozs7O0FDakJBLHFCQUFxQiw4S0FBZ0Q7QUFDckUsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnQ0FBZ0M7QUFDNUU7QUFDQTs7Ozs7Ozs7Ozs7QUNYQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLFVBQVUsbUJBQU8sQ0FBQywrR0FBa0I7O0FBRXBDOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNQQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLDJCQUEyQixtQkFBTyxDQUFDLHFKQUFxQzs7QUFFeEU7QUFDQSw2REFBNkQ7O0FBRTdEOzs7Ozs7Ozs7OztBQ05BLGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsWUFBWSxtQkFBTyxDQUFDLGlJQUEyQjs7QUFFL0M7QUFDQSxxRUFBcUU7QUFDckUsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7OztBQ1hELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMsbUlBQTRCO0FBQ3ZELHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ2JBLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7O0FBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7QUNUQSxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsMEJBQTBCLG1CQUFPLENBQUMscUpBQXFDO0FBQ3ZFLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsNkJBQTZCLG1CQUFPLENBQUMseUpBQXVDOztBQUU1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDbkNBO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DOztBQUU5RCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLHFCQUFxQjtBQUNyQixvQ0FBb0M7QUFDcEMsZ0RBQWdEO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxRQUFRO0FBQ1Isd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DLG9DQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0JBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQW1CO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDbkxBLDJCQUEyQixpS0FBNEM7QUFDdkUsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxrQkFBa0IsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRXBEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7OztBQ2RBLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCw2QkFBNkIsbUJBQU8sQ0FBQyx5SkFBdUM7QUFDNUUsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRXBEO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsK0NBQStDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIscUJBQXFCO0FBQzlDO0FBQ0E7QUFDQSx5QkFBeUIsb0JBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUM3QkE7QUFDQSxpQkFBaUIsbUJBQU8sQ0FBQywySUFBZ0M7QUFDekQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjs7QUFFeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDWkQsV0FBVyxtQkFBTyxDQUFDLG1JQUE0QjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQyxpSUFBMkI7QUFDcEQsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELG9CQUFvQixtQkFBTyxDQUFDLHVJQUE4Qjs7QUFFMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksVUFBVTtBQUNuQjtBQUNBOzs7Ozs7Ozs7OztBQ25CQSxvQkFBb0IsbUJBQU8sQ0FBQyxpS0FBMkM7O0FBRXZFO0FBQ0E7Ozs7Ozs7Ozs7O0FDSEEsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxZQUFZLG1CQUFPLENBQUMscUlBQTZCO0FBQ2pELFdBQVcsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDdkQsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxXQUFXLG1CQUFPLENBQUMsaUhBQW1CO0FBQ3RDLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDbEUsOEJBQThCLG1CQUFPLENBQUMsMkpBQXdDO0FBQzlFLGFBQWEsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDakQsY0FBYyxtQkFBTyxDQUFDLHFJQUE2Qjs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNuSEEsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DOztBQUU5RDtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDSkEsMEJBQTBCLG1CQUFPLENBQUMscUpBQXFDOztBQUV2RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDWEE7QUFDQSxvQkFBb0IsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDekQsNkJBQTZCLG1CQUFPLENBQUMseUpBQXVDOztBQUU1RTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDTkEsWUFBWSxtQkFBTyxDQUFDLDZIQUF5Qjs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUkEsMEJBQTBCLG1CQUFPLENBQUMscUpBQXFDOztBQUV2RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEY7Ozs7Ozs7Ozs7O0FDUkEsNkJBQTZCLG1CQUFPLENBQUMseUpBQXVDOztBQUU1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1JBLFdBQVcsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDL0MsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCwwQkFBMEIsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDdEUsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDOztBQUU5RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN4QkEsa0JBQWtCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3JELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNSQSxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRTlEO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7Ozs7Ozs7O0FDUEEsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjs7QUFFNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUEE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNSQSxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7O0FBRTlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDUkEsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7O0FBRTVDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7OztBQ25DRDtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLGlLQUEyQzs7QUFFdkU7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ0xBLGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCxZQUFZLG1CQUFPLENBQUMsbUhBQW9COztBQUV4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxhQUFhO0FBQzFEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7Ozs7Ozs7Ozs7QUNYRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUNMQSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFbkQ7O0FBRUE7Ozs7Ozs7Ozs7O0FDTEEsV0FBVyxtQkFBTyxDQUFDLGlIQUFtQjtBQUN0QyxhQUFhLG1CQUFPLENBQUMseUlBQStCO0FBQ3BELG1DQUFtQyxtQkFBTyxDQUFDLDJKQUF3QztBQUNuRixxQkFBcUIsOEtBQWdEOztBQUVyRTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0EsR0FBRztBQUNIOzs7Ozs7Ozs7OztBQ1ZBLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQzs7QUFFOUQsU0FBUzs7Ozs7Ozs7Ozs7QUNGVCxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDMUMsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxVQUFVLG1CQUFPLENBQUMsK0dBQWtCO0FBQ3BDLG9CQUFvQixtQkFBTyxDQUFDLGlLQUEyQztBQUN2RSx3QkFBd0IsbUJBQU8sQ0FBQywySUFBZ0M7O0FBRWhFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7Ozs7Ozs7OztBQ2pCQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ0ZhO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGNBQWMsbUJBQU8sQ0FBQyx5SEFBdUI7QUFDN0MsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSwrQkFBK0IsbUJBQU8sQ0FBQyxpS0FBMkM7QUFDbEYscUJBQXFCLG1CQUFPLENBQUMsdUlBQThCO0FBQzNELHlCQUF5QixtQkFBTyxDQUFDLGlKQUFtQztBQUNwRSxtQ0FBbUMsbUJBQU8sQ0FBQyx5S0FBK0M7QUFDMUYsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELGlCQUFpQixtQkFBTyxDQUFDLDJJQUFnQzs7QUFFekQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3REFBd0Q7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFlBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUN6RFk7QUFDYixzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsdUJBQXVCLG1CQUFPLENBQUMsNklBQWlDO0FBQ2hFLGdCQUFnQixtQkFBTyxDQUFDLDJIQUF3QjtBQUNoRCwwQkFBMEIsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDL0QscUJBQXFCLDhLQUFnRDtBQUNyRSxxQkFBcUIsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDM0QsNkJBQTZCLG1CQUFPLENBQUMsMkpBQXdDO0FBQzdFLGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCOztBQUVwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQW1DLGlCQUFpQjtBQUNwRCxFQUFFLGdCQUFnQjs7Ozs7Ozs7Ozs7O0FDN0RMO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxjQUFjLG1CQUFPLENBQUMseUhBQXVCO0FBQzdDLG9CQUFvQixtQkFBTyxDQUFDLHFJQUE2QjtBQUN6RCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCx3QkFBd0IsbUJBQU8sQ0FBQyxpSkFBbUM7QUFDbkUsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELHFCQUFxQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMzRCxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsbUNBQW1DLG1CQUFPLENBQUMseUtBQStDO0FBQzFGLGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjs7QUFFcEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUksNERBQTREO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDaERZO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCO0FBQ2pELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0Msd0JBQXdCLG1CQUFPLENBQUMsaUpBQW1DO0FBQ25FLDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1QztBQUMzRSxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsbUJBQW1CLG1CQUFPLENBQUMsNkhBQXlCO0FBQ3BELDBCQUEwQixtQkFBTyxDQUFDLHFKQUFxQztBQUN2RSxTQUFTLG1CQUFPLENBQUMsMklBQWdDO0FBQ2pELGlCQUFpQixtQkFBTyxDQUFDLGlKQUFtQztBQUM1RCxTQUFTLG1CQUFPLENBQUMsMklBQWdDO0FBQ2pELGFBQWEsbUJBQU8sQ0FBQyxtSkFBb0M7O0FBRXpEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsV0FBVztBQUM3Qjs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRCxtQ0FBbUM7QUFDbkM7QUFDQTs7QUFFQSxvQkFBb0IsWUFBWTtBQUNoQyxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0E7O0FBRUEsOEJBQThCLG1CQUFtQjs7QUFFakQsa0JBQWtCLHFCQUFxQjtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksOENBQThDO0FBQ2xEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDekdELGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCwyQkFBMkIsaUtBQTRDO0FBQ3ZFLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCw0QkFBNEIsbUJBQU8sQ0FBQyx5SkFBdUM7O0FBRTNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7O0FDeEJBLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3BELFlBQVksbUJBQU8sQ0FBQyxxSUFBNkI7QUFDakQsV0FBVyxtQkFBTyxDQUFDLG1JQUE0QjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsMEJBQTBCLG1CQUFPLENBQUMsNkpBQXlDO0FBQzNFLG9CQUFvQixtQkFBTyxDQUFDLGlLQUEyQzs7QUFFdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVyxRQUFRO0FBQ3ZDO0FBQ0Esd0NBQXdDO0FBQ3hDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sOEZBQThGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7O0FDdkVhO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxjQUFjLG1CQUFPLENBQUMsdUhBQXNCO0FBQzVDLGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLFdBQVcsbUJBQU8sQ0FBQyxpSEFBbUI7QUFDdEMsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCx3QkFBd0IsbUJBQU8sQ0FBQywrSUFBa0M7QUFDbEUsb0JBQW9CLG1CQUFPLENBQUMscUpBQXFDO0FBQ2pFLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3JELFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsMEJBQTBCLDRMQUF1RDtBQUNqRiwrQkFBK0Isc01BQTREO0FBQzNGLHFCQUFxQiw4S0FBZ0Q7QUFDckUsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDO0FBQzlELFdBQVcsMkpBQXdDOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRCxNQUFNO0FBQ047QUFDQSxxQ0FBcUMsY0FBYyxPQUFPO0FBQzFELHNDQUFzQyxjQUFjLE9BQU87QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0JBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzRUFBc0UseUJBQXlCO0FBQy9GOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUksNkRBQTZEO0FBQ2pFO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUJBQWlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7QUN2R0EsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxvQkFBb0IsbUJBQU8sQ0FBQyxpS0FBMkM7QUFDdkUsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxrQ0FBa0MsbUJBQU8sQ0FBQyx1S0FBOEM7QUFDeEYsZUFBZSxtQkFBTyxDQUFDLDJIQUF3Qjs7QUFFL0M7QUFDQTtBQUNBLG1EQUFtRCxtQ0FBbUM7O0FBRXRGO0FBQ0E7QUFDQSxJQUFJLDhDQUE4QztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDakJELDRCQUE0QixtQkFBTyxDQUFDLG1KQUFvQztBQUN4RSxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDMUQsZUFBZSxtQkFBTyxDQUFDLHlJQUErQjs7QUFFdEQ7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEU7Ozs7Ozs7Ozs7OztBQ1JhO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCxpQ0FBaUMsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDOUUsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxjQUFjLG1CQUFPLENBQUMsdUhBQXNCO0FBQzVDLDBDQUEwQyxtQkFBTyxDQUFDLCtLQUFrRDs7QUFFcEc7QUFDQTtBQUNBLElBQUksNEVBQTRFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUN0Q1k7QUFDYixRQUFRLG1CQUFPLENBQUMscUhBQXFCO0FBQ3JDLGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsaUNBQWlDLHNNQUFpRTtBQUNsRywrQkFBK0IsbUJBQU8sQ0FBQyw2SkFBeUM7QUFDaEYsaUJBQWlCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3BELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7O0FBRTFEOztBQUVBO0FBQ0E7QUFDQSxJQUFJLGdGQUFnRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTs7Ozs7Ozs7Ozs7O0FDekJhO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxjQUFjLG1CQUFPLENBQUMsdUhBQXNCO0FBQzVDLGNBQWMsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDbkQsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLG9CQUFvQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMxRCxxQkFBcUIsbUJBQU8sQ0FBQyx1SkFBc0M7QUFDbkUscUJBQXFCLG1CQUFPLENBQUMsMklBQWdDO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxnQkFBZ0IsbUJBQU8sQ0FBQyw2SEFBeUI7QUFDakQsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELHlCQUF5QixtQkFBTyxDQUFDLCtJQUFrQztBQUNuRSxXQUFXLDRJQUFnQztBQUMzQyxnQkFBZ0IsbUJBQU8sQ0FBQywySEFBd0I7QUFDaEQsdUJBQXVCLG1CQUFPLENBQUMsNklBQWlDO0FBQ2hFLGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QywwQkFBMEIsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDL0QsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLGtDQUFrQyxtQkFBTyxDQUFDLG1LQUE0QztBQUN0RixpQ0FBaUMsbUJBQU8sQ0FBQyxxSkFBcUM7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1IsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGVBQWU7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHFCQUFxQixhQUFhO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTyxJQUFJLGNBQWM7QUFDekI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxnQkFBZ0I7O0FBRXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLGlGQUFpRjtBQUNyRjtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7Ozs7Ozs7Ozs7QUMvUkE7QUFDQSxtQkFBTyxDQUFDLGlKQUFtQztBQUMzQyxtQkFBTyxDQUFDLGlJQUEyQjtBQUNuQyxtQkFBTyxDQUFDLHFJQUE2QjtBQUNyQyxtQkFBTyxDQUFDLG1JQUE0QjtBQUNwQyxtQkFBTyxDQUFDLHVJQUE4QjtBQUN0QyxtQkFBTyxDQUFDLHlJQUErQjs7Ozs7Ozs7Ozs7O0FDTjFCO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCxpQ0FBaUMsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDOUUsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxjQUFjLG1CQUFPLENBQUMsdUhBQXNCO0FBQzVDLDBDQUEwQyxtQkFBTyxDQUFDLCtLQUFrRDs7QUFFcEc7QUFDQTtBQUNBLElBQUksNEVBQTRFO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQ3pCWTtBQUNiLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsV0FBVyxtQkFBTyxDQUFDLG1JQUE0QjtBQUMvQyxpQ0FBaUMsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDOUUsaUNBQWlDLHNNQUFpRTs7QUFFbEc7QUFDQTtBQUNBLElBQUksbUVBQW1FO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUNkWTtBQUNiLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3BELGNBQWMsbUJBQU8sQ0FBQyx1SEFBc0I7QUFDNUMsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLGlDQUFpQyxzTUFBaUU7QUFDbEcscUJBQXFCLG1CQUFPLENBQUMsdUlBQThCOztBQUUzRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDhFQUE4RTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUNqQlk7QUFDYixRQUFRLG1CQUFPLENBQUMscUhBQXFCO0FBQ3JDLFdBQVcsbUJBQU8sQ0FBQywrSEFBMEI7O0FBRTdDO0FBQ0E7QUFDQSxJQUFJLDBEQUEwRDtBQUM5RDtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQ1JZO0FBQ2IsMkJBQTJCLGlLQUE0QztBQUN2RSxvQkFBb0IsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDMUQsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxnQkFBZ0IsbUJBQU8sQ0FBQywySEFBd0I7QUFDaEQsWUFBWSxtQkFBTyxDQUFDLG1IQUFvQjtBQUN4QyxxQkFBcUIsbUJBQU8sQ0FBQyx5SUFBK0I7O0FBRTVEO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0MsNkJBQTZCLHlCQUF5QixjQUFjO0FBQzFHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsSUFBSSxjQUFjO0FBQ3JCOzs7Ozs7Ozs7Ozs7QUN6QmE7QUFDYixhQUFhLHVLQUErQztBQUM1RCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLDBCQUEwQixtQkFBTyxDQUFDLHFJQUE2QjtBQUMvRCxxQkFBcUIsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDM0QsNkJBQTZCLG1CQUFPLENBQUMsMkpBQXdDOztBQUU3RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDOUJZO0FBQ2IsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsNkJBQTZCLG1CQUFPLENBQUMsNklBQWlDOztBQUV0RTtBQUNBO0FBQ0EsSUFBSSx1RUFBdUU7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDWFk7QUFDYixXQUFXLG1CQUFPLENBQUMsbUlBQTRCO0FBQy9DLG9DQUFvQyxtQkFBTyxDQUFDLDZLQUFpRDtBQUM3RixlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsNkJBQTZCLG1CQUFPLENBQUMseUpBQXVDO0FBQzVFLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCx5QkFBeUIsbUJBQU8sQ0FBQyxpSkFBbUM7QUFDcEUsaUJBQWlCLG1CQUFPLENBQUMsaUpBQW1DOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7Ozs7Ozs7QUMvQ1k7QUFDYixZQUFZLG1CQUFPLENBQUMscUlBQTZCO0FBQ2pELFdBQVcsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELG9DQUFvQyxtQkFBTyxDQUFDLDZLQUFpRDtBQUM3RixZQUFZLG1CQUFPLENBQUMsbUhBQW9CO0FBQ3hDLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELHdCQUF3QixtQkFBTyxDQUFDLGlKQUFtQztBQUNuRSwwQkFBMEIsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDdkUsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLDZCQUE2QixtQkFBTyxDQUFDLHlKQUF1QztBQUM1RSx5QkFBeUIsbUJBQU8sQ0FBQyxpSkFBbUM7QUFDcEUsZ0JBQWdCLG1CQUFPLENBQUMsNkhBQXlCO0FBQ2pELHNCQUFzQixtQkFBTyxDQUFDLHlJQUErQjtBQUM3RCxpQkFBaUIsbUJBQU8sQ0FBQyxpSkFBbUM7QUFDNUQsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixvQkFBb0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQ3hJWTtBQUNiLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsWUFBWSwySkFBd0M7QUFDcEQsNkJBQTZCLG1CQUFPLENBQUMsNklBQWlDOztBQUV0RTtBQUNBO0FBQ0EsSUFBSSx1RUFBdUU7QUFDM0U7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDWFk7QUFDYixRQUFRLG1CQUFPLENBQUMscUhBQXFCO0FBQ3JDLGFBQWEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDMUMsV0FBVyxtQkFBTyxDQUFDLG1JQUE0QjtBQUMvQyxrQkFBa0IsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDOUQsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxrQkFBa0IsbUJBQU8sQ0FBQywrSEFBMEI7QUFDcEQsb0JBQW9CLG1CQUFPLENBQUMsaUtBQTJDO0FBQ3ZFLFlBQVksbUJBQU8sQ0FBQyxtSEFBb0I7QUFDeEMsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxvQkFBb0IsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDakUsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsb0JBQW9CLG1CQUFPLENBQUMsdUlBQThCO0FBQzFELGdCQUFnQixtQkFBTyxDQUFDLDJIQUF3QjtBQUNoRCwrQkFBK0IsbUJBQU8sQ0FBQyw2SkFBeUM7QUFDaEYseUJBQXlCLG1CQUFPLENBQUMsbUlBQTRCO0FBQzdELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxnQ0FBZ0MsbUJBQU8sQ0FBQyxtS0FBNEM7QUFDcEYsa0NBQWtDLG1CQUFPLENBQUMscUxBQXFEO0FBQy9GLGtDQUFrQyxtQkFBTyxDQUFDLHVLQUE4QztBQUN4RixxQ0FBcUMsbUJBQU8sQ0FBQyw2S0FBaUQ7QUFDOUYsMkJBQTJCLG1CQUFPLENBQUMscUpBQXFDO0FBQ3hFLDZCQUE2QixtQkFBTyxDQUFDLHlKQUF1QztBQUM1RSxpQ0FBaUMsbUJBQU8sQ0FBQyxtS0FBNEM7QUFDckYsb0JBQW9CLG1CQUFPLENBQUMsdUlBQThCO0FBQzFELDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1QztBQUMzRSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLDZIQUF5QjtBQUNqRCxpQkFBaUIsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbkQsVUFBVSxtQkFBTyxDQUFDLCtHQUFrQjtBQUNwQyxzQkFBc0IsbUJBQU8sQ0FBQywySUFBZ0M7QUFDOUQsbUNBQW1DLG1CQUFPLENBQUMsMkpBQXdDO0FBQ25GLDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1QztBQUMzRSw4QkFBOEIsbUJBQU8sQ0FBQyw2SkFBeUM7QUFDL0UscUJBQXFCLG1CQUFPLENBQUMsMklBQWdDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLHFJQUE2QjtBQUMvRCxlQUFlLHNLQUErQzs7QUFFOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCx1QkFBdUIseUNBQXlDLFVBQVU7QUFDMUUsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEY7QUFDNUY7QUFDQSxNQUFNO0FBQ047QUFDQSxvREFBb0QsZ0RBQWdEO0FBQ3BHLE1BQU07QUFDTixJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGlDQUFpQztBQUNoSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzRkFBc0YsY0FBYztBQUNwRztBQUNBO0FBQ0E7O0FBRUEsSUFBSSwyRkFBMkY7QUFDL0Y7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVELElBQUksb0RBQW9EO0FBQ3hELDJCQUEyQixvQkFBb0I7QUFDL0MsMkJBQTJCO0FBQzNCLENBQUM7O0FBRUQsSUFBSSwwRUFBMEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxJQUFJLHNEQUFzRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7OztBQzVQQTtBQUNBO0FBQ2E7QUFDYixRQUFRLG1CQUFPLENBQUMscUhBQXFCO0FBQ3JDLGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLGtCQUFrQixtQkFBTyxDQUFDLG1KQUFvQztBQUM5RCxhQUFhLG1CQUFPLENBQUMseUlBQStCO0FBQ3BELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxvQkFBb0IsbUJBQU8sQ0FBQyxxSkFBcUM7QUFDakUsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyw0QkFBNEIsbUJBQU8sQ0FBQyx5SkFBdUM7QUFDM0UsZ0NBQWdDLG1CQUFPLENBQUMsK0pBQTBDOztBQUVsRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsTUFBTSwrQ0FBK0M7QUFDckQ7QUFDQSxHQUFHO0FBQ0g7Ozs7Ozs7Ozs7O0FDMURBLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsaUlBQTJCO0FBQ3BELGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsZUFBZSxtQkFBTyxDQUFDLDJIQUF3QjtBQUMvQyxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLDZCQUE2QixtQkFBTyxDQUFDLDJKQUF3Qzs7QUFFN0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSwrREFBK0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7O0FDckJELDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1Qzs7QUFFM0U7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ0pBO0FBQ0EsbUJBQU8sQ0FBQywrSUFBa0M7QUFDMUMsbUJBQU8sQ0FBQywrSEFBMEI7QUFDbEMsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDdEMsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDdEMsbUJBQU8sQ0FBQyx5S0FBK0M7Ozs7Ozs7Ozs7O0FDTHZELFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsYUFBYSxtQkFBTyxDQUFDLHlJQUErQjtBQUNwRCxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGtCQUFrQixtQkFBTyxDQUFDLG1JQUE0QjtBQUN0RCxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLDZCQUE2QixtQkFBTyxDQUFDLDJKQUF3Qzs7QUFFN0U7O0FBRUE7QUFDQTtBQUNBLElBQUksK0RBQStEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7QUNoQkQsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxtQkFBbUIsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDdkQsNEJBQTRCLG1CQUFPLENBQUMseUpBQXVDO0FBQzNFLGNBQWMsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDbkQsa0NBQWtDLG1CQUFPLENBQUMscUtBQTZDOztBQUV2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7QUNyQkEsYUFBYSxtQkFBTyxDQUFDLHFIQUFxQjtBQUMxQyxtQkFBbUIsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDdkQsNEJBQTRCLG1CQUFPLENBQUMseUpBQXVDO0FBQzNFLDJCQUEyQixtQkFBTyxDQUFDLHVJQUE4QjtBQUNqRSxrQ0FBa0MsbUJBQU8sQ0FBQyxxS0FBNkM7QUFDdkYsc0JBQXNCLG1CQUFPLENBQUMsMklBQWdDOztBQUU5RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7OztBQ3JDYTtBQUNiO0FBQ0EsbUJBQU8sQ0FBQyx1SUFBOEI7QUFDdEMsUUFBUSxtQkFBTyxDQUFDLHFIQUFxQjtBQUNyQyxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLFdBQVcsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELGtCQUFrQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNwRCxxQkFBcUIsbUJBQU8sQ0FBQywySkFBd0M7QUFDckUsb0JBQW9CLG1CQUFPLENBQUMsdUlBQThCO0FBQzFELDRCQUE0QixtQkFBTyxDQUFDLHlKQUF1QztBQUMzRSxxQkFBcUIsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDNUQscUJBQXFCLG1CQUFPLENBQUMsMklBQWdDO0FBQzdELGdDQUFnQyxtQkFBTyxDQUFDLCtKQUEwQztBQUNsRiwwQkFBMEIsbUJBQU8sQ0FBQyxxSUFBNkI7QUFDL0QsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGlCQUFpQixtQkFBTyxDQUFDLCtIQUEwQjtBQUNuRCxhQUFhLG1CQUFPLENBQUMseUlBQStCO0FBQ3BELFdBQVcsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDdkQsY0FBYyxtQkFBTyxDQUFDLHVIQUFzQjtBQUM1QyxlQUFlLG1CQUFPLENBQUMsMkhBQXdCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQywySEFBd0I7QUFDL0MsZ0JBQWdCLG1CQUFPLENBQUMsMkhBQXdCO0FBQ2hELGFBQWEsbUJBQU8sQ0FBQyxtSUFBNEI7QUFDakQsK0JBQStCLG1CQUFPLENBQUMsNkpBQXlDO0FBQ2hGLGtCQUFrQixtQkFBTyxDQUFDLGlJQUEyQjtBQUNyRCx3QkFBd0IsbUJBQU8sQ0FBQywrSUFBa0M7QUFDbEUsOEJBQThCLG1CQUFPLENBQUMsMkpBQXdDO0FBQzlFLHNCQUFzQixtQkFBTyxDQUFDLDJJQUFnQztBQUM5RCxnQkFBZ0IsbUJBQU8sQ0FBQyw2SEFBeUI7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLCtFQUErRSxFQUFFLEVBQUUsY0FBYztBQUNqRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZEQUE2RDtBQUMxRjtBQUNBLE1BQU07QUFDTiwyQkFBMkIseUNBQXlDO0FBQ3BFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUErQztBQUN6RTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0JBQXNCO0FBQ3REO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLElBQUksa0JBQWtCOztBQUV2QjtBQUNBLHNGQUFzRixpQkFBaUI7O0FBRXZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJLGtCQUFrQjs7QUFFdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQSxJQUFJLDBEQUEwRDtBQUM5RDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQSxRQUFRLG9FQUFvRTtBQUM1RTtBQUNBLDhGQUE4RjtBQUM5RjtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0c7QUFDbEc7O0FBRUE7QUFDQTs7QUFFQSxRQUFRLHFFQUFxRTtBQUM3RTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ3RaQTtBQUNBLG1CQUFPLENBQUMsdUtBQThDOzs7Ozs7Ozs7Ozs7QUNEekM7QUFDYjtBQUNBLG1CQUFPLENBQUMseUlBQStCO0FBQ3ZDLFFBQVEsbUJBQU8sQ0FBQyxxSEFBcUI7QUFDckMsa0JBQWtCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ3BELHFCQUFxQixtQkFBTyxDQUFDLDJKQUF3QztBQUNyRSxhQUFhLG1CQUFPLENBQUMscUhBQXFCO0FBQzFDLFdBQVcsbUJBQU8sQ0FBQyxtSkFBb0M7QUFDdkQsa0JBQWtCLG1CQUFPLENBQUMsbUpBQW9DO0FBQzlELG9CQUFvQixtQkFBTyxDQUFDLHVJQUE4QjtBQUMxRCw0QkFBNEIsbUJBQU8sQ0FBQyx5SkFBdUM7QUFDM0UsaUJBQWlCLG1CQUFPLENBQUMsK0hBQTBCO0FBQ25ELGFBQWEsbUJBQU8sQ0FBQyx5SUFBK0I7QUFDcEQsYUFBYSxtQkFBTyxDQUFDLG1JQUE0QjtBQUNqRCxnQkFBZ0IsbUJBQU8sQ0FBQyw2SEFBeUI7QUFDakQsaUJBQWlCLG1CQUFPLENBQUMsNklBQWlDO0FBQzFELGFBQWEsdUtBQStDO0FBQzVELGNBQWMsbUJBQU8sQ0FBQyx5SkFBdUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsMkhBQXdCO0FBQ2hELHFCQUFxQixtQkFBTyxDQUFDLDJJQUFnQztBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQywySkFBd0M7QUFDOUUsNEJBQTRCLG1CQUFPLENBQUMsdUtBQThDO0FBQ2xGLDBCQUEwQixtQkFBTyxDQUFDLHFJQUE2Qjs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFdBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0EsQ0FBQztBQUNELG9DQUFvQztBQUNwQyxvQkFBb0IsUUFBUTtBQUM1QixDQUFDO0FBQ0Qsd0NBQXdDO0FBQ3hDLG9CQUFvQjtBQUNwQixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJCQUEyQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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c0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPLDJDQUEyQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDhEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcs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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsVUFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsV0FBVyxrQ0FBa0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVMsOEJBQThCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTO0FBQzNDLGFBQWEsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxTQUFTO0FBQ2pELGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw2Q0FBNkM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFVBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0NBQXNDLHNDQUFzQztBQUM1RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EseUNBQXlDLGtDQUFrQztBQUMzRSxTQUFTLGlHQUFpRztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3REFBd0Q7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFDQUFxQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHdEQUF3RDtBQUNqRTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxRQUFRO0FB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QUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtCQUErQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0Q0FBNEM7QUFDckQsU0FBUyxvQkFBb0I7QUFDN0I7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RUFBRTtJQUM3RXNvQiwrRUFBZ0MsRUFBRTtFQUNwQztFQUNBO0VBQ0EsSUFBSXhvQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxpREFBaUQsQ0FBQyxFQUFFO0lBQzdFd0osb0VBQW9CLEVBQUU7RUFDeEI7RUFDQTtFQUNBLElBQUkxSixRQUFRLENBQUNFLGFBQWEsQ0FBQyxzREFBc0QsQ0FBQyxFQUFFO0lBQ2xGdUosNkZBQTZDLEVBQUU7RUFDakQ7RUFDQTtFQUNBLElBQUl6SixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxQ0FBcUMsQ0FBQyxFQUFFO0lBQ2pFc2xCLG1FQUFvQixFQUFFO0VBQ3hCO0VBQ0E7RUFDQSxJQUFJeGxCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlDQUF5QyxDQUFDLEVBQUU7SUFDckUwb0IsdUVBQXdCLEVBQUU7RUFDNUI7RUFDQTtFQUNBLElBQUk1b0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsaURBQWlELENBQUMsRUFBRTtJQUM3RTZvQiwrRUFBZ0MsRUFBRTtFQUNwQztFQUNBO0VBQ0EsSUFBSS9vQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxREFBcUQsQ0FBQyxFQUFFO0lBQ2pGMG5CLG1GQUFvQyxFQUFFO0VBQ3hDO0VBQ0E7RUFDQSxJQUFJNW5CLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHVDQUF1QyxDQUFDLEVBQUU7SUFDbkUrN0IsbURBQXFCLEVBQUU7RUFDekI7RUFDQTtFQUNBLElBQUlqOEIsUUFBUSxDQUFDRSxhQUFhLENBQUMseUNBQXlDLENBQUMsRUFBRTtJQUNyRSs3QixxREFBdUIsRUFBRTtFQUMzQjtBQUNGLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxBZ2VudFBhZ2VzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXEFqYXhNYW5hZ2VyLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXERpc2NvdW50UGFnZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcRm9ybVZhbGlkYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXEdsb2JhbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxMaXN0Ym94LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXExvZ2luLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcUGFnaW5hdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcUXVlcnlEaWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXFN0YXRpb25QYWdlcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxTeXN0ZW1QYWdlcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxjYW52YXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcZGF0YVN0YXRpc3RpYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxkYXRhU3RhdGlzdGljQ2hhcnRDb25maWcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcaW5pdEpxdWVyeUFqYXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhLWNhbGxhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGEtcG9zc2libGUtcHJvdG90eXBlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYWR2YW5jZS1zdHJpbmctaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LWZvci1lYWNoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktZnJvbS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktaXRlcmF0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktbWV0aG9kLWhhcy1zcGVjaWVzLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhcnJheS1tZXRob2QtaXMtc3RyaWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc2xpY2Utc2ltcGxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc2xpY2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhcnJheS1zb3J0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LXNwZWNpZXMtY3JlYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcY2FsbC13aXRoLXNhZmUtaXRlcmF0aW9uLWNsb3NpbmcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjaGVjay1jb3JyZWN0bmVzcy1vZi1pdGVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjbGFzc29mLXJhdy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjb3JyZWN0LXByb3RvdHlwZS1nZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtaHRtbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNyZWF0ZS1pdGVyLXJlc3VsdC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNyZWF0ZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbi1hY2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkZWZpbmUtZ2xvYmFsLXByb3BlcnR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZGVsZXRlLXByb3BlcnR5LW9yLXRocm93LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb2N1bWVudC1hbGwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb2N1bWVudC1jcmVhdGUtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRvZXMtbm90LWV4Y2VlZC1zYWZlLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb20taXRlcmFibGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLWZmLXZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy1kZW5vLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLWlzLWllLW9yLWVkZ2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtaW9zLXBlYmJsZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy1pb3MuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtbm9kZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy13ZWJvcy13ZWJraXQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtdXNlci1hZ2VudC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS12OC12ZXJzaW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLXdlYmtpdC12ZXJzaW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGV4cG9ydC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZhaWxzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLWFwcGx5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tYmluZC1jb250ZXh0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tYmluZC1uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxmdW5jdGlvbi1jYWxsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tbmFtZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLXVuY3VycnktdGhpcy1hY2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxmdW5jdGlvbi11bmN1cnJ5LXRoaXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtYnVpbHQtaW4uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LWl0ZXJhdG9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LWpzb24tcmVwbGFjZXItZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtbWV0aG9kLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LXN1YnN0aXR1dGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGdsb2JhbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGhhcy1vd24tcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxoaWRkZW4ta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGhvc3QtcmVwb3J0LWVycm9ycy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGh0bWwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaW5oZXJpdC1pZi1yZXF1aXJlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGluc3BlY3Qtc291cmNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaW50ZXJuYWwtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1hcnJheS1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1hcnJheS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLWNhbGxhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaXMtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1udWxsLW9yLXVuZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLXB1cmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaXRlcmF0b3ItY2xvc2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvci1jcmVhdGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvcnMtY29yZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGl0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGxlbmd0aC1vZi1hcnJheS1saWtlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcbWFrZS1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG1hdGgtdHJ1bmMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxtaWNyb3Rhc2suanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxuZXctcHJvbWlzZS1jYXBhYmlsaXR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWFzc2lnbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLWV4dGVybmFsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtaXMtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LXNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtdG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb3JkaW5hcnktdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb3duLWtleXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwYXRoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccGVyZm9ybS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHByb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwcm9taXNlLXJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwcm9taXNlLXN0YXRpY3MtaW5jb3JyZWN0LWl0ZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHF1ZXVlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccmVnZXhwLWV4ZWMtYWJzdHJhY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtZXhlYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC1mbGFncy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC1nZXQtZmxhZ3MuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtc3RpY2t5LWhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtdW5zdXBwb3J0ZWQtZG90LWFsbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC11bnN1cHBvcnRlZC1uY2cuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzZXQtc3BlY2llcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNoYXJlZC1zdG9yZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNoYXJlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNwZWNpZXMtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzdHJpbmctaHRtbC1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzdHJpbmctbXVsdGlieXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXB1bnljb2RlLXRvLWFzY2lpLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXRyaW0tZm9yY2VkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXRyaW0uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3ltYm9sLWRlZmluZS10by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzeW1ib2wtcmVnaXN0cnktZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdGFzay5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHRoaXMtbnVtYmVyLXZhbHVlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdG8tYWJzb2x1dGUtaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1pbmRleGVkLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHRvLWludGVnZXItb3ItaW5maW5pdHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1wcm9wZXJ0eS1rZXkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1zdHJpbmctdGFnLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0cnktdG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdWlkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdXJsLWNvbnN0cnVjdG9yLWRldGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHVzZS1zeW1ib2wtYXMtdWlkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdjgtcHJvdG90eXBlLWRlZmluZS1idWcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx2YWxpZGF0ZS1hcmd1bWVudHMtbGVuZ3RoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2Vhay1tYXAtYmFzaWMtZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2VsbC1rbm93bi1zeW1ib2wtZGVmaW5lLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHdlbGwta25vd24tc3ltYm9sLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2hpdGVzcGFjZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuY29uY2F0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5LnNsaWNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5LnNvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuZnVuY3Rpb24ubmFtZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5qc29uLnN0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5udW1iZXIuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktc3ltYm9scy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5vYmplY3QudG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuYWxsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuY2F0Y2guanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UucmFjZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLnJlamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLnJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucmVnZXhwLmV4ZWMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucmVnZXhwLnRvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3RyaW5nLmxpbmsuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3RyaW5nLm1hdGNoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN0cmluZy5yZXBsYWNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN0cmluZy50cmltLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN5bWJvbC5jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3ltYm9sLmZvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zeW1ib2wuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3ltYm9sLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN5bWJvbC5rZXktZm9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXHdlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFx3ZWIudXJsLXNlYXJjaC1wYXJhbXMuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXHdlYi51cmwuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLnVybC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjaGFydC5qc1xcYXV0b1xcYXV0by5tanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY2hhcnQuanNcXGRpc3RcXGNoYXJ0Lm1qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjaGFydC5qc1xcZGlzdFxcY2h1bmtzXFxoZWxwZXJzLnNlZ21lbnQubWpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxFbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3LCBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXdcclxufSBmcm9tICcuL1N0YXRpb25QYWdlcydcclxuXHJcbmltcG9ydCB7XHJcbiAgZmV0Y2hEYXRhLCBmZXRjaF9hZ2VfZ2V0QmluZENvbnN1bWVyLCBmZXRjaF9hZ2VfYmluZENvbnN1bWVyXHJcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuXHJcbmltcG9ydCB7Zm5fZ2V0TWVzLCBmbl9yZW1NZXN9IGZyb20gJy4vTWVzc2FnZSdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxfbmV3KCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldygpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzX25ldygpIHtcclxuICByZXR1cm4gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBZ2VudF91c2VyTmFtZSgpIHtcclxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE5hbWVJbkhlYWRlcicpO1xyXG4gIGZldGNoRGF0YShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9nZXRBZ2VudE5hbWVdJykudmFsdWUsICcnLCBzZXRVc2VyTmFtZSwgZmFsc2UpO1xyXG4gIGZ1bmN0aW9uIHNldFVzZXJOYW1lKHJlcykge1xyXG4gICAgIHNwYW4uaW5uZXJIVE1MID0gJyZuYnNwOycgKyByZXMuZGF0YS5jdXN0b21lck5hbWVDaG47XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfZ2V0QmluZENvbnN1bWVyKCkge1xyXG4gIC8vIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fY29uc3VtZXJfZ2V0QmluZENvbnN1bWVyJyk7XHJcbiAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2dldEJpbmRDb25zdW1lcl0nKS52YWx1ZTtcclxuICBmZXRjaF9hZ2VfZ2V0QmluZENvbnN1bWVyKHVybCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBZ2VfdGFibGUoKXt9XHJcbkFnZV90YWJsZS5wcm90b3R5cGUuZ2V0UGFnZV9iaW5kaW5nID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgdmFyIGRhdGEgPSByZXMuZGF0YSxcclxuICAgICAgbmFtZSA9IGRhdGEuY3VzdG9tZXJOYW1lQ2huLCAgLy8g5ZWG5oi35ZCN56ewXHJcbiAgICAgIHN0YXR1cyA9IGRhdGEuc3RhdHVzLCAgICAgICAgIC8vIOe7keWumueKtuaAgVxyXG4gICAgICAvLyBzdGF0dXNEZXNjID0gZGF0YS5zdGF0dXNEZXNjLCBcclxuICAgICAgY3VzdG9tZXJJZCA9IGRhdGEuY3VzdG9tZXJJZExpc3QsXHJcbiAgICAgIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9jb25zdW1lcl9nZXRCaW5kQ29uc3VtZXInKSxcclxuICAgICAgaW5wX2N1cyA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jdXN0b21lcklkXScpLFxyXG4gICAgICBpbnBfc3RhID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXR1c10nKSxcclxuICAgICAgaW5wX25hbSA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jdXN0b21lck5hbWVDaG5dJyksXHJcbiAgICAgIGJ0bl9iaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0QmluZEJ0bicpO1xyXG4gIGlucF9jdXMudmFsdWUgPSBjdXN0b21lcklkO1xyXG4gIGlucF9zdGEudmFsdWUgPSBzdGF0dXM7XHJcbiAgaW5wX25hbS52YWx1ZSA9IG5hbWU7XHJcbiAgbGV0IG9sZG1lc05vZGUsIG1lc1xyXG4gIGlmIChzdGF0dXMgPT0gMCkgeyAgLy8g5pyq57uR5a6aXHJcbiAgICBidG5fYmluLmlubmVyVGV4dCA9ICfnu5HlrprotKbmiLcnO1xyXG4gICAgb2xkbWVzTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51ay1hbGVydCcpO1xyXG4gICAgaWYgKG9sZG1lc05vZGUpIGZuX3JlbU1lcyhvbGRtZXNOb2RlKTtcclxuICAgIG1lcyA9IGZuX2dldE1lcygn5oKo5bCa5pyq57uR5a6a6LSm5oi3Jywge3N0eWxlOiAnd2FybmluZycsIGNsb3NlOiB0cnVlfSk7XHJcbiAgICAkKG1lcykuaW5zZXJ0QmVmb3JlKGZvcm0pO1xyXG4gICAgYnRuX2Jpbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9iaW5kQ29uc3VtZXJdJykudmFsdWU7XHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIGN1c3RvbWVySWRMaXN0OiBjdXN0b21lcklkLFxyXG4gICAgICAgIHN0YXR1czogJzEnXHJcbiAgICAgIH07XHJcbiAgICAgIGZldGNoX2FnZV9iaW5kQ29uc3VtZXIodXJsLCBkYXRhKTtcclxuICAgIH0pO1xyXG4gIH0gXHJcbiAgaWYgKHN0YXR1cyA9PSAxKSB7ICAvLyDlt7Lnu5HlrppcclxuICAgIGJ0bl9iaW4uaW5uZXJUZXh0ID0gJ+ino+e7kei0puaItyc7XHJcbiAgICBvbGRtZXNOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnVrLWFsZXJ0Jyk7XHJcbiAgICBpZiAob2xkbWVzTm9kZSkgZm5fcmVtTWVzKG9sZG1lc05vZGUpOyAgXHJcbiAgICBtZXMgPSBmbl9nZXRNZXMoJ+aCqOW3sue7keWumui0puaItycsIHtzdHlsZTogJ3ByaW1hcnknLCBjbG9zZTogdHJ1ZX0pO1xyXG4gICAgJChtZXMpLmluc2VydEJlZm9yZShmb3JtKTtcclxuICAgIGJ0bl9iaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfYmluZENvbnN1bWVyXScpLnZhbHVlO1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBjdXN0b21lcklkTGlzdDogY3VzdG9tZXJJZCxcclxuICAgICAgICBzdGF0dXM6ICcwJ1xyXG4gICAgICB9O1xyXG4gICAgICAvLyB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICBVSWtpdC5tb2RhbC5jb25maXJtKCfop6PpmaTnu5HlrprkuYvlkI7lsIbkuI3og73nu6fnu63mjqXmlLbotKbljZUsIOehruiupOe7p+e7rT8nKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgZmV0Y2hfYWdlX2JpbmRDb25zdW1lcih1cmwsIGRhdGEpO1xyXG4gICAgICB9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5pbXBvcnQge2ZuX2dldE1lcywgZm5fcmVtTWVzfSBmcm9tICcuL01lc3NhZ2UnXG5pbXBvcnQge0xpc3Rib3h9IGZyb20gJy4vTGlzdGJveCdcbmltcG9ydCB7U3RhX3RhYmxlfSBmcm9tICcuL1N0YXRpb25QYWdlcydcbmltcG9ydCB7U3lzX3RhYmxlfSBmcm9tICcuL1N5c3RlbVBhZ2VzJ1xuaW1wb3J0IHtBZ2VfdGFibGV9IGZyb20gJy4vQWdlbnRQYWdlcydcblxuLy8g5qOA5p+lcmVzcG9uc2XvvJpcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlcyAocmVzLCBjYWxsYmFjaykge1xuICBpZiAocmVzLmNvZGUgIT0gJzIwMCcpIHtcbiAgICB2YXIgZXJybXNnID0gJ+i/lOWbnuaVsOaNrue7k+aenOmUmeivryEgJyArIHJlcy5jb2RlICsgJzogJyArIHJlcy5tc2c7XG4gICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJybXNnLCBjYWxsYmFjayk7IFxuICAgIGlmIChjb25zb2xlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdyZXNwb25zZTogJywgcmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vLyBJbml0IHN1Ym1pdCBidXR0b246XG5leHBvcnQgZnVuY3Rpb24gZm5faW5pdFN1Ym1pdEJ0bihwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hGbiwgY2FsbGJhY2ssIHBvc3REYXRhSGFuZGxlciwgY29uZmlnKSB7XG4gIHZhciBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0QnRuJyk7XG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvclRhYmxlXScpLnZhbHVlO1xuICAgIHZhciBwb3N0RGF0YSA9ICR0aGlzLmNsb3Nlc3QoJ2Zvcm0nKS5zZXJpYWxpemVPYmplY3QoKTtcbiAgICBpZiAodHlwZW9mIHBvc3REYXRhSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgcG9zdERhdGFIYW5kbGVyLmNhbGwodGhpcywgcG9zdERhdGEpO1xuICAgIHBvc3REYXRhLnBhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyO1xuICAgIHBvc3REYXRhLmluZGV4UGFnZSA9IHBhZ2VOdW1iZXI7XG4gICAgcG9zdERhdGEucGFnZVNpemUgPSBwYWdlU2l6ZTtcbiAgICBwb3N0RGF0YS5jb3VudFBhZ2UgPSBwYWdlU2l6ZTtcbiAgICBHbG9iX2ZuLlRhYmxlLmhpZGVUYWJsZSgpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZldGNoRm4uY2FsbCh0aGlzLCB1cmwsIHBvc3REYXRhLCBjYWxsYmFjaywgY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmV0Y2hGbi5jYWxsKHRoaXMsIHVybCwgcG9zdERhdGEpO1xuICAgIH1cbiAgfSk7XG4gIHN1Ym1pdEJ0bi5jbGljaygpO1xufVxuLy8gSW5pdCBleHBvcnQgYnV0dG9uOlxuZXhwb3J0IGZ1bmN0aW9uIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hGbikge1xuICB2YXIgZXhwb0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBvcnRCdG4nKTtcbiAgaWYgKCFleHBvQnRuKSByZXR1cm47XG4gIGV4cG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRXhwb3J0XScpLnZhbHVlO1xuICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgdmFyIHBvc3REYXRhID0gJHRoaXMuY2xvc2VzdCgnZm9ybScpLnNlcmlhbGl6ZU9iamVjdCgpO1xuICAgIGZldGNoRm4uY2FsbCh0aGlzLCB1cmwsIHBvc3REYXRhKTtcbiAgfSk7XG59XG4vLyBFeHBvcnQgZnVuY3Rpb246XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfZXhwb3J0RXhjZWwodXJsLCBkYXRhKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICB2YXIgZmlsZU5hbWUgPSAn5a+85Ye65pWw5o2uLnhscyc7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIGRhdGFUeXBlOiAnJyxcbiAgICB4aHJGaWVsZHM6IHtcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InXG4gICAgfSxcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMsIHN0YXR1cywgeGhyKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzdGF0dXMsIHhocik7XG4gICAgICBpZiAoeGhyLnN0YXR1cyAhPSAyMDApIHtcbiAgICAgICAgdmFyIGVycm1zZyA9ICflr7zlh7rplJnor68hICcgKyB4aHIuc3RhdHVzICsgJzogJyArICB4aHIuc3RhdHVzVGV4dDtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJybXNnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IocmVzLCBmaWxlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgZG93bmxvYWRMaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChyZXMpO1xuICAgICAgICBkb3dubG9hZExpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZExpbmspO1xuICAgICAgICBkb3dubG9hZExpbmsuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb3dubG9hZExpbmspO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG4vLyDmj5DkuqTmlbDmja7lubblpITnkIbov5Tlm57ln7rmnKzlip/og73lh73mlbA6XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hEYXRhKHVybCwgZGF0YSwgY2FsbGJhY2ssIGNvbmZpZykge1xuICB2YXIgcG9zdERhdGEgPSAnJztcbiAgaWYgKGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJhd0RhdGEgPSBHbG9iX2ZuLmlzSlNPTihkYXRhKT8gSlNPTi5wYXJzZShkYXRhKTogZGF0YTtcbiAgICAgIGlmICghcmF3RGF0YSB8fCB0eXBlb2YgcmF3RGF0YSAhPT0gJ29iamVjdCcpIHRocm93IG5ldyBFcnJvcign5Lyg5YWl55qEZGF0YeWPguaVsOS4jeWQiOazlScpO1xuICAgICAgcG9zdERhdGEgPSBHbG9iX2ZuLmlzSlNPTihkYXRhKT8gZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbGV0IGNoZWNrUmVzQ2FsbGJhY2tcbiAgaWYgKGNvbmZpZyAmJiB0eXBlb2YgY29uZmlnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2hlY2tSZXNDYWxsYmFjayA9IGNvbmZpZ1xuICB9XG4gIHZhciBhamF4Q29uZmlnID0ge1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcywgY2hlY2tSZXNDYWxsYmFjaykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocmF3RGF0YSAmJiByYXdEYXRhLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzLCByYXdEYXRhLnBhZ2VOdW1iZXIsIHJhd0RhdGEucGFnZVNpemUpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG4gIGlmIChjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29uZmlnKSB7XG4gICAgICBhamF4Q29uZmlnW2tleV0gPSBjb25maWdba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29uZmlnID09PSBmYWxzZSkge1xuICAgIGFqYXhDb25maWcuZ2xvYmFsID0gZmFsc2U7XG4gIH1cbiAgJC5hamF4KGFqYXhDb25maWcpO1xufVxuXG4vLyBzeXM6XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3lzX2dldEFsbENvbnN1bWVyKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgdmFyIHBhZ2VOdW1iZXIgPSBkYXRhLnBhZ2VOdW1iZXI7XG4gIHZhciBwYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpXG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgdGFibGUgPSBuZXcgU3lzX3RhYmxlKCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWJsZS5nZXRUYWJsZV91c2VySW5mbyhyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3lzX3F1ZXJ5RGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgdGFibGUgPSBuZXcgU3lzX3RhYmxlKCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWJsZS5nZXRUYWJsZV9pbk1vZGFsKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N5c19nZXRBbGxEaXNjb3VudFBvbGljeSh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIHZhciBwYWdlTnVtYmVyID0gZGF0YS5wYWdlTnVtYmVyO1xuICB2YXIgcGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xuICBjb25zb2xlLmxvZyh1cmwsIHBvc3REYXRhKVxuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYmxlID0gbmV3IFN5c190YWJsZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGFibGUuZ2V0VGFibGVfcXVlcnlQb2xpY2llcyhyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIGFnZW50OlxuLy8g5o+Q5Lqk5pSv5LuY77yaXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfYWdlX3RvUGF5KHVybCwgZGF0YSkgeyAgLy8g5Y675pS26ZO25Y+wXG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgLy8gY29uc29sZS5sb2cocmVzKVxuICAgICAgLy8gZGVidWdnZXJcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuOyBcbiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEsXG4gICAgICAgICAgcGF5VXJsID0gZGF0YS5wYXlVcmwsXG4gICAgICAgICAgcGF5RGF0YSA9IGRhdGEucGF5RGF0YTtcbiAgICAgIEdsb2JfZm4uc3VibVZpcnRGb3JtKHBheVVybCwgcGF5RGF0YSk7XG4gICAgfVxuICB9KTtcbn1cbi8vIOiOt+WPlui0puaIt+e7keWumuaVsOaNru+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX2FnZV9nZXRCaW5kQ29uc3VtZXIodXJsKSB7ICAvLyDojrflj5bnu5Hlrprkv6Hmga9cbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgLy8gY29uc29sZS5sb2cocmVzKTtcbiAgICAgIHZhciB0YWJsZSA9IG5ldyBBZ2VfdGFibGUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRhYmxlLmdldFBhZ2VfYmluZGluZyhyZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOaPkOS6pOe7keWumu+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX2FnZV9iaW5kQ29uc3VtZXIodXJsLCBkYXRhKSB7ICAvLyDnu5HlrprllYbmiLdcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIHZhciBzdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChyZXMuY29kZSA9PSAnMjAwJykge1xuICAgICAgICBsZXQgb2xkTWVzXG4gICAgICAgIGlmIChzdGF0dXMgPT0gJzAnKSB7XG4gICAgICAgICAgb2xkTWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnVrLWFsZXJ0Jyk7XG4gICAgICAgICAgZm5fcmVtTWVzKG9sZE1lcyk7XG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+i0puaIt+ino+e7keaIkOWKnycpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09ICcxJykge1xuICAgICAgICAgIG9sZE1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51ay1hbGVydCcpO1xuICAgICAgICAgIGZuX3JlbU1lcyhvbGRNZXMpO1xuICAgICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfotKbmiLfnu5HlrprmiJDlip8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtZXMgPSBmbl9nZXRNZXMoJ+e7keWumi/op6Pnu5HlpLHotKUnLCB7c3R5bGU6ICdkYW5nZXInLCBjbG9zZTogdHJ1ZX0pO1xuICAgICAgICAkKG1lcykuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gU3RhdGlvbjpcbi8vIOiwg+i0pu+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV91cGRhdGVGZWUodXJsLCBkYXRhKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+S/ruaUueaIkOWKnycpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEJ0bicpLmNsaWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAgICBcbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya5o6o6YCB6LSm5Y2VXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX3N0YXRpb25CaWxsUHVzaCh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5o6o6YCB5oiQ5YqfJykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gICBcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muiOt+WPlueUqOaIt+S/oeaBrzpcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9zdGFfZ2V0U3RhdGlvbkFsbENvbnN1bWVyKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XG4gIHZhciBwYWdlTnVtYmVyID0gZGF0YS5wYWdlTnVtYmVyO1xuICB2YXIgcGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYmxlID0gbmV3IFN0YV90YWJsZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGFibGUuZ2V0VGFibGVfZ2V0U3RhdGlvbkFsbENvbnN1bWVyKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muiuvue9ruS8mOaDoO+8iOiOt+WPlu+8iVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9xdWVyeURpc2NvdW50UG9saWN5KHVybCwgY3VzdG9tZXJJZCkge1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6ICcnLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFNldHRpbmcnKTtcbiAgICAgIHZhciBsaXN0Ym94ID0gbmV3IExpc3Rib3goKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3Rib3guZ2V0T3B0aW9uc19kaXNjb3VudE5hbWUocmVzLCBlbGVtZW50LCBjdXN0b21lcklkKTtcbiAgICAgICAgVUlraXQubW9kYWwoZWxlbWVudCkuc2hvdygpO1xuICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya6K6+572u5LyY5oOg77yI5re75Yqg77yJXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2FkZERpc2NvdW50Q3VzdG9tZXIodXJsLCBkYXRhKSB7XG4gIGlmICggZGF0YSA9PT0gbnVsbCApIHtcbiAgICBVSWtpdC5tb2RhbC5hbGVydCgn6K+36YCJ5oup6Iez5bCR5LiA6aG55LyY5oOg5pS/562WJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhwb3N0RGF0YSwgdXJsLCByZXMpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+a3u+WKoOaIkOWKnyEnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydChyZXMubXNnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya5p+l55yL5LyY5oOg77yI6I635Y+W77yJXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFNob3dpbmcnKTtcbiAgICAgICAgdmFyIHRhYmxlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0YWJsZScpO1xuICAgICAgICB2YXIgdGFiID0gbmV3IFN0YV90YWJsZSgpO1xuICAgICAgICB2YXIgdGJvZHkgPSB0YWIuZ2V0VGFibGVfcXVlcnlEaXNjb3VudEN1c3RvbWVyKHJlcyk7XG4gICAgICAgIHZhciBib2R5cyA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3Rib2R5Jyk7XG4gICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgYm9keXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0YWJsZS5yZW1vdmVDaGlsZChib2R5c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xuICAgICAgICBVSWtpdC5tb2RhbChlbGVtZW50KS5zaG93KCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muafpeeci+S8mOaDoO+8iOabtOaUue+8iVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9jaGFuZ2VDdXN0b21lckRpc2NvdW50U3RhdHVzKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2cocG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfmm7TmlLnmiJDlip8hJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77ya5p+l55yL5omA5pyJ5LyY5oOg5pS/562WXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2dldEFsbERpc2NvdW50UG9saWN5KHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgdmFyIHBhZ2VOdW1iZXIgPSBkYXRhLnBhZ2VOdW1iZXI7XG4gIHZhciBwYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYiA9IG5ldyBTdGFfdGFibGUoKTtcbiAgICAgIHRhYi5nZXRUYWJsZV9nZXRBbGxEaXNjb3VudFBvbGljeShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77yaIOWQr+WKqOOAgeWBnOatouS8mOaDoFxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9jaGFuZ2VEaXNjb3VudFN0YXR1cyh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIGlmIChyZXMubXNnID09ICdzdWNjZXNzJykge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5pON5L2c5oiQ5YqfJykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77ya5LyY5oOg5pS/562W6K+m5oOFXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2dldERpc2NvdW50UG9saWN5KHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xuICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5peg5pWw5o2uJyk7XG4gICAgICB9XG4gICAgICBHbG9iX2ZuLmluaXREaXNjb3VudERldGFpbHMoZGF0YSk7XG4gICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkFjdGlvbicpO1xuICAgICAgdmFyIHN0YXR1c19jaGFuZ2VUb1RoaXMgPSBudWxsO1xuICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICcxJykge1xuICAgICAgICBidG4uaW5uZXJUZXh0ID0gJ+S9nOW6nyc7XG4gICAgICAgIHN0YXR1c19jaGFuZ2VUb1RoaXMgPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnRuLmlubmVyVGV4dCA9ICflkK/nlKgnO1xuICAgICAgICBzdGF0dXNfY2hhbmdlVG9UaGlzID0gMTtcbiAgICAgIH1cbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9jaGFuZ2VEaXNjb3VudFN0YXR1c10nKS52YWx1ZTtcbiAgICAgICAgdmFyIHBvc3REYXRhID0ge1xuICAgICAgICAgIGRpc2NvdW50UG9saWN5SWQ6IGRhdGEuZGlzY291bnRQb2xpY3lJZCxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1c19jaGFuZ2VUb1RoaXNcbiAgICAgICAgfTtcbiAgICAgICAgZmV0Y2hfc3RhX2NoYW5nZURpc2NvdW50U3RhdHVzKHVybCwgcG9zdERhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbi8vIOaWsOWinuS8mOaDoO+8muiOt+WPluWTgeWQjVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9xdWVyeUNhcmdvKHVybCwgZGF0YSwgcmVzdWx0Q29udGFpbmVyKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtjYXJnb05tOiBkYXRhfSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHZhciBsaXN0Ym94ID0gbmV3IExpc3Rib3goKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3Rib3guZ2V0T3B0aW9uc19jYXJnb05hbWUocmVzLCByZXN1bHRDb250YWluZXIpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGUpO1xuICAgICAgfSAgICAgIFxuICAgIH1cbiAgfSk7XG59XG4vLyDmlrDlop7kvJjmg6DvvJrmj5DkuqTkvJjmg6BcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9zdGFfc3VibWl0RGlzY291bnRQYWdlKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfliJvlu7rmiJDlip8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2Rpc2NvdW50UG9saWNpZXNNYW5hZ2VtZW50JztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgR2xvYl9mbiBmcm9tICcuL0dsb2JhbCdcclxuaW1wb3J0IGZuX3F1ZXJ5RGljdCBmcm9tICcuL1F1ZXJ5RGljdCdcclxuaW1wb3J0IHtpbml0TGlzdEJveH0gZnJvbSAnLi9MaXN0Ym94J1xyXG5pbXBvcnQge1xyXG4gIGNoZWNrUmVzLCBmZXRjaF9zdGFfZ2V0RGlzY291bnRQb2xpY3ksIGZldGNoX3N0YV9xdWVyeUNhcmdvLCBmZXRjaF9zdGFfc3VibWl0RGlzY291bnRQYWdlXHJcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnREZXRhaWxzKCkge1xyXG4gIHZhciBkaXNjb3VudFBvbGljeUlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaXNjb3VudFBvbGljeUlkXScpLnZhbHVlO1xyXG4gIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9nZXREaXNjb3VudFBvbGljeV0nKS52YWx1ZTtcclxuICB2YXIgZGF0YSA9IHtcclxuICAgIGRpc2NvdW50UG9saWN5SWQ6IGRpc2NvdW50UG9saWN5SWRcclxuICB9O1xyXG4gIC8v6L6T5Ye66K+m5oOF5pWw5o2uLCDnu5HlrprlkK/nlKgv5L2c5bqfYnV0dG9uXHJcbiAgZmV0Y2hfc3RhX2dldERpc2NvdW50UG9saWN5KHVybCwgZGF0YSk7XHJcbiAgLy8g57uR5a6a6L+U5ZueYnV0dG9uXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkJhY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT11cmxfZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnRdJykudmFsdWVcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9pbml0VGFicygpIHtcclxuICB2YXIgcXVlcnlUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaWN0X2FwaV9xdWVyeVR5cGVdJykudmFsdWU7XHJcbiAgaWYgKCFxdWVyeVR5cGUpIHJldHVybjtcclxuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgdmFyIHRleHRzID0gcmVzLmRhdGEsXHJcbiAgICBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZScpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjcmVhdGVOb2Rlcyhjb250ZW50LCB0ZXh0c1tpXSwgaSk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2hQYWdlKDApO1xyXG4gIH1cclxuICBmbl9xdWVyeURpY3QocXVlcnlUeXBlLCBjYWxsYmFjayk7XHJcbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXMoY29udGVudCwgZGF0YSwgbnVtKSB7XHJcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpLFxyXG4gICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcclxuICAgIGEuaW5uZXJUZXh0ID0gZGF0YS52YWx1ZTtcclxuICAgIGEuc2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnLCBkYXRhLnR5cGUpO1xyXG4gICAgYS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgZGF0YS5rZXkpO1xyXG4gICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHN3aXRjaFBhZ2UobnVtKTtcclxuICAgIH0pO1xyXG4gICAgbGkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGxpKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gc3dpdGNoUGFnZShudW0pIHtcclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uI2Zvcm0tY29udGFpbmVyJyk7XHJcbiAgICB2YXIgaW5pdFBhZ2UgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgJChjb250YWluZXIpLmh0bWwocmVzKTtcclxuICAgICAgaW5pdFBhZ2VfMSgpO1xyXG4gICAgfTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogJ2Rpc2NvdW50UG9saWNpZXMvJyArIChOdW1iZXIobnVtKSsxKSxcclxuICAgICAgaGVhZGVyczogJycsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2h0bWwnLFxyXG4gICAgICBzdWNjZXNzOiBpbml0UGFnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGluaXRQYWdlXzEoKSB7XHJcbiAgICAvLyBpbml0IFdkYXRlOlxyXG4gICAgR2xvYl9mbi5XZGF0ZUluaXQoJ3N0YXJ0VGltZScsICdlbmRUaW1lJyk7XHJcbiAgICBcclxuICAgIC8vIOaZrumAmuS8mOaDoO+8jOafpeivouWtl+WFuOaOpeWPo+WKoOi9vXNlbGVjdOeahG9wdGlvbjpcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9ybWFsX2Rpc2NvdW50X3R5cGVfc2VsZWN0Jykpe1xyXG4gICAgICBmbl9xdWVyeURpY3QoJ0RJU0NPVU5UX1NVUFBPUlQnLCBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgVUlraXQuYWxlcnQoJ+Wtl+WFuOaOpeWPo+aXoOaVsOaNricpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3JtYWxfZGlzY291bnRfdHlwZV9zZWxlY3QnKTtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtpXSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09ICd2YWx1ZScpIHtcclxuICAgICAgICAgICAgICBvcC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgb3Auc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDnu5HlrppzZWxlY3TlhbPogZRsaXN0Ym9477yaXHJcbiAgICAgICAgdmFyIGxpc3Rib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY2lhbENhcmdvTmFtZUxpc3Rib3gnKTtcclxuICAgICAgICBzZWxUb0xpc3Rib3goKTtcclxuICAgICAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzZWxUb0xpc3Rib3goJ29uY2hhbmdlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2VsVG9MaXN0Ym94KHR5cGUpIHtcclxuICAgICAgICAgIGlmIChzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpID09ICdOX0dBX0RfRScpIHtcclxuICAgICAgICAgICAgbGlzdGJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZuX3F1ZXJ5Q2FyZ29ObUJ0bicpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxpc3Rib3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc3RTZWxlY3QnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDoiKrngrnkvJjmg6DvvIzliJ3lp4vljJboiKrngrnkv6Hmga/vvJpcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0dXJlSW5mbycpKSB7XHJcbiAgICAgIHZhciBkZXBhcnR1cmVJbmZvID0gbmV3IERlcGFydHVyZUluZm8oKTtcclxuICAgICAgZGVwYXJ0dXJlSW5mby5hZGQoJ2luaXQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDkvJjmg6DmlL/nrZborr7nva7pobXpnaLvvIzliJ3lp4vljJblop7liqDoiKrnj63lj7fnu4Tku7ZcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXRBc3NldHMnKSkge1xyXG4gICAgICB2YXIgYWlybGluZU51bSA9IG5ldyBBaXJsaW5lTnVtKCk7XHJcbiAgICAgIGFpcmxpbmVOdW0uYWRkKCdhaXJsaW5lTnVtJywgJ2luaXQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliqDovb3lk4HlkI1saXN0Ym9477yaXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmdvTmFtZUxpc3Rib3gnKSB8fFxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVjaWFsQ2FyZ29OYW1lTGlzdGJveCcpKSB7XHJcbiAgICAgIGluaXRMaXN0Qm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZOB5ZCN5p+l6K+i77yaXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZuX3F1ZXJ5Q2FyZ29ObUJ0bicpKSB7XHJcbiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm5fcXVlcnlDYXJnb05tQnRuJyk7XHJcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUNhcmdvXScpLnZhbHVlO1xyXG4gICAgICB2YXIgcmVzdWx0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0I3NvdXJjZVNlbGVjdCcpO1xyXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHBvc3REYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jYXJnb05tXScpLnZhbHVlO1xyXG4gICAgICAgIGZldGNoX3N0YV9xdWVyeUNhcmdvKHVybCwgcG9zdERhdGEsIHJlc3VsdENvbnRhaW5lcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyDpu5jorqTmiafooYzkuIDmrKHmn6Xor6LvvJpcclxuICAgICAgYnRuLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yid5aeL5YyW6LS555So6KGo5Y2VXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dyYXBfZmVlRGlzY291bnRfYXNzZXRzJykpIHtcclxuICAgICAgdmFyIGZlZURpc2NvdW50SXRlbSA9IG5ldyBGZWVEaXNjb3VudEl0ZW0oKTtcclxuICAgICAgZmVlRGlzY291bnRJdGVtLmFkZCgnaW5pdCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOe7keWumnN1Ym1pdO+8mlxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMScpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMScpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMicpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMicpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMycpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMycpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3VibWl0RGlzY291bnRQYWdlKHBhZ2VOdW0pIHtcclxuICAgICAgdmFyIHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbl9zdWJtaXQtZGlzY291bnRQYWdlJyk7XHJcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfY3JlYXRlRGlzY291bnRQb2xpY3ldJykudmFsdWU7XHJcbiAgICAgICAgdmFyIHN1Ym1pdCA9IG5ldyBEaXNjb3VudFBhZ2VzU3VibWl0KCk7XHJcbiAgICAgICAgdmFyIHBvc3REYXRhID0ge307XHJcbiAgICAgICAgaWYgKHBhZ2VOdW0gPT0gJzEnKVxyXG4gICAgICAgICAgcG9zdERhdGEgPSBzdWJtaXQuZ2V0UDFQb3N0RGF0YSgpO1xyXG4gICAgICAgIGlmIChwYWdlTnVtID09ICcyJylcclxuICAgICAgICAgIHBvc3REYXRhID0gc3VibWl0LmdldFAyUG9zdERhdGEoKTtcclxuICAgICAgICBpZiAocGFnZU51bSA9PSAnMycpXHJcbiAgICAgICAgICBwb3N0RGF0YSA9IHN1Ym1pdC5nZXRQM1Bvc3REYXRhKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XHJcbiAgICAgICAgZmV0Y2hfc3RhX3N1Ym1pdERpc2NvdW50UGFnZSh1cmwsIHBvc3REYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBBaXJsaW5lTnVtKCkge31cclxuQWlybGluZU51bS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaW5wdXROYW1lLCB0eXBlKXtcclxuICB2YXIgcGFyZW50Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dEFzc2V0cycpO1xyXG4gIHZhciBhc3NldCA9IEFpcmxpbmVOdW0uZ2V0SW5wdXRBc3NldChpbnB1dE5hbWUsIHR5cGUpO1xyXG4gIGlmICghcGFyZW50Tm9kZSkgeyBcclxuICAgIHRocm93IG5ldyBFcnJvcignd2l0aG91dCAjaW5wdXRBc3NldHMnKTtcclxuICB9XHJcbiAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChhc3NldCk7XHJcbn07XHJcbkFpcmxpbmVOdW0uZ2V0SW5wdXRBc3NldCA9IGZ1bmN0aW9uKGlucHV0TmFtZSwgdHlwZSl7XHJcbiAgLy8g5Yid5aeL5YyWd3JhcO+8mlxyXG4gIHZhciB3cmFwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgd3JhcERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXdpZHRoLTEtNCcpXHJcbiAgXHJcbiAgLy8g5Yid5aeL5YyWbGFiZWw6XHJcbiAgdmFyIGFMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgYUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGFMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlucHV0TmFtZSk7XHJcbiAgYUxhYmVsLmlubmVyVGV4dCA9ICfoiKrnj63lj7cnO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoYUxhYmVsKTtcclxuXHJcbiAgLy8g5Yid5aeL5YyW5o6n5Lu257uE77yaXHJcbiAgdmFyIGZvcm1Db250cm9sRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZm9ybUNvbnRyb2xEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWNvbnRyb2xzIHVrLWZsZXggdWstZmxleC1ib3R0b20nKTtcclxuICB3cmFwRGl2LmFwcGVuZENoaWxkKGZvcm1Db250cm9sRGl2KTtcclxuXHJcbiAgLy8g5Yid5aeL5YyWaW5wdXQ6XHJcbiAgdmFyIGFJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgYUlucHV0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstaW5wdXQnKTtcclxuICBhSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuICBhSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgaW5wdXROYW1lKTtcclxuICBmb3JtQ29udHJvbERpdi5hcHBlbmRDaGlsZChhSW5wdXQpO1xyXG5cclxuICAvLyDliJ3lp4vljJZhZGTlm77moIcgLSBidXR0b27vvJpcclxuICBjcmVhdGVBZGRCdG4oZm9ybUNvbnRyb2xEaXYpO1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZUFkZEJ0bihwYXJlbnROb2RlLCB0eXBlKSB7XHJcbiAgICB2YXIgcGx1c0J0bl9jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgcGx1c0J0bl9jb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgcGx1c0J0bl9jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gICAgdmFyIHBsdXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHBsdXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgcGx1c0J0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2FkZEFzc2V0Jyk7XHJcbiAgICBwbHVzQnRuLmFwcGVuZENoaWxkKHBsdXNCdG5fY29udGVudCk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwbHVzQnRuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XHJcbiAgICAgIGlmIChjaGlsZCkge1xyXG4gICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBsdXNCdG4sIGNoaWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHBsdXNCdG4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBwbHVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xyXG4gICAgICB2YXIgYWlybGluZU51bSA9IG5ldyBBaXJsaW5lTnVtKCk7XHJcbiAgICAgIGFpcmxpbmVOdW0uYWRkKCdhaXJsaW5lTnVtJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOWIneWni+WMlm1pbnVz5Zu+5qCHIC0gYnV0dG9u77yaXHJcbiAgaWYgKCF0eXBlKSB7XHJcbiAgICB2YXIgbWludXNCdG5fY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIG1pbnVzQnRuX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdmYSBmYS1taW51cycpO1xyXG4gICAgbWludXNCdG5fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgIHZhciBtaW51c0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgbWludXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLWhpZ2hsaWdodCBidXR0b24tc3F1YXJlJyk7XHJcbiAgICBtaW51c0J0bi5hcHBlbmRDaGlsZChtaW51c0J0bl9jb250ZW50KTtcclxuICAgIGZvcm1Db250cm9sRGl2LmFwcGVuZENoaWxkKG1pbnVzQnRuKTtcclxuICAgIG1pbnVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIHByZVdyYXBEaXYgPSB3cmFwRGl2LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBuZXh0V3JhcERpdiA9IHdyYXBEaXYubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICB2YXIgcHJlRm9ybUNvbnRyb2xEaXYgPSBwcmVXcmFwRGl2LnF1ZXJ5U2VsZWN0b3IoJy51ay1mb3JtLWNvbnRyb2xzJyk7XHJcbiAgICAgIGlmICggISFwcmVGb3JtQ29udHJvbERpdiAmJiAhbmV4dFdyYXBEaXYpICAvLyDlpoLmnpzmmK/mnIDlkI7kuIDkuKpcclxuICAgICAgICBjcmVhdGVBZGRCdG4ocHJlRm9ybUNvbnRyb2xEaXYsICdpbnNlcnRCZWZvcmUnKTtcclxuICAgICAgd3JhcERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHdyYXBEaXYpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gd3JhcERpdjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIERlcGFydHVyZUluZm8oKSB7fVxyXG5EZXBhcnR1cmVJbmZvLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgdmFyIHBhcmVudE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0dXJlSW5mbycpO1xyXG4gIHZhciBhc3NldCA9IERlcGFydHVyZUluZm8uZ2V0QXNzZXQodHlwZSk7XHJcbiAgaWYgKCFwYXJlbnROb2RlKSB7IFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aXRob3V0ICNkZXBhcnR1cmVJbmZvJyk7XHJcbiAgfVxyXG4gIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYXNzZXQpO1xyXG59O1xyXG5EZXBhcnR1cmVJbmZvLmdldEFzc2V0ID0gZnVuY3Rpb24odHlwZSkge1xyXG4gIHZhciB3cmFwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgd3JhcERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZsZXggdWstZmxleC1ib3R0b20gZm5fZGVwYXJ0dXJlSW5mb193cmFwIHVrLXdpZHRoLTEtMicpO1xyXG4gIFxyXG4gIHZhciBmbGV4RGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGZsZXhEaXYxLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZm5fZGVwYXJ0dXJlSW5mb18xJyk7XHJcbiAgd3JhcERpdi5hcHBlbmRDaGlsZChmbGV4RGl2MSk7XHJcbiAgdmFyIGxhYmVsXzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gIGxhYmVsXzEuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWxhYmVsJyk7XHJcbiAgbGFiZWxfMS5pbm5lclRleHQgPSAn6LW354K556uZJztcclxuICBmbGV4RGl2MS5hcHBlbmRDaGlsZChsYWJlbF8xKTtcclxuICB2YXIgaW5wdXRfMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgaW5wdXRfMS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0Jyk7XHJcbiAgaW5wdXRfMS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xyXG4gIGZsZXhEaXYxLmFwcGVuZENoaWxkKGlucHV0XzEpO1xyXG5cclxuICB2YXIgZmxleERpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBmbGV4RGl2Mi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZuX2RlcGFydHVyZUluZm9fMiB1ay1tYXJnaW4tc21hbGwtbGVmdCB1ay1tYXJnaW4tc21hbGwtcmlnaHQnKTtcclxuICB3cmFwRGl2LmFwcGVuZENoaWxkKGZsZXhEaXYyKTtcclxuICB2YXIgbGFiZWxfMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgbGFiZWxfMi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tbGFiZWwnKTtcclxuICBsYWJlbF8yLnNldEF0dHJpYnV0ZSgnZm9yJywgJ2Rpc2NvdW50VmFsdWUnKTtcclxuICBsYWJlbF8yLmlubmVyVGV4dCA9ICfotbfngrnnq5nkuInlrZfnoIEnO1xyXG4gIGZsZXhEaXYyLmFwcGVuZENoaWxkKGxhYmVsXzIpO1xyXG4gIHZhciBpbnB1dF8yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBpbnB1dF8yLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstaW5wdXQnKTtcclxuICBpbnB1dF8yLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgaW5wdXRfMi5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZGlzY291bnRWYWx1ZScpO1xyXG4gIGZsZXhEaXYyLmFwcGVuZENoaWxkKGlucHV0XzIpO1xyXG5cclxuICBjcmVhdGVBZGRCdG4od3JhcERpdik7XHJcbiAgZnVuY3Rpb24gY3JlYXRlQWRkQnRuKHdyYXBEaXYsIHR5cGUpIHtcclxuICAgIHZhciBidG5fcGx1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuX3BsdXMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgIHdyYXBEaXYuYXBwZW5kQ2hpbGQoYnRuX3BsdXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGNoaWxkID0gd3JhcERpdi5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcclxuICAgICAgaWYgKGNoaWxkKSB7XHJcbiAgICAgICAgd3JhcERpdi5pbnNlcnRCZWZvcmUoYnRuX3BsdXMsIGNoaWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3cmFwRGl2LmFwcGVuZENoaWxkKGJ0bl9wbHVzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGJ0bl9wbHVzX2ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICBidG5fcGx1c19pY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgYnRuX3BsdXNfaWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgIGJ0bl9wbHVzLmFwcGVuZENoaWxkKGJ0bl9wbHVzX2ljb24pO1xyXG4gICAgYnRuX3BsdXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XHJcbiAgICAgIHZhciBkZXBhcnR1cmVJbmZvID0gbmV3IERlcGFydHVyZUluZm8oKTtcclxuICAgICAgZGVwYXJ0dXJlSW5mby5hZGQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAgIFxyXG4gIGlmICghdHlwZSkge1xyXG4gICAgdmFyIGJ0bl9taW51cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuX21pbnVzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYnV0dG9uIGJ1dHRvbi1oaWdobGlnaHQgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgd3JhcERpdi5hcHBlbmRDaGlsZChidG5fbWludXMpO1xyXG4gICAgdmFyIGJ0bl9taW51c19pY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgYnRuX21pbnVzX2ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdmYSBmYS1taW51cycpO1xyXG4gICAgYnRuX21pbnVzX2ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBidG5fbWludXMuYXBwZW5kQ2hpbGQoYnRuX21pbnVzX2ljb24pO1xyXG4gICAgYnRuX21pbnVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIHByZVdyYXBEaXYgPSB3cmFwRGl2LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBuZXh0V3JhcERpdiA9IHdyYXBEaXYubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICBpZiAoICEhcHJlV3JhcERpdiAmJiAhbmV4dFdyYXBEaXYpICAvLyDlpoLmnpzmmK/mnIDlkI7kuIDkuKpcclxuICAgICAgICBjcmVhdGVBZGRCdG4ocHJlV3JhcERpdiwgJ2luc2VydEJlZm9yZScpO1xyXG4gICAgICB3cmFwRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcERpdik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHdyYXBEaXY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEZlZURpc2NvdW50SXRlbSgpIHt9XHJcbkZlZURpc2NvdW50SXRlbS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICQuYWpheCh7XHJcbiAgICB1cmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5RmVlSXRlbV0nKS52YWx1ZSxcclxuICAgIGRhdGE6ICcnLFxyXG4gICAgc3VjY2VzczogZnVuY3Rpb24oZmVlSXRlbSkge1xyXG4gICAgICBpZiAoZmVlSXRlbS5jb2RlICE9ICcyMDAnKSB7XHJcbiAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoZmVlSXRlbS5tc2cpO1xyXG4gICAgICB9XHJcbiAgICAgIGZuX3F1ZXJ5RGljdCgnRElTQ09VTlRfRkVFX1RZUEUnLCBmdW5jdGlvbihmZWVUeXBlKXtcclxuICAgICAgICBpZiAoZmVlVHlwZS5jb2RlICE9ICcyMDAnKSB7XHJcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydChmZWVUeXBlLm1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2YXIgYXNzZXQgPSBGZWVEaXNjb3VudEl0ZW0uZ2V0QXNzZXQoZmVlSXRlbS5kYXRhLCBmZWVUeXBlLmRhdGEsIHR5cGUpO1xyXG4gICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JhcF9mZWVEaXNjb3VudF9hc3NldHMnKTtcclxuICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYXNzZXQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGFsZXJ0KGUpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5GZWVEaXNjb3VudEl0ZW0uZ2V0QXNzZXQgPSBmdW5jdGlvbihmZWVJdGVtRGF0YSwgZmVlVHlwZURhdGEsIHR5cGUpIHtcclxuXHJcbiAgLy8gd3JhcDpcclxuICB2YXIgd3JhcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHdyYXBEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mbGV4IHVrLWZsZXgtbWlkZGxlIHVrLW1hcmdpbiBmbl9nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0Jyk7XHJcblxyXG4gIC8vIOi0ueeUqOWHj+WFjemhue+8mlxyXG4gIHZhciBmZWVJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZmVlSXRlbURpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXdpZHRoLW1lZGl1bScpO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoZmVlSXRlbURpdik7XHJcbiAgdmFyIGZlZUl0ZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgZmVlSXRlbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGZlZUl0ZW1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkaXNjb3VudEZlZUtleScpO1xyXG4gIGZlZUl0ZW1MYWJlbC5pbm5lclRleHQgPSAn6LS555So5YeP5YWN6aG5JztcclxuICBmZWVJdGVtRGl2LmFwcGVuZENoaWxkKGZlZUl0ZW1MYWJlbCk7XHJcblxyXG4gIC8qIOeUseWNlemAiTogKi9cclxuICAvLyB2YXIgZmVlSXRlbVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gIC8vIGZlZUl0ZW1TZWxlY3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1zZWxlY3QnKTtcclxuICAvLyBmZWVJdGVtU2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdkaXNjb3VudEZlZUtleScpO1xyXG4gIC8vIGZlZUl0ZW1EaXYuYXBwZW5kQ2hpbGQoZmVlSXRlbVNlbGVjdCk7XHJcbiAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVJdGVtRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gIC8vICAgbGV0IG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgLy8gICBmb3IgKCBsZXQga2V5IGluIGZlZUl0ZW1EYXRhW2ldKSB7XHJcbiAgLy8gICAgIGlmIChrZXkgPT0gJ2ZlZVNob3J0Tm0nKSB7XHJcbiAgLy8gICAgICAgb3AuaW5uZXJUZXh0ID0gZmVlSXRlbURhdGFbaV1ba2V5XTtcclxuICAvLyAgICAgfVxyXG4gIC8vICAgICBvcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZmVlSXRlbURhdGFbaV1ba2V5XSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gICBmZWVJdGVtU2VsZWN0LmFwcGVuZENoaWxkKG9wKTtcclxuICAvLyB9XHJcbiAgXHJcbiAgLyog5pS55Li65aSa6YCJOiAqL1xyXG4gIC8qIOe7hOS7tue7k+aehDogXHJcbiAgICBmZWVJdGVtQXNzZXRcclxuICAgICAgZmVlSXRlbUJ1dHRvblxyXG4gICAgICBmZWVJdGVtQnV0dG9uTW9kYWxcclxuICAqL1xyXG4gIGNvbnN0IGZlZUl0ZW1Bc3NldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgZmVlSXRlbURpdi5hcHBlbmRDaGlsZChmZWVJdGVtQXNzZXQpXHJcbiAgZmVlSXRlbUFzc2V0LmNsYXNzTGlzdC5hZGQoJ3VrLWZsZXgnLCAnZGlzY291bnRGZWVLZXknKVxyXG4gIFxyXG4gIGNvbnN0IGZlZUl0ZW1pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICBmZWVJdGVtQXNzZXQuYXBwZW5kQ2hpbGQoZmVlSXRlbWlucHV0KVxyXG4gIGZlZUl0ZW1pbnB1dC5jbGFzc0xpc3QuYWRkKCd1ay1pbnB1dCcpXHJcbiAgZmVlSXRlbWlucHV0LnN0eWxlLnRleHRPdmVyZmxvdyA9ICdlbGxpcHNpcydcclxuICBmZWVJdGVtaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICfor7fpgInmi6nlh4/lhY3pobknKVxyXG4gIGZlZUl0ZW1pbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5JylcclxuXHJcbiAgY29uc3QgZmVlSXRlbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcbiAgZmVlSXRlbUFzc2V0LmFwcGVuZENoaWxkKGZlZUl0ZW1CdXR0b24pXHJcbiAgY29uc3QgZmVlSXRlbUJ1dHRvbk1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBmZWVJdGVtQXNzZXQuYXBwZW5kQ2hpbGQoZmVlSXRlbUJ1dHRvbk1vZGFsKVxyXG5cclxuICAvKiBmZWVJdGVtQnV0dG9uOiAqL1xyXG4gIGZlZUl0ZW1CdXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtY2FyZXQtcmlnaHRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+J1xyXG4gIGZlZUl0ZW1CdXR0b24uY2xhc3NMaXN0LmFkZCgndWstYnV0dG9uJywgJ3VrLWJ1dHRvbi1wcmltYXJ5JylcclxuICBmZWVJdGVtQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKVxyXG5cclxuICAvKiBmZWVJdGVtQnV0dG9uTW9kYWw6ICovXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsLnNldEF0dHJpYnV0ZSgndWstZHJvcCcsICdtb2RlOiBjbGljazsgcG9zOiByaWdodC1ib3R0b20nKVxyXG4gIGNvbnN0IGNhcmRGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsLmFwcGVuZENoaWxkKGNhcmRGcmFtZSlcclxuICBjYXJkRnJhbWUuY2xhc3NMaXN0LmFkZCgndWstY2FyZCcsICd1ay1jYXJkLWRlZmF1bHQnKVxyXG4gIGNvbnN0IGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIGNhcmRGcmFtZS5hcHBlbmRDaGlsZChmZWVJdGVtQnV0dG9uTW9kYWxCb2R5KVxyXG4gIGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHkuY2xhc3NMaXN0LmFkZCgndWstY2FyZC1ib2R5JywgJ3VrLWhlaWdodC1sYXJnZScsICd1ay1vdmVyZmxvdy1hdXRvJylcclxuICBjb25zdCBmZWVJdGVtQnV0dG9uTW9kYWxCb2R5VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keS5hcHBlbmRDaGlsZChmZWVJdGVtQnV0dG9uTW9kYWxCb2R5VWwpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keVVsLmNsYXNzTGlzdC5hZGQoJ3VrLWxpc3QnLCd1ay1saXN0LWRpdmlkZXInKVxyXG4gIGZlZUl0ZW1EYXRhLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgICBpZiAoZGF0YVsnZmVlU2hvcnRObSddKSB7IFxyXG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuICAgICAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keVVsLmFwcGVuZENoaWxkKGxpKVxyXG4gICAgICBjb25zdCBjYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICAgICAgbGkuYXBwZW5kQ2hpbGQoY2IpXHJcbiAgICAgIGNiLnR5cGUgPSAnY2hlY2tib3gnXHJcbiAgICAgIGNiLmNsYXNzTGlzdC5hZGQoJ3VrLWNoZWNrYm94JywgJ3VrLW1hcmdpbi1zbWFsbC1yaWdodCcpXHJcbiAgICAgIGNiLnNldEF0dHJpYnV0ZSgnZGF0YS1mZWVTaG9ydE5tJywgZGF0YVsnZmVlU2hvcnRObSddKVxyXG4gICAgICBjYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSWQnLCBkYXRhWydmZWVJZCddPyBkYXRhWydmZWVJZCddOiAnJylcclxuICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxyXG4gICAgICBsaS5hcHBlbmRDaGlsZChzcGFuKVxyXG4gICAgICBzcGFuLmlubmVyVGV4dCA9IGRhdGFbJ2ZlZVNob3J0Tm0nXVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgY29uc3QgY2FyZEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgY2FyZEZyYW1lLmFwcGVuZENoaWxkKGNhcmRGb290ZXIpXHJcbiAgY2FyZEZvb3Rlci5jbGFzc0xpc3QuYWRkKCd1ay1jYXJkLWZvb3RlcicpXHJcbiAgY29uc3QgZm9vdGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICBjYXJkRm9vdGVyLmFwcGVuZENoaWxkKGZvb3RlckJ0bilcclxuICBmb290ZXJCdG4uY2xhc3NMaXN0LmFkZCgndWstYnV0dG9uJywgJ3VrLWJ1dHRvbi1wcmltYXJ5JywgJ3VrLWFsaWduLWNlbnRlcicpXHJcbiAgZm9vdGVyQnRuLmlubmVyVGV4dCA9ICfnoa7orqQnXHJcbiAgZm9vdGVyQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKVxyXG4gIGZvb3RlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnN0IGNiTGlzdCA9IGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHlVbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKVxyXG4gICAgY29uc3QgY2hlY2tlZFZhbHVlID0gW11cclxuICAgIGNiTGlzdC5mb3JFYWNoKGNiID0+IHtcclxuICAgICAgaWYgKGNiLmNoZWNrZWQpIHtcclxuICAgICAgICBjaGVja2VkVmFsdWUucHVzaChjYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlU2hvcnRObScpKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coY2hlY2tlZFZhbHVlKVxyXG4gICAgZmVlSXRlbWlucHV0LnZhbHVlID0gY2hlY2tlZFZhbHVlXHJcbiAgICBVSWtpdC5kcm9wKGZlZUl0ZW1CdXR0b25Nb2RhbCkuaGlkZShmYWxzZSlcclxuICB9KVxyXG5cclxuICAvLyDotLnnlKjlh4/lhY3nsbvlnovvvJpcclxuICB2YXIgZmVlVHlwZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGZlZVR5cGVEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoZmVlVHlwZURpdik7XHJcbiAgdmFyIGZlZVR5cGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgZmVlVHlwZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGZlZVR5cGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkaXNjb3VudEZlZVR5cGUnKTtcclxuICBmZWVUeXBlTGFiZWwuaW5uZXJUZXh0ID0gJ+WHj+WFjeexu+Weiyc7XHJcbiAgZmVlVHlwZURpdi5hcHBlbmRDaGlsZChmZWVUeXBlTGFiZWwpO1xyXG4gIHZhciBmbGV4RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZmxleERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZsZXggdWstZmxleC1taWRkbGUgdWstZm9ybS1jb250cm9scycpO1xyXG4gIGZlZVR5cGVEaXYuYXBwZW5kQ2hpbGQoZmxleERpdik7XHJcbiAgdmFyIGZlZVR5cGVTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICBmZWVUeXBlU2VsZWN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstc2VsZWN0IHVrLXdpZHRoLXNtYWxsJyk7XHJcbiAgZmVlVHlwZVNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZGlzY291bnRGZWVUeXBlJyk7XHJcbiAgZmxleERpdi5hcHBlbmRDaGlsZChmZWVUeXBlU2VsZWN0KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZVR5cGVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgIGZvciAobGV0IGtleSBpbiBmZWVUeXBlRGF0YVtpXSkge1xyXG4gICAgICBpZiAoa2V5ID09ICd2YWx1ZScpIHtcclxuICAgICAgICBvcC5pbm5lclRleHQgPSBmZWVUeXBlRGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBmZWVUeXBlRGF0YVtpXVtrZXldKTtcclxuICAgIH1cclxuICAgIGZlZVR5cGVTZWxlY3QuYXBwZW5kQ2hpbGQob3ApO1xyXG4gIH1cclxuXHJcbiAgLy8g6LS555So5pWw5YC877yaXHJcbiAgdmFyIGZlZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0IHVrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLXdpZHRoLXNtYWxsJyk7XHJcbiAgZmVlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ251bWJlcicpO1xyXG4gIGZlZUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdkaXNjb3VudEZlZVZhbHVlJyk7XHJcbiAgdmFyIHZhbCA9IGZlZVR5cGVTZWxlY3QuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gIGlmICh2YWwgPT0gJ2ZyZWUnKSB7XHJcbiAgICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gIH1cclxuICBmbGV4RGl2LmFwcGVuZENoaWxkKGZlZUlucHV0KTtcclxuICB2YXIgZGlzY3JTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIGRpc2NyU3Bhbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLW1hcmdpbi1zbWFsbC1yaWdodCB1ay10ZXh0LW5vd3JhcCcpO1xyXG4gIGRpc2NyU3Bhbi5pbm5lclRleHQgPSAn5YWDL+aKmCc7XHJcbiAgZmxleERpdi5hcHBlbmRDaGlsZChkaXNjclNwYW4pO1xyXG5cclxuICBpZiAoICF0eXBlICkge1xyXG4gICAgdmFyIG1pbnVzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBtaW51c0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2J1dHRvbiBidXR0b24taGlnaGxpZ2h0IGJ1dHRvbi1zcXVhcmUnKTtcclxuICAgIGZsZXhEaXYuYXBwZW5kQ2hpbGQobWludXNCdG4pO1xyXG4gICAgdmFyIG1pbnVzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIG1pbnVzSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZhIGZhLW1pbnVzJyk7XHJcbiAgICBtaW51c0ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBtaW51c0J0bi5hcHBlbmRDaGlsZChtaW51c0ljb24pO1xyXG4gICAgbWludXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgcHJlV3JhcERpdiA9IHdyYXBEaXYucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgdmFyIG5leHRXcmFwRGl2ID0gd3JhcERpdi5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBwcmVGb3JtQ29udHJvbERpdiA9IHByZVdyYXBEaXYucXVlcnlTZWxlY3RvcignLnVrLWZvcm0tY29udHJvbHMnKTtcclxuICAgICAgaWYgKCAhIXByZUZvcm1Db250cm9sRGl2ICYmICFuZXh0V3JhcERpdikgIC8vIOWmguaenOaYr+acgOWQjuS4gOS4qlxyXG4gICAgICAgIGNyZWF0ZUFkZEJ0bihwcmVGb3JtQ29udHJvbERpdiwgJ2luc2VydEJlZm9yZScpO1xyXG4gICAgICB3cmFwRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcERpdik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOaMiemSru+8mlxyXG4gIGNyZWF0ZUFkZEJ0bihmbGV4RGl2LCB0eXBlKTtcclxuICBmdW5jdGlvbiBjcmVhdGVBZGRCdG4ocGFyZW50Tm9kZSkge1xyXG4gICAgdmFyIHBsdXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHBsdXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwbHVzQnRuKTtcclxuICAgIHZhciBwbHVzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIHBsdXNJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgcGx1c0ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBwbHVzQnRuLmFwcGVuZENoaWxkKHBsdXNJY29uKTtcclxuICAgIHBsdXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XHJcbiAgICAgIHZhciBmZWVEaXNjb3VudEl0ZW0gPSBuZXcgRmVlRGlzY291bnRJdGVtKCk7XHJcbiAgICAgIGZlZURpc2NvdW50SXRlbS5hZGQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gbGlzdGVuIHNlbGVjdDpcclxuICBjaGVja0ZlZVR5cGUoZmVlVHlwZVNlbGVjdCk7ICAvLyBjaGVjayBhZnRlciBidWlsZGluZ1xyXG4gIGZlZVR5cGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICBjaGVja0ZlZVR5cGUodGhpcyk7XHJcbiAgfSk7XHJcbiAgZnVuY3Rpb24gY2hlY2tGZWVUeXBlKHNlbGVjdE5vZGUpIHtcclxuICAgIHZhciBpbmRleCA9IHNlbGVjdE5vZGUuc2VsZWN0ZWRJbmRleDtcclxuICAgIHZhciB2YWwgPSBzZWxlY3ROb2RlLm9wdGlvbnNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIGlmICh2YWwgPT0gJ2ZyZWUnKSB7XHJcbiAgICAgIGZlZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgIGZlZUlucHV0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChmZWVJbnB1dC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgPT09ICd0cnVlJykge1xyXG4gICAgICAgIGZlZUlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHdyYXBEaXY7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBEaXNjb3VudFBhZ2VzU3VibWl0KCkge31cclxuRGlzY291bnRQYWdlc1N1Ym1pdC5wcm90b3R5cGUuZ2V0UDFQb3N0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBkYXRhID0ge307XHJcbiAgdmFyIGRpc2NvdW50UG9saWN5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGlzY291bnRQb2xpY3lOYW1lXScpLnZhbHVlO1xyXG4gIHZhciBzdGFydFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXJ0VGltZV0nKS52YWx1ZTtcclxuICB2YXIgZW5kVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZW5kVGltZV0nKS52YWx1ZTtcclxuICB2YXIgZGlzY291bnRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZSAudWstYWN0aXZlIGEnKS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgdmFyIGRpc2NvdW50VmFsdWUgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50VmFsdWVBaXJsaW5lKCk7XHJcbiAgdmFyIG1pbkNoYXJnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9bWluQ2hhcmdlXScpLnZhbHVlO1xyXG4gIHZhciBjYXJnb05vID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXRDYXJnb05vKCk7XHJcbiAgdmFyIGRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50RmVlUmVxdWVzdExpc3QoKTtcclxuICBkYXRhLmRpc2NvdW50UG9saWN5TmFtZSA9IGRpc2NvdW50UG9saWN5TmFtZTtcclxuICBkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICBkYXRhLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gIGRhdGEuZGlzY291bnRUeXBlID0gZGlzY291bnRUeXBlO1xyXG4gIGRhdGEuZGlzY291bnRWYWx1ZSA9IGRpc2NvdW50VmFsdWU7XHJcbiAgZGF0YS5taW5DaGFyZ2UgPSBtaW5DaGFyZ2U7XHJcbiAgZGF0YS5jYXJnb05vID0gY2FyZ29ObztcclxuICBkYXRhLmRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBkaXNjb3VudEZlZVJlcXVlc3RMaXN0O1xyXG5cclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5wcm90b3R5cGUuZ2V0UDJQb3N0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBkYXRhID0ge307XHJcbiAgdmFyIGRpc2NvdW50UG9saWN5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGlzY291bnRQb2xpY3lOYW1lXScpLnZhbHVlO1xyXG4gIHZhciBzdGFydFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXJ0VGltZV0nKS52YWx1ZTtcclxuICB2YXIgZW5kVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZW5kVGltZV0nKS52YWx1ZTtcclxuICB2YXIgZGlzY291bnRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZSAudWstYWN0aXZlIGEnKS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgdmFyIGRpc2NvdW50VmFsdWUgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50VmFsdWVBaXJkb3QoKTtcclxuICB2YXIgbWluQ2hhcmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1taW5DaGFyZ2VdJykudmFsdWU7XHJcbiAgdmFyIGRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50RmVlUmVxdWVzdExpc3QoKTtcclxuICBkYXRhLmRpc2NvdW50UG9saWN5TmFtZSA9IGRpc2NvdW50UG9saWN5TmFtZTtcclxuICBkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICBkYXRhLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gIGRhdGEuZGlzY291bnRUeXBlID0gZGlzY291bnRUeXBlO1xyXG4gIGRhdGEuZGlzY291bnRWYWx1ZSA9IGRpc2NvdW50VmFsdWU7XHJcbiAgZGF0YS5taW5DaGFyZ2UgPSBtaW5DaGFyZ2U7XHJcbiAgZGF0YS5kaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZGlzY291bnRGZWVSZXF1ZXN0TGlzdDtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn07XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQucHJvdG90eXBlLmdldFAzUG9zdERhdGEgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgZGF0YSA9IHt9O1xyXG4gIHZhciBkaXNjb3VudFBvbGljeU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWRpc2NvdW50UG9saWN5TmFtZV0nKS52YWx1ZTtcclxuICB2YXIgc3RhcnRUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1zdGFydFRpbWVdJykudmFsdWU7XHJcbiAgdmFyIGVuZFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWVuZFRpbWVdJykudmFsdWU7XHJcbiAgdmFyIGRpc2NvdW50VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFR5cGUgLnVrLWFjdGl2ZSBhJykuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gIHZhciBkaXNjb3VudFZhbHVlID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlRnJvbVNlbGVjdCgpO1xyXG4gIHZhciBtaW5DaGFyZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPW1pbkNoYXJnZV0nKS52YWx1ZTtcclxuICB2YXIgY2FyZ29ObyA9IERpc2NvdW50UGFnZXNTdWJtaXQuZ2V0Q2FyZ29ObygpO1xyXG4gIHZhciBkaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0KCk7XHJcbiAgZGF0YS5kaXNjb3VudFBvbGljeU5hbWUgPSBkaXNjb3VudFBvbGljeU5hbWU7XHJcbiAgZGF0YS5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgZGF0YS5lbmRUaW1lID0gZW5kVGltZTtcclxuICBkYXRhLmRpc2NvdW50VHlwZSA9IGRpc2NvdW50VHlwZTtcclxuICBkYXRhLmRpc2NvdW50VmFsdWUgPSBkaXNjb3VudFZhbHVlO1xyXG4gIGRhdGEubWluQ2hhcmdlID0gbWluQ2hhcmdlO1xyXG4gIGRhdGEuY2FyZ29ObyA9IGNhcmdvTm87XHJcbiAgZGF0YS5kaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZGlzY291bnRGZWVSZXF1ZXN0TGlzdDtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn07XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQuZ2V0RGlzY291bnRWYWx1ZUFpcmxpbmUgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgdmFyIGlucHV0QXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1haXJsaW5lTnVtXScpO1xyXG4gIGlmIChpbnB1dEFyci5sZW5ndGggPCAxKSB7IFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnIlmbGlnaHROdW1iZXLlrZfmrrUnKTsgXHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB2YWx1ZSA9ICQudHJpbShpbnB1dEFycltpXS52YWx1ZSk7XHJcbiAgICBpZiAodmFsdWUgPT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaSA+IDApIHtcclxuICAgICAgcmVzdWx0ICs9ICcsJztcclxuICAgIH1cclxuICAgIHJlc3VsdCArPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlQWlyZG90ID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gIHZhciBpbnB1dEFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9ZGlzY291bnRWYWx1ZV0nKTtcclxuICBpZiAoaW5wdXRBcnIubGVuZ3RoIDwgMSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnInkuInlrZfnoIHlrZfmrrUnKTsgXHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB2YWx1ZSA9ICQudHJpbShpbnB1dEFycltpXS52YWx1ZSk7XHJcbiAgICBpZiAodmFsdWUgPT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaSA+IDApIHtcclxuICAgICAgcmVzdWx0ICs9ICcsJztcclxuICAgIH1cclxuICAgIHJlc3VsdCArPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlRnJvbVNlbGVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1kaXNjb3VudFZhbHVlXScpO1xyXG4gIHZhciB2YWx1ZSA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQuZ2V0Q2FyZ29ObyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciByZXN1bHQgPSAnJztcclxuICB2YXIgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc3RTZWxlY3QnKTtcclxuICB2YXIgb3BzID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpO1xyXG4gIC8vIGlmIChvcHMubGVuZ3RoIDwgMSkge1xyXG4gIC8vICAgVUlraXQubW9kYWwuYWxlcnQoJ+ayoeaciea3u+WKoOS8mOaDoOWTgeWQjScpO1xyXG4gIC8vICAgcmV0dXJuO1xyXG4gIC8vIH1cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGNhcmdvTm8gPSBvcHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWNhcmdvTm8nKTtcclxuICAgIGlmIChpID4gMCkge1xyXG4gICAgICByZXN1bHQgKz0gJywnO1xyXG4gICAgfVxyXG4gICAgaWYgKGNhcmdvTm8gPT09IG51bGwgfHwgY2FyZ29ObyA9PT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICByZXN1bHQgKz0gY2FyZ29ObztcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gIHZhciBsaXN0QXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZuX2dldERpc2NvdW50RmVlUmVxdWVzdExpc3QnKTtcclxuICBpZiAobGlzdEFyci5sZW5ndGggPCAxKSB7IHJldHVybiBudWxsOyB9XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0QXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyB2YXIgY2hpbGQgPSB7fTtcclxuICAgIFxyXG4gICAgLyogc2VsZWN0ICovXHJcbiAgICAvLyB2YXIga2V5U2VsZWN0ID0gbGlzdEFycltpXS5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1kaXNjb3VudEZlZUtleV0nKTtcclxuXHJcbiAgICAvKiDmlLnmiJBjaGVja2JveCAqL1xyXG4gICAgY29uc3Qga2V5Q2hlY2tib3hMaXN0ID0gbGlzdEFycltpXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYuZGlzY291bnRGZWVLZXkgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuICAgIFxyXG4gICAgdmFyIHR5cGVTZWxlY3QgPSBsaXN0QXJyW2ldLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPWRpc2NvdW50RmVlVHlwZV0nKTtcclxuICAgIHZhciBkaXNjb3VudEZlZVR5cGUgPSB0eXBlU2VsZWN0Lm9wdGlvbnNbdHlwZVNlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB2YXIgZGlzY291bnRGZWVWYWx1ZSA9IGxpc3RBcnJbaV0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaXNjb3VudEZlZVZhbHVlXScpLnZhbHVlO1xyXG4gICAgXHJcbiAgICAvKiBzZWxlY3QgcHJvcDogKi9cclxuICAgIC8vIHZhciBkaXNjb3VudEZlZUtleSA9IGtleVNlbGVjdC5vcHRpb25zW2tleVNlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSWQnKTtcclxuICAgIC8vIHZhciBkaXNjb3VudEZlZUtleU5hbWUgPSBsaXN0QXJyW2ldLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPWRpc2NvdW50RmVlS2V5XScpLnZhbHVlO1xyXG4gICAgLy8gY2hpbGQuZGlzY291bnRGZWVUeXBlID0gZGlzY291bnRGZWVUeXBlO1xyXG4gICAgLy8gY2hpbGQuZGlzY291bnRGZWVLZXkgPSBkaXNjb3VudEZlZUtleTtcclxuICAgIC8vIGNoaWxkLmRpc2NvdW50RmVlS2V5TmFtZSA9IGRpc2NvdW50RmVlS2V5TmFtZTtcclxuICAgIC8vIGNoaWxkLmRpc2NvdW50RmVlVmFsdWUgPSBkaXNjb3VudEZlZVZhbHVlO1xyXG4gICAgLy8gcmVzdWx0LnB1c2goY2hpbGQpO1xyXG5cclxuICAgIC8qIOaUueaIkGNoZWNrYm94IHByb3A6ICovXHJcbiAgICBrZXlDaGVja2JveExpc3QuZm9yRWFjaChjYiA9PiB7XHJcbiAgICAgIGlmIChjYi5jaGVja2VkKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9XHJcbiAgICAgICAgZGF0YS5kaXNjb3VudEZlZVR5cGUgPSBkaXNjb3VudEZlZVR5cGVcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlS2V5ID0gY2IuZ2V0QXR0cmlidXRlKCdkYXRhLWZlZWlkJylcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlS2V5TmFtZSA9IGNiLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWVzaG9ydG5tJylcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlVmFsdWUgPSBkaXNjb3VudEZlZVZhbHVlXHJcbiAgICAgICAgcmVzdWx0LnB1c2goZGF0YSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgdmFyIGlucHV0RmVlcmF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZmVlcmF0ZV0nKS52YWx1ZTtcclxuICBpZiAoaW5wdXRGZWVyYXRlKSB7XHJcbiAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgIGRpc2NvdW50RmVlVHlwZTogJ3JhdGUnLFxyXG4gICAgICBkaXNjb3VudEZlZVZhbHVlOiAkLnRyaW0oaW5wdXRGZWVyYXRlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9ybVZhbGlkYXRlKCkge31cblxuRm9ybVZhbGlkYXRlLnByb3RvdHlwZS52YWxpZGF0b3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKTtcbiAgdmFyIG1hcmsgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS12bGQnKTtcbiAgc3dpdGNoIChtYXJrKSB7XG4gICAgZGVmYXVsdDogXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Zvcm3lj4LmlbDmsqHmnInlkIjpgILnmoRkYXRhLXZsZOWxnuaApycpO1xuICAgIGNhc2UgJ3N0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUnOlxuICAgICAgcmV0dXJuIEZvcm1WYWxpZGF0ZS5zdGF0aW9uX2JpbGxzU2V0dGluZ19hZGRSdWxlKCk7XG4gICAgICAvLyBicmVhaztcbiAgICBjYXNlICdhbm90aGVyJzpcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtjb25zb2xlLmxvZygnMTExJyl9O1xuICB9XG59O1xuXG5Gb3JtVmFsaWRhdGUuc3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5wX2JpbGxOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxOYW1lJyk7XG4gIHZhciBpbnBfYmlsbE5hbWVfbWF4V29yZHMgPSAyMDtcbiAgdmFyIGlucF9iaWxsTmFtZV9tYXhXb3Jkc1RleHQgPSAn5pyA5aSa6L6T5YWlJyArIGlucF9iaWxsTmFtZV9tYXhXb3JkcyArICflrZcnO1xuICByZXR1cm4ge1xuICAgIGJpbmRGb3JtSXRlbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlucCA9IGlucF9iaWxsTmFtZTtcbiAgICAgIHZhciBtYXhXb3JkcyA9IGlucF9iaWxsTmFtZV9tYXhXb3JkcztcbiAgICAgIHZhciBtYXhXb3Jkc1RleHQgPSBpbnBfYmlsbE5hbWVfbWF4V29yZHNUZXh0O1xuICAgICAgaWYgKCFpbnApIHJldHVybjtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsIG1heFdvcmRzKTtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgbWF4V29yZHNUZXh0KTtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3VrLXRvb2x0aXAnLCAndGl0bGU6JyArIG1heFdvcmRzVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgICBpbnAuc2V0QXR0cmlidXRlKCdhdXRvZm9jdXMnLCAnYXV0b2ZvY3VzJyk7XG4gICAgICBpbnAuZm9jdXMoKTtcbiAgICAgIC8vIFVJa2l0LnRvb2x0aXAoaW5wKS5zaG93KCk7XG4gICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBGb3JtVmFsaWRhdGUuaW5wX2NoZWNrTnVsbCh0aGlzLCBtYXhXb3Jkc1RleHQpO1xuICAgICAgfSk7XG4gICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIEZvcm1WYWxpZGF0ZS5pbnBfbGltaXRMZW5ndGgodGhpcywgbWF4V29yZHMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGVja0NoZWNrYm94ZXM6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgYm9vID0gZmFsc2U7XG4gICAgICB2YXIgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9Y2hlY2tib3hdLmxpbmtMYWJlbCcpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja2JveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGNoZWNrYm94ZXNbaV07XG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgYm9vID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFib28pXG4gICAgICAgIFVJa2l0Lm5vdGlmaWNhdGlvbihcIuivt+WcqOWkmumAiemhueebruS4remAieaLqeiHs+WwkeS4gOS4quexu+Wei1wiLCAnd2FybmluZycpO1xuICAgICAgcmV0dXJuIGJvbztcbiAgICB9LFxuICAgIHN1Ym1pdEJvbzogZnVuY3Rpb24oKSB7XG4gICAgICBGb3JtVmFsaWRhdGUuaW5wX2xpbWl0TGVuZ3RoKGlucF9iaWxsTmFtZSwgaW5wX2JpbGxOYW1lX21heFdvcmRzKTtcbiAgICAgIHZhciBib29zID0gW107XG4gICAgICBib29zLnB1c2goRm9ybVZhbGlkYXRlLmlucF9jaGVja051bGwoaW5wX2JpbGxOYW1lLCBpbnBfYmlsbE5hbWVfbWF4V29yZHNUZXh0KSk7XG4gICAgICBib29zLnB1c2godGhpcy5jaGVja0NoZWNrYm94ZXMoKSk7XG4gICAgICByZXR1cm4gRm9ybVZhbGlkYXRlLnBhc3NUb1N1Ym1pdChib29zKTtcbiAgICB9LFxuICB9XG59O1xuXG5Gb3JtVmFsaWRhdGUuaW5wX2NoZWNrTnVsbCA9IGZ1bmN0aW9uKGlucCwgb3JpZ2luVGV4dCkge1xuICB2YXIgY2hhbmdlVGV4dCA9ICfmraTpobnkuI3og73kuLrnqbonO1xuICBpZiAoIWlucC52YWx1ZSkge1xuICAgIGlucC5jbGFzc0xpc3QuYWRkKCd1ay1mb3JtLWRhbmdlcicpO1xuICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgY2hhbmdlVGV4dCk7XG4gICAgaW5wLnNldEF0dHJpYnV0ZSgndWstdG9vbHRpcCcsICd0aXRsZTonICsgY2hhbmdlVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgVUlraXQudG9vbHRpcChpbnApLnNob3coKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgaW5wLmNsYXNzTGlzdC5yZW1vdmUoJ3VrLWZvcm0tZGFuZ2VyJyk7XG4gICAgaW5wLnNldEF0dHJpYnV0ZSgndWstdG9vbHRpcCcsICd0aXRsZTonICsgb3JpZ2luVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5Gb3JtVmFsaWRhdGUuaW5wX2xpbWl0TGVuZ3RoID0gZnVuY3Rpb24oaW5wLCBtYXhsZW4pIHtcbiAgdmFyIHRyaW1WYWx1ZSA9ICQudHJpbShpbnAudmFsdWUpO1xuICBpZiAodHJpbVZhbHVlLmxlbmd0aCA+IG1heGxlbikge1xuICAgIGlucC52YWx1ZSA9IHRyaW1WYWx1ZS5zbGljZSgwLCBtYXhsZW4pO1xuICB9IGVsc2Uge1xuICAgIGlucC52YWx1ZSA9IHRyaW1WYWx1ZTtcbiAgfVxufVxuRm9ybVZhbGlkYXRlLnBhc3NUb1N1Ym1pdCA9IGZ1bmN0aW9uKGJvb3NBcnIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBib29zQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGJvbyA9IGJvb3NBcnJbaV07XG4gICAgaWYgKCFib28pIHtcbiAgICAgIHJldHVybiBib287XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn0iLCIvLyBQb2x5ZmlsbDpcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgR2xvYl9mbiA9IHtcbiAgZXJyb3JIYW5kbGVyOiBmdW5jdGlvbihlcnJvciwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXJyTXNnID0gZXJyb3I/IGVycm9yOiAn5pyq55+l6ZSZ6K+vJztcbiAgICBpZiAoY29uc29sZSkge1xuICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5L+h5oGvSU5fQ09OU09MRTogJywgZXJyTXNnLCBlcnJNc2cuc3RhY2spO1xuICAgIH1cbiAgICBpZiAoVUlraXQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KGVyck1zZykudGhlbihjYWxsYmFjayk7ICBcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYWxlcnQoZXJyTXNnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoZXJyTXNnKTtcbiAgICB9XG4gIH0sXG4gIGluaGVyaXRQcm90b3R5cGU6IGZ1bmN0aW9uKHN1cGVyVHlwZSwgc3ViVHlwZSkgeyAgLy8g57un5om/5Ye95pWw77yaXG4gICAgdmFyIHByb3RvdHlwZSA9IE9iamVjdChzdXBlclR5cGUucHJvdG90eXBlKTsgIC8v5Yib5bu65a+56LGhXG4gICAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViVHlwZTsgICAgICAgICAgICAgIC8v5aKe5by65a+56LGhXG4gICAgc3ViVHlwZS5wcm90b3R5cGUgPSBwcm90b3R5cGU7ICAgICAgICAgICAgICAgIC8v5oyH5a6a5a+56LGhXG4gIH0sXG4gIGlzSlNPTjogZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09IFwic3RyaW5nXCIpIHJldHVybiBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgICB2YXIgb2JqZWN0ID0gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICBpZihvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gXCJvYmplY3RcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgIH1jYXRjaCAoZSkge1xuICAgICAgLyog5LiN5aSE55CGICovXG4gICAgfVxuICB9LFxuICBpc0RPTTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHJldHVybiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKVxuICAgICAgPyAoaXRlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KVxuICAgICAgOiAoaXRlbSAmJiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSAmJiAoaXRlbS5ub2RlVHlwZSA9PT0gMSkgJiYgKHR5cGVvZiBpdGVtLm5vZGVOYW1lID09PSAnc3RyaW5nJykpO1xuICB9LFxuICBpbml0TWFpbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHBmTWFpbicpO1xuICAgIHZhciBoZWFkZXJIID0gNzNcbiAgICB2YXIgbmF2SCA9IDQwXG4gICAgdmFyIGZvb3RlckggPSA5MFxuICAgIC8vIHZhciBicm93c2VySCA9IHdpbmRvdy5vdXRlckhlaWdodFxuICAgIHZhciBicm93c2VyVmlzaWJsZUggPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAvLyBjb25zb2xlLmxvZyhicm93c2VySCwgYnJvd3NlclZpc2libGVIKVxuICAgIHZhciBkSCA9IGJyb3dzZXJWaXNpYmxlSCAtIGhlYWRlckggLSBuYXZIIC0gZm9vdGVySDtcbiAgICBtYWluLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwibWluLWhlaWdodDpcIiArIGRIICsgXCJweFwiKTtcbiAgfSxcbiAgaW5pdE5hdjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZHBmTmF2IGJ1dHRvbicpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidG5zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKXtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgdmFyIHRoaXNCdG5DbHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2knKS5jbGFzc0xpc3RcbiAgICAgICAgdmFyIGRyb3Bkb3duID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICAgICAgaWYgKHRoaXNCdG5DbHMuY29udGFpbnMoJ2ZhLWNhcmV0LWRvd24nKSkge1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYnRucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgYnRuc1tqXS5xdWVyeVNlbGVjdG9yKCdpJylcbiAgICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtY2FyZXQtZG93bicpXG4gICAgICAgICAgICBidG5zW2pdLm5leHRFbGVtZW50U2libGluZy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXNCdG5DbHMucmVtb3ZlKCdmYS1jYXJldC1kb3duJylcbiAgICAgICAgICB0aGlzQnRuQ2xzLmFkZCgnZmEtY2FyZXQtdXAnKVxuICAgICAgICAgIGRyb3Bkb3duLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpibG9jaycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5ibHVyKClcbiAgICAgICAgICB0aGlzQnRuQ2xzLnJlbW92ZSgnZmEtY2FyZXQtdXAnKVxuICAgICAgICAgIHRoaXNCdG5DbHMuYWRkKCdmYS1jYXJldC1kb3duJylcbiAgICAgICAgICBkcm9wZG93bi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpXG4gICAgICAgIH1cbiAgICAgIH0sIGZhbHNlKVxuICAgIH1cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ0bnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnRuc1tpXS5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmUnKVxuICAgICAgICBidG5zW2ldLnF1ZXJ5U2VsZWN0b3IoJ2knKS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZhIGZhLWNhcmV0LWRvd24nKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGxvYWRpbmc6IHtcbiAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZ092ZXJsYXknKSkgcmV0dXJuO1xuICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgICB2YXIgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKTtcbiAgICAgIHZhciBwYXJlbnROb2RlID0gbWFpbj8gbWFpbjogYm9keTtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2xvYWRpbmdPdmVybGF5Jyk7XG4gICAgICAvLyBkaXYuc2V0QXR0cmlidXRlKCd1ay1zdGlja3knLCAnJyk7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstcG9zaXRpb24tY292ZXIgdWstb3ZlcmxheSB1ay1vdmVybGF5LWRlZmF1bHQgdWstZmxleCB1ay1mbGV4LWNlbnRlciB1ay1mbGV4LW1pZGRsZScpO1xuICAgICAgZGl2LmlubmVySFRNTCA9ICc8aSBjbGFzcz1cImZhIGZhLXNwaW5uZXIgZmEtcHVsc2UgZmEtM3ggZmEtZndcIj48L2k+PHNwYW4gY2xhc3M9XCJzci1vbmx5XCI+TG9hZGluZy4uLjwvc3Bhbj4nO1xuICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgcmV0dXJuIGRpdjtcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNsb2FkaW5nT3ZlcmxheScpO1xuICAgICAgaWYgKCFkaXYgfHwgZGl2Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ayoeaciWxvYWRpbmfpga7nvaknKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXYubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+WtmOWcqOWkmuS4qmxvYWRpbmfpga7nvaknKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGRpdltpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRpdltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBjaGVja2JveEFuZFJhZGlvOiB7XG4gICAgZ2V0QmluZGluZ0xhYmVsOiBmdW5jdGlvbihjaGlsZE5vZGUpIHtcbiAgICAgIHZhciBsYWJlbCA9IG51bGw7XG4gICAgICB2YXIgY2hpbGQgPSBjaGlsZE5vZGU7XG4gICAgICB2YXIgbWF4Q291bnQgPSA1O1xuICAgICAgZG8ge1xuICAgICAgICBsYWJlbCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgICAgIGNoaWxkID0gbGFiZWw7XG4gICAgICAgIG1heENvdW50LS07XG4gICAgICB9IHdoaWxlICggbGFiZWwudGFnTmFtZSAhPT0gJ0xBQkVMJyAmJiBtYXhDb3VudCA+IDAgKVxuICAgICAgaWYgKCBsYWJlbC50YWdOYW1lICE9PSAnTEFCRUwnICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ayoeaciWxhYmVs6IqC54K5Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGFiZWw7XG4gICAgfSxcbiAgICBzZXRCaW5kaW5nTGFiZWxzOiBmdW5jdGlvbihyYWRpb1NldCkge1xuICAgICAgdmFyIHBhcmVudFByb3AgPSB0aGlzO1xuICAgICAgLy8gdmFyIGxhYmVscyA9IGxhYmVsU2V0PyBsYWJlbFNldDogZ2V0TGFiZWxTZXQocmFkaW9TZXQpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpb1NldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciByYWRpbyA9IHJhZGlvU2V0W2ldO1xuICAgICAgICAgIHZhciBsYWJlbCA9IHBhcmVudFByb3AuZ2V0QmluZGluZ0xhYmVsKHJhZGlvKTtcbiAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tcHJpbWFyeScpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFkaW9TZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcmFkaW8yID0gcmFkaW9TZXRbaV07XG4gICAgICAgICAgaWYgKHJhZGlvMi5jaGVja2VkKSB7XG4gICAgICAgICAgICBwYXJlbnRQcm9wLmdldEJpbmRpbmdMYWJlbChyYWRpbzIpLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbi1wcmltYXJ5Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0UmFkaW9WYWx1ZShyYWRpb1NldCkpXG4gICAgICB9O1xuICAgIH0sXG4gICAgaW5pdEFjdGl2ZUxhYmVsOiBmdW5jdGlvbihyYWRpbykge1xuICAgICAgdmFyIHBhcmVudFByb3AgPSB0aGlzO1xuICAgICAgaWYgKHJhZGlvLmhhc0F0dHJpYnV0ZSgnY2hlY2tlZCcpKSB7XG4gICAgICAgIHBhcmVudFByb3AuZ2V0QmluZGluZ0xhYmVsKHJhZGlvKS5jbGFzc0xpc3QuYWRkKCdidXR0b24tcHJpbWFyeScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50UHJvcC5nZXRCaW5kaW5nTGFiZWwocmFkaW8pLmNsYXNzTGlzdC5yZW1vdmUoJ2J1dHRvbi1wcmltYXJ5Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRSYWRpb1ZhbHVlOiBmdW5jdGlvbihyYWRpb1NldCkge1xuICAgICAgdmFyIHZhbHVlID0gbnVsbDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9TZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhZGlvID0gcmFkaW9TZXRbaV1cbiAgICAgICAgaWYgKHJhZGlvLmNoZWNrZWQpIHtcbiAgICAgICAgICB2YWx1ZSA9IHJhZGlvLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgfSxcbiAgV2RhdGVJbml0OiBmdW5jdGlvbihzdGFydFRpbWVJZCwgZW5kVGltZUlkLCBhcmdzKSB7XG4gICAgdmFyIHN0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0YXJ0VGltZUlkKTtcbiAgICB2YXIgZW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZW5kVGltZUlkKTtcbiAgICB2YXIgZGF0ZUZtdCA9IGFyZ3MgJiYgYXJncy5kYXRlRm10PyBhcmdzLmRhdGVGbXQ6ICd5eXl5LU1NLWRkJztcbiAgICBpZiAoZGF0ZUZtdCA9PT0gJ3l5eXnlubRNTeaciCcpIHtcbiAgICAgIHNldFZlbElucChzdGFydFRpbWVJZCk7XG4gICAgICBzZXRWZWxJbnAoZW5kVGltZUlkKTtcbiAgICB9XG4gICAgdmFyIG1pbkRhdGUgPSBhcmdzICYmIGFyZ3MubWluRGF0ZT8gYXJncy5taW5EYXRlOiBmYWxzZTtcbiAgICB2YXIgbWF4RGF0ZSA9IGFyZ3MgJiYgYXJncy5tYXhEYXRlPyBhcmdzLm1heERhdGU6IGZhbHNlO1xuICAgIHN0YS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbmZpZ19zID0ge1xuICAgICAgICBkYXRlRm10OiBkYXRlRm10LFxuICAgICAgICBtYXhEYXRlOiAnI0Z7JGRwLiREKFxcJycgKyBlbmRUaW1lSWQgKyAnXFwnKX0nLFxuICAgICAgfTtcbiAgICAgIGlmIChkYXRlRm10ID09PSAneXl5eeW5tE1N5pyIJykge1xuICAgICAgICBjb25maWdfcy52ZWwgPSBzdGFydFRpbWVJZCArICdfMic7XG4gICAgICAgIGNvbmZpZ19zLnJlYWxEYXRlRm10ID0gYXJncy5yZWFsRGF0ZUZtdD8gYXJncy5yZWFsRGF0ZUZtdDogJ3l5eXlNTWRkJztcbiAgICAgIH1cbiAgICAgIGlmIChtaW5EYXRlKSBjb25maWdfcy5taW5EYXRlID0gbWluRGF0ZTtcbiAgICAgIGlmIChtYXhEYXRlID09PSAndG9kYXknKSBjb25maWdfcy5tYXhEYXRlID0gJyNGeyRkcC4kRChcXCcnICsgZW5kVGltZUlkICsgJ1xcJykgfHwgXFwnJXktJU0tJWRcXCd9JztcbiAgICAgIFdkYXRlUGlja2VyKGNvbmZpZ19zKTtcbiAgICB9KTtcbiAgICBlbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb25maWdfZSA9IHtcbiAgICAgICAgZGF0ZUZtdDogZGF0ZUZtdCxcbiAgICAgICAgbWluRGF0ZTogJyNGeyRkcC4kRChcXCcnICsgc3RhcnRUaW1lSWQgKyAnXFwnKX0nXG4gICAgICB9O1xuICAgICAgaWYgKGRhdGVGbXQgPT09ICd5eXl55bm0TU3mnIgnKSB7XG4gICAgICAgIGNvbmZpZ19lLnZlbCA9IGVuZFRpbWVJZCArICdfMic7XG4gICAgICAgIGNvbmZpZ19lLnJlYWxEYXRlRm10ID0gYXJncy5yZWFsRGF0ZUZtdD8gYXJncy5yZWFsRGF0ZUZtdDogJ3l5eXlNTWRkJztcbiAgICAgIH1cbiAgICAgIGlmIChtaW5EYXRlKVxuICAgICAgICBjb25maWdfZS5taW5EYXRlID0gJyNGeyRkcC4kRChcXCcnICsgc3RhcnRUaW1lSWQgKyAnXFwnKSB8fCBcXCcnICsgbWluRGF0ZSArICdcXCd9JztcbiAgICAgIGlmIChtYXhEYXRlID09PSAndG9kYXknKSBjb25maWdfZS5tYXhEYXRlID0gJyV5LSVNLSVkJztcbiAgICAgIFdkYXRlUGlja2VyKGNvbmZpZ19lKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBzZXRSZXNldEJ1dHRvbihpbnB1dCkge1xuICAgICAgdmFyIGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gaW5wdXRbdHlwZT1yZXNldF0nKTtcbiAgICAgIGlmICghYnRuKSByZXR1cm47XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWZWxJbnAoaWQpIHtcbiAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgdmFyIHNyYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgIHZhciBzcmNOYW1lID0gc3JjLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgdmFyIGRhdGEgPSBzcmMuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG4gICAgICBzcmMucmVtb3ZlQXR0cmlidXRlKCduYW1lJyk7XG4gICAgICBpbnAuc2V0QXR0cmlidXRlKCduYW1lJywgc3JjTmFtZSk7XG4gICAgICBpbnAuc2V0QXR0cmlidXRlKCdpZCcsIGlkICsgJ18yJyk7XG4gICAgICBpbnAuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaW5wLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBkYXRhKTtcbiAgICAgICAgc3JjLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBkYXRhLnNsaWNlKDAsIDQpICsgJ+W5tCcgKyBkYXRhLnNsaWNlKDQsIDYpICsgJ+aciCcpO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaW5wKTtcbiAgICAgIHNldFJlc2V0QnV0dG9uKGlucCk7XG4gICAgICByZXR1cm4gaW5wO1xuICAgIH1cbiAgfSxcbiAgYmFuQmFja1NwYWNlOiBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBldiA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICB2YXIgb2JqID0gZXYudGFyZ2V0IHx8IGV2LnNyY0VsZW1lbnQ7XG4gICAgdmFyIHQgPSBvYmoudHlwZSB8fCBvYmouZ2V0QXR0cmlidXRlKCd0eXBlJyk7XG4gICAgdmFyIHZSZWFkT25seSA9IG9iai5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgdlJlYWRPbmx5ID0gKHZSZWFkT25seSA9PSAnJykgPyBmYWxzZSA6IHZSZWFkT25seTtcbiAgICB2YXIgZmxhZzEgPSAoZXYua2V5Q29kZSA9PSA4ICYmICh0ID09ICdwYXNzd29yZCcgfHwgdCA9PSAndGV4dCcgfHwgdCA9PSAnbnVtYmVyJyB8fCB0ID09J3RleHRhcmVhJykgJiYgdlJlYWRPbmx5ICE9IHVuZGVmaW5lZCkgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIGZsYWcyID0gKGV2LmtleUNvZGUgPT0gOCAmJiB0ICE9ICdwYXNzd29yZCcgJiYgdCAhPSAndGV4dCcgJiYgdCAhPSAnbnVtYmVyJyAmJiB0ICE9ICd0ZXh0YXJlYScpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGlmIChmbGFnMikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmxhZzEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHN1Ym1WaXJ0Rm9ybTogZnVuY3Rpb24odXJsLCBvYmopIHtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZm9ybS5tZXRob2QgPSAncG9zdCc7XG4gICAgZm9ybS5hY3Rpb24gPSB1cmw7XG4gICAgZm9yICggdmFyIGtleSBpbiBvYmopIHtcbiAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wLnR5cGUgPSAnaGlkZGVuJztcbiAgICAgIGlucC5uYW1lID0ga2V5O1xuICAgICAgaW5wLnZhbHVlID0gb2JqW2tleV07XG4gICAgICBmb3JtLmFwcGVuZENoaWxkKGlucCk7XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgZm9ybS5zdWJtaXQoKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZvcm0pO1xuICB9LFxuICBpbml0RGlzY291dFR5cGVTZWw6IGZ1bmN0aW9uKGRhdGFMaXN0LCBwYXJlbnRTZWxlY3QpIHtcbiAgICB2YXIgb3AwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3AwLnNldEF0dHJpYnV0ZSgndmFsdWUnLCAnVFlQRScpO1xuICAgIG9wMC5pbm5lclRleHQgPSAn5YWo6YOoJztcbiAgICBwYXJlbnRTZWxlY3QuYXBwZW5kQ2hpbGQob3AwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBkYXRhTGlzdFtpXS5rZXkpO1xuICAgICAgb3AuaW5uZXJUZXh0ID0gZGF0YUxpc3RbaV0udmFsdWU7XG4gICAgICBwYXJlbnRTZWxlY3QuYXBwZW5kQ2hpbGQob3ApO1xuICAgIH1cbiAgfSxcbiAgaW5pdFN1cHBsaWVyU2VsOiBmdW5jdGlvbihkYXRhTGlzdCwgcGFyZW50U2VsZWN0KSB7XG4gICAgdmFyIG9wMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wMC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJycpO1xuICAgIG9wMC5pbm5lclRleHQgPSAn5YWo6YOoJztcbiAgICBwYXJlbnRTZWxlY3QuYXBwZW5kQ2hpbGQob3AwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFMaXN0Lmxlbmd0aDsgaSsrKXtcbiAgICAgIHZhciBvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3Auc2V0QXR0cmlidXRlKCd2YWx1ZScsIGRhdGFMaXN0W2ldLnN1cHBsaWVySWQpO1xuICAgICAgb3AuaW5uZXJUZXh0ID0gZGF0YUxpc3RbaV0uc3VwcGxpZXJOYW1lQ2huO1xuICAgICAgcGFyZW50U2VsZWN0LmFwcGVuZENoaWxkKG9wKTtcbiAgICB9XG4gIH0sXG4gIGluaXREaXNjb3VudERldGFpbHM6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY291bnRQb2xpY3lOYW1lJykudmFsdWUgPSBkYXRhLmRpc2NvdW50UG9saWN5TmFtZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJykudmFsdWUgPSBkYXRhLnN0YXR1c0Rlc2M7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0VGltZScpLnZhbHVlID0gZGF0YS5zdGFydFRpbWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZFRpbWUnKS52YWx1ZSA9IGRhdGEuZW5kVGltZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY291bnRUeXBlJykudmFsdWUgPSBkYXRhLmRpc2NvdW50VHlwZURlc2M7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21pbkNoYXJnZScpLnZhbHVlID0gZGF0YS5taW5DaGFyZ2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZXJhdGVWYWx1ZScpLnZhbHVlID0gZ2V0RmVlcmF0ZSgpO1xuICAgIGZ1bmN0aW9uIGdldEZlZXJhdGUoKSB7XG4gICAgICB2YXIgbGlzdCA9IGRhdGEuZGlzY291bnRGZWVSZXF1ZXN0TGlzdDtcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLmRpc2NvdW50RmVlVHlwZSA9PSAncmF0ZScpIHtcbiAgICAgICAgICByZXN1bHQgPSBsaXN0W2ldLmRpc2NvdW50RmVlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIOi+k+WHuuWTgeWQje+8mlxuICAgIHZhciBjYXJnb05hbWVXcmFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmdvTmFtZScpO1xuICAgIGlmIChkYXRhLmNhcmdvTmFtZSkge1xuICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGxhYmVsLmlubmVyVGV4dCA9ICfkvJjmg6Dlk4HlkI3pobknO1xuICAgICAgY2FyZ29OYW1lV3JhcC5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwgdWstbWFyZ2luLXNtYWxsLWxlZnQnKTtcbiAgICAgIGRpdi5pbm5lclRleHQgPSBkYXRhLmNhcmdvTmFtZTtcbiAgICAgIGNhcmdvTmFtZVdyYXAuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9IGVsc2UgaWYgKGNhcmdvTmFtZVdyYXAuaW5uZXJIVE1MKSB7XG4gICAgICBjYXJnb05hbWVXcmFwLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICAvLyDovpPlh7pkaXNjb3VudFZhbHVl77yaXG4gICAgdmFyIGRpc2NvdW50VmFsdWVXcmFwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2NvdW50VmFsdWUnKTtcbiAgICBpZiAoZGF0YS5kaXNjb3VudFZhbHVlKSB7XG4gICAgICBsZXQgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgaWYgKGRhdGEuZGlzY291bnRUeXBlID09ICdGJylcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gJ+S8mOaDoOiIquePrSc7XG4gICAgICBlbHNlIGlmIChkYXRhLmRpc2NvdW50VHlwZSA9PSAnV1AnKVxuICAgICAgICBsYWJlbC5pbm5lclRleHQgPSAn5LyY5oOg6Iiq54K5JztcbiAgICAgIGVsc2UgaWYgKGRhdGEuZGlzY291bnRUeXBlID09ICdHJylcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gJ+S8mOaDoOaUr+aMgeaWueW8jyc7XG4gICAgICBlbHNlXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9ICfkvJjmg6DlgLwnO1xuICAgICAgZGlzY291bnRWYWx1ZVdyYXAuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsIHVrLW1hcmdpbi1zbWFsbC1sZWZ0Jyk7XG4gICAgICBkaXYuaW5uZXJUZXh0ID0gZGF0YS5kaXNjb3VudFZhbHVlO1xuICAgICAgZGlzY291bnRWYWx1ZVdyYXAuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICB9IGVsc2UgaWYgKGRpc2NvdW50VmFsdWVXcmFwLmlubmVySFRNTCkge1xuICAgICAgZGlzY291bnRWYWx1ZVdyYXAuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIFxuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjb3VudEZlZVJlcXVlc3RMaXN0Jyk7XG4gICAgdmFyIHRib2R5ID0gZ2V0VGJvZHkoKTtcbiAgICB0YWJsZS5hcHBlbmRDaGlsZCh0Ym9keSk7XG4gICAgZnVuY3Rpb24gZ2V0VGJvZHkoKSB7XG4gICAgICB2YXIgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgICAgdmFyIGxpc3QgPSBkYXRhLmRpc2NvdW50RmVlUmVxdWVzdExpc3Q7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgaWYgKGxpc3RbaV0uZGlzY291bnRGZWVUeXBlID09ICdyYXRlJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgIHRkMS5pbm5lclRleHQgPSBsaXN0W2ldLmRpc2NvdW50RmVlS2V5TmFtZTtcbiAgICAgICAgICB2YXIgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICB0ZDIuaW5uZXJUZXh0ID0gbGlzdFtpXS5kaXNjb3VudEZlZVR5cGVEZXNjO1xuICAgICAgICAgIHZhciB0ZDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgIHRkMy5pbm5lclRleHQgPSBsaXN0W2ldLmRpc2NvdW50RmVlVmFsdWU7XG4gICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcbiAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZDIpO1xuICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkMyk7XG4gICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGJvZHk7XG4gICAgfVxuICB9LFxuICBUYWJsZToge1xuICAgIHNob3dOb0RhdGE6IGZ1bmN0aW9uKGNvbHNwYW4pIHtcbiAgICAgIHZhciB0cjAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgdmFyIHRkMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICB0ZDAuaW5uZXJUZXh0ID0gJ+aXoOaVsOaNric7XG4gICAgICB0ZDAuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgY29sc3Bhbik7XG4gICAgICB0ZDAuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay10ZXh0LWNlbnRlcicpO1xuICAgICAgdHIwLmFwcGVuZENoaWxkKHRkMCk7XG4gICAgICAvLyDmuIXnqbrliIbpobXnu4Tku7bvvJpcbiAgICAgIHZhciBwYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtkYXRhLWZvcj1kYXRhVGFibGVdJyk7XG4gICAgICBwYWcuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIHJldHVybiB0cjA7XG4gICAgfSxcbiAgICBnZXRUaFRyOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgdmFyIHRoZWFkID0gdGFibGUucXVlcnlTZWxlY3RvcigndGhlYWQnKTtcbiAgICAgIHRoZWFkLmlubmVySFRNTCA9ICcnO1xuICAgICAgdmFyIHRySW5UaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICB0aGVhZC5hcHBlbmRDaGlsZCh0ckluVGhlYWQpO1xuICAgICAgLy8gdGhlYWQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJztcbiAgICAgIC8vIHRoZWFkLnNldEF0dHJpYnV0ZSgndWstc3RpY2t5JywgJycpO1xuICAgICAgcmV0dXJuIHRySW5UaGVhZDtcbiAgICB9LFxuICAgIHNldFRoOiBmdW5jdGlvbihwYXJlbnRUciwgY29udGVudCwgc2hvd0Jvbykge1xuICAgICAgdmFyIHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcbiAgICAgIHZhciBzaG93ID0gc2hvd0JvbyA9PT0gdW5kZWZpbmVkPyB0cnVlOiBzaG93Qm9vO1xuICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoLmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGguaW5uZXJUZXh0ID0gY29udGVudDtcbiAgICAgIH1cbiAgICAgIGlmICghc2hvdykgdGguc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICBwYXJlbnRUci5hcHBlbmRDaGlsZCh0aCk7XG4gICAgICByZXR1cm4gdGg7XG4gICAgfSxcbiAgICBzZXRUZDogZnVuY3Rpb24ocGFyZW50VHIsIGRhdGEsIHNob3dCb28sIHJlcGxhY2VTdHIpIHtcbiAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICB2YXIgc2hvdyA9IHNob3dCb28gPT09IHVuZGVmaW5lZD8gdHJ1ZTogc2hvd0JvbztcbiAgICAgIHZhciByZXBsYWNlID0gcmVwbGFjZVN0cj8gcmVwbGFjZVN0cjogJy0nXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXROb0RhdGEodGQsIHJlcGxhY2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKEdsb2JfZm4uaXNET00oZGF0YSkpIHtcbiAgICAgICAgdGQuYXBwZW5kQ2hpbGQoZGF0YSk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHNldE5vRGF0YSh0ZCwgcmVwbGFjZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChkYXRhW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE5vRGF0YSh0ZCwgcmVwbGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXNob3cpIHRkLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgICAgcGFyZW50VHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgcmV0dXJuIHRkO1xuICAgICAgZnVuY3Rpb24gc2V0Tm9EYXRhKHRkLCByZXBsYWNlKSB7XG4gICAgICAgIHRkLmlubmVySFRNTCA9IHJlcGxhY2U7XG4gICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstdGV4dC1jZW50ZXInKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFRkU2VyaWFsOiBmdW5jdGlvbihwYXJlbnRUciwgbnVtYmVyLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICAgICAgdmFyIHRkU2VyaWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIHBhcmVudFRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKTtcbiAgICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IG51bWJlciArIDEgKyAoTnVtYmVyKHBhZ2VOdW1iZXIpIC0gMSkgKiBOdW1iZXIocGFnZVNpemUpO1xuICAgICAgcmV0dXJuIHRkU2VyaWFsO1xuICAgIH0sXG4gICAgaGlkZVNvbWU6IGZ1bmN0aW9uKHRkLCB3aWR0aCkge1xuICAgICAgdmFyIHNwYW4gPSB0ZC5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XG4gICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgIHZhciBtYXhXID0gd2lkdGg/IHdpZHRoOiAyMDA7XG4gICAgICAvLyB2YXIgYnl0ZUxlbmd0aCA9IHRkLmlubmVyVGV4dC5ieXRlTGVuZ3RoKCk7XG4gICAgICB2YXIgY29tcHV0ZWRXaWR0aCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlXG4gICAgICAgID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3BhbiwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKS5zbGljZSgwLCAtMilcbiAgICAgICAgOiBzcGFuLmN1cnJlbnRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd3aWR0aCcpLnNsaWNlKDAsIC0yKTtcbiAgICAgIGlmIChOdW1iZXIoY29tcHV0ZWRXaWR0aCkgPCBtYXhXKSByZXR1cm4gdGQ7XG4gICAgICB0ZC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgdGQuc3R5bGUudGV4dE92ZXJmbG93ID0gJ2VsbGlwc2lzJztcbiAgICAgIHRkLnN0eWxlLm1heFdpZHRoID0gbWF4VyArICdweCc7XG4gICAgICB0ZC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICB0ZC5pbm5lclRleHQgPSBzcGFuLmlubmVyVGV4dDtcbiAgICAgIHRkLnNldEF0dHJpYnV0ZSgndWstdG9vbHRpcCcsIHRkLmlubmVyVGV4dCk7XG4gICAgICByZXR1cm4gdGQ7XG4gICAgfSxcbiAgICB0ckhpZGVTb21lOiBmdW5jdGlvbih0ciwgbWF4KSB7XG4gICAgICB2YXIgdGRzID0gdHIucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ZCA9IHRkc1tpXTtcbiAgICAgICAgdGhpcy5oaWRlU29tZSh0ZCwgbWF4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cjtcbiAgICB9LFxuICAgIHRib2R5SGlkZVNvbWU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgaWYgKCF0YWJsZSkgcmV0dXJuO1xuICAgICAgaWYgKCF0YWJsZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtaGlkZVNvbWUnKSkgcmV0dXJuO1xuICAgICAgdmFyIHByb3AgPSB0YWJsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGlkZVNvbWUnKTtcbiAgICAgIHZhciBzaXplID0gaXNOYU4oTnVtYmVyKHByb3ApKT8gbnVsbDogTnVtYmVyKHByb3ApO1xuICAgICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgIHZhciB0cnMgPSB0Ym9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpO1xuICAgICAgaWYgKHRycy5sZW5ndGggPCAxKSByZXR1cm47XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHIgPSB0cnNbaV07XG4gICAgICAgIHRoaXMudHJIaWRlU29tZSh0ciwgc2l6ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGJvZHk7XG4gICAgfSxcbiAgICBidWlsZEFqYXhUaXRsZTogZnVuY3Rpb24odGl0bGVEYXRhLCBwYXJlbnROb2RlKSB7XG4gICAgICB2YXIgY29sQ291bnQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aXRsZURhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aXRsZURhdGFbaV07XG4gICAgICAgIGlmIChsaXN0LmZlZVNob3J0Tm0gPT09ICflpITnva7otLknKSB7XG4gICAgICAgICAgdmFyIHRoMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgdGgwLmlubmVyVGV4dCA9ICflnLDpnaLotLnnjocnO1xuICAgICAgICAgIHRoMC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJywgY29sQ291bnQpO1xuICAgICAgICAgIHRoMC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZlZUl0ZW1UaXRsZScpO1xuICAgICAgICAgIGNvbENvdW50Kys7XG4gICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgIHRoLmlubmVyVGV4dCA9IGxpc3QuZmVlU2hvcnRObTtcbiAgICAgICAgdGguc2V0QXR0cmlidXRlKCdkYXRhLWNvbCcsIGNvbENvdW50KTtcbiAgICAgICAgY29sQ291bnQrKztcbiAgICAgICAgdGguc2V0QXR0cmlidXRlKCdjbGFzcycsICdmZWVJdGVtVGl0bGUnKTtcbiAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aCk7IFxuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QWpheFRpdGxlVmFsdWU6IGZ1bmN0aW9uKGRhdGEsIGtleSkge1xuICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGRhdGFbaV1ba2V5XS50b1N0cmluZygpLnJlcGxhY2UoLy0vZywgJyMnKVxuICAgICAgICAgICAgICAgICAgLm1hdGNoKC8tPyhbMS05XVxcZCooXFwuXFxkKikqfDBcXC5bMS05XVxcZCopL2cpO1xuICAgICAgICBpZiAoZGF0YVtpXS5mZWVTaG9ydE5tID09PSAn5aSE572u6LS5Jykge1xuICAgICAgICAgIGFyci5wdXNoKFsnc3BlY2lhbFBvcyddKTtcbiAgICAgICAgfVxuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0sXG4gICAgZ2V0QWpheFRpdGxlRGF0YTogZnVuY3Rpb24odGl0bGUsIGZlZUlkQXJyLCBkYXRhTGlzdCkge1xuICAgICAgdmFyIGFyciA9IHRpdGxlPyBbdGl0bGVdOiBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmVlSWRBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRhdGEgPSAnLSc7XG4gICAgICAgIHZhciBmZWVJZEdyb3VwID0gZmVlSWRBcnJbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmVlSWRHcm91cC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciB0aXRsZUZlZUlkID0gZmVlSWRHcm91cFtqXTtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRhdGFMaXN0Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgbGlzdEZlZUlkID0gZGF0YUxpc3Rba10uZmVlSWQ7XG4gICAgICAgICAgICB2YXIgbGlzdFZhbHVlID0gZGF0YUxpc3Rba10uZmVlID09PSBudWxsPyAnLSc6IGRhdGFMaXN0W2tdLmZlZTtcbiAgICAgICAgICAgIHZhciBsaXN0UmF0ZSA9IGRhdGFMaXN0W2tdLmZlZXJhdGU7XG4gICAgICAgICAgICB2YXIgbGlzdFJhdGVGbGFnID0gZGF0YUxpc3Rba10uZmVlU2hvcnROTSA9PT0gJ+WkhOe9rui0uSc7XG4gICAgICAgICAgICBpZiAodGl0bGVGZWVJZCA9PSBsaXN0RmVlSWQpIHtcbiAgICAgICAgICAgICAgaWYgKGxpc3RSYXRlRmxhZykge1xuICAgICAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChsaXN0UmF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGF0YSA9IGxpc3RWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2goZGF0YSk7XG4gICAgICB9XG4gICAgICBpZiAodGl0bGUpIHtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogYXJyLFxuICAgICAgICAgIHRpdGxlOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEFqYXhUaXRsZU9iamVjdDogZnVuY3Rpb24oZmVlSWRBcnIsIGRhdGFMaXN0KSB7XG4gICAgICB2YXIgYXJyID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZlZUlkQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmZWVJZEdyb3VwID0gZmVlSWRBcnJbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmVlSWRHcm91cC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciB0aXRsZUZlZUlkID0gZmVlSWRHcm91cFtqXTtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRhdGFMaXN0Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgbGlzdEZlZUlkID0gZGF0YUxpc3Rba10uZmVlSWQ7XG4gICAgICAgICAgICBpZiAodGl0bGVGZWVJZCA9PSBsaXN0RmVlSWQpIHtcbiAgICAgICAgICAgICAgdmFyIG9iaiA9IGRhdGFMaXN0W2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqICE9PSBudWxsICYmIG9iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYXJyLnB1c2gob2JqKTtcbiAgICAgICAgICBvYmogPSBudWxsO1xuICAgICAgICB9ICAgICAgIFxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIGJ1aWxkVmFsdWVXaXRoQWpheFRpdGxlOiBmdW5jdGlvbihsaW5lZGF0YSwgcGFyZW50Tm9kZSkge1xuICAgICAgdmFyIGlzQXJyID0gQXJyYXkuaXNBcnJheShsaW5lZGF0YSk7XG4gICAgICB2YXIgZGF0YSA9IGlzQXJyPyBsaW5lZGF0YTogbGluZWRhdGEuZGF0YTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICB0ZC5pbm5lclRleHQgPSBkYXRhW2ldO1xuICAgICAgICBpZiAoIWlzQXJyKSB7XG4gICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdkYXRhLWNvbCcsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpID49IDEpIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2wnLCBpLTEpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaGlkZVVudmFsdWVkOiBmdW5jdGlvbihwb2ludGVkVGFibGUsIGNoZWNrVmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0YWJsZSA9IHBvaW50ZWRUYWJsZT8gcG9pbnRlZFRhYmxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJyk7XG4gICAgICAgIHZhciBmbGFnID0gY2hlY2tWYWx1ZT8gY2hlY2tWYWx1ZTogJy0nO1xuICAgICAgICB2YXIgdGhzID0gdGFibGUucXVlcnlTZWxlY3RvckFsbCgndGguZmVlSXRlbVRpdGxlJyk7XG4gICAgICAgIGlmICghdGhzKSByZXR1cm47XG4gICAgICAgIHZhciBjb2xDb3VudCA9IHRocy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sQ291bnQ7IGkrKykge1xuICAgICAgICAgIHZhciBjb2x1bW4gPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0ZFtkYXRhLWNvbD1cIicraSsnXCJdJyk7XG4gICAgICAgICAgdmFyIHVudmFsdWVkQ29sID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2x1bW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHVudmFsdWVkQ29sID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5bal0uaW5uZXJUZXh0ICE9PSBmbGFnKSB7XG4gICAgICAgICAgICAgIHVudmFsdWVkQ29sID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodW52YWx1ZWRDb2wpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY29sdW1uLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGNvbHVtbltrXS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoW2RhdGEtY29sPVwiJytpKydcIl0nKS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSxcbiAgICBjaGVja1NpemU6IGZ1bmN0aW9uKHBvaW50ZWRUYWJsZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHRhYmxlID0gcG9pbnRlZFRhYmxlPyBwb2ludGVkVGFibGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICAgICAgdmFyIGRpdiA9IHRhYmxlLnBhcmVudE5vZGU7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbmNvbnRlbnQnKTtcbiAgICAgICAgdmFyIHRhYndpZHRoID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGFibGUsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpO1xuICAgICAgICB2YXIgZGl2d2lkdGggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkaXYsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpO1xuICAgICAgICBpZiAoTnVtYmVyKHRhYndpZHRoKSA+IE51bWJlcihkaXZ3aWR0aCkpIHtcbiAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbm9ybWFsV2lkdGgnKTtcbiAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbGFyZ2VXaWR0aCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRDaGVja2JveDogZnVuY3Rpb24oaWZBbGwpIHtcbiAgICAgIHZhciBsYWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgbGFiLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndm9pZCcpO1xuICAgICAgdmFyIGNoYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBsYWIuYXBwZW5kQ2hpbGQoY2hiKTtcbiAgICAgIGNoYi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgICAgIGNoYi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWNoZWNrYm94Jyk7XG4gICAgICBpZiAoaWZBbGwpIHtcbiAgICAgICAgY2hiLnNldEF0dHJpYnV0ZSgnaWQnLCAnc2VsZWN0QWxsJyk7XG4gICAgICAgIGNoYi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hiLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2JfY2hpbGQnKTtcbiAgICAgIH1cbiAgICAgIGNoYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHRpQnRuJyk7XG4gICAgICAgIGlmICghYnRuKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnInlr7nlupTmjInplK4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgYnRuLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbGFiO1xuICAgIH0sXG4gICAgbGlua0NoZWNrYm94ZXM6IGZ1bmN0aW9uKHNlbEFsbCwgc2VsQ2hpbGRyZW4pIHtcbiAgICAgIHNlbEFsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsQWxsLmNoZWNrZWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXNlbENoaWxkcmVuW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgc2VsQ2hpbGRyZW5baV0uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNlbENoaWxkcmVuW2ldLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgc2VsQ2hpbGRyZW5baV0uY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYWRkQ2hlY2tlZFRvTGlzdDogZnVuY3Rpb24oY2hiLCBsaXN0KSB7XG4gICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBjaGIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoYltpXS5jaGVja2VkKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBjaGJbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWNoZWNrZWQnKTtcbiAgICAgICAgICBsaXN0LnB1c2goZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGhpZGVUYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgaWYgKCF0YWIpIHJldHVybjtcbiAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB9LFxuICAgIHNob3dUYWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgaWYgKCF0YWIpIHJldHVybjtcbiAgICAgIHRhYi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgIH0sXG4gIH0sXG4gIGdldERpY3RBcmdfZm9yUXVlcnlCaWxsczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT10eXBlXScpLnZhbHVlO1xuICAgIGlmICghdFR5cGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5rKh5pyJdHlwZeWPguaVsCcpO1xuICAgIH1cbiAgICBpZiAodFR5cGUgPT0gJzEnIHx8IHRUeXBlID09ICcyJykge1xuICAgICAgLy8g55u06L6+5pe26LSn6L+Q57G75Z6L5p+l6K+iXG4gICAgICByZXR1cm4gJ0VYUElNUCc7XG4gICAgfSBlbHNlIGlmICh0VHlwZSAgPT0gJzMnKSB7XG4gICAgICAvLyDkuK3ovazml7botKfov5DnsbvlnotcbiAgICAgIHJldHVybiAnVFJBTlNGRVJUWVBFJztcbiAgICB9IGVsc2UgaWYgKHRUeXBlID09ICc0Jykge1xuICAgICAgLy8g5b+r5Lu26LSn6L+Q57G75Z6LXG4gICAgICByZXR1cm4gJ0VYUE1BSUwnO1xuICAgIH1cbiAgfSxcbiAgc2V0U2VsRGVmYXVsdE9wdGlvbjogZnVuY3Rpb24oc2VsZWN0LCB0ZXh0LCB2YWx1ZSkge1xuICAgIHZhciBvcHRpb24wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3B0aW9uMC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUpO1xuICAgIG9wdGlvbjAuaW5uZXJUZXh0ID0gdGV4dDtcbiAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uMCk7XG4gIH0sXG4gIHNldFNlbEZyb21EaWN0OiBmdW5jdGlvbihzZWxlY3QsIGRhdGEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBkYXRhW2ldLnZhbHVlO1xuICAgICAgb3B0aW9uLnZhbHVlID0gZGF0YVtpXS5rZXk7XG4gICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICB9XG4gIH0sXG4gIHNldEluQW5kT3V0OiBmdW5jdGlvbiAocmVzKSB7XG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgICBpZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoID09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5a2X5YW45o6l5Y+j5peg5pWw5o2uJyk7XG4gICAgfVxuICAgIHZhciBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1pbkFuZE91dF0nKTtcbiAgICB0aGlzLnNldFNlbERlZmF1bHRPcHRpb24oc2VsZWN0LCAn5YWo6YOoJywgJy0xJyk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0U2VsRnJvbURpY3Qoc2VsZWN0LCBkYXRhKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICB9XG4gIH0sXG4gIHNldE9wZWRlcGFydElkOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgICBpZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoID09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5a2X5YW45o6l5Y+j5peg5pWw5o2uJyk7XG4gICAgfVxuICAgIHZhciBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1vcGVkZXBhcnRJZF0nKTtcbiAgICB0aGlzLnNldFNlbERlZmF1bHRPcHRpb24oc2VsZWN0LCAn5YWo6YOoJywgJy0xJyk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc2V0U2VsRnJvbURpY3Qoc2VsZWN0LCBkYXRhKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICB9XG4gIH0sXG4gIGdldE9yZGVyVGltZTogZnVuY3Rpb24oKSB7ICAvLyDotKbljZXmn6XnnIvnlYzpnaLojrflj5botKbmnJ9cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3JkZXJUaW1lU3RhcnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9b3JkZXJUaW1lU3RhcnRdJykudmFsdWUsXG4gICAgICAgIG9yZGVyVGltZUVuZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1vcmRlclRpbWVFbmRdJykudmFsdWUsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoY29uc29sZSkgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcmRlclRpbWVTdGFydDogJycsXG4gICAgICAgIG9yZGVyVGltZUVuZDogJycsXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgc2V0UG9zdExpbms6IGZ1bmN0aW9uKGxpbmtzLCBwb3N0RGF0YSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuaXNET00obGlua3MpICYmIGxpbmtzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpbmtzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBHbG9iX2ZuLnN1Ym1WaXJ0Rm9ybSh1cmwsIHBvc3REYXRhKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHbG9iX2ZuIiwiZXhwb3J0IGZ1bmN0aW9uIGluaXRMaXN0Qm94KCkge1xuICAgIHZhciBidG5MMlIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdGJveEwyUicpO1xuICAgIHZhciBidG5SMkwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdGJveFIyTCcpO1xuICAgIHZhciBzZWxlY3RMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvdXJjZVNlbGVjdCcpO1xuICAgIHZhciBzZWxlY3RSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc3RTZWxlY3QnKTtcblxuICAgIGlmIChzZWxlY3RMICYmIHNlbGVjdFIgJiYgYnRuTDJSICYmIGJ0blIyTCkge1xuICAgICAgICBidG5MMlIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsaXN0Ym94TW92ZWFjcm9zcygnc291cmNlU2VsZWN0JywgJ2Rlc3RTZWxlY3QnLCAnbm9yZXBlYXQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJ0blIyTC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxpc3Rib3hNb3ZlYWNyb3NzKCdkZXN0U2VsZWN0JywgJ3NvdXJjZVNlbGVjdCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0Ym94TW92ZWFjcm9zcyhzb3VyY2VJRCwgZGVzdElELCB0eXBlKSB7XG4gICAgICAgIHZhciBzcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzb3VyY2VJRCk7XG4gICAgICAgIHZhciBkZXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGVzdElEKTtcbiAgICAgICAgZm9yKHZhciBjb3VudD0wOyBjb3VudCA8IHNyYy5vcHRpb25zLmxlbmd0aDsgY291bnQrKykge1xuICAgICAgICAgICAgaWYoc3JjLm9wdGlvbnNbY291bnRdLnNlbGVjdGVkID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHNyYy5vcHRpb25zW2NvdW50XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gb3B0aW9uLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdPcHRpb24uc2V0QXR0cmlidXRlKGF0dHJzW2ldLm5hbWUsIGF0dHJzW2ldLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXdPcHRpb24udmFsdWUgPSBvcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG5ld09wdGlvbi50ZXh0ID0gb3B0aW9uLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIG5ld09wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIOWTgeWQjeafpeivouaXtijlt6boh7Plj7Mp77yaXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FyZ29OYW1lTGlzdGJveCcpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY2lhbENhcmdvTmFtZUxpc3Rib3gnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkMSA9IG5ld09wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtY2FyZ29ObycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc3RvcHRpb25zID0gZGVzdC5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXN0b3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZXN0b3B0aW9ucy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQyID0gZGVzdG9wdGlvbnNbal0uZ2V0QXR0cmlidXRlKCdkYXRhLWNhcmdvTm8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggaWQxID09PSBpZDIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+mAieaLqemhueWcqOS8mOaDoOWTgeWQjeWIl+ihqOS4reW3suWtmOWcqCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmFkZChuZXdPcHRpb24sIG51bGwpOyAvL1N0YW5kYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgc3JjLnJlbW92ZShjb3VudCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0LmFkZChuZXdPcHRpb24pOyAvLyBJRSBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgc3JjLnJlbW92ZShjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0Ym94KCkge31cblxuTGlzdGJveC5wcm90b3R5cGUuZ2V0T3B0aW9uc19jYXJnb05hbWUgPSBmdW5jdGlvbihyZXNwb25zZSwgY29udGFpbmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5rKh5pyJ55u45YWz55qE5ZOB5ZCNJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgICAgZm9yICggdmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gJ2NhcmdvTm0nKSB7XG4gICAgICAgICAgICAgICAgb3AuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgICAgICAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG9wKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxufTtcbkxpc3Rib3gucHJvdG90eXBlLmdldE9wdGlvbnNfZGlzY291bnROYW1lID0gZnVuY3Rpb24ocmVzcG9uc2UsIGxpc3Rib3hFbCwgY3VzdG9tZXJJZCkge1xuICAgIHZhciBzZWxfc291ID0gbGlzdGJveEVsLnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2VTZWxlY3QnKTtcbiAgICB2YXIgc2VsX2RlcyA9IGxpc3Rib3hFbC5xdWVyeVNlbGVjdG9yKCcjZGVzdFNlbGVjdCcpO1xuICAgIHNlbF9zb3UuaW5uZXJIVE1MID0gJyc7XG4gICAgc2VsX2Rlcy5pbm5lckhUTUwgPSAnJztcbiAgICBzZWxfZGVzLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJywgY3VzdG9tZXJJZCk7XG4gICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChkYXRhLmxlbmd0aCA8IDEpIHsgcmV0dXJuOyB9XG4gICAgdmFyIG9wdGlvbkFyciA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgZm9yICggdmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeU5hbWUnKSB7IFxuICAgICAgICAgICAgICAgIG9wLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3Auc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uQXJyLnB1c2hbb3BdO1xuICAgICAgICBzZWxfc291LmFwcGVuZENoaWxkKG9wKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbkFycjtcbn07XG5MaXN0Ym94LnByb3RvdHlwZS5wb3N0RGF0YV9kaXNjb3VudE5hbWUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyB2YXIgc2VsX3NvdSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2VTZWxlY3QnKTtcbiAgICB2YXIgc2VsX2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXN0U2VsZWN0Jyk7XG4gICAgdmFyIGN1c3RvbWVySWQgPSBzZWxfZGVzLmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJyk7XG4gICAgdmFyIHBvc3REYXRhID0geyBjdXN0b21lcklkOiBjdXN0b21lcklkIH07XG4gICAgdmFyIGRpc2NvdW50UG9saWN5SWRzID0gW107XG4gICAgdmFyIG9wcyA9IHNlbF9kZXMucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJyk7XG4gICAgaWYgKG9wcy5sZW5ndGggPCAxKSB7IHJldHVybiBudWxsIH1cbiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRpc2NvdW50UG9saWN5SWQgPSBvcHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWRpc2NvdW50UG9saWN5SWQnKTtcbiAgICAgICAgZGlzY291bnRQb2xpY3lJZHMucHVzaChkaXNjb3VudFBvbGljeUlkKTtcbiAgICB9XG4gICAgcG9zdERhdGEuZGlzY291bnRQb2xpY3lJZHMgPSBkaXNjb3VudFBvbGljeUlkcztcbiAgICByZXR1cm4gcG9zdERhdGE7XG59IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXHJcbmltcG9ydCB7ZmV0Y2hEYXRhfSBmcm9tICcuL0FqYXhNYW5hZ2VyJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRMb2dpbl9wYWdlKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpbml0UGFnZSgpO1xyXG4gIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vd3d3LmRvdmVwYXkuY29tJztcclxuICB9XHJcbiAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XHJcbiAgICBpbml0TG9naW5fY292ZXJQYWdlKCk7XHJcbiAgICB2YXIgcGFnZUZvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9cGFnZWZvcl0nKS52YWx1ZTtcclxuICAgIHZhciBzZWxfdHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPXVzZXJUeXBlXScpO1xyXG4gICAgdmFyIGlucF9hY2NvdW50SWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFjY291bnRJZF0nKTtcclxuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fbG9naW4nKTtcclxuICAgIHZhciBpbnBfdXNlcklkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT11c2VySWRdJyk7XHJcbiAgICBpZiAocGFnZUZvciA9PT0gJ3N5c3RlbScpIHtcclxuICAgICAgaW5wX2FjY291bnRJZC52YWx1ZSA9ICdzeXN0ZW0nO1xyXG4gICAgICBzZWxfdHlwZS52YWx1ZSA9ICdzeXN0ZW0nO1xyXG4gICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3JvbGVdJykudmFsdWU7XHJcbiAgICAgIGlucF91c2VySWQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGZldGNoTG9naW5EYXRhKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBmZXRjaExvZ2luRGF0YSgpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZmV0Y2hMb2dpbkRhdGEoKSB7XHJcbiAgICAgIHZhciBkYXRhID0geyAndXNlcklkJzogaW5wX3VzZXJJZC52YWx1ZSwgfTtcclxuICAgICAgdmFyIGlucF9hY2NvdW50SWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFjY291bnRJZF0nKTtcclxuICAgICAgaW5wX2FjY291bnRJZC52YWx1ZSA9ICcnO1xyXG4gICAgICBmZXRjaERhdGEodXJsLCBkYXRhLCBuZXcgUGFnZV9sb2dpbigpLnNldFJvbGUsIHtcclxuICAgICAgICBnbG9iYWw6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIHRleHRTdGF0dXMvKiwgZXJyb3IqLykge1xyXG4gICAgICAgICAgaWYgKGNvbnNvbGUpIGNvbnNvbGUuZXJyb3IodGV4dFN0YXR1cyk7XHJcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5Y+R55Sf6ZSZ6K+vOiAnICsgdGV4dFN0YXR1cykudGhlbihpbml0TG9naW5fbG9naW5GYWlsZWQpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdExvZ2luX2luaXRRdWlyQnRuKCkge1xyXG4gIHRyeSB7XHJcbiAgICBpbml0UGFnZSgpO1xyXG4gIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XHJcbiAgICB2YXIgcXVpdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWl0QnRuJyk7XHJcbiAgICBxdWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBidG4gPSB0aGlzO1xyXG4gICAgICBVSWtpdC5tb2RhbC5jb25maXJtKCfnoa7lrprpgIDlh7rns7vnu58/JykudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBxdWl0KGJ0bik7XHJcbiAgICAgICAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGZ1bmN0aW9uIHF1aXQoYnRuKSB7XHJcbiAgICAgICAgaW5pdExvZ2luX2NvdmVyUGFnZSgpO1xyXG4gICAgICAgIHZhciB1cmwgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLXVybCcpO1xyXG4gICAgICAgIHZhciB1c2VyVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyVHlwZScpLnZhbHVlO1xyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgdXNlclR5cGU6IHVzZXJUeXBlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmZXRjaERhdGEodXJsLCBkYXRhLCBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciByZWRpcmVjdCA9IHJlcy5kYXRhLnJlZGlyZWN0O1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0O1xyXG4gICAgICAgICAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9naW5fY292ZXJQYWdlKCkge1xyXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBkaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1wb3NpdGlvbi1jb3ZlciB1ay1iYWNrZ3JvdW5kLW11dGVkIHVrLW92ZXJsYXkgdWstb3ZlcmxheS1kZWZhdWx0IHVrLWZsZXggdWstZmxleC1jZW50ZXIgdWstZmxleC1taWRkbGUnKTtcclxuICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICBpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtY2lyY2xlLW8tbm90Y2ggZmEtc3BpbiBmYS0zeCBmYS1mdycpO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChpKTtcclxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICBzcGFuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnc3Itb25seScpO1xyXG4gIHNwYW4uaW5uZXJUZXh0ID0gJ0xvYWRpbmcuLi4nO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChzcGFuKTtcclxuICB2YXIgc3BhbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgc3BhbjIuaW5uZXJUZXh0ID0gJ+ato+WcqOi3s+i9rCc7XHJcbiAgZGl2LmFwcGVuZENoaWxkKHNwYW4yKTtcclxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7XHJcbiAgcmV0dXJuIGRpdjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdExvZ2luX2xvZ2luRmFpbGVkKCkge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgcGFnZUZvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9cGFnZWZvcl0nKS52YWx1ZTtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcGFnZUZvciA9PT0gJ3N5c3RlbSc/XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXJsX2RvdmVtZ3JdJykudmFsdWU6XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXJsX2RvdmVwYXldJykudmFsdWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2h0dHBzOi8vd3d3LmRvdmVwYXkuY29tJztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQYWdlX2xvZ2luKCkge31cclxuUGFnZV9sb2dpbi5wcm90b3R5cGUuc2V0Um9sZSA9IGZ1bmN0aW9uKHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgdmFyIGFjY291bnRJZCA9IGRhdGEuYWNjb3VudElkO1xyXG4gICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XHJcbiAgICB2YXIgaW5wX2FjY291bnRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YWNjb3VudElkXScpO1xyXG4gICAgdmFyIHNlbF90eXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9dXNlclR5cGVdJyk7XHJcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX2xvZ2luJyk7XHJcbiAgICBpbnBfYWNjb3VudElkLnZhbHVlID0gYWNjb3VudElkO1xyXG4gICAgc2VsX3R5cGUudmFsdWUgPSB0eXBlO1xyXG4gICAgaWYgKCEhaW5wX2FjY291bnRJZC52YWx1ZSAmJiAhIXNlbF90eXBlLnZhbHVlKSB7XHJcbiAgICAgIGZvcm0uc3VibWl0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5Y+C5pWw6ZSZ6K+vOiBhY2NvdW50SWQ9JyArIGFjY291bnRJZCArICcsIHR5cGU9JyArIHR5cGUpLnRoZW4oaW5pdExvZ2luX2xvZ2luRmFpbGVkKTtcclxuICAgIH1cclxuICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICBVSWtpdC5tb2RhbC5hbGVydCgn5Y+R55Sf6ZSZ6K+vOiAnICsgZXJyb3IpLnRoZW4oaW5pdExvZ2luX2xvZ2luRmFpbGVkKTtcclxuICB9XHJcbiAgICBcclxufSIsImZ1bmN0aW9uIE1lc3NhZ2UoIG1lcywgYXJncykgeyAvLyAoJ015IE1lc3NhZ2UgaXMgLi4uJywge3N0eWxlOiAncHJpbWFyeSd9KVxuICB0aGlzLm1lcyA9IG1lcztcbiAgdGhpcy5zdHlsZSA9IG51bGw7ICAvLyBwcmltYXJ5LCBzdWNjZXNzLCB3YXJuaW5nLCBkYW5nZXJcbiAgdGhpcy5jbG9zYiA9ICcnO1xuICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgaWYgKCBhcmdzICkge1xuICAgIHRoaXMuc3R5bGUgPSBhcmdzLnN0eWxlO1xuICAgIHRoaXMuY2xvc2IgPSBhcmdzLmNsb3NlO1xuICB9XG59XG5NZXNzYWdlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhlYWR0eHQgPSAnJyxcbiAgICAgIG1haW50eHQgPSAnJyxcbiAgICAgIG1lcyA9IHRoaXMubWVzLFxuICAgICAgc3R5bGUgPSB0aGlzLnN0eWxlLFxuICAgICAgY2xvc2IgPSB0aGlzLmNsb3NiID8gdGhpcy5jbG9zYiA6IGZhbHNlLFxuICAgICAgY29udCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyksXG4gICAgICBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgY2xvcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgaWYgKCB0eXBlb2YgbWVzID09ICdzdHJpbmcnICkge1xuICAgIG1haW50eHQgPSBtZXM7XG4gICAgaWYgKHN0eWxlID09ICdwcmltYXJ5Jykge1xuICAgICAgaGVhZHR4dCA9ICfmj5DnpLonO1xuICAgIH1cbiAgICBpZiAoc3R5bGUgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICBoZWFkdHh0ID0gJ+aIkOWKnyc7XG4gICAgfVxuICAgIGlmIChzdHlsZSA9PSAnd2FybmluZycpIHtcbiAgICAgIGhlYWR0eHQgPSAn5rOo5oSPJztcbiAgICB9XG4gICAgaWYgKHN0eWxlID09ICdkYW5nZXInKSB7XG4gICAgICBoZWFkdHh0ID0gJ+itpuWRiic7XG4gICAgfVxuICB9XG4gIGlmICggdHlwZW9mIG1lcyA9PSAnb2JqZWN0Jykge1xuICAgIG1haW50eHQgPSBtZXMudGV4dDtcbiAgICBoZWFkdHh0ID0gbWVzLnRpdGxlO1xuICAgIGhlYWQuaW5uZXJIVE1MID0gaGVhZHR4dDtcbiAgfVxuICBjb250LnNldEF0dHJpYnV0ZSgndWstYWxlcnQnLCAnJyk7XG4gIGNsb3Muc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1hbGVydC1jbG9zZScpO1xuICBjbG9zLnNldEF0dHJpYnV0ZSgndWstY2xvc2UnLCAnJyk7XG4gIGlmICggc3R5bGUgKSB7XG4gICAgY29udC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWFsZXJ0LScgKyBzdHlsZSk7XG4gIH1cbiAgaGVhZC5pbm5lckhUTUwgPSBoZWFkdHh0O1xuICBtYWluLmlubmVySFRNTCA9IG1haW50eHQ7XG4gIGlmICggIWNsb3NiICkge1xuICAgIGNvbnQuYXBwZW5kQ2hpbGQoY2xvcyk7XG4gIH1cbiAgY29udC5hcHBlbmRDaGlsZChoZWFkKTtcbiAgY29udC5hcHBlbmRDaGlsZChtYWluKTtcbiAgdGhpcy5tZXNzYWdlID0gY29udDtcbiAgcmV0dXJuIGNvbnQ7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGZuX2dldE1lcyAoIG1lcywgYXJncykge1xuICB2YXIgbSA9IG5ldyBNZXNzYWdlKCBtZXMsIGFyZ3MpLFxuICAgICAgbWVzc2FnZSA9IG0uY3JlYXRlKCk7XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZuX3JlbU1lcyggbm9kZSApIHtcbiAgaWYgKCAhbm9kZSApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhciA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAoIHBhciApXG4gICAgICBwYXIucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cbi8vIGZuX2dldE1lcyh7dGl0bGU6ICfkv6Hmga/moIfpopgnLCB0ZXh0OiAn5L+h5oGv5Li75L2TJ30sIHtzdHlsZTogJ3ByaW1hcnknLCBjbG9zZTogZmFsc2V9Kik7XG4vLyBmbl9nZXRNZXMoJ+S/oeaBr+S4u+S9kycsIHtzdHlsZTogJ3ByaW1hcnknfSk7XG5cbi8vIFRFU1Q6XG4vLyB2YXIgbWVzMSA9IGZuX2dldE1lcyh7dGl0bGU6ICfkv6Hmga/moIfpopgnLCB0ZXh0OiAn5L+h5oGv5Li75L2TJ30sIHtzdHlsZTogJ3ByaW1hcnknLCBjbG9zZTogdHJ1ZX0pLFxuLy8gICAgIG1lczIgPSBmbl9nZXRNZXMoJ+S/oeaBr+S4u+S9kycsIHtzdHlsZTogJ3ByaW1hcnknfSksXG4vLyAgICAgbWVzMyA9IGZuX2dldE1lcygn5L+h5oGv5Li75L2TJywge3N0eWxlOiAnc3VjY2Vzcyd9KSxcbi8vICAgICBtZXM0ID0gZm5fZ2V0TWVzKCfkv6Hmga/kuLvkvZMnLCB7c3R5bGU6ICd3YXJuaW5nJ30pLFxuLy8gICAgIG1lczUgPSBmbl9nZXRNZXMoJ+S/oeaBr+S4u+S9kycsIHtzdHlsZTogJ2Rhbmdlcid9KTtcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5jb250ZW50JykuYXBwZW5kQ2hpbGQobWVzMSk7XG4vLyAgIC8vIGZuX3JlbW92ZShtZXMxKTtcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5jb250ZW50JykuYXBwZW5kQ2hpbGQobWVzMik7XG4vLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpLmFwcGVuZENoaWxkKG1lczMpO1xuLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbmNvbnRlbnQnKS5hcHBlbmRDaGlsZChtZXM0KTtcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5jb250ZW50JykuYXBwZW5kQ2hpbGQobWVzNSk7IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hGbiwgY2FsbGJhY2ssIHBvc3REYXRhSGFuZGxlcikge1xuICBHbG9iX2ZuLlRhYmxlLmhpZGVVbnZhbHVlZCgpO1xuICBHbG9iX2ZuLlRhYmxlLnNob3dUYWJsZSgpO1xuICBHbG9iX2ZuLlRhYmxlLmNoZWNrU2l6ZSgpO1xuICBHbG9iX2ZuLlRhYmxlLnRib2R5SGlkZVNvbWUoKTtcbiAgaWYgKHJlcy5kYXRhLnRvdGFsUGFnZSA+IDEpIHtcbiAgICB2YXIgcCA9IG5ldyBQYWdpbmF0ZSgpO1xuICAgIHAuc2hvd1BhZ25pdGlvbihyZXMuZGF0YS50b3RhbFBhZ2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaEZuLCBjYWxsYmFjaywgcG9zdERhdGFIYW5kbGVyKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgd3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsW2RhdGEtZm9yPWRhdGFUYWJsZV0nKTtcbiAgICBpZiAod3JhcClcbiAgICAgIHdyYXAuaW5uZXJIVE1MID0gJyc7XG4gIH1cbn1cbmZ1bmN0aW9uIFBhZ2luYXRlKCkge31cblBhZ2luYXRlLnByb3RvdHlwZS5zaG93UGFnbml0aW9uID0gZnVuY3Rpb24gKHRvdGFsUGFnZSwgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoRm4sIGNhbGxiYWNrLCBwb3N0RGF0YUhhbmRsZXIpe1xuICB0b3RhbFBhZ2UgPSBOdW1iZXIodG90YWxQYWdlKTtcbiAgcGFnZU51bWJlciA9IE51bWJlcihwYWdlTnVtYmVyKTtcbiAgcGFnZVNpemUgPSBOdW1iZXIocGFnZVNpemUpO1xuICB2YXIgd3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsW2RhdGEtZm9yPWRhdGFUYWJsZV0nKTtcbiAgd3JhcC5pbm5lckhUTUwgPSAnJztcbiAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvclRhYmxlXScpLnZhbHVlO1xuICBpZiAoIHBhZ2VOdW1iZXIgPiAxICkge1xuICAgIHZhciBsaW5rX3ByZSA9IFBhZ2luYXRlLmdldFBhZ2lfbGlQcmUod3JhcCk7XG4gICAgbGlua19wcmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkYXRhID0gZ2V0UG9zdERhdGEocGFnZU51bWJlciAtIDEsIHBvc3REYXRhSGFuZGxlcik7XG4gICAgICBmZXRjaEZuLmNhbGwodGhpcywgdXJsLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFBhZ2U7IGkrKykge1xuICAgIGxldCBsaVxuICAgIGlmICggaSA9PSBwYWdlTnVtYmVyIC0gMSkge1xuICAgICAgbGkgPSBQYWdpbmF0ZS5nZXRQYWdpX2xpQWN0aXZlKHBhZ2VOdW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb2JqID0gUGFnaW5hdGUuZ2V0UGFnaV9saU5vcm1hbChpKzEpO1xuICAgICAgdmFyIGxpbmsgPSBvYmoubGluaztcbiAgICAgIGxpID0gb2JqLmxpO1xuICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBkYXRhID0gZ2V0UG9zdERhdGEodGhpcy5pbm5lclRleHQsIHBvc3REYXRhSGFuZGxlcik7XG4gICAgICAgIGZldGNoRm4uY2FsbCh0aGlzLCB1cmwsIGRhdGEsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB3cmFwLmFwcGVuZENoaWxkKGxpKTtcbiAgfVxuICBpZiAoIHBhZ2VOdW1iZXIgPCB0b3RhbFBhZ2UgKSB7XG4gICAgdmFyIGxpbmtfbmV4ID0gUGFnaW5hdGUuZ2V0UGFnaV9saU5leHQod3JhcCk7XG4gICAgbGlua19uZXguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkYXRhID0gZ2V0UG9zdERhdGEocGFnZU51bWJlciArIDEsIHBvc3REYXRhSGFuZGxlcik7XG4gICAgICBmZXRjaEZuLmNhbGwodGhpcywgdXJsLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICBQYWdpbmF0ZS5nZXRQYWdpX2hpZGVQYWdlKDEwLCB3cmFwLCBwYWdlTnVtYmVyLCB0b3RhbFBhZ2UpO1xuICBcbiAgZnVuY3Rpb24gZ2V0UG9zdERhdGEocGFnZU51bWJlciwgcG9zdERhdGFIYW5kbGVyKSB7XG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpO1xuICAgIGRhdGEgPSAkKGZvcm0pLnNlcmlhbGl6ZU9iamVjdCgpO1xuICAgIGlmICh0eXBlb2YgcG9zdERhdGFIYW5kbGVyID09PSAnZnVuY3Rpb24nKSBwb3N0RGF0YUhhbmRsZXIuY2FsbCh0aGlzLCBkYXRhKTtcbiAgICBkYXRhLnBhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyO1xuICAgIGRhdGEuaW5kZXhQYWdlID0gcGFnZU51bWJlcjtcbiAgICBkYXRhLnBhZ2VTaXplID0gcGFnZVNpemU7XG4gICAgZGF0YS5jb3VudFBhZ2UgPSBwYWdlU2l6ZTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufVxuUGFnaW5hdGUuZ2V0UGFnaV9saVByZSA9IGZ1bmN0aW9uKHBhcmVudFVsKSB7XG4gIHZhciBsaV9wcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBsaV9wcmUuc2V0QXR0cmlidXRlKCdjbGFzcycsJ2Z1bmN0aW9uJyk7XG4gIHBhcmVudFVsLmFwcGVuZENoaWxkKGxpX3ByZSk7XG4gIHZhciBsaW5rX3ByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbGlfcHJlLmFwcGVuZENoaWxkKGxpbmtfcHJlKTtcbiAgdmFyIHNwYW5fcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBzcGFuX3ByZS5zZXRBdHRyaWJ1dGUoJ3VrLXBhZ2luYXRpb24tcHJldmlvdXMnLCAnJyk7XG4gIGxpbmtfcHJlLmFwcGVuZENoaWxkKHNwYW5fcHJlKTtcbiAgcmV0dXJuIGxpbmtfcHJlO1xufVxuUGFnaW5hdGUuZ2V0UGFnaV9saU5leHQgPSBmdW5jdGlvbihwYXJlbnRVbCkge1xuICB2YXIgbGlfbmV4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgbGlfbmV4LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdmdW5jdGlvbicpO1xuICBwYXJlbnRVbC5hcHBlbmRDaGlsZChsaV9uZXgpO1xuICB2YXIgbGlua19uZXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGxpX25leC5hcHBlbmRDaGlsZChsaW5rX25leCk7XG4gIHZhciBzcGFuX25leCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbl9uZXguc2V0QXR0cmlidXRlKCd1ay1wYWdpbmF0aW9uLW5leHQnLCAnJyk7XG4gIGxpbmtfbmV4LmFwcGVuZENoaWxkKHNwYW5fbmV4KTtcbiAgcmV0dXJuIGxpbmtfbmV4O1xufVxuUGFnaW5hdGUuZ2V0UGFnaV9saUFjdGl2ZSA9IGZ1bmN0aW9uKGlubmVyVGV4dCkge1xuICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbi5pbm5lclRleHQgPSBpbm5lclRleHQ7XG4gIGxpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstYWN0aXZlJyk7XG4gIGxpLmFwcGVuZENoaWxkKHNwYW4pO1xuICByZXR1cm4gbGk7XG59XG5QYWdpbmF0ZS5nZXRQYWdpX2xpTm9ybWFsID0gZnVuY3Rpb24oaW5uZXJUZXh0KSB7XG4gIHZhciBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBsaW5rLmlubmVyVGV4dCA9IGlubmVyVGV4dDtcbiAgbGkuYXBwZW5kQ2hpbGQobGluayk7XG4gIHJldHVybiB7XG4gICAgbGk6IGxpLFxuICAgIGxpbms6IGxpbmtcbiAgfVxufVxuUGFnaW5hdGUuZ2V0UGFnaV9oaWRlUGFnZSA9IGZ1bmN0aW9uKHNob3dOdW1iZXIsIHBhcmVudE5vZGUsIHBhZ2VOdW1iZXIsIHRvdGFsUGFnZSkge1xuICB2YXIgc2hvd1BhZ2VzID0gc2hvd051bWJlcjtcbiAgdmFyIGxpQXJyID0gcGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdsaTpub3QoLmZ1bmN0aW9uKScpO1xuICBsZXQgbGlcbiAgaWYgKE51bWJlcihwYWdlTnVtYmVyKSA+IHNob3dQYWdlcysyICkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgTnVtYmVyKHBhZ2VOdW1iZXIpLXNob3dQYWdlcy0xOyBpKyspIHtcbiAgICAgIGxpQXJyW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIGxpID0gdGhpcy5nZXRQYWdpX2xpQWN0aXZlKCcuLi4nKTtcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShsaSwgbGlBcnJbMV0pO1xuICB9XG4gIGlmICh0b3RhbFBhZ2UtcGFnZU51bWJlciA+IHNob3dQYWdlcysxKSB7XG4gICAgZm9yIChsZXQgaSA9IE51bWJlcihwYWdlTnVtYmVyKStzaG93UGFnZXM7IGkgPCB0b3RhbFBhZ2UtMTsgaSsrKSB7XG4gICAgICBsaUFycltpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICBsaSA9IHRoaXMuZ2V0UGFnaV9saUFjdGl2ZSgnLi4uJyk7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGksIGxpQXJyW3RvdGFsUGFnZS0xXSk7XG4gIH1cbn0iLCJpbXBvcnQgR2xvYl9mbiBmcm9tICcuL0dsb2JhbCdcblxuZnVuY3Rpb24gUXVlcnlEaWN0KCl7XG4gIHRoaXMuYXBpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaWN0X2FwaV0nKS52YWx1ZTtcbn1cblF1ZXJ5RGljdC5wcm90b3R5cGUucXVlcnkgPSBmdW5jdGlvbiAobmFtZSwgY2IpIHtcbiAgLy8gY29uc29sZS5sb2codGhpcy5hcGksIEpTT04uc3RyaW5naWZ5KHt0eXBlOiBuYW1lfSkpXG4gICQuYWpheCh7XG4gICAgdXJsOiB0aGlzLmFwaSxcbiAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7dHlwZTogbmFtZX0pLFxuICAgIHN1Y2Nlc3M6IGNiXG4gIH0pO1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZuX3F1ZXJ5RGljdChuYW1lLCBjYikge1xuICB2YXIgcWQgPSBuZXcgUXVlcnlEaWN0KCk7XG4gIHRyeSB7XG4gICAgcWQucXVlcnkobmFtZSwgY2IpO1xuICB9IGNhdGNoKGVycikge1xuICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycik7XG4gIH1cbn0iLCJpbXBvcnQgR2xvYl9mbiBmcm9tICcuL0dsb2JhbCdcbmltcG9ydCBmbl9xdWVyeURpY3QgZnJvbSAnLi9RdWVyeURpY3QnXG5pbXBvcnQgeyBMaXN0Ym94LCBpbml0TGlzdEJveCB9IGZyb20gJy4vTGlzdGJveCdcbmltcG9ydCBGb3JtVmFsaWRhdGUgZnJvbSAnLi9Gb3JtVmFsaWRhdGUnXG5pbXBvcnQgZm5faW5pdFBhZ2luYXRlIGZyb20gJy4vUGFnaW5hdGUnXG5pbXBvcnQge1xuICBjaGVja1JlcyxcbiAgZmV0Y2hEYXRhLFxuICBmbl9pbml0U3VibWl0QnRuLFxuICBmbl9pbml0RXhwb3J0QnRuLFxuICBmZXRjaF9leHBvcnRFeGNlbCxcbiAgZmV0Y2hfc3RhX3N0YXRpb25CaWxsUHVzaCxcbiAgZmV0Y2hfc3RhX2dldFN0YXRpb25BbGxDb25zdW1lcixcbiAgZmV0Y2hfc3RhX2FkZERpc2NvdW50Q3VzdG9tZXIsXG4gIGZldGNoX3N0YV9nZXRBbGxEaXNjb3VudFBvbGljeSxcbiAgZmV0Y2hfYWdlX3RvUGF5LFxuICBmZXRjaF9zdGFfcXVlcnlEaXNjb3VudFBvbGljeSxcbiAgZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRDdXN0b21lcixcbiAgZmV0Y2hfc3RhX2NoYW5nZUN1c3RvbWVyRGlzY291bnRTdGF0dXMsXG4gIGZldGNoX3N0YV9jaGFuZ2VEaXNjb3VudFN0YXR1cyxcbiAgZmV0Y2hfc3RhX3VwZGF0ZUZlZVxufSBmcm9tICcuL0FqYXhNYW5hZ2VyJ1xuXG52YXIgcm9sZSA9IGdldFJvbGUoKTtcblxuZnVuY3Rpb24gZ2V0Um9sZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJUeXBlJykudmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdGF0aW9uX2Jhc2VEYXRhKCkge1xuICAvLyB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpO1xuICBHbG9iX2ZuLldkYXRlSW5pdCgnc3RhcnRUaW1lJywgJ2VuZFRpbWUnLCB7XG4gICAgZGF0ZUZtdDogJ3l5eXnlubRNTeaciCcsXG4gICAgLy8gbWluRGF0ZTogJ3sleS0xfS17JU0rOX0tJWQnLFxuICAgIG1heERhdGU6ICd0b2RheScsXG4gIH0pO1xuICBlbnRyeSgpOyAvLyDlvILmraXlh73mlbDosIPnlKjlhaXlj6NcbiAgZnVuY3Rpb24gZW50cnkoKSB7XG4gICAgZmV0Y2hFeHBJbXAoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRGljdEVyckhhbmRsZXIocmVzKSB7XG4gICAgaWYgKHJlcy5kYXRhID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiDlrZflhbjmjqXlj6Pov5Tlm57lgLzmnKrlrprkuYknKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzLmRhdGEpKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog5a2X5YW45o6l5Y+j6L+U5Zue5YC85qC85byP6ZSZ6K+vJyk7XG4gICAgaWYgKHJlcy5kYXRhLmxlbmd0aCA8IDEpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiDlrZflhbjmjqXlj6Pov5Tlm57lgLzkuLrnqbrlgLwnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldE9wdGlvbnMoYXJyLCBzZWxOYW1lKSB7XG4gICAgdmFyIHNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPScgKyBzZWxOYW1lICsgJ10nKTtcbiAgICBpZiAoIXNlbCkgcmV0dXJuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBhcnJbaV0ua2V5KTtcbiAgICAgIG9wLmlubmVyVGV4dCA9IGFycltpXS52YWx1ZTtcbiAgICAgIHNlbC5hcHBlbmRDaGlsZChvcCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hFeHBJbXAoKSB7XG4gICAgZm5fcXVlcnlEaWN0KCdFWFBfSU1QJywgZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZldGNoRGljdEVyckhhbmRsZXIocmVzKTtcbiAgICAgICAgc2V0T3B0aW9ucyhyZXMuZGF0YSwgJ2V4cEltcCcpO1xuICAgICAgICBmZXRjaERvbUludCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaERvbUludCgpIHtcbiAgICBmbl9xdWVyeURpY3QoJ0RPTV9JTlQnLCBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmV0Y2hEaWN0RXJySGFuZGxlcihyZXMpO1xuICAgICAgICBzZXRPcHRpb25zKHJlcy5kYXRhLCAnZG9tSW50Jyk7XG4gICAgICAgIGZldGNoUGF5TW9kZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFBheU1vZGUoKSB7XG4gICAgZm5fcXVlcnlEaWN0KCdQQVlfTU9ERScsIGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBmZXRjaERpY3RFcnJIYW5kbGVyKHJlcyk7XG4gICAgICAgIHNldE9wdGlvbnMocmVzLmRhdGEsICdwYXlNb2RlJyk7XG4gICAgICAgIGlmIChyb2xlID09PSAnc3lzdGVtJykge1xuICAgICAgICAgIGluaXRQYWdlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZldGNoRWZmZWN0aXZlQmlsbFJ1bGVzKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRWZmZWN0aXZlQmlsbFJ1bGVzKCkge1xuICAgIHZhciBhcGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUVmZmVjdGl2ZUJpbGxSdWxlJyk7XG4gICAgdmFyIHVybCA9IGFwaS52YWx1ZTtcbiAgICBmZXRjaERhdGEodXJsLCAnJywgY3JlYXRlRWZmZWN0aXZlQmlsbFJ1bGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVmZmVjdGl2ZUJpbGxSdWxlcyhyZXMpIHtcbiAgICB2YXIgZGF0YSA9IHJlcy5kYXRhIHx8IHJlcy5kYXRlO1xuICAgIHRyeSB7XG4gICAgICBpZiAoZGF0YSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNruagvOW8j+mdnuazlTog5rKh5pyJZGF0YeWxnuaApycpO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNruagvOW8j+mdnuazlTogZGF0YeWxnuaAp+S4jeaYr+aVsOe7hCcpO1xuICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKCfmsqHmnInlt7LnlJ/mlYjnmoTotKbljZXop4TliJko5q2k5Yqf6IO95Y+v6YCJKScpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyLCBpbml0UGFnZSk7IC8vIOaYvuekuuW8guW4uFxuICAgICAgaW5pdFBhZ2UoKTsgLy8g5LiN5aSE55CG5byC5bi4XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY3JlYXRlQmlsbFJ1bGVCdXR0b25zKGRhdGFbaV0pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmVuZGVyRWZmZWN0aXZlQmlsbFJ1bGVzKCk7XG4gICAgICBpbml0UGFnZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmlsbFJ1bGVCdXR0b25zKGRhdGEpIHtcbiAgICAgIHZhciBydWxlID0gZGF0YS5iaWxsUnVsZSA/IGRhdGEuYmlsbFJ1bGUgOiAnTlVMTCc7XG4gICAgICB2YXIgZGVzYyA9IGRhdGEuYmlsbFJ1bGVEZXNjID8gZGF0YS5iaWxsUnVsZURlc2MgOiAnTlVMTCc7XG4gICAgICB2YXIgaWQgPSBkYXRhLmJpbGxSdWxlSWQgPyBkYXRhLmJpbGxSdWxlSWQgOiAnTlVMTCc7XG4gICAgICB2YXIgbmFtZSA9IGRhdGEuYmlsbFJ1bGVOYW1lID8gZGF0YS5iaWxsUnVsZU5hbWUgOiAnTlVMTCc7XG4gICAgICB2YXIgcG9zaXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncnVsZVNldHNXcmFwJyk7XG4gICAgICB2YXIgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcG9zaXRpb24uYXBwZW5kQ2hpbGQod3JhcCk7XG4gICAgICB3cmFwLmFwcGVuZENoaWxkKGdldExhYmVsKCkpO1xuICAgICAgd3JhcC5hcHBlbmRDaGlsZChnZXREcm9wKCkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRMYWJlbCgpIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd2b2lkIGJ1dHRvbicpO1xuICAgICAgICBsYWJlbC5pbm5lclRleHQgPSBuYW1lO1xuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdyYWRpbycpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnYmlsbFJ1bGUnKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBydWxlKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXREcm9wKCkge1xuICAgICAgICB2YXIgZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkcm9wLnNldEF0dHJpYnV0ZSgndWstZHJvcCcsICdkZWxheS1oaWRlOjAnKTtcbiAgICAgICAgdmFyIGNhcmRGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkcm9wLmFwcGVuZENoaWxkKGNhcmRGcmFtZSk7XG4gICAgICAgIGNhcmRGcmFtZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWNhcmQgdWstY2FyZC1zbWFsbCB1ay1jYXJkLWRlZmF1bHQnKTtcbiAgICAgICAgY2FyZEZyYW1lLmFwcGVuZENoaWxkKGdldENhcmRIZWFkZXIoKSk7XG4gICAgICAgIGNhcmRGcmFtZS5hcHBlbmRDaGlsZChnZXRDYXJkQm9keSgpKTtcbiAgICAgICAgcmV0dXJuIGRyb3A7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2FyZEhlYWRlcigpIHtcbiAgICAgICAgICB2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstY2FyZC1oZWFkZXInKTtcbiAgICAgICAgICB2YXIgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICB0aXRsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWNhcmQtdGl0bGUnKTtcbiAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgIHZhciBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDUnKTtcbiAgICAgICAgICB0aXRsZS5hcHBlbmRDaGlsZChoKTtcbiAgICAgICAgICBoLmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgICAgcmV0dXJuIGhlYWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENhcmRCb2R5KCkge1xuICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1jYXJkLWJvZHkgdWstY29udGFpbmVyIHVrLWNvbnRhaW5lci14c21hbGwnKTtcbiAgICAgICAgICBpZiAoZGVzYyA9PT0gJ05VTEwnKSB7XG4gICAgICAgICAgICBkaXYuaW5uZXJUZXh0ID0gJ+aXoOaVsOaNric7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGlmIChkZXNjLmluZGV4T2YoJywnKSAhPT0gLTEpIGFycmF5ID0gZGVzYy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVzYy5pbmRleE9mKCfvvIwnKSAhPT0gLTEpIGFycmF5ID0gZGVzYy5zcGxpdCgn77yMJyk7XG4gICAgICAgICAgICBpZiAoYXJyYXkubGVuZ3RoIDwgMSkgZGl2LmlubmVyVGV4dCgn5peg5pWw5o2uJyk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbGFiZWwgdWstbWFyZ2luLXNtYWxsLWJvdHRvbSB1ay1tYXJnaW4tc21hbGwtcmlnaHQnKTtcbiAgICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSAkLnRyaW0oYXJyYXlbal0pO1xuICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGRpdi5pbm5lclRleHQgPSBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbmRlckVmZmVjdGl2ZUJpbGxSdWxlcygpIHtcbiAgICB2YXIgcnVsZVNldHNXcmFwRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1bGVTZXRzV3JhcCcpO1xuICAgIHZhciBydWxlUmFkaW9zID0gcnVsZVNldHNXcmFwRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9cmFkaW9dJyk7XG4gICAgdmFyIHJ1bGVMYWJlbHMgPSBydWxlU2V0c1dyYXBEaXYucXVlcnlTZWxlY3RvckFsbCgnbGFiZWwnKTtcbiAgICAvLyBCaW5kIHJhZGlvczpcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJ1bGVSYWRpb3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYWRpbyA9IHJ1bGVSYWRpb3NbaV07XG4gICAgICB2YXIgZnVuYyA9IEdsb2JfZm4uY2hlY2tib3hBbmRSYWRpbztcbiAgICAgIGZ1bmMuaW5pdEFjdGl2ZUxhYmVsKHJhZGlvKTtcbiAgICAgIHJhZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmMuc2V0QmluZGluZ0xhYmVscyhydWxlUmFkaW9zKSk7XG4gICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyDpmLvmraLkuovku7bkuIrljYfliLBsYWJlbFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEJpbmQgbGFiZWxzOiBcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJ1bGVMYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsYWJlbCA9IHJ1bGVMYWJlbHNbaV07XG4gICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyDmirXmtohkcm9w5o6n5Lu25Ymv5L2c55SoXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gQmluZCByZXNldCBidXR0b246XG4gICAgdmFyIHJlc2V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1yZXNldF0nKTtcbiAgICB2YXIgZGVmYXVsdFJhZGlvID0gcnVsZVJhZGlvc1swXTtcbiAgICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgZGVmYXVsdFJhZGlvLmNsaWNrKCk7IC8vIOmHjee9ruS4uuWFqOmDqFxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XG4gICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxNSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlPcmlnaW5hbFdheWJpbGwsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIGlmIChkYXRhLmJpbGxSdWxlID09PSAnJylcbiAgICAgICAgZGF0YS5iaWxsUnVsZSA9IG51bGw7XG4gICAgfSwge1xuICAgICAgdGltZW91dDogMjAwMDAsXG4gICAgfSk7XG4gICAgZm5faW5pdEV4cG9ydEJ0bihmZXRjaF9leHBvcnRFeGNlbCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMoKSB7XG4gIC8vIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFGb3JtJyk7XG4gIEdsb2JfZm4uV2RhdGVJbml0KCdzdGFydFRpbWUnLCAnZW5kVGltZScsIHtcbiAgICBkYXRlRm10OiAneXl5eeW5tE1N5pyIJyxcbiAgICAvLyBtaW5EYXRlOiAneyV5LTN9LSVNLSVkJyxcbiAgICBtYXhEYXRlOiAndG9kYXknLFxuICAgIHJlYWxEYXRlRm10OiAneXl5eU1NJyxcbiAgfSk7XG4gIGZuX2luaXRTdWJtaXRCdG4oMSwgMTUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5U3VtQmlsbEJ5UnVsZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF9uZXcoKSB7XG4gIGlmIChyb2xlID09PSAnYWdlbnQnKSB7XG4gICAgaW5pdFBhZ2UoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0TmV3UGFnZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XG4gICAgR2xvYl9mbi5XZGF0ZUluaXQoJ3N0YXJ0VGltZScsICdlbmRUaW1lJywge1xuICAgICAgZGF0ZUZtdDogJ3l5eXnlubRNTeaciCcsXG4gICAgICBtaW5EYXRlOiAneyV5LTN9LSVNLSVkJyxcbiAgICAgIG1heERhdGU6ICd0b2RheScsXG4gICAgICByZWFsRGF0ZUZtdDogJ3l5eXlNTScsXG4gICAgfSk7XG4gICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxNSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlCaWxsX25ldyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0TmV3UGFnZSgpIHtcbiAgICBHbG9iX2ZuLnNldFBvc3RMaW5rKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0RGF0YUxpbmsnKSwgR2xvYl9mbi5nZXRPcmRlclRpbWUoKSk7XG4gICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxNSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlCaWxsX25ldyk7XG4gICAgZm5faW5pdEV4cG9ydEJ0bihmZXRjaF9leHBvcnRFeGNlbCk7XG4gICAgaWYgKHJvbGUgPT09ICdzeXN0ZW0nKSByZXR1cm47XG4gICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykgc2V0TXVsdGlQdXNoQnV0dG9uKCk7XG5cbiAgICBmdW5jdGlvbiBzZXRNdWx0aVB1c2hCdXR0b24oKSB7XG4gICAgICB2YXIgbXVsdGlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXVsdGlCdG4nKTtcbiAgICAgIG11bHRpQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3N0YXRpb25CaWxsUHVzaF0nKS52YWx1ZTtcbiAgICAgICAgdmFyIGNoYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYl9jaGlsZCcpO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLmFkZENoZWNrZWRUb0xpc3QoY2hiLCBsaXN0KTtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn6K+36YCJ5oup6Iez5bCR5LiA6aG5Jyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3N0RGF0YSA9IHsgb3JkZXJOb0xpc3Q6IGxpc3QgfTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XG4gICAgICAgIGZldGNoX3N0YV9zdGF0aW9uQmlsbFB1c2godXJsLCBwb3N0RGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXcoKSB7XG4gIGlmIChyb2xlID09PSAnYWdlbnQnKSB7XG4gICAgaW5pdFRoaXNQYWdlKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZuX3F1ZXJ5RGljdCgnT1BFREVQQVJUJywgZnVuY3Rpb24ocmVzKSB7XG4gICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgR2xvYl9mbi5zZXRPcGVkZXBhcnRJZChyZXMpO1xuICAgIGluaXRUaGlzUGFnZSgpO1xuICB9KTtcblxuICBmdW5jdGlvbiBpbml0VGhpc1BhZ2UoKSB7XG4gICAgaWYgKHJvbGUgIT09ICdhZ2VudCcpIEdsb2JfZm4uc2V0UG9zdExpbmsoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvc3REYXRhTGluaycpLCBHbG9iX2ZuLmdldE9yZGVyVGltZSgpKTtcbiAgICAvLyBiaW5kIHN1Ym1pdCBidXR0b246XG4gICAgZm5faW5pdFN1Ym1pdEJ0bigxLCA1LCBmZXRjaERhdGEsIG5ldyBTdGFfdGFibGUoKS5nZXRUYWJsZV9xdWVyeURldGFpbHNfbmV3KTtcbiAgICAvLyBiaW5kIGV4cG9ydCBidXR0b246XG4gICAgZm5faW5pdEV4cG9ydEJ0bihmZXRjaF9leHBvcnRFeGNlbCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9nZXRTdGF0aW9uQWxsQ29uc3VtZXIoKSB7XG4gIC8vIGJpbmQgc3VibWl0IGJ1dHRvbjpcbiAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxMCwgZmV0Y2hfc3RhX2dldFN0YXRpb25BbGxDb25zdW1lcik7XG4gIC8vIGJpbmQgZXhwb3J0IGJ1dHRvbjpcbiAgZm5faW5pdEV4cG9ydEJ0bihmZXRjaF9leHBvcnRFeGNlbCk7XG5cbiAgLy8g5Yid5aeL5YyWTGlzdGJveO+8mlxuICB2YXIgc2hvd0xpc3RCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzY291bnRTZXR0aW5nJyk7IC8vIHVzZXJJbmZvXG4gIGlmIChzaG93TGlzdEJveCkge1xuICAgIGluaXRMaXN0Qm94KCk7XG4gIH1cbiAgLy8g5LyY5oOg6K6+572u5o+Q5Lqk5oyJ6ZKu57uR5a6a77yaXG4gIHZhciBsaXN0Qm94U3VibWl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZuX2Rpc2NTZXR0bGUnKTtcbiAgbGlzdEJveFN1Ym1pdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRGlzY1NldHRsZV0nKS52YWx1ZTtcbiAgICB2YXIgbGlzdGJveCA9IG5ldyBMaXN0Ym94KCk7XG4gICAgdmFyIGRhdGEgPSBsaXN0Ym94LnBvc3REYXRhX2Rpc2NvdW50TmFtZSgpO1xuICAgIGZldGNoX3N0YV9hZGREaXNjb3VudEN1c3RvbWVyKHVybCwgZGF0YSk7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdGF0aW9uX2dldEFsbERpc2NvdW50UG9saWN5KCkge1xuICAvLyBnZXQgc2VsZWN0IG9wdGlvbnM6XG4gIGZuX3F1ZXJ5RGljdCgnRElTQ09VTlRfVFlQRScsIGZ1bmN0aW9uKHJlcykge1xuICAgIC8vIHNldCBvcHRpb25zOlxuICAgIGlmICghcmVzLmRhdGEgfHwgcmVzLmRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCflrZflhbjmjqXlj6PplJnor68nKTtcbiAgICB9XG4gICAgdmFyIERJU0NPVU5UX1RZUEUgPSByZXMuZGF0YTtcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpO1xuICAgIHZhciBzZWxlY3RUeXBlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1kaXNjb3VudFR5cGVdJyk7XG4gICAgdmFyIG9wMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wMC52YWx1ZSA9ICdUWVBFJztcbiAgICBvcDAuaW5uZXJUZXh0ID0gJ+WFqOmDqCc7XG4gICAgc2VsZWN0VHlwZS5hcHBlbmRDaGlsZChvcDApO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRElTQ09VTlRfVFlQRS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gRElTQ09VTlRfVFlQRVtpXSkge1xuICAgICAgICBpZiAoa2V5ID09ICd2YWx1ZScpIHtcbiAgICAgICAgICBvcC5pbm5lclRleHQgPSBESVNDT1VOVF9UWVBFW2ldW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA9PSAna2V5Jykge1xuICAgICAgICAgIG9wLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBESVNDT1VOVF9UWVBFW2ldW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBESVNDT1VOVF9UWVBFW2ldW2tleV0pO1xuICAgICAgICBzZWxlY3RUeXBlLmFwcGVuZENoaWxkKG9wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbml0IFdkYXRlOlxuICAgIEdsb2JfZm4uV2RhdGVJbml0KCdzdGFydFRpbWUnLCAnZW5kVGltZScpO1xuICAgIEdsb2JfZm4uV2RhdGVJbml0KCdzZXRTdGFydFRpbWUnLCAnc2V0RW5kVGltZScpO1xuXG4gICAgLy8gYmluZCBzdWJtaXQ6XG4gICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxMCwgZmV0Y2hfc3RhX2dldEFsbERpc2NvdW50UG9saWN5KTtcblxuICAgIC8vIGJpbmQgYWRkIG5ldzpcbiAgICB2YXIgbmV3QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvRGlzY291bnRQb2xpY2llcycpO1xuICAgIG5ld0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnZGlzY291bnRQb2xpY2llcyc7XG4gICAgfSlcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nKCkge1xuICBHbG9iX2ZuLldkYXRlSW5pdCgnc3RhcnRUaW1lJywgJ2VuZFRpbWUnLCB7XG4gICAgLy8gZGF0ZUZtdDogJ3l5eXnlubRNTeaciCcsXG4gICAgLy8gbWluRGF0ZTogJ3sleS0xfS17JU0rOX0tJWQnLFxuICAgIC8vIG1heERhdGU6ICd0b2RheScsXG4gIH0pO1xuICAvLyBCaW5kIEFkZCBydWxlIEJ1dHRvbjpcbiAgYmluZEFkZFJ1bGVCdG4oKTtcblxuICBmdW5jdGlvbiBiaW5kQWRkUnVsZUJ0bigpIHtcbiAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFJ1bGUnKTtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2JpbGxzU2V0dGluZy9hZGRSdWxlJztcbiAgICB9KTtcbiAgfVxuICAvLyBCaW5kIFN1Ym1pdDpcbiAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxMCwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlCaWxsUnVsZUJ5UGFnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUoKSB7XG4gIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFGb3JtJyk7XG4gIHZhciB2bGQgPSBuZXcgRm9ybVZhbGlkYXRlKCk7XG4gIHZhciB2YWxpZGF0b3IgPSB2bGQudmFsaWRhdG9yKCk7XG4gIC8vIGZldGNoIGRhdGE6XG4gIGZldGNoQmlsbFJ1bGUoKVxuXG4gIGZ1bmN0aW9uIGZldGNoQmlsbFJ1bGUoIC8qZGF0YSovICkge1xuICAgIGZuX3F1ZXJ5RGljdCgnQklMTF9SVUxFJywgZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChyZXMuZGF0YSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog5pWw5o2u5rKh5pyJZGF0YeWxnuaApycpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzLmRhdGEpKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogZGF0YeWxnuaAp+S4jeaYr+aVsOe7hCcpO1xuICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoICE9IDEpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRh5pWw57uE6ZW/5bqm5LiN5Li6MScpO1xuICAgICAgICBpZiAoIUdsb2JfZm4uaXNKU09OKHJlcy5kYXRhWzBdLnZhbHVlKSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IOaVsOaNruS4jeaYr0pTT07moLzlvI8nKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2hvd1ZhbHVlRnJvbShKU09OLnBhcnNlKHJlcy5kYXRhWzBdLnZhbHVlKSlcbiAgICAgIGluaXRQYWdlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93VmFsdWVGcm9tKGZldGNoVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmV0Y2hWYWx1ZSkpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBKU09O5pWw5o2u5LiN5piv5pWw57uEJyk7XG4gICAgaWYgKGZldGNoVmFsdWUubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKCfml6Dop4TliJnlj6/pgIknKTtcbiAgICB2YXIgcmFkaW9zSGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWRpb3NIZWFkaW5nJyk7XG4gICAgdmFyIGNoZWNrYm94ZXNIZWFkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrYm94ZXNIZWFkaW5nJyk7XG4gICAgdmFyIGNoZWNrQWxsV3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja0FsbFdyYXAnKTtcbiAgICB2YXIgY2hlY2tib3hlc0NvdW50ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZldGNoVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBydWxlUHJvcHMgPSBmZXRjaFZhbHVlW2ldO1xuICAgICAgaWYgKHJ1bGVQcm9wcy5jaGVja0JveCkge1xuICAgICAgICBpZiAoY2hlY2tib3hlc0hlYWRpbmcuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSkge1xuICAgICAgICAgIGNoZWNrYm94ZXNIZWFkaW5nLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tib3hlc0NvdW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmFkaW9zSGVhZGluZy5oYXNBdHRyaWJ1dGUoJ2hpZGRlbicpKSB7XG4gICAgICAgICAgcmFkaW9zSGVhZGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRSdWxlKHJ1bGVQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjaGVja2JveGVzQ291bnQgPiAxICYmIGNoZWNrQWxsV3JhcC5oYXNBdHRyaWJ1dGUoJ2hpZGRlbicpKSB7XG4gICAgICBjaGVja0FsbFdyYXAucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRSdWxlKGRhdGEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB2YXIgbmFtZSA9IGRhdGEubmFtZSA/IGRhdGEubmFtZSA6ICdOVUxMJztcbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGUgPyBkYXRhLnR5cGUgOiAnTlVMTCc7XG4gICAgICAgIHZhciB3cmFwID0gZGF0YS5jaGVja0JveCA/XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrYm94ZXNXcmFwJykgOlxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWRpb3NXcmFwJyk7XG4gICAgICAgIHZhciBmcmFtZSA9IGdldEZyYW1lKGRhdGEpO1xuICAgICAgICB3cmFwLmFwcGVuZENoaWxkKGZyYW1lKTtcbiAgICAgICAgdmFyIGxhYmVsID0gZ2V0TGFiZWwobmFtZSk7XG4gICAgICAgIHZhciBjb250ZW50RGl2ID0gZ2V0Q29udGVudERpdigpO1xuICAgICAgICBmcmFtZS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgIGZyYW1lLmFwcGVuZENoaWxkKGNvbnRlbnREaXYpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YS5jb250ZW50KSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IGNvbnRlbnTkuI3mmK/mlbDnu4QnKTtcbiAgICAgICAgaWYgKGRhdGEuY29udGVudC5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoZGF0YS5uYW1lICsgJ+exu+Wei+S4i+aXoOaVsOaNricpO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY29udGVudC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBrZXkgPSBkYXRhLmNvbnRlbnRbal0ua2V5ID8gZGF0YS5jb250ZW50W2pdLmtleSA6ICcnO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGEuY29udGVudFtqXS52YWx1ZSA/IGRhdGEuY29udGVudFtqXS52YWx1ZSA6ICdOVUxMJztcbiAgICAgICAgICB2YXIgY29udGVudCA9IGdldENvbnRlbnQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgY29udGVudERpdi5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RnJhbWUoZGF0YSkge1xuICAgICAgICB2YXIgZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZnJhbWUuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4nKTtcbiAgICAgICAgaWYgKCFkYXRhLmNoZWNrQm94KSBmcmFtZS5jbGFzc0xpc3QuYWRkKCdyYWRpb1dyYXAnKTtcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRMYWJlbChuYW1lKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcnVsZVR5cGUnLCB0eXBlKTtcbiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdkYXRhLXJ1bGVOYW1lJywgbmFtZSk7XG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q29udGVudERpdigpIHtcbiAgICAgICAgdmFyIGNvbnRlbnRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRlbnRXcmFwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1jb250cm9scyB1ay1ncmlkLXNtYWxsJyk7XG4gICAgICAgIGNvbnRlbnRXcmFwLnNldEF0dHJpYnV0ZSgndWstZ3JpZCcsICcnKTtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRXcmFwO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDb250ZW50KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3ZvaWQgYnV0dG9uJyk7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIGRhdGEuY2hlY2tCb3ggPyAnY2hlY2tib3gnIDogJ3JhZGlvJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBkYXRhLmNoZWNrQm94ID8gJ2xpbmtMYWJlbCcgOiAnJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIHR5cGUpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGtleSk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1ydWxlRGVzYycsIHZhbHVlKTtcbiAgICAgICAgaWYgKGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncmFkaW8nICYmIGlucHV0LnZhbHVlID09PSAnTVAnKVxuICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICcnKTtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSB2YWx1ZTtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XG4gICAgLy8gc2V0IGRlZmF1bHQgaW5wdXQ6XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJhZGlvV3JhcCcpLmZvckVhY2goZGl2ID0+IHtcbiAgICAgIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKS5mb3JFYWNoKChpbnB1dCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGlucHV0Lm5hbWUgIT09ICdQQVlfTU9ERScgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICAgIC8vIHZsZDogYmluZEl0ZW1zOlxuICAgIHZhbGlkYXRvci5iaW5kRm9ybUl0ZW1zKCk7XG4gICAgLy8gVUk6IEJpbmQgUmFkaW9zOlxuICAgIGJpbmRBbGxSYWRpb3MoKTtcblxuICAgIGZ1bmN0aW9uIGJpbmRBbGxSYWRpb3MoKSB7XG4gICAgICB2YXIgd3JhcHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWRpb1dyYXAnKTtcbiAgICAgIGlmICh3cmFwcy5sZW5ndGggPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign5rKh5pyJ5a6a5LmJZGl2LnJhZGlvV3JhcCcpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3cmFwcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgd3JhcCA9IHdyYXBzW2pdO1xuICAgICAgICBiaW5kUmFkaW9zKHdyYXApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBiaW5kUmFkaW9zKHdyYXApIHtcbiAgICAgICAgdmFyIHJhZGlvcyA9IHdyYXAucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1yYWRpb10nKTtcbiAgICAgICAgaWYgKHJhZGlvcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJhZGlvID0gcmFkaW9zW2ldO1xuICAgICAgICAgIHZhciBmdW5jID0gR2xvYl9mbi5jaGVja2JveEFuZFJhZGlvO1xuICAgICAgICAgIGZ1bmMuaW5pdEFjdGl2ZUxhYmVsKHJhZGlvKTtcbiAgICAgICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jLnNldEJpbmRpbmdMYWJlbHMocmFkaW9zKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVUk6IENoZWNrYm94ZXM6XG4gICAgY2hlY2tib3hlcygpO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tib3hlcygpIHtcbiAgICAgIHZhciBjYnhfYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrQWxsUnVsZXMnKTtcbiAgICAgIHZhciBjYnhzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPWNoZWNrYm94XS5saW5rTGFiZWwnKTtcbiAgICAgIC8vIFVJOiBjaGVja2JveOe7keWumuagt+W8jzpcbiAgICAgIGNieExpbmtMYWJlbCgpO1xuXG4gICAgICBmdW5jdGlvbiBjYnhMaW5rTGFiZWwoKSB7XG4gICAgICAgIGlmIChjYnhzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYnhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGNieCA9IGNieHNbaV07XG4gICAgICAgICAgY2J4LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2hhbmdlU3R5bGUodGhpcyk7XG4gICAgICAgICAgICBpZiAoY2J4X2FsbC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgIGNieF9hbGwuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBVSTog5YWo6YCJ5Yqf6IO95a6e546wOlxuICAgICAgY29tcGx5Q2hlY2tBbGwoKTtcblxuICAgICAgZnVuY3Rpb24gY29tcGx5Q2hlY2tBbGwoKSB7XG4gICAgICAgIGlmICghY2J4X2FsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2J4cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNieF9hbGwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgLy8g5YWo6YCJXG4gICAgICAgICAgICBzZXRBbGxDaGVja2VkKGNieHMsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDlhajkuI3pgIlcbiAgICAgICAgICAgIHNldEFsbENoZWNrZWQoY2J4cywgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0QWxsQ2hlY2tlZChjaGVja2JveGVzLCBib28pIHtcbiAgICAgICAgICBpZiAoIWNoZWNrYm94ZXMgfHwgY2hlY2tib3hlcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ayoeacieaJvuWIsOWwhuimgeWvueW6lOeahGNoZWNrYm94Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoZWNrYm94ID0gY2hlY2tib3hlc1tpXTtcbiAgICAgICAgICAgIGlmIChib28gJiYgY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgICAvLyDkuI3lpITnkIZcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBib29cbiAgICAgICAgICAgICAgY2hhbmdlU3R5bGUoY2hlY2tib3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVUk6IGNoZWNrYm945oyJ6ZKu5qC35byP6KeE5YiZOlxuICAgICAgZnVuY3Rpb24gY2hhbmdlU3R5bGUoY2hlY2tib3gpIHtcbiAgICAgICAgdmFyIGxhYkNsYXNzZXMgPSBHbG9iX2ZuLmNoZWNrYm94QW5kUmFkaW8uZ2V0QmluZGluZ0xhYmVsKGNoZWNrYm94KS5jbGFzc0xpc3Q7XG4gICAgICAgIGlmIChsYWJDbGFzc2VzLmNvbnRhaW5zKCduZXdNb250aCcpKSB7XG4gICAgICAgICAgbGFiQ2xhc3Nlcy50b2dnbGUoJ2J1dHRvbi1oaWdobGlnaHQnKTtcbiAgICAgICAgICBsYWJDbGFzc2VzLnRvZ2dsZSgndWstdGV4dC13YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFiQ2xhc3Nlcy50b2dnbGUoJ2J1dHRvbi1wcmltYXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gU3VibWl0IEJpbmRpbmc6XG4gICAgc3VibWl0QWRkUnVsZSgpO1xuXG4gICAgZnVuY3Rpb24gc3VibWl0QWRkUnVsZSgpIHtcbiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlQmlsbCcpO1xuICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXJsX3N0YXRpb25fYmlsbFNldHRpbmddJykudmFsdWU7XG4gICAgICB2YXIgbm90ID0gXCI8c3BhbiBpZD0nbm90aWZpY2F0aW9uJyB1ay1pY29uPSdpY29uOiBjaGVjayc+PC9zcGFuPiDmj5DkuqTmiJDlip9cIjtcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICghdmFsaWRhdG9yLnN1Ym1pdEJvbygpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFVJa2l0Lm1vZGFsLmNvbmZpcm0oJ+ehruWumuaPkOS6pOS/oeaBr+W5tueUn+aIkOi0puWNleinhOWImT8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcG9zdERhdGEgPSBnZXRQb3N0RGF0YSgpO1xuICAgICAgICAgICAgdmFyIHBvc3RVcmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9zdGF0aW9uQ3JlYXRlQmlsbFJ1bGVdJykudmFsdWU7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwb3N0RGF0YSk7XG4gICAgICAgICAgICBmZXRjaERhdGEocG9zdFVybCwgcG9zdERhdGEsIHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFBvc3REYXRhKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGJpbGxSdWxlTmFtZTogZ2V0TmFtZSgpLFxuICAgICAgICAgIGJpbGxSdWxlOiBnZXRSdWxlKCkucnVsZSxcbiAgICAgICAgICBiaWxsUnVsZURlc2M6IGdldFJ1bGUoKS5kZXNjLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmlsbE5hbWUnKS52YWx1ZTtcbiAgICAgICAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ+ihqOWNlemUmeivrzog6K+36YeN5paw5aGr5YaZ6LSm5Y2V6KeE5YiZ5ZCN56ewJyk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRSdWxlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWRpb3NXcmFwJykucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1yYWRpb10nKTtcbiAgICAgICAgICB2YXIgY3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2tib3hlc1dyYXAnKS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpO1xuICAgICAgICAgIHZhciBjaGVja2VkSW5wdXRzID0gZ2V0Q2hlY2tlZElucHV0cygpO1xuICAgICAgICAgIGlmIChjaGVja2VkSW5wdXRzLmxlbmd0aCA8IDEpIHRocm93IG5ldyBFcnJvcign6KGo5Y2V6ZSZ6K+vOiDmnKrpgInmi6nop4TliJknKTtcbiAgICAgICAgICB2YXIgcnVsZXNJbmZvID0gZ2V0UnVsZXNJbmZvKGNoZWNrZWRJbnB1dHMpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlOiBnZXRSZXN1bHRzKHJ1bGVzSW5mbykucnVsZSxcbiAgICAgICAgICAgIGRlc2M6IGdldFJlc3VsdHMocnVsZXNJbmZvKS5kZXNjLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2hlY2tlZElucHV0cygpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICBwdXRDaGVja2VkSW5wSW4ocnMsIGFycmF5KTtcbiAgICAgICAgICBwdXRDaGVja2VkSW5wSW4oY3MsIGFycmF5KTtcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwdXRDaGVja2VkSW5wSW4oaW5wdXRzLCBhcnJheSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXRzW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICAgIGFycmF5LnB1c2goaW5wdXRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRSdWxlc0luZm8oaW5wdXRzKSB7XG4gICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbnAgPSBpbnB1dHNbaV07XG4gICAgICAgICAgICBhcnJheS5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogaW5wLm5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiBpbnAudmFsdWUsXG4gICAgICAgICAgICAgIGRlc2M6IGlucC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcnVsZURlc2MnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRSZXN1bHRzKHJhd0FycmF5KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIHZhciBkZXNjID0gW107XG4gICAgICAgICAgdmFyIHRtcE5hbWUgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmF3QXJyYXlbaV0ubmFtZSA9PT0gdG1wTmFtZSkge1xuICAgICAgICAgICAgICByZXN1bHRbcmF3QXJyYXlbaV0ubmFtZV0ucHVzaChyYXdBcnJheVtpXS52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHRbcmF3QXJyYXlbaV0ubmFtZV0gPSBbcmF3QXJyYXlbaV0udmFsdWVdO1xuICAgICAgICAgICAgICB0bXBOYW1lID0gcmF3QXJyYXlbaV0ubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc2MucHVzaChyYXdBcnJheVtpXS5kZXNjKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJ1bGU6IEpTT04uc3RyaW5naWZ5KHJlc3VsdCksXG4gICAgICAgICAgICBkZXNjOiBwYXJzZURlc2MoZGVzYyksXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gcGFyc2VEZXNjKGFycmF5KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHJlc3VsdCArPSBhcnJheVtpXS50b1N0cmluZygpO1xuICAgICAgICAgICAgICBpZiAoaSA8IGFycmF5Lmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcsICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soKSB7XG4gICAgICAgIC8vIGFsZXJ0KEpTT04uc3RyaW5naWZ5KHJlcykpXG4gICAgICAgIFVJa2l0Lm5vdGlmaWNhdGlvbihub3QsIHtcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICB0aW1lb3V0OiAxMDAwLFxuICAgICAgICB9KTtcbiAgICAgICAgVUlraXQudXRpbC5vbignLnVrLW5vdGlmaWNhdGlvbicsICdjbG9zZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFN0YV90YWJsZSgpIHt9XG4vLyDnlJ/miJDln7rnoYDmlbDmja7lsZXnpLrooajmoLzvvIjmlrDpnIDmsYLvvIk6XG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5T3JpZ2luYWxXYXliaWxsID0gZnVuY3Rpb24ocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICBnZXRGZWVJdGVtKCk7XG5cbiAgZnVuY3Rpb24gZ2V0RmVlSXRlbSgpIHtcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfcXVlcnlGZWVJdGVtXScpLnZhbHVlO1xuICAgIGZldGNoRGF0YSh1cmwsICcnLCBjcmVhdGVUYWJsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVUYWJsZShmZWVJdGVtcykge1xuICAgIHRyeSB7XG4gICAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJyk7XG4gICAgICBpZiAoIWZlZUl0ZW1zLmRhdGEpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiDotLnnlKjliJfooajpobnmnKrlrprkuYknKTtcbiAgICAgIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICAgICAgc2V0Q2FwdGlvbihyZXMuZGF0YSk7XG4gICAgICBzZXRUaGVhZChmZWVJdGVtcy5kYXRhKTtcbiAgICAgIHNldFRib2R5KHJlcywgZmVlSXRlbXMuZGF0YSk7XG4gICAgICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlPcmlnaW5hbFdheWJpbGwsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuYmlsbFJ1bGUgPT09ICcnKVxuICAgICAgICAgIGRhdGEuYmlsbFJ1bGUgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDYXB0aW9uKGRhdGEpIHtcbiAgICAgIHZhciBjYXB0aW9uID0gdGFibGUucXVlcnlTZWxlY3RvcignY2FwdGlvbicpO1xuICAgICAgaWYgKCFjYXB0aW9uKSByZXR1cm47XG4gICAgICBjYXB0aW9uLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpXG4gICAgICBpZiAoZGF0YS50b3RhbENvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnRvdGFsQ291bnQnKS5pbm5lclRleHQgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgICAgIGNhcHRpb24ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUaGVhZChkYXRhKSB7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotLnnlKjorrDlvZXlj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6L+Q5Y2V5YmN57yAJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i/kOWNleWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflk4HlkI0nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSn6L+Q57G75Z6LJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+Wni+WPkeermScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnm67nmoTnq5knKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6Iiq54+t5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S7tuaVsCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfph43ph48nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS56YeN6YePJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuoei0ueaXtumXtCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforqHotLnokKXkuJrngrknKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS56JCl5Lia54K55ZCN56ewJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLmJ1aWxkQWpheFRpdGxlKGRhdGEsIHRySW5UaGVhZCk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+mHkeminScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRib2R5KHJhd0RhdGEsIGFqYXhUaXRsZSkge1xuICAgICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oaWRlU29tZScsICcnKTtcbiAgICAgIHRib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgdmFyIGRhdGEgPSByYXdEYXRhLmRhdGEuZmVlTGlzdDtcbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZFNlcmlhbCk7XG4gICAgICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IGkgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5mZWVSZWNJZCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RvY2tQcmUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0b2NrTm8pO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNhcmdvTm0pO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnR5cGUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnNBaXJwb3J0RHNjKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5lQWlycG9ydERzYyk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZmxpZ2h0KTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5wY3MpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLndlaWdodCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZmVlV3QpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNydG9wZVRpbWVTdHIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9wZWRlcGFydElkKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcGVkZXBhcnRTdHIpO1xuICAgICAgICB2YXIgZmVlSWRBcnIgPSBHbG9iX2ZuLlRhYmxlLmdldEFqYXhUaXRsZVZhbHVlKGFqYXhUaXRsZSwgJ2ZlZUlkJyk7XG4gICAgICAgIHZhciBhamF4RGF0YSA9IEdsb2JfZm4uVGFibGUuZ2V0QWpheFRpdGxlRGF0YShudWxsLCBmZWVJZEFyciwgSlNPTi5wYXJzZShkYXRhW2ldLmZlZUl0ZW1MaXN0KSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuYnVpbGRWYWx1ZVdpdGhBamF4VGl0bGUoYWpheERhdGEsIHRyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS50b3RhbEZlZVN0cik7XG4gICAgICAgIC8vIEdsb2JfZm4uVGFibGUudHJIaWRlU29tZSh0cik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLy8g55Sf5oiQ6LSm5Y2V5rGH5oC75p+l6K+i6KGo5qC877yI5paw6ZyA5rGC77yJOlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9xdWVyeVN1bUJpbGxCeVJ1bGUgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHRyeSB7XG4gICAgY3JlYXRlVGFibGUocmVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVGFibGUocmVzKSB7XG4gICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgIGlmICghcmVzLmRhdGEpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRh5pyq5a6a5LmJJyk7XG4gICAgdmFyIHRySW5UaGVhZCA9IEdsb2JfZm4uVGFibGUuZ2V0VGhUcih0YWJsZSk7XG4gICAgc2V0VGhlYWQoKTtcbiAgICBzZXRUYm9keShyZXMpO1xuICAgIGZuX2luaXRQYWdpbmF0ZShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaERhdGEsIG5ldyBTdGFfdGFibGUoKS5nZXRUYWJsZV9xdWVyeVN1bUJpbGxCeVJ1bGUpO1xuXG4gICAgZnVuY3Rpb24gc2V0VGhlYWQoKSB7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbljZXlkI3np7AnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5byA6LSm5pe26Ze0Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0puacnycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflnLDmnI3miJDmnKzkuK3lv4MnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6YeR6aKdJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRib2R5KHJlcykge1xuICAgICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgIHRib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5iaWxsTGlzdDtcbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkU2VyaWFsKHRyLCBpLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uYmlsbFJ1bGVOYW1lKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5hY2NvdW50T3BlbmluZ1RpbWUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9yZGVyVGltZSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY29zdENlbnRlcik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0udG90YWxGZWUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBnZXRMaW5rKGRhdGFbaV0uYmlsbFJ1bGVJZCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRMaW5rKGlkKSB7XG4gICAgICAgIGlmIChpZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogc3VtbWFyeUxpc3QuYmlsbFJ1bGXmnKrlrprkuYknKTtcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuaW5uZXJUZXh0ID0gJ+afpeeci+i0puWNlSdcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtYmlsbFJ1bGVJZCcsIGlkKTtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ3VrLXRvb2x0aXAnLCAn54K55Ye75p+l55yLJyk7XG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXJsX2Zvck5leHRdJykudmFsdWUgKyAnLycgKyBpZDtcbiAgICAgICAgICBHbG9iX2ZuLnN1Ym1WaXJ0Rm9ybSh1cmwsIEdsb2JfZm4uZ2V0T3JkZXJUaW1lKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLy8g6LSm5Y2V5p+l55yL5Li76KGoKOaWsOmcgOaxginvvJpcblN0YV90YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfcXVlcnlCaWxsX25ldyA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgdHJ5IHtcbiAgICBjcmVhdGVUYWJsZShyZXMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVUYWJsZShyZXMpIHtcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJyk7XG4gICAgaWYgKCFyZXMuZGF0YSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IGRhdGHmnKrlrprkuYknKTtcbiAgICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgICB2YXIgY2hlY2tBbGwgPSBHbG9iX2ZuLlRhYmxlLmdldENoZWNrYm94KCdhbGwnKTtcbiAgICB0ckluVGhlYWQgPSByb2xlID09PSAnYWdlbnQnID8gc2V0QWdlbnRUaGVhZCgpIDogc2V0VGhlYWQoKTtcbiAgICAvLyBnZXRDYXB0aW9uRGF0YSgpO1xuICAgIHNldFRib2R5KHJlcyk7XG4gICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykgc2V0Q2hlY2tBbGwoY2hlY2tBbGwpO1xuICAgIGZuX2luaXRQYWdpbmF0ZShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaERhdGEsIG5ldyBTdGFfdGFibGUoKS5nZXRUYWJsZV9xdWVyeUJpbGxfbmV3KTtcblxuICAgIGZ1bmN0aW9uIGdldENhcHRpb25EYXRhKCkge1xuICAgICAgdmFyIGlucCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5QmlsbFN1bV0nKTtcbiAgICAgIGlmICghaW5wKSByZXR1cm47XG4gICAgICB2YXIgdXJsID0gaW5wLnZhbHVlO1xuICAgICAgaWYgKCF1cmwpIHJldHVybjtcbiAgICAgIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KCQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFGb3JtJykpLnNlcmlhbGl6ZU9iamVjdCgpKTtcbiAgICAgIGZldGNoRGF0YSh1cmwsIHBvc3REYXRhLCBzZXRDYXB0aW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDYXB0aW9uKHJlcykge1xuICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgICAgIHZhciBjYXB0aW9uID0gdGFibGUucXVlcnlTZWxlY3RvcignY2FwdGlvbicpO1xuICAgICAgaWYgKCFjYXB0aW9uKSByZXR1cm47XG4gICAgICBjYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4udG90YWxGZWUnKS5pbm5lclRleHQgPSBkYXRhLnRvdGFsQW1vdW50ID8gZGF0YS50b3RhbEFtb3VudCA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnJlYWxUb3RhbEZlZScpLmlubmVyVGV4dCA9IGRhdGEucHJlZmVyZW50aWFsVG90YWxBbW91bnQgPyBkYXRhLnByZWZlcmVudGlhbFRvdGFsQW1vdW50IDogJ+aXoOaVsOaNric7XG4gICAgICBjYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4udG90YWxXZWlnaHQnKS5pbm5lclRleHQgPSBkYXRhLnRvdGFsV2VpZ2h0ID8gZGF0YS50b3RhbFdlaWdodCA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRoZWFkKCkge1xuICAgICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsIGNoZWNrQWxsKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bqP5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W8gOi0puaXtumXtCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbmnJ8nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSn6L+Q57G75Z6LJywgZmFsc2UpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmgLvph5Hpop0nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn54q25oCBJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S8mOaDoOmHkeminScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflnLDmnI3miJDmnKzkuK3lv4MnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bmz5Y+w6K6i5Y2V5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S6pOaYk+a1geawtOWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnu5PnrpflrqLmiLfnvJbnoIEnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn57uT566X5a6i5oi35ZCN56ewJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ2JpbmRpbmdTdGF0dXMnLCBmYWxzZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuICAgICAgcmV0dXJuIHRySW5UaGVhZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRBZ2VudFRoZWFkKCkge1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5byA6LSm5pe26Ze0Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0puacnycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbljZXlkI3np7AnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bmz5Y+w6K6i5Y2V5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aAu+mHkeminScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6DlkI7ph5Hpop0nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5LuY5qy+54q25oCBJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aUr+S7mOiuouWNleWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcbiAgICAgIHJldHVybiB0ckluVGhlYWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VGJvZHkocmVzKSB7XG4gICAgICB2YXIgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuICAgICAgdGFibGUuc2V0QXR0cmlidXRlKCdkYXRhLWhpZGVTb21lJywgJzQwMCcpO1xuICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnN1bW1hcnlMaXN0O1xuICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IGRhdGEuc3VtbWFyeUxpc3TmnKrlrprkuYknKTtcbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N0YXRpb24nKSB7XG4gICAgICAgICAgdmFyIHRkQ2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkQ2hlY2tib3gpO1xuICAgICAgICAgIHZhciBjaGVja2JveCA9IEdsb2JfZm4uVGFibGUuZ2V0Q2hlY2tib3goKTtcbiAgICAgICAgICBjaGVja2JveC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnNldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2VkJywgZGF0YVtpXS5vcmRlck5vKTtcbiAgICAgICAgfVxuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkU2VyaWFsKHRyLCBpLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY3JlYXRlVGltZVN0cik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ub3JkZXJUaW1lKTtcbiAgICAgICAgaWYgKHJvbGUgPT09ICdhZ2VudCcpIHtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmJpbGxSdWxlTmFtZSk7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcmRlck5vKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnRvdGFsRmVlU3RyKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnJlYWxUb3RhbEZlZVN0cik7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zdGF0dXNTdHIpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ucGF5Tm8pO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGdldEFnZW50TGlua3MoZGF0YVtpXSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0udHlwZSwgZmFsc2UpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0udG90YWxGZWVTdHIpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RhdHVzU3RyKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnJlYWxUb3RhbEZlZVN0cik7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jb3N0Q2VudGVyKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9yZGVyTm8pO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ucGF5Tm8pO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY3VzdG9tZXJJZCk7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jdXN0b21lck5hbWUpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uYmluZGluZ1N0YXR1cywgZmFsc2UpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGdldExpbmtzKGRhdGFbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHbG9iX2ZuLlRhYmxlLnRySGlkZVNvbWUodHIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRib2R5O1xuXG4gICAgICBmdW5jdGlvbiBnZXRMaW5rcyhkYXRhKSB7XG4gICAgICAgIHZhciBvcmRlck5vID0gZGF0YS5vcmRlck5vO1xuICAgICAgICBpZiAob3JkZXJObyA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogb3JkZXJOb+acquWumuS5iScpO1xuICAgICAgICB2YXIgbGlua3MgPSBbXTtcbiAgICAgICAgbGlua3MucHVzaChnZXREZXRhaWxMaW5rKCkpO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N0YXRpb24nKSB7XG4gICAgICAgICAgdmFyIHB1c2hsaW5rID0gZ2V0UHVzaExpbmsoKTtcbiAgICAgICAgICBpZiAocHVzaGxpbmspIGxpbmtzLnB1c2goZ2V0UHVzaExpbmsoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmtzO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldERldGFpbExpbmsoKSB7XG4gICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgbGluay5pbm5lclRleHQgPSAn5p+l55yL6K+m5oOFJztcbiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmRlck5vJywgb3JkZXJObyk7XG4gICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXJsX2ZvclF1ZXJ5RGV0YWlsc10nKS52YWx1ZSArICcvJyArIG9yZGVyTm87XG4gICAgICAgICAgdmFyIHBvc3REYXRhID0gR2xvYl9mbi5nZXRPcmRlclRpbWUoKTtcbiAgICAgICAgICBpZiAocm9sZSA9PT0gJ3N0YXRpb24nKSBwb3N0RGF0YS5tb2RpZnkgPSBOdW1iZXIoZGF0YS5zdGF0dXMpID09PSAwICYmIE51bWJlcihkYXRhLmNvbmZpcm0pID09PSAwO1xuICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIEdsb2JfZm4uc3VibVZpcnRGb3JtKHVybCwgcG9zdERhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBsaW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UHVzaExpbmsoKSB7XG4gICAgICAgICAgaWYgKE51bWJlcihkYXRhLmNvbmZpcm0pICE9PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgaWYgKGNoZWNrQWxsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpID09PSAnJykge1xuICAgICAgICAgICAgY2hlY2tBbGwucXVlcnlTZWxlY3RvcignaW5wdXQnKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRkQ2hlY2tib3guYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgICAgIHZhciBwdXNobGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICBwdXNobGluay5pbm5lclRleHQgPSAn5o6o6YCBJztcbiAgICAgICAgICBwdXNobGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0Jyk7XG4gICAgICAgICAgcHVzaGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyTm8nLCBvcmRlck5vKTtcbiAgICAgICAgICBwdXNobGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3N0YXRpb25CaWxsUHVzaF0nKS52YWx1ZTtcbiAgICAgICAgICAgIHZhciBvcmRlck5vID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJObycpO1xuICAgICAgICAgICAgdmFyIG9yZGVyTm9MaXN0ID0gW107XG4gICAgICAgICAgICBvcmRlck5vTGlzdC5wdXNoKG9yZGVyTm8pO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB7IG9yZGVyTm9MaXN0OiBvcmRlck5vTGlzdCB9O1xuICAgICAgICAgICAgZmV0Y2hfc3RhX3N0YXRpb25CaWxsUHVzaCh1cmwsIGRhdGEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwdXNobGluaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRBZ2VudExpbmtzKGRhdGEpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgZGV0YWlsTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgZGV0YWlsTGluay5pbm5lclRleHQgPSAn5p+l55yL6K+m5oOFJztcbiAgICAgICAgZGV0YWlsTGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9mb3JOZXh0XScpLnZhbHVlICsgJy8nICsgZGF0YS5vcmRlck5vKTtcbiAgICAgICAgcmVzdWx0LnB1c2goZGV0YWlsTGluayk7XG4gICAgICAgIGlmIChOdW1iZXIoZGF0YS5zdGF0dXMpID09PSAyKSByZXR1cm4gcmVzdWx0OyAvLyDlt7LmlK/ku5hcbiAgICAgICAgdmFyIHBheUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIHBheUxpbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xuICAgICAgICBwYXlMaW5rLmlubmVyVGV4dCA9ICfku5jmrL4nO1xuICAgICAgICBwYXlMaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmRlck5vJywgZGF0YS5vcmRlck5vKTtcbiAgICAgICAgcGF5TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfcGF5XScpLnZhbHVlO1xuICAgICAgICAgIHZhciBwYWdlVXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1wYWdlVXJsXScpLnZhbHVlO1xuICAgICAgICAgIHZhciBvcmRlck5vID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJObycpO1xuICAgICAgICAgIHZhciBkYXRhID0geyBvcmRlck5vOiBvcmRlck5vLCBwYWdlVXJsOiBwYWdlVXJsIH07XG4gICAgICAgICAgLy8gY29uc29sZS5pbmZvKHVybCwgZGF0YSlcbiAgICAgICAgICAvLyBkZWJ1Z2dlclxuICAgICAgICAgIGZldGNoX2FnZV90b1BheSh1cmwsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LnB1c2gocGF5TGluayk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Q2hlY2tBbGwoY2hlY2tBbGwpIHtcbiAgICAgIGNoZWNrQWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHZhciBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0LmNiX2NoaWxkJyk7XG4gICAgICAgIGlmICh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuY2hlY2tlZClcbiAgICAgICAgICBzZXRDaGlsZHJlbih0cnVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHNldENoaWxkcmVuKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBzZXRDaGlsZHJlbihzdGF0dXMpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQuY2JfY2hpbGQnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5jaGVja2VkID09PSAhc3RhdHVzKSBjaGlsZHJlbltpXS5jbGljaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLy8g6LSm5Y2V5piO57uG5Li76KGoKOaWsOmcgOaxginvvJpcblN0YV90YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfcXVlcnlEZXRhaWxzX25ldyA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgZ2V0RmVlSXRlbSgpO1xuXG4gIGZ1bmN0aW9uIGdldEZlZUl0ZW0oKSB7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5RmVlSXRlbV0nKS52YWx1ZTtcbiAgICBmZXRjaERhdGEodXJsLCAnJywgY3JlYXRlVGFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVGFibGUoZmVlSXRlbXMpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgaWYgKCFmZWVJdGVtcy5kYXRhKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog6LS555So5YiX6KGo6aG55pyq5a6a5LmJJyk7XG4gICAgICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgICAgIGdldENhcHRpb25EYXRhKCk7XG4gICAgICBzZXRUaGVhZChmZWVJdGVtcy5kYXRhKTtcbiAgICAgIHNldFRib2R5KHJlcywgZmVlSXRlbXMuZGF0YSk7XG4gICAgICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlEZXRhaWxzX25ldyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDYXB0aW9uRGF0YSgpIHtcbiAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUJpbGxEZXRhaWxzU3VtXScpO1xuICAgICAgaWYgKCFpbnApIHJldHVybjtcbiAgICAgIHZhciB1cmwgPSBpbnAudmFsdWU7XG4gICAgICBpZiAoIXVybCkgcmV0dXJuO1xuICAgICAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoJChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKSkuc2VyaWFsaXplT2JqZWN0KCkpO1xuICAgICAgZmV0Y2hEYXRhKHVybCwgcG9zdERhdGEsIHNldENhcHRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldENhcHRpb24ocmVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xuICAgICAgdmFyIGNhcHRpb24gPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCdjYXB0aW9uJyk7XG4gICAgICBpZiAoIWNhcHRpb24pIHJldHVybjtcbiAgICAgIGNhcHRpb24ucXVlcnlTZWxlY3Rvcignc3Bhbi50b3RhbENvdW50JykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbENvdW50ID8gZGF0YS50b3RhbENvdW50IDogJ+aXoOaVsOaNric7XG4gICAgICBjYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4udG90YWxGZWUnKS5pbm5lclRleHQgPSBkYXRhLnRvdGFsRmVlID8gZGF0YS50b3RhbEZlZSA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnRvdGFsV2VpZ2h0JykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbFdlaWdodCA/IGRhdGEudG90YWxXZWlnaHQgOiAn5peg5pWw5o2uJztcbiAgICAgIGNhcHRpb24ucXVlcnlTZWxlY3Rvcignc3Bhbi5yZWFsVG90YWxGZWUnKS5pbm5lclRleHQgPSBkYXRhLnJlYWxUb3RhbEZlZSA/IGRhdGEucmVhbFRvdGFsRmVlIDogJ+aXoOaVsOaNric7XG4gICAgICBjYXB0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VGhlYWQoZGF0YSkge1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LS555So6K6w5b2V5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i/kOWNleWJjee8gCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfov5DljZXlj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5ZOB5ZCNJyk7XG4gICAgICBpZiAocm9sZSAhPT0gJ2FnZW50JykgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKfov5DnsbvlnosnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5aeL5Y+R56uZJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+ebrueahOermScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfoiKrnj63lj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5Lu25pWwJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+mHjemHjycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforqHotLnph43ph48nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS55pe26Ze0Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuoei0ueiQpeS4mueCuScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforqHotLnokKXkuJrngrnlkI3np7AnKTtcbiAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0puWNleexu+WeiycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5idWlsZEFqYXhUaXRsZShkYXRhLCB0ckluVGhlYWQpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfph5Hpop0nKTtcbiAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRib2R5KHJhd0RhdGEsIGFqYXhUaXRsZSkge1xuICAgICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oaWRlU29tZScsICcnKTtcbiAgICAgIHRib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgdmFyIGRhdGEgPSByYXdEYXRhLmRhdGEuZmVlTGlzdDtcbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB2YXIgdHJBZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0ckFkZCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGRTZXJpYWwodHIsIGksIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKVxuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmZlZVJlY0lkKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zdG9ja1ByZSkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RvY2tObykuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY2FyZ29ObSkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnR5cGUpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnNBaXJwb3J0RHNjKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5lQWlycG9ydERzYykuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZmxpZ2h0KS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5wY3MpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLndlaWdodCkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZmVlV3QpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNydG9wZVRpbWVTdHIpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9wZWRlcGFydElkKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgaWYgKHJvbGUgIT09ICdhZ2VudCcpIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ub3BlZGVwYXJ0U3RyKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgdmFyIGZlZUlkQXJyID0gR2xvYl9mbi5UYWJsZS5nZXRBamF4VGl0bGVWYWx1ZShhamF4VGl0bGUsICdmZWVJZCcpO1xuICAgICAgICB2YXIgbDFEYXRhID0gR2xvYl9mbi5UYWJsZS5nZXRBamF4VGl0bGVEYXRhKCfljp/lp4votKbljZUnLCBmZWVJZEFyciwgSlNPTi5wYXJzZShkYXRhW2ldLmZlZUl0ZW1MaXN0KSk7XG4gICAgICAgIHZhciBsMkRhdGEgPSBHbG9iX2ZuLlRhYmxlLmdldEFqYXhUaXRsZURhdGEoJ+W8gOi0pui0puWNlScsIGZlZUlkQXJyLCBKU09OLnBhcnNlKGRhdGFbaV0ucmVhbEZlZUl0ZW1MaXN0KSk7XG4gICAgICAgIGlmIChyb2xlID09PSAnc3RhdGlvbicpIHZhciBsaW5lMk9iamVjdCA9IEdsb2JfZm4uVGFibGUuZ2V0QWpheFRpdGxlT2JqZWN0KGZlZUlkQXJyLCBKU09OLnBhcnNlKGRhdGFbaV0ucmVhbEZlZUl0ZW1MaXN0KSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuYnVpbGRWYWx1ZVdpdGhBamF4VGl0bGUobDFEYXRhLCB0cik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuYnVpbGRWYWx1ZVdpdGhBamF4VGl0bGUobDJEYXRhLCB0ckFkZCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0udG90YWxGZWVTdHIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyQWRkLCBkYXRhW2ldLnJlYWxUb3RhbEZlZVN0cik7XG4gICAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCAnLScpLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstdGV4dC1jZW50ZXInKTtcbiAgICAgICAgaWYgKHJvbGUgIT09ICdhZ2VudCcpIEdsb2JfZm4uVGFibGUuc2V0VGQodHJBZGQsIGdldEFjdGlvbihkYXRhW2ldLCBsaW5lMk9iamVjdCkpO1xuICAgICAgICAvLyBHbG9iX2ZuLlRhYmxlLnRySGlkZVNvbWUodHIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRBY3Rpb24oZGF0YSwgbGluZTJPYmplY3QpIHtcbiAgICAgICAgdmFyIGxpbmtNb2RIaXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmtNb2RIaXMuaW5uZXJUZXh0ID0gJ+S/ruaUueiusOW9lSc7XG4gICAgICAgIGxpbmtNb2RIaXMuc2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nLCBkYXRhLnN0b2NrTm8pO1xuICAgICAgICBsaW5rTW9kSGlzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQnKTtcbiAgICAgICAgbGlua01vZEhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeSh7IHN0b2NrTm86IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nKSB9KTtcbiAgICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfcXVlcnlNb2RpZnlMb2ddJykudmFsdWU7XG4gICAgICAgICAgZmV0Y2hEYXRhKHVybCwgcG9zdERhdGEsIGNyZWF0ZU1vZEhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N5c3RlbScpIHJldHVybiBsaW5rTW9kSGlzO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N0YXRpb24nKSB7XG4gICAgICAgICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPW1vZGlmeV0nKS52YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIHZhciBsaW5rbW9kaWZ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgIGxpbmttb2RpZnkuaW5uZXJUZXh0ID0gJ+S/ruaUuSc7XG4gICAgICAgICAgbGlua21vZGlmeS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSXRlbUxpc3QnLCBKU09OLnN0cmluZ2lmeShsaW5lMk9iamVjdCkpO1xuICAgICAgICAgIGxpbmttb2RpZnkuc2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nLCBkYXRhLnN0b2NrTm8pO1xuICAgICAgICAgIGxpbmttb2RpZnkuc2V0QXR0cmlidXRlKCdkYXRhLWZlZVd0JywgZGF0YS5mZWVXdCk7XG4gICAgICAgICAgbGlua21vZGlmeS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG90YWxGZWVTdHInLCBkYXRhLnRvdGFsRmVlU3RyKTtcbiAgICAgICAgICBsaW5rbW9kaWZ5LnNldEF0dHJpYnV0ZSgnZGF0YS10b3RhbEZlZScsIGRhdGEudG90YWxGZWUpO1xuICAgICAgICAgIGxpbmttb2RpZnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBwb3N0RGF0YSA9IHtcbiAgICAgICAgICAgICAgXCJzdG9ja05vXCI6IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nKSxcbiAgICAgICAgICAgICAgXCJ0b3RhbEZlZVwiOiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10b3RhbEZlZScpLFxuICAgICAgICAgICAgICBcInRvdGFsRmVlU3RyXCI6IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXRvdGFsRmVlU3RyJyksXG4gICAgICAgICAgICAgIFwiZmVlV3RcIjogdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlV3QnKSxcbiAgICAgICAgICAgICAgXCJmZWVJdGVtTGlzdFwiOiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWVJdGVtTGlzdCcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBmbl9nZXRNb2RhbChwb3N0RGF0YSwgJ+i0puWNleaUtui0uemhuScpO1xuICAgICAgICAgICAgVUlraXQubW9kYWwoZWxlbWVudCkuc2hvdygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBbbGlua21vZGlmeSwgbGlua01vZEhpc107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVNb2RIaXMocmVzKSB7XG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgICBpZiAocmVzLmRhdGEgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IGRhdGHmnKrlrprkuYknKTtcbiAgICBpZiAocmVzLmRhdGEgPT09IG51bGwgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5rKh5pyJ5oiW5LiN5Y+v5p+l6K+i6K+l56yU6K6i5Y2V55qE5L+u5pS56K6w5b2VJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShyZXMuZGF0YSkpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRh5bGe5oCn5LiN5piv5pWw57uEJyk7XG4gICAgdmFyIG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vZGlmaWVkSGlzdG9yeScpO1xuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RpZmllZEhpc3RvcnlUYWJsZScpO1xuICAgIHZhciB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7XG4gICAgdGhlYWQuaW5uZXJIVE1MID0gJyc7XG4gICAgdmFyIHRySW5UaGVhZCA9IEdsb2JfZm4uVGFibGUuZ2V0VGhUcih0YWJsZSk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnlKjmiLflkI0nKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S/ruaUueaXtumXtCcpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5aSH5rOoJyk7XG4gICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgcmVzLmRhdGFbaV0uY3JlYXRlTmFtZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCByZXMuZGF0YVtpXS5jcmVhdGVUaW1lKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIHJlcy5kYXRhW2ldLnJlbWFyayk7XG4gICAgfVxuICAgIFVJa2l0Lm1vZGFsKG1vZGFsKS5zaG93KCk7XG4gIH1cbn07XG4vLyDnlJ/miJDotKbljZXop4TliJnmsYfmgLvooajmoLzvvIjmlrDpnIDmsYLvvIk6XG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5QmlsbFJ1bGVCeVBhZ2UgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHRyeSB7XG4gICAgdmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGFUYWJsZScpO1xuICAgIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICAgIGNyZWF0ZVRoZWFkKCk7XG4gICAgY3JlYXRlVGJvZHkoKTtcbiAgICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlCaWxsUnVsZUJ5UGFnZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRoZWFkKCkge1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bqP5Y+3Jyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbljZVJRCcsIGZhbHNlKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0puWNleWQjeensCcpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6JCl5Lia54K5Jyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflnLDljLonKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i/my/lh7rmuK/nsbvlnosnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i/kOWNleexu+WeiycpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5piv5ZCm5Li65b+r5Lu2Jyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflnLDmnI3miJDmnKzkuK3lv4MnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eUqOaIt+WQjScpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn54q25oCBJyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnirbmgIHnoIEnLCBmYWxzZSk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforr7nva7ml7bpl7QnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVGJvZHkoKSB7XG4gICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnF1ZXJ5QmlsbFJ1bGVMaXN0O1xuICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgIHZhciB0ZFNlcmlhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICB0ci5hcHBlbmRDaGlsZCh0ZFNlcmlhbCk7XG4gICAgICB0ZFNlcmlhbC5pbm5lclRleHQgPSBpICsgMSArIChOdW1iZXIocGFnZU51bWJlcikgLSAxKSAqIE51bWJlcihwYWdlU2l6ZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmJpbGxSdWxlSWQsIGZhbHNlKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uYmlsbFJ1bGVOYW1lKTtcbiAgICAgIHNldFRkRnJvbUFycmF5KHRyLCBkYXRhW2ldLmJpbGxSdWxlLCAnT1BFREVQQVJUJyk7XG4gICAgICBzZXRUZEZyb21BcnJheSh0ciwgZGF0YVtpXS5iaWxsUnVsZSwgJ0RPTV9JTlQnKTtcbiAgICAgIHNldFRkRnJvbUFycmF5KHRyLCBkYXRhW2ldLmJpbGxSdWxlLCAnRVhQX0lNUCcpO1xuICAgICAgc2V0VGRGcm9tQXJyYXkodHIsIGRhdGFbaV0uYmlsbFJ1bGUsICdUUkFOU0ZFUl9UWVBFJyk7XG4gICAgICBzZXRUZEZyb21BcnJheSh0ciwgZGF0YVtpXS5iaWxsUnVsZSwgJ0VYUF9NQUlMJyk7XG4gICAgICBzZXRUZEZyb21BcnJheSh0ciwgZGF0YVtpXS5iaWxsUnVsZSwgJ0NPU1RfQycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jcmVhdGVOYW1lKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RhdHVzU3RyKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RhdHVzLCBmYWxzZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnNldFRpbWUpO1xuICAgICAgdHIuYXBwZW5kQ2hpbGQoZ2V0VGRBY3Rpb24oZGF0YVtpXS5iaWxsUnVsZUlkKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VGRGcm9tQXJyYXkocGFyZW50VHIsIGFycmF5LCBuYW1lLCBzaG93Qm9vKSB7XG4gICAgICB2YXIgc2hvdyA9IHNob3dCb28gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBzaG93Qm9vO1xuICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIHBhcmVudFRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgIHRkLmlubmVyVGV4dCA9IGdldFZhbHVlKCkudGV4dDtcbiAgICAgIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1iaWxsUnVsZVR5cGUnLCBnZXRWYWx1ZSgpLnR5cGUpO1xuICAgICAgaWYgKCFzaG93KSB0ZC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgIHJldHVybiB0ZDtcblxuICAgICAgZnVuY3Rpb24gZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkpIHRocm93IG5ldyBFcnJvcignYmlsbFJ1bGXlsZ7mgKfkuI3mmK/mlbDnu4QnKTtcbiAgICAgICAgdmFyIHRleHQgPSAnLSc7XG4gICAgICAgIHZhciBydWxlVHlwZSA9ICcnO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSBhcnJheVtqXS50eXBlXG4gICAgICAgICAgaWYgKHR5cGUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHRleHQgPSBhcnJheVtqXS5jb250ZW50ID8gYXJyYXlbal0uY29udGVudCA6IHRleHQ7XG4gICAgICAgICAgICBydWxlVHlwZSA9IHR5cGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICB0eXBlOiBydWxlVHlwZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUZEFjdGlvbihiaWxsUnVsZUlkKSB7XG4gICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdGQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay10YWJsZS1saW5rJyk7XG4gICAgICB2YXIgZGVsZXRlTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIHRkLmFwcGVuZENoaWxkKGRlbGV0ZUxpbmspO1xuICAgICAgZGVsZXRlTGluay5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2RlbGV0ZVRyJyk7XG4gICAgICBkZWxldGVMaW5rLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAn5Yig6Zmk5q2k6LSm5Y2VJyk7XG4gICAgICBkZWxldGVMaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1iaWxsUnVsZUlkJywgYmlsbFJ1bGVJZCk7XG4gICAgICBkZWxldGVMaW5rLmlubmVyVGV4dCA9ICfliKDpmaQnO1xuICAgICAgZGVsZXRlTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB0aGlzQnRuID0gdGhpcztcbiAgICAgICAgVUlraXQubW9kYWwuY29uZmlybSgn5Yig6Zmk5ZCO5LiN5Y+v5oGi5aSN77yM56Gu6K6k5Yig6Zmk5ZCX77yfJykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmV0Y2hEYXRhKGdldFVybCgpLCBnZXRQb3N0RGF0YSh0aGlzQnRuKSwgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRkO1xuXG4gICAgICBmdW5jdGlvbiBnZXRVcmwoKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9kZWxldGVSdWxlXScpLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQb3N0RGF0YSh0cmlnZ2VyKSB7XG4gICAgICAgIHZhciBiaWxsUnVsZUlkID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmlsbFJ1bGVJZCcpO1xuICAgICAgICBpZiAoYmlsbFJ1bGVJZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbGxSdWxlSWTmnKrlrprkuYknKTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAnYmlsbFJ1bGVJZCc6IGJpbGxSdWxlSWQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2soKSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfliKDpmaTmiJDlip8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0QnRuJykuY2xpY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuLy8g55So5oi3566h55CG5Li76KGo77yaXG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX2dldFN0YXRpb25BbGxDb25zdW1lciA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgdmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGFUYWJsZScpO1xuXG4gIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+WuouaIt+S7o+eggScpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0p+i/kOWFrOWPuOWFqOensCcpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eUqOaIt+eKtuaAgScpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+e7k+eul+aWueW8jycpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuXG4gIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gIHRib2R5LmlubmVySFRNTCA9ICcnO1xuXG4gIHZhciBkYXRhID0gcmVzLmRhdGEuY29uc3VtZXJMaXN0O1xuXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICB2YXIgdHIwID0gR2xvYl9mbi5UYWJsZS5zaG93Tm9EYXRhKHRySW5UaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aCk7XG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcblxuICAgIHZhciB0ZFNlcmlhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xuICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IGkgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcblxuICAgIHZhciB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XG4gICAgdmFyIHRkMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQyKTtcbiAgICB2YXIgdGQzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDMpO1xuICAgIHZhciB0ZDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkNCk7XG4gICAgdmFyIHRkNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ1KTtcbiAgICB2YXIgdGQ2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDYpO1xuICAgIHZhciBsaW5rU2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHZhciBsaW5rU2hvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuXG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcbiAgICAgIGlmIChrZXkgPT0gJ2N1c3RvbWVySWQnKSB7XG4gICAgICAgIHRkMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGwgPyAnLScgOiBkYXRhW2ldW2tleV07XG4gICAgICAgIGxpbmtTZXQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XG4gICAgICAgIGxpbmtTaG93LnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnY3VzdG9tZXJOYW1lQ2huJylcbiAgICAgICAgdGQyLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbCA/ICctJyA6IGRhdGFbaV1ba2V5XTtcbiAgICAgIGlmIChrZXkgPT0gJ3N0YXR1c0Rlc2MnKVxuICAgICAgICB0ZDMuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsID8gJy0nIDogZGF0YVtpXVtrZXldO1xuICAgICAgaWYgKGtleSA9PSAnY2FuWWVzRGVzYycpXG4gICAgICAgIHRkNC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGwgPyAnLScgOiBkYXRhW2ldW2tleV07XG4gICAgICBpZiAoa2V5ID09ICdmZWVXYXlEZXNjJylcbiAgICAgICAgdGQ1LmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbCA/ICctJyA6IGRhdGFbaV1ba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdCA9IGRhdGFbaV07XG4gICAgLy8g5aaC5p6c546w57uT5oiW5pyq5rOo5YaM77yaXG4gICAgaWYgKGxpc3QuZmVlV2F5SWQgPT0gJ0NTJyB8fCBsaXN0LnN0YXR1cyA9PSAnMCcpIHtcbiAgICAgIHRkNi5pbm5lclRleHQgPSAnLSdcbiAgICB9IGVsc2UgaWYgKGxpc3QuZmVlV2F5SWQgIT0gJ0NTJykgeyAvLyDlpoLmnpzmmK/pnZ7njrDnu5NcbiAgICAgIGlmIChsaXN0LmNhblllcyA9PSAnMCcpIHsgLy8g5LiU5Zyo5L2/55So5LitXG4gICAgICAgIGxpbmtTZXQuaW5uZXJUZXh0ID0gJ+S8mOaDoOiuvue9ric7XG4gICAgICAgIHRkNi5hcHBlbmRDaGlsZChsaW5rU2V0KTtcbiAgICAgICAgbGlua1NldC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRGlzY1NldF0nKS52YWx1ZTtcbiAgICAgICAgICB2YXIgY3VzdG9tZXJJZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbWVySWQnKTtcbiAgICAgICAgICBmZXRjaF9zdGFfcXVlcnlEaXNjb3VudFBvbGljeSh1cmwsIGN1c3RvbWVySWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGxpbmtTaG93LmlubmVyVGV4dCA9ICfkvJjmg6DmlL/nrZbmn6XnnIsnO1xuICAgICAgbGlua1Nob3cuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xuICAgICAgbGlua1Nob3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRGlzY1Nob3ddJykudmFsdWU7XG4gICAgICAgIHZhciBjdXN0b21lcklkID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tZXJJZCcpO1xuICAgICAgICB2YXIgZGF0YSA9IHsgY3VzdG9tZXJJZDogY3VzdG9tZXJJZCB9O1xuICAgICAgICBmZXRjaF9zdGFfcXVlcnlEaXNjb3VudEN1c3RvbWVyKHVybCwgZGF0YSk7XG4gICAgICB9KTtcbiAgICAgIHRkNi5hcHBlbmRDaGlsZChsaW5rU2hvdyk7XG4gICAgfVxuICB9XG5cbiAgLy8g6K6+572ucGFnaW5hdGlvblxuICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hfc3RhX2dldFN0YXRpb25BbGxDb25zdW1lcik7XG59O1xuLy8g55So5oi35LyY5oOg5p+l55yL5Li76KGo77yaXG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5RGlzY291bnRDdXN0b21lciA9IGZ1bmN0aW9uKHJlcykge1xuICB2YXIgdGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xuICBpZiAoZGF0YS5sZW5ndGggPCAxIHx8IGRhdGEgPT09IG51bGwpIHtcbiAgICB2YXIgdHIwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB2YXIgdGQwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ZDAuc2V0QXR0cmlidXRlKCdjb2xzcGFuJywgJzMnKTtcbiAgICB0ZDAuaW5uZXJUZXh0ID0gJ+aXoOaVsOaNric7XG4gICAgdGQwLnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInXG4gICAgdHIwLmFwcGVuZENoaWxkKHRkMCk7XG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICByZXR1cm4gdGJvZHk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKSxcbiAgICAgIHRkMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyksXG4gICAgICBzcGFuMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcbiAgICAgIHNwYW4yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLFxuICAgICAgdGQzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB0ZDMuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcbiAgICAgIGlmIChrZXkgPT0gJ2Rpc2NvdW50UG9saWN5TmFtZScpIHtcbiAgICAgICAgdGQxLnNldEF0dHJpYnV0ZSgnZGF0YS1hcmcnLCBrZXkpO1xuICAgICAgICB0ZDEuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ3N0YXJ0VGltZVN0cicpIHtcbiAgICAgICAgc3BhbjEuc2V0QXR0cmlidXRlKCdkYXRhLWFyZycsIGtleSk7XG4gICAgICAgIHNwYW4xLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdlbmRUaW1lU3RyJykge1xuICAgICAgICBzcGFuMi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXJnJywga2V5KTtcbiAgICAgICAgc3BhbjIuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ3N0YXR1cycpIHtcbiAgICAgICAgdGQzLnNldEF0dHJpYnV0ZSgnZGF0YS1hcmcnLCBrZXkpO1xuICAgICAgICBnZXRBY3Rpb25UZXh0KGRhdGFbaV1ba2V5XSwgbGluayk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PSAnZGlzY291bnRQb2xpY3lJZCcpIHtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdjdXN0b21lcklkJykge1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgdGQuc2V0QXR0cmlidXRlKCdkYXRhLWFyZycsIGtleSk7XG4gICAgICAgIHRkLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgdGQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0ZDIuYXBwZW5kQ2hpbGQoc3BhbjEpO1xuICAgIHRkMi5hcHBlbmRDaGlsZChzcGFuMik7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDIpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMyk7XG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGRpc2NvdW50UG9saWN5SWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNjb3VudFBvbGljeUlkJyk7XG4gICAgICB2YXIgY3VzdG9tZXJJZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbWVySWQnKTtcbiAgICAgIHZhciBzdGF0dXMgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnKTtcbiAgICAgIHZhciBwb3N0RGF0YSA9IHtcbiAgICAgICAgZGlzY291bnRQb2xpY3lJZDogZGlzY291bnRQb2xpY3lJZCxcbiAgICAgICAgY3VzdG9tZXJJZDogY3VzdG9tZXJJZCxcbiAgICAgICAgc3RhdHVzOiBzdGF0dXNcbiAgICAgIH07XG4gICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRGlzY1NvclNdJykudmFsdWU7XG4gICAgICBmZXRjaF9zdGFfY2hhbmdlQ3VzdG9tZXJEaXNjb3VudFN0YXR1cyh1cmwsIHBvc3REYXRhKTtcbiAgICAgIHZhciBwYXJUZCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgICAgIGlmIChzdGF0dXMgPT0gJzEnKSB7XG4gICAgICAgIHBhclRkLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBwYXJUZC5pbm5lclRleHQgPSAn5bey5pqC5YGcJztcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0dXMgPT0gJzAnKSB7XG4gICAgICAgIHBhclRkLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBwYXJUZC5pbm5lclRleHQgPSAn5bey5ZCv55SoJztcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG4gIH1cbiAgcmV0dXJuIHRib2R5O1xuXG4gIGZ1bmN0aW9uIGdldEFjdGlvblRleHQoc3RhdHVzLCBsaW5rKSB7XG4gICAgaWYgKHN0YXR1cyA9PSAnMCcpIHtcbiAgICAgIC8vIOWQr+eUqOeKtuaAge+8jOiuvue9ruaaguWBnFxuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJywgJzEnKTtcbiAgICAgIGxpbmsuaW5uZXJUZXh0ID0gJ+aaguWBnCc7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT0gJzEnKSB7XG4gICAgICAvLyDmmoLlgZznirbmgIHvvIzorr7nva7lkK/nlKhcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycsICcwJyk7XG4gICAgICBsaW5rLmlubmVyVGV4dCA9ICflkK/nlKgnO1xuICAgIH1cbiAgfVxufTtcbi8vIOS8mOaDoOiuvue9rumhtemdouihqOagvO+8mlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9nZXRBbGxEaXNjb3VudFBvbGljeSA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuXG4gIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S8mOaDoOaUv+etluWQjeensCcpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S8mOaDoOexu+WeiycpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+acieaViOacnycpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuvue9ruaXtumXtCcpO1xuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xuXG4gIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gIHRib2R5LmlubmVySFRNTCA9ICcnO1xuICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRpc2NvdW50UG9saWN5TGlzdDtcbiAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoIDwgMSkge1xuICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgIHZhciB0ZFNlcmlhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xuICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IGkgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDEpO1xuICAgIHZhciB0ZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMik7XG4gICAgdmFyIHRkMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQzKTtcbiAgICB2YXIgc3BhbkluVGQzXzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5JblRkM18xKTtcbiAgICB2YXIgc3BhbkluVGQzXzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgc3BhbkluVGQzXzIuaW5uZXJUZXh0ID0gJ+iHsyc7XG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5JblRkM18yKTtcbiAgICB2YXIgc3BhbkluVGQzXzMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5JblRkM18zKTtcbiAgICB2YXIgdGQ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDQpO1xuICAgIHZhciB0ZDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkNSk7XG4gICAgdmFyIHRkNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ2KTtcbiAgICB2YXIgdG9EZXRhaWxzQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB0b0RldGFpbHNBLmlubmVyVGV4dCA9ICfmn6XnnIvor6bmg4UnO1xuICAgIHRvRGV0YWlsc0EuaHJlZiA9IGxvY2F0aW9uLnBhdGhuYW1lICsgJy9kZXRhaWxzLycgKyBkYXRhW2ldLmRpc2NvdW50UG9saWN5SWQ7XG4gICAgdGQ2LmFwcGVuZENoaWxkKHRvRGV0YWlsc0EpO1xuICAgIHZhciB0b2dnbGVBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHRvZ2dsZUEuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xuICAgIC8vIHZhciBzdGF0dXNfY2hhbmdlVG9UaGlzID0gJyc7XG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcbiAgICAgIGlmIChrZXkgPT0gJ2Rpc2NvdW50UG9saWN5SWQnKSB7XG4gICAgICAgIHRvZ2dsZUEuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeU5hbWUnKSB7XG4gICAgICAgIHRkMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFR5cGVEZXNjJykge1xuICAgICAgICB0ZDIuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgICB0ZDIuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdzdGFydFRpbWUnKSB7XG4gICAgICAgIHNwYW5JblRkM18xLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT0gJ2VuZFRpbWUnKSB7XG4gICAgICAgIHNwYW5JblRkM18zLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT0gJ3N0YXR1c0Rlc2MnKSB7XG4gICAgICAgIHRkNC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdzdGF0dXMnKSB7XG4gICAgICAgIGlmIChkYXRhW2ldW2tleV0gPT0gJzEnKSB7XG4gICAgICAgICAgdG9nZ2xlQS5pbm5lclRleHQgPSAn5L2c5bqfJztcbiAgICAgICAgICB0b2dnbGVBLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnLCAnMicpO1xuICAgICAgICAgIHRkNi5hcHBlbmRDaGlsZCh0b2dnbGVBKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YVtpXVtrZXldID09ICcwJyB8fCBkYXRhW2ldW2tleV0gPT0gJzInKSB7XG4gICAgICAgICAgdG9nZ2xlQS5pbm5lclRleHQgPSAn5ZCv55SoJztcbiAgICAgICAgICB0b2dnbGVBLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnLCAnMScpO1xuICAgICAgICAgIHRkNi5hcHBlbmRDaGlsZCh0b2dnbGVBKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnc2V0VGltZScpIHtcbiAgICAgICAgdGQ1LmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgdG9nZ2xlQS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGxpbmsgPSB0aGlzO1xuICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2NoYW5nZURpc2NvdW50U3RhdHVzXScpLnZhbHVlO1xuICAgICAgdmFyIHBvc3REYXRhID0ge1xuICAgICAgICBkaXNjb3VudFBvbGljeUlkOiBsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNjb3VudFBvbGljeUlkJyksXG4gICAgICAgIHN0YXR1czogbGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJylcbiAgICAgIH07XG4gICAgICAvLyBjb25zb2xlLmxvZyh1cmwsIHBvc3REYXRhKVxuICAgICAgZmV0Y2hfc3RhX2NoYW5nZURpc2NvdW50U3RhdHVzKHVybCwgcG9zdERhdGEpO1xuICAgIH0pO1xuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgfVxuICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hfc3RhX2dldEFsbERpc2NvdW50UG9saWN5KTtcbn07XG5cblxuXG4vLyDosIPotKbmqKHmgIHvvJpcbmZ1bmN0aW9uIE1vZGFsKGRhdGEsIHRpdGxlLCBpZCkge1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMuaWQgPSBpZCA/IGlkIDogbnVsbDtcbn1cbk1vZGFsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsXG4gICAgdGl0bGVUZXh0ID0gdGhpcy50aXRsZSxcbiAgICBtb2RhbElkID0gdGhpcy5pZCxcbiAgICBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIG1oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBtdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpLFxuICAgIG1ib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgbWZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnaWQnLCBtb2RhbElkKTtcbiAgbW9kYWwuc2V0QXR0cmlidXRlKCd1ay1tb2RhbCcsICcnKTtcbiAgZGlhbG9nLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbW9kYWwtZGlhbG9nJyk7XG4gIG1oZWFkZXIuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tb2RhbC1oZWFkZXInKTtcbiAgbXRpdGxlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbW9kYWwtdGl0bGUnKTtcbiAgbXRpdGxlLmlubmVyVGV4dCA9IHRpdGxlVGV4dDtcbiAgbWJvZHkuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tb2RhbC1ib2R5Jyk7XG4gIG1ib2R5LnNldEF0dHJpYnV0ZSgndWstb3ZlcmZsb3ctYXV0bycsICcnKTtcbiAgbWZvcm0uc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1ncmlkLXNtYWxsJyk7XG4gIG1mb3JtLnNldEF0dHJpYnV0ZSgndWstZ3JpZCcsICcnKTtcblxuICBtZm9ybS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RvY2tObycsIGRhdGEuc3RvY2tObyk7XG4gIG1oZWFkZXIuYXBwZW5kQ2hpbGQobXRpdGxlKTtcbiAgdmFyIGZlZUl0ZW1MaXN0ID0gSlNPTi5wYXJzZShkYXRhLmZlZUl0ZW1MaXN0KTtcbiAgLy8gY29uc29sZS5sb2coZmVlSXRlbUxpc3QpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZlZUl0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVscyA9IE1vZGFsLmNyZWF0ZUlucExpc3QoZmVlSXRlbUxpc3RbaV0pO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZWxzLmxlbmd0aDsgaisrKSB7XG4gICAgICBtZm9ybS5hcHBlbmRDaGlsZChlbHNbal0pO1xuICAgIH1cbiAgfVxuICB2YXIgdG90YWxGZWVJbnB1dCA9IE1vZGFsLmdldFRvdGFsRmVlSW5wdXQoZGF0YSwgJ3RvdGFsRmVlJywgJ+aAu+mHkeminScpO1xuICB2YXIgZGVzY1RleHRhcmVhID0gTW9kYWwuZ2V0RGVzY1RleHRhcmVhKCdkZXNjcmlwdGlvbicsICflpIfms6gnKTtcbiAgdmFyIGJ1dHRvblNlY3Rpb24gPSBNb2RhbC5nZXRCdXR0b25TZWN0aW9uKG1mb3JtKTtcbiAgbWZvcm0uYXBwZW5kQ2hpbGQodG90YWxGZWVJbnB1dCk7XG4gIG1mb3JtLmFwcGVuZENoaWxkKGRlc2NUZXh0YXJlYSk7XG4gIG1mb3JtLmFwcGVuZENoaWxkKGJ1dHRvblNlY3Rpb24pO1xuICBNb2RhbC5zZXRJbnBMaW5rcyhtZm9ybSwgZGF0YS5mZWVXdCk7XG5cbiAgbWJvZHkuYXBwZW5kQ2hpbGQobWZvcm0pO1xuICBkaWFsb2cuYXBwZW5kQ2hpbGQobWhlYWRlcik7XG4gIGRpYWxvZy5hcHBlbmRDaGlsZChtYm9keSk7XG4gIG1vZGFsLmFwcGVuZENoaWxkKGRpYWxvZyk7XG4gIHJldHVybiBtb2RhbDtcbn1cbk1vZGFsLnNldElucExpbmtzID0gZnVuY3Rpb24oZm9ybSwgZmVlV3QpIHtcbiAgdmFyIGlucF9mZWVJdGVtTGlzdCA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1mZWVJdGVtTGlzdF0nKSxcbiAgICBpbnBfdG90YWxmZWUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dG90YWxGZWVdJyk7XG4gIHZhciBpbnBfc3BlYyA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1mZWU9c3BlY10nKSxcbiAgICBpbnBfcmF0ZSA9IG51bGw7XG4gIGlmIChpbnBfc3BlYykge1xuICAgIGlucF9yYXRlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWZlZXJhdGVdJyk7XG4gICAgaW5wX3JhdGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgIGlucF9zcGVjLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBnZXRTcGVjRmVlKGZlZVd0LCBvbGRWYWx1ZSkpO1xuICAgICAgaW5wX3RvdGFsZmVlLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBnZXRUb3RhbEZlZSgpKTtcbiAgICB9KTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGlucF9mZWVJdGVtTGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBsaXN0ID0gaW5wX2ZlZUl0ZW1MaXN0W2ldO1xuICAgIGlmICgobGlzdC5uYW1lICE9ICdmZWVyYXRlJykgJiYgKGxpc3QuZ2V0QXR0cmlidXRlKCdkYXRhLWZlZScpICE9ICdzcGVjJykpIHtcbiAgICAgIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlucF90b3RhbGZlZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZ2V0VG90YWxGZWUoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUb3RhbEZlZSgpIHtcbiAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucF9mZWVJdGVtTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3QgPSBpbnBfZmVlSXRlbUxpc3RbaV07XG4gICAgICBpZiAobGlzdC5uYW1lICE9ICdmZWVyYXRlJyB8fCBsaXN0LmdldEF0dHJpYnV0ZSgnZGF0YS1mZWUnKSAhPSAnc3BlYycpIHtcbiAgICAgICAgcmVzdWx0ICs9IE51bWJlcihsaXN0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNwZWNGZWUoZmVlV3QsIG9sZFZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IDBcbiAgICByZXN1bHQgPSBOdW1iZXIoZmVlV3QpICogTnVtYmVyKG9sZFZhbHVlKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChyZXN1bHQpO1xuICB9XG59O1xuTW9kYWwuZ2V0UG9zdERhdGEgPSBmdW5jdGlvbihmb3JtKSB7XG4gIHZhciBwb3N0RGF0YSA9IHtcbiAgICBzdG9ja05vOiAnJyxcbiAgICB0b3RhbEZlZTogJycsXG4gICAgZmVlSXRlbUxpc3Q6IFtdLFxuICAgIHJlbWFyazogJydcbiAgfTtcbiAgdmFyIGZlZUl0ZW1MaXN0Tm9kZSA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbZGF0YS1mZWVJdGVtTGlzdF0nKSxcbiAgICBmZWVyYXRlTm9kZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1mZWVyYXRlXScpO1xuICBwb3N0RGF0YS5zdG9ja05vID0gZm9ybS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RvY2tObycpO1xuICBwb3N0RGF0YS50b3RhbEZlZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT10b3RhbEZlZV0nKS52YWx1ZTtcbiAgcG9zdERhdGEucmVtYXJrID0gZm9ybS5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtuYW1lPWRlc2NyaXB0aW9uXScpLnZhbHVlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZlZUl0ZW1MaXN0Tm9kZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBvYmouZmVlSWQgPSBmZWVJdGVtTGlzdE5vZGVbaV0ubmFtZTtcbiAgICBpZiAoZmVlSXRlbUxpc3ROb2RlW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWUnKSA9PT0gJ3NwZWMnKSB7XG4gICAgICBvYmouZmVlcmF0ZSA9IGZlZXJhdGVOb2RlLnZhbHVlO1xuICAgIH1cbiAgICBvYmouZmVlID0gZmVlSXRlbUxpc3ROb2RlW2ldLnZhbHVlO1xuICAgIG9iai5mZWVTaG9ydE5NID0gZmVlSXRlbUxpc3ROb2RlW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWVTaG9ydE5NJyk7XG4gICAgcG9zdERhdGEuZmVlSXRlbUxpc3QucHVzaChvYmopO1xuICB9XG4gIHJldHVybiBwb3N0RGF0YTtcbn07XG5Nb2RhbC5nZXRCdXR0b25TZWN0aW9uID0gZnVuY3Rpb24oZm9ybSkge1xuICB2YXIgbVNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyksXG4gICAgbVN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpLFxuICAgIG1DYW5jZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbVNlY3Rpb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdhY3Rpb24tYnV0dG9ucycpO1xuICBtU3VibWl0QnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYnV0dG9uIGJ1dHRvbi1wcmltYXJ5IGJ1dHRvbi1yb3VuZGVkIHVrLW1vZGFsLWNsb3NlJyk7XG4gIG1TdWJtaXRCdG4uaW5uZXJUZXh0ID0gJ+ehruWumic7XG4gIG1TdWJtaXRCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSAnNXB4JztcbiAgbVN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfc3RhdGlvbkZlZVVwZGF0ZV0nKS52YWx1ZTtcbiAgICB2YXIgZGF0YSA9IE1vZGFsLmdldFBvc3REYXRhKGZvcm0pO1xuICAgIC8vIGNvbnNvbGUubG9nKHVybCwgZGF0YSk7XG4gICAgZmV0Y2hfc3RhX3VwZGF0ZUZlZSh1cmwsIGRhdGEpO1xuICB9KVxuICBtQ2FuY2VsQnRuLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYnV0dG9uIGJ1dHRvbi1yb3VuZGVkIHVrLW1vZGFsLWNsb3NlJyk7XG4gIG1DYW5jZWxCdG4uaW5uZXJUZXh0ID0gJ+WPlua2iCc7XG4gIG1TZWN0aW9uLmFwcGVuZENoaWxkKG1TdWJtaXRCdG4pO1xuICBtU2VjdGlvbi5hcHBlbmRDaGlsZChtQ2FuY2VsQnRuKTtcbiAgcmV0dXJuIG1TZWN0aW9uO1xufVxuTW9kYWwuZ2V0RGVzY1RleHRhcmVhID0gZnVuY3Rpb24obmFtZSwgdGV4dCkge1xuICB2YXIgbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIG1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXG4gICAgbVRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgbURpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXdpZHRoLTEtMScpO1xuICBtTGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWxhYmVsJyk7XG4gIG1MYWJlbC5pbm5lclRleHQgPSB0ZXh0O1xuICBtTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBuYW1lKTtcbiAgbVRleHRhcmVhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstdGV4dGFyZWEnKTtcbiAgbVRleHRhcmVhLnNldEF0dHJpYnV0ZSgnbmFtZScsIG5hbWUpO1xuICBtVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdyb3dzJywgNCk7XG4gIG1UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ+Wkh+azqOS/oeaBr+acgOWkmuWPr+i+k+WFpTEwMOWtlycpO1xuICBtVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnLCAxMDApO1xuICBtVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdzdHlsZScsICdyZXNpemU6IG5vbmUnKTtcbiAgbURpdi5hcHBlbmRDaGlsZChtTGFiZWwpO1xuICBtRGl2LmFwcGVuZENoaWxkKG1UZXh0YXJlYSk7XG4gIHJldHVybiBtRGl2O1xufTtcbk1vZGFsLmdldFRvdGFsRmVlSW5wdXQgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB0ZXh0KSB7XG4gIHZhciBtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgbUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKSxcbiAgICBtSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpLFxuICAgIGZlZUl0ZW1MaXN0ID0gSlNPTi5wYXJzZShkYXRhLmZlZUl0ZW1MaXN0KSxcbiAgICB0b3RhbEZlZSA9IDA7XG4gIG1EaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay13aWR0aC0xLTEnKTtcbiAgbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xuICBtTGFiZWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgbUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgbmFtZSk7XG4gIG1JbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0Jyk7XG4gIG1JbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnbnVtYmVyJyk7XG4gIG1JbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICBtSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgbmFtZSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZmVlSXRlbUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB0b3RhbEZlZSArPSBOdW1iZXIoZmVlSXRlbUxpc3RbaV0uZmVlKTtcbiAgfVxuICBtSW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRvdGFsRmVlKTtcbiAgbURpdi5hcHBlbmRDaGlsZChtTGFiZWwpO1xuICBtRGl2LmFwcGVuZENoaWxkKG1JbnB1dCk7XG4gIHJldHVybiBtRGl2O1xufTtcbk1vZGFsLmNyZWF0ZUlucExpc3QgPSBmdW5jdGlvbihkYXRhKSB7XG4gIHZhciBmZWVyYXRlID0gZGF0YS5mZWVyYXRlID8gZGF0YS5mZWVyYXRlIDogbnVsbCxcbiAgICBmZWUgPSBkYXRhLmZlZSxcbiAgICBmZWVJZCA9IGRhdGEuZmVlSWQsXG4gICAgZmVlU2hvcnROTSA9IGRhdGEuZmVlU2hvcnROTTtcbiAgaWYgKGZlZVNob3J0Tk0gPT09ICflpITnva7otLknKSB7XG4gICAgdmFyIGVsMSA9IGNyZWF0ZUlucCgnZmVlcmF0ZScpLFxuICAgICAgZWwyID0gY3JlYXRlSW5wKCdzcGVjJyk7XG4gICAgcmV0dXJuIFtlbDEsIGVsMl07XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVsID0gY3JlYXRlSW5wKCk7XG4gICAgcmV0dXJuIFtlbF07XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbnAodHlwZSkge1xuICAgIHZhciBmbGFnID0gKHR5cGUgPT09ICdmZWVyYXRlJyksXG4gICAgICBmb3JtSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpLFxuICAgICAgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHZhciBpbnBNYXhMZW5ndGggPSAxNTsgLy8g5pyA5aSn6L6T5YWl5a2X56ym5pWw6YePXG4gICAgZm9ybUl0ZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay13aWR0aC0xLTInKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tbGFiZWwnKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0Jyk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ251bWJlcicpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWluJywgMCk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgZmxhZyA/ICdmZWVyYXRlJyA6IGZlZUlkKTtcbiAgICBpZiAodHlwZSA9PT0gJ3NwZWMnKSB7IC8vIOWkhOe9rui0ueS4jeWPr+e8lui+kVxuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdkYXRhLWZlZScsICdzcGVjJyk7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDlhbbku5blj6/ku6XnvJbovpFcbiAgICAgIGlmICghZmxhZykgeyAvLyDpmaTotLnnjoflpJblhbbku5botLnnlKjpmZDliLblrZfnrKZcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnLCBpbnBNYXhMZW5ndGgpO1xuICAgICAgfVxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnZhbHVlID0gTnVtYmVyKHRoaXMudmFsdWUpO1xuICAgICAgICBpZiAoZmxhZykge1xuICAgICAgICAgIC8vIOi0ueeOh+WIneWni+WMllxuICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKHRoaXMudmFsdWUgKiAxMDApIC8gMTAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIOWFtuS7luWIneWni+WMllxuICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKHRoaXMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgICB9KTtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnZhbHVlID0gTnVtYmVyKHRoaXMudmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgaW5wdXQubmFtZSk7XG4gICAgbGFiZWwuaW5uZXJUZXh0ID0gZmxhZyA/ICflnLDpnaLotLnnjocnIDogZmVlU2hvcnROTTtcbiAgICBpZiAoIWZsYWcpIHtcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1mZWVJdGVtTGlzdCcsICcnKTtcbiAgICAgIC8vIOmdnui0ueeOh+WPquiDvei+k+WFpeWbuuWumuWtl+espuWGheaVtOaVsFxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPiBpbnBNYXhMZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCBpbnBNYXhMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6LS5546H5Y+q6IO96L6T5YWl5Lik5L2N5bCP5pWwXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLm1hdGNoKC9eXFxkKyg/OlxcLlxcZHswLDJ9KT8vKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZmxhZyA/IGZlZXJhdGUgOiBmZWUpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnc3RlcCcsIGZsYWcgPyAnMC4wMScgOiAnMScpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1mZWVTaG9ydE5NJywgZmVlU2hvcnROTSk7XG4gICAgZm9ybUl0ZW0uYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgIGZvcm1JdGVtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICByZXR1cm4gZm9ybUl0ZW07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGZuX2dldE1vZGFsKGRhdGEsIHRpdGxlLCBpZCkge1xuICB2YXIgbW9kID0gbmV3IE1vZGFsKGRhdGEsIHRpdGxlLCBpZCk7XG4gIHJldHVybiBtb2QuY3JlYXRlKCk7XG59IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXHJcbmltcG9ydCB7XHJcbiAgaW5pdFN0YXRpb25fYmFzZURhdGEsIGluaXRTdGF0aW9uX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscyxcclxuICBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldywgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3LFxyXG59IGZyb20gJy4vU3RhdGlvblBhZ2VzJ1xyXG5pbXBvcnQge1xyXG4gIGNoZWNrUmVzLFxyXG4gIGZuX2luaXRTdWJtaXRCdG4sIGZuX2luaXRFeHBvcnRCdG4sIGZldGNoX3N5c19nZXRBbGxDb25zdW1lciwgZmV0Y2hfZXhwb3J0RXhjZWwsXHJcbiAgZmV0Y2hfc3lzX2dldEFsbERpc2NvdW50UG9saWN5LCBmZXRjaF9zeXNfcXVlcnlEaXNjb3VudEN1c3RvbWVyXHJcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuaW1wb3J0IGZuX3F1ZXJ5RGljdCBmcm9tICcuL1F1ZXJ5RGljdCdcclxuaW1wb3J0IGZuX2luaXRQYWdpbmF0ZSBmcm9tICcuL1BhZ2luYXRlJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTeXN0ZW1fYmFzZURhdGEoKSB7XHJcbiAgcmV0dXJuIGluaXRTdGF0aW9uX2Jhc2VEYXRhKCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTeXN0ZW1fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzKCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxfbmV3KCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldygpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHNfbmV3KCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXcoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN5c3RlbV9nZXRBbGxDb25zdW1lcigpIHtcclxuICAgLy8gYmluZCBzdWJtaXQgYnV0dG9uOlxyXG4gIGZuX2luaXRTdWJtaXRCdG4oMSwgMTAsIGZldGNoX3N5c19nZXRBbGxDb25zdW1lcik7XHJcbiAgLy8gYmluZCBleHBvcnQgYnV0dG9uOlxyXG4gIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hfZXhwb3J0RXhjZWwpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3lzdGVtX2dldEFsbERpc2NvdW50UG9saWN5KCkge1xyXG4gIHZhciBhcGlfZ2V0QWxsU3VwcGxpZXJfdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZ2V0QWxsU3VwcGxpZXJdJykudmFsdWU7XHJcbiAgZm5fcXVlcnlEaWN0KCdESVNDT1VOVF9UWVBFJywgZnVuY3Rpb24ocmVzKXtcclxuICAgIC8vIGNvbnNvbGUubG9nKHJlcylcclxuICAgIC8vIGRpc3RpbGwgc2VsZWN0OlxyXG4gICAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjb3VudFR5cGUnKTtcclxuICAgIEdsb2JfZm4uaW5pdERpc2NvdXRUeXBlU2VsKHJlcy5kYXRhLCBzZWwpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgdXJsOiBhcGlfZ2V0QWxsU3VwcGxpZXJfdXJsLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAvLyBkaXN0aWxsIHN1cHBsaWVyOlxyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXBwbGllcklkJyk7XHJcbiAgICAgICAgR2xvYl9mbi5pbml0U3VwcGxpZXJTZWwoZGF0YSwgc2VsKTtcclxuICAgICAgICAvLyBpbml0IFdkYXRlOlxyXG4gICAgICAgIEdsb2JfZm4uV2RhdGVJbml0KCdzdGFydFRpbWUnLCAnZW5kVGltZScpO1xyXG4gICAgICAgIEdsb2JfZm4uV2RhdGVJbml0KCdzZXRTdGFydFRpbWUnLCAnc2V0RW5kVGltZScpO1xyXG4gICAgICAgIC8vIGJpbmQgc3VibWl0IGJ1dHRvbjpcclxuICAgICAgICBmbl9pbml0U3VibWl0QnRuKDEsIDEwLCBmZXRjaF9zeXNfZ2V0QWxsRGlzY291bnRQb2xpY3kpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTsgXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTeXN0ZW1fZ2V0RGlzY291bnRQb2xpY3koKSB7XHJcbiAgdmFyIGRpc2NvdW50UG9saWN5SWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWRpc2NvdW50UG9saWN5SWRdJykudmFsdWU7XHJcbiAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2dldERpc2NvdW50UG9saWN5XScpLnZhbHVlO1xyXG4gIHZhciBkYXRhID0ge1xyXG4gICAgZGlzY291bnRQb2xpY3lJZDogZGlzY291bnRQb2xpY3lJZFxyXG4gIH07XHJcbiAgJC5hamF4KHtcclxuICAgIHVybDogdXJsLFxyXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcclxuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5peg5pWw5o2uJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdsb2JfZm4uaW5pdERpc2NvdW50RGV0YWlscyhkYXRhKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBhbGVydChlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICAvLyDnu5Hlrprov5Tlm55idXR0b25cclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQmFjaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9iYWNrXScpLnZhbHVlXHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFN5c190YWJsZSgpe31cclxuU3lzX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV91c2VySW5mbyA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcclxuICB2YXIgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0YVRhYmxlJyk7XHJcblxyXG4gIHZhciB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7XHJcbiAgdGhlYWQuaW5uZXJIVE1MID0gJyc7XHJcbiAgdmFyIHRySW5UaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgdGhlYWQuYXBwZW5kQ2hpbGQodHJJblRoZWFkKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5a6i5oi35Luj56CBJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKfov5Dlhazlj7jlhajnp7AnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn55So5oi354q25oCBJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnu5PnrpfmlrnlvI8nKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aTjeS9nCcpO1xyXG5cclxuICB2YXIgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xyXG4gIHRib2R5LmlubmVySFRNTCA9ICcnO1xyXG4gIHZhciBkYXRhID0gcmVzLmRhdGEuY29uc3VtZXJMaXN0O1xyXG5cclxuICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XHJcbiAgICB2YXIgdHIwID0gR2xvYl9mbi5UYWJsZS5zaG93Tm9EYXRhKHRySW5UaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aCk7XHJcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgXHJcbiAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xyXG4gICAgdGRTZXJpYWwuaW5uZXJUZXh0ID0gaSArIDEgKyAoTnVtYmVyKHBhZ2VOdW1iZXIpIC0gMSkgKiBOdW1iZXIocGFnZVNpemUpO1xyXG5cclxuICAgIHZhciB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcclxuICAgIHZhciB0ZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQyKTtcclxuICAgIHZhciB0ZDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQzKTtcclxuICAgIHZhciB0ZDQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ0KTtcclxuICAgIHZhciB0ZDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ1KTtcclxuICAgIHZhciB0ZDYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ2KTtcclxuICAgIHZhciB0b0Rpc2NvdW50UG9saWNpZXNBID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgIGlmIChrZXkgPT0gJ2N1c3RvbWVySWQnKSB7XHJcbiAgICAgICAgdGQxLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcclxuICAgICAgICB0b0Rpc2NvdW50UG9saWNpZXNBLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJywgZGF0YVtpXVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdjdXN0b21lck5hbWVDaG4nKSB7XHJcbiAgICAgICAgdGQyLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdzdGF0dXNEZXNjJykge1xyXG4gICAgICAgIHRkMy5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnc3RhdHVzJykge1xyXG4gICAgICAgIHRkMy5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdjYW5ZZXNEZXNjJykge1xyXG4gICAgICAgIHRkNC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnY2FuWWVzJykge1xyXG4gICAgICAgIHRkNC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdmZWVXYXlEZXNjJykge1xyXG4gICAgICAgIHRkNS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnZmVlV2F5SWQnKSB7XHJcbiAgICAgICAgdGQ1LnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOWmguaenOW3suazqOWGjOS4lOaciOe7k++8mlxyXG4gICAgaWYgKCh0ZDMuZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycpID09ICcxJykgJiYgKHRkNS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlV2F5SWQnKSA9PSAnTVAnKSkge1xyXG4gICAgICB0b0Rpc2NvdW50UG9saWNpZXNBLmlubmVyVGV4dCA9ICfkvJjmg6DmlL/nrZbmn6XnnIsnO1xyXG4gICAgICB0b0Rpc2NvdW50UG9saWNpZXNBLmhyZWYgPSAnI1Nob3dEaXNjb3VudFBvbGljaWVzJztcclxuICAgICAgdGQ2LmFwcGVuZENoaWxkKHRvRGlzY291bnRQb2xpY2llc0EpO1xyXG5cclxuICAgICAgdG9EaXNjb3VudFBvbGljaWVzQS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgbGluayA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5RGlzY291bnRDdXN0b21lcl0nKS52YWx1ZTtcclxuICAgICAgICB2YXIgZGF0YSA9IHtjdXN0b21lcklkOiBsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJyl9O1xyXG4gICAgICAgIGZldGNoX3N5c19xdWVyeURpc2NvdW50Q3VzdG9tZXIodXJsLCBkYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZDYuaW5uZXJUZXh0ID0gJy0nO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgfVxyXG5cclxuICAvLyDorr7nva5wYWdpbmF0aW9uXHJcbiAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoX3N5c19nZXRBbGxDb25zdW1lcik7XHJcbn07XHJcblN5c190YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfaW5Nb2RhbCA9IGZ1bmN0aW9uKHJlcykge1xyXG4gIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93RGlzY291bnRQb2xpY3knKTtcclxuICB2YXIgdGFibGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCd0YWJsZScpO1xyXG4gIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XHJcbiAgdGJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgdmFyIGRhdGFMaXN0ID0gcmVzLmRhdGE7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XHJcbiAgICB2YXIgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHZhciBzcGFuU3RhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0ZDIuYXBwZW5kQ2hpbGQoc3BhblN0YXJ0KTtcclxuICAgIHZhciBzcGFuVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHNwYW5UZXh0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQgdWstbWFyZ2luLXNtYWxsLXJpZ2h0Jyk7XHJcbiAgICBzcGFuVGV4dC5pbm5lclRleHQgPSAn6IezJztcclxuICAgIHRkMi5hcHBlbmRDaGlsZChzcGFuVGV4dCk7XHJcbiAgICB2YXIgc3BhbkVuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHRkMi5hcHBlbmRDaGlsZChzcGFuRW5kKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMik7XHJcblxyXG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFMaXN0W2ldKSB7XHJcbiAgICAgIGlmIChrZXkgPT0gJ2Rpc2NvdW50UG9saWN5TmFtZScpXHJcbiAgICAgICAgdGQxLmlubmVyVGV4dCA9IGRhdGFMaXN0W2ldW2tleV07XHJcbiAgICAgIGVsc2UgaWYgKGtleSA9PSAnc3RhcnRUaW1lU3RyJylcclxuICAgICAgICBzcGFuU3RhcnQuaW5uZXJUZXh0ID0gZGF0YUxpc3RbaV1ba2V5XTtcclxuICAgICAgZWxzZSBpZiAoa2V5ID09ICdlbmRUaW1lU3RyJylcclxuICAgICAgICBzcGFuRW5kLmlubmVyVGV4dCA9IGRhdGFMaXN0W2ldW2tleV07XHJcbiAgICAgIGVsc2VcclxuICAgICAgICB0ZDEuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFMaXN0W2ldW2tleV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuICB9XHJcblxyXG4gIFVJa2l0Lm1vZGFsKG1vZGFsKS5zaG93KCk7XHJcbn07XHJcblN5c190YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfcXVlcnlQb2xpY2llcyA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcclxuICB2YXIgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGF0YVRhYmxlJyk7XHJcbiAgdmFyIHRoZWFkID0gdGFibGUucXVlcnlTZWxlY3RvcigndGhlYWQnKTtcclxuICB0aGVhZC5pbm5lckhUTUwgPSAnJztcclxuICB2YXIgdHJJblRoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICB0aGVhZC5hcHBlbmRDaGlsZCh0ckluVGhlYWQpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bqP5Y+3Jyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6DmlL/nrZblkI3np7AnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S8mOaDoOexu+WeiycpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5pyJ5pWI5pyfJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforr7nva7ml7bpl7QnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5omA5bGe6LSn56uZJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcclxuXHJcbiAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcclxuICB0Ym9keS5pbm5lckhUTUwgPSAnJztcclxuICB2YXIgZGF0YSA9IHJlcy5kYXRhLnN5c3RlbURpc2NvdW50UG9saWN5TGlzdDtcclxuICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuXHJcbiAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xyXG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcclxuXHJcbiAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xyXG4gICAgdGRTZXJpYWwuaW5uZXJUZXh0ID0gaSArIDEgKyAoTnVtYmVyKHBhZ2VOdW1iZXIpIC0gMSkgKiBOdW1iZXIocGFnZVNpemUpO1xyXG5cclxuICAgIHZhciB0ZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcclxuICAgIHZhciB0ZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQyKTtcclxuICAgIHZhciB0ZDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgdHIuYXBwZW5kQ2hpbGQodGQzKTtcclxuICAgIHZhciBzcGFuU3RhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5TdGEpO1xyXG4gICAgdmFyIHNwYW5UZXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBzcGFuVGV4LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQgdWstbWFyZ2luLXNtYWxsLXJpZ2h0Jyk7XHJcbiAgICBzcGFuVGV4LmlubmVyVGV4dCA9ICfoh7MnO1xyXG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5UZXgpO1xyXG4gICAgdmFyIHNwYW5FbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0ZDMuYXBwZW5kQ2hpbGQoc3BhbkVuZCk7XHJcbiAgICB2YXIgdGQ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNCk7XHJcbiAgICB2YXIgdGQ1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNSk7XHJcbiAgICB2YXIgdGQ2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNik7XHJcbiAgICB2YXIgdGQ3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNyk7XHJcbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGxpbmsuaW5uZXJUZXh0ID0gJ+afpeeci+ivpuaDhSdcclxuICAgIHRkNy5hcHBlbmRDaGlsZChsaW5rKTtcclxuXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtpXSkge1xyXG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeU5hbWUnKSB7XHJcbiAgICAgICAgdGQxLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbD8gJy0nOiBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnZGlzY291bnRUeXBlRGVzYycpIHtcclxuICAgICAgICB0ZDIuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsPyAnLSc6IGRhdGFbaV1ba2V5XTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdzdGFydFRpbWUnKSB7XHJcbiAgICAgICAgc3BhblN0YS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGw/ICctJzogZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ2VuZFRpbWUnKSB7XHJcbiAgICAgICAgc3BhbkVuZC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGw/ICctJzogZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ3NldFRpbWUnKSB7XHJcbiAgICAgICAgdGQ0LmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbD8gJy0nOiBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnc3RhdHVzRGVzYycpIHtcclxuICAgICAgICB0ZDUuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsPyAnLSc6IGRhdGFbaV1ba2V5XTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdzdXBwbGllck5hbWUnKSB7XHJcbiAgICAgICAgdGQ2LmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbD8gJy0nOiBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsICdwb2xpY2llc01hbmFnZW1lbnQvJyArIGRhdGFbaV0uZGlzY291bnRQb2xpY3lJZCk7XHJcblxyXG4gIH1cclxuXHJcbiAgLy8g6K6+572ucGFnaW5hdGlvblxyXG4gIGZuX2luaXRQYWdpbmF0ZShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaF9zeXNfZ2V0QWxsRGlzY291bnRQb2xpY3kpO1xyXG59OyIsImltcG9ydCBDaGFydCBmcm9tICdjaGFydC5qcy9hdXRvJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYW52YXMoc2VsZWN0b3IsIGNvbmZpZykge1xuICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ+e8uuWwkeWPguaVsDogKFwiI2NhbnZhc0lEXCIsIHtbaWZyYW1lTm9kZTogRG9jdW1lbnRJZnJhbWVOb2RlLCBjdHg6IFwiMmRcIl19KScpXG4gIH1cbiAgY29uc3Qgcm9vdERvY3VtZW50ID0gY29uZmlnICYmIGNvbmZpZy5pZnJhbWVOb2RlPyBjb25maWcuaWZyYW1lTm9kZS5jb250ZW50RG9jdW1lbnQ6IGRvY3VtZW50XG4gIGNvbnN0IGN2cyA9IHJvb3REb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKVxuICBjb25zdCBjdHggPSBjb25maWcgJiYgY29uZmlnLmN0eD8gY29uZmlnLmN0eDogJzJkJ1xuICBpZiAoIWN2cykgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ+S4jeiDveWIneWni+WMlmNhbnZhc++8jOWboOS4uuWumuS9jeS4jeWIsERPTScpXG4gIGlmICghY3ZzLmdldENvbnRleHQpIHJldHVybiBjb25zb2xlLmVycm9yKCfmtY/op4jlmajkuI3mlK/mjIFjYW52YXMnKVxuICB0aGlzLm5vZGUgPSBjdnNcbiAgdGhpcy5jdHggPSBjdnMuZ2V0Q29udGV4dChjdHgpXG4gIHRoaXMuaGVpZ2h0ID0gMzAwXG4gIHRoaXMud2lkdGggPSAxNTBcbiAgY29uc29sZS5sb2coJ2NhbnZhc+WIneWni+WMluaIkOWKnycpXG59XG5cbkNhbnZhcy5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uKHJhdGlvKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FudmFzTm9kZSA9IHRoaXMubm9kZVxuICAgIGNvbnN0IHBhcmVudCA9IGNhbnZhc05vZGUucGFyZW50Tm9kZVxuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUocGFyZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXgtd2lkdGgnKVxuICAgIGNhbnZhc05vZGUud2lkdGggPSBwYXJzZUludChwYXJlbnRXaWR0aClcbiAgICBjb25zdCBjYW52YXNSYXRpbyA9IHJhdGlvXG4gICAgY29uc3QgY2FudmFzSGVpZ2h0ID0gcGFyc2VJbnQoY2FudmFzTm9kZS53aWR0aCkqcGFyc2VJbnQoY2FudmFzUmF0aW9bMV0pL3BhcnNlSW50KGNhbnZhc1JhdGlvWzBdKVxuICAgIGNhbnZhc05vZGUuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0XG4gICAgdGhpcy53aWR0aCA9IGNhbnZhc05vZGUud2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IGNhbnZhc05vZGUuaGVpZ2h0XG4gICAgcmV0dXJuIHRoaXNcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuQ2FudmFzLnByb3RvdHlwZS5idWlsZENoYXJ0ID0gZnVuY3Rpb24oY2hhcnRqc0NvbmZpZykge1xuICB0cnkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XG4gICAgQ2hhcnQuZGVmYXVsdHMuZm9udC5zaXplID0gMTRcbiAgICBjb25zdCBjaGFydCA9IG5ldyBDaGFydChjdHgsIGNoYXJ0anNDb25maWcpXG4gICAgdGhpcy5jaGFydCA9IGNoYXJ0XG4gICAgdGhpcy5jaGFydGpzQ29uZmlnID0gY2hhcnRqc0NvbmZpZ1xuICAgIGNvbnNvbGUubG9nKCdDaGFydC5qc+mFjee9ruaIkOWKnycpXG4gICAgcmV0dXJuIHRoaXNcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuLy8gQ2FudmFzLnByb3RvdHlwZS5zZXRDaGFydFRpdGxlID0gZnVuY3Rpb24odGl0bGVUZXh0KSB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHhcbi8vICAgICBjb25zdCBjaGFydFRpdGxlID0gdGl0bGVUZXh0PyB0aXRsZVRleHQ6ICfmnKrlkb3lkI3lm77ooagnXG4vLyAgICAgY3R4LmZpbGxUZXh0KGNoYXJ0VGl0bGUsIDEwLCA1MClcbi8vICAgICByZXR1cm4gdGhpc1xuLy8gICB9IGNhdGNoKGUpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4vLyAgICAgcmV0dXJuIHRoaXNcbi8vICAgfVxuICBcbi8vIH1cblxuLy8gQ2FudmFzLnByb3RvdHlwZS5kcmF3WFlBeGlzID0gZnVuY3Rpb24oY29uZmlnKSB7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHhcbi8vICAgICBjb25zdCB4VGl0bGUgPSBjb25maWcueFRpdGxlXG4vLyAgICAgY29uc3QgeVRpdGxlID0gY29uZmlnLnlUaXRpbGVcbi8vICAgICBDYW52YXMuZHJhd1godGhpcywgeFRpdGxlKVxuLy8gICAgIENhbnZhcy5kcmF3WSh0aGlzLCB5VGl0bGUpXG4vLyAgICAgdGhpcy5YWUF4aXMgPSB7XG4vLyAgICAgICB4VGl0bGU6IHhUaXRsZSxcbi8vICAgICAgIHlUaXRsZTogeVRpdGxlLFxuLy8gICAgIH1cbi8vICAgICByZXR1cm4gdGhpc1xuLy8gICB9IGNhdGNoKGUpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4vLyAgICAgcmV0dXJuIHRoaXNcbi8vICAgfVxuLy8gfVxuXG4vLyBDYW52YXMuZHJhd1ggPSBmdW5jdGlvbihjYW52YXMsIHRpdGxlQXJyYXkpIHtcbi8vICAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGhcbi8vICAgY29uc3QgdGl0bGVDb3VudCA9IHRpdGxlQXJyYXkubGVuZ3RoXG5cbi8vIH1cbi8vIENhbnZhcy5kcmF3WSA9IGZ1bmN0aW9uKGNhbnZhcywgdGl0bGVBcnJheSkge1xuXG4vLyB9IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5pbXBvcnQgZm5faW5pdFBhZ2luYXRlIGZyb20gJy4vUGFnaW5hdGUnXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY2FudmFzJ1xuaW1wb3J0IGNoYXJ0Q29uZmlnIGZyb20gJy4vZGF0YVN0YXRpc3RpY0NoYXJ0Q29uZmlnJ1xuaW1wb3J0IHtcbiAgZmV0Y2hEYXRhLCBmZXRjaF9leHBvcnRFeGNlbCwgZm5faW5pdFN1Ym1pdEJ0biwgZm5faW5pdEV4cG9ydEJ0blxufSBmcm9tICcuL0FqYXhNYW5hZ2VyJ1xuXG5leHBvcnQgZnVuY3Rpb24gZHNJbmRleCgpIHtcbiAgY29uc29sZS5sb2coJ+i/m+WFpSAtLS0tLS0tLS0tPiBkYXRhU3RhdGlzdGljIEluZGV4JylcbiAgaW5pdFdkYXRlUGlja2VyKClcbiAgcXVlcnlCaWxsUnVsZSgpXG4gIC50aGVuKHJlc3BvbnNlID0+IHNldEJpbGxSdWxlKHJlc3BvbnNlKSlcbiAgLnRoZW4oKCkgPT4gYmluZEJ1dHRvbnMobG9hZERhdGEsIHNhdmVCaWxsUnVsZUlkKSlcbiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHNEZXRhaWxzKCkge1xuICBjb25zb2xlLmxvZygn6L+b5YWlIC0tLS0tLS0tLS0+IGRhdGFTdGF0aXN0aWMgRGV0YWlscycpXG4gIFxuICBzZXRQYXJlbnRMaW5rKCcjcGFyZW50TGluaycsICdkb3ZlcGF5LWZyZWlnaHQvc3RhdGlvbi9kYXRhU3RhdGlzdGljJylcbiAgXG4gIHF1ZXJ5QmlsbFJ1bGUoKVxuICAudGhlbihyZXNwb25zZSA9PiBzZXRCaWxsUnVsZVRleHQocmVzcG9uc2UpKVxuICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcihlcnJvcikpXG5cbiAgLyogdGFibGUgKi9cbiAgYmluZEJ1dHRvbnMobG9hZERhdGFEZXRhaWxzLCBudWxsICwgKCkgPT4ge2hpc3RvcnkuYmFjaygpfSlcbiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKVxuICBcbn1cblxuZnVuY3Rpb24gaW5pdFdkYXRlUGlja2VyKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJpbGxUaW1lSW5wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImJpbGxUaW1lXCJdJylcbiAgICBiaWxsVGltZUlucC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgV2RhdGVQaWNrZXIoe1xuICAgICAgICBlbDp0aGlzLFxuICAgICAgICBkYXRlRm10Oid5eXl5JyxcbiAgICAgICAgbWF4RGF0ZTonJXknLFxuICAgICAgfSlcbiAgICB9KVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG59XG5mdW5jdGlvbiBxdWVyeUJpbGxSdWxlKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJhcGlfcXVlcnlFZmZlY3RpdmVCaWxsUnVsZVwiXScpLnZhbHVlXG4gICAgICBmZXRjaERhdGEodXJsLCAnJywgcmVzKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlaihlLnN0YWNrKVxuICAgIH1cbiAgfSlcbn1cbmZ1bmN0aW9uIHNldEJpbGxSdWxlKHJlc3BvbnNlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJpbGxSdWxlSWRTZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1cImJpbGxSdWxlSWRcIl0nKVxuICAgICAgY29uc3QgZGF0YUFyciA9IHJlc3BvbnNlLmRhdGFcbiAgICAgIGlmIChkYXRhQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGF0YUFyci5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJylcbiAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIGRhdGEuYmlsbFJ1bGVJZClcbiAgICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gZGF0YS5iaWxsUnVsZU5hbWVcbiAgICAgICAgICBiaWxsUnVsZUlkU2VsLmFwcGVuZENoaWxkKG9wdGlvbilcbiAgICAgICAgfSlcbiAgICAgIH0gXG4gICAgICByZXNvbHZlKCdzdWNjZXNzJylcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlaihlLnN0YWNrKVxuICAgICAgLy8gY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgIH1cbiAgfSlcbn1cbmZ1bmN0aW9uIHNldEJpbGxSdWxlVGV4dChyZXMpIHtcbiAgdHJ5IHtcbiAgICBsZXQgaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiYmlsbFJ1bGVJZFwiXScpXG4gICAgbGV0IHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmlsbFJ1bGVUZXh0JylcbiAgICBpZiAoIWlkLnZhbHVlKSB7XG4gICAgICB0ZXh0LnZhbHVlID0gJ+WFqOmDqCdcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGF0YUFyciA9IHJlcy5kYXRhXG4gICAgICBkYXRhQXJyLnNvbWUoKGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGlkLnZhbHVlID09PSBkYXRhLmJpbGxSdWxlSWQpIHtcbiAgICAgICAgICB0ZXh0LnZhbHVlID0gZGF0YS5iaWxsUnVsZU5hbWVcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG59XG5mdW5jdGlvbiBiaW5kQnV0dG9ucyhjYiwgZGF0YUhhbmRsZXIsIGNoZWNrUmVzQ2FsbGJhY2spIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBmbl9pbml0RXhwb3J0QnRuKGZldGNoX2V4cG9ydEV4Y2VsKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxNSwgZmV0Y2hEYXRhLCBjYiwgZGF0YUhhbmRsZXIsIGNoZWNrUmVzQ2FsbGJhY2spXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZWooZS5zdGFjaylcbiAgICB9XG4gIH0pXG59XG5mdW5jdGlvbiBzYXZlQmlsbFJ1bGVJZChkYXRhKSB7XG4gIHRyeSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImJpbGxSdWxlSWRWYWx1ZVwiXScpLnZhbHVlID0gZGF0YS5iaWxsUnVsZUlkXG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgfVxufVxuZnVuY3Rpb24gbG9hZERhdGEocmVzcG9uc2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJylcbiAgICBjb25zdCB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpXG4gICAgc2V0VGhlYWQodHJJblRoZWFkKVxuICAgIHNldFRib2R5KHRhYmxlLCByZXNwb25zZSlcbiAgICBmbl9pbml0UGFnaW5hdGUocmVzcG9uc2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaERhdGEsIGxvYWREYXRhKVxuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4gIH1cbiAgZnVuY3Rpb24gc2V0VGhlYWQodHIpIHtcbiAgICBjb25zdCBzZXQgPSBHbG9iX2ZuLlRhYmxlLnNldFRoXG4gICAgY29uc3QgdGV4dEFyciA9IFsn5o6S5ZCNJywgJ+W+gOadpeaIt+e8lueggScsICfllYbmiLfnvJblj7cnLCAn5b6A5p2l5oi35ZCN56ewJywgJ+W5tOW6picsICfmgLvph5Hpop0nLCAn5pON5L2cJ11cbiAgICB0ZXh0QXJyLmZvckVhY2goKHRleHQpID0+IHtcbiAgICAgIHNldCh0ciwgdGV4dClcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIHNldFRib2R5KHRhYmxlLCByZXMpIHtcbiAgICBjb25zdCB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JylcbiAgICB0Ym9keS5pbm5lckhUTUwgPSAnJ1xuICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YS5zdW1tYXJ5TGlzdFxuICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgIGNvbnN0IHRhYiA9IEdsb2JfZm4uVGFibGVcbiAgICAgIGNvbnN0IHRyMCA9IHRhYi5zaG93Tm9EYXRhKHRhYi5nZXRUaFRyKHRhYmxlKS5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aClcbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBkYXRhLmZvckVhY2goKGxpbmUvKiwgaW5kZXgqLykgPT4ge1xuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpXG4gICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cilcbiAgICAgIC8vIGNvbnN0IHRkU2VyaWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgLy8gdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpXG4gICAgICAvLyB0ZFNlcmlhbC5pbm5lclRleHQgPSBpbmRleCArIDEgKyAocGFyc2VJbnQocGFnZU51bWJlcikgLSAxKSAqIHBhcnNlSW50KHBhZ2VTaXplKVxuICAgICAgY29uc3Qgc2V0ID0gR2xvYl9mbi5UYWJsZS5zZXRUZFxuICAgICAgY29uc3QgcHJvcEFyciA9IFsnc2VyaWFsTnVtYmVyJywgJ2VzYkN1c3RvbWVySWQnLCAnYWNjb3VudElkJyxcbiAgICAgICAgJ2VzYkN1c3RvbWVyTmFtZScsICdiaWxsVGltZScsICd0b3RhbEFtb3VudCddXG4gICAgICBwcm9wQXJyLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgc2V0KHRyLCBsaW5lW3Byb3BdKVxuICAgICAgfSlcbiAgICAgIC8qIOafpeeci+ivpuaDhSAqL1xuICAgICAgY29uc3QgdGRBY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpXG4gICAgICBjb25zdCB0ZEFjdGlvbkxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgIHRkQWN0aW9uLmFwcGVuZENoaWxkKHRkQWN0aW9uTGluaylcbiAgICAgIHRyLmFwcGVuZENoaWxkKHRkQWN0aW9uKVxuICAgICAgdGRBY3Rpb25MaW5rLmlubmVyVGV4dCA9ICfmn6XnnIvor6bnu4YnXG4gICAgICBwcm9wQXJyLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgdGRBY3Rpb25MaW5rLmRhdGFzZXRbcHJvcF0gPSBsaW5lW3Byb3BdXG4gICAgICB9KVxuICAgICAgdGRBY3Rpb25MaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9EZXRhaWxzKVxuICAgIH0pXG4gIH1cbn1cbmZ1bmN0aW9uIHRvRGV0YWlscyhldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gIGNvbnN0IGVsID0gZXZlbnQudGFyZ2V0XG4gIHRyeSB7XG4gICAgY29uc3QgbG9jID0gd2luZG93LmxvY2F0aW9uXG4gICAgY29uc3QgdXJsID0gYCR7bG9jLnByb3RvY29sfS8vJHtsb2MuaG9zdH0vZG92ZXBheS1mcmVpZ2h0L3N0YXRpb24vZGF0YVN0YXRpc3RpYy9kZXRhaWxzYFxuICAgIGxldCBwb3N0RGF0YSA9IHtcbiAgICAgIGJpbGxSdWxlSWQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YmlsbFJ1bGVJZFZhbHVlXScpLnZhbHVlXG4gICAgfVxuICAgIGlmIChlbC5kYXRhc2V0KSB7XG4gICAgICBmb3IobGV0IHByb3AgaW4gZWwuZGF0YXNldCkge1xuICAgICAgICBwb3N0RGF0YVtwcm9wXSA9IGVsLmRhdGFzZXRbcHJvcF1cbiAgICAgIH1cbiAgICB9XG4gICAgR2xvYl9mbi5zdWJtVmlydEZvcm0odXJsLCBwb3N0RGF0YSlcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG59XG5mdW5jdGlvbiBzZXRQYXJlbnRMaW5rKG5vZGUsIGxpbmspIHtcbiAgY29uc3QgYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobm9kZSlcbiAgY29uc3QgbG9jID0gd2luZG93LmxvY2F0aW9uXG4gIGEuc2V0QXR0cmlidXRlKCdocmVmJywgYCR7bG9jLnByb3RvY29sfS8vJHtsb2MuaG9zdH0vJHtsaW5rfWApXG59XG5mdW5jdGlvbiBsb2FkRGF0YURldGFpbHMocmVzcG9uc2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UpXG4gICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJylcbiAgICBjb25zdCB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpXG4gICAgc2V0VGhlYWQodHJJblRoZWFkKVxuICAgIHNldFRib2R5KHRhYmxlLCByZXNwb25zZSlcbiAgICBmbl9pbml0UGFnaW5hdGUocmVzcG9uc2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaERhdGEsIGxvYWREYXRhKVxuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4gIH1cbiAgdHJ5IHtcbiAgICBjaGFydEhhbmRsZXIocmVzcG9uc2UpXG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgfVxuICBmdW5jdGlvbiBzZXRUaGVhZCh0cikge1xuICAgIGNvbnN0IHNldCA9IEdsb2JfZm4uVGFibGUuc2V0VGhcbiAgICBjb25zdCB0ZXh0QXJyID0gWyfluo/lj7cnLCAn5bm05pyIJywgJ+aAu+mHkeminScsICfnu5PnrpflrqLmiLflkI3np7AnXVxuICAgIHRleHRBcnIuZm9yRWFjaCgodGV4dCkgPT4ge1xuICAgICAgc2V0KHRyLCB0ZXh0KVxuICAgIH0pXG4gIH1cbiAgZnVuY3Rpb24gc2V0VGJvZHkodGFibGUsIHJlcykge1xuICAgIGNvbnN0IHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKVxuICAgIHRib2R5LmlubmVySFRNTCA9ICcnXG4gICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhXG4gICAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgY29uc3QgdGFiID0gR2xvYl9mbi5UYWJsZVxuICAgICAgY29uc3QgdHIwID0gdGFiLnNob3dOb0RhdGEodGFiLmdldFRoVHIodGFibGUpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKVxuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpXG4gICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cilcbiAgICAgIGNvbnN0IHNldCA9IEdsb2JfZm4uVGFibGUuc2V0VGRcbiAgICAgIGNvbnN0IHByb3BBcnIgPSBbJ3NlcmlhbE51bWJlcicsICdiaWxsVGltZScsICd0b3RhbEFtb3VudCcsXG4gICAgICAgICdlc2JDdXN0b21lck5hbWUnXVxuICAgICAgcHJvcEFyci5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICAgIHNldCh0ciwgbGluZVtwcm9wXSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuICAgLyogY2hhcnQgKi9cbiAgZnVuY3Rpb24gY2hhcnRIYW5kbGVyKHJlcykge1xuICAgIGNvbnN0IGN2cyA9IG5ldyBDYW52YXMoJyNkYXRhU3RhdGlzdGljQ2hhcnQnKVxuICAgIC5zZXRTaXplKFsxNiwgOV0pXG4gICAgLmJ1aWxkQ2hhcnQoY2hhcnRDb25maWcocmVzKSlcblxuICAgIGNvbnNvbGUubG9nKGN2cylcbiAgfVxufVxuXG5cblxuXG4vLyBjYW52YXMuc2V0Q2hhcnRUaXRsZShjdnMsICflm77ooagnKVxuXG4iLCJjb25zdCBjb2xvciA9IHtcbiAgYmx1ZTogJ3JnYigzLCA3OCwgMTYyKScsXG4gIHllbGxvdzogJ3JnYigyNTAsIDE2NiwgMjYpJyxcbn1cbmNvbnN0IGxlZ2VuZExhYmVsID0gJ+mHkeminSdcblxuY29uc3QgdHlwZSA9ICdiYXInXG5jb25zdCBvcHRpb25zID0ge1xuICBsYXlvdXQ6IHtcbiAgICBwYWRkaW5nOiAyMFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHJlcykge1xuICBjb25zdCBheGlzRGF0YSA9IGdldEF4aXNEYXRhKHJlcylcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IGdldERhdGEoYXhpc0RhdGEpLFxuICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QXhpc0RhdGEocmVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhXG4gICAgbGV0IGF4aXNEYXRhID0gW11cbiAgICBkYXRhLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgIGxldCBvYmplY3QgPSB7fVxuICAgICAgb2JqZWN0LmxhYmVsID0gbGluZS5iaWxsVGltZVxuICAgICAgb2JqZWN0LmluZGV4ID0gbGluZS50b3RhbEFtb3VudFxuICAgICAgYXhpc0RhdGEucHVzaChvYmplY3QpXG4gICAgfSlcbiAgICBheGlzRGF0YS5zb3J0KChmaXJzdEl0ZW0sIHNlY29uZEl0ZW0pID0+IFxuICAgICAgcGFyc2VJbnQoZmlyc3RJdGVtLmxhYmVsKSAtIHBhcnNlSW50KHNlY29uZEl0ZW0ubGFiZWwpKVxuICAgIHJldHVybiBheGlzRGF0YVxuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0YShkYXRhKSB7XG4gIFxuICByZXR1cm4ge1xuICAgIGxhYmVsczogZ2V0TGFiZWxzKGRhdGEpLFxuICAgIGRhdGFzZXRzOiBbe1xuICAgICAgZGF0YTogZ2V0SW5kZXgoZGF0YSksXG4gICAgICBsYWJlbDogbGVnZW5kTGFiZWwsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJsdWUsXG4gICAgICBib3JkZXJDb2xvcjogY29sb3IuYmx1ZSxcbiAgICAgIG1heEJhclRoaWNrbmVzczogMTAwLFxuICAgIH1dXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMYWJlbHMoZGF0YSkge1xuICAgIGxldCBhcnJheSA9IFtdXG4gICAgZGF0YS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICBhcnJheS5wdXNoKGxpbmUubGFiZWwpXG4gICAgfSlcbiAgICByZXR1cm4gYXJyYXlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluZGV4KGRhdGEpIHtcbiAgICBsZXQgYXJyYXkgPSBbXVxuICAgIGRhdGEuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgYXJyYXkucHVzaChsaW5lLmluZGV4KVxuICAgIH0pXG4gICAgcmV0dXJuIGFycmF5XG4gIH1cbiAgXG59IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG4vLyBHbG9iYWw6XG4vLyBBamF46K6+572u77yaXG4kLmFqYXhTZXR1cCh7XG4gIGhlYWRlcnM6IHtcbiAgICBhY2NvdW50SWQ6ICQoJ2hlYWRlciAjYWNjb3VudElkJykudmFsKCksXG4gICAgdXNlcklkOiAkKCdoZWFkZXIgI3VzZXJJZCcpLnZhbCgpLFxuICAgIHR5cGU6ICQoJ2hlYWRlciAjdXNlclR5cGUnKS52YWwoKSxcbiAgfSxcbiAgdHlwZTogJ1BPU1QnLCAgLy8gZm9yIGphdmEgYXBpXG4gIGRhdGFUeXBlOiAnanNvbicsXG4gIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gIHRpbWVvdXQ6IDEwMDAwLFxufSk7XG4vLyBBamF46ZSZ6K+v5aSE55CG77yaXG4kKGRvY3VtZW50KS5hamF4RXJyb3IoZnVuY3Rpb24oZXZlbnQsIHhociwgc2V0dGluZ3Mpe1xuICB2YXIgcmVxVXJsID0gc2V0dGluZ3MudXJsO1xuICB2YXIgcmVxRGF0YSA9IHNldHRpbmdzLmRhdGE7XG4gIHZhciByZXMgPSB4aHIuc3RhdHVzICsgeGhyLnN0YXR1c1RleHQ7XG4gIGlmIChjb25zb2xlKVxuICAgIGNvbnNvbGUuZXJyb3IocmVxVXJsLCByZXFEYXRhLCByZXMpO1xuICBHbG9iX2ZuLmVycm9ySGFuZGxlcign5pyN5Yqh5Zmo5pWw5o2u6I635Y+W5aSx6LSlOiDplJnor6/noIE6ICcgKyB4aHIuc3RhdHVzICsgJzs8YnI+6ZSZ6K+v5o+P6L+wOiAnICsgZ2V0U3RhdHVzVGV4dCh4aHIuc3RhdHVzVGV4dCkpO1xuICBmdW5jdGlvbiBnZXRTdGF0dXNUZXh0KHN0YXR1c1N0cikge1xuICAgIHZhciB0ZXh0ID0gc3RhdHVzU3RyO1xuICAgIGlmIChzdGF0dXNTdHIgPT09ICd0aW1lb3V0JykgdGV4dCA9ICfor7fmsYLotoXml7YnO1xuICAgIHJldHVybiB0ZXh0O1xuICB9XG59KTtcbi8vIGxvYWRpbmfpga7nvanlrp7njrDvvJpcbiQoZG9jdW1lbnQpLmFqYXhTdGFydChmdW5jdGlvbigpIHtcbiAgR2xvYl9mbi5sb2FkaW5nLnNob3coKTtcbn0pO1xuJChkb2N1bWVudCkuYWpheFN0b3AoZnVuY3Rpb24oKSB7XG4gIEdsb2JfZm4ubG9hZGluZy5oaWRlKCk7XG59KTtcbi8vIOiOt+WPluihqOagvOaVsOaNru+8mlxuJC5mbi5zZXJpYWxpemVPYmplY3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG8gPSB7fTtcbiAgdmFyIGEgPSB0aGlzLnNlcmlhbGl6ZUFycmF5KCk7XG4gICQuZWFjaChhLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBHbG9iX2ZuLmlzSlNPTih0aGlzLnZhbHVlKT8gSlNPTi5wYXJzZSh0aGlzLnZhbHVlKTogdGhpcy52YWx1ZTtcbiAgICBpZiAob1t0aGlzLm5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghb1t0aGlzLm5hbWVdLnB1c2gpIHtcbiAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07XG4gICAgICB9XG4gICAgICBvW3RoaXMubmFtZV0ucHVzaCh2YWx1ZSB8fCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9bdGhpcy5uYW1lXSA9IHZhbHVlIHx8ICcnO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvO1xufTsiLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IElzQ2FsbGFibGUoYXJndW1lbnQpIGlzIHRydWVgXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG59O1xuIiwidmFyIGlzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY29uc3RydWN0b3InKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXNzZXJ0OiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSBpcyB0cnVlYFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGlzQ29uc3RydWN0b3IoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IodHJ5VG9TdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xufTtcbiIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmICh0eXBlb2YgYXJndW1lbnQgPT0gJ29iamVjdCcgfHwgaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IHNldCBcIiArICRTdHJpbmcoYXJndW1lbnQpICsgJyBhcyBhIHByb3RvdHlwZScpO1xufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xuXG52YXIgVU5TQ09QQUJMRVMgPSB3ZWxsS25vd25TeW1ib2woJ3Vuc2NvcGFibGVzJyk7XG52YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbi8vIEFycmF5LnByb3RvdHlwZVtAQHVuc2NvcGFibGVzXVxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuaWYgKEFycmF5UHJvdG90eXBlW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpIHtcbiAgZGVmaW5lUHJvcGVydHkoQXJyYXlQcm90b3R5cGUsIFVOU0NPUEFCTEVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiBjcmVhdGUobnVsbClcbiAgfSk7XG59XG5cbi8vIGFkZCBhIGtleSB0byBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICBBcnJheVByb3RvdHlwZVtVTlNDT1BBQkxFU11ba2V5XSA9IHRydWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNoYXJBdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctbXVsdGlieXRlJykuY2hhckF0O1xuXG4vLyBgQWR2YW5jZVN0cmluZ0luZGV4YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYWR2YW5jZXN0cmluZ2luZGV4XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTLCBpbmRleCwgdW5pY29kZSkge1xuICByZXR1cm4gaW5kZXggKyAodW5pY29kZSA/IGNoYXJBdChTLCBpbmRleCkubGVuZ3RoIDogMSk7XG59O1xuIiwidmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFByb3RvdHlwZSkge1xuICBpZiAoaXNQcm90b3R5cGVPZihQcm90b3R5cGUsIGl0KSkgcmV0dXJuIGl0O1xuICB0aHJvdyAkVHlwZUVycm9yKCdJbmNvcnJlY3QgaW52b2NhdGlvbicpO1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyICRTdHJpbmcgPSBTdHJpbmc7XG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogVHlwZShhcmd1bWVudCkgaXMgT2JqZWN0YFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGlzT2JqZWN0KGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKCRTdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRmb3JFYWNoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpLmZvckVhY2g7XG52YXIgYXJyYXlNZXRob2RJc1N0cmljdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaXMtc3RyaWN0Jyk7XG5cbnZhciBTVFJJQ1RfTUVUSE9EID0gYXJyYXlNZXRob2RJc1N0cmljdCgnZm9yRWFjaCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZCBpbXBsZW1lbnRhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxubW9kdWxlLmV4cG9ydHMgPSAhU1RSSUNUX01FVEhPRCA/IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1wcm90b3R5cGUtZm9yZWFjaCAtLSBzYWZlXG59IDogW10uZm9yRWFjaDtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2FsbC13aXRoLXNhZmUtaXRlcmF0aW9uLWNsb3NpbmcnKTtcbnZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXktaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgaXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jb25zdHJ1Y3RvcicpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5Jyk7XG52YXIgZ2V0SXRlcmF0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yJyk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xuXG52YXIgJEFycmF5ID0gQXJyYXk7XG5cbi8vIGBBcnJheS5mcm9tYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuZnJvbVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gIHZhciBPID0gdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgdmFyIElTX0NPTlNUUlVDVE9SID0gaXNDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBtYXBmbiA9IGFyZ3VtZW50c0xlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gIHZhciBtYXBwaW5nID0gbWFwZm4gIT09IHVuZGVmaW5lZDtcbiAgaWYgKG1hcHBpbmcpIG1hcGZuID0gYmluZChtYXBmbiwgYXJndW1lbnRzTGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gIHZhciBpdGVyYXRvck1ldGhvZCA9IGdldEl0ZXJhdG9yTWV0aG9kKE8pO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGVuZ3RoLCByZXN1bHQsIHN0ZXAsIGl0ZXJhdG9yLCBuZXh0LCB2YWx1ZTtcbiAgLy8gaWYgdGhlIHRhcmdldCBpcyBub3QgaXRlcmFibGUgb3IgaXQncyBhbiBhcnJheSB3aXRoIHRoZSBkZWZhdWx0IGl0ZXJhdG9yIC0gdXNlIGEgc2ltcGxlIGNhc2VcbiAgaWYgKGl0ZXJhdG9yTWV0aG9kICYmICEodGhpcyA9PT0gJEFycmF5ICYmIGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyYXRvck1ldGhvZCkpKSB7XG4gICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihPLCBpdGVyYXRvck1ldGhvZCk7XG4gICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQ7XG4gICAgcmVzdWx0ID0gSVNfQ09OU1RSVUNUT1IgPyBuZXcgdGhpcygpIDogW107XG4gICAgZm9yICg7IShzdGVwID0gY2FsbChuZXh0LCBpdGVyYXRvcikpLmRvbmU7IGluZGV4KyspIHtcbiAgICAgIHZhbHVlID0gbWFwcGluZyA/IGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHJlc3VsdCA9IElTX0NPTlNUUlVDVE9SID8gbmV3IHRoaXMobGVuZ3RoKSA6ICRBcnJheShsZW5ndGgpO1xuICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICB2YWx1ZSA9IG1hcHBpbmcgPyBtYXBmbihPW2luZGV4XSwgaW5kZXgpIDogT1tpbmRleF07XG4gICAgICBjcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IGluZGV4T2YsIGluY2x1ZGVzIH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoTyk7XG4gICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4KGZyb21JbmRleCwgbGVuZ3RoKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgaWYgKElTX0lOQ0xVREVTICYmIGVsICE9IGVsKSB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhbHVlID0gT1tpbmRleCsrXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5pbmNsdWRlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gIGluY2x1ZGVzOiBjcmVhdGVNZXRob2QodHJ1ZSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluZGV4b2ZcbiAgaW5kZXhPZjogY3JlYXRlTWV0aG9kKGZhbHNlKVxufTtcbiIsInZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZScpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNyZWF0ZScpO1xuXG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnsgZm9yRWFjaCwgbWFwLCBmaWx0ZXIsIHNvbWUsIGV2ZXJ5LCBmaW5kLCBmaW5kSW5kZXgsIGZpbHRlclJlamVjdCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBJU19GSUxURVJfUkVKRUNUID0gVFlQRSA9PSA3O1xuICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgY2FsbGJhY2tmbiwgdGhhdCwgc3BlY2lmaWNDcmVhdGUpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QoTyk7XG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrZm4sIHRoYXQpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShzZWxmKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBjcmVhdGUgPSBzcGVjaWZpY0NyZWF0ZSB8fCBhcnJheVNwZWNpZXNDcmVhdGU7XG4gICAgdmFyIHRhcmdldCA9IElTX01BUCA/IGNyZWF0ZSgkdGhpcywgbGVuZ3RoKSA6IElTX0ZJTFRFUiB8fCBJU19GSUxURVJfUkVKRUNUID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgdmFsdWUsIHJlc3VsdDtcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbHVlID0gc2VsZltpbmRleF07XG4gICAgICByZXN1bHQgPSBib3VuZEZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgTyk7XG4gICAgICBpZiAoVFlQRSkge1xuICAgICAgICBpZiAoSVNfTUFQKSB0YXJnZXRbaW5kZXhdID0gcmVzdWx0OyAvLyBtYXBcbiAgICAgICAgZWxzZSBpZiAocmVzdWx0KSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbHVlOyAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gaW5kZXg7ICAgICAgICAgICAgIC8vIGZpbmRJbmRleFxuICAgICAgICAgIGNhc2UgMjogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAvLyBldmVyeVxuICAgICAgICAgIGNhc2UgNzogcHVzaCh0YXJnZXQsIHZhbHVlKTsgICAgICAvLyBmaWx0ZXJSZWplY3RcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogdGFyZ2V0O1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgZm9yRWFjaDogY3JlYXRlTWV0aG9kKDApLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLm1hcGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLm1hcFxuICBtYXA6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgZmlsdGVyOiBjcmVhdGVNZXRob2QoMiksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuc29tZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvbWVcbiAgc29tZTogY3JlYXRlTWV0aG9kKDMpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmV2ZXJ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZXZlcnlcbiAgZXZlcnk6IGNyZWF0ZU1ldGhvZCg0KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maW5kYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuICBmaW5kOiBjcmVhdGVNZXRob2QoNSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZEluZGV4XG4gIGZpbmRJbmRleDogY3JlYXRlTWV0aG9kKDYpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbHRlclJlamVjdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFycmF5LWZpbHRlcmluZ1xuICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCg3KVxufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgLy8gV2UgY2FuJ3QgdXNlIHRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4gIC8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzdcbiAgcmV0dXJuIFY4X1ZFUlNJT04gPj0gNTEgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBhcnJheS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgIGNvbnN0cnVjdG9yW1NQRUNJRVNdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgZm9vOiAxIH07XG4gICAgfTtcbiAgICByZXR1cm4gYXJyYXlbTUVUSE9EX05BTUVdKEJvb2xlYW4pLmZvbyAhPT0gMTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FLCBhcmd1bWVudCkge1xuICB2YXIgbWV0aG9kID0gW11bTUVUSE9EX05BTUVdO1xuICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWNhbGwgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICBtZXRob2QuY2FsbChudWxsLCBhcmd1bWVudCB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LCAxKTtcbiAgfSk7XG59O1xuIiwidmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5Jyk7XG5cbnZhciAkQXJyYXkgPSBBcnJheTtcbnZhciBtYXggPSBNYXRoLm1heDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoTyk7XG4gIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICB2YXIgZmluID0gdG9BYnNvbHV0ZUluZGV4KGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICB2YXIgcmVzdWx0ID0gJEFycmF5KG1heChmaW4gLSBrLCAwKSk7XG4gIGZvciAodmFyIG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVuY3VycnlUaGlzKFtdLnNsaWNlKTtcbiIsInZhciBhcnJheVNsaWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNsaWNlLXNpbXBsZScpO1xuXG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG52YXIgbWVyZ2VTb3J0ID0gZnVuY3Rpb24gKGFycmF5LCBjb21wYXJlZm4pIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIG1pZGRsZSA9IGZsb29yKGxlbmd0aCAvIDIpO1xuICByZXR1cm4gbGVuZ3RoIDwgOCA/IGluc2VydGlvblNvcnQoYXJyYXksIGNvbXBhcmVmbikgOiBtZXJnZShcbiAgICBhcnJheSxcbiAgICBtZXJnZVNvcnQoYXJyYXlTbGljZShhcnJheSwgMCwgbWlkZGxlKSwgY29tcGFyZWZuKSxcbiAgICBtZXJnZVNvcnQoYXJyYXlTbGljZShhcnJheSwgbWlkZGxlKSwgY29tcGFyZWZuKSxcbiAgICBjb21wYXJlZm5cbiAgKTtcbn07XG5cbnZhciBpbnNlcnRpb25Tb3J0ID0gZnVuY3Rpb24gKGFycmF5LCBjb21wYXJlZm4pIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGkgPSAxO1xuICB2YXIgZWxlbWVudCwgajtcblxuICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgIGogPSBpO1xuICAgIGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICB3aGlsZSAoaiAmJiBjb21wYXJlZm4oYXJyYXlbaiAtIDFdLCBlbGVtZW50KSA+IDApIHtcbiAgICAgIGFycmF5W2pdID0gYXJyYXlbLS1qXTtcbiAgICB9XG4gICAgaWYgKGogIT09IGkrKykgYXJyYXlbal0gPSBlbGVtZW50O1xuICB9IHJldHVybiBhcnJheTtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIChhcnJheSwgbGVmdCwgcmlnaHQsIGNvbXBhcmVmbikge1xuICB2YXIgbGxlbmd0aCA9IGxlZnQubGVuZ3RoO1xuICB2YXIgcmxlbmd0aCA9IHJpZ2h0Lmxlbmd0aDtcbiAgdmFyIGxpbmRleCA9IDA7XG4gIHZhciByaW5kZXggPSAwO1xuXG4gIHdoaWxlIChsaW5kZXggPCBsbGVuZ3RoIHx8IHJpbmRleCA8IHJsZW5ndGgpIHtcbiAgICBhcnJheVtsaW5kZXggKyByaW5kZXhdID0gKGxpbmRleCA8IGxsZW5ndGggJiYgcmluZGV4IDwgcmxlbmd0aClcbiAgICAgID8gY29tcGFyZWZuKGxlZnRbbGluZGV4XSwgcmlnaHRbcmluZGV4XSkgPD0gMCA/IGxlZnRbbGluZGV4KytdIDogcmlnaHRbcmluZGV4KytdXG4gICAgICA6IGxpbmRleCA8IGxsZW5ndGggPyBsZWZ0W2xpbmRleCsrXSA6IHJpZ2h0W3JpbmRleCsrXTtcbiAgfSByZXR1cm4gYXJyYXk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1lcmdlU29ydDtcbiIsInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5Jyk7XG52YXIgaXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jb25zdHJ1Y3RvcicpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyICRBcnJheSA9IEFycmF5O1xuXG4vLyBhIHBhcnQgb2YgYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSkge1xuICB2YXIgQztcbiAgaWYgKGlzQXJyYXkob3JpZ2luYWxBcnJheSkpIHtcbiAgICBDID0gb3JpZ2luYWxBcnJheS5jb25zdHJ1Y3RvcjtcbiAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgIGlmIChpc0NvbnN0cnVjdG9yKEMpICYmIChDID09PSAkQXJyYXkgfHwgaXNBcnJheShDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgIGVsc2UgaWYgKGlzT2JqZWN0KEMpKSB7XG4gICAgICBDID0gQ1tTUEVDSUVTXTtcbiAgICAgIGlmIChDID09PSBudWxsKSBDID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSByZXR1cm4gQyA9PT0gdW5kZWZpbmVkID8gJEFycmF5IDogQztcbn07XG4iLCJ2YXIgYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xuXG4vLyBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXlzcGVjaWVzY3JlYXRlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbEFycmF5LCBsZW5ndGgpIHtcbiAgcmV0dXJuIG5ldyAoYXJyYXlTcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWxBcnJheSkpKGxlbmd0aCA9PT0gMCA/IDAgOiBsZW5ndGgpO1xufTtcbiIsInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBpdGVyYXRvckNsb3NlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9yLWNsb3NlJyk7XG5cbi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3Jcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBmbiwgdmFsdWUsIEVOVFJJRVMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gRU5UUklFUyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsICd0aHJvdycsIGVycm9yKTtcbiAgfVxufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG50cnkge1xuICB2YXIgY2FsbGVkID0gMDtcbiAgdmFyIGl0ZXJhdG9yV2l0aFJldHVybiA9IHtcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geyBkb25lOiAhIWNhbGxlZCsrIH07XG4gICAgfSxcbiAgICAncmV0dXJuJzogZnVuY3Rpb24gKCkge1xuICAgICAgU0FGRV9DTE9TSU5HID0gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGl0ZXJhdG9yV2l0aFJldHVybltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1mcm9tLCBuby10aHJvdy1saXRlcmFsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIEFycmF5LmZyb20oaXRlcmF0b3JXaXRoUmV0dXJuLCBmdW5jdGlvbiAoKSB7IHRocm93IDI7IH0pO1xufSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChleGVjLCBTS0lQX0NMT1NJTkcpIHtcbiAgaWYgKCFTS0lQX0NMT1NJTkcgJiYgIVNBRkVfQ0xPU0lORykgcmV0dXJuIGZhbHNlO1xuICB2YXIgSVRFUkFUSU9OX1NVUFBPUlQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4geyBkb25lOiBJVEVSQVRJT05fU1VQUE9SVCA9IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4ZWMob2JqZWN0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICByZXR1cm4gSVRFUkFUSU9OX1NVUFBPUlQ7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyh7fS50b1N0cmluZyk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBzdHJpbmdTbGljZSh0b1N0cmluZyhpdCksIDgsIC0xKTtcbn07XG4iLCJ2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mUmF3ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBUT19TVFJJTkdfVEFHID0gd2VsbEtub3duU3ltYm9sKCd0b1N0cmluZ1RhZycpO1xudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQ09SUkVDVF9BUkdVTUVOVFMgPSBjbGFzc29mUmF3KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG59O1xuXG4vLyBnZXR0aW5nIHRhZyBmcm9tIEVTNisgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgXG5tb2R1bGUuZXhwb3J0cyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCA/IGNsYXNzb2ZSYXcgOiBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8sIHRhZywgcmVzdWx0O1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAodGFnID0gdHJ5R2V0KE8gPSAkT2JqZWN0KGl0KSwgVE9fU1RSSU5HX1RBRykpID09ICdzdHJpbmcnID8gdGFnXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBDT1JSRUNUX0FSR1VNRU5UUyA/IGNsYXNzb2ZSYXcoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAocmVzdWx0ID0gY2xhc3NvZlJhdyhPKSkgPT0gJ09iamVjdCcgJiYgaXNDYWxsYWJsZShPLmNhbGxlZSkgPyAnQXJndW1lbnRzJyA6IHJlc3VsdDtcbn07XG4iLCJ2YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBvd25LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL293bi1rZXlzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlLCBleGNlcHRpb25zKSB7XG4gIHZhciBrZXlzID0gb3duS2V5cyhzb3VyY2UpO1xuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGlmICghaGFzT3duKHRhcmdldCwga2V5KSAmJiAhKGV4Y2VwdGlvbnMgJiYgaGFzT3duKGV4Y2VwdGlvbnMsIGtleSkpKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfVxuICB9XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuICBGLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IG51bGw7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgRigpKSAhPT0gRi5wcm90b3R5cGU7XG59KTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xuXG52YXIgcXVvdCA9IC9cIi9nO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcblxuLy8gYENyZWF0ZUhUTUxgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVodG1sXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHJpbmcsIHRhZywgYXR0cmlidXRlLCB2YWx1ZSkge1xuICB2YXIgUyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoc3RyaW5nKSk7XG4gIHZhciBwMSA9ICc8JyArIHRhZztcbiAgaWYgKGF0dHJpYnV0ZSAhPT0gJycpIHAxICs9ICcgJyArIGF0dHJpYnV0ZSArICc9XCInICsgcmVwbGFjZSh0b1N0cmluZyh2YWx1ZSksIHF1b3QsICcmcXVvdDsnKSArICdcIic7XG4gIHJldHVybiBwMSArICc+JyArIFMgKyAnPC8nICsgdGFnICsgJz4nO1xufTtcbiIsIi8vIGBDcmVhdGVJdGVyUmVzdWx0T2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlaXRlcnJlc3VsdG9iamVjdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIGRvbmUpIHtcbiAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiBkb25lIH07XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERFU0NSSVBUT1JTID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHlNb2R1bGUuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gb2JqZWN0O1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXknKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgcHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5KGtleSk7XG4gIGlmIChwcm9wZXJ0eUtleSBpbiBvYmplY3QpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYob2JqZWN0LCBwcm9wZXJ0eUtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIHZhbHVlKSk7XG4gIGVsc2Ugb2JqZWN0W3Byb3BlcnR5S2V5XSA9IHZhbHVlO1xufTtcbiIsInZhciBtYWtlQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9tYWtlLWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHtcbiAgaWYgKGRlc2NyaXB0b3IuZ2V0KSBtYWtlQnVpbHRJbihkZXNjcmlwdG9yLmdldCwgbmFtZSwgeyBnZXR0ZXI6IHRydWUgfSk7XG4gIGlmIChkZXNjcmlwdG9yLnNldCkgbWFrZUJ1aWx0SW4oZGVzY3JpcHRvci5zZXQsIG5hbWUsIHsgc2V0dGVyOiB0cnVlIH0pO1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkuZih0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpO1xufTtcbiIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIG1ha2VCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL21ha2UtYnVpbHQtaW4nKTtcbnZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtZ2xvYmFsLXByb3BlcnR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gIHZhciBzaW1wbGUgPSBvcHRpb25zLmVudW1lcmFibGU7XG4gIHZhciBuYW1lID0gb3B0aW9ucy5uYW1lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5hbWUgOiBrZXk7XG4gIGlmIChpc0NhbGxhYmxlKHZhbHVlKSkgbWFrZUJ1aWx0SW4odmFsdWUsIG5hbWUsIG9wdGlvbnMpO1xuICBpZiAob3B0aW9ucy5nbG9iYWwpIHtcbiAgICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgICBlbHNlIGRlZmluZUdsb2JhbFByb3BlcnR5KGtleSwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIW9wdGlvbnMudW5zYWZlKSBkZWxldGUgT1trZXldO1xuICAgICAgZWxzZSBpZiAoT1trZXldKSBzaW1wbGUgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgICBpZiAoc2ltcGxlKSBPW2tleV0gPSB2YWx1ZTtcbiAgICBlbHNlIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoTywga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogIW9wdGlvbnMubm9uQ29uZmlndXJhYmxlLFxuICAgICAgd3JpdGFibGU6ICFvcHRpb25zLm5vbldyaXRhYmxlXG4gICAgfSk7XG4gIH0gcmV0dXJuIE87XG59O1xuIiwidmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgc3JjLCBvcHRpb25zKSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIGRlZmluZUJ1aWx0SW4odGFyZ2V0LCBrZXksIHNyY1trZXldLCBvcHRpb25zKTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGRlZmluZVByb3BlcnR5KGdsb2JhbCwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBnbG9iYWxba2V5XSA9IHZhbHVlO1xuICB9IHJldHVybiB2YWx1ZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgUCkge1xuICBpZiAoIWRlbGV0ZSBPW1BdKSB0aHJvdyAkVHlwZUVycm9yKCdDYW5ub3QgZGVsZXRlIHByb3BlcnR5ICcgKyB0cnlUb1N0cmluZyhQKSArICcgb2YgJyArIHRyeVRvU3RyaW5nKE8pKTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxuLy8gRGV0ZWN0IElFOCdzIGluY29tcGxldGUgZGVmaW5lUHJvcGVydHkgaW1wbGVtZW50YXRpb25cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAxLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KVsxXSAhPSA3O1xufSk7XG4iLCJ2YXIgZG9jdW1lbnRBbGwgPSB0eXBlb2YgZG9jdW1lbnQgPT0gJ29iamVjdCcgJiYgZG9jdW1lbnQuYWxsO1xuXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLUlzSFRNTEREQS1pbnRlcm5hbC1zbG90XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby10eXBlb2YtdW5kZWZpbmVkIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgSVNfSFRNTEREQSA9IHR5cGVvZiBkb2N1bWVudEFsbCA9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudEFsbCAhPT0gdW5kZWZpbmVkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYWxsOiBkb2N1bWVudEFsbCxcbiAgSVNfSFRNTEREQTogSVNfSFRNTEREQVxufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbi8vIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50IGlzICdvYmplY3QnIGluIG9sZCBJRVxudmFyIEVYSVNUUyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEVYSVNUUyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIiwidmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDB4MUZGRkZGRkZGRkZGRkY7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID4gTUFYX1NBRkVfSU5URUdFUikgdGhyb3cgJFR5cGVFcnJvcignTWF4aW11bSBhbGxvd2VkIGluZGV4IGV4Y2VlZGVkJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyBpdGVyYWJsZSBET00gY29sbGVjdGlvbnNcbi8vIGZsYWcgLSBgaXRlcmFibGVgIGludGVyZmFjZSAtICdlbnRyaWVzJywgJ2tleXMnLCAndmFsdWVzJywgJ2ZvckVhY2gnIG1ldGhvZHNcbm1vZHVsZS5leHBvcnRzID0ge1xuICBDU1NSdWxlTGlzdDogMCxcbiAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCxcbiAgQ1NTVmFsdWVMaXN0OiAwLFxuICBDbGllbnRSZWN0TGlzdDogMCxcbiAgRE9NUmVjdExpc3Q6IDAsXG4gIERPTVN0cmluZ0xpc3Q6IDAsXG4gIERPTVRva2VuTGlzdDogMSxcbiAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsXG4gIEZpbGVMaXN0OiAwLFxuICBIVE1MQWxsQ29sbGVjdGlvbjogMCxcbiAgSFRNTENvbGxlY3Rpb246IDAsXG4gIEhUTUxGb3JtRWxlbWVudDogMCxcbiAgSFRNTFNlbGVjdEVsZW1lbnQ6IDAsXG4gIE1lZGlhTGlzdDogMCxcbiAgTWltZVR5cGVBcnJheTogMCxcbiAgTmFtZWROb2RlTWFwOiAwLFxuICBOb2RlTGlzdDogMSxcbiAgUGFpbnRSZXF1ZXN0TGlzdDogMCxcbiAgUGx1Z2luOiAwLFxuICBQbHVnaW5BcnJheTogMCxcbiAgU1ZHTGVuZ3RoTGlzdDogMCxcbiAgU1ZHTnVtYmVyTGlzdDogMCxcbiAgU1ZHUGF0aFNlZ0xpc3Q6IDAsXG4gIFNWR1BvaW50TGlzdDogMCxcbiAgU1ZHU3RyaW5nTGlzdDogMCxcbiAgU1ZHVHJhbnNmb3JtTGlzdDogMCxcbiAgU291cmNlQnVmZmVyTGlzdDogMCxcbiAgU3R5bGVTaGVldExpc3Q6IDAsXG4gIFRleHRUcmFja0N1ZUxpc3Q6IDAsXG4gIFRleHRUcmFja0xpc3Q6IDAsXG4gIFRvdWNoTGlzdDogMFxufTtcbiIsIi8vIGluIG9sZCBXZWJLaXQgdmVyc2lvbnMsIGBlbGVtZW50LmNsYXNzTGlzdGAgaXMgbm90IGFuIGluc3RhbmNlIG9mIGdsb2JhbCBgRE9NVG9rZW5MaXN0YFxudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xuXG52YXIgY2xhc3NMaXN0ID0gZG9jdW1lbnRDcmVhdGVFbGVtZW50KCdzcGFuJykuY2xhc3NMaXN0O1xudmFyIERPTVRva2VuTGlzdFByb3RvdHlwZSA9IGNsYXNzTGlzdCAmJiBjbGFzc0xpc3QuY29uc3RydWN0b3IgJiYgY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01Ub2tlbkxpc3RQcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgPyB1bmRlZmluZWQgOiBET01Ub2tlbkxpc3RQcm90b3R5cGU7XG4iLCJ2YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbnZhciBmaXJlZm94ID0gdXNlckFnZW50Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICEhZmlyZWZveCAmJiArZmlyZWZveFsxXTtcbiIsInZhciBJU19ERU5PID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1kZW5vJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFJU19ERU5PICYmICFJU19OT0RFXG4gICYmIHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCdcbiAgJiYgdHlwZW9mIGRvY3VtZW50ID09ICdvYmplY3QnO1xuIiwiLyogZ2xvYmFsIERlbm8gLS0gRGVubyBjYXNlICovXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBEZW5vID09ICdvYmplY3QnICYmIERlbm8gJiYgdHlwZW9mIERlbm8udmVyc2lvbiA9PSAnb2JqZWN0JztcbiIsInZhciBVQSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC9NU0lFfFRyaWRlbnQvLnRlc3QoVUEpO1xuIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCh1c2VyQWdlbnQpICYmIHR5cGVvZiBQZWJibGUgIT0gJ3VuZGVmaW5lZCc7XG4iLCJ2YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWRvcy9uby12dWxuZXJhYmxlIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gLyg/OmlwYWR8aXBob25lfGlwb2QpLiphcHBsZXdlYmtpdC9pLnRlc3QodXNlckFnZW50KTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHByb2Nlc3MgIT0gJ3VuZGVmaW5lZCcgJiYgY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG4iLCJ2YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gL3dlYjBzKD8hLipjaHJvbWUpL2kudGVzdCh1c2VyQWdlbnQpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgbmF2aWdhdG9yICE9ICd1bmRlZmluZWQnICYmIFN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAnJztcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgdXNlckFnZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS11c2VyLWFnZW50Jyk7XG5cbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgRGVubyA9IGdsb2JhbC5EZW5vO1xudmFyIHZlcnNpb25zID0gcHJvY2VzcyAmJiBwcm9jZXNzLnZlcnNpb25zIHx8IERlbm8gJiYgRGVuby52ZXJzaW9uO1xudmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjg7XG52YXIgbWF0Y2gsIHZlcnNpb247XG5cbmlmICh2OCkge1xuICBtYXRjaCA9IHY4LnNwbGl0KCcuJyk7XG4gIC8vIGluIG9sZCBDaHJvbWUsIHZlcnNpb25zIG9mIFY4IGlzbid0IFY4ID0gQ2hyb21lIC8gMTBcbiAgLy8gYnV0IHRoZWlyIGNvcnJlY3QgdmVyc2lvbnMgYXJlIG5vdCBpbnRlcmVzdGluZyBmb3IgdXNcbiAgdmVyc2lvbiA9IG1hdGNoWzBdID4gMCAmJiBtYXRjaFswXSA8IDQgPyAxIDogKyhtYXRjaFswXSArIG1hdGNoWzFdKTtcbn1cblxuLy8gQnJvd3NlckZTIE5vZGVKUyBgcHJvY2Vzc2AgcG9seWZpbGwgaW5jb3JyZWN0bHkgc2V0IGAudjhgIHRvIGAwLjBgXG4vLyBzbyBjaGVjayBgdXNlckFnZW50YCBldmVuIGlmIGAudjhgIGV4aXN0cywgYnV0IDBcbmlmICghdmVyc2lvbiAmJiB1c2VyQWdlbnQpIHtcbiAgbWF0Y2ggPSB1c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8oXFxkKykvKTtcbiAgaWYgKCFtYXRjaCB8fCBtYXRjaFsxXSA+PSA3NCkge1xuICAgIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICBpZiAobWF0Y2gpIHZlcnNpb24gPSArbWF0Y2hbMV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2ZXJzaW9uO1xuIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG52YXIgd2Via2l0ID0gdXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICEhd2Via2l0ICYmICt3ZWJraXRbMV07XG4iLCIvLyBJRTgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gW1xuICAnY29uc3RydWN0b3InLFxuICAnaGFzT3duUHJvcGVydHknLFxuICAnaXNQcm90b3R5cGVPZicsXG4gICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG4gICd0b0xvY2FsZVN0cmluZycsXG4gICd0b1N0cmluZycsXG4gICd2YWx1ZU9mJ1xuXTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKS5mO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHknKTtcbnZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllcycpO1xudmFyIGlzRm9yY2VkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCcpO1xuXG4vKlxuICBvcHRpb25zLnRhcmdldCAgICAgICAgIC0gbmFtZSBvZiB0aGUgdGFyZ2V0IG9iamVjdFxuICBvcHRpb25zLmdsb2JhbCAgICAgICAgIC0gdGFyZ2V0IGlzIHRoZSBnbG9iYWwgb2JqZWN0XG4gIG9wdGlvbnMuc3RhdCAgICAgICAgICAgLSBleHBvcnQgYXMgc3RhdGljIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucHJvdG8gICAgICAgICAgLSBleHBvcnQgYXMgcHJvdG90eXBlIG1ldGhvZHMgb2YgdGFyZ2V0XG4gIG9wdGlvbnMucmVhbCAgICAgICAgICAgLSByZWFsIHByb3RvdHlwZSBtZXRob2QgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLmZvcmNlZCAgICAgICAgIC0gZXhwb3J0IGV2ZW4gaWYgdGhlIG5hdGl2ZSBmZWF0dXJlIGlzIGF2YWlsYWJsZVxuICBvcHRpb25zLmJpbmQgICAgICAgICAgIC0gYmluZCBtZXRob2RzIHRvIHRoZSB0YXJnZXQsIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy53cmFwICAgICAgICAgICAtIHdyYXAgY29uc3RydWN0b3JzIHRvIHByZXZlbnRpbmcgZ2xvYmFsIHBvbGx1dGlvbiwgcmVxdWlyZWQgZm9yIHRoZSBgcHVyZWAgdmVyc2lvblxuICBvcHRpb25zLnVuc2FmZSAgICAgICAgIC0gdXNlIHRoZSBzaW1wbGUgYXNzaWdubWVudCBvZiBwcm9wZXJ0eSBpbnN0ZWFkIG9mIGRlbGV0ZSArIGRlZmluZVByb3BlcnR5XG4gIG9wdGlvbnMuc2hhbSAgICAgICAgICAgLSBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gIG9wdGlvbnMuZW51bWVyYWJsZSAgICAgLSBleHBvcnQgYXMgZW51bWVyYWJsZSBwcm9wZXJ0eVxuICBvcHRpb25zLmRvbnRDYWxsR2V0U2V0IC0gcHJldmVudCBjYWxsaW5nIGEgZ2V0dGVyIG9uIHRhcmdldFxuICBvcHRpb25zLm5hbWUgICAgICAgICAgIC0gdGhlIC5uYW1lIG9mIHRoZSBmdW5jdGlvbiBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUga2V5XG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0aW9ucywgc291cmNlKSB7XG4gIHZhciBUQVJHRVQgPSBvcHRpb25zLnRhcmdldDtcbiAgdmFyIEdMT0JBTCA9IG9wdGlvbnMuZ2xvYmFsO1xuICB2YXIgU1RBVElDID0gb3B0aW9ucy5zdGF0O1xuICB2YXIgRk9SQ0VELCB0YXJnZXQsIGtleSwgdGFyZ2V0UHJvcGVydHksIHNvdXJjZVByb3BlcnR5LCBkZXNjcmlwdG9yO1xuICBpZiAoR0xPQkFMKSB7XG4gICAgdGFyZ2V0ID0gZ2xvYmFsO1xuICB9IGVsc2UgaWYgKFNUQVRJQykge1xuICAgIHRhcmdldCA9IGdsb2JhbFtUQVJHRVRdIHx8IGRlZmluZUdsb2JhbFByb3BlcnR5KFRBUkdFVCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldCA9IChnbG9iYWxbVEFSR0VUXSB8fCB7fSkucHJvdG90eXBlO1xuICB9XG4gIGlmICh0YXJnZXQpIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgIHNvdXJjZVByb3BlcnR5ID0gc291cmNlW2tleV07XG4gICAgaWYgKG9wdGlvbnMuZG9udENhbGxHZXRTZXQpIHtcbiAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpO1xuICAgICAgdGFyZ2V0UHJvcGVydHkgPSBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfSBlbHNlIHRhcmdldFByb3BlcnR5ID0gdGFyZ2V0W2tleV07XG4gICAgRk9SQ0VEID0gaXNGb3JjZWQoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTtcbiAgICAvLyBjb250YWluZWQgaW4gdGFyZ2V0XG4gICAgaWYgKCFGT1JDRUQgJiYgdGFyZ2V0UHJvcGVydHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBzb3VyY2VQcm9wZXJ0eSA9PSB0eXBlb2YgdGFyZ2V0UHJvcGVydHkpIGNvbnRpbnVlO1xuICAgICAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhzb3VyY2VQcm9wZXJ0eSwgdGFyZ2V0UHJvcGVydHkpO1xuICAgIH1cbiAgICAvLyBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gICAgaWYgKG9wdGlvbnMuc2hhbSB8fCAodGFyZ2V0UHJvcGVydHkgJiYgdGFyZ2V0UHJvcGVydHkuc2hhbSkpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShzb3VyY2VQcm9wZXJ0eSwgJ3NoYW0nLCB0cnVlKTtcbiAgICB9XG4gICAgZGVmaW5lQnVpbHRJbih0YXJnZXQsIGtleSwgc291cmNlUHJvcGVydHksIG9wdGlvbnMpO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3MgbW92ZWQgdG8gZW50cnkgcG9pbnRzXG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLWNsYXVzZScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyIFJlZ0V4cFByb3RvdHlwZSA9IFJlZ0V4cC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYywgRk9SQ0VELCBTSEFNKSB7XG4gIHZhciBTWU1CT0wgPSB3ZWxsS25vd25TeW1ib2woS0VZKTtcblxuICB2YXIgREVMRUdBVEVTX1RPX1NZTUJPTCA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gU3RyaW5nIG1ldGhvZHMgY2FsbCBzeW1ib2wtbmFtZWQgUmVnRXAgbWV0aG9kc1xuICAgIHZhciBPID0ge307XG4gICAgT1tTWU1CT0xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfTtcbiAgICByZXR1cm4gJydbS0VZXShPKSAhPSA3O1xuICB9KTtcblxuICB2YXIgREVMRUdBVEVTX1RPX0VYRUMgPSBERUxFR0FURVNfVE9fU1lNQk9MICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gU3ltYm9sLW5hbWVkIFJlZ0V4cCBtZXRob2RzIGNhbGwgLmV4ZWNcbiAgICB2YXIgZXhlY0NhbGxlZCA9IGZhbHNlO1xuICAgIHZhciByZSA9IC9hLztcblxuICAgIGlmIChLRVkgPT09ICdzcGxpdCcpIHtcbiAgICAgIC8vIFdlIGNhbid0IHVzZSByZWFsIHJlZ2V4IGhlcmUgc2luY2UgaXQgY2F1c2VzIGRlb3B0aW1pemF0aW9uXG4gICAgICAvLyBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbiBpbiBWOFxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMwNlxuICAgICAgcmUgPSB7fTtcbiAgICAgIC8vIFJlZ0V4cFtAQHNwbGl0XSBkb2Vzbid0IGNhbGwgdGhlIHJlZ2V4J3MgZXhlYyBtZXRob2QsIGJ1dCBmaXJzdCBjcmVhdGVzXG4gICAgICAvLyBhIG5ldyBvbmUuIFdlIG5lZWQgdG8gcmV0dXJuIHRoZSBwYXRjaGVkIHJlZ2V4IHdoZW4gY3JlYXRpbmcgdGhlIG5ldyBvbmUuXG4gICAgICByZS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgICAgcmUuY29uc3RydWN0b3JbU1BFQ0lFU10gPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZTsgfTtcbiAgICAgIHJlLmZsYWdzID0gJyc7XG4gICAgICByZVtTWU1CT0xdID0gLy4vW1NZTUJPTF07XG4gICAgfVxuXG4gICAgcmUuZXhlYyA9IGZ1bmN0aW9uICgpIHsgZXhlY0NhbGxlZCA9IHRydWU7IHJldHVybiBudWxsOyB9O1xuXG4gICAgcmVbU1lNQk9MXSgnJyk7XG4gICAgcmV0dXJuICFleGVjQ2FsbGVkO1xuICB9KTtcblxuICBpZiAoXG4gICAgIURFTEVHQVRFU19UT19TWU1CT0wgfHxcbiAgICAhREVMRUdBVEVTX1RPX0VYRUMgfHxcbiAgICBGT1JDRURcbiAgKSB7XG4gICAgdmFyIHVuY3VycmllZE5hdGl2ZVJlZ0V4cE1ldGhvZCA9IHVuY3VycnlUaGlzKC8uL1tTWU1CT0xdKTtcbiAgICB2YXIgbWV0aG9kcyA9IGV4ZWMoU1lNQk9MLCAnJ1tLRVldLCBmdW5jdGlvbiAobmF0aXZlTWV0aG9kLCByZWdleHAsIHN0ciwgYXJnMiwgZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgIHZhciB1bmN1cnJpZWROYXRpdmVNZXRob2QgPSB1bmN1cnJ5VGhpcyhuYXRpdmVNZXRob2QpO1xuICAgICAgdmFyICRleGVjID0gcmVnZXhwLmV4ZWM7XG4gICAgICBpZiAoJGV4ZWMgPT09IHJlZ2V4cEV4ZWMgfHwgJGV4ZWMgPT09IFJlZ0V4cFByb3RvdHlwZS5leGVjKSB7XG4gICAgICAgIGlmIChERUxFR0FURVNfVE9fU1lNQk9MICYmICFmb3JjZVN0cmluZ01ldGhvZCkge1xuICAgICAgICAgIC8vIFRoZSBuYXRpdmUgU3RyaW5nIG1ldGhvZCBhbHJlYWR5IGRlbGVnYXRlcyB0byBAQG1ldGhvZCAodGhpc1xuICAgICAgICAgIC8vIHBvbHlmaWxsZWQgZnVuY3Rpb24pLCBsZWFzaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgICAgICAgICAvLyBXZSBhdm9pZCBpdCBieSBkaXJlY3RseSBjYWxsaW5nIHRoZSBuYXRpdmUgQEBtZXRob2QgbWV0aG9kLlxuICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmN1cnJpZWROYXRpdmVSZWdFeHBNZXRob2QocmVnZXhwLCBzdHIsIGFyZzIpIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuY3VycmllZE5hdGl2ZU1ldGhvZChzdHIsIHJlZ2V4cCwgYXJnMikgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlIH07XG4gICAgfSk7XG5cbiAgICBkZWZpbmVCdWlsdEluKFN0cmluZy5wcm90b3R5cGUsIEtFWSwgbWV0aG9kc1swXSk7XG4gICAgZGVmaW5lQnVpbHRJbihSZWdFeHBQcm90b3R5cGUsIFNZTUJPTCwgbWV0aG9kc1sxXSk7XG4gIH1cblxuICBpZiAoU0hBTSkgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KFJlZ0V4cFByb3RvdHlwZVtTWU1CT0xdLCAnc2hhbScsIHRydWUpO1xufTtcbiIsInZhciBOQVRJVkVfQklORCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLW5hdGl2ZScpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG52YXIgYXBwbHkgPSBGdW5jdGlvblByb3RvdHlwZS5hcHBseTtcbnZhciBjYWxsID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLXJlZmxlY3QgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgUmVmbGVjdCA9PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmFwcGx5IHx8IChOQVRJVkVfQklORCA/IGNhbGwuYmluZChhcHBseSkgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjYWxsLmFwcGx5KGFwcGx5LCBhcmd1bWVudHMpO1xufSk7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLWNsYXVzZScpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIGJpbmQgPSB1bmN1cnJ5VGhpcyh1bmN1cnJ5VGhpcy5iaW5kKTtcblxuLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCkge1xuICBhQ2FsbGFibGUoZm4pO1xuICByZXR1cm4gdGhhdCA9PT0gdW5kZWZpbmVkID8gZm4gOiBOQVRJVkVfQklORCA/IGJpbmQoZm4sIHRoYXQpIDogZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tZnVuY3Rpb24tcHJvdG90eXBlLWJpbmQgLS0gc2FmZVxuICB2YXIgdGVzdCA9IChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pLmJpbmQoKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG4gIHJldHVybiB0eXBlb2YgdGVzdCAhPSAnZnVuY3Rpb24nIHx8IHRlc3QuaGFzT3duUHJvcGVydHkoJ3Byb3RvdHlwZScpO1xufSk7XG4iLCJ2YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/IGNhbGwuYmluZChjYWxsKSA6IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGNhbGwuYXBwbHkoY2FsbCwgYXJndW1lbnRzKTtcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgZ2V0RGVzY3JpcHRvciA9IERFU0NSSVBUT1JTICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbnZhciBFWElTVFMgPSBoYXNPd24oRnVuY3Rpb25Qcm90b3R5cGUsICduYW1lJyk7XG4vLyBhZGRpdGlvbmFsIHByb3RlY3Rpb24gZnJvbSBtaW5pZmllZCAvIG1hbmdsZWQgLyBkcm9wcGVkIGZ1bmN0aW9uIG5hbWVzXG52YXIgUFJPUEVSID0gRVhJU1RTICYmIChmdW5jdGlvbiBzb21ldGhpbmcoKSB7IC8qIGVtcHR5ICovIH0pLm5hbWUgPT09ICdzb21ldGhpbmcnO1xudmFyIENPTkZJR1VSQUJMRSA9IEVYSVNUUyAmJiAoIURFU0NSSVBUT1JTIHx8IChERVNDUklQVE9SUyAmJiBnZXREZXNjcmlwdG9yKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpLmNvbmZpZ3VyYWJsZSkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgRVhJU1RTOiBFWElTVFMsXG4gIFBST1BFUjogUFJPUEVSLFxuICBDT05GSUdVUkFCTEU6IENPTkZJR1VSQUJMRVxufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgbWV0aG9kKSB7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICAgIHJldHVybiB1bmN1cnJ5VGhpcyhhQ2FsbGFibGUoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIGtleSlbbWV0aG9kXSkpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG59O1xuIiwidmFyIGNsYXNzb2ZSYXcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4pIHtcbiAgLy8gTmFzaG9ybiBidWc6XG4gIC8vICAgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzExMjhcbiAgLy8gICBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTEzMFxuICBpZiAoY2xhc3NvZlJhdyhmbikgPT09ICdGdW5jdGlvbicpIHJldHVybiB1bmN1cnJ5VGhpcyhmbik7XG59O1xuIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBjYWxsID0gRnVuY3Rpb25Qcm90b3R5cGUuY2FsbDtcbnZhciB1bmN1cnJ5VGhpc1dpdGhCaW5kID0gTkFUSVZFX0JJTkQgJiYgRnVuY3Rpb25Qcm90b3R5cGUuYmluZC5iaW5kKGNhbGwsIGNhbGwpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9CSU5EID8gdW5jdXJyeVRoaXNXaXRoQmluZCA6IGZ1bmN0aW9uIChmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsLmFwcGx5KGZuLCBhcmd1bWVudHMpO1xuICB9O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xuXG52YXIgYUZ1bmN0aW9uID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHJldHVybiBpc0NhbGxhYmxlKGFyZ3VtZW50KSA/IGFyZ3VtZW50IDogdW5kZWZpbmVkO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobmFtZXNwYWNlLCBtZXRob2QpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gYUZ1bmN0aW9uKGdsb2JhbFtuYW1lc3BhY2VdKSA6IGdsb2JhbFtuYW1lc3BhY2VdICYmIGdsb2JhbFtuYW1lc3BhY2VdW21ldGhvZF07XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKCFpc051bGxPclVuZGVmaW5lZChpdCkpIHJldHVybiBnZXRNZXRob2QoaXQsIElURVJBVE9SKVxuICAgIHx8IGdldE1ldGhvZChpdCwgJ0BAaXRlcmF0b3InKVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50LCB1c2luZ0l0ZXJhdG9yKSB7XG4gIHZhciBpdGVyYXRvck1ldGhvZCA9IGFyZ3VtZW50cy5sZW5ndGggPCAyID8gZ2V0SXRlcmF0b3JNZXRob2QoYXJndW1lbnQpIDogdXNpbmdJdGVyYXRvcjtcbiAgaWYgKGFDYWxsYWJsZShpdGVyYXRvck1ldGhvZCkpIHJldHVybiBhbk9iamVjdChjYWxsKGl0ZXJhdG9yTWV0aG9kLCBhcmd1bWVudCkpO1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xuXG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyZXBsYWNlcikge1xuICBpZiAoaXNDYWxsYWJsZShyZXBsYWNlcikpIHJldHVybiByZXBsYWNlcjtcbiAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmV0dXJuO1xuICB2YXIgcmF3TGVuZ3RoID0gcmVwbGFjZXIubGVuZ3RoO1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0xlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsZW1lbnQgPSByZXBsYWNlcltpXTtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycpIHB1c2goa2V5cywgZWxlbWVudCk7XG4gICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQgPT0gJ251bWJlcicgfHwgY2xhc3NvZihlbGVtZW50KSA9PSAnTnVtYmVyJyB8fCBjbGFzc29mKGVsZW1lbnQpID09ICdTdHJpbmcnKSBwdXNoKGtleXMsIHRvU3RyaW5nKGVsZW1lbnQpKTtcbiAgfVxuICB2YXIga2V5c0xlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgcm9vdCA9IHRydWU7XG4gIHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChyb290KSB7XG4gICAgICByb290ID0gZmFsc2U7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHRoaXMpKSByZXR1cm4gdmFsdWU7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzTGVuZ3RoOyBqKyspIGlmIChrZXlzW2pdID09PSBrZXkpIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG4iLCJ2YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciBpc051bGxPclVuZGVmaW5lZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1udWxsLW9yLXVuZGVmaW5lZCcpO1xuXG4vLyBgR2V0TWV0aG9kYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0bWV0aG9kXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChWLCBQKSB7XG4gIHZhciBmdW5jID0gVltQXTtcbiAgcmV0dXJuIGlzTnVsbE9yVW5kZWZpbmVkKGZ1bmMpID8gdW5kZWZpbmVkIDogYUNhbGxhYmxlKGZ1bmMpO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcblxudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWRvcy9uby12dWxuZXJhYmxlIC0tIHNhZmVcbnZhciBTVUJTVElUVVRJT05fU1lNQk9MUyA9IC9cXCQoWyQmJ2BdfFxcZHsxLDJ9fDxbXj5dKj4pL2c7XG52YXIgU1VCU1RJVFVUSU9OX1NZTUJPTFNfTk9fTkFNRUQgPSAvXFwkKFskJidgXXxcXGR7MSwyfSkvZztcblxuLy8gYEdldFN1YnN0aXR1dGlvbmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldHN1YnN0aXR1dGlvblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWF0Y2hlZCwgc3RyLCBwb3NpdGlvbiwgY2FwdHVyZXMsIG5hbWVkQ2FwdHVyZXMsIHJlcGxhY2VtZW50KSB7XG4gIHZhciB0YWlsUG9zID0gcG9zaXRpb24gKyBtYXRjaGVkLmxlbmd0aDtcbiAgdmFyIG0gPSBjYXB0dXJlcy5sZW5ndGg7XG4gIHZhciBzeW1ib2xzID0gU1VCU1RJVFVUSU9OX1NZTUJPTFNfTk9fTkFNRUQ7XG4gIGlmIChuYW1lZENhcHR1cmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBuYW1lZENhcHR1cmVzID0gdG9PYmplY3QobmFtZWRDYXB0dXJlcyk7XG4gICAgc3ltYm9scyA9IFNVQlNUSVRVVElPTl9TWU1CT0xTO1xuICB9XG4gIHJldHVybiByZXBsYWNlKHJlcGxhY2VtZW50LCBzeW1ib2xzLCBmdW5jdGlvbiAobWF0Y2gsIGNoKSB7XG4gICAgdmFyIGNhcHR1cmU7XG4gICAgc3dpdGNoIChjaGFyQXQoY2gsIDApKSB7XG4gICAgICBjYXNlICckJzogcmV0dXJuICckJztcbiAgICAgIGNhc2UgJyYnOiByZXR1cm4gbWF0Y2hlZDtcbiAgICAgIGNhc2UgJ2AnOiByZXR1cm4gc3RyaW5nU2xpY2Uoc3RyLCAwLCBwb3NpdGlvbik7XG4gICAgICBjYXNlIFwiJ1wiOiByZXR1cm4gc3RyaW5nU2xpY2Uoc3RyLCB0YWlsUG9zKTtcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICBjYXB0dXJlID0gbmFtZWRDYXB0dXJlc1tzdHJpbmdTbGljZShjaCwgMSwgLTEpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiAvLyBcXGRcXGQ/XG4gICAgICAgIHZhciBuID0gK2NoO1xuICAgICAgICBpZiAobiA9PT0gMCkgcmV0dXJuIG1hdGNoO1xuICAgICAgICBpZiAobiA+IG0pIHtcbiAgICAgICAgICB2YXIgZiA9IGZsb29yKG4gLyAxMCk7XG4gICAgICAgICAgaWYgKGYgPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICBpZiAoZiA8PSBtKSByZXR1cm4gY2FwdHVyZXNbZiAtIDFdID09PSB1bmRlZmluZWQgPyBjaGFyQXQoY2gsIDEpIDogY2FwdHVyZXNbZiAtIDFdICsgY2hhckF0KGNoLCAxKTtcbiAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgY2FwdHVyZSA9IGNhcHR1cmVzW24gLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIGNhcHR1cmUgPT09IHVuZGVmaW5lZCA/ICcnIDogY2FwdHVyZTtcbiAgfSk7XG59O1xuIiwidmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCAmJiBpdC5NYXRoID09IE1hdGggJiYgaXQ7XG59O1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxubW9kdWxlLmV4cG9ydHMgPVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tZ2xvYmFsLXRoaXMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBnbG9iYWxUaGlzKSB8fFxuICBjaGVjayh0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdykgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAtLSBzYWZlXG4gIGNoZWNrKHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYpIHx8XG4gIGNoZWNrKHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsKSB8fFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmMgLS0gZmFsbGJhY2tcbiAgKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pKCkgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcblxudmFyIGhhc093blByb3BlcnR5ID0gdW5jdXJyeVRoaXMoe30uaGFzT3duUHJvcGVydHkpO1xuXG4vLyBgSGFzT3duUHJvcGVydHlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1oYXNvd25wcm9wZXJ0eVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1oYXNvd24gLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuaGFzT3duIHx8IGZ1bmN0aW9uIGhhc093bihpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eSh0b09iamVjdChpdCksIGtleSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgdHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZSAtLSBzYWZlXG4gICAgYXJndW1lbnRzLmxlbmd0aCA9PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbn07XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRCdWlsdEluKCdkb2N1bWVudCcsICdkb2N1bWVudEVsZW1lbnQnKTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgY3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xuXG4vLyBUaGFua3MgdG8gSUU4IGZvciBpdHMgZnVubnkgZGVmaW5lUHJvcGVydHlcbm1vZHVsZS5leHBvcnRzID0gIURFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVFbGVtZW50KCdkaXYnKSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9XG4gIH0pLmEgIT0gNztcbn0pO1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xuXG52YXIgJE9iamVjdCA9IE9iamVjdDtcbnZhciBzcGxpdCA9IHVuY3VycnlUaGlzKCcnLnNwbGl0KTtcblxuLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3Ncbm1vZHVsZS5leHBvcnRzID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyB0aHJvd3MgYW4gZXJyb3IgaW4gcmhpbm8sIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9yaGluby9pc3N1ZXMvMzQ2XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgLS0gc2FmZVxuICByZXR1cm4gISRPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKTtcbn0pID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBjbGFzc29mKGl0KSA9PSAnU3RyaW5nJyA/IHNwbGl0KGl0LCAnJykgOiAkT2JqZWN0KGl0KTtcbn0gOiAkT2JqZWN0O1xuIiwidmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xuXG4vLyBtYWtlcyBzdWJjbGFzc2luZyB3b3JrIGNvcnJlY3QgZm9yIHdyYXBwZWQgYnVpbHQtaW5zXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgkdGhpcywgZHVtbXksIFdyYXBwZXIpIHtcbiAgdmFyIE5ld1RhcmdldCwgTmV3VGFyZ2V0UHJvdG90eXBlO1xuICBpZiAoXG4gICAgLy8gaXQgY2FuIHdvcmsgb25seSB3aXRoIG5hdGl2ZSBgc2V0UHJvdG90eXBlT2ZgXG4gICAgc2V0UHJvdG90eXBlT2YgJiZcbiAgICAvLyB3ZSBoYXZlbid0IGNvbXBsZXRlbHkgY29ycmVjdCBwcmUtRVM2IHdheSBmb3IgZ2V0dGluZyBgbmV3LnRhcmdldGAsIHNvIHVzZSB0aGlzXG4gICAgaXNDYWxsYWJsZShOZXdUYXJnZXQgPSBkdW1teS5jb25zdHJ1Y3RvcikgJiZcbiAgICBOZXdUYXJnZXQgIT09IFdyYXBwZXIgJiZcbiAgICBpc09iamVjdChOZXdUYXJnZXRQcm90b3R5cGUgPSBOZXdUYXJnZXQucHJvdG90eXBlKSAmJlxuICAgIE5ld1RhcmdldFByb3RvdHlwZSAhPT0gV3JhcHBlci5wcm90b3R5cGVcbiAgKSBzZXRQcm90b3R5cGVPZigkdGhpcywgTmV3VGFyZ2V0UHJvdG90eXBlKTtcbiAgcmV0dXJuICR0aGlzO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgc3RvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlJyk7XG5cbnZhciBmdW5jdGlvblRvU3RyaW5nID0gdW5jdXJyeVRoaXMoRnVuY3Rpb24udG9TdHJpbmcpO1xuXG4vLyB0aGlzIGhlbHBlciBicm9rZW4gaW4gYGNvcmUtanNAMy40LjEtMy40LjRgLCBzbyB3ZSBjYW4ndCB1c2UgYHNoYXJlZGAgaGVscGVyXG5pZiAoIWlzQ2FsbGFibGUoc3RvcmUuaW5zcGVjdFNvdXJjZSkpIHtcbiAgc3RvcmUuaW5zcGVjdFNvdXJjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvU3RyaW5nKGl0KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZS5pbnNwZWN0U291cmNlO1xuIiwidmFyIE5BVElWRV9XRUFLX01BUCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWFrLW1hcC1iYXNpYy1kZXRlY3Rpb24nKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG52YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgV2Vha01hcCA9IGdsb2JhbC5XZWFrTWFwO1xudmFyIHNldCwgZ2V0LCBoYXM7XG5cbnZhciBlbmZvcmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldChpdCwge30pO1xufTtcblxudmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgaWYgKCFpc09iamVjdChpdCkgfHwgKHN0YXRlID0gZ2V0KGl0KSkudHlwZSAhPT0gVFlQRSkge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICcgKyBUWVBFICsgJyByZXF1aXJlZCcpO1xuICAgIH0gcmV0dXJuIHN0YXRlO1xuICB9O1xufTtcblxuaWYgKE5BVElWRV9XRUFLX01BUCB8fCBzaGFyZWQuc3RhdGUpIHtcbiAgdmFyIHN0b3JlID0gc2hhcmVkLnN0YXRlIHx8IChzaGFyZWQuc3RhdGUgPSBuZXcgV2Vha01hcCgpKTtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1hc3NpZ24gLS0gcHJvdG90eXBlIG1ldGhvZHMgcHJvdGVjdGlvbiAqL1xuICBzdG9yZS5nZXQgPSBzdG9yZS5nZXQ7XG4gIHN0b3JlLmhhcyA9IHN0b3JlLmhhcztcbiAgc3RvcmUuc2V0ID0gc3RvcmUuc2V0O1xuICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtYXNzaWduIC0tIHByb3RvdHlwZSBtZXRob2RzIHByb3RlY3Rpb24gKi9cbiAgc2V0ID0gZnVuY3Rpb24gKGl0LCBtZXRhZGF0YSkge1xuICAgIGlmIChzdG9yZS5oYXMoaXQpKSB0aHJvdyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIHN0b3JlLnNldChpdCwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHN0b3JlLmdldChpdCkgfHwge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBzdG9yZS5oYXMoaXQpO1xuICB9O1xufSBlbHNlIHtcbiAgdmFyIFNUQVRFID0gc2hhcmVkS2V5KCdzdGF0ZScpO1xuICBoaWRkZW5LZXlzW1NUQVRFXSA9IHRydWU7XG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAoaGFzT3duKGl0LCBTVEFURSkpIHRocm93IFR5cGVFcnJvcihPQkpFQ1RfQUxSRUFEWV9JTklUSUFMSVpFRCk7XG4gICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KGl0LCBTVEFURSwgbWV0YWRhdGEpO1xuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfTtcbiAgZ2V0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGhhc093bihpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gIH07XG4gIGhhcyA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24oaXQsIFNUQVRFKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0LFxuICBnZXQ6IGdldCxcbiAgaGFzOiBoYXMsXG4gIGVuZm9yY2U6IGVuZm9yY2UsXG4gIGdldHRlckZvcjogZ2V0dGVyRm9yXG59O1xuIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvdHlwZVtJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xuXG4vLyBgSXNBcnJheWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1pc2FycmF5IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZ3VtZW50KSB7XG4gIHJldHVybiBjbGFzc29mKGFyZ3VtZW50KSA9PSAnQXJyYXknO1xufTtcbiIsInZhciAkZG9jdW1lbnRBbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtYWxsJyk7XG5cbnZhciBkb2N1bWVudEFsbCA9ICRkb2N1bWVudEFsbC5hbGw7XG5cbi8vIGBJc0NhbGxhYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxubW9kdWxlLmV4cG9ydHMgPSAkZG9jdW1lbnRBbGwuSVNfSFRNTEREQSA/IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09ICdmdW5jdGlvbicgfHwgYXJndW1lbnQgPT09IGRvY3VtZW50QWxsO1xufSA6IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09ICdmdW5jdGlvbic7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgaW5zcGVjdFNvdXJjZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnNwZWN0LXNvdXJjZScpO1xuXG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcbnZhciBlbXB0eSA9IFtdO1xudmFyIGNvbnN0cnVjdCA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnY29uc3RydWN0Jyk7XG52YXIgY29uc3RydWN0b3JSZWdFeHAgPSAvXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvO1xudmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcyhjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKTtcbnZhciBJTkNPUlJFQ1RfVE9fU1RSSU5HID0gIWNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMobm9vcCk7XG5cbnZhciBpc0NvbnN0cnVjdG9yTW9kZXJuID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICBpZiAoIWlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3RydWN0KG5vb3AsIGVtcHR5LCBhcmd1bWVudCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG52YXIgaXNDb25zdHJ1Y3RvckxlZ2FjeSA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgaWYgKCFpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICBzd2l0Y2ggKGNsYXNzb2YoYXJndW1lbnQpKSB7XG4gICAgY2FzZSAnQXN5bmNGdW5jdGlvbic6XG4gICAgY2FzZSAnR2VuZXJhdG9yRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOiByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyB3ZSBjYW4ndCBjaGVjayAucHJvdG90eXBlIHNpbmNlIGNvbnN0cnVjdG9ycyBwcm9kdWNlZCBieSAuYmluZCBoYXZlbid0IGl0XG4gICAgLy8gYEZ1bmN0aW9uI3RvU3RyaW5nYCB0aHJvd3Mgb24gc29tZSBidWlsdC1pdCBmdW5jdGlvbiBpbiBzb21lIGxlZ2FjeSBlbmdpbmVzXG4gICAgLy8gKGZvciBleGFtcGxlLCBgRE9NUXVhZGAgYW5kIHNpbWlsYXIgaW4gRkY0MS0pXG4gICAgcmV0dXJuIElOQ09SUkVDVF9UT19TVFJJTkcgfHwgISFleGVjKGNvbnN0cnVjdG9yUmVnRXhwLCBpbnNwZWN0U291cmNlKGFyZ3VtZW50KSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbmlzQ29uc3RydWN0b3JMZWdhY3kuc2hhbSA9IHRydWU7XG5cbi8vIGBJc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxubW9kdWxlLmV4cG9ydHMgPSAhY29uc3RydWN0IHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhbGxlZDtcbiAgcmV0dXJuIGlzQ29uc3RydWN0b3JNb2Rlcm4oaXNDb25zdHJ1Y3Rvck1vZGVybi5jYWxsKVxuICAgIHx8ICFpc0NvbnN0cnVjdG9yTW9kZXJuKE9iamVjdClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWU7IH0pXG4gICAgfHwgY2FsbGVkO1xufSkgPyBpc0NvbnN0cnVjdG9yTGVnYWN5IDogaXNDb25zdHJ1Y3Rvck1vZGVybjtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcblxudmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxudmFyIGlzRm9yY2VkID0gZnVuY3Rpb24gKGZlYXR1cmUsIGRldGVjdGlvbikge1xuICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gIHJldHVybiB2YWx1ZSA9PSBQT0xZRklMTCA/IHRydWVcbiAgICA6IHZhbHVlID09IE5BVElWRSA/IGZhbHNlXG4gICAgOiBpc0NhbGxhYmxlKGRldGVjdGlvbikgPyBmYWlscyhkZXRlY3Rpb24pXG4gICAgOiAhIWRldGVjdGlvbjtcbn07XG5cbnZhciBub3JtYWxpemUgPSBpc0ZvcmNlZC5ub3JtYWxpemUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlcGxhY2VtZW50LCAnLicpLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgZGF0YSA9IGlzRm9yY2VkLmRhdGEgPSB7fTtcbnZhciBOQVRJVkUgPSBpc0ZvcmNlZC5OQVRJVkUgPSAnTic7XG52YXIgUE9MWUZJTEwgPSBpc0ZvcmNlZC5QT0xZRklMTCA9ICdQJztcblxubW9kdWxlLmV4cG9ydHMgPSBpc0ZvcmNlZDtcbiIsIi8vIHdlIGNhbid0IHVzZSBqdXN0IGBpdCA9PSBudWxsYCBzaW5jZSBvZiBgZG9jdW1lbnQuYWxsYCBzcGVjaWFsIGNhc2Vcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtSXNIVE1MRERBLWludGVybmFsLXNsb3QtYWVjXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPT09IG51bGwgfHwgaXQgPT09IHVuZGVmaW5lZDtcbn07XG4iLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyICRkb2N1bWVudEFsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1hbGwnKTtcblxudmFyIGRvY3VtZW50QWxsID0gJGRvY3VtZW50QWxsLmFsbDtcblxubW9kdWxlLmV4cG9ydHMgPSAkZG9jdW1lbnRBbGwuSVNfSFRNTEREQSA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiBpc0NhbGxhYmxlKGl0KSB8fCBpdCA9PT0gZG9jdW1lbnRBbGw7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IGlzQ2FsbGFibGUoaXQpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZmFsc2U7XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgVVNFX1NZTUJPTF9BU19VSUQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXNlLXN5bWJvbC1hcy11aWQnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbm1vZHVsZS5leHBvcnRzID0gVVNFX1NZTUJPTF9BU19VSUQgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyICRTeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKTtcbiAgcmV0dXJuIGlzQ2FsbGFibGUoJFN5bWJvbCkgJiYgaXNQcm90b3R5cGVPZigkU3ltYm9sLnByb3RvdHlwZSwgJE9iamVjdChpdCkpO1xufTtcbiIsInZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcbnZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXktaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBnZXRJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3InKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1jbG9zZScpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxudmFyIFJlc3VsdCA9IGZ1bmN0aW9uIChzdG9wcGVkLCByZXN1bHQpIHtcbiAgdGhpcy5zdG9wcGVkID0gc3RvcHBlZDtcbiAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7XG59O1xuXG52YXIgUmVzdWx0UHJvdG90eXBlID0gUmVzdWx0LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmFibGUsIHVuYm91bmRGdW5jdGlvbiwgb3B0aW9ucykge1xuICB2YXIgdGhhdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aGF0O1xuICB2YXIgQVNfRU5UUklFUyA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5BU19FTlRSSUVTKTtcbiAgdmFyIElTX1JFQ09SRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JU19SRUNPUkQpO1xuICB2YXIgSVNfSVRFUkFUT1IgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSVNfSVRFUkFUT1IpO1xuICB2YXIgSU5URVJSVVBURUQgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSU5URVJSVVBURUQpO1xuICB2YXIgZm4gPSBiaW5kKHVuYm91bmRGdW5jdGlvbiwgdGhhdCk7XG4gIHZhciBpdGVyYXRvciwgaXRlckZuLCBpbmRleCwgbGVuZ3RoLCByZXN1bHQsIG5leHQsIHN0ZXA7XG5cbiAgdmFyIHN0b3AgPSBmdW5jdGlvbiAoY29uZGl0aW9uKSB7XG4gICAgaWYgKGl0ZXJhdG9yKSBpdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCAnbm9ybWFsJywgY29uZGl0aW9uKTtcbiAgICByZXR1cm4gbmV3IFJlc3VsdCh0cnVlLCBjb25kaXRpb24pO1xuICB9O1xuXG4gIHZhciBjYWxsRm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoQVNfRU5UUklFUykge1xuICAgICAgYW5PYmplY3QodmFsdWUpO1xuICAgICAgcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWVbMF0sIHZhbHVlWzFdLCBzdG9wKSA6IGZuKHZhbHVlWzBdLCB2YWx1ZVsxXSk7XG4gICAgfSByZXR1cm4gSU5URVJSVVBURUQgPyBmbih2YWx1ZSwgc3RvcCkgOiBmbih2YWx1ZSk7XG4gIH07XG5cbiAgaWYgKElTX1JFQ09SRCkge1xuICAgIGl0ZXJhdG9yID0gaXRlcmFibGUuaXRlcmF0b3I7XG4gIH0gZWxzZSBpZiAoSVNfSVRFUkFUT1IpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhYmxlO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJGbiA9IGdldEl0ZXJhdG9yTWV0aG9kKGl0ZXJhYmxlKTtcbiAgICBpZiAoIWl0ZXJGbikgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhpdGVyYWJsZSkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xuICAgIC8vIG9wdGltaXNhdGlvbiBmb3IgYXJyYXkgaXRlcmF0b3JzXG4gICAgaWYgKGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyRm4pKSB7XG4gICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoaXRlcmFibGUpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgPSBjYWxsRm4oaXRlcmFibGVbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiBpc1Byb3RvdHlwZU9mKFJlc3VsdFByb3RvdHlwZSwgcmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xuICAgIH1cbiAgICBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKGl0ZXJhYmxlLCBpdGVyRm4pO1xuICB9XG5cbiAgbmV4dCA9IElTX1JFQ09SRCA/IGl0ZXJhYmxlLm5leHQgOiBpdGVyYXRvci5uZXh0O1xuICB3aGlsZSAoIShzdGVwID0gY2FsbChuZXh0LCBpdGVyYXRvcikpLmRvbmUpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gY2FsbEZuKHN0ZXAudmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCAndGhyb3cnLCBlcnJvcik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdvYmplY3QnICYmIHJlc3VsdCAmJiBpc1Byb3RvdHlwZU9mKFJlc3VsdFByb3RvdHlwZSwgcmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgfSByZXR1cm4gbmV3IFJlc3VsdChmYWxzZSk7XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBraW5kLCB2YWx1ZSkge1xuICB2YXIgaW5uZXJSZXN1bHQsIGlubmVyRXJyb3I7XG4gIGFuT2JqZWN0KGl0ZXJhdG9yKTtcbiAgdHJ5IHtcbiAgICBpbm5lclJlc3VsdCA9IGdldE1ldGhvZChpdGVyYXRvciwgJ3JldHVybicpO1xuICAgIGlmICghaW5uZXJSZXN1bHQpIHtcbiAgICAgIGlmIChraW5kID09PSAndGhyb3cnKSB0aHJvdyB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaW5uZXJSZXN1bHQgPSBjYWxsKGlubmVyUmVzdWx0LCBpdGVyYXRvcik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaW5uZXJFcnJvciA9IHRydWU7XG4gICAgaW5uZXJSZXN1bHQgPSBlcnJvcjtcbiAgfVxuICBpZiAoa2luZCA9PT0gJ3Rocm93JykgdGhyb3cgdmFsdWU7XG4gIGlmIChpbm5lckVycm9yKSB0aHJvdyBpbm5lclJlc3VsdDtcbiAgYW5PYmplY3QoaW5uZXJSZXN1bHQpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycy1jb3JlJykuSXRlcmF0b3JQcm90b3R5cGU7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMnKTtcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChJdGVyYXRvckNvbnN0cnVjdG9yLCBOQU1FLCBuZXh0LCBFTlVNRVJBQkxFX05FWFQpIHtcbiAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gIEl0ZXJhdG9yQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigrIUVOVU1FUkFCTEVfTkVYVCwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yQ29uc3RydWN0b3IsIFRPX1NUUklOR19UQUcsIGZhbHNlLCB0cnVlKTtcbiAgSXRlcmF0b3JzW1RPX1NUUklOR19UQUddID0gcmV0dXJuVGhpcztcbiAgcmV0dXJuIEl0ZXJhdG9yQ29uc3RydWN0b3I7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgRnVuY3Rpb25OYW1lID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLW5hbWUnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1jcmVhdGUtY29uc3RydWN0b3InKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1zZXQtcHJvdG90eXBlLW9mJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG52YXIgSXRlcmF0b3JzQ29yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMtY29yZScpO1xuXG52YXIgUFJPUEVSX0ZVTkNUSU9OX05BTUUgPSBGdW5jdGlvbk5hbWUuUFJPUEVSO1xudmFyIENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FID0gRnVuY3Rpb25OYW1lLkNPTkZJR1VSQUJMRTtcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IEl0ZXJhdG9yc0NvcmUuSXRlcmF0b3JQcm90b3R5cGU7XG52YXIgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IEl0ZXJhdG9yc0NvcmUuQlVHR1lfU0FGQVJJX0lURVJBVE9SUztcbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBLRVlTID0gJ2tleXMnO1xudmFyIFZBTFVFUyA9ICd2YWx1ZXMnO1xudmFyIEVOVFJJRVMgPSAnZW50cmllcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSXRlcmFibGUsIE5BTUUsIEl0ZXJhdG9yQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG4gIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IoSXRlcmF0b3JDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG5cbiAgdmFyIGdldEl0ZXJhdGlvbk1ldGhvZCA9IGZ1bmN0aW9uIChLSU5EKSB7XG4gICAgaWYgKEtJTkQgPT09IERFRkFVTFQgJiYgZGVmYXVsdEl0ZXJhdG9yKSByZXR1cm4gZGVmYXVsdEl0ZXJhdG9yO1xuICAgIGlmICghQlVHR1lfU0FGQVJJX0lURVJBVE9SUyAmJiBLSU5EIGluIEl0ZXJhYmxlUHJvdG90eXBlKSByZXR1cm4gSXRlcmFibGVQcm90b3R5cGVbS0lORF07XG4gICAgc3dpdGNoIChLSU5EKSB7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICBjYXNlIFZBTFVFUzogcmV0dXJuIGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpOyB9O1xuICAgICAgY2FzZSBFTlRSSUVTOiByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpOyB9O1xuICAgIH0gcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMpOyB9O1xuICB9O1xuXG4gIHZhciBUT19TVFJJTkdfVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICB2YXIgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gZmFsc2U7XG4gIHZhciBJdGVyYWJsZVByb3RvdHlwZSA9IEl0ZXJhYmxlLnByb3RvdHlwZTtcbiAgdmFyIG5hdGl2ZUl0ZXJhdG9yID0gSXRlcmFibGVQcm90b3R5cGVbSVRFUkFUT1JdXG4gICAgfHwgSXRlcmFibGVQcm90b3R5cGVbJ0BAaXRlcmF0b3InXVxuICAgIHx8IERFRkFVTFQgJiYgSXRlcmFibGVQcm90b3R5cGVbREVGQVVMVF07XG4gIHZhciBkZWZhdWx0SXRlcmF0b3IgPSAhQlVHR1lfU0FGQVJJX0lURVJBVE9SUyAmJiBuYXRpdmVJdGVyYXRvciB8fCBnZXRJdGVyYXRpb25NZXRob2QoREVGQVVMVCk7XG4gIHZhciBhbnlOYXRpdmVJdGVyYXRvciA9IE5BTUUgPT0gJ0FycmF5JyA/IEl0ZXJhYmxlUHJvdG90eXBlLmVudHJpZXMgfHwgbmF0aXZlSXRlcmF0b3IgOiBuYXRpdmVJdGVyYXRvcjtcbiAgdmFyIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgbWV0aG9kcywgS0VZO1xuXG4gIC8vIGZpeCBuYXRpdmVcbiAgaWYgKGFueU5hdGl2ZUl0ZXJhdG9yKSB7XG4gICAgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoYW55TmF0aXZlSXRlcmF0b3IuY2FsbChuZXcgSXRlcmFibGUoKSkpO1xuICAgIGlmIChDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgIGlmICghSVNfUFVSRSAmJiBnZXRQcm90b3R5cGVPZihDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUpICE9PSBJdGVyYXRvclByb3RvdHlwZSkge1xuICAgICAgICBpZiAoc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgICAgICBzZXRQcm90b3R5cGVPZihDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgICAgICAgfSBlbHNlIGlmICghaXNDYWxsYWJsZShDdXJyZW50SXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdKSkge1xuICAgICAgICAgIGRlZmluZUJ1aWx0SW4oQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBpZiAoSVNfUFVSRSkgSXRlcmF0b3JzW1RPX1NUUklOR19UQUddID0gcmV0dXJuVGhpcztcbiAgICB9XG4gIH1cblxuICAvLyBmaXggQXJyYXkucHJvdG90eXBlLnsgdmFsdWVzLCBAQGl0ZXJhdG9yIH0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmIChQUk9QRVJfRlVOQ1RJT05fTkFNRSAmJiBERUZBVUxUID09IFZBTFVFUyAmJiBuYXRpdmVJdGVyYXRvciAmJiBuYXRpdmVJdGVyYXRvci5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICBpZiAoIUlTX1BVUkUgJiYgQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUpIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShJdGVyYWJsZVByb3RvdHlwZSwgJ25hbWUnLCBWQUxVRVMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgPSB0cnVlO1xuICAgICAgZGVmYXVsdEl0ZXJhdG9yID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gY2FsbChuYXRpdmVJdGVyYXRvciwgdGhpcyk7IH07XG4gICAgfVxuICB9XG5cbiAgLy8gZXhwb3J0IGFkZGl0aW9uYWwgbWV0aG9kc1xuICBpZiAoREVGQVVMVCkge1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogSVNfU0VUID8gZGVmYXVsdEl0ZXJhdG9yIDogZ2V0SXRlcmF0aW9uTWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogZ2V0SXRlcmF0aW9uTWV0aG9kKEVOVFJJRVMpXG4gICAgfTtcbiAgICBpZiAoRk9SQ0VEKSBmb3IgKEtFWSBpbiBtZXRob2RzKSB7XG4gICAgICBpZiAoQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgfHwgIShLRVkgaW4gSXRlcmFibGVQcm90b3R5cGUpKSB7XG4gICAgICAgIGRlZmluZUJ1aWx0SW4oSXRlcmFibGVQcm90b3R5cGUsIEtFWSwgbWV0aG9kc1tLRVldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgJCh7IHRhcmdldDogTkFNRSwgcHJvdG86IHRydWUsIGZvcmNlZDogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgfSwgbWV0aG9kcyk7XG4gIH1cblxuICAvLyBkZWZpbmUgaXRlcmF0b3JcbiAgaWYgKCghSVNfUFVSRSB8fCBGT1JDRUQpICYmIEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SXSAhPT0gZGVmYXVsdEl0ZXJhdG9yKSB7XG4gICAgZGVmaW5lQnVpbHRJbihJdGVyYWJsZVByb3RvdHlwZSwgSVRFUkFUT1IsIGRlZmF1bHRJdGVyYXRvciwgeyBuYW1lOiBERUZBVUxUIH0pO1xuICB9XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IGRlZmF1bHRJdGVyYXRvcjtcblxuICByZXR1cm4gbWV0aG9kcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LXByb3RvdHlwZS1vZicpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gZmFsc2U7XG5cbi8vIGAlSXRlcmF0b3JQcm90b3R5cGUlYCBvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1vYmplY3RcbnZhciBJdGVyYXRvclByb3RvdHlwZSwgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlLCBhcnJheUl0ZXJhdG9yO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1hcnJheS1wcm90b3R5cGUta2V5cyAtLSBzYWZlICovXG5pZiAoW10ua2V5cykge1xuICBhcnJheUl0ZXJhdG9yID0gW10ua2V5cygpO1xuICAvLyBTYWZhcmkgOCBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgaWYgKCEoJ25leHQnIGluIGFycmF5SXRlcmF0b3IpKSBCVUdHWV9TQUZBUklfSVRFUkFUT1JTID0gdHJ1ZTtcbiAgZWxzZSB7XG4gICAgUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoZ2V0UHJvdG90eXBlT2YoYXJyYXlJdGVyYXRvcikpO1xuICAgIGlmIChQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpIEl0ZXJhdG9yUHJvdG90eXBlID0gUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG59XG5cbnZhciBORVdfSVRFUkFUT1JfUFJPVE9UWVBFID0gIWlzT2JqZWN0KEl0ZXJhdG9yUHJvdG90eXBlKSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZXN0ID0ge307XG4gIC8vIEZGNDQtIGxlZ2FjeSBpdGVyYXRvcnMgY2FzZVxuICByZXR1cm4gSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdLmNhbGwodGVzdCkgIT09IHRlc3Q7XG59KTtcblxuaWYgKE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5lbHNlIGlmIChJU19QVVJFKSBJdGVyYXRvclByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG5cbi8vIGAlSXRlcmF0b3JQcm90b3R5cGUlW0BAaXRlcmF0b3JdKClgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0laXRlcmF0b3Jwcm90b3R5cGUlLUBAaXRlcmF0b3JcbmlmICghaXNDYWxsYWJsZShJdGVyYXRvclByb3RvdHlwZVtJVEVSQVRPUl0pKSB7XG4gIGRlZmluZUJ1aWx0SW4oSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgSXRlcmF0b3JQcm90b3R5cGU6IEl0ZXJhdG9yUHJvdG90eXBlLFxuICBCVUdHWV9TQUZBUklfSVRFUkFUT1JTOiBCVUdHWV9TQUZBUklfSVRFUkFUT1JTXG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiIsInZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcblxuLy8gYExlbmd0aE9mQXJyYXlMaWtlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbGVuZ3Rob2ZhcnJheWxpa2Vcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdG9MZW5ndGgob2JqLmxlbmd0aCk7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJykuQ09ORklHVVJBQkxFO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG5cbnZhciBlbmZvcmNlSW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZW5mb3JjZTtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXQ7XG52YXIgJFN0cmluZyA9IFN0cmluZztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBqb2luID0gdW5jdXJyeVRoaXMoW10uam9pbik7XG5cbnZhciBDT05GSUdVUkFCTEVfTEVOR1RIID0gREVTQ1JJUFRPUlMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgJ2xlbmd0aCcsIHsgdmFsdWU6IDggfSkubGVuZ3RoICE9PSA4O1xufSk7XG5cbnZhciBURU1QTEFURSA9IFN0cmluZyhTdHJpbmcpLnNwbGl0KCdTdHJpbmcnKTtcblxudmFyIG1ha2VCdWlsdEluID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIG5hbWUsIG9wdGlvbnMpIHtcbiAgaWYgKHN0cmluZ1NsaWNlKCRTdHJpbmcobmFtZSksIDAsIDcpID09PSAnU3ltYm9sKCcpIHtcbiAgICBuYW1lID0gJ1snICsgcmVwbGFjZSgkU3RyaW5nKG5hbWUpLCAvXlN5bWJvbFxcKChbXildKilcXCkvLCAnJDEnKSArICddJztcbiAgfVxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldHRlcikgbmFtZSA9ICdnZXQgJyArIG5hbWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc2V0dGVyKSBuYW1lID0gJ3NldCAnICsgbmFtZTtcbiAgaWYgKCFoYXNPd24odmFsdWUsICduYW1lJykgfHwgKENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FICYmIHZhbHVlLm5hbWUgIT09IG5hbWUpKSB7XG4gICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ25hbWUnLCB7IHZhbHVlOiBuYW1lLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgZWxzZSB2YWx1ZS5uYW1lID0gbmFtZTtcbiAgfVxuICBpZiAoQ09ORklHVVJBQkxFX0xFTkdUSCAmJiBvcHRpb25zICYmIGhhc093bihvcHRpb25zLCAnYXJpdHknKSAmJiB2YWx1ZS5sZW5ndGggIT09IG9wdGlvbnMuYXJpdHkpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ2xlbmd0aCcsIHsgdmFsdWU6IG9wdGlvbnMuYXJpdHkgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgJ2NvbnN0cnVjdG9yJykgJiYgb3B0aW9ucy5jb25zdHJ1Y3Rvcikge1xuICAgICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVQcm9wZXJ0eSh2YWx1ZSwgJ3Byb3RvdHlwZScsIHsgd3JpdGFibGU6IGZhbHNlIH0pO1xuICAgIC8vIGluIFY4IH4gQ2hyb21lIDUzLCBwcm90b3R5cGVzIG9mIHNvbWUgbWV0aG9kcywgbGlrZSBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AsIGFyZSBub24td3JpdGFibGVcbiAgICB9IGVsc2UgaWYgKHZhbHVlLnByb3RvdHlwZSkgdmFsdWUucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHZhciBzdGF0ZSA9IGVuZm9yY2VJbnRlcm5hbFN0YXRlKHZhbHVlKTtcbiAgaWYgKCFoYXNPd24oc3RhdGUsICdzb3VyY2UnKSkge1xuICAgIHN0YXRlLnNvdXJjZSA9IGpvaW4oVEVNUExBVEUsIHR5cGVvZiBuYW1lID09ICdzdHJpbmcnID8gbmFtZSA6ICcnKTtcbiAgfSByZXR1cm4gdmFsdWU7XG59O1xuXG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRlbmQtbmF0aXZlIC0tIHJlcXVpcmVkXG5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBtYWtlQnVpbHRJbihmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIGlzQ2FsbGFibGUodGhpcykgJiYgZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5zb3VyY2UgfHwgaW5zcGVjdFNvdXJjZSh0aGlzKTtcbn0sICd0b1N0cmluZycpO1xuIiwidmFyIGNlaWwgPSBNYXRoLmNlaWw7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG4vLyBgTWF0aC50cnVuY2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hdGgudHJ1bmNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1tYXRoLXRydW5jIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gTWF0aC50cnVuYyB8fCBmdW5jdGlvbiB0cnVuYyh4KSB7XG4gIHZhciBuID0gK3g7XG4gIHJldHVybiAobiA+IDAgPyBmbG9vciA6IGNlaWwpKG4pO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpLmY7XG52YXIgbWFjcm90YXNrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Rhc2snKS5zZXQ7XG52YXIgUXVldWUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcXVldWUnKTtcbnZhciBJU19JT1MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLWlvcycpO1xudmFyIElTX0lPU19QRUJCTEUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLWlvcy1wZWJibGUnKTtcbnZhciBJU19XRUJPU19XRUJLSVQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLXdlYm9zLXdlYmtpdCcpO1xudmFyIElTX05PREUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUnKTtcblxudmFyIE11dGF0aW9uT2JzZXJ2ZXIgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuLy8gTm9kZS5qcyAxMSBzaG93cyBFeHBlcmltZW50YWxXYXJuaW5nIG9uIGdldHRpbmcgYHF1ZXVlTWljcm90YXNrYFxudmFyIHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWwsICdxdWV1ZU1pY3JvdGFzaycpO1xudmFyIG1pY3JvdGFzayA9IHF1ZXVlTWljcm90YXNrRGVzY3JpcHRvciAmJiBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IudmFsdWU7XG52YXIgbm90aWZ5LCB0b2dnbGUsIG5vZGUsIHByb21pc2UsIHRoZW47XG5cbi8vIG1vZGVybiBlbmdpbmVzIGhhdmUgcXVldWVNaWNyb3Rhc2sgbWV0aG9kXG5pZiAoIW1pY3JvdGFzaykge1xuICB2YXIgcXVldWUgPSBuZXcgUXVldWUoKTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYgKElTX05PREUgJiYgKHBhcmVudCA9IHByb2Nlc3MuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZSAoZm4gPSBxdWV1ZS5nZXQoKSkgdHJ5IHtcbiAgICAgIGZuKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChxdWV1ZS5oZWFkKSBub3RpZnkoKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAocGFyZW50KSBwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXIsIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMzM5XG4gIC8vIGFsc28gZXhjZXB0IFdlYk9TIFdlYmtpdCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODk4XG4gIGlmICghSVNfSU9TICYmICFJU19OT0RFICYmICFJU19XRUJPU19XRUJLSVQgJiYgTXV0YXRpb25PYnNlcnZlciAmJiBkb2N1bWVudCkge1xuICAgIHRvZ2dsZSA9IHRydWU7XG4gICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYgKCFJU19JT1NfUEVCQkxFICYmIFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7XG4gICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgLy8gd29ya2Fyb3VuZCBvZiBXZWJLaXQgfiBpT1MgU2FmYXJpIDEwLjEgYnVnXG4gICAgcHJvbWlzZS5jb25zdHJ1Y3RvciA9IFByb21pc2U7XG4gICAgdGhlbiA9IGJpbmQocHJvbWlzZS50aGVuLCBwcm9taXNlKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGVuKGZsdXNoKTtcbiAgICB9O1xuICAvLyBOb2RlLmpzIHdpdGhvdXQgcHJvbWlzZXNcbiAgfSBlbHNlIGlmIChJU19OT0RFKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnZVxuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICAvLyBgd2VicGFja2AgZGV2IHNlcnZlciBidWcgb24gSUUgZ2xvYmFsIG1ldGhvZHMgLSB1c2UgYmluZChmbiwgZ2xvYmFsKVxuICAgIG1hY3JvdGFzayA9IGJpbmQobWFjcm90YXNrLCBnbG9iYWwpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1hY3JvdGFzayhmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIG1pY3JvdGFzayA9IGZ1bmN0aW9uIChmbikge1xuICAgIGlmICghcXVldWUuaGVhZCkgbm90aWZ5KCk7XG4gICAgcXVldWUuYWRkKGZuKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtaWNyb3Rhc2s7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbnZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uICgkJHJlc29sdmUsICQkcmVqZWN0KSB7XG4gICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgJFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUNhbGxhYmxlKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFDYWxsYWJsZShyZWplY3QpO1xufTtcblxuLy8gYE5ld1Byb21pc2VDYXBhYmlsaXR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbmV3cHJvbWlzZWNhcGFiaWxpdHlcbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiAoQykge1xuICByZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHNhZmVcbnZhciAkYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyhbXS5jb25jYXQpO1xuXG4vLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5hc3NpZ25cbm1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBzaG91bGQgaGF2ZSBjb3JyZWN0IG9yZGVyIG9mIG9wZXJhdGlvbnMgKEVkZ2UgYnVnKVxuICBpZiAoREVTQ1JJUFRPUlMgJiYgJGFzc2lnbih7IGI6IDEgfSwgJGFzc2lnbihkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMsICdiJywge1xuICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSksIHsgYjogMiB9KSkuYiAhPT0gMSkgcmV0dXJuIHRydWU7XG4gIC8vIHNob3VsZCB3b3JrIHdpdGggc3ltYm9scyBhbmQgc2hvdWxkIGhhdmUgZGV0ZXJtaW5pc3RpYyBwcm9wZXJ0eSBvcmRlciAoVjggYnVnKVxuICB2YXIgQSA9IHt9O1xuICB2YXIgQiA9IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tc3ltYm9sIC0tIHNhZmVcbiAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuICB2YXIgYWxwaGFiZXQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICBBW3N5bWJvbF0gPSA3O1xuICBhbHBoYWJldC5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoY2hyKSB7IEJbY2hyXSA9IGNocjsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtzeW1ib2xdICE9IDcgfHwgb2JqZWN0S2V5cygkYXNzaWduKHt9LCBCKSkuam9pbignJykgIT0gYWxwaGFiZXQ7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgdmFyIFQgPSB0b09iamVjdCh0YXJnZXQpO1xuICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICB2YXIgcHJvcGVydHlJc0VudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mO1xuICB3aGlsZSAoYXJndW1lbnRzTGVuZ3RoID4gaW5kZXgpIHtcbiAgICB2YXIgUyA9IEluZGV4ZWRPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdChvYmplY3RLZXlzKFMpLCBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoUykpIDogb2JqZWN0S2V5cyhTKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGogPSAwO1xuICAgIHZhciBrZXk7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgIGtleSA9IGtleXNbaisrXTtcbiAgICAgIGlmICghREVTQ1JJUFRPUlMgfHwgY2FsbChwcm9wZXJ0eUlzRW51bWVyYWJsZSwgUywga2V5KSkgVFtrZXldID0gU1trZXldO1xuICAgIH1cbiAgfSByZXR1cm4gVDtcbn0gOiAkYXNzaWduO1xuIiwiLyogZ2xvYmFsIEFjdGl2ZVhPYmplY3QgLS0gb2xkIElFLCBXU0ggKi9cbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydGllcycpO1xudmFyIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VudW0tYnVnLWtleXMnKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG52YXIgaHRtbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9odG1sJyk7XG52YXIgZG9jdW1lbnRDcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcblxudmFyIEdUID0gJz4nO1xudmFyIExUID0gJzwnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIFNDUklQVCA9ICdzY3JpcHQnO1xudmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuXG52YXIgRW1wdHlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfTtcblxudmFyIHNjcmlwdFRhZyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gIHJldHVybiBMVCArIFNDUklQVCArIEdUICsgY29udGVudCArIExUICsgJy8nICsgU0NSSVBUICsgR1Q7XG59O1xuXG4vLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVggPSBmdW5jdGlvbiAoYWN0aXZlWERvY3VtZW50KSB7XG4gIGFjdGl2ZVhEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJycpKTtcbiAgYWN0aXZlWERvY3VtZW50LmNsb3NlKCk7XG4gIHZhciB0ZW1wID0gYWN0aXZlWERvY3VtZW50LnBhcmVudFdpbmRvdy5PYmplY3Q7XG4gIGFjdGl2ZVhEb2N1bWVudCA9IG51bGw7IC8vIGF2b2lkIG1lbW9yeSBsZWFrXG4gIHJldHVybiB0ZW1wO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxudmFyIE51bGxQcm90b09iamVjdFZpYUlGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgdmFyIGlmcmFtZSA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gIHZhciBKUyA9ICdqYXZhJyArIFNDUklQVCArICc6JztcbiAgdmFyIGlmcmFtZURvY3VtZW50O1xuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgaHRtbC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNDc1XG4gIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XG4gIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gIGlmcmFtZURvY3VtZW50LmNsb3NlKCk7XG4gIHJldHVybiBpZnJhbWVEb2N1bWVudC5GO1xufTtcblxuLy8gQ2hlY2sgZm9yIGRvY3VtZW50LmRvbWFpbiBhbmQgYWN0aXZlIHggc3VwcG9ydFxuLy8gTm8gbmVlZCB0byB1c2UgYWN0aXZlIHggYXBwcm9hY2ggd2hlbiBkb2N1bWVudC5kb21haW4gaXMgbm90IHNldFxuLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9pc3N1ZXMvMTUwXG4vLyB2YXJpYXRpb24gb2YgaHR0cHM6Ly9naXRodWIuY29tL2tpdGNhbWJyaWRnZS9lczUtc2hpbS9jb21taXQvNGY3MzhhYzA2NjM0NlxuLy8gYXZvaWQgSUUgR0MgYnVnXG52YXIgYWN0aXZlWERvY3VtZW50O1xudmFyIE51bGxQcm90b09iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgdHJ5IHtcbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlICovIH1cbiAgTnVsbFByb3RvT2JqZWN0ID0gdHlwZW9mIGRvY3VtZW50ICE9ICd1bmRlZmluZWQnXG4gICAgPyBkb2N1bWVudC5kb21haW4gJiYgYWN0aXZlWERvY3VtZW50XG4gICAgICA/IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KSAvLyBvbGQgSUVcbiAgICAgIDogTnVsbFByb3RvT2JqZWN0VmlhSUZyYW1lKClcbiAgICA6IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KTsgLy8gV1NIXG4gIHZhciBsZW5ndGggPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkgZGVsZXRlIE51bGxQcm90b09iamVjdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2xlbmd0aF1dO1xuICByZXR1cm4gTnVsbFByb3RvT2JqZWN0KCk7XG59O1xuXG5oaWRkZW5LZXlzW0lFX1BST1RPXSA9IHRydWU7XG5cbi8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1jcmVhdGUgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChPICE9PSBudWxsKSB7XG4gICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5Q29uc3RydWN0b3IoKTtcbiAgICBFbXB0eUNvbnN0cnVjdG9yW1BST1RPVFlQRV0gPSBudWxsO1xuICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcbiAgfSBlbHNlIHJlc3VsdCA9IE51bGxQcm90b09iamVjdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZGVmaW5lUHJvcGVydGllc01vZHVsZS5mKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdjgtcHJvdG90eXBlLWRlZmluZS1idWcnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cycpO1xuXG4vLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0aWVzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTICYmICFWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIgcHJvcHMgPSB0b0luZGV4ZWRPYmplY3QoUHJvcGVydGllcyk7XG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhQcm9wZXJ0aWVzKTtcbiAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIga2V5O1xuICB3aGlsZSAobGVuZ3RoID4gaW5kZXgpIGRlZmluZVByb3BlcnR5TW9kdWxlLmYoTywga2V5ID0ga2V5c1tpbmRleCsrXSwgcHJvcHNba2V5XSk7XG4gIHJldHVybiBPO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lJyk7XG52YXIgVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdjgtcHJvdG90eXBlLWRlZmluZS1idWcnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleScpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBFTlVNRVJBQkxFID0gJ2VudW1lcmFibGUnO1xudmFyIENPTkZJR1VSQUJMRSA9ICdjb25maWd1cmFibGUnO1xudmFyIFdSSVRBQkxFID0gJ3dyaXRhYmxlJztcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyBWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKHR5cGVvZiBPID09PSAnZnVuY3Rpb24nICYmIFAgPT09ICdwcm90b3R5cGUnICYmICd2YWx1ZScgaW4gQXR0cmlidXRlcyAmJiBXUklUQUJMRSBpbiBBdHRyaWJ1dGVzICYmICFBdHRyaWJ1dGVzW1dSSVRBQkxFXSkge1xuICAgIHZhciBjdXJyZW50ID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50W1dSSVRBQkxFXSkge1xuICAgICAgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgICBBdHRyaWJ1dGVzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IENPTkZJR1VSQUJMRSBpbiBBdHRyaWJ1dGVzID8gQXR0cmlidXRlc1tDT05GSUdVUkFCTEVdIDogY3VycmVudFtDT05GSUdVUkFCTEVdLFxuICAgICAgICBlbnVtZXJhYmxlOiBFTlVNRVJBQkxFIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0VOVU1FUkFCTEVdIDogY3VycmVudFtFTlVNRVJBQkxFXSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfSByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xufSA6ICRkZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1Byb3BlcnR5S2V5KFApO1xuICBhbk9iamVjdChBdHRyaWJ1dGVzKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiAkZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgJFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlJyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXknKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIElFOF9ET01fREVGSU5FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2llOC1kb20tZGVmaW5lJyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyA/ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICBPID0gdG9JbmRleGVkT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmIChoYXNPd24oTywgUCkpIHJldHVybiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoIWNhbGwocHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZiwgTywgUCksIE9bUF0pO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eW5hbWVzIC0tIHNhZmUgKi9cbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKS5mO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2Utc2ltcGxlJyk7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5TmFtZXMoaXQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBhcnJheVNsaWNlKHdpbmRvd05hbWVzKTtcbiAgfVxufTtcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIGNsYXNzb2YoaXQpID09ICdXaW5kb3cnXG4gICAgPyBnZXRXaW5kb3dOYW1lcyhpdClcbiAgICA6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdChpdCkpO1xufTtcbiIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbnZhciBoaWRkZW5LZXlzID0gZW51bUJ1Z0tleXMuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eW5hbWVzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZVxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhPKSB7XG4gIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eXN5bWJvbHMgLS0gc2FmZVxuZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbiIsInZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBzaGFyZWRLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLWtleScpO1xudmFyIENPUlJFQ1RfUFJPVE9UWVBFX0dFVFRFUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jb3JyZWN0LXByb3RvdHlwZS1nZXR0ZXInKTtcblxudmFyIElFX1BST1RPID0gc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xudmFyICRPYmplY3QgPSBPYmplY3Q7XG52YXIgT2JqZWN0UHJvdG90eXBlID0gJE9iamVjdC5wcm90b3R5cGU7XG5cbi8vIGBPYmplY3QuZ2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0cHJvdG90eXBlb2Zcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0cHJvdG90eXBlb2YgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPyAkT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKE8pIHtcbiAgdmFyIG9iamVjdCA9IHRvT2JqZWN0KE8pO1xuICBpZiAoaGFzT3duKG9iamVjdCwgSUVfUFJPVE8pKSByZXR1cm4gb2JqZWN0W0lFX1BST1RPXTtcbiAgdmFyIGNvbnN0cnVjdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICBpZiAoaXNDYWxsYWJsZShjb25zdHJ1Y3RvcikgJiYgb2JqZWN0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB9IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiAkT2JqZWN0ID8gT2JqZWN0UHJvdG90eXBlIDogbnVsbDtcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gdW5jdXJyeVRoaXMoe30uaXNQcm90b3R5cGVPZik7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBpbmRleE9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWluY2x1ZGVzJykuaW5kZXhPZjtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG5cbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pICFoYXNPd24oaGlkZGVuS2V5cywga2V5KSAmJiBoYXNPd24oTywga2V5KSAmJiBwdXNoKHJlc3VsdCwga2V5KTtcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xuICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhc093bihPLCBrZXkgPSBuYW1lc1tpKytdKSkge1xuICAgIH5pbmRleE9mKHJlc3VsdCwga2V5KSB8fCBwdXNoKHJlc3VsdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciBpbnRlcm5hbE9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMtaW50ZXJuYWwnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG5cbi8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWtleXMgLS0gc2FmZVxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgcmV0dXJuIGludGVybmFsT2JqZWN0S2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIE5hc2hvcm4gfiBKREs4IGJ1Z1xudmFyIE5BU0hPUk5fQlVHID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmICEkcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh7IDE6IDIgfSwgMSk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eWlzZW51bWVyYWJsZVxuZXhwb3J0cy5mID0gTkFTSE9STl9CVUcgPyBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMsIFYpO1xuICByZXR1cm4gISFkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbn0gOiAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAtLSBzYWZlICovXG52YXIgdW5jdXJyeVRoaXNBY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMtYWNjZXNzb3InKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBhUG9zc2libGVQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1wb3NzaWJsZS1wcm90b3R5cGUnKTtcblxuLy8gYE9iamVjdC5zZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5zZXRwcm90b3R5cGVvZlxuLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LXNldHByb3RvdHlwZW9mIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IGZ1bmN0aW9uICgpIHtcbiAgdmFyIENPUlJFQ1RfU0VUVEVSID0gZmFsc2U7XG4gIHZhciB0ZXN0ID0ge307XG4gIHZhciBzZXR0ZXI7XG4gIHRyeSB7XG4gICAgc2V0dGVyID0gdW5jdXJyeVRoaXNBY2Nlc3NvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJywgJ3NldCcpO1xuICAgIHNldHRlcih0ZXN0LCBbXSk7XG4gICAgQ09SUkVDVF9TRVRURVIgPSB0ZXN0IGluc3RhbmNlb2YgQXJyYXk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKE8sIHByb3RvKSB7XG4gICAgYW5PYmplY3QoTyk7XG4gICAgYVBvc3NpYmxlUHJvdG90eXBlKHByb3RvKTtcbiAgICBpZiAoQ09SUkVDVF9TRVRURVIpIHNldHRlcihPLCBwcm90byk7XG4gICAgZWxzZSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgIHJldHVybiBPO1xuICB9O1xufSgpIDogdW5kZWZpbmVkKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nLXRhZy1zdXBwb3J0Jyk7XG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mJyk7XG5cbi8vIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPyB7fS50b1N0cmluZyA6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YodGhpcykgKyAnXSc7XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBPcmRpbmFyeVRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb3JkaW5hcnl0b3ByaW1pdGl2ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChwcmVmID09PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlKGZuID0gaW5wdXQudG9TdHJpbmcpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAoaXNDYWxsYWJsZShmbiA9IGlucHV0LnZhbHVlT2YpICYmICFpc09iamVjdCh2YWwgPSBjYWxsKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICBpZiAocHJlZiAhPT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZShmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG4iLCJ2YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcblxudmFyIGNvbmNhdCA9IHVuY3VycnlUaGlzKFtdLmNvbmNhdCk7XG5cbi8vIGFsbCBvYmplY3Qga2V5cywgaW5jbHVkZXMgbm9uLWVudW1lcmFibGUgYW5kIHN5bWJvbHNcbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignUmVmbGVjdCcsICdvd25LZXlzJykgfHwgZnVuY3Rpb24gb3duS2V5cyhpdCkge1xuICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZihhbk9iamVjdChpdCkpO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmY7XG4gIHJldHVybiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQoa2V5cywgZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSkgOiBrZXlzO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYykge1xuICB0cnkge1xuICAgIHJldHVybiB7IGVycm9yOiBmYWxzZSwgdmFsdWU6IGV4ZWMoKSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yOiB0cnVlLCB2YWx1ZTogZXJyb3IgfTtcbiAgfVxufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzRm9yY2VkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCcpO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJU19CUk9XU0VSID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1icm93c2VyJyk7XG52YXIgSVNfREVOTyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtZGVubycpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcblxudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG52YXIgU1VCQ0xBU1NJTkcgPSBmYWxzZTtcbnZhciBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQgPSBpc0NhbGxhYmxlKGdsb2JhbC5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpO1xuXG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSBpc0ZvcmNlZCgnUHJvbWlzZScsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFID0gaW5zcGVjdFNvdXJjZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpO1xuICB2YXIgR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSA9IFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFICE9PSBTdHJpbmcoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKTtcbiAgLy8gVjggNi42IChOb2RlIDEwIGFuZCBDaHJvbWUgNjYpIGhhdmUgYSBidWcgd2l0aCByZXNvbHZpbmcgY3VzdG9tIHRoZW5hYmxlc1xuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04MzA1NjVcbiAgLy8gV2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgaWYgKCFHTE9CQUxfQ09SRV9KU19QUk9NSVNFICYmIFY4X1ZFUlNJT04gPT09IDY2KSByZXR1cm4gdHJ1ZTtcbiAgLy8gV2UgbmVlZCBQcm9taXNlI3sgY2F0Y2gsIGZpbmFsbHkgfSBpbiB0aGUgcHVyZSB2ZXJzaW9uIGZvciBwcmV2ZW50aW5nIHByb3RvdHlwZSBwb2xsdXRpb25cbiAgaWYgKElTX1BVUkUgJiYgIShOYXRpdmVQcm9taXNlUHJvdG90eXBlWydjYXRjaCddICYmIE5hdGl2ZVByb21pc2VQcm90b3R5cGVbJ2ZpbmFsbHknXSkpIHJldHVybiB0cnVlO1xuICAvLyBXZSBjYW4ndCB1c2UgQEBzcGVjaWVzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY3OVxuICBpZiAoIVY4X1ZFUlNJT04gfHwgVjhfVkVSU0lPTiA8IDUxIHx8ICEvbmF0aXZlIGNvZGUvLnRlc3QoUFJPTUlTRV9DT05TVFJVQ1RPUl9TT1VSQ0UpKSB7XG4gICAgLy8gRGV0ZWN0IGNvcnJlY3RuZXNzIG9mIHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSgxKTsgfSk7XG4gICAgdmFyIEZha2VQcm9taXNlID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICAgIGV4ZWMoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xuICAgIH07XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgIGNvbnN0cnVjdG9yW1NQRUNJRVNdID0gRmFrZVByb21pc2U7XG4gICAgU1VCQ0xBU1NJTkcgPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuICAgIGlmICghU1VCQ0xBU1NJTkcpIHJldHVybiB0cnVlO1xuICAvLyBVbmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gIH0gcmV0dXJuICFHTE9CQUxfQ09SRV9KU19QUk9NSVNFICYmIChJU19CUk9XU0VSIHx8IElTX0RFTk8pICYmICFOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQ7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENPTlNUUlVDVE9SOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUixcbiAgUkVKRUNUSU9OX0VWRU5UOiBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQsXG4gIFNVQkNMQVNTSU5HOiBTVUJDTEFTU0lOR1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLlByb21pc2U7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gIGFuT2JqZWN0KEMpO1xuICBpZiAoaXNPYmplY3QoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7XG4gIHZhciBwcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5LmYoQyk7XG4gIHZhciByZXNvbHZlID0gcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgcmVzb2x2ZSh4KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59O1xuIiwidmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLW5hdGl2ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jaGVjay1jb3JyZWN0bmVzcy1vZi1pdGVyYXRpb24nKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpLkNPTlNUUlVDVE9SO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIHx8ICFjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5hbGwoaXRlcmFibGUpLnRoZW4odW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xufSk7XG4iLCJ2YXIgUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGVhZCA9IG51bGw7XG4gIHRoaXMudGFpbCA9IG51bGw7XG59O1xuXG5RdWV1ZS5wcm90b3R5cGUgPSB7XG4gIGFkZDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB2YXIgZW50cnkgPSB7IGl0ZW06IGl0ZW0sIG5leHQ6IG51bGwgfTtcbiAgICB2YXIgdGFpbCA9IHRoaXMudGFpbDtcbiAgICBpZiAodGFpbCkgdGFpbC5uZXh0ID0gZW50cnk7XG4gICAgZWxzZSB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgfSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5oZWFkO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgdmFyIG5leHQgPSB0aGlzLmhlYWQgPSBlbnRyeS5uZXh0O1xuICAgICAgaWYgKG5leHQgPT09IG51bGwpIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICByZXR1cm4gZW50cnkuaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUXVldWU7XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcbnZhciByZWdleHBFeGVjID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1leGVjJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgUmVnRXhwRXhlY2AgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cGV4ZWNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFIsIFMpIHtcbiAgdmFyIGV4ZWMgPSBSLmV4ZWM7XG4gIGlmIChpc0NhbGxhYmxlKGV4ZWMpKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNhbGwoZXhlYywgUiwgUyk7XG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkgYW5PYmplY3QocmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGlmIChjbGFzc29mKFIpID09PSAnUmVnRXhwJykgcmV0dXJuIGNhbGwocmVnZXhwRXhlYywgUiwgUyk7XG4gIHRocm93ICRUeXBlRXJyb3IoJ1JlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXInKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSByZWdleHAvbm8tZW1wdHktY2FwdHVyaW5nLWdyb3VwLCByZWdleHAvbm8tZW1wdHktZ3JvdXAsIHJlZ2V4cC9uby1sYXp5LWVuZHMgLS0gdGVzdGluZyAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVnZXhwL25vLXVzZWxlc3MtcXVhbnRpZmllciAtLSB0ZXN0aW5nICovXG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgcmVnZXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzJyk7XG52YXIgc3RpY2t5SGVscGVycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtc3RpY2t5LWhlbHBlcnMnKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJykuZ2V0O1xudmFyIFVOU1VQUE9SVEVEX0RPVF9BTEwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLXVuc3VwcG9ydGVkLWRvdC1hbGwnKTtcbnZhciBVTlNVUFBPUlRFRF9OQ0cgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLXVuc3VwcG9ydGVkLW5jZycpO1xuXG52YXIgbmF0aXZlUmVwbGFjZSA9IHNoYXJlZCgnbmF0aXZlLXN0cmluZy1yZXBsYWNlJywgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcbnZhciBuYXRpdmVFeGVjID0gUmVnRXhwLnByb3RvdHlwZS5leGVjO1xudmFyIHBhdGNoZWRFeGVjID0gbmF0aXZlRXhlYztcbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIGluZGV4T2YgPSB1bmN1cnJ5VGhpcygnJy5pbmRleE9mKTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG5cbnZhciBVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcmUxID0gL2EvO1xuICB2YXIgcmUyID0gL2IqL2c7XG4gIGNhbGwobmF0aXZlRXhlYywgcmUxLCAnYScpO1xuICBjYWxsKG5hdGl2ZUV4ZWMsIHJlMiwgJ2EnKTtcbiAgcmV0dXJuIHJlMS5sYXN0SW5kZXggIT09IDAgfHwgcmUyLmxhc3RJbmRleCAhPT0gMDtcbn0pKCk7XG5cbnZhciBVTlNVUFBPUlRFRF9ZID0gc3RpY2t5SGVscGVycy5CUk9LRU5fQ0FSRVQ7XG5cbi8vIG5vbnBhcnRpY2lwYXRpbmcgY2FwdHVyaW5nIGdyb3VwLCBjb3BpZWQgZnJvbSBlczUtc2hpbSdzIFN0cmluZyNzcGxpdCBwYXRjaC5cbnZhciBOUENHX0lOQ0xVREVEID0gLygpPz8vLmV4ZWMoJycpWzFdICE9PSB1bmRlZmluZWQ7XG5cbnZhciBQQVRDSCA9IFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyB8fCBOUENHX0lOQ0xVREVEIHx8IFVOU1VQUE9SVEVEX1kgfHwgVU5TVVBQT1JURURfRE9UX0FMTCB8fCBVTlNVUFBPUlRFRF9OQ0c7XG5cbmlmIChQQVRDSCkge1xuICBwYXRjaGVkRXhlYyA9IGZ1bmN0aW9uIGV4ZWMoc3RyaW5nKSB7XG4gICAgdmFyIHJlID0gdGhpcztcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHJlKTtcbiAgICB2YXIgc3RyID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICB2YXIgcmF3ID0gc3RhdGUucmF3O1xuICAgIHZhciByZXN1bHQsIHJlQ29weSwgbGFzdEluZGV4LCBtYXRjaCwgaSwgb2JqZWN0LCBncm91cDtcblxuICAgIGlmIChyYXcpIHtcbiAgICAgIHJhdy5sYXN0SW5kZXggPSByZS5sYXN0SW5kZXg7XG4gICAgICByZXN1bHQgPSBjYWxsKHBhdGNoZWRFeGVjLCByYXcsIHN0cik7XG4gICAgICByZS5sYXN0SW5kZXggPSByYXcubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB2YXIgZ3JvdXBzID0gc3RhdGUuZ3JvdXBzO1xuICAgIHZhciBzdGlja3kgPSBVTlNVUFBPUlRFRF9ZICYmIHJlLnN0aWNreTtcbiAgICB2YXIgZmxhZ3MgPSBjYWxsKHJlZ2V4cEZsYWdzLCByZSk7XG4gICAgdmFyIHNvdXJjZSA9IHJlLnNvdXJjZTtcbiAgICB2YXIgY2hhcnNBZGRlZCA9IDA7XG4gICAgdmFyIHN0ckNvcHkgPSBzdHI7XG5cbiAgICBpZiAoc3RpY2t5KSB7XG4gICAgICBmbGFncyA9IHJlcGxhY2UoZmxhZ3MsICd5JywgJycpO1xuICAgICAgaWYgKGluZGV4T2YoZmxhZ3MsICdnJykgPT09IC0xKSB7XG4gICAgICAgIGZsYWdzICs9ICdnJztcbiAgICAgIH1cblxuICAgICAgc3RyQ29weSA9IHN0cmluZ1NsaWNlKHN0ciwgcmUubGFzdEluZGV4KTtcbiAgICAgIC8vIFN1cHBvcnQgYW5jaG9yZWQgc3RpY2t5IGJlaGF2aW9yLlxuICAgICAgaWYgKHJlLmxhc3RJbmRleCA+IDAgJiYgKCFyZS5tdWx0aWxpbmUgfHwgcmUubXVsdGlsaW5lICYmIGNoYXJBdChzdHIsIHJlLmxhc3RJbmRleCAtIDEpICE9PSAnXFxuJykpIHtcbiAgICAgICAgc291cmNlID0gJyg/OiAnICsgc291cmNlICsgJyknO1xuICAgICAgICBzdHJDb3B5ID0gJyAnICsgc3RyQ29weTtcbiAgICAgICAgY2hhcnNBZGRlZCsrO1xuICAgICAgfVxuICAgICAgLy8gXig/ICsgcnggKyApIGlzIG5lZWRlZCwgaW4gY29tYmluYXRpb24gd2l0aCBzb21lIHN0ciBzbGljaW5nLCB0b1xuICAgICAgLy8gc2ltdWxhdGUgdGhlICd5JyBmbGFnLlxuICAgICAgcmVDb3B5ID0gbmV3IFJlZ0V4cCgnXig/OicgKyBzb3VyY2UgKyAnKScsIGZsYWdzKTtcbiAgICB9XG5cbiAgICBpZiAoTlBDR19JTkNMVURFRCkge1xuICAgICAgcmVDb3B5ID0gbmV3IFJlZ0V4cCgnXicgKyBzb3VyY2UgKyAnJCg/IVxcXFxzKScsIGZsYWdzKTtcbiAgICB9XG4gICAgaWYgKFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORykgbGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuXG4gICAgbWF0Y2ggPSBjYWxsKG5hdGl2ZUV4ZWMsIHN0aWNreSA/IHJlQ29weSA6IHJlLCBzdHJDb3B5KTtcblxuICAgIGlmIChzdGlja3kpIHtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBtYXRjaC5pbnB1dCA9IHN0cmluZ1NsaWNlKG1hdGNoLmlucHV0LCBjaGFyc0FkZGVkKTtcbiAgICAgICAgbWF0Y2hbMF0gPSBzdHJpbmdTbGljZShtYXRjaFswXSwgY2hhcnNBZGRlZCk7XG4gICAgICAgIG1hdGNoLmluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgICByZS5sYXN0SW5kZXggKz0gbWF0Y2hbMF0ubGVuZ3RoO1xuICAgICAgfSBlbHNlIHJlLmxhc3RJbmRleCA9IDA7XG4gICAgfSBlbHNlIGlmIChVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcgJiYgbWF0Y2gpIHtcbiAgICAgIHJlLmxhc3RJbmRleCA9IHJlLmdsb2JhbCA/IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIDogbGFzdEluZGV4O1xuICAgIH1cbiAgICBpZiAoTlBDR19JTkNMVURFRCAmJiBtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYFxuICAgICAgLy8gZm9yIE5QQ0csIGxpa2UgSUU4LiBOT1RFOiBUaGlzIGRvZXNuJ3Qgd29yayBmb3IgLyguPyk/L1xuICAgICAgY2FsbChuYXRpdmVSZXBsYWNlLCBtYXRjaFswXSwgcmVDb3B5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGFyZ3VtZW50c1tpXSA9PT0gdW5kZWZpbmVkKSBtYXRjaFtpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoICYmIGdyb3Vwcykge1xuICAgICAgbWF0Y2guZ3JvdXBzID0gb2JqZWN0ID0gY3JlYXRlKG51bGwpO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBncm91cCA9IGdyb3Vwc1tpXTtcbiAgICAgICAgb2JqZWN0W2dyb3VwWzBdXSA9IG1hdGNoW2dyb3VwWzFdXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2g7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGF0Y2hlZEV4ZWM7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG5cbi8vIGBSZWdFeHAucHJvdG90eXBlLmZsYWdzYCBnZXR0ZXIgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0LXJlZ2V4cC5wcm90b3R5cGUuZmxhZ3Ncbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdGhhdCA9IGFuT2JqZWN0KHRoaXMpO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmICh0aGF0Lmhhc0luZGljZXMpIHJlc3VsdCArPSAnZCc7XG4gIGlmICh0aGF0Lmdsb2JhbCkgcmVzdWx0ICs9ICdnJztcbiAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgaWYgKHRoYXQubXVsdGlsaW5lKSByZXN1bHQgKz0gJ20nO1xuICBpZiAodGhhdC5kb3RBbGwpIHJlc3VsdCArPSAncyc7XG4gIGlmICh0aGF0LnVuaWNvZGUpIHJlc3VsdCArPSAndSc7XG4gIGlmICh0aGF0LnVuaWNvZGVTZXRzKSByZXN1bHQgKz0gJ3YnO1xuICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgcmVnRXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWZsYWdzJyk7XG5cbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChSKSB7XG4gIHZhciBmbGFncyA9IFIuZmxhZ3M7XG4gIHJldHVybiBmbGFncyA9PT0gdW5kZWZpbmVkICYmICEoJ2ZsYWdzJyBpbiBSZWdFeHBQcm90b3R5cGUpICYmICFoYXNPd24oUiwgJ2ZsYWdzJykgJiYgaXNQcm90b3R5cGVPZihSZWdFeHBQcm90b3R5cGUsIFIpXG4gICAgPyBjYWxsKHJlZ0V4cEZsYWdzLCBSKSA6IGZsYWdzO1xufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gYmFiZWwtbWluaWZ5IGFuZCBDbG9zdXJlIENvbXBpbGVyIHRyYW5zcGlsZXMgUmVnRXhwKCdhJywgJ3knKSAtPiAvYS95IGFuZCBpdCBjYXVzZXMgU3ludGF4RXJyb3JcbnZhciAkUmVnRXhwID0gZ2xvYmFsLlJlZ0V4cDtcblxudmFyIFVOU1VQUE9SVEVEX1kgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciByZSA9ICRSZWdFeHAoJ2EnLCAneScpO1xuICByZS5sYXN0SW5kZXggPSAyO1xuICByZXR1cm4gcmUuZXhlYygnYWJjZCcpICE9IG51bGw7XG59KTtcblxuLy8gVUMgQnJvd3NlciBidWdcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xMDA4XG52YXIgTUlTU0VEX1NUSUNLWSA9IFVOU1VQUE9SVEVEX1kgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISRSZWdFeHAoJ2EnLCAneScpLnN0aWNreTtcbn0pO1xuXG52YXIgQlJPS0VOX0NBUkVUID0gVU5TVVBQT1JURURfWSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTc3MzY4N1xuICB2YXIgcmUgPSAkUmVnRXhwKCdecicsICdneScpO1xuICByZS5sYXN0SW5kZXggPSAyO1xuICByZXR1cm4gcmUuZXhlYygnc3RyJykgIT0gbnVsbDtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQlJPS0VOX0NBUkVUOiBCUk9LRU5fQ0FSRVQsXG4gIE1JU1NFRF9TVElDS1k6IE1JU1NFRF9TVElDS1ksXG4gIFVOU1VQUE9SVEVEX1k6IFVOU1VQUE9SVEVEX1lcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbi8vIGJhYmVsLW1pbmlmeSBhbmQgQ2xvc3VyZSBDb21waWxlciB0cmFuc3BpbGVzIFJlZ0V4cCgnLicsICdzJykgLT4gLy4vcyBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgJFJlZ0V4cCA9IGdsb2JhbC5SZWdFeHA7XG5cbm1vZHVsZS5leHBvcnRzID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgcmUgPSAkUmVnRXhwKCcuJywgJ3MnKTtcbiAgcmV0dXJuICEocmUuZG90QWxsICYmIHJlLmV4ZWMoJ1xcbicpICYmIHJlLmZsYWdzID09PSAncycpO1xufSk7XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbi8vIGJhYmVsLW1pbmlmeSBhbmQgQ2xvc3VyZSBDb21waWxlciB0cmFuc3BpbGVzIFJlZ0V4cCgnKD88YT5iKScsICdnJykgLT4gLyg/PGE+YikvZyBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgJFJlZ0V4cCA9IGdsb2JhbC5SZWdFeHA7XG5cbm1vZHVsZS5leHBvcnRzID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgcmUgPSAkUmVnRXhwKCcoPzxhPmIpJywgJ2cnKTtcbiAgcmV0dXJuIHJlLmV4ZWMoJ2InKS5ncm91cHMuYSAhPT0gJ2InIHx8XG4gICAgJ2InLnJlcGxhY2UocmUsICckPGE+YycpICE9PSAnYmMnO1xufSk7XG4iLCJ2YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVxdWlyZW9iamVjdGNvZXJjaWJsZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGl0KSkgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lQnVpbHRJbkFjY2Vzc29yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbi1hY2Nlc3NvcicpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SX05BTUUpIHtcbiAgdmFyIENvbnN0cnVjdG9yID0gZ2V0QnVpbHRJbihDT05TVFJVQ1RPUl9OQU1FKTtcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgQ29uc3RydWN0b3IgJiYgIUNvbnN0cnVjdG9yW1NQRUNJRVNdKSB7XG4gICAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKENvbnN0cnVjdG9yLCBTUEVDSUVTLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgICB9KTtcbiAgfVxufTtcbiIsInZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBUQUcsIFNUQVRJQykge1xuICBpZiAodGFyZ2V0ICYmICFTVEFUSUMpIHRhcmdldCA9IHRhcmdldC5wcm90b3R5cGU7XG4gIGlmICh0YXJnZXQgJiYgIWhhc093bih0YXJnZXQsIFRPX1NUUklOR19UQUcpKSB7XG4gICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBUT19TVFJJTkdfVEFHLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgfVxufTtcbiIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xuXG52YXIga2V5cyA9IHNoYXJlZCgna2V5cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGtleXNba2V5XSB8fCAoa2V5c1trZXldID0gdWlkKGtleSkpO1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eScpO1xuXG52YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG52YXIgc3RvcmUgPSBnbG9iYWxbU0hBUkVEXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShTSEFSRUQsIHt9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdG9yZTtcbiIsInZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBzdG9yZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246ICczLjI5LjAnLFxuICBtb2RlOiBJU19QVVJFID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTQtMjAyMyBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KScsXG4gIGxpY2Vuc2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjI5LjAvTElDRU5TRScsXG4gIHNvdXJjZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzJ1xufSk7XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgYUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY29uc3RydWN0b3InKTtcbnZhciBpc051bGxPclVuZGVmaW5lZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1udWxsLW9yLXVuZGVmaW5lZCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xuXG4vLyBgU3BlY2llc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3BlY2llc2NvbnN0cnVjdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBkZWZhdWx0Q29uc3RydWN0b3IpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgaXNOdWxsT3JVbmRlZmluZWQoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA/IGRlZmF1bHRDb25zdHJ1Y3RvciA6IGFDb25zdHJ1Y3RvcihTKTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcblxuLy8gY2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBhIG1ldGhvZCwgbG93ZXJjYXNlXG4vLyBvZiBhIHRhZyBhbmQgZXNjYXBpbmcgcXVvdGVzIGluIGFyZ3VtZW50c1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgcmV0dXJuIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGVzdCA9ICcnW01FVEhPRF9OQU1FXSgnXCInKTtcbiAgICByZXR1cm4gdGVzdCAhPT0gdGVzdC50b0xvd2VyQ2FzZSgpIHx8IHRlc3Quc3BsaXQoJ1wiJykubGVuZ3RoID4gMztcbiAgfSk7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlci1vci1pbmZpbml0eScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbnZhciBjaGFyQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQXQpO1xudmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQ29kZUF0KTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChDT05WRVJUX1RPX1NUUklORykge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBwb3MpIHtcbiAgICB2YXIgUyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICB2YXIgcG9zaXRpb24gPSB0b0ludGVnZXJPckluZmluaXR5KHBvcyk7XG4gICAgdmFyIHNpemUgPSBTLmxlbmd0aDtcbiAgICB2YXIgZmlyc3QsIHNlY29uZDtcbiAgICBpZiAocG9zaXRpb24gPCAwIHx8IHBvc2l0aW9uID49IHNpemUpIHJldHVybiBDT05WRVJUX1RPX1NUUklORyA/ICcnIDogdW5kZWZpbmVkO1xuICAgIGZpcnN0ID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbik7XG4gICAgcmV0dXJuIGZpcnN0IDwgMHhEODAwIHx8IGZpcnN0ID4gMHhEQkZGIHx8IHBvc2l0aW9uICsgMSA9PT0gc2l6ZVxuICAgICAgfHwgKHNlY29uZCA9IGNoYXJDb2RlQXQoUywgcG9zaXRpb24gKyAxKSkgPCAweERDMDAgfHwgc2Vjb25kID4gMHhERkZGXG4gICAgICAgID8gQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICA/IGNoYXJBdChTLCBwb3NpdGlvbilcbiAgICAgICAgICA6IGZpcnN0XG4gICAgICAgIDogQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICA/IHN0cmluZ1NsaWNlKFMsIHBvc2l0aW9uLCBwb3NpdGlvbiArIDIpXG4gICAgICAgICAgOiAoZmlyc3QgLSAweEQ4MDAgPDwgMTApICsgKHNlY29uZCAtIDB4REMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLmNvZGVQb2ludEF0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLmNvZGVwb2ludGF0XG4gIGNvZGVBdDogY3JlYXRlTWV0aG9kKGZhbHNlKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUuYXRgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy9TdHJpbmcucHJvdG90eXBlLmF0XG4gIGNoYXJBdDogY3JlYXRlTWV0aG9kKHRydWUpXG59O1xuIiwiLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL3B1bnljb2RlLmpzL2Jsb2IvbWFzdGVyL3B1bnljb2RlLmpzXG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbnZhciBtYXhJbnQgPSAyMTQ3NDgzNjQ3OyAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG52YXIgYmFzZSA9IDM2O1xudmFyIHRNaW4gPSAxO1xudmFyIHRNYXggPSAyNjtcbnZhciBza2V3ID0gMzg7XG52YXIgZGFtcCA9IDcwMDtcbnZhciBpbml0aWFsQmlhcyA9IDcyO1xudmFyIGluaXRpYWxOID0gMTI4OyAvLyAweDgwXG52YXIgZGVsaW1pdGVyID0gJy0nOyAvLyAnXFx4MkQnXG52YXIgcmVnZXhOb25BU0NJSSA9IC9bXlxcMC1cXHUwMDdFXS87IC8vIG5vbi1BU0NJSSBjaGFyc1xudmFyIHJlZ2V4U2VwYXJhdG9ycyA9IC9bLlxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZzsgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xudmFyIE9WRVJGTE9XX0VSUk9SID0gJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJztcbnZhciBiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW47XG5cbnZhciAkUmFuZ2VFcnJvciA9IFJhbmdlRXJyb3I7XG52YXIgZXhlYyA9IHVuY3VycnlUaGlzKHJlZ2V4U2VwYXJhdG9ycy5leGVjKTtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbnZhciBjaGFyQ29kZUF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckNvZGVBdCk7XG52YXIgam9pbiA9IHVuY3VycnlUaGlzKFtdLmpvaW4pO1xudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcygnJy5zcGxpdCk7XG52YXIgdG9Mb3dlckNhc2UgPSB1bmN1cnJ5VGhpcygnJy50b0xvd2VyQ2FzZSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcbiAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuICogbWF0Y2hpbmcgVVRGLTE2LlxuICovXG52YXIgdWNzMmRlY29kZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgY291bnRlciA9IDA7XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICB3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGNoYXJDb2RlQXQoc3RyaW5nLCBjb3VudGVyKyspO1xuICAgIGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcbiAgICAgIC8vIEl0J3MgYSBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXIuXG4gICAgICB2YXIgZXh0cmEgPSBjaGFyQ29kZUF0KHN0cmluZywgY291bnRlcisrKTtcbiAgICAgIGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBMb3cgc3Vycm9nYXRlLlxuICAgICAgICBwdXNoKG91dHB1dCwgKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEl0J3MgYW4gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlXG4gICAgICAgIC8vIG5leHQgY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLlxuICAgICAgICBwdXNoKG91dHB1dCwgdmFsdWUpO1xuICAgICAgICBjb3VudGVyLS07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHB1c2gob3V0cHV0LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cbiAqL1xudmFyIGRpZ2l0VG9CYXNpYyA9IGZ1bmN0aW9uIChkaWdpdCkge1xuICAvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuICAvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcbiAgcmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KTtcbn07XG5cbi8qKlxuICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cbiAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG4gKi9cbnZhciBhZGFwdCA9IGZ1bmN0aW9uIChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcbiAgdmFyIGsgPSAwO1xuICBkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuICBkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG4gIHdoaWxlIChkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDEpIHtcbiAgICBkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG4gICAgayArPSBiYXNlO1xuICB9XG4gIHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cbiAqL1xudmFyIGVuY29kZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG5cbiAgLy8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gYW4gYXJyYXkgb2YgVW5pY29kZSBjb2RlIHBvaW50cy5cbiAgaW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuICAvLyBDYWNoZSB0aGUgbGVuZ3RoLlxuICB2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cbiAgLy8gSW5pdGlhbGl6ZSB0aGUgc3RhdGUuXG4gIHZhciBuID0gaW5pdGlhbE47XG4gIHZhciBkZWx0YSA9IDA7XG4gIHZhciBiaWFzID0gaW5pdGlhbEJpYXM7XG4gIHZhciBpLCBjdXJyZW50VmFsdWU7XG5cbiAgLy8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50cy5cbiAgZm9yIChpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY3VycmVudFZhbHVlID0gaW5wdXRbaV07XG4gICAgaWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcbiAgICAgIHB1c2gob3V0cHV0LCBmcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDsgLy8gbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuICB2YXIgaGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aDsgLy8gbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cbiAgLy8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgd2l0aCBhIGRlbGltaXRlciB1bmxlc3MgaXQncyBlbXB0eS5cbiAgaWYgKGJhc2ljTGVuZ3RoKSB7XG4gICAgcHVzaChvdXRwdXQsIGRlbGltaXRlcik7XG4gIH1cblxuICAvLyBNYWluIGVuY29kaW5nIGxvb3A6XG4gIHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG4gICAgLy8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dCBsYXJnZXIgb25lOlxuICAgIHZhciBtID0gbWF4SW50O1xuICAgIGZvciAoaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgY3VycmVudFZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuICAgICAgICBtID0gY3VycmVudFZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPiwgYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3cuXG4gICAgdmFyIGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcbiAgICBpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuICAgICAgdGhyb3cgJFJhbmdlRXJyb3IoT1ZFUkZMT1dfRVJST1IpO1xuICAgIH1cblxuICAgIGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG4gICAgbiA9IG07XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRWYWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuICAgICAgICB0aHJvdyAkUmFuZ2VFcnJvcihPVkVSRkxPV19FUlJPUik7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudFZhbHVlID09IG4pIHtcbiAgICAgICAgLy8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIuXG4gICAgICAgIHZhciBxID0gZGVsdGE7XG4gICAgICAgIHZhciBrID0gYmFzZTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgdCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG4gICAgICAgICAgaWYgKHEgPCB0KSBicmVhaztcbiAgICAgICAgICB2YXIgcU1pbnVzVCA9IHEgLSB0O1xuICAgICAgICAgIHZhciBiYXNlTWludXNUID0gYmFzZSAtIHQ7XG4gICAgICAgICAgcHVzaChvdXRwdXQsIGZyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNUKSkpO1xuICAgICAgICAgIHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG4gICAgICAgICAgayArPSBiYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVzaChvdXRwdXQsIGZyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSkpKTtcbiAgICAgICAgYmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcbiAgICAgICAgZGVsdGEgPSAwO1xuICAgICAgICBoYW5kbGVkQ1BDb3VudCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRlbHRhKys7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBqb2luKG91dHB1dCwgJycpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgdmFyIGVuY29kZWQgPSBbXTtcbiAgdmFyIGxhYmVscyA9IHNwbGl0KHJlcGxhY2UodG9Mb3dlckNhc2UoaW5wdXQpLCByZWdleFNlcGFyYXRvcnMsICdcXHUwMDJFJyksICcuJyk7XG4gIHZhciBpLCBsYWJlbDtcbiAgZm9yIChpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgIGxhYmVsID0gbGFiZWxzW2ldO1xuICAgIHB1c2goZW5jb2RlZCwgZXhlYyhyZWdleE5vbkFTQ0lJLCBsYWJlbCkgPyAneG4tLScgKyBlbmNvZGUobGFiZWwpIDogbGFiZWwpO1xuICB9XG4gIHJldHVybiBqb2luKGVuY29kZWQsICcuJyk7XG59O1xuIiwidmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLW5hbWUnKS5QUk9QRVI7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgbm9uID0gJ1xcdTIwMEJcXHUwMDg1XFx1MTgwRSc7XG5cbi8vIGNoZWNrIHRoYXQgYSBtZXRob2Qgd29ya3Mgd2l0aCB0aGUgY29ycmVjdCBsaXN0XG4vLyBvZiB3aGl0ZXNwYWNlcyBhbmQgaGFzIGEgY29ycmVjdCBuYW1lXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICByZXR1cm4gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIXdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXSgpXG4gICAgICB8fCBub25bTUVUSE9EX05BTUVdKCkgIT09IG5vblxuICAgICAgfHwgKFBST1BFUl9GVU5DVElPTl9OQU1FICYmIHdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXS5uYW1lICE9PSBNRVRIT0RfTkFNRSk7XG4gIH0pO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHdoaXRlc3BhY2VzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3doaXRlc3BhY2VzJyk7XG5cbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgbHRyaW0gPSBSZWdFeHAoJ15bJyArIHdoaXRlc3BhY2VzICsgJ10rJyk7XG52YXIgcnRyaW0gPSBSZWdFeHAoJyhefFteJyArIHdoaXRlc3BhY2VzICsgJ10pWycgKyB3aGl0ZXNwYWNlcyArICddKyQnKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltLCB0cmltU3RhcnQsIHRyaW1FbmQsIHRyaW1MZWZ0LCB0cmltUmlnaHQgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMpIHtcbiAgICB2YXIgc3RyaW5nID0gdG9TdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIGlmIChUWVBFICYgMSkgc3RyaW5nID0gcmVwbGFjZShzdHJpbmcsIGx0cmltLCAnJyk7XG4gICAgaWYgKFRZUEUgJiAyKSBzdHJpbmcgPSByZXBsYWNlKHN0cmluZywgcnRyaW0sICckMScpO1xuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltTGVmdCwgdHJpbVN0YXJ0IH1gIG1ldGhvZHNcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1zdGFydFxuICBzdGFydDogY3JlYXRlTWV0aG9kKDEpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1SaWdodCwgdHJpbUVuZCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltZW5kXG4gIGVuZDogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1cbiAgdHJpbTogY3JlYXRlTWV0aG9kKDMpXG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG52YXIgVjhfVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG5tb2R1bGUuZXhwb3J0cyA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgc3ltYm9sID0gU3ltYm9sKCk7XG4gIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gIC8vIGBnZXQtb3duLXByb3BlcnR5LXN5bWJvbHNgIHBvbHlmaWxsIHN5bWJvbHMgY29udmVydGVkIHRvIG9iamVjdCBhcmUgbm90IFN5bWJvbCBpbnN0YW5jZXNcbiAgcmV0dXJuICFTdHJpbmcoc3ltYm9sKSB8fCAhKE9iamVjdChzeW1ib2wpIGluc3RhbmNlb2YgU3ltYm9sKSB8fFxuICAgIC8vIENocm9tZSAzOC00MCBzeW1ib2xzIGFyZSBub3QgaW5oZXJpdGVkIGZyb20gRE9NIGNvbGxlY3Rpb25zIHByb3RvdHlwZXMgdG8gaW5zdGFuY2VzXG4gICAgIVN5bWJvbC5zaGFtICYmIFY4X1ZFUlNJT04gJiYgVjhfVkVSU0lPTiA8IDQxO1xufSk7XG4iLCJ2YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIFN5bWJvbCA9IGdldEJ1aWx0SW4oJ1N5bWJvbCcpO1xuICB2YXIgU3ltYm9sUHJvdG90eXBlID0gU3ltYm9sICYmIFN5bWJvbC5wcm90b3R5cGU7XG4gIHZhciB2YWx1ZU9mID0gU3ltYm9sUHJvdG90eXBlICYmIFN5bWJvbFByb3RvdHlwZS52YWx1ZU9mO1xuICB2YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sKCd0b1ByaW1pdGl2ZScpO1xuXG4gIGlmIChTeW1ib2xQcm90b3R5cGUgJiYgIVN5bWJvbFByb3RvdHlwZVtUT19QUklNSVRJVkVdKSB7XG4gICAgLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV1gIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvcHJpbWl0aXZlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciAubGVuZ3RoXG4gICAgZGVmaW5lQnVpbHRJbihTeW1ib2xQcm90b3R5cGUsIFRPX1BSSU1JVElWRSwgZnVuY3Rpb24gKGhpbnQpIHtcbiAgICAgIHJldHVybiBjYWxsKHZhbHVlT2YsIHRoaXMpO1xuICAgIH0sIHsgYXJpdHk6IDEgfSk7XG4gIH1cbn07XG4iLCJ2YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG5cbi8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSBzYWZlICovXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9TWU1CT0wgJiYgISFTeW1ib2xbJ2ZvciddICYmICEhU3ltYm9sLmtleUZvcjtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaHRtbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9odG1sJyk7XG52YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZScpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQnKTtcbnZhciB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92YWxpZGF0ZS1hcmd1bWVudHMtbGVuZ3RoJyk7XG52YXIgSVNfSU9TID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MnKTtcbnZhciBJU19OT0RFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlJyk7XG5cbnZhciBzZXQgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xudmFyIGNsZWFyID0gZ2xvYmFsLmNsZWFySW1tZWRpYXRlO1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBEaXNwYXRjaCA9IGdsb2JhbC5EaXNwYXRjaDtcbnZhciBGdW5jdGlvbiA9IGdsb2JhbC5GdW5jdGlvbjtcbnZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDtcbnZhciBTdHJpbmcgPSBnbG9iYWwuU3RyaW5nO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIHF1ZXVlID0ge307XG52YXIgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZSc7XG52YXIgJGxvY2F0aW9uLCBkZWZlciwgY2hhbm5lbCwgcG9ydDtcblxuZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBEZW5vIHRocm93cyBhIFJlZmVyZW5jZUVycm9yIG9uIGBsb2NhdGlvbmAgYWNjZXNzIHdpdGhvdXQgYC0tbG9jYXRpb25gIGZsYWdcbiAgJGxvY2F0aW9uID0gZ2xvYmFsLmxvY2F0aW9uO1xufSk7XG5cbnZhciBydW4gPSBmdW5jdGlvbiAoaWQpIHtcbiAgaWYgKGhhc093bihxdWV1ZSwgaWQpKSB7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcblxudmFyIHJ1bm5lciA9IGZ1bmN0aW9uIChpZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJ1bihpZCk7XG4gIH07XG59O1xuXG52YXIgZXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICBydW4oZXZlbnQuZGF0YSk7XG59O1xuXG52YXIgZ2xvYmFsUG9zdE1lc3NhZ2VEZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAvLyBvbGQgZW5naW5lcyBoYXZlIG5vdCBsb2NhdGlvbi5vcmlnaW5cbiAgZ2xvYmFsLnBvc3RNZXNzYWdlKFN0cmluZyhpZCksICRsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyAkbG9jYXRpb24uaG9zdCk7XG59O1xuXG4vLyBOb2RlLmpzIDAuOSsgJiBJRTEwKyBoYXMgc2V0SW1tZWRpYXRlLCBvdGhlcndpc2U6XG5pZiAoIXNldCB8fCAhY2xlYXIpIHtcbiAgc2V0ID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGhhbmRsZXIpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZm4gPSBpc0NhbGxhYmxlKGhhbmRsZXIpID8gaGFuZGxlciA6IEZ1bmN0aW9uKGhhbmRsZXIpO1xuICAgIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBhcHBseShmbiwgdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9O1xuICAgIGRlZmVyKGNvdW50ZXIpO1xuICAgIHJldHVybiBjb3VudGVyO1xuICB9O1xuICBjbGVhciA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKSB7XG4gICAgZGVsZXRlIHF1ZXVlW2lkXTtcbiAgfTtcbiAgLy8gTm9kZS5qcyAwLjgtXG4gIGlmIChJU19OT0RFKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2socnVubmVyKGlkKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhydW5uZXIoaWQpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIC8vIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjI0XG4gIH0gZWxzZSBpZiAoTWVzc2FnZUNoYW5uZWwgJiYgIUlTX0lPUykge1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGV2ZW50TGlzdGVuZXI7XG4gICAgZGVmZXIgPSBiaW5kKHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmIChcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJlxuICAgIGlzQ2FsbGFibGUoZ2xvYmFsLnBvc3RNZXNzYWdlKSAmJlxuICAgICFnbG9iYWwuaW1wb3J0U2NyaXB0cyAmJlxuICAgICRsb2NhdGlvbiAmJiAkbG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicgJiZcbiAgICAhZmFpbHMoZ2xvYmFsUG9zdE1lc3NhZ2VEZWZlcilcbiAgKSB7XG4gICAgZGVmZXIgPSBnbG9iYWxQb3N0TWVzc2FnZURlZmVyO1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZiAoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bihpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHNldFRpbWVvdXQocnVubmVyKGlkKSwgMCk7XG4gICAgfTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBzZXQsXG4gIGNsZWFyOiBjbGVhclxufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxuLy8gYHRoaXNOdW1iZXJWYWx1ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRoaXNudW1iZXJ2YWx1ZVxubW9kdWxlLmV4cG9ydHMgPSB1bmN1cnJ5VGhpcygxLjAudmFsdWVPZik7XG4iLCJ2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyLW9yLWluZmluaXR5Jyk7XG5cbnZhciBtYXggPSBNYXRoLm1heDtcbnZhciBtaW4gPSBNYXRoLm1pbjtcblxuLy8gSGVscGVyIGZvciBhIHBvcHVsYXIgcmVwZWF0aW5nIGNhc2Ugb2YgdGhlIHNwZWM6XG4vLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4vLyBJZiBpbnRlZ2VyIDwgMCwgbGV0IHJlc3VsdCBiZSBtYXgoKGxlbmd0aCArIGludGVnZXIpLCAwKTsgZWxzZSBsZXQgcmVzdWx0IGJlIG1pbihpbnRlZ2VyLCBsZW5ndGgpLlxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICB2YXIgaW50ZWdlciA9IHRvSW50ZWdlck9ySW5maW5pdHkoaW5kZXgpO1xuICByZXR1cm4gaW50ZWdlciA8IDAgPyBtYXgoaW50ZWdlciArIGxlbmd0aCwgMCkgOiBtaW4oaW50ZWdlciwgbGVuZ3RoKTtcbn07XG4iLCIvLyB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIEluZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5kZXhlZC1vYmplY3QnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gSW5kZXhlZE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGl0KSk7XG59O1xuIiwidmFyIHRydW5jID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL21hdGgtdHJ1bmMnKTtcblxuLy8gYFRvSW50ZWdlck9ySW5maW5pdHlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2ludGVnZXJvcmluZmluaXR5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB2YXIgbnVtYmVyID0gK2FyZ3VtZW50O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICByZXR1cm4gbnVtYmVyICE9PSBudW1iZXIgfHwgbnVtYmVyID09PSAwID8gMCA6IHRydW5jKG51bWJlcik7XG59O1xuIiwidmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlci1vci1pbmZpbml0eScpO1xuXG52YXIgbWluID0gTWF0aC5taW47XG5cbi8vIGBUb0xlbmd0aGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvbGVuZ3RoXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gYXJndW1lbnQgPiAwID8gbWluKHRvSW50ZWdlck9ySW5maW5pdHkoYXJndW1lbnQpLCAweDFGRkZGRkZGRkZGRkZGKSA6IDA7IC8vIDIgKiogNTMgLSAxID09IDkwMDcxOTkyNTQ3NDA5OTFcbn07XG4iLCJ2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG5cbi8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvb2JqZWN0XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gJE9iamVjdChyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KSk7XG59O1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgb3JkaW5hcnlUb1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vcmRpbmFyeS10by1wcmltaXRpdmUnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG52YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sKCd0b1ByaW1pdGl2ZScpO1xuXG4vLyBgVG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgaWYgKCFpc09iamVjdChpbnB1dCkgfHwgaXNTeW1ib2woaW5wdXQpKSByZXR1cm4gaW5wdXQ7XG4gIHZhciBleG90aWNUb1ByaW0gPSBnZXRNZXRob2QoaW5wdXQsIFRPX1BSSU1JVElWRSk7XG4gIHZhciByZXN1bHQ7XG4gIGlmIChleG90aWNUb1ByaW0pIHtcbiAgICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ2RlZmF1bHQnO1xuICAgIHJlc3VsdCA9IGNhbGwoZXhvdGljVG9QcmltLCBpbnB1dCwgcHJlZik7XG4gICAgaWYgKCFpc09iamVjdChyZXN1bHQpIHx8IGlzU3ltYm9sKHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgdGhyb3cgJFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfVxuICBpZiAocHJlZiA9PT0gdW5kZWZpbmVkKSBwcmVmID0gJ251bWJlcic7XG4gIHJldHVybiBvcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBwcmVmKTtcbn07XG4iLCJ2YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJpbWl0aXZlJyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG5cbi8vIGBUb1Byb3BlcnR5S2V5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIGtleSA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gIHJldHVybiBpc1N5bWJvbChrZXkpID8ga2V5IDoga2V5ICsgJyc7XG59O1xuIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciB0ZXN0ID0ge307XG5cbnRlc3RbVE9fU1RSSU5HX1RBR10gPSAneic7XG5cbm1vZHVsZS5leHBvcnRzID0gU3RyaW5nKHRlc3QpID09PSAnW29iamVjdCB6XSc7XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mJyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAoY2xhc3NvZihhcmd1bWVudCkgPT09ICdTeW1ib2wnKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nJyk7XG4gIHJldHVybiAkU3RyaW5nKGFyZ3VtZW50KTtcbn07XG4iLCJ2YXIgJFN0cmluZyA9IFN0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gJFN0cmluZyhhcmd1bWVudCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICdPYmplY3QnO1xuICB9XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgaWQgPSAwO1xudmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoMS4wLnRvU3RyaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiAnU3ltYm9sKCcgKyAoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSkgKyAnKV8nICsgdG9TdHJpbmcoKytpZCArIHBvc3RmaXgsIDM2KTtcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcmVsYXRpdmUtdXJsLXN0eWxlIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHZhciB1cmwgPSBuZXcgVVJMKCdiP2E9MSZiPTImYz0zJywgJ2h0dHA6Ly9hJyk7XG4gIHZhciBzZWFyY2hQYXJhbXMgPSB1cmwuc2VhcmNoUGFyYW1zO1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHVybC5wYXRobmFtZSA9ICdjJTIwZCc7XG4gIHNlYXJjaFBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgc2VhcmNoUGFyYW1zWydkZWxldGUnXSgnYicpO1xuICAgIHJlc3VsdCArPSBrZXkgKyB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiAoSVNfUFVSRSAmJiAhdXJsLnRvSlNPTilcbiAgICB8fCAoIXNlYXJjaFBhcmFtcy5zaXplICYmIChJU19QVVJFIHx8ICFERVNDUklQVE9SUykpXG4gICAgfHwgIXNlYXJjaFBhcmFtcy5zb3J0XG4gICAgfHwgdXJsLmhyZWYgIT09ICdodHRwOi8vYS9jJTIwZD9hPTEmYz0zJ1xuICAgIHx8IHNlYXJjaFBhcmFtcy5nZXQoJ2MnKSAhPT0gJzMnXG4gICAgfHwgU3RyaW5nKG5ldyBVUkxTZWFyY2hQYXJhbXMoJz9hPTEnKSkgIT09ICdhPTEnXG4gICAgfHwgIXNlYXJjaFBhcmFtc1tJVEVSQVRPUl1cbiAgICAvLyB0aHJvd3MgaW4gRWRnZVxuICAgIHx8IG5ldyBVUkwoJ2h0dHBzOi8vYUBiJykudXNlcm5hbWUgIT09ICdhJ1xuICAgIHx8IG5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygnYT1iJykpLmdldCgnYScpICE9PSAnYidcbiAgICAvLyBub3QgcHVueWNvZGVkIGluIEVkZ2VcbiAgICB8fCBuZXcgVVJMKCdodHRwOi8v0YLQtdGB0YInKS5ob3N0ICE9PSAneG4tLWUxYXliYydcbiAgICAvLyBub3QgZXNjYXBlZCBpbiBDaHJvbWUgNjItXG4gICAgfHwgbmV3IFVSTCgnaHR0cDovL2Ej0LEnKS5oYXNoICE9PSAnIyVEMCVCMSdcbiAgICAvLyBmYWlscyBpbiBDaHJvbWUgNjYtXG4gICAgfHwgcmVzdWx0ICE9PSAnYTFjMydcbiAgICAvLyB0aHJvd3MgaW4gU2FmYXJpXG4gICAgfHwgbmV3IFVSTCgnaHR0cDovL3gnLCB1bmRlZmluZWQpLmhvc3QgIT09ICd4Jztcbn0pO1xuIiwiLyogZXNsaW50LWRpc2FibGUgZXMvbm8tc3ltYm9sIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nICovXG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX1NZTUJPTFxuICAmJiAhU3ltYm9sLnNoYW1cbiAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIFY4IH4gQ2hyb21lIDM2LVxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzMzNFxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdwcm90b3R5cGUnLCB7XG4gICAgdmFsdWU6IDQyLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KS5wcm90b3R5cGUgIT0gNDI7XG59KTtcbiIsInZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChwYXNzZWQsIHJlcXVpcmVkKSB7XG4gIGlmIChwYXNzZWQgPCByZXF1aXJlZCkgdGhyb3cgJFR5cGVFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcbiAgcmV0dXJuIHBhc3NlZDtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcblxudmFyIFdlYWtNYXAgPSBnbG9iYWwuV2Vha01hcDtcblxubW9kdWxlLmV4cG9ydHMgPSBpc0NhbGxhYmxlKFdlYWtNYXApICYmIC9uYXRpdmUgY29kZS8udGVzdChTdHJpbmcoV2Vha01hcCkpO1xuIiwidmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC13cmFwcGVkJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpLmY7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE5BTUUpIHtcbiAgdmFyIFN5bWJvbCA9IHBhdGguU3ltYm9sIHx8IChwYXRoLlN5bWJvbCA9IHt9KTtcbiAgaWYgKCFoYXNPd24oU3ltYm9sLCBOQU1FKSkgZGVmaW5lUHJvcGVydHkoU3ltYm9sLCBOQU1FLCB7XG4gICAgdmFsdWU6IHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZihOQU1FKVxuICB9KTtcbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbmV4cG9ydHMuZiA9IHdlbGxLbm93blN5bWJvbDtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xudmFyIFVTRV9TWU1CT0xfQVNfVUlEID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkJyk7XG5cbnZhciBTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyIFdlbGxLbm93blN5bWJvbHNTdG9yZSA9IHNoYXJlZCgnd2tzJyk7XG52YXIgY3JlYXRlV2VsbEtub3duU3ltYm9sID0gVVNFX1NZTUJPTF9BU19VSUQgPyBTeW1ib2xbJ2ZvciddIHx8IFN5bWJvbCA6IFN5bWJvbCAmJiBTeW1ib2wud2l0aG91dFNldHRlciB8fCB1aWQ7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFoYXNPd24oV2VsbEtub3duU3ltYm9sc1N0b3JlLCBuYW1lKSkge1xuICAgIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXSA9IE5BVElWRV9TWU1CT0wgJiYgaGFzT3duKFN5bWJvbCwgbmFtZSlcbiAgICAgID8gU3ltYm9sW25hbWVdXG4gICAgICA6IGNyZWF0ZVdlbGxLbm93blN5bWJvbCgnU3ltYm9sLicgKyBuYW1lKTtcbiAgfSByZXR1cm4gV2VsbEtub3duU3ltYm9sc1N0b3JlW25hbWVdO1xufTtcbiIsIi8vIGEgc3RyaW5nIG9mIGFsbCB2YWxpZCB1bmljb2RlIHdoaXRlc3BhY2VzXG5tb2R1bGUuZXhwb3J0cyA9ICdcXHUwMDA5XFx1MDAwQVxcdTAwMEJcXHUwMDBDXFx1MDAwRFxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTIwMDBcXHUyMDAxXFx1MjAwMicgK1xuICAnXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMEFcXHUyMDJGXFx1MjA1RlxcdTMwMDBcXHUyMDI4XFx1MjAyOVxcdUZFRkYnO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9lcy1ub3QtZXhjZWVkLXNhZmUtaW50ZWdlcicpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eScpO1xudmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zcGVjaWVzLWNyZWF0ZScpO1xudmFyIGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWhhcy1zcGVjaWVzLXN1cHBvcnQnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBWOF9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG5cbnZhciBJU19DT05DQVRfU1BSRUFEQUJMRSA9IHdlbGxLbm93blN5bWJvbCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cbi8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuLy8gZGVvcHRpbWl6YXRpb24gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzlcbnZhciBJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUID0gVjhfVkVSU0lPTiA+PSA1MSB8fCAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgYXJyYXlbSVNfQ09OQ0FUX1NQUkVBREFCTEVdID0gZmFsc2U7XG4gIHJldHVybiBhcnJheS5jb25jYXQoKVswXSAhPT0gYXJyYXk7XG59KTtcblxudmFyIGlzQ29uY2F0U3ByZWFkYWJsZSA9IGZ1bmN0aW9uIChPKSB7XG4gIGlmICghaXNPYmplY3QoTykpIHJldHVybiBmYWxzZTtcbiAgdmFyIHNwcmVhZGFibGUgPSBPW0lTX0NPTkNBVF9TUFJFQURBQkxFXTtcbiAgcmV0dXJuIHNwcmVhZGFibGUgIT09IHVuZGVmaW5lZCA/ICEhc3ByZWFkYWJsZSA6IGlzQXJyYXkoTyk7XG59O1xuXG52YXIgRk9SQ0VEID0gIUlTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgfHwgIWFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ2NvbmNhdCcpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmNvbmNhdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5jb25jYXRcbi8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBpc0NvbmNhdFNwcmVhZGFibGUgYW5kIEBAc3BlY2llc1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGFyaXR5OiAxLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIGNvbmNhdDogZnVuY3Rpb24gY29uY2F0KGFyZykge1xuICAgIHZhciBPID0gdG9PYmplY3QodGhpcyk7XG4gICAgdmFyIEEgPSBhcnJheVNwZWNpZXNDcmVhdGUoTywgMCk7XG4gICAgdmFyIG4gPSAwO1xuICAgIHZhciBpLCBrLCBsZW5ndGgsIGxlbiwgRTtcbiAgICBmb3IgKGkgPSAtMSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBFID0gaSA9PT0gLTEgPyBPIDogYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKGlzQ29uY2F0U3ByZWFkYWJsZShFKSkge1xuICAgICAgICBsZW4gPSBsZW5ndGhPZkFycmF5TGlrZShFKTtcbiAgICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyKG4gKyBsZW4pO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkoQSwgbiwgRVtrXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIobiArIDEpO1xuICAgICAgICBjcmVhdGVQcm9wZXJ0eShBLCBuKyssIEUpO1xuICAgICAgfVxuICAgIH1cbiAgICBBLmxlbmd0aCA9IG47XG4gICAgcmV0dXJuIEE7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcbnZhciBkZWZpbmVJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1kZWZpbmUnKTtcbnZhciBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1pdGVyLXJlc3VsdC1vYmplY3QnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xuXG52YXIgQVJSQVlfSVRFUkFUT1IgPSAnQXJyYXkgSXRlcmF0b3InO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoQVJSQVlfSVRFUkFUT1IpO1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLmVudHJpZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZW50cmllc1xuLy8gYEFycmF5LnByb3RvdHlwZS5rZXlzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmtleXNcbi8vIGBBcnJheS5wcm90b3R5cGUudmFsdWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnZhbHVlc1xuLy8gYEFycmF5LnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS1AQGl0ZXJhdG9yXG4vLyBgQ3JlYXRlQXJyYXlJdGVyYXRvcmAgaW50ZXJuYWwgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZWFycmF5aXRlcmF0b3Jcbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lSXRlcmF0b3IoQXJyYXksICdBcnJheScsIGZ1bmN0aW9uIChpdGVyYXRlZCwga2luZCkge1xuICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICB0eXBlOiBBUlJBWV9JVEVSQVRPUixcbiAgICB0YXJnZXQ6IHRvSW5kZXhlZE9iamVjdChpdGVyYXRlZCksIC8vIHRhcmdldFxuICAgIGluZGV4OiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICAgIGtpbmQ6IGtpbmQgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2luZFxuICB9KTtcbi8vIGAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS5uZXh0XG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIHZhciB0YXJnZXQgPSBzdGF0ZS50YXJnZXQ7XG4gIHZhciBraW5kID0gc3RhdGUua2luZDtcbiAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXgrKztcbiAgaWYgKCF0YXJnZXQgfHwgaW5kZXggPj0gdGFyZ2V0Lmxlbmd0aCkge1xuICAgIHN0YXRlLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICB9XG4gIGlmIChraW5kID09ICdrZXlzJykgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoaW5kZXgsIGZhbHNlKTtcbiAgaWYgKGtpbmQgPT0gJ3ZhbHVlcycpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHRhcmdldFtpbmRleF0sIGZhbHNlKTtcbiAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QoW2luZGV4LCB0YXJnZXRbaW5kZXhdXSwgZmFsc2UpO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyVcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRldW5tYXBwZWRhcmd1bWVudHNvYmplY3Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlbWFwcGVkYXJndW1lbnRzb2JqZWN0XG52YXIgdmFsdWVzID0gSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEB1bnNjb3BhYmxlc1xuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG5cbi8vIFY4IH4gQ2hyb21lIDQ1LSBidWdcbmlmICghSVNfUFVSRSAmJiBERVNDUklQVE9SUyAmJiB2YWx1ZXMubmFtZSAhPT0gJ3ZhbHVlcycpIHRyeSB7XG4gIGRlZmluZVByb3BlcnR5KHZhbHVlcywgJ25hbWUnLCB7IHZhbHVlOiAndmFsdWVzJyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtYXJyYXknKTtcbnZhciBpc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG52YXIgbmF0aXZlU2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2UnKTtcblxudmFyIEhBU19TUEVDSUVTX1NVUFBPUlQgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdzbGljZScpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyICRBcnJheSA9IEFycmF5O1xudmFyIG1heCA9IE1hdGgubWF4O1xuXG4vLyBgQXJyYXkucHJvdG90eXBlLnNsaWNlYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNsaWNlXG4vLyBmYWxsYmFjayBmb3Igbm90IGFycmF5LWxpa2UgRVMzIHN0cmluZ3MgYW5kIERPTSBvYmplY3RzXG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiAhSEFTX1NQRUNJRVNfU1VQUE9SVCB9LCB7XG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3QodGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4KHN0YXJ0LCBsZW5ndGgpO1xuICAgIHZhciBmaW4gPSB0b0Fic29sdXRlSW5kZXgoZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQsIGxlbmd0aCk7XG4gICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgdmFyIENvbnN0cnVjdG9yLCByZXN1bHQsIG47XG4gICAgaWYgKGlzQXJyYXkoTykpIHtcbiAgICAgIENvbnN0cnVjdG9yID0gTy5jb25zdHJ1Y3RvcjtcbiAgICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgICBpZiAoaXNDb25zdHJ1Y3RvcihDb25zdHJ1Y3RvcikgJiYgKENvbnN0cnVjdG9yID09PSAkQXJyYXkgfHwgaXNBcnJheShDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSkge1xuICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoQ29uc3RydWN0b3IpKSB7XG4gICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFU107XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gbnVsbCkgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IgPT09ICRBcnJheSB8fCBDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVTbGljZShPLCBrLCBmaW4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgKENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQgPyAkQXJyYXkgOiBDb25zdHJ1Y3RvcikobWF4KGZpbiAtIGssIDApKTtcbiAgICBmb3IgKG4gPSAwOyBrIDwgZmluOyBrKyssIG4rKykgaWYgKGsgaW4gTykgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBuLCBPW2tdKTtcbiAgICByZXN1bHQubGVuZ3RoID0gbjtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBkZWxldGVQcm9wZXJ0eU9yVGhyb3cgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVsZXRlLXByb3BlcnR5LW9yLXRocm93Jyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpbnRlcm5hbFNvcnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc29ydCcpO1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xudmFyIEZGID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1mZi12ZXJzaW9uJyk7XG52YXIgSUVfT1JfRURHRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtaWUtb3ItZWRnZScpO1xudmFyIFY4ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG52YXIgV0VCS0lUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS13ZWJraXQtdmVyc2lvbicpO1xuXG52YXIgdGVzdCA9IFtdO1xudmFyIG5hdGl2ZVNvcnQgPSB1bmN1cnJ5VGhpcyh0ZXN0LnNvcnQpO1xudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyh0ZXN0LnB1c2gpO1xuXG4vLyBJRTgtXG52YXIgRkFJTFNfT05fVU5ERUZJTkVEID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB0ZXN0LnNvcnQodW5kZWZpbmVkKTtcbn0pO1xuLy8gVjggYnVnXG52YXIgRkFJTFNfT05fTlVMTCA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdGVzdC5zb3J0KG51bGwpO1xufSk7XG4vLyBPbGQgV2ViS2l0XG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3NvcnQnKTtcblxudmFyIFNUQUJMRV9TT1JUID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZmVhdHVyZSBkZXRlY3Rpb24gY2FuIGJlIHRvbyBzbG93LCBzbyBjaGVjayBlbmdpbmVzIHZlcnNpb25zXG4gIGlmIChWOCkgcmV0dXJuIFY4IDwgNzA7XG4gIGlmIChGRiAmJiBGRiA+IDMpIHJldHVybjtcbiAgaWYgKElFX09SX0VER0UpIHJldHVybiB0cnVlO1xuICBpZiAoV0VCS0lUKSByZXR1cm4gV0VCS0lUIDwgNjAzO1xuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNvZGUsIGNociwgdmFsdWUsIGluZGV4O1xuXG4gIC8vIGdlbmVyYXRlIGFuIGFycmF5IHdpdGggbW9yZSA1MTIgZWxlbWVudHMgKENoYWtyYSBhbmQgb2xkIFY4IGZhaWxzIG9ubHkgaW4gdGhpcyBjYXNlKVxuICBmb3IgKGNvZGUgPSA2NTsgY29kZSA8IDc2OyBjb2RlKyspIHtcbiAgICBjaHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuXG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDY2OiBjYXNlIDY5OiBjYXNlIDcwOiBjYXNlIDcyOiB2YWx1ZSA9IDM7IGJyZWFrO1xuICAgICAgY2FzZSA2ODogY2FzZSA3MTogdmFsdWUgPSA0OyBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHZhbHVlID0gMjtcbiAgICB9XG5cbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCA0NzsgaW5kZXgrKykge1xuICAgICAgdGVzdC5wdXNoKHsgazogY2hyICsgaW5kZXgsIHY6IHZhbHVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHRlc3Quc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYi52IC0gYS52OyB9KTtcblxuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCB0ZXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNociA9IHRlc3RbaW5kZXhdLmsuY2hhckF0KDApO1xuICAgIGlmIChyZXN1bHQuY2hhckF0KHJlc3VsdC5sZW5ndGggLSAxKSAhPT0gY2hyKSByZXN1bHQgKz0gY2hyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCAhPT0gJ0RHQkVGSEFDSUpLJztcbn0pO1xuXG52YXIgRk9SQ0VEID0gRkFJTFNfT05fVU5ERUZJTkVEIHx8ICFGQUlMU19PTl9OVUxMIHx8ICFTVFJJQ1RfTUVUSE9EIHx8ICFTVEFCTEVfU09SVDtcblxudmFyIGdldFNvcnRDb21wYXJlID0gZnVuY3Rpb24gKGNvbXBhcmVmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gLTE7XG4gICAgaWYgKHggPT09IHVuZGVmaW5lZCkgcmV0dXJuIDE7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gK2NvbXBhcmVmbih4LCB5KSB8fCAwO1xuICAgIHJldHVybiB0b1N0cmluZyh4KSA+IHRvU3RyaW5nKHkpID8gMSA6IC0xO1xuICB9O1xufTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5zb3J0YCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnNvcnRcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIHNvcnQ6IGZ1bmN0aW9uIHNvcnQoY29tcGFyZWZuKSB7XG4gICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSBhQ2FsbGFibGUoY29tcGFyZWZuKTtcblxuICAgIHZhciBhcnJheSA9IHRvT2JqZWN0KHRoaXMpO1xuXG4gICAgaWYgKFNUQUJMRV9TT1JUKSByZXR1cm4gY29tcGFyZWZuID09PSB1bmRlZmluZWQgPyBuYXRpdmVTb3J0KGFycmF5KSA6IG5hdGl2ZVNvcnQoYXJyYXksIGNvbXBhcmVmbik7XG5cbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB2YXIgYXJyYXlMZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShhcnJheSk7XG4gICAgdmFyIGl0ZW1zTGVuZ3RoLCBpbmRleDtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGFycmF5TGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoaW5kZXggaW4gYXJyYXkpIHB1c2goaXRlbXMsIGFycmF5W2luZGV4XSk7XG4gICAgfVxuXG4gICAgaW50ZXJuYWxTb3J0KGl0ZW1zLCBnZXRTb3J0Q29tcGFyZShjb21wYXJlZm4pKTtcblxuICAgIGl0ZW1zTGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoaXRlbXMpO1xuICAgIGluZGV4ID0gMDtcblxuICAgIHdoaWxlIChpbmRleCA8IGl0ZW1zTGVuZ3RoKSBhcnJheVtpbmRleF0gPSBpdGVtc1tpbmRleCsrXTtcbiAgICB3aGlsZSAoaW5kZXggPCBhcnJheUxlbmd0aCkgZGVsZXRlUHJvcGVydHlPclRocm93KGFycmF5LCBpbmRleCsrKTtcblxuICAgIHJldHVybiBhcnJheTtcbiAgfVxufSk7XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBGVU5DVElPTl9OQU1FX0VYSVNUUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJykuRVhJU1RTO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4tYWNjZXNzb3InKTtcblxudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhGdW5jdGlvblByb3RvdHlwZS50b1N0cmluZyk7XG52YXIgbmFtZVJFID0gL2Z1bmN0aW9uXFxiKD86XFxzfFxcL1xcKltcXFNcXHNdKj9cXCpcXC98XFwvXFwvW15cXG5cXHJdKltcXG5cXHJdKykqKFteXFxzKC9dKikvO1xudmFyIHJlZ0V4cEV4ZWMgPSB1bmN1cnJ5VGhpcyhuYW1lUkUuZXhlYyk7XG52YXIgTkFNRSA9ICduYW1lJztcblxuLy8gRnVuY3Rpb24gaW5zdGFuY2VzIGAubmFtZWAgcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24taW5zdGFuY2VzLW5hbWVcbmlmIChERVNDUklQVE9SUyAmJiAhRlVOQ1RJT05fTkFNRV9FWElTVFMpIHtcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKEZ1bmN0aW9uUHJvdG90eXBlLCBOQU1FLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlZ0V4cEV4ZWMobmFtZVJFLCBmdW5jdGlvblRvU3RyaW5nKHRoaXMpKVsxXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBhcHBseSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1hcHBseScpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2UnKTtcbnZhciBnZXRSZXBsYWNlckZ1bmN0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1qc29uLXJlcGxhY2VyLWZ1bmN0aW9uJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRzdHJpbmdpZnkgPSBnZXRCdWlsdEluKCdKU09OJywgJ3N0cmluZ2lmeScpO1xudmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcygvLi8uZXhlYyk7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBjaGFyQ29kZUF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckNvZGVBdCk7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIG51bWJlclRvU3RyaW5nID0gdW5jdXJyeVRoaXMoMS4wLnRvU3RyaW5nKTtcblxudmFyIHRlc3RlciA9IC9bXFx1RDgwMC1cXHVERkZGXS9nO1xudmFyIGxvdyA9IC9eW1xcdUQ4MDAtXFx1REJGRl0kLztcbnZhciBoaSA9IC9eW1xcdURDMDAtXFx1REZGRl0kLztcblxudmFyIFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiA9ICFOQVRJVkVfU1lNQk9MIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN5bWJvbCA9IGdldEJ1aWx0SW4oJ1N5bWJvbCcpKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIHJldHVybiAkc3RyaW5naWZ5KFtzeW1ib2xdKSAhPSAnW251bGxdJ1xuICAgIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAgIHx8ICRzdHJpbmdpZnkoeyBhOiBzeW1ib2wgfSkgIT0gJ3t9J1xuICAgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gICAgfHwgJHN0cmluZ2lmeShPYmplY3Qoc3ltYm9sKSkgIT0gJ3t9Jztcbn0pO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC13ZWxsLWZvcm1lZC1zdHJpbmdpZnlcbnZhciBJTExfRk9STUVEX1VOSUNPREUgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAkc3RyaW5naWZ5KCdcXHVERjA2XFx1RDgzNCcpICE9PSAnXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIidcbiAgICB8fCAkc3RyaW5naWZ5KCdcXHVERUFEJykgIT09ICdcIlxcXFx1ZGVhZFwiJztcbn0pO1xuXG52YXIgc3RyaW5naWZ5V2l0aFN5bWJvbHNGaXggPSBmdW5jdGlvbiAoaXQsIHJlcGxhY2VyKSB7XG4gIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMpO1xuICB2YXIgJHJlcGxhY2VyID0gZ2V0UmVwbGFjZXJGdW5jdGlvbihyZXBsYWNlcik7XG4gIGlmICghaXNDYWxsYWJsZSgkcmVwbGFjZXIpICYmIChpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkpIHJldHVybjsgLy8gSUU4IHJldHVybnMgc3RyaW5nIG9uIHVuZGVmaW5lZFxuICBhcmdzWzFdID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAvLyBzb21lIG9sZCBpbXBsZW1lbnRhdGlvbnMgKGxpa2UgV2ViS2l0KSBjb3VsZCBwYXNzIG51bWJlcnMgYXMga2V5c1xuICAgIGlmIChpc0NhbGxhYmxlKCRyZXBsYWNlcikpIHZhbHVlID0gY2FsbCgkcmVwbGFjZXIsIHRoaXMsICRTdHJpbmcoa2V5KSwgdmFsdWUpO1xuICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gIH07XG4gIHJldHVybiBhcHBseSgkc3RyaW5naWZ5LCBudWxsLCBhcmdzKTtcbn07XG5cbnZhciBmaXhJbGxGb3JtZWQgPSBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCwgc3RyaW5nKSB7XG4gIHZhciBwcmV2ID0gY2hhckF0KHN0cmluZywgb2Zmc2V0IC0gMSk7XG4gIHZhciBuZXh0ID0gY2hhckF0KHN0cmluZywgb2Zmc2V0ICsgMSk7XG4gIGlmICgoZXhlYyhsb3csIG1hdGNoKSAmJiAhZXhlYyhoaSwgbmV4dCkpIHx8IChleGVjKGhpLCBtYXRjaCkgJiYgIWV4ZWMobG93LCBwcmV2KSkpIHtcbiAgICByZXR1cm4gJ1xcXFx1JyArIG51bWJlclRvU3RyaW5nKGNoYXJDb2RlQXQobWF0Y2gsIDApLCAxNik7XG4gIH0gcmV0dXJuIG1hdGNoO1xufTtcblxuaWYgKCRzdHJpbmdpZnkpIHtcbiAgLy8gYEpTT04uc3RyaW5naWZ5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnN0cmluZ2lmeVxuICAkKHsgdGFyZ2V0OiAnSlNPTicsIHN0YXQ6IHRydWUsIGFyaXR5OiAzLCBmb3JjZWQ6IFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiB8fCBJTExfRk9STUVEX1VOSUNPREUgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgc3RyaW5naWZ5OiBmdW5jdGlvbiBzdHJpbmdpZnkoaXQsIHJlcGxhY2VyLCBzcGFjZSkge1xuICAgICAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlKGFyZ3VtZW50cyk7XG4gICAgICB2YXIgcmVzdWx0ID0gYXBwbHkoV1JPTkdfU1lNQk9MU19DT05WRVJTSU9OID8gc3RyaW5naWZ5V2l0aFN5bWJvbHNGaXggOiAkc3RyaW5naWZ5LCBudWxsLCBhcmdzKTtcbiAgICAgIHJldHVybiBJTExfRk9STUVEX1VOSUNPREUgJiYgdHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJyA/IHJlcGxhY2UocmVzdWx0LCB0ZXN0ZXIsIGZpeElsbEZvcm1lZCkgOiByZXN1bHQ7XG4gICAgfVxuICB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHBhdGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGF0aCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGlzRm9yY2VkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWZvcmNlZCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgaW5oZXJpdElmUmVxdWlyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5oZXJpdC1pZi1yZXF1aXJlZCcpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByaW1pdGl2ZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcycpLmY7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKS5mO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xudmFyIHRoaXNOdW1iZXJWYWx1ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90aGlzLW51bWJlci12YWx1ZScpO1xudmFyIHRyaW0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLXRyaW0nKS50cmltO1xuXG52YXIgTlVNQkVSID0gJ051bWJlcic7XG52YXIgTmF0aXZlTnVtYmVyID0gZ2xvYmFsW05VTUJFUl07XG52YXIgUHVyZU51bWJlck5hbWVzcGFjZSA9IHBhdGhbTlVNQkVSXTtcbnZhciBOdW1iZXJQcm90b3R5cGUgPSBOYXRpdmVOdW1iZXIucHJvdG90eXBlO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xuXG4vLyBgVG9OdW1lcmljYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9udW1lcmljXG52YXIgdG9OdW1lcmljID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcmltVmFsdWUgPSB0b1ByaW1pdGl2ZSh2YWx1ZSwgJ251bWJlcicpO1xuICByZXR1cm4gdHlwZW9mIHByaW1WYWx1ZSA9PSAnYmlnaW50JyA/IHByaW1WYWx1ZSA6IHRvTnVtYmVyKHByaW1WYWx1ZSk7XG59O1xuXG4vLyBgVG9OdW1iZXJgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b251bWJlclxudmFyIHRvTnVtYmVyID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBpdCA9IHRvUHJpbWl0aXZlKGFyZ3VtZW50LCAnbnVtYmVyJyk7XG4gIHZhciBmaXJzdCwgdGhpcmQsIHJhZGl4LCBtYXhDb2RlLCBkaWdpdHMsIGxlbmd0aCwgaW5kZXgsIGNvZGU7XG4gIGlmIChpc1N5bWJvbChpdCkpIHRocm93IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBudW1iZXInKTtcbiAgaWYgKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyAmJiBpdC5sZW5ndGggPiAyKSB7XG4gICAgaXQgPSB0cmltKGl0KTtcbiAgICBmaXJzdCA9IGNoYXJDb2RlQXQoaXQsIDApO1xuICAgIGlmIChmaXJzdCA9PT0gNDMgfHwgZmlyc3QgPT09IDQ1KSB7XG4gICAgICB0aGlyZCA9IGNoYXJDb2RlQXQoaXQsIDIpO1xuICAgICAgaWYgKHRoaXJkID09PSA4OCB8fCB0aGlyZCA9PT0gMTIwKSByZXR1cm4gTmFOOyAvLyBOdW1iZXIoJysweDEnKSBzaG91bGQgYmUgTmFOLCBvbGQgVjggZml4XG4gICAgfSBlbHNlIGlmIChmaXJzdCA9PT0gNDgpIHtcbiAgICAgIHN3aXRjaCAoY2hhckNvZGVBdChpdCwgMSkpIHtcbiAgICAgICAgY2FzZSA2NjogY2FzZSA5ODogcmFkaXggPSAyOyBtYXhDb2RlID0gNDk7IGJyZWFrOyAvLyBmYXN0IGVxdWFsIG9mIC9eMGJbMDFdKyQvaVxuICAgICAgICBjYXNlIDc5OiBjYXNlIDExMTogcmFkaXggPSA4OyBtYXhDb2RlID0gNTU7IGJyZWFrOyAvLyBmYXN0IGVxdWFsIG9mIC9eMG9bMC03XSskL2lcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuICtpdDtcbiAgICAgIH1cbiAgICAgIGRpZ2l0cyA9IHN0cmluZ1NsaWNlKGl0LCAyKTtcbiAgICAgIGxlbmd0aCA9IGRpZ2l0cy5sZW5ndGg7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY29kZSA9IGNoYXJDb2RlQXQoZGlnaXRzLCBpbmRleCk7XG4gICAgICAgIC8vIHBhcnNlSW50IHBhcnNlcyBhIHN0cmluZyB0byBhIGZpcnN0IHVuYXZhaWxhYmxlIHN5bWJvbFxuICAgICAgICAvLyBidXQgVG9OdW1iZXIgc2hvdWxkIHJldHVybiBOYU4gaWYgYSBzdHJpbmcgY29udGFpbnMgdW5hdmFpbGFibGUgc3ltYm9sc1xuICAgICAgICBpZiAoY29kZSA8IDQ4IHx8IGNvZGUgPiBtYXhDb2RlKSByZXR1cm4gTmFOO1xuICAgICAgfSByZXR1cm4gcGFyc2VJbnQoZGlnaXRzLCByYWRpeCk7XG4gICAgfVxuICB9IHJldHVybiAraXQ7XG59O1xuXG52YXIgRk9SQ0VEID0gaXNGb3JjZWQoTlVNQkVSLCAhTmF0aXZlTnVtYmVyKCcgMG8xJykgfHwgIU5hdGl2ZU51bWJlcignMGIxJykgfHwgTmF0aXZlTnVtYmVyKCcrMHgxJykpO1xuXG52YXIgY2FsbGVkV2l0aE5ldyA9IGZ1bmN0aW9uIChkdW1teSkge1xuICAvLyBpbmNsdWRlcyBjaGVjayBvbiAxLi5jb25zdHJ1Y3Rvcihmb28pIGNhc2VcbiAgcmV0dXJuIGlzUHJvdG90eXBlT2YoTnVtYmVyUHJvdG90eXBlLCBkdW1teSkgJiYgZmFpbHMoZnVuY3Rpb24gKCkgeyB0aGlzTnVtYmVyVmFsdWUoZHVtbXkpOyB9KTtcbn07XG5cbi8vIGBOdW1iZXJgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW51bWJlci1jb25zdHJ1Y3RvclxudmFyIE51bWJlcldyYXBwZXIgPSBmdW5jdGlvbiBOdW1iZXIodmFsdWUpIHtcbiAgdmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoIDwgMSA/IDAgOiBOYXRpdmVOdW1iZXIodG9OdW1lcmljKHZhbHVlKSk7XG4gIHJldHVybiBjYWxsZWRXaXRoTmV3KHRoaXMpID8gaW5oZXJpdElmUmVxdWlyZWQoT2JqZWN0KG4pLCB0aGlzLCBOdW1iZXJXcmFwcGVyKSA6IG47XG59O1xuXG5OdW1iZXJXcmFwcGVyLnByb3RvdHlwZSA9IE51bWJlclByb3RvdHlwZTtcbmlmIChGT1JDRUQgJiYgIUlTX1BVUkUpIE51bWJlclByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE51bWJlcldyYXBwZXI7XG5cbiQoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCB3cmFwOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gIE51bWJlcjogTnVtYmVyV3JhcHBlclxufSk7XG5cbi8vIFVzZSBgaW50ZXJuYWwvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzYCBoZWxwZXIgaW4gYGNvcmUtanNANGBcbnZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG4gIGZvciAodmFyIGtleXMgPSBERVNDUklQVE9SUyA/IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlKSA6IChcbiAgICAvLyBFUzM6XG4gICAgJ01BWF9WQUxVRSxNSU5fVkFMVUUsTmFOLE5FR0FUSVZFX0lORklOSVRZLFBPU0lUSVZFX0lORklOSVRZLCcgK1xuICAgIC8vIEVTMjAxNSAoaW4gY2FzZSwgaWYgbW9kdWxlcyB3aXRoIEVTMjAxNSBOdW1iZXIgc3RhdGljcyByZXF1aXJlZCBiZWZvcmUpOlxuICAgICdFUFNJTE9OLE1BWF9TQUZFX0lOVEVHRVIsTUlOX1NBRkVfSU5URUdFUixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixwYXJzZUZsb2F0LHBhcnNlSW50LCcgK1xuICAgIC8vIEVTTmV4dFxuICAgICdmcm9tU3RyaW5nLHJhbmdlJ1xuICApLnNwbGl0KCcsJyksIGogPSAwLCBrZXk7IGtleXMubGVuZ3RoID4gajsgaisrKSB7XG4gICAgaWYgKGhhc093bihzb3VyY2UsIGtleSA9IGtleXNbal0pICYmICFoYXNPd24odGFyZ2V0LCBrZXkpKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfVxuICB9XG59O1xuXG5pZiAoSVNfUFVSRSAmJiBQdXJlTnVtYmVyTmFtZXNwYWNlKSBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKHBhdGhbTlVNQkVSXSwgUHVyZU51bWJlck5hbWVzcGFjZSk7XG5pZiAoRk9SQ0VEIHx8IElTX1BVUkUpIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMocGF0aFtOVU1CRVJdLCBOYXRpdmVOdW1iZXIpO1xuIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xuXG4vLyBWOCB+IENocm9tZSAzOCBhbmQgMzkgYE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNgIGZhaWxzIG9uIHByaW1pdGl2ZXNcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTM0NDNcbnZhciBGT1JDRUQgPSAhTkFUSVZFX1NZTUJPTCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mKDEpOyB9KTtcblxuLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlzeW1ib2xzXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICAgIHZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmY7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyAkZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRvT2JqZWN0KGl0KSkgOiBbXTtcbiAgfVxufSk7XG4iLCJ2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCcpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXRvLXN0cmluZycpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmdcbmlmICghVE9fU1RSSU5HX1RBR19TVVBQT1JUKSB7XG4gIGRlZmluZUJ1aWx0SW4oT2JqZWN0LnByb3RvdHlwZSwgJ3RvU3RyaW5nJywgdG9TdHJpbmcsIHsgdW5zYWZlOiB0cnVlIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wZXJmb3JtJyk7XG52YXIgaXRlcmF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRlJyk7XG52YXIgUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1zdGF0aWNzLWluY29ycmVjdC1pdGVyYXRpb24nKTtcblxuLy8gYFByb21pc2UuYWxsYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5hbGxcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZihDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRwcm9taXNlUmVzb2x2ZSA9IGFDYWxsYWJsZShDLnJlc29sdmUpO1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgIHZhciBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBjYWxsKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJykuQ09OU1RSVUNUT1I7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcblxudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuLy8gYFByb21pc2UucHJvdG90eXBlLmNhdGNoYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgcHJvdG86IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IsIHJlYWw6IHRydWUgfSwge1xuICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcbiAgfVxufSk7XG5cbi8vIG1ha2VzIHN1cmUgdGhhdCBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzIGBQcm9taXNlI2NhdGNoYCBwcm9wZXJseSB3b3JrcyB3aXRoIHBhdGNoZWQgYFByb21pc2UjdGhlbmBcbmlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikpIHtcbiAgdmFyIG1ldGhvZCA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKS5wcm90b3R5cGVbJ2NhdGNoJ107XG4gIGlmIChOYXRpdmVQcm9taXNlUHJvdG90eXBlWydjYXRjaCddICE9PSBtZXRob2QpIHtcbiAgICBkZWZpbmVCdWlsdEluKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICdjYXRjaCcsIG1ldGhvZCwgeyB1bnNhZmU6IHRydWUgfSk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIElTX05PREUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgc2V0U3BlY2llcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtc3BlY2llcycpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4taW5zdGFuY2UnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHRhc2sgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdGFzaycpLnNldDtcbnZhciBtaWNyb3Rhc2sgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWljcm90YXNrJyk7XG52YXIgaG9zdFJlcG9ydEVycm9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9ob3N0LXJlcG9ydC1lcnJvcnMnKTtcbnZhciBwZXJmb3JtID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BlcmZvcm0nKTtcbnZhciBRdWV1ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9xdWV1ZScpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xudmFyIE5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCA9IFByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5SRUpFQ1RJT05fRVZFTlQ7XG52YXIgTkFUSVZFX1BST01JU0VfU1VCQ0xBU1NJTkcgPSBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uU1VCQ0xBU1NJTkc7XG52YXIgZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihQUk9NSVNFKTtcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciAmJiBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IucHJvdG90eXBlO1xudmFyIFByb21pc2VDb25zdHJ1Y3RvciA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcjtcbnZhciBQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZVByb3RvdHlwZTtcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIGRvY3VtZW50ID0gZ2xvYmFsLmRvY3VtZW50O1xudmFyIHByb2Nlc3MgPSBnbG9iYWwucHJvY2VzcztcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmY7XG52YXIgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHk7XG5cbnZhciBESVNQQVRDSF9FVkVOVCA9ICEhKGRvY3VtZW50ICYmIGRvY3VtZW50LmNyZWF0ZUV2ZW50ICYmIGdsb2JhbC5kaXNwYXRjaEV2ZW50KTtcbnZhciBVTkhBTkRMRURfUkVKRUNUSU9OID0gJ3VuaGFuZGxlZHJlamVjdGlvbic7XG52YXIgUkVKRUNUSU9OX0hBTkRMRUQgPSAncmVqZWN0aW9uaGFuZGxlZCc7XG52YXIgUEVORElORyA9IDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG52YXIgSEFORExFRCA9IDE7XG52YXIgVU5IQU5ETEVEID0gMjtcblxudmFyIEludGVybmFsLCBPd25Qcm9taXNlQ2FwYWJpbGl0eSwgUHJvbWlzZVdyYXBwZXIsIG5hdGl2ZVRoZW47XG5cbi8vIGhlbHBlcnNcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIGlzQ2FsbGFibGUodGhlbiA9IGl0LnRoZW4pID8gdGhlbiA6IGZhbHNlO1xufTtcblxudmFyIGNhbGxSZWFjdGlvbiA9IGZ1bmN0aW9uIChyZWFjdGlvbiwgc3RhdGUpIHtcbiAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gIHZhciBvayA9IHN0YXRlLnN0YXRlID09IEZVTEZJTExFRDtcbiAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbDtcbiAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICB2YXIgcmVqZWN0ID0gcmVhY3Rpb24ucmVqZWN0O1xuICB2YXIgZG9tYWluID0gcmVhY3Rpb24uZG9tYWluO1xuICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gIHRyeSB7XG4gICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgaWYgKHN0YXRlLnJlamVjdGlvbiA9PT0gVU5IQU5ETEVEKSBvbkhhbmRsZVVuaGFuZGxlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLnJlamVjdGlvbiA9IEhBTkRMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpOyAvLyBjYW4gdGhyb3dcbiAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgZXhpdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgIGNhbGwodGhlbiwgcmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICB9IGVsc2UgcmVqZWN0KHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZG9tYWluICYmICFleGl0ZWQpIGRvbWFpbi5leGl0KCk7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgfVxufTtcblxudmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChzdGF0ZSwgaXNSZWplY3QpIHtcbiAgaWYgKHN0YXRlLm5vdGlmaWVkKSByZXR1cm47XG4gIHN0YXRlLm5vdGlmaWVkID0gdHJ1ZTtcbiAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVhY3Rpb25zID0gc3RhdGUucmVhY3Rpb25zO1xuICAgIHZhciByZWFjdGlvbjtcbiAgICB3aGlsZSAocmVhY3Rpb24gPSByZWFjdGlvbnMuZ2V0KCkpIHtcbiAgICAgIGNhbGxSZWFjdGlvbihyZWFjdGlvbiwgc3RhdGUpO1xuICAgIH1cbiAgICBzdGF0ZS5ub3RpZmllZCA9IGZhbHNlO1xuICAgIGlmIChpc1JlamVjdCAmJiAhc3RhdGUucmVqZWN0aW9uKSBvblVuaGFuZGxlZChzdGF0ZSk7XG4gIH0pO1xufTtcblxudmFyIGRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAobmFtZSwgcHJvbWlzZSwgcmVhc29uKSB7XG4gIHZhciBldmVudCwgaGFuZGxlcjtcbiAgaWYgKERJU1BBVENIX0VWRU5UKSB7XG4gICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldmVudC5wcm9taXNlID0gcHJvbWlzZTtcbiAgICBldmVudC5yZWFzb24gPSByZWFzb247XG4gICAgZXZlbnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0gZWxzZSBldmVudCA9IHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiByZWFzb24gfTtcbiAgaWYgKCFOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQgJiYgKGhhbmRsZXIgPSBnbG9iYWxbJ29uJyArIG5hbWVdKSkgaGFuZGxlcihldmVudCk7XG4gIGVsc2UgaWYgKG5hbWUgPT09IFVOSEFORExFRF9SRUpFQ1RJT04pIGhvc3RSZXBvcnRFcnJvcnMoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHJlYXNvbik7XG59O1xuXG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY2FsbCh0YXNrLCBnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHN0YXRlLmZhY2FkZTtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB2YXIgSVNfVU5IQU5ETEVEID0gaXNVbmhhbmRsZWQoc3RhdGUpO1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKElTX1VOSEFORExFRCkge1xuICAgICAgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChJU19OT0RFKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFVOSEFORExFRF9SRUpFQ1RJT04sIHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHN0YXRlLnJlamVjdGlvbiA9IElTX05PREUgfHwgaXNVbmhhbmRsZWQoc3RhdGUpID8gVU5IQU5ETEVEIDogSEFORExFRDtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHRocm93IHJlc3VsdC52YWx1ZTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5yZWplY3Rpb24gIT09IEhBTkRMRUQgJiYgIXN0YXRlLnBhcmVudDtcbn07XG5cbnZhciBvbkhhbmRsZVVuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICBjYWxsKHRhc2ssIGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gc3RhdGUuZmFjYWRlO1xuICAgIGlmIChJU19OT0RFKSB7XG4gICAgICBwcm9jZXNzLmVtaXQoJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlKTtcbiAgICB9IGVsc2UgZGlzcGF0Y2hFdmVudChSRUpFQ1RJT05fSEFORExFRCwgcHJvbWlzZSwgc3RhdGUudmFsdWUpO1xuICB9KTtcbn07XG5cbnZhciBiaW5kID0gZnVuY3Rpb24gKGZuLCBzdGF0ZSwgdW53cmFwKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBmbihzdGF0ZSwgdmFsdWUsIHVud3JhcCk7XG4gIH07XG59O1xuXG52YXIgaW50ZXJuYWxSZWplY3QgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybjtcbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICBzdGF0ZS5zdGF0ZSA9IFJFSkVDVEVEO1xuICBub3RpZnkoc3RhdGUsIHRydWUpO1xufTtcblxudmFyIGludGVybmFsUmVzb2x2ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgdmFsdWUsIHVud3JhcCkge1xuICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgaWYgKHVud3JhcCkgc3RhdGUgPSB1bndyYXA7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXRlLmZhY2FkZSA9PT0gdmFsdWUpIHRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIHZhciB0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSk7XG4gICAgaWYgKHRoZW4pIHtcbiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3cmFwcGVyID0geyBkb25lOiBmYWxzZSB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGwodGhlbiwgdmFsdWUsXG4gICAgICAgICAgICBiaW5kKGludGVybmFsUmVzb2x2ZSwgd3JhcHBlciwgc3RhdGUpLFxuICAgICAgICAgICAgYmluZChpbnRlcm5hbFJlamVjdCwgd3JhcHBlciwgc3RhdGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpbnRlcm5hbFJlamVjdCh3cmFwcGVyLCBlcnJvciwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHN0YXRlLnN0YXRlID0gRlVMRklMTEVEO1xuICAgICAgbm90aWZ5KHN0YXRlLCBmYWxzZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGludGVybmFsUmVqZWN0KHsgZG9uZTogZmFsc2UgfSwgZXJyb3IsIHN0YXRlKTtcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmIChGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUikge1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICBQcm9taXNlQ29uc3RydWN0b3IgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCBQcm9taXNlUHJvdG90eXBlKTtcbiAgICBhQ2FsbGFibGUoZXhlY3V0b3IpO1xuICAgIGNhbGwoSW50ZXJuYWwsIHRoaXMpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUHJvbWlzZVN0YXRlKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihiaW5kKGludGVybmFsUmVzb2x2ZSwgc3RhdGUpLCBiaW5kKGludGVybmFsUmVqZWN0LCBzdGF0ZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpbnRlcm5hbFJlamVjdChzdGF0ZSwgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBQcm9taXNlUHJvdG90eXBlID0gUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICAgIHR5cGU6IFBST01JU0UsXG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIG5vdGlmaWVkOiBmYWxzZSxcbiAgICAgIHBhcmVudDogZmFsc2UsXG4gICAgICByZWFjdGlvbnM6IG5ldyBRdWV1ZSgpLFxuICAgICAgcmVqZWN0aW9uOiBmYWxzZSxcbiAgICAgIHN0YXRlOiBQRU5ESU5HLFxuICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIGBQcm9taXNlLnByb3RvdHlwZS50aGVuYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnByb3RvdHlwZS50aGVuXG4gIEludGVybmFsLnByb3RvdHlwZSA9IGRlZmluZUJ1aWx0SW4oUHJvbWlzZVByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUodGhpcyk7XG4gICAgdmFyIHJlYWN0aW9uID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIFByb21pc2VDb25zdHJ1Y3RvcikpO1xuICAgIHN0YXRlLnBhcmVudCA9IHRydWU7XG4gICAgcmVhY3Rpb24ub2sgPSBpc0NhbGxhYmxlKG9uRnVsZmlsbGVkKSA/IG9uRnVsZmlsbGVkIDogdHJ1ZTtcbiAgICByZWFjdGlvbi5mYWlsID0gaXNDYWxsYWJsZShvblJlamVjdGVkKSAmJiBvblJlamVjdGVkO1xuICAgIHJlYWN0aW9uLmRvbWFpbiA9IElTX05PREUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICBpZiAoc3RhdGUuc3RhdGUgPT0gUEVORElORykgc3RhdGUucmVhY3Rpb25zLmFkZChyZWFjdGlvbik7XG4gICAgZWxzZSBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbFJlYWN0aW9uKHJlYWN0aW9uLCBzdGF0ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gIH0pO1xuXG4gIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUocHJvbWlzZSk7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBiaW5kKGludGVybmFsUmVzb2x2ZSwgc3RhdGUpO1xuICAgIHRoaXMucmVqZWN0ID0gYmluZChpbnRlcm5hbFJlamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgcmV0dXJuIEMgPT09IFByb21pc2VDb25zdHJ1Y3RvciB8fCBDID09PSBQcm9taXNlV3JhcHBlclxuICAgICAgPyBuZXcgT3duUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xuXG4gIGlmICghSVNfUFVSRSAmJiBpc0NhbGxhYmxlKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvcikgJiYgTmF0aXZlUHJvbWlzZVByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIG5hdGl2ZVRoZW4gPSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLnRoZW47XG5cbiAgICBpZiAoIU5BVElWRV9QUk9NSVNFX1NVQkNMQVNTSU5HKSB7XG4gICAgICAvLyBtYWtlIGBQcm9taXNlI3RoZW5gIHJldHVybiBhIHBvbHlmaWxsZWQgYFByb21pc2VgIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgICBkZWZpbmVCdWlsdEluKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsICd0aGVuJywgZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUNvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBjYWxsKG5hdGl2ZVRoZW4sIHRoYXQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzY0MFxuICAgICAgfSwgeyB1bnNhZmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBgLmNvbnN0cnVjdG9yID09PSBQcm9taXNlYCB3b3JrIGZvciBuYXRpdmUgcHJvbWlzZS1iYXNlZCBBUElzXG4gICAgdHJ5IHtcbiAgICAgIGRlbGV0ZSBOYXRpdmVQcm9taXNlUHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuICAgIC8vIG1ha2UgYGluc3RhbmNlb2YgUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgc2V0UHJvdG90eXBlT2YoTmF0aXZlUHJvbWlzZVByb3RvdHlwZSwgUHJvbWlzZVByb3RvdHlwZSk7XG4gICAgfVxuICB9XG59XG5cbiQoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCB3cmFwOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgUHJvbWlzZTogUHJvbWlzZUNvbnN0cnVjdG9yXG59KTtcblxuc2V0VG9TdHJpbmdUYWcoUHJvbWlzZUNvbnN0cnVjdG9yLCBQUk9NSVNFLCBmYWxzZSwgdHJ1ZSk7XG5zZXRTcGVjaWVzKFBST01JU0UpO1xuIiwiLy8gVE9ETzogUmVtb3ZlIHRoaXMgbW9kdWxlIGZyb20gYGNvcmUtanNANGAgc2luY2UgaXQncyBzcGxpdCB0byBtb2R1bGVzIGxpc3RlZCBiZWxvd1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLmNvbnN0cnVjdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UuYWxsJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UuY2F0Y2gnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMucHJvbWlzZS5yYWNlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UucmVqZWN0Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UucmVzb2x2ZScpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcbnZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wZXJmb3JtJyk7XG52YXIgaXRlcmF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRlJyk7XG52YXIgUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1zdGF0aWNzLWluY29ycmVjdC1pdGVyYXRpb24nKTtcblxuLy8gYFByb21pc2UucmFjZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmFjZVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OIH0sIHtcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYoQyk7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUoQy5yZXNvbHZlKTtcbiAgICAgIGl0ZXJhdGUoaXRlcmFibGUsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgIGNhbGwoJHByb21pc2VSZXNvbHZlLCBDLCBwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQuZXJyb3IpIHJlamVjdChyZXN1bHQudmFsdWUpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJykuQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlamVjdGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVqZWN0XG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgfSwge1xuICByZWplY3Q6IGZ1bmN0aW9uIHJlamVjdChyKSB7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKHRoaXMpO1xuICAgIGNhbGwoY2FwYWJpbGl0eS5yZWplY3QsIHVuZGVmaW5lZCwgcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLW5hdGl2ZS1jb25zdHJ1Y3RvcicpO1xudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJykuQ09OU1RSVUNUT1I7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1yZXNvbHZlJyk7XG5cbnZhciBQcm9taXNlQ29uc3RydWN0b3JXcmFwcGVyID0gZ2V0QnVpbHRJbignUHJvbWlzZScpO1xudmFyIENIRUNLX1dSQVBQRVIgPSBJU19QVVJFICYmICFGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUjtcblxuLy8gYFByb21pc2UucmVzb2x2ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVzb2x2ZVxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IElTX1BVUkUgfHwgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgfSwge1xuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQ0hFQ0tfV1JBUFBFUiAmJiB0aGlzID09PSBQcm9taXNlQ29uc3RydWN0b3JXcmFwcGVyID8gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yIDogdGhpcywgeCk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYycpO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5leGVjYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS5leGVjXG4kKHsgdGFyZ2V0OiAnUmVnRXhwJywgcHJvdG86IHRydWUsIGZvcmNlZDogLy4vLmV4ZWMgIT09IGV4ZWMgfSwge1xuICBleGVjOiBleGVjXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBQUk9QRVJfRlVOQ1RJT05fTkFNRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJykuUFJPUEVSO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgJHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2V0UmVnRXhwRmxhZ3MgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWdldC1mbGFncycpO1xuXG52YXIgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJztcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xudmFyIG5hdGl2ZVRvU3RyaW5nID0gUmVnRXhwUHJvdG90eXBlW1RPX1NUUklOR107XG5cbnZhciBOT1RfR0VORVJJQyA9IGZhaWxzKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5hdGl2ZVRvU3RyaW5nLmNhbGwoeyBzb3VyY2U6ICdhJywgZmxhZ3M6ICdiJyB9KSAhPSAnL2EvYic7IH0pO1xuLy8gRkY0NC0gUmVnRXhwI3RvU3RyaW5nIGhhcyBhIHdyb25nIG5hbWVcbnZhciBJTkNPUlJFQ1RfTkFNRSA9IFBST1BFUl9GVU5DVElPTl9OQU1FICYmIG5hdGl2ZVRvU3RyaW5nLm5hbWUgIT0gVE9fU1RSSU5HO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUudG9zdHJpbmdcbmlmIChOT1RfR0VORVJJQyB8fCBJTkNPUlJFQ1RfTkFNRSkge1xuICBkZWZpbmVCdWlsdEluKFJlZ0V4cC5wcm90b3R5cGUsIFRPX1NUUklORywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgdmFyIFIgPSBhbk9iamVjdCh0aGlzKTtcbiAgICB2YXIgcGF0dGVybiA9ICR0b1N0cmluZyhSLnNvdXJjZSk7XG4gICAgdmFyIGZsYWdzID0gJHRvU3RyaW5nKGdldFJlZ0V4cEZsYWdzKFIpKTtcbiAgICByZXR1cm4gJy8nICsgcGF0dGVybiArICcvJyArIGZsYWdzO1xuICB9LCB7IHVuc2FmZTogdHJ1ZSB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjaGFyQXQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZScpLmNoYXJBdDtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG52YXIgZGVmaW5lSXRlcmF0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItZGVmaW5lJyk7XG52YXIgY3JlYXRlSXRlclJlc3VsdE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtaXRlci1yZXN1bHQtb2JqZWN0Jyk7XG5cbnZhciBTVFJJTkdfSVRFUkFUT1IgPSAnU3RyaW5nIEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFNUUklOR19JVEVSQVRPUik7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS1AQGl0ZXJhdG9yXG5kZWZpbmVJdGVyYXRvcihTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogU1RSSU5HX0lURVJBVE9SLFxuICAgIHN0cmluZzogdG9TdHJpbmcoaXRlcmF0ZWQpLFxuICAgIGluZGV4OiAwXG4gIH0pO1xuLy8gYCVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgdmFyIHN0cmluZyA9IHN0YXRlLnN0cmluZztcbiAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXg7XG4gIHZhciBwb2ludDtcbiAgaWYgKGluZGV4ID49IHN0cmluZy5sZW5ndGgpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gIHBvaW50ID0gY2hhckF0KHN0cmluZywgaW5kZXgpO1xuICBzdGF0ZS5pbmRleCArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHBvaW50LCBmYWxzZSk7XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNyZWF0ZUhUTUwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWh0bWwnKTtcbnZhciBmb3JjZWRTdHJpbmdIVE1MTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1odG1sLWZvcmNlZCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS5saW5rYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5saW5rXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogZm9yY2VkU3RyaW5nSFRNTE1ldGhvZCgnbGluaycpIH0sIHtcbiAgbGluazogZnVuY3Rpb24gbGluayh1cmwpIHtcbiAgICByZXR1cm4gY3JlYXRlSFRNTCh0aGlzLCAnYScsICdocmVmJywgdXJsKTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYycpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIHJlZ0V4cEV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMtYWJzdHJhY3QnKTtcblxuLy8gQEBtYXRjaCBsb2dpY1xuZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMoJ21hdGNoJywgZnVuY3Rpb24gKE1BVENILCBuYXRpdmVNYXRjaCwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gIHJldHVybiBbXG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUubWF0Y2hgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5tYXRjaFxuICAgIGZ1bmN0aW9uIG1hdGNoKHJlZ2V4cCkge1xuICAgICAgdmFyIE8gPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHRoaXMpO1xuICAgICAgdmFyIG1hdGNoZXIgPSBpc051bGxPclVuZGVmaW5lZChyZWdleHApID8gdW5kZWZpbmVkIDogZ2V0TWV0aG9kKHJlZ2V4cCwgTUFUQ0gpO1xuICAgICAgcmV0dXJuIG1hdGNoZXIgPyBjYWxsKG1hdGNoZXIsIHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbTUFUQ0hdKHRvU3RyaW5nKE8pKTtcbiAgICB9LFxuICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAbWF0Y2hdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUtQEBtYXRjaFxuICAgIGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHRoaXMpO1xuICAgICAgdmFyIFMgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdmFyIHJlcyA9IG1heWJlQ2FsbE5hdGl2ZShuYXRpdmVNYXRjaCwgcngsIFMpO1xuXG4gICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG5cbiAgICAgIGlmICghcnguZ2xvYmFsKSByZXR1cm4gcmVnRXhwRXhlYyhyeCwgUyk7XG5cbiAgICAgIHZhciBmdWxsVW5pY29kZSA9IHJ4LnVuaWNvZGU7XG4gICAgICByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgdmFyIEEgPSBbXTtcbiAgICAgIHZhciBuID0gMDtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICB3aGlsZSAoKHJlc3VsdCA9IHJlZ0V4cEV4ZWMocngsIFMpKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgbWF0Y2hTdHIgPSB0b1N0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICBBW25dID0gbWF0Y2hTdHI7XG4gICAgICAgIGlmIChtYXRjaFN0ciA9PT0gJycpIHJ4Lmxhc3RJbmRleCA9IGFkdmFuY2VTdHJpbmdJbmRleChTLCB0b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICAgIG4rKztcbiAgICAgIH1cbiAgICAgIHJldHVybiBuID09PSAwID8gbnVsbCA6IEE7XG4gICAgfVxuICBdO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmaXhSZWdFeHBXZWxsS25vd25TeW1ib2xMb2dpYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9maXgtcmVnZXhwLXdlbGwta25vd24tc3ltYm9sLWxvZ2ljJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcbnZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcbnZhciB0b0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1sZW5ndGgnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xudmFyIGFkdmFuY2VTdHJpbmdJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hZHZhbmNlLXN0cmluZy1pbmRleCcpO1xudmFyIGdldE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtbWV0aG9kJyk7XG52YXIgZ2V0U3Vic3RpdHV0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1zdWJzdGl0dXRpb24nKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBSRVBMQUNFID0gd2VsbEtub3duU3ltYm9sKCdyZXBsYWNlJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG52YXIgc3RyaW5nSW5kZXhPZiA9IHVuY3VycnlUaGlzKCcnLmluZGV4T2YpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgbWF5YmVUb1N0cmluZyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/IGl0IDogU3RyaW5nKGl0KTtcbn07XG5cbi8vIElFIDw9IDExIHJlcGxhY2VzICQwIHdpdGggdGhlIHdob2xlIG1hdGNoLCBhcyBpZiBpdCB3YXMgJCZcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzYwMjQ2NjYvZ2V0dGluZy1pZS10by1yZXBsYWNlLWEtcmVnZXgtd2l0aC10aGUtbGl0ZXJhbC1zdHJpbmctMFxudmFyIFJFUExBQ0VfS0VFUFNfJDAgPSAoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVnZXhwL3ByZWZlci1lc2NhcGUtcmVwbGFjZW1lbnQtZG9sbGFyLWNoYXIgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuICdhJy5yZXBsYWNlKC8uLywgJyQwJykgPT09ICckMCc7XG59KSgpO1xuXG4vLyBTYWZhcmkgPD0gMTMuMC4zKD8pIHN1YnN0aXR1dGVzIG50aCBjYXB0dXJlIHdoZXJlIG4+bSB3aXRoIGFuIGVtcHR5IHN0cmluZ1xudmFyIFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFID0gKGZ1bmN0aW9uICgpIHtcbiAgaWYgKC8uL1tSRVBMQUNFXSkge1xuICAgIHJldHVybiAvLi9bUkVQTEFDRV0oJ2EnLCAnJDAnKSA9PT0gJyc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSkoKTtcblxudmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlID0gLy4vO1xuICByZS5leGVjID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICByZXN1bHQuZ3JvdXBzID0geyBhOiAnNycgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVnZXhwL25vLXVzZWxlc3MtZG9sbGFyLXJlcGxhY2VtZW50cyAtLSBmYWxzZSBwb3NpdGl2ZVxuICByZXR1cm4gJycucmVwbGFjZShyZSwgJyQ8YT4nKSAhPT0gJzcnO1xufSk7XG5cbi8vIEBAcmVwbGFjZSBsb2dpY1xuZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMoJ3JlcGxhY2UnLCBmdW5jdGlvbiAoXywgbmF0aXZlUmVwbGFjZSwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gIHZhciBVTlNBRkVfU1VCU1RJVFVURSA9IFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFID8gJyQnIDogJyQwJztcblxuICByZXR1cm4gW1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlXG4gICAgZnVuY3Rpb24gcmVwbGFjZShzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKSB7XG4gICAgICB2YXIgTyA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUodGhpcyk7XG4gICAgICB2YXIgcmVwbGFjZXIgPSBpc051bGxPclVuZGVmaW5lZChzZWFyY2hWYWx1ZSkgPyB1bmRlZmluZWQgOiBnZXRNZXRob2Qoc2VhcmNoVmFsdWUsIFJFUExBQ0UpO1xuICAgICAgcmV0dXJuIHJlcGxhY2VyXG4gICAgICAgID8gY2FsbChyZXBsYWNlciwgc2VhcmNoVmFsdWUsIE8sIHJlcGxhY2VWYWx1ZSlcbiAgICAgICAgOiBjYWxsKG5hdGl2ZVJlcGxhY2UsIHRvU3RyaW5nKE8pLCBzZWFyY2hWYWx1ZSwgcmVwbGFjZVZhbHVlKTtcbiAgICB9LFxuICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAcmVwbGFjZV1gIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHJlcGxhY2VcbiAgICBmdW5jdGlvbiAoc3RyaW5nLCByZXBsYWNlVmFsdWUpIHtcbiAgICAgIHZhciByeCA9IGFuT2JqZWN0KHRoaXMpO1xuICAgICAgdmFyIFMgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiByZXBsYWNlVmFsdWUgPT0gJ3N0cmluZycgJiZcbiAgICAgICAgc3RyaW5nSW5kZXhPZihyZXBsYWNlVmFsdWUsIFVOU0FGRV9TVUJTVElUVVRFKSA9PT0gLTEgJiZcbiAgICAgICAgc3RyaW5nSW5kZXhPZihyZXBsYWNlVmFsdWUsICckPCcpID09PSAtMVxuICAgICAgKSB7XG4gICAgICAgIHZhciByZXMgPSBtYXliZUNhbGxOYXRpdmUobmF0aXZlUmVwbGFjZSwgcngsIFMsIHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZ1bmN0aW9uYWxSZXBsYWNlID0gaXNDYWxsYWJsZShyZXBsYWNlVmFsdWUpO1xuICAgICAgaWYgKCFmdW5jdGlvbmFsUmVwbGFjZSkgcmVwbGFjZVZhbHVlID0gdG9TdHJpbmcocmVwbGFjZVZhbHVlKTtcblxuICAgICAgdmFyIGdsb2JhbCA9IHJ4Lmdsb2JhbDtcbiAgICAgIGlmIChnbG9iYWwpIHtcbiAgICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVnRXhwRXhlYyhyeCwgUyk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIGJyZWFrO1xuXG4gICAgICAgIHB1c2gocmVzdWx0cywgcmVzdWx0KTtcbiAgICAgICAgaWYgKCFnbG9iYWwpIGJyZWFrO1xuXG4gICAgICAgIHZhciBtYXRjaFN0ciA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIGlmIChtYXRjaFN0ciA9PT0gJycpIHJ4Lmxhc3RJbmRleCA9IGFkdmFuY2VTdHJpbmdJbmRleChTLCB0b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhY2N1bXVsYXRlZFJlc3VsdCA9ICcnO1xuICAgICAgdmFyIG5leHRTb3VyY2VQb3NpdGlvbiA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0c1tpXTtcblxuICAgICAgICB2YXIgbWF0Y2hlZCA9IHRvU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IG1heChtaW4odG9JbnRlZ2VyT3JJbmZpbml0eShyZXN1bHQuaW5kZXgpLCBTLmxlbmd0aCksIDApO1xuICAgICAgICB2YXIgY2FwdHVyZXMgPSBbXTtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBlcXVpdmFsZW50IHRvXG4gICAgICAgIC8vICAgY2FwdHVyZXMgPSByZXN1bHQuc2xpY2UoMSkubWFwKG1heWJlVG9TdHJpbmcpXG4gICAgICAgIC8vIGJ1dCBmb3Igc29tZSByZWFzb24gYG5hdGl2ZVNsaWNlLmNhbGwocmVzdWx0LCAxLCByZXN1bHQubGVuZ3RoKWAgKGNhbGxlZCBpblxuICAgICAgICAvLyB0aGUgc2xpY2UgcG9seWZpbGwgd2hlbiBzbGljaW5nIG5hdGl2ZSBhcnJheXMpIFwiZG9lc24ndCB3b3JrXCIgaW4gc2FmYXJpIDkgYW5kXG4gICAgICAgIC8vIGNhdXNlcyBhIGNyYXNoIChodHRwczovL3Bhc3RlYmluLmNvbS9OMjFRemVRQSkgd2hlbiB0cnlpbmcgdG8gZGVidWcgaXQuXG4gICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSBwdXNoKGNhcHR1cmVzLCBtYXliZVRvU3RyaW5nKHJlc3VsdFtqXSkpO1xuICAgICAgICB2YXIgbmFtZWRDYXB0dXJlcyA9IHJlc3VsdC5ncm91cHM7XG4gICAgICAgIGlmIChmdW5jdGlvbmFsUmVwbGFjZSkge1xuICAgICAgICAgIHZhciByZXBsYWNlckFyZ3MgPSBjb25jYXQoW21hdGNoZWRdLCBjYXB0dXJlcywgcG9zaXRpb24sIFMpO1xuICAgICAgICAgIGlmIChuYW1lZENhcHR1cmVzICE9PSB1bmRlZmluZWQpIHB1c2gocmVwbGFjZXJBcmdzLCBuYW1lZENhcHR1cmVzKTtcbiAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSB0b1N0cmluZyhhcHBseShyZXBsYWNlVmFsdWUsIHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbGFjZW1lbnQgPSBnZXRTdWJzdGl0dXRpb24obWF0Y2hlZCwgUywgcG9zaXRpb24sIGNhcHR1cmVzLCBuYW1lZENhcHR1cmVzLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA+PSBuZXh0U291cmNlUG9zaXRpb24pIHtcbiAgICAgICAgICBhY2N1bXVsYXRlZFJlc3VsdCArPSBzdHJpbmdTbGljZShTLCBuZXh0U291cmNlUG9zaXRpb24sIHBvc2l0aW9uKSArIHJlcGxhY2VtZW50O1xuICAgICAgICAgIG5leHRTb3VyY2VQb3NpdGlvbiA9IHBvc2l0aW9uICsgbWF0Y2hlZC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRlZFJlc3VsdCArIHN0cmluZ1NsaWNlKFMsIG5leHRTb3VyY2VQb3NpdGlvbik7XG4gICAgfVxuICBdO1xufSwgIVJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTIHx8ICFSRVBMQUNFX0tFRVBTXyQwIHx8IFJFR0VYUF9SRVBMQUNFX1NVQlNUSVRVVEVTX1VOREVGSU5FRF9DQVBUVVJFKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyICR0cmltID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltJykudHJpbTtcbnZhciBmb3JjZWRTdHJpbmdUcmltTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltLWZvcmNlZCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS50cmltYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogZm9yY2VkU3RyaW5nVHJpbU1ldGhvZCgndHJpbScpIH0sIHtcbiAgdHJpbTogZnVuY3Rpb24gdHJpbSgpIHtcbiAgICByZXR1cm4gJHRyaW0odGhpcyk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgTkFUSVZFX1NZTUJPTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG52YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG52YXIgJHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIG5hdGl2ZU9iamVjdENyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgb2JqZWN0S2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMtZXh0ZXJuYWwnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGRlZmluZVByb3BlcnRpZXNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXByb3BlcnR5LWlzLWVudW1lcmFibGUnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4tYWNjZXNzb3InKTtcbnZhciBzaGFyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkJyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VpZCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZCcpO1xudmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC1kZWZpbmUnKTtcbnZhciBkZWZpbmVTeW1ib2xUb1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zeW1ib2wtZGVmaW5lLXRvLXByaW1pdGl2ZScpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyICRmb3JFYWNoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpLmZvckVhY2g7XG5cbnZhciBISURERU4gPSBzaGFyZWRLZXkoJ2hpZGRlbicpO1xudmFyIFNZTUJPTCA9ICdTeW1ib2wnO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihTWU1CT0wpO1xuXG52YXIgT2JqZWN0UHJvdG90eXBlID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgU3ltYm9sUHJvdG90eXBlID0gJFN5bWJvbCAmJiAkU3ltYm9sW1BST1RPVFlQRV07XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBRT2JqZWN0ID0gZ2xvYmFsLlFPYmplY3Q7XG52YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlLmY7XG52YXIgbmF0aXZlRGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwuZjtcbnZhciBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmY7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvdHlwZVN5bWJvbHMgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKTtcbnZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUgPSBzaGFyZWQoJ3drcycpO1xuXG4vLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbnZhciBVU0VfU0VUVEVSID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzY3JpcHRvciA9IERFU0NSSVBUT1JTICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdENyZWF0ZShuYXRpdmVEZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoTywgUCwgQXR0cmlidXRlcykge1xuICB2YXIgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUsIFApO1xuICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcikgZGVsZXRlIE9iamVjdFByb3RvdHlwZVtQXTtcbiAgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyk7XG4gIGlmIChPYmplY3RQcm90b3R5cGVEZXNjcmlwdG9yICYmIE8gIT09IE9iamVjdFByb3RvdHlwZSkge1xuICAgIG5hdGl2ZURlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZSwgUCwgT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvcik7XG4gIH1cbn0gOiBuYXRpdmVEZWZpbmVQcm9wZXJ0eTtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnLCBkZXNjcmlwdGlvbikge1xuICB2YXIgc3ltYm9sID0gQWxsU3ltYm9sc1t0YWddID0gbmF0aXZlT2JqZWN0Q3JlYXRlKFN5bWJvbFByb3RvdHlwZSk7XG4gIHNldEludGVybmFsU3RhdGUoc3ltYm9sLCB7XG4gICAgdHlwZTogU1lNQk9MLFxuICAgIHRhZzogdGFnLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxuICB9KTtcbiAgaWYgKCFERVNDUklQVE9SUykgc3ltYm9sLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIHJldHVybiBzeW1ib2w7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcykge1xuICBpZiAoTyA9PT0gT2JqZWN0UHJvdG90eXBlKSAkZGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCwgQXR0cmlidXRlcyk7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChoYXNPd24oQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghQXR0cmlidXRlcy5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhc093bihPLCBISURERU4pKSBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBISURERU4sIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB7fSkpO1xuICAgICAgT1tISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaGFzT3duKE8sIEhJRERFTikgJiYgT1tISURERU5dW2tleV0pIE9bSElEREVOXVtrZXldID0gZmFsc2U7XG4gICAgICBBdHRyaWJ1dGVzID0gbmF0aXZlT2JqZWN0Q3JlYXRlKEF0dHJpYnV0ZXMsIHsgZW51bWVyYWJsZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjcmlwdG9yKE8sIGtleSwgQXR0cmlidXRlcyk7XG4gIH0gcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIGtleSwgQXR0cmlidXRlcyk7XG59O1xuXG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIHZhciBwcm9wZXJ0aWVzID0gdG9JbmRleGVkT2JqZWN0KFByb3BlcnRpZXMpO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMocHJvcGVydGllcykuY29uY2F0KCRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcGVydGllcykpO1xuICAkZm9yRWFjaChrZXlzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFERVNDUklQVE9SUyB8fCBjYWxsKCRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgcHJvcGVydGllcywga2V5KSkgJGRlZmluZVByb3BlcnR5KE8sIGtleSwgcHJvcGVydGllc1trZXldKTtcbiAgfSk7XG4gIHJldHVybiBPO1xufTtcblxudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gbmF0aXZlT2JqZWN0Q3JlYXRlKE8pIDogJGRlZmluZVByb3BlcnRpZXMobmF0aXZlT2JqZWN0Q3JlYXRlKE8pLCBQcm9wZXJ0aWVzKTtcbn07XG5cbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShWKSB7XG4gIHZhciBQID0gdG9Qcm9wZXJ0eUtleShWKTtcbiAgdmFyIGVudW1lcmFibGUgPSBjYWxsKG5hdGl2ZVByb3BlcnR5SXNFbnVtZXJhYmxlLCB0aGlzLCBQKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSAmJiBoYXNPd24oQWxsU3ltYm9scywgUCkgJiYgIWhhc093bihPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBQKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZW51bWVyYWJsZSB8fCAhaGFzT3duKHRoaXMsIFApIHx8ICFoYXNPd24oQWxsU3ltYm9scywgUCkgfHwgaGFzT3duKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW1BdXG4gICAgPyBlbnVtZXJhYmxlIDogdHJ1ZTtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgdmFyIGl0ID0gdG9JbmRleGVkT2JqZWN0KE8pO1xuICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90b3R5cGUgJiYgaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhc093bihPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBrZXkpKSByZXR1cm47XG4gIHZhciBkZXNjcmlwdG9yID0gbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpO1xuICBpZiAoZGVzY3JpcHRvciAmJiBoYXNPd24oQWxsU3ltYm9scywga2V5KSAmJiAhKGhhc093bihpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSB7XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdChPKSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgJGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIWhhc093bihBbGxTeW1ib2xzLCBrZXkpICYmICFoYXNPd24oaGlkZGVuS2V5cywga2V5KSkgcHVzaChyZXN1bHQsIGtleSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBmdW5jdGlvbiAoTykge1xuICB2YXIgSVNfT0JKRUNUX1BST1RPVFlQRSA9IE8gPT09IE9iamVjdFByb3RvdHlwZTtcbiAgdmFyIG5hbWVzID0gbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyhJU19PQkpFQ1RfUFJPVE9UWVBFID8gT2JqZWN0UHJvdG90eXBlU3ltYm9scyA6IHRvSW5kZXhlZE9iamVjdChPKSk7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgJGZvckVhY2gobmFtZXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgKCFJU19PQkpFQ1RfUFJPVE9UWVBFIHx8IGhhc093bihPYmplY3RQcm90b3R5cGUsIGtleSkpKSB7XG4gICAgICBwdXNoKHJlc3VsdCwgQWxsU3ltYm9sc1trZXldKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gYFN5bWJvbGAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLWNvbnN0cnVjdG9yXG5pZiAoIU5BVElWRV9TWU1CT0wpIHtcbiAgJFN5bWJvbCA9IGZ1bmN0aW9uIFN5bWJvbCgpIHtcbiAgICBpZiAoaXNQcm90b3R5cGVPZihTeW1ib2xQcm90b3R5cGUsIHRoaXMpKSB0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICAgIHZhciBkZXNjcmlwdGlvbiA9ICFhcmd1bWVudHMubGVuZ3RoIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogJHRvU3RyaW5nKGFyZ3VtZW50c1swXSk7XG4gICAgdmFyIHRhZyA9IHVpZChkZXNjcmlwdGlvbik7XG4gICAgdmFyIHNldHRlciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSkgY2FsbChzZXR0ZXIsIE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmIChoYXNPd24odGhpcywgSElEREVOKSAmJiBoYXNPd24odGhpc1tISURERU5dLCB0YWcpKSB0aGlzW0hJRERFTl1bdGFnXSA9IGZhbHNlO1xuICAgICAgc2V0U3ltYm9sRGVzY3JpcHRvcih0aGlzLCB0YWcsIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIFVTRV9TRVRURVIpIHNldFN5bWJvbERlc2NyaXB0b3IoT2JqZWN0UHJvdG90eXBlLCB0YWcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6IHNldHRlciB9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcsIGRlc2NyaXB0aW9uKTtcbiAgfTtcblxuICBTeW1ib2xQcm90b3R5cGUgPSAkU3ltYm9sW1BST1RPVFlQRV07XG5cbiAgZGVmaW5lQnVpbHRJbihTeW1ib2xQcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLnRhZztcbiAgfSk7XG5cbiAgZGVmaW5lQnVpbHRJbigkU3ltYm9sLCAnd2l0aG91dFNldHRlcicsIGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgIHJldHVybiB3cmFwKHVpZChkZXNjcmlwdGlvbiksIGRlc2NyaXB0aW9uKTtcbiAgfSk7XG5cbiAgcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZiA9ICRwcm9wZXJ0eUlzRW51bWVyYWJsZTtcbiAgZGVmaW5lUHJvcGVydHlNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgZGVmaW5lUHJvcGVydGllc01vZHVsZS5mID0gJGRlZmluZVByb3BlcnRpZXM7XG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mID0gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIHdyYXAod2VsbEtub3duU3ltYm9sKG5hbWUpLCBuYW1lKTtcbiAgfTtcblxuICBpZiAoREVTQ1JJUFRPUlMpIHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1TeW1ib2wtZGVzY3JpcHRpb25cbiAgICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoU3ltYm9sUHJvdG90eXBlLCAnZGVzY3JpcHRpb24nLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIUlTX1BVUkUpIHtcbiAgICAgIGRlZmluZUJ1aWx0SW4oT2JqZWN0UHJvdG90eXBlLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICAgIH1cbiAgfVxufVxuXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCwgc2hhbTogIU5BVElWRV9TWU1CT0wgfSwge1xuICBTeW1ib2w6ICRTeW1ib2xcbn0pO1xuXG4kZm9yRWFjaChvYmplY3RLZXlzKFdlbGxLbm93blN5bWJvbHNTdG9yZSksIGZ1bmN0aW9uIChuYW1lKSB7XG4gIGRlZmluZVdlbGxLbm93blN5bWJvbChuYW1lKTtcbn0pO1xuXG4kKHsgdGFyZ2V0OiBTWU1CT0wsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wgfSwge1xuICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBVU0VfU0VUVEVSID0gZmFsc2U7IH1cbn0pO1xuXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCwgc2hhbTogIURFU0NSSVBUT1JTIH0sIHtcbiAgLy8gYE9iamVjdC5jcmVhdGVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JzXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvclxufSk7XG5cbiQoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lc1xufSk7XG5cbi8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvcHJpbWl0aXZlXG5kZWZpbmVTeW1ib2xUb1ByaW1pdGl2ZSgpO1xuXG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXWAgcHJvcGVydHlcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS1AQHRvc3RyaW5ndGFnXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCBTWU1CT0wpO1xuXG5oaWRkZW5LZXlzW0hJRERFTl0gPSB0cnVlO1xuIiwiLy8gYFN5bWJvbC5wcm90b3R5cGUuZGVzY3JpcHRpb25gIGdldHRlclxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLmRlc2NyaXB0aW9uXG4ndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yJyk7XG52YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMnKTtcblxudmFyIE5hdGl2ZVN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgU3ltYm9sUHJvdG90eXBlID0gTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5wcm90b3R5cGU7XG5cbmlmIChERVNDUklQVE9SUyAmJiBpc0NhbGxhYmxlKE5hdGl2ZVN5bWJvbCkgJiYgKCEoJ2Rlc2NyaXB0aW9uJyBpbiBTeW1ib2xQcm90b3R5cGUpIHx8XG4gIC8vIFNhZmFyaSAxMiBidWdcbiAgTmF0aXZlU3ltYm9sKCkuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZFxuKSkge1xuICB2YXIgRW1wdHlTdHJpbmdEZXNjcmlwdGlvblN0b3JlID0ge307XG4gIC8vIHdyYXAgU3ltYm9sIGNvbnN0cnVjdG9yIGZvciBjb3JyZWN0IHdvcmsgd2l0aCB1bmRlZmluZWQgZGVzY3JpcHRpb25cbiAgdmFyIFN5bWJvbFdyYXBwZXIgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgdmFyIGRlc2NyaXB0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA8IDEgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiB0b1N0cmluZyhhcmd1bWVudHNbMF0pO1xuICAgIHZhciByZXN1bHQgPSBpc1Byb3RvdHlwZU9mKFN5bWJvbFByb3RvdHlwZSwgdGhpcylcbiAgICAgID8gbmV3IE5hdGl2ZVN5bWJvbChkZXNjcmlwdGlvbilcbiAgICAgIC8vIGluIEVkZ2UgMTMsIFN0cmluZyhTeW1ib2wodW5kZWZpbmVkKSkgPT09ICdTeW1ib2wodW5kZWZpbmVkKSdcbiAgICAgIDogZGVzY3JpcHRpb24gPT09IHVuZGVmaW5lZCA/IE5hdGl2ZVN5bWJvbCgpIDogTmF0aXZlU3ltYm9sKGRlc2NyaXB0aW9uKTtcbiAgICBpZiAoZGVzY3JpcHRpb24gPT09ICcnKSBFbXB0eVN0cmluZ0Rlc2NyaXB0aW9uU3RvcmVbcmVzdWx0XSA9IHRydWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKFN5bWJvbFdyYXBwZXIsIE5hdGl2ZVN5bWJvbCk7XG4gIFN5bWJvbFdyYXBwZXIucHJvdG90eXBlID0gU3ltYm9sUHJvdG90eXBlO1xuICBTeW1ib2xQcm90b3R5cGUuY29uc3RydWN0b3IgPSBTeW1ib2xXcmFwcGVyO1xuXG4gIHZhciBOQVRJVkVfU1lNQk9MID0gU3RyaW5nKE5hdGl2ZVN5bWJvbCgndGVzdCcpKSA9PSAnU3ltYm9sKHRlc3QpJztcbiAgdmFyIHRoaXNTeW1ib2xWYWx1ZSA9IHVuY3VycnlUaGlzKFN5bWJvbFByb3RvdHlwZS52YWx1ZU9mKTtcbiAgdmFyIHN5bWJvbERlc2NyaXB0aXZlU3RyaW5nID0gdW5jdXJyeVRoaXMoU3ltYm9sUHJvdG90eXBlLnRvU3RyaW5nKTtcbiAgdmFyIHJlZ2V4cCA9IC9eU3ltYm9sXFwoKC4qKVxcKVteKV0rJC87XG4gIHZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG4gIHZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcblxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoU3ltYm9sUHJvdG90eXBlLCAnZGVzY3JpcHRpb24nLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgICB2YXIgc3ltYm9sID0gdGhpc1N5bWJvbFZhbHVlKHRoaXMpO1xuICAgICAgaWYgKGhhc093bihFbXB0eVN0cmluZ0Rlc2NyaXB0aW9uU3RvcmUsIHN5bWJvbCkpIHJldHVybiAnJztcbiAgICAgIHZhciBzdHJpbmcgPSBzeW1ib2xEZXNjcmlwdGl2ZVN0cmluZyhzeW1ib2wpO1xuICAgICAgdmFyIGRlc2MgPSBOQVRJVkVfU1lNQk9MID8gc3RyaW5nU2xpY2Uoc3RyaW5nLCA3LCAtMSkgOiByZXBsYWNlKHN0cmluZywgcmVnZXhwLCAnJDEnKTtcbiAgICAgIHJldHVybiBkZXNjID09PSAnJyA/IHVuZGVmaW5lZCA6IGRlc2M7XG4gICAgfVxuICB9KTtcblxuICAkKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIHtcbiAgICBTeW1ib2w6IFN5bWJvbFdyYXBwZXJcbiAgfSk7XG59XG4iLCJ2YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIE5BVElWRV9TWU1CT0xfUkVHSVNUUlkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLXJlZ2lzdHJ5LWRldGVjdGlvbicpO1xuXG52YXIgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeScpO1xudmFyIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuLy8gYFN5bWJvbC5mb3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuZm9yXG4kKHsgdGFyZ2V0OiAnU3ltYm9sJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSB9LCB7XG4gICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKGtleSk7XG4gICAgaWYgKGhhc093bihTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5LCBzdHJpbmcpKSByZXR1cm4gU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddO1xuICAgIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKShzdHJpbmcpO1xuICAgIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnlbc3RyaW5nXSA9IHN5bWJvbDtcbiAgICBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5W3N5bWJvbF0gPSBzdHJpbmc7XG4gICAgcmV0dXJuIHN5bWJvbDtcbiAgfVxufSk7XG4iLCJ2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLWRlZmluZScpO1xuXG4vLyBgU3ltYm9sLml0ZXJhdG9yYCB3ZWxsLWtub3duIHN5bWJvbFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuaXRlcmF0b3JcbmRlZmluZVdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbiIsIi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3Mgc3BsaXQgdG8gbW9kdWxlcyBsaXN0ZWQgYmVsb3dcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuc3ltYm9sLmNvbnN0cnVjdG9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN5bWJvbC5mb3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuc3ltYm9sLmtleS1mb3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnknKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xuIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1zeW1ib2wnKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIE5BVElWRV9TWU1CT0xfUkVHSVNUUlkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLXJlZ2lzdHJ5LWRldGVjdGlvbicpO1xuXG52YXIgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXRvLXN0cmluZy1yZWdpc3RyeScpO1xuXG4vLyBgU3ltYm9sLmtleUZvcmAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5rZXlmb3JcbiQoeyB0YXJnZXQ6ICdTeW1ib2wnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MX1JFR0lTVFJZIH0sIHtcbiAga2V5Rm9yOiBmdW5jdGlvbiBrZXlGb3Ioc3ltKSB7XG4gICAgaWYgKCFpc1N5bWJvbChzeW0pKSB0aHJvdyBUeXBlRXJyb3IodHJ5VG9TdHJpbmcoc3ltKSArICcgaXMgbm90IGEgc3ltYm9sJyk7XG4gICAgaWYgKGhhc093bihTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5LCBzeW0pKSByZXR1cm4gU3ltYm9sVG9TdHJpbmdSZWdpc3RyeVtzeW1dO1xuICB9XG59KTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgRE9NSXRlcmFibGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMnKTtcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlJyk7XG52YXIgZm9yRWFjaCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1mb3ItZWFjaCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcblxudmFyIGhhbmRsZVByb3RvdHlwZSA9IGZ1bmN0aW9uIChDb2xsZWN0aW9uUHJvdG90eXBlKSB7XG4gIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZSAmJiBDb2xsZWN0aW9uUHJvdG90eXBlLmZvckVhY2ggIT09IGZvckVhY2gpIHRyeSB7XG4gICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsICdmb3JFYWNoJywgZm9yRWFjaCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgQ29sbGVjdGlvblByb3RvdHlwZS5mb3JFYWNoID0gZm9yRWFjaDtcbiAgfVxufTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICBpZiAoRE9NSXRlcmFibGVzW0NPTExFQ1RJT05fTkFNRV0pIHtcbiAgICBoYW5kbGVQcm90b3R5cGUoZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0gJiYgZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0ucHJvdG90eXBlKTtcbiAgfVxufVxuXG5oYW5kbGVQcm90b3R5cGUoRE9NVG9rZW5MaXN0UHJvdG90eXBlKTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgRE9NSXRlcmFibGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvbS1pdGVyYWJsZXMnKTtcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlJyk7XG52YXIgQXJyYXlJdGVyYXRvck1ldGhvZHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL2VzLmFycmF5Lml0ZXJhdG9yJyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciBBcnJheVZhbHVlcyA9IEFycmF5SXRlcmF0b3JNZXRob2RzLnZhbHVlcztcblxudmFyIGhhbmRsZVByb3RvdHlwZSA9IGZ1bmN0aW9uIChDb2xsZWN0aW9uUHJvdG90eXBlLCBDT0xMRUNUSU9OX05BTUUpIHtcbiAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGUpIHtcbiAgICAvLyBzb21lIENocm9tZSB2ZXJzaW9ucyBoYXZlIG5vbi1jb25maWd1cmFibGUgbWV0aG9kcyBvbiBET01Ub2tlbkxpc3RcbiAgICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZVtJVEVSQVRPUl0gIT09IEFycmF5VmFsdWVzKSB0cnkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsIElURVJBVE9SLCBBcnJheVZhbHVlcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JdID0gQXJyYXlWYWx1ZXM7XG4gICAgfVxuICAgIGlmICghQ29sbGVjdGlvblByb3RvdHlwZVtUT19TVFJJTkdfVEFHXSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KENvbGxlY3Rpb25Qcm90b3R5cGUsIFRPX1NUUklOR19UQUcsIENPTExFQ1RJT05fTkFNRSk7XG4gICAgfVxuICAgIGlmIChET01JdGVyYWJsZXNbQ09MTEVDVElPTl9OQU1FXSkgZm9yICh2YXIgTUVUSE9EX05BTUUgaW4gQXJyYXlJdGVyYXRvck1ldGhvZHMpIHtcbiAgICAgIC8vIHNvbWUgQ2hyb21lIHZlcnNpb25zIGhhdmUgbm9uLWNvbmZpZ3VyYWJsZSBtZXRob2RzIG9uIERPTVRva2VuTGlzdFxuICAgICAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdICE9PSBBcnJheUl0ZXJhdG9yTWV0aG9kc1tNRVRIT0RfTkFNRV0pIHRyeSB7XG4gICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBNRVRIT0RfTkFNRSwgQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIENvbGxlY3Rpb25Qcm90b3R5cGVbTUVUSE9EX05BTUVdID0gQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcykge1xuICBoYW5kbGVQcm90b3R5cGUoZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0gJiYgZ2xvYmFsW0NPTExFQ1RJT05fTkFNRV0ucHJvdG90eXBlLCBDT0xMRUNUSU9OX05BTUUpO1xufVxuXG5oYW5kbGVQcm90b3R5cGUoRE9NVG9rZW5MaXN0UHJvdG90eXBlLCAnRE9NVG9rZW5MaXN0Jyk7XG4iLCIndXNlIHN0cmljdCc7XG4vLyBUT0RPOiBpbiBjb3JlLWpzQDQsIG1vdmUgL21vZHVsZXMvIGRlcGVuZGVuY2llcyB0byBwdWJsaWMgZW50cmllcyBmb3IgYmV0dGVyIG9wdGltaXphdGlvbiBieSB0b29scyBsaWtlIGBwcmVzZXQtZW52YFxucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgVVNFX05BVElWRV9VUkwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdXJsLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lQnVpbHRJbkFjY2Vzc29yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbi1hY2Nlc3NvcicpO1xudmFyIGRlZmluZUJ1aWx0SW5zID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbnMnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY3JlYXRlLWNvbnN0cnVjdG9yJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4taW5zdGFuY2UnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtY29udGV4dCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyICR0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBjcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIGdldEl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvcicpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QnKTtcbnZhciB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92YWxpZGF0ZS1hcmd1bWVudHMtbGVuZ3RoJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgYXJyYXlTb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNvcnQnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIFVSTF9TRUFSQ0hfUEFSQU1TID0gJ1VSTFNlYXJjaFBhcmFtcyc7XG52YXIgVVJMX1NFQVJDSF9QQVJBTVNfSVRFUkFUT1IgPSBVUkxfU0VBUkNIX1BBUkFNUyArICdJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsUGFyYW1zU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihVUkxfU0VBUkNIX1BBUkFNUyk7XG52YXIgZ2V0SW50ZXJuYWxJdGVyYXRvclN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoVVJMX1NFQVJDSF9QQVJBTVNfSVRFUkFUT1IpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIEF2b2lkIE5vZGVKUyBleHBlcmltZW50YWwgd2FybmluZ1xudmFyIHNhZmVHZXRCdWlsdEluID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKCFERVNDUklQVE9SUykgcmV0dXJuIGdsb2JhbFtuYW1lXTtcbiAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsLCBuYW1lKTtcbiAgcmV0dXJuIGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci52YWx1ZTtcbn07XG5cbnZhciBuYXRpdmVGZXRjaCA9IHNhZmVHZXRCdWlsdEluKCdmZXRjaCcpO1xudmFyIE5hdGl2ZVJlcXVlc3QgPSBzYWZlR2V0QnVpbHRJbignUmVxdWVzdCcpO1xudmFyIEhlYWRlcnMgPSBzYWZlR2V0QnVpbHRJbignSGVhZGVycycpO1xudmFyIFJlcXVlc3RQcm90b3R5cGUgPSBOYXRpdmVSZXF1ZXN0ICYmIE5hdGl2ZVJlcXVlc3QucHJvdG90eXBlO1xudmFyIEhlYWRlcnNQcm90b3R5cGUgPSBIZWFkZXJzICYmIEhlYWRlcnMucHJvdG90eXBlO1xudmFyIFJlZ0V4cCA9IGdsb2JhbC5SZWdFeHA7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBkZWNvZGVVUklDb21wb25lbnQgPSBnbG9iYWwuZGVjb2RlVVJJQ29tcG9uZW50O1xudmFyIGVuY29kZVVSSUNvbXBvbmVudCA9IGdsb2JhbC5lbmNvZGVVUklDb21wb25lbnQ7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBqb2luID0gdW5jdXJyeVRoaXMoW10uam9pbik7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBzaGlmdCA9IHVuY3VycnlUaGlzKFtdLnNoaWZ0KTtcbnZhciBzcGxpY2UgPSB1bmN1cnJ5VGhpcyhbXS5zcGxpY2UpO1xudmFyIHNwbGl0ID0gdW5jdXJyeVRoaXMoJycuc3BsaXQpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgcGx1cyA9IC9cXCsvZztcbnZhciBzZXF1ZW5jZXMgPSBBcnJheSg0KTtcblxudmFyIHBlcmNlbnRTZXF1ZW5jZSA9IGZ1bmN0aW9uIChieXRlcykge1xuICByZXR1cm4gc2VxdWVuY2VzW2J5dGVzIC0gMV0gfHwgKHNlcXVlbmNlc1tieXRlcyAtIDFdID0gUmVnRXhwKCcoKD86JVtcXFxcZGEtZl17Mn0peycgKyBieXRlcyArICd9KScsICdnaScpKTtcbn07XG5cbnZhciBwZXJjZW50RGVjb2RlID0gZnVuY3Rpb24gKHNlcXVlbmNlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzZXF1ZW5jZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHNlcXVlbmNlO1xuICB9XG59O1xuXG52YXIgZGVzZXJpYWxpemUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IHJlcGxhY2UoaXQsIHBsdXMsICcgJyk7XG4gIHZhciBieXRlcyA9IDQ7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHdoaWxlIChieXRlcykge1xuICAgICAgcmVzdWx0ID0gcmVwbGFjZShyZXN1bHQsIHBlcmNlbnRTZXF1ZW5jZShieXRlcy0tKSwgcGVyY2VudERlY29kZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5cbnZhciBmaW5kID0gL1shJygpfl18JTIwL2c7XG5cbnZhciByZXBsYWNlbWVudHMgPSB7XG4gICchJzogJyUyMScsXG4gIFwiJ1wiOiAnJTI3JyxcbiAgJygnOiAnJTI4JyxcbiAgJyknOiAnJTI5JyxcbiAgJ34nOiAnJTdFJyxcbiAgJyUyMCc6ICcrJ1xufTtcblxudmFyIHJlcGxhY2VyID0gZnVuY3Rpb24gKG1hdGNoKSB7XG4gIHJldHVybiByZXBsYWNlbWVudHNbbWF0Y2hdO1xufTtcblxudmFyIHNlcmlhbGl6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gcmVwbGFjZShlbmNvZGVVUklDb21wb25lbnQoaXQpLCBmaW5kLCByZXBsYWNlcik7XG59O1xuXG52YXIgVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IgPSBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKGZ1bmN0aW9uIEl0ZXJhdG9yKHBhcmFtcywga2luZCkge1xuICBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIHtcbiAgICB0eXBlOiBVUkxfU0VBUkNIX1BBUkFNU19JVEVSQVRPUixcbiAgICBpdGVyYXRvcjogZ2V0SXRlcmF0b3IoZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZShwYXJhbXMpLmVudHJpZXMpLFxuICAgIGtpbmQ6IGtpbmRcbiAgfSk7XG59LCAnSXRlcmF0b3InLCBmdW5jdGlvbiBuZXh0KCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUodGhpcyk7XG4gIHZhciBraW5kID0gc3RhdGUua2luZDtcbiAgdmFyIHN0ZXAgPSBzdGF0ZS5pdGVyYXRvci5uZXh0KCk7XG4gIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gIGlmICghc3RlcC5kb25lKSB7XG4gICAgc3RlcC52YWx1ZSA9IGtpbmQgPT09ICdrZXlzJyA/IGVudHJ5LmtleSA6IGtpbmQgPT09ICd2YWx1ZXMnID8gZW50cnkudmFsdWUgOiBbZW50cnkua2V5LCBlbnRyeS52YWx1ZV07XG4gIH0gcmV0dXJuIHN0ZXA7XG59LCB0cnVlKTtcblxudmFyIFVSTFNlYXJjaFBhcmFtc1N0YXRlID0gZnVuY3Rpb24gKGluaXQpIHtcbiAgdGhpcy5lbnRyaWVzID0gW107XG4gIHRoaXMudXJsID0gbnVsbDtcblxuICBpZiAoaW5pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzT2JqZWN0KGluaXQpKSB0aGlzLnBhcnNlT2JqZWN0KGluaXQpO1xuICAgIGVsc2UgdGhpcy5wYXJzZVF1ZXJ5KHR5cGVvZiBpbml0ID09ICdzdHJpbmcnID8gY2hhckF0KGluaXQsIDApID09PSAnPycgPyBzdHJpbmdTbGljZShpbml0LCAxKSA6IGluaXQgOiAkdG9TdHJpbmcoaW5pdCkpO1xuICB9XG59O1xuXG5VUkxTZWFyY2hQYXJhbXNTdGF0ZS5wcm90b3R5cGUgPSB7XG4gIHR5cGU6IFVSTF9TRUFSQ0hfUEFSQU1TLFxuICBiaW5kVVJMOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfSxcbiAgcGFyc2VPYmplY3Q6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZChvYmplY3QpO1xuICAgIHZhciBpdGVyYXRvciwgbmV4dCwgc3RlcCwgZW50cnlJdGVyYXRvciwgZW50cnlOZXh0LCBmaXJzdCwgc2Vjb25kO1xuXG4gICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICBpdGVyYXRvciA9IGdldEl0ZXJhdG9yKG9iamVjdCwgaXRlcmF0b3JNZXRob2QpO1xuICAgICAgbmV4dCA9IGl0ZXJhdG9yLm5leHQ7XG4gICAgICB3aGlsZSAoIShzdGVwID0gY2FsbChuZXh0LCBpdGVyYXRvcikpLmRvbmUpIHtcbiAgICAgICAgZW50cnlJdGVyYXRvciA9IGdldEl0ZXJhdG9yKGFuT2JqZWN0KHN0ZXAudmFsdWUpKTtcbiAgICAgICAgZW50cnlOZXh0ID0gZW50cnlJdGVyYXRvci5uZXh0O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGZpcnN0ID0gY2FsbChlbnRyeU5leHQsIGVudHJ5SXRlcmF0b3IpKS5kb25lIHx8XG4gICAgICAgICAgKHNlY29uZCA9IGNhbGwoZW50cnlOZXh0LCBlbnRyeUl0ZXJhdG9yKSkuZG9uZSB8fFxuICAgICAgICAgICFjYWxsKGVudHJ5TmV4dCwgZW50cnlJdGVyYXRvcikuZG9uZVxuICAgICAgICApIHRocm93IFR5cGVFcnJvcignRXhwZWN0ZWQgc2VxdWVuY2Ugd2l0aCBsZW5ndGggMicpO1xuICAgICAgICBwdXNoKHRoaXMuZW50cmllcywgeyBrZXk6ICR0b1N0cmluZyhmaXJzdC52YWx1ZSksIHZhbHVlOiAkdG9TdHJpbmcoc2Vjb25kLnZhbHVlKSB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgZm9yICh2YXIga2V5IGluIG9iamVjdCkgaWYgKGhhc093bihvYmplY3QsIGtleSkpIHtcbiAgICAgIHB1c2godGhpcy5lbnRyaWVzLCB7IGtleToga2V5LCB2YWx1ZTogJHRvU3RyaW5nKG9iamVjdFtrZXldKSB9KTtcbiAgICB9XG4gIH0sXG4gIHBhcnNlUXVlcnk6IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgIGlmIChxdWVyeSkge1xuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzcGxpdChxdWVyeSwgJyYnKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgYXR0cmlidXRlLCBlbnRyeTtcbiAgICAgIHdoaWxlIChpbmRleCA8IGF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICAgIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaW5kZXgrK107XG4gICAgICAgIGlmIChhdHRyaWJ1dGUubGVuZ3RoKSB7XG4gICAgICAgICAgZW50cnkgPSBzcGxpdChhdHRyaWJ1dGUsICc9Jyk7XG4gICAgICAgICAgcHVzaCh0aGlzLmVudHJpZXMsIHtcbiAgICAgICAgICAgIGtleTogZGVzZXJpYWxpemUoc2hpZnQoZW50cnkpKSxcbiAgICAgICAgICAgIHZhbHVlOiBkZXNlcmlhbGl6ZShqb2luKGVudHJ5LCAnPScpKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXJpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgZW50cnk7XG4gICAgd2hpbGUgKGluZGV4IDwgZW50cmllcy5sZW5ndGgpIHtcbiAgICAgIGVudHJ5ID0gZW50cmllc1tpbmRleCsrXTtcbiAgICAgIHB1c2gocmVzdWx0LCBzZXJpYWxpemUoZW50cnkua2V5KSArICc9JyArIHNlcmlhbGl6ZShlbnRyeS52YWx1ZSkpO1xuICAgIH0gcmV0dXJuIGpvaW4ocmVzdWx0LCAnJicpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVudHJpZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnBhcnNlUXVlcnkodGhpcy51cmwucXVlcnkpO1xuICB9LFxuICB1cGRhdGVVUkw6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy51cmwpIHRoaXMudXJsLnVwZGF0ZSgpO1xuICB9XG59O1xuXG4vLyBgVVJMU2VhcmNoUGFyYW1zYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNpbnRlcmZhY2UtdXJsc2VhcmNocGFyYW1zXG52YXIgVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IgPSBmdW5jdGlvbiBVUkxTZWFyY2hQYXJhbXMoLyogaW5pdCAqLykge1xuICBhbkluc3RhbmNlKHRoaXMsIFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZSk7XG4gIHZhciBpbml0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQ7XG4gIHZhciBzdGF0ZSA9IHNldEludGVybmFsU3RhdGUodGhpcywgbmV3IFVSTFNlYXJjaFBhcmFtc1N0YXRlKGluaXQpKTtcbiAgaWYgKCFERVNDUklQVE9SUykgdGhpcy5sZW5ndGggPSBzdGF0ZS5lbnRyaWVzLmxlbmd0aDtcbn07XG5cbnZhciBVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUgPSBVUkxTZWFyY2hQYXJhbXNDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbmRlZmluZUJ1aWx0SW5zKFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZSwge1xuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5hcHBlbmRgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtYXBwZW5kXG4gIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMik7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKTtcbiAgICBwdXNoKHN0YXRlLmVudHJpZXMsIHsga2V5OiAkdG9TdHJpbmcobmFtZSksIHZhbHVlOiAkdG9TdHJpbmcodmFsdWUpIH0pO1xuICAgIGlmICghREVTQ1JJUFRPUlMpIHRoaXMubGVuZ3RoKys7XG4gICAgc3RhdGUudXBkYXRlVVJMKCk7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmRlbGV0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1kZWxldGVcbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMSk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKTtcbiAgICB2YXIgZW50cmllcyA9IHN0YXRlLmVudHJpZXM7XG4gICAgdmFyIGtleSA9ICR0b1N0cmluZyhuYW1lKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHdoaWxlIChpbmRleCA8IGVudHJpZXMubGVuZ3RoKSB7XG4gICAgICBpZiAoZW50cmllc1tpbmRleF0ua2V5ID09PSBrZXkpIHNwbGljZShlbnRyaWVzLCBpbmRleCwgMSk7XG4gICAgICBlbHNlIGluZGV4Kys7XG4gICAgfVxuICAgIGlmICghREVTQ1JJUFRPUlMpIHRoaXMubGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgc3RhdGUudXBkYXRlVVJMKCk7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmdldGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1nZXRcbiAgZ2V0OiBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpO1xuICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzO1xuICAgIHZhciBrZXkgPSAkdG9TdHJpbmcobmFtZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBmb3IgKDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKGVudHJpZXNbaW5kZXhdLmtleSA9PT0ga2V5KSByZXR1cm4gZW50cmllc1tpbmRleF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5nZXRBbGxgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtZ2V0YWxsXG4gIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKG5hbWUpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZW50cmllcyA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcykuZW50cmllcztcbiAgICB2YXIga2V5ID0gJHRvU3RyaW5nKG5hbWUpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGZvciAoOyBpbmRleCA8IGVudHJpZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAoZW50cmllc1tpbmRleF0ua2V5ID09PSBrZXkpIHB1c2gocmVzdWx0LCBlbnRyaWVzW2luZGV4XS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmhhc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1oYXNcbiAgaGFzOiBmdW5jdGlvbiBoYXMobmFtZSkge1xuICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpO1xuICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzO1xuICAgIHZhciBrZXkgPSAkdG9TdHJpbmcobmFtZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgaWYgKGVudHJpZXNbaW5kZXgrK10ua2V5ID09PSBrZXkpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnNldGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1zZXRcbiAgc2V0OiBmdW5jdGlvbiBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpO1xuICAgIHZhciBlbnRyaWVzID0gc3RhdGUuZW50cmllcztcbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICB2YXIga2V5ID0gJHRvU3RyaW5nKG5hbWUpO1xuICAgIHZhciB2YWwgPSAkdG9TdHJpbmcodmFsdWUpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGVudHJ5O1xuICAgIGZvciAoOyBpbmRleCA8IGVudHJpZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgaWYgKGVudHJ5LmtleSA9PT0ga2V5KSB7XG4gICAgICAgIGlmIChmb3VuZCkgc3BsaWNlKGVudHJpZXMsIGluZGV4LS0sIDEpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgZW50cnkudmFsdWUgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmb3VuZCkgcHVzaChlbnRyaWVzLCB7IGtleToga2V5LCB2YWx1ZTogdmFsIH0pO1xuICAgIGlmICghREVTQ1JJUFRPUlMpIHRoaXMubGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgc3RhdGUudXBkYXRlVVJMKCk7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnNvcnRgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtc29ydFxuICBzb3J0OiBmdW5jdGlvbiBzb3J0KCkge1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcyk7XG4gICAgYXJyYXlTb3J0KHN0YXRlLmVudHJpZXMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5rZXkgPiBiLmtleSA/IDEgOiAtMTtcbiAgICB9KTtcbiAgICBzdGF0ZS51cGRhdGVVUkwoKTtcbiAgfSxcbiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2sgLyogLCB0aGlzQXJnICovKSB7XG4gICAgdmFyIGVudHJpZXMgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpLmVudHJpZXM7XG4gICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kKGNhbGxiYWNrLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgZW50cnk7XG4gICAgd2hpbGUgKGluZGV4IDwgZW50cmllcy5sZW5ndGgpIHtcbiAgICAgIGVudHJ5ID0gZW50cmllc1tpbmRleCsrXTtcbiAgICAgIGJvdW5kRnVuY3Rpb24oZW50cnkudmFsdWUsIGVudHJ5LmtleSwgdGhpcyk7XG4gICAgfVxuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5rZXlzYCBtZXRob2RcbiAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yKHRoaXMsICdrZXlzJyk7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4gIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKCkge1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IodGhpcywgJ3ZhbHVlcycpO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2RcbiAgZW50cmllczogZnVuY3Rpb24gZW50cmllcygpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yKHRoaXMsICdlbnRyaWVzJyk7XG4gIH1cbn0sIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuZGVmaW5lQnVpbHRJbihVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUsIElURVJBVE9SLCBVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUuZW50cmllcywgeyBuYW1lOiAnZW50cmllcycgfSk7XG5cbi8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2Rcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsc2VhcmNocGFyYW1zLXN0cmluZ2lmaWNhdGlvbi1iZWhhdmlvclxuZGVmaW5lQnVpbHRJbihVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5zZXJpYWxpemUoKTtcbn0sIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuc2l6ZWAgZ2V0dGVyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL3VybC9wdWxsLzczNFxuaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiBzaXplKCkge1xuICAgIHJldHVybiBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpLmVudHJpZXMubGVuZ3RoO1xuICB9LFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGVudW1lcmFibGU6IHRydWVcbn0pO1xuXG5zZXRUb1N0cmluZ1RhZyhVUkxTZWFyY2hQYXJhbXNDb25zdHJ1Y3RvciwgVVJMX1NFQVJDSF9QQVJBTVMpO1xuXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgZm9yY2VkOiAhVVNFX05BVElWRV9VUkwgfSwge1xuICBVUkxTZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtc0NvbnN0cnVjdG9yXG59KTtcblxuLy8gV3JhcCBgZmV0Y2hgIGFuZCBgUmVxdWVzdGAgZm9yIGNvcnJlY3Qgd29yayB3aXRoIHBvbHlmaWxsZWQgYFVSTFNlYXJjaFBhcmFtc2BcbmlmICghVVNFX05BVElWRV9VUkwgJiYgaXNDYWxsYWJsZShIZWFkZXJzKSkge1xuICB2YXIgaGVhZGVyc0hhcyA9IHVuY3VycnlUaGlzKEhlYWRlcnNQcm90b3R5cGUuaGFzKTtcbiAgdmFyIGhlYWRlcnNTZXQgPSB1bmN1cnJ5VGhpcyhIZWFkZXJzUHJvdG90eXBlLnNldCk7XG5cbiAgdmFyIHdyYXBSZXF1ZXN0T3B0aW9ucyA9IGZ1bmN0aW9uIChpbml0KSB7XG4gICAgaWYgKGlzT2JqZWN0KGluaXQpKSB7XG4gICAgICB2YXIgYm9keSA9IGluaXQuYm9keTtcbiAgICAgIHZhciBoZWFkZXJzO1xuICAgICAgaWYgKGNsYXNzb2YoYm9keSkgPT09IFVSTF9TRUFSQ0hfUEFSQU1TKSB7XG4gICAgICAgIGhlYWRlcnMgPSBpbml0LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhpbml0LmhlYWRlcnMpIDogbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgaWYgKCFoZWFkZXJzSGFzKGhlYWRlcnMsICdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICAgIGhlYWRlcnNTZXQoaGVhZGVycywgJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjcmVhdGUoaW5pdCwge1xuICAgICAgICAgIGJvZHk6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCAkdG9TdHJpbmcoYm9keSkpLFxuICAgICAgICAgIGhlYWRlcnM6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCBoZWFkZXJzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IHJldHVybiBpbml0O1xuICB9O1xuXG4gIGlmIChpc0NhbGxhYmxlKG5hdGl2ZUZldGNoKSkge1xuICAgICQoeyBnbG9iYWw6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGRvbnRDYWxsR2V0U2V0OiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgICAgZmV0Y2g6IGZ1bmN0aW9uIGZldGNoKGlucHV0IC8qICwgaW5pdCAqLykge1xuICAgICAgICByZXR1cm4gbmF0aXZlRmV0Y2goaW5wdXQsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gd3JhcFJlcXVlc3RPcHRpb25zKGFyZ3VtZW50c1sxXSkgOiB7fSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNDYWxsYWJsZShOYXRpdmVSZXF1ZXN0KSkge1xuICAgIHZhciBSZXF1ZXN0Q29uc3RydWN0b3IgPSBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0IC8qICwgaW5pdCAqLykge1xuICAgICAgYW5JbnN0YW5jZSh0aGlzLCBSZXF1ZXN0UHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBuZXcgTmF0aXZlUmVxdWVzdChpbnB1dCwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyB3cmFwUmVxdWVzdE9wdGlvbnMoYXJndW1lbnRzWzFdKSA6IHt9KTtcbiAgICB9O1xuXG4gICAgUmVxdWVzdFByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlcXVlc3RDb25zdHJ1Y3RvcjtcbiAgICBSZXF1ZXN0Q29uc3RydWN0b3IucHJvdG90eXBlID0gUmVxdWVzdFByb3RvdHlwZTtcblxuICAgICQoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCBkb250Q2FsbEdldFNldDogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIHtcbiAgICAgIFJlcXVlc3Q6IFJlcXVlc3RDb25zdHJ1Y3RvclxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBVUkxTZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtc0NvbnN0cnVjdG9yLFxuICBnZXRTdGF0ZTogZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZVxufTtcbiIsIi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3MgcmVwbGFjZWQgdG8gbW9kdWxlIGJlbG93XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5jb25zdHJ1Y3RvcicpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gVE9ETzogaW4gY29yZS1qc0A0LCBtb3ZlIC9tb2R1bGVzLyBkZXBlbmRlbmNpZXMgdG8gcHVibGljIGVudHJpZXMgZm9yIGJldHRlciBvcHRpbWl6YXRpb24gYnkgdG9vbHMgbGlrZSBgcHJlc2V0LWVudmBcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yJyk7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIFVTRV9OQVRJVkVfVVJMID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VybC1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4tYWNjZXNzb3InKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLWluc3RhbmNlJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWFzc2lnbicpO1xudmFyIGFycmF5RnJvbSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1mcm9tJyk7XG52YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZS1zaW1wbGUnKTtcbnZhciBjb2RlQXQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZScpLmNvZGVBdDtcbnZhciB0b0FTQ0lJID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1wdW55Y29kZS10by1hc2NpaScpO1xudmFyICR0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3ZhbGlkYXRlLWFyZ3VtZW50cy1sZW5ndGgnKTtcbnZhciBVUkxTZWFyY2hQYXJhbXNNb2R1bGUgPSByZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5jb25zdHJ1Y3RvcicpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcblxudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFVSTFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoJ1VSTCcpO1xudmFyIFVSTFNlYXJjaFBhcmFtcyA9IFVSTFNlYXJjaFBhcmFtc01vZHVsZS5VUkxTZWFyY2hQYXJhbXM7XG52YXIgZ2V0SW50ZXJuYWxTZWFyY2hQYXJhbXNTdGF0ZSA9IFVSTFNlYXJjaFBhcmFtc01vZHVsZS5nZXRTdGF0ZTtcblxudmFyIE5hdGl2ZVVSTCA9IGdsb2JhbC5VUkw7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBwYXJzZUludCA9IGdsb2JhbC5wYXJzZUludDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgcG93ID0gTWF0aC5wb3c7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoLy4vLmV4ZWMpO1xudmFyIGpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcbnZhciBudW1iZXJUb1N0cmluZyA9IHVuY3VycnlUaGlzKDEuMC50b1N0cmluZyk7XG52YXIgcG9wID0gdW5jdXJyeVRoaXMoW10ucG9wKTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHNoaWZ0ID0gdW5jdXJyeVRoaXMoW10uc2hpZnQpO1xudmFyIHNwbGl0ID0gdW5jdXJyeVRoaXMoJycuc3BsaXQpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xudmFyIHRvTG93ZXJDYXNlID0gdW5jdXJyeVRoaXMoJycudG9Mb3dlckNhc2UpO1xudmFyIHVuc2hpZnQgPSB1bmN1cnJ5VGhpcyhbXS51bnNoaWZ0KTtcblxudmFyIElOVkFMSURfQVVUSE9SSVRZID0gJ0ludmFsaWQgYXV0aG9yaXR5JztcbnZhciBJTlZBTElEX1NDSEVNRSA9ICdJbnZhbGlkIHNjaGVtZSc7XG52YXIgSU5WQUxJRF9IT1NUID0gJ0ludmFsaWQgaG9zdCc7XG52YXIgSU5WQUxJRF9QT1JUID0gJ0ludmFsaWQgcG9ydCc7XG5cbnZhciBBTFBIQSA9IC9bYS16XS9pO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZ2V4cC9uby1vYnNjdXJlLXJhbmdlIC0tIHNhZmVcbnZhciBBTFBIQU5VTUVSSUMgPSAvW1xcZCstLmEtel0vaTtcbnZhciBESUdJVCA9IC9cXGQvO1xudmFyIEhFWF9TVEFSVCA9IC9eMHgvaTtcbnZhciBPQ1QgPSAvXlswLTddKyQvO1xudmFyIERFQyA9IC9eXFxkKyQvO1xudmFyIEhFWCA9IC9eW1xcZGEtZl0rJC9pO1xuLyogZXNsaW50LWRpc2FibGUgcmVnZXhwL25vLWNvbnRyb2wtY2hhcmFjdGVyIC0tIHNhZmUgKi9cbnZhciBGT1JCSURERU5fSE9TVF9DT0RFX1BPSU5UID0gL1tcXDBcXHRcXG5cXHIgIyUvOjw+P0BbXFxcXFxcXV58XS87XG52YXIgRk9SQklEREVOX0hPU1RfQ09ERV9QT0lOVF9FWENMVURJTkdfUEVSQ0VOVCA9IC9bXFwwXFx0XFxuXFxyICMvOjw+P0BbXFxcXFxcXV58XS87XG52YXIgTEVBRElOR19DMF9DT05UUk9MX09SX1NQQUNFID0gL15bXFx1MDAwMC1cXHUwMDIwXSsvO1xudmFyIFRSQUlMSU5HX0MwX0NPTlRST0xfT1JfU1BBQ0UgPSAvKF58W15cXHUwMDAwLVxcdTAwMjBdKVtcXHUwMDAwLVxcdTAwMjBdKyQvO1xudmFyIFRBQl9BTkRfTkVXX0xJTkUgPSAvW1xcdFxcblxccl0vZztcbi8qIGVzbGludC1lbmFibGUgcmVnZXhwL25vLWNvbnRyb2wtY2hhcmFjdGVyIC0tIHNhZmUgKi9cbnZhciBFT0Y7XG5cbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaXB2NC1udW1iZXItcGFyc2VyXG52YXIgcGFyc2VJUHY0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gIHZhciBwYXJ0cyA9IHNwbGl0KGlucHV0LCAnLicpO1xuICB2YXIgcGFydHNMZW5ndGgsIG51bWJlcnMsIGluZGV4LCBwYXJ0LCByYWRpeCwgbnVtYmVyLCBpcHY0O1xuICBpZiAocGFydHMubGVuZ3RoICYmIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdID09ICcnKSB7XG4gICAgcGFydHMubGVuZ3RoLS07XG4gIH1cbiAgcGFydHNMZW5ndGggPSBwYXJ0cy5sZW5ndGg7XG4gIGlmIChwYXJ0c0xlbmd0aCA+IDQpIHJldHVybiBpbnB1dDtcbiAgbnVtYmVycyA9IFtdO1xuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBwYXJ0c0xlbmd0aDsgaW5kZXgrKykge1xuICAgIHBhcnQgPSBwYXJ0c1tpbmRleF07XG4gICAgaWYgKHBhcnQgPT0gJycpIHJldHVybiBpbnB1dDtcbiAgICByYWRpeCA9IDEwO1xuICAgIGlmIChwYXJ0Lmxlbmd0aCA+IDEgJiYgY2hhckF0KHBhcnQsIDApID09ICcwJykge1xuICAgICAgcmFkaXggPSBleGVjKEhFWF9TVEFSVCwgcGFydCkgPyAxNiA6IDg7XG4gICAgICBwYXJ0ID0gc3RyaW5nU2xpY2UocGFydCwgcmFkaXggPT0gOCA/IDEgOiAyKTtcbiAgICB9XG4gICAgaWYgKHBhcnQgPT09ICcnKSB7XG4gICAgICBudW1iZXIgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWV4ZWMocmFkaXggPT0gMTAgPyBERUMgOiByYWRpeCA9PSA4ID8gT0NUIDogSEVYLCBwYXJ0KSkgcmV0dXJuIGlucHV0O1xuICAgICAgbnVtYmVyID0gcGFyc2VJbnQocGFydCwgcmFkaXgpO1xuICAgIH1cbiAgICBwdXNoKG51bWJlcnMsIG51bWJlcik7XG4gIH1cbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgcGFydHNMZW5ndGg7IGluZGV4KyspIHtcbiAgICBudW1iZXIgPSBudW1iZXJzW2luZGV4XTtcbiAgICBpZiAoaW5kZXggPT0gcGFydHNMZW5ndGggLSAxKSB7XG4gICAgICBpZiAobnVtYmVyID49IHBvdygyNTYsIDUgLSBwYXJ0c0xlbmd0aCkpIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyID4gMjU1KSByZXR1cm4gbnVsbDtcbiAgfVxuICBpcHY0ID0gcG9wKG51bWJlcnMpO1xuICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBudW1iZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGlwdjQgKz0gbnVtYmVyc1tpbmRleF0gKiBwb3coMjU2LCAzIC0gaW5kZXgpO1xuICB9XG4gIHJldHVybiBpcHY0O1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LWlwdjYtcGFyc2VyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHMgLS0gVE9ET1xudmFyIHBhcnNlSVB2NiA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICB2YXIgYWRkcmVzcyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgdmFyIHBpZWNlSW5kZXggPSAwO1xuICB2YXIgY29tcHJlc3MgPSBudWxsO1xuICB2YXIgcG9pbnRlciA9IDA7XG4gIHZhciB2YWx1ZSwgbGVuZ3RoLCBudW1iZXJzU2VlbiwgaXB2NFBpZWNlLCBudW1iZXIsIHN3YXBzLCBzd2FwO1xuXG4gIHZhciBjaHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYXJBdChpbnB1dCwgcG9pbnRlcik7XG4gIH07XG5cbiAgaWYgKGNocigpID09ICc6Jykge1xuICAgIGlmIChjaGFyQXQoaW5wdXQsIDEpICE9ICc6JykgcmV0dXJuO1xuICAgIHBvaW50ZXIgKz0gMjtcbiAgICBwaWVjZUluZGV4Kys7XG4gICAgY29tcHJlc3MgPSBwaWVjZUluZGV4O1xuICB9XG4gIHdoaWxlIChjaHIoKSkge1xuICAgIGlmIChwaWVjZUluZGV4ID09IDgpIHJldHVybjtcbiAgICBpZiAoY2hyKCkgPT0gJzonKSB7XG4gICAgICBpZiAoY29tcHJlc3MgIT09IG51bGwpIHJldHVybjtcbiAgICAgIHBvaW50ZXIrKztcbiAgICAgIHBpZWNlSW5kZXgrKztcbiAgICAgIGNvbXByZXNzID0gcGllY2VJbmRleDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YWx1ZSA9IGxlbmd0aCA9IDA7XG4gICAgd2hpbGUgKGxlbmd0aCA8IDQgJiYgZXhlYyhIRVgsIGNocigpKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZSAqIDE2ICsgcGFyc2VJbnQoY2hyKCksIDE2KTtcbiAgICAgIHBvaW50ZXIrKztcbiAgICAgIGxlbmd0aCsrO1xuICAgIH1cbiAgICBpZiAoY2hyKCkgPT0gJy4nKSB7XG4gICAgICBpZiAobGVuZ3RoID09IDApIHJldHVybjtcbiAgICAgIHBvaW50ZXIgLT0gbGVuZ3RoO1xuICAgICAgaWYgKHBpZWNlSW5kZXggPiA2KSByZXR1cm47XG4gICAgICBudW1iZXJzU2VlbiA9IDA7XG4gICAgICB3aGlsZSAoY2hyKCkpIHtcbiAgICAgICAgaXB2NFBpZWNlID0gbnVsbDtcbiAgICAgICAgaWYgKG51bWJlcnNTZWVuID4gMCkge1xuICAgICAgICAgIGlmIChjaHIoKSA9PSAnLicgJiYgbnVtYmVyc1NlZW4gPCA0KSBwb2ludGVyKys7XG4gICAgICAgICAgZWxzZSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFleGVjKERJR0lULCBjaHIoKSkpIHJldHVybjtcbiAgICAgICAgd2hpbGUgKGV4ZWMoRElHSVQsIGNocigpKSkge1xuICAgICAgICAgIG51bWJlciA9IHBhcnNlSW50KGNocigpLCAxMCk7XG4gICAgICAgICAgaWYgKGlwdjRQaWVjZSA9PT0gbnVsbCkgaXB2NFBpZWNlID0gbnVtYmVyO1xuICAgICAgICAgIGVsc2UgaWYgKGlwdjRQaWVjZSA9PSAwKSByZXR1cm47XG4gICAgICAgICAgZWxzZSBpcHY0UGllY2UgPSBpcHY0UGllY2UgKiAxMCArIG51bWJlcjtcbiAgICAgICAgICBpZiAoaXB2NFBpZWNlID4gMjU1KSByZXR1cm47XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGFkZHJlc3NbcGllY2VJbmRleF0gPSBhZGRyZXNzW3BpZWNlSW5kZXhdICogMjU2ICsgaXB2NFBpZWNlO1xuICAgICAgICBudW1iZXJzU2VlbisrO1xuICAgICAgICBpZiAobnVtYmVyc1NlZW4gPT0gMiB8fCBudW1iZXJzU2VlbiA9PSA0KSBwaWVjZUluZGV4Kys7XG4gICAgICB9XG4gICAgICBpZiAobnVtYmVyc1NlZW4gIT0gNCkgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChjaHIoKSA9PSAnOicpIHtcbiAgICAgIHBvaW50ZXIrKztcbiAgICAgIGlmICghY2hyKCkpIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNocigpKSByZXR1cm47XG4gICAgYWRkcmVzc1twaWVjZUluZGV4KytdID0gdmFsdWU7XG4gIH1cbiAgaWYgKGNvbXByZXNzICE9PSBudWxsKSB7XG4gICAgc3dhcHMgPSBwaWVjZUluZGV4IC0gY29tcHJlc3M7XG4gICAgcGllY2VJbmRleCA9IDc7XG4gICAgd2hpbGUgKHBpZWNlSW5kZXggIT0gMCAmJiBzd2FwcyA+IDApIHtcbiAgICAgIHN3YXAgPSBhZGRyZXNzW3BpZWNlSW5kZXhdO1xuICAgICAgYWRkcmVzc1twaWVjZUluZGV4LS1dID0gYWRkcmVzc1tjb21wcmVzcyArIHN3YXBzIC0gMV07XG4gICAgICBhZGRyZXNzW2NvbXByZXNzICsgLS1zd2Fwc10gPSBzd2FwO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwaWVjZUluZGV4ICE9IDgpIHJldHVybjtcbiAgcmV0dXJuIGFkZHJlc3M7XG59O1xuXG52YXIgZmluZExvbmdlc3RaZXJvU2VxdWVuY2UgPSBmdW5jdGlvbiAoaXB2Nikge1xuICB2YXIgbWF4SW5kZXggPSBudWxsO1xuICB2YXIgbWF4TGVuZ3RoID0gMTtcbiAgdmFyIGN1cnJTdGFydCA9IG51bGw7XG4gIHZhciBjdXJyTGVuZ3RoID0gMDtcbiAgdmFyIGluZGV4ID0gMDtcbiAgZm9yICg7IGluZGV4IDwgODsgaW5kZXgrKykge1xuICAgIGlmIChpcHY2W2luZGV4XSAhPT0gMCkge1xuICAgICAgaWYgKGN1cnJMZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgbWF4SW5kZXggPSBjdXJyU3RhcnQ7XG4gICAgICAgIG1heExlbmd0aCA9IGN1cnJMZW5ndGg7XG4gICAgICB9XG4gICAgICBjdXJyU3RhcnQgPSBudWxsO1xuICAgICAgY3Vyckxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChjdXJyU3RhcnQgPT09IG51bGwpIGN1cnJTdGFydCA9IGluZGV4O1xuICAgICAgKytjdXJyTGVuZ3RoO1xuICAgIH1cbiAgfVxuICBpZiAoY3Vyckxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgIG1heEluZGV4ID0gY3VyclN0YXJ0O1xuICAgIG1heExlbmd0aCA9IGN1cnJMZW5ndGg7XG4gIH1cbiAgcmV0dXJuIG1heEluZGV4O1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNob3N0LXNlcmlhbGl6aW5nXG52YXIgc2VyaWFsaXplSG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gIHZhciByZXN1bHQsIGluZGV4LCBjb21wcmVzcywgaWdub3JlMDtcbiAgLy8gaXB2NFxuICBpZiAodHlwZW9mIGhvc3QgPT0gJ251bWJlcicpIHtcbiAgICByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCA0OyBpbmRleCsrKSB7XG4gICAgICB1bnNoaWZ0KHJlc3VsdCwgaG9zdCAlIDI1Nik7XG4gICAgICBob3N0ID0gZmxvb3IoaG9zdCAvIDI1Nik7XG4gICAgfSByZXR1cm4gam9pbihyZXN1bHQsICcuJyk7XG4gIC8vIGlwdjZcbiAgfSBlbHNlIGlmICh0eXBlb2YgaG9zdCA9PSAnb2JqZWN0Jykge1xuICAgIHJlc3VsdCA9ICcnO1xuICAgIGNvbXByZXNzID0gZmluZExvbmdlc3RaZXJvU2VxdWVuY2UoaG9zdCk7XG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgODsgaW5kZXgrKykge1xuICAgICAgaWYgKGlnbm9yZTAgJiYgaG9zdFtpbmRleF0gPT09IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKGlnbm9yZTApIGlnbm9yZTAgPSBmYWxzZTtcbiAgICAgIGlmIChjb21wcmVzcyA9PT0gaW5kZXgpIHtcbiAgICAgICAgcmVzdWx0ICs9IGluZGV4ID8gJzonIDogJzo6JztcbiAgICAgICAgaWdub3JlMCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gbnVtYmVyVG9TdHJpbmcoaG9zdFtpbmRleF0sIDE2KTtcbiAgICAgICAgaWYgKGluZGV4IDwgNykgcmVzdWx0ICs9ICc6JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICdbJyArIHJlc3VsdCArICddJztcbiAgfSByZXR1cm4gaG9zdDtcbn07XG5cbnZhciBDMENvbnRyb2xQZXJjZW50RW5jb2RlU2V0ID0ge307XG52YXIgZnJhZ21lbnRQZXJjZW50RW5jb2RlU2V0ID0gYXNzaWduKHt9LCBDMENvbnRyb2xQZXJjZW50RW5jb2RlU2V0LCB7XG4gICcgJzogMSwgJ1wiJzogMSwgJzwnOiAxLCAnPic6IDEsICdgJzogMVxufSk7XG52YXIgcGF0aFBlcmNlbnRFbmNvZGVTZXQgPSBhc3NpZ24oe30sIGZyYWdtZW50UGVyY2VudEVuY29kZVNldCwge1xuICAnIyc6IDEsICc/JzogMSwgJ3snOiAxLCAnfSc6IDFcbn0pO1xudmFyIHVzZXJpbmZvUGVyY2VudEVuY29kZVNldCA9IGFzc2lnbih7fSwgcGF0aFBlcmNlbnRFbmNvZGVTZXQsIHtcbiAgJy8nOiAxLCAnOic6IDEsICc7JzogMSwgJz0nOiAxLCAnQCc6IDEsICdbJzogMSwgJ1xcXFwnOiAxLCAnXSc6IDEsICdeJzogMSwgJ3wnOiAxXG59KTtcblxudmFyIHBlcmNlbnRFbmNvZGUgPSBmdW5jdGlvbiAoY2hyLCBzZXQpIHtcbiAgdmFyIGNvZGUgPSBjb2RlQXQoY2hyLCAwKTtcbiAgcmV0dXJuIGNvZGUgPiAweDIwICYmIGNvZGUgPCAweDdGICYmICFoYXNPd24oc2V0LCBjaHIpID8gY2hyIDogZW5jb2RlVVJJQ29tcG9uZW50KGNocik7XG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3NwZWNpYWwtc2NoZW1lXG52YXIgc3BlY2lhbFNjaGVtZXMgPSB7XG4gIGZ0cDogMjEsXG4gIGZpbGU6IG51bGwsXG4gIGh0dHA6IDgwLFxuICBodHRwczogNDQzLFxuICB3czogODAsXG4gIHdzczogNDQzXG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3dpbmRvd3MtZHJpdmUtbGV0dGVyXG52YXIgaXNXaW5kb3dzRHJpdmVMZXR0ZXIgPSBmdW5jdGlvbiAoc3RyaW5nLCBub3JtYWxpemVkKSB7XG4gIHZhciBzZWNvbmQ7XG4gIHJldHVybiBzdHJpbmcubGVuZ3RoID09IDIgJiYgZXhlYyhBTFBIQSwgY2hhckF0KHN0cmluZywgMCkpXG4gICAgJiYgKChzZWNvbmQgPSBjaGFyQXQoc3RyaW5nLCAxKSkgPT0gJzonIHx8ICghbm9ybWFsaXplZCAmJiBzZWNvbmQgPT0gJ3wnKSk7XG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3N0YXJ0LXdpdGgtYS13aW5kb3dzLWRyaXZlLWxldHRlclxudmFyIHN0YXJ0c1dpdGhXaW5kb3dzRHJpdmVMZXR0ZXIgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHZhciB0aGlyZDtcbiAgcmV0dXJuIHN0cmluZy5sZW5ndGggPiAxICYmIGlzV2luZG93c0RyaXZlTGV0dGVyKHN0cmluZ1NsaWNlKHN0cmluZywgMCwgMikpICYmIChcbiAgICBzdHJpbmcubGVuZ3RoID09IDIgfHxcbiAgICAoKHRoaXJkID0gY2hhckF0KHN0cmluZywgMikpID09PSAnLycgfHwgdGhpcmQgPT09ICdcXFxcJyB8fCB0aGlyZCA9PT0gJz8nIHx8IHRoaXJkID09PSAnIycpXG4gICk7XG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3NpbmdsZS1kb3QtcGF0aC1zZWdtZW50XG52YXIgaXNTaW5nbGVEb3QgPSBmdW5jdGlvbiAoc2VnbWVudCkge1xuICByZXR1cm4gc2VnbWVudCA9PT0gJy4nIHx8IHRvTG93ZXJDYXNlKHNlZ21lbnQpID09PSAnJTJlJztcbn07XG5cbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG91YmxlLWRvdC1wYXRoLXNlZ21lbnRcbnZhciBpc0RvdWJsZURvdCA9IGZ1bmN0aW9uIChzZWdtZW50KSB7XG4gIHNlZ21lbnQgPSB0b0xvd2VyQ2FzZShzZWdtZW50KTtcbiAgcmV0dXJuIHNlZ21lbnQgPT09ICcuLicgfHwgc2VnbWVudCA9PT0gJyUyZS4nIHx8IHNlZ21lbnQgPT09ICcuJTJlJyB8fCBzZWdtZW50ID09PSAnJTJlJTJlJztcbn07XG5cbi8vIFN0YXRlczpcbnZhciBTQ0hFTUVfU1RBUlQgPSB7fTtcbnZhciBTQ0hFTUUgPSB7fTtcbnZhciBOT19TQ0hFTUUgPSB7fTtcbnZhciBTUEVDSUFMX1JFTEFUSVZFX09SX0FVVEhPUklUWSA9IHt9O1xudmFyIFBBVEhfT1JfQVVUSE9SSVRZID0ge307XG52YXIgUkVMQVRJVkUgPSB7fTtcbnZhciBSRUxBVElWRV9TTEFTSCA9IHt9O1xudmFyIFNQRUNJQUxfQVVUSE9SSVRZX1NMQVNIRVMgPSB7fTtcbnZhciBTUEVDSUFMX0FVVEhPUklUWV9JR05PUkVfU0xBU0hFUyA9IHt9O1xudmFyIEFVVEhPUklUWSA9IHt9O1xudmFyIEhPU1QgPSB7fTtcbnZhciBIT1NUTkFNRSA9IHt9O1xudmFyIFBPUlQgPSB7fTtcbnZhciBGSUxFID0ge307XG52YXIgRklMRV9TTEFTSCA9IHt9O1xudmFyIEZJTEVfSE9TVCA9IHt9O1xudmFyIFBBVEhfU1RBUlQgPSB7fTtcbnZhciBQQVRIID0ge307XG52YXIgQ0FOTk9UX0JFX0FfQkFTRV9VUkxfUEFUSCA9IHt9O1xudmFyIFFVRVJZID0ge307XG52YXIgRlJBR01FTlQgPSB7fTtcblxudmFyIFVSTFN0YXRlID0gZnVuY3Rpb24gKHVybCwgaXNCYXNlLCBiYXNlKSB7XG4gIHZhciB1cmxTdHJpbmcgPSAkdG9TdHJpbmcodXJsKTtcbiAgdmFyIGJhc2VTdGF0ZSwgZmFpbHVyZSwgc2VhcmNoUGFyYW1zO1xuICBpZiAoaXNCYXNlKSB7XG4gICAgZmFpbHVyZSA9IHRoaXMucGFyc2UodXJsU3RyaW5nKTtcbiAgICBpZiAoZmFpbHVyZSkgdGhyb3cgVHlwZUVycm9yKGZhaWx1cmUpO1xuICAgIHRoaXMuc2VhcmNoUGFyYW1zID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSBiYXNlU3RhdGUgPSBuZXcgVVJMU3RhdGUoYmFzZSwgdHJ1ZSk7XG4gICAgZmFpbHVyZSA9IHRoaXMucGFyc2UodXJsU3RyaW5nLCBudWxsLCBiYXNlU3RhdGUpO1xuICAgIGlmIChmYWlsdXJlKSB0aHJvdyBUeXBlRXJyb3IoZmFpbHVyZSk7XG4gICAgc2VhcmNoUGFyYW1zID0gZ2V0SW50ZXJuYWxTZWFyY2hQYXJhbXNTdGF0ZShuZXcgVVJMU2VhcmNoUGFyYW1zKCkpO1xuICAgIHNlYXJjaFBhcmFtcy5iaW5kVVJMKHRoaXMpO1xuICAgIHRoaXMuc2VhcmNoUGFyYW1zID0gc2VhcmNoUGFyYW1zO1xuICB9XG59O1xuXG5VUkxTdGF0ZS5wcm90b3R5cGUgPSB7XG4gIHR5cGU6ICdVUkwnLFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybC1wYXJzaW5nXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50cyAtLSBUT0RPXG4gIHBhcnNlOiBmdW5jdGlvbiAoaW5wdXQsIHN0YXRlT3ZlcnJpZGUsIGJhc2UpIHtcbiAgICB2YXIgdXJsID0gdGhpcztcbiAgICB2YXIgc3RhdGUgPSBzdGF0ZU92ZXJyaWRlIHx8IFNDSEVNRV9TVEFSVDtcbiAgICB2YXIgcG9pbnRlciA9IDA7XG4gICAgdmFyIGJ1ZmZlciA9ICcnO1xuICAgIHZhciBzZWVuQXQgPSBmYWxzZTtcbiAgICB2YXIgc2VlbkJyYWNrZXQgPSBmYWxzZTtcbiAgICB2YXIgc2VlblBhc3N3b3JkVG9rZW4gPSBmYWxzZTtcbiAgICB2YXIgY29kZVBvaW50cywgY2hyLCBidWZmZXJDb2RlUG9pbnRzLCBmYWlsdXJlO1xuXG4gICAgaW5wdXQgPSAkdG9TdHJpbmcoaW5wdXQpO1xuXG4gICAgaWYgKCFzdGF0ZU92ZXJyaWRlKSB7XG4gICAgICB1cmwuc2NoZW1lID0gJyc7XG4gICAgICB1cmwudXNlcm5hbWUgPSAnJztcbiAgICAgIHVybC5wYXNzd29yZCA9ICcnO1xuICAgICAgdXJsLmhvc3QgPSBudWxsO1xuICAgICAgdXJsLnBvcnQgPSBudWxsO1xuICAgICAgdXJsLnBhdGggPSBbXTtcbiAgICAgIHVybC5xdWVyeSA9IG51bGw7XG4gICAgICB1cmwuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgdXJsLmNhbm5vdEJlQUJhc2VVUkwgPSBmYWxzZTtcbiAgICAgIGlucHV0ID0gcmVwbGFjZShpbnB1dCwgTEVBRElOR19DMF9DT05UUk9MX09SX1NQQUNFLCAnJyk7XG4gICAgICBpbnB1dCA9IHJlcGxhY2UoaW5wdXQsIFRSQUlMSU5HX0MwX0NPTlRST0xfT1JfU1BBQ0UsICckMScpO1xuICAgIH1cblxuICAgIGlucHV0ID0gcmVwbGFjZShpbnB1dCwgVEFCX0FORF9ORVdfTElORSwgJycpO1xuXG4gICAgY29kZVBvaW50cyA9IGFycmF5RnJvbShpbnB1dCk7XG5cbiAgICB3aGlsZSAocG9pbnRlciA8PSBjb2RlUG9pbnRzLmxlbmd0aCkge1xuICAgICAgY2hyID0gY29kZVBvaW50c1twb2ludGVyXTtcbiAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgY2FzZSBTQ0hFTUVfU1RBUlQ6XG4gICAgICAgICAgaWYgKGNociAmJiBleGVjKEFMUEhBLCBjaHIpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gdG9Mb3dlckNhc2UoY2hyKTtcbiAgICAgICAgICAgIHN0YXRlID0gU0NIRU1FO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHN0YXRlID0gTk9fU0NIRU1FO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBJTlZBTElEX1NDSEVNRTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFNDSEVNRTpcbiAgICAgICAgICBpZiAoY2hyICYmIChleGVjKEFMUEhBTlVNRVJJQywgY2hyKSB8fCBjaHIgPT0gJysnIHx8IGNociA9PSAnLScgfHwgY2hyID09ICcuJykpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSB0b0xvd2VyQ2FzZShjaHIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICc6Jykge1xuICAgICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUgJiYgKFxuICAgICAgICAgICAgICAodXJsLmlzU3BlY2lhbCgpICE9IGhhc093bihzcGVjaWFsU2NoZW1lcywgYnVmZmVyKSkgfHxcbiAgICAgICAgICAgICAgKGJ1ZmZlciA9PSAnZmlsZScgJiYgKHVybC5pbmNsdWRlc0NyZWRlbnRpYWxzKCkgfHwgdXJsLnBvcnQgIT09IG51bGwpKSB8fFxuICAgICAgICAgICAgICAodXJsLnNjaGVtZSA9PSAnZmlsZScgJiYgIXVybC5ob3N0KVxuICAgICAgICAgICAgKSkgcmV0dXJuO1xuICAgICAgICAgICAgdXJsLnNjaGVtZSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICAgIGlmICh1cmwuaXNTcGVjaWFsKCkgJiYgc3BlY2lhbFNjaGVtZXNbdXJsLnNjaGVtZV0gPT0gdXJsLnBvcnQpIHVybC5wb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICBpZiAodXJsLnNjaGVtZSA9PSAnZmlsZScpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBGSUxFO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1cmwuaXNTcGVjaWFsKCkgJiYgYmFzZSAmJiBiYXNlLnNjaGVtZSA9PSB1cmwuc2NoZW1lKSB7XG4gICAgICAgICAgICAgIHN0YXRlID0gU1BFQ0lBTF9SRUxBVElWRV9PUl9BVVRIT1JJVFk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHVybC5pc1NwZWNpYWwoKSkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IFNQRUNJQUxfQVVUSE9SSVRZX1NMQVNIRVM7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGVQb2ludHNbcG9pbnRlciArIDFdID09ICcvJykge1xuICAgICAgICAgICAgICBzdGF0ZSA9IFBBVEhfT1JfQVVUSE9SSVRZO1xuICAgICAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1cmwuY2Fubm90QmVBQmFzZVVSTCA9IHRydWU7XG4gICAgICAgICAgICAgIHB1c2godXJsLnBhdGgsICcnKTtcbiAgICAgICAgICAgICAgc3RhdGUgPSBDQU5OT1RfQkVfQV9CQVNFX1VSTF9QQVRIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBOT19TQ0hFTUU7XG4gICAgICAgICAgICBwb2ludGVyID0gMDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSByZXR1cm4gSU5WQUxJRF9TQ0hFTUU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBOT19TQ0hFTUU6XG4gICAgICAgICAgaWYgKCFiYXNlIHx8IChiYXNlLmNhbm5vdEJlQUJhc2VVUkwgJiYgY2hyICE9ICcjJykpIHJldHVybiBJTlZBTElEX1NDSEVNRTtcbiAgICAgICAgICBpZiAoYmFzZS5jYW5ub3RCZUFCYXNlVVJMICYmIGNociA9PSAnIycpIHtcbiAgICAgICAgICAgIHVybC5zY2hlbWUgPSBiYXNlLnNjaGVtZTtcbiAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgdXJsLnF1ZXJ5ID0gYmFzZS5xdWVyeTtcbiAgICAgICAgICAgIHVybC5mcmFnbWVudCA9ICcnO1xuICAgICAgICAgICAgdXJsLmNhbm5vdEJlQUJhc2VVUkwgPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZSA9IGJhc2Uuc2NoZW1lID09ICdmaWxlJyA/IEZJTEUgOiBSRUxBVElWRTtcbiAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBjYXNlIFNQRUNJQUxfUkVMQVRJVkVfT1JfQVVUSE9SSVRZOlxuICAgICAgICAgIGlmIChjaHIgPT0gJy8nICYmIGNvZGVQb2ludHNbcG9pbnRlciArIDFdID09ICcvJykge1xuICAgICAgICAgICAgc3RhdGUgPSBTUEVDSUFMX0FVVEhPUklUWV9JR05PUkVfU0xBU0hFUztcbiAgICAgICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBSRUxBVElWRTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBQQVRIX09SX0FVVEhPUklUWTpcbiAgICAgICAgICBpZiAoY2hyID09ICcvJykge1xuICAgICAgICAgICAgc3RhdGUgPSBBVVRIT1JJVFk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSBQQVRIO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgUkVMQVRJVkU6XG4gICAgICAgICAgdXJsLnNjaGVtZSA9IGJhc2Uuc2NoZW1lO1xuICAgICAgICAgIGlmIChjaHIgPT0gRU9GKSB7XG4gICAgICAgICAgICB1cmwudXNlcm5hbWUgPSBiYXNlLnVzZXJuYW1lO1xuICAgICAgICAgICAgdXJsLnBhc3N3b3JkID0gYmFzZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdXJsLnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgIHVybC5xdWVyeSA9IGJhc2UucXVlcnk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJy8nIHx8IChjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSkpIHtcbiAgICAgICAgICAgIHN0YXRlID0gUkVMQVRJVkVfU0xBU0g7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJz8nKSB7XG4gICAgICAgICAgICB1cmwudXNlcm5hbWUgPSBiYXNlLnVzZXJuYW1lO1xuICAgICAgICAgICAgdXJsLnBhc3N3b3JkID0gYmFzZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdXJsLnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgIHVybC5xdWVyeSA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBRVUVSWTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnIycpIHtcbiAgICAgICAgICAgIHVybC51c2VybmFtZSA9IGJhc2UudXNlcm5hbWU7XG4gICAgICAgICAgICB1cmwucGFzc3dvcmQgPSBiYXNlLnBhc3N3b3JkO1xuICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICB1cmwucG9ydCA9IGJhc2UucG9ydDtcbiAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgdXJsLnF1ZXJ5ID0gYmFzZS5xdWVyeTtcbiAgICAgICAgICAgIHVybC5mcmFnbWVudCA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsLnVzZXJuYW1lID0gYmFzZS51c2VybmFtZTtcbiAgICAgICAgICAgIHVybC5wYXNzd29yZCA9IGJhc2UucGFzc3dvcmQ7XG4gICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgIHVybC5wb3J0ID0gYmFzZS5wb3J0O1xuICAgICAgICAgICAgdXJsLnBhdGggPSBhcnJheVNsaWNlKGJhc2UucGF0aCk7XG4gICAgICAgICAgICB1cmwucGF0aC5sZW5ndGgtLTtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBSRUxBVElWRV9TTEFTSDpcbiAgICAgICAgICBpZiAodXJsLmlzU3BlY2lhbCgpICYmIChjaHIgPT0gJy8nIHx8IGNociA9PSAnXFxcXCcpKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFNQRUNJQUxfQVVUSE9SSVRZX0lHTk9SRV9TTEFTSEVTO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICcvJykge1xuICAgICAgICAgICAgc3RhdGUgPSBBVVRIT1JJVFk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybC51c2VybmFtZSA9IGJhc2UudXNlcm5hbWU7XG4gICAgICAgICAgICB1cmwucGFzc3dvcmQgPSBiYXNlLnBhc3N3b3JkO1xuICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICB1cmwucG9ydCA9IGJhc2UucG9ydDtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBTUEVDSUFMX0FVVEhPUklUWV9TTEFTSEVTOlxuICAgICAgICAgIHN0YXRlID0gU1BFQ0lBTF9BVVRIT1JJVFlfSUdOT1JFX1NMQVNIRVM7XG4gICAgICAgICAgaWYgKGNociAhPSAnLycgfHwgY2hhckF0KGJ1ZmZlciwgcG9pbnRlciArIDEpICE9ICcvJykgY29udGludWU7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgU1BFQ0lBTF9BVVRIT1JJVFlfSUdOT1JFX1NMQVNIRVM6XG4gICAgICAgICAgaWYgKGNociAhPSAnLycgJiYgY2hyICE9ICdcXFxcJykge1xuICAgICAgICAgICAgc3RhdGUgPSBBVVRIT1JJVFk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgQVVUSE9SSVRZOlxuICAgICAgICAgIGlmIChjaHIgPT0gJ0AnKSB7XG4gICAgICAgICAgICBpZiAoc2VlbkF0KSBidWZmZXIgPSAnJTQwJyArIGJ1ZmZlcjtcbiAgICAgICAgICAgIHNlZW5BdCA9IHRydWU7XG4gICAgICAgICAgICBidWZmZXJDb2RlUG9pbnRzID0gYXJyYXlGcm9tKGJ1ZmZlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlckNvZGVQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IGJ1ZmZlckNvZGVQb2ludHNbaV07XG4gICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT0gJzonICYmICFzZWVuUGFzc3dvcmRUb2tlbikge1xuICAgICAgICAgICAgICAgIHNlZW5QYXNzd29yZFRva2VuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgZW5jb2RlZENvZGVQb2ludHMgPSBwZXJjZW50RW5jb2RlKGNvZGVQb2ludCwgdXNlcmluZm9QZXJjZW50RW5jb2RlU2V0KTtcbiAgICAgICAgICAgICAgaWYgKHNlZW5QYXNzd29yZFRva2VuKSB1cmwucGFzc3dvcmQgKz0gZW5jb2RlZENvZGVQb2ludHM7XG4gICAgICAgICAgICAgIGVsc2UgdXJsLnVzZXJuYW1lICs9IGVuY29kZWRDb2RlUG9pbnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNociA9PSBFT0YgfHwgY2hyID09ICcvJyB8fCBjaHIgPT0gJz8nIHx8IGNociA9PSAnIycgfHxcbiAgICAgICAgICAgIChjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChzZWVuQXQgJiYgYnVmZmVyID09ICcnKSByZXR1cm4gSU5WQUxJRF9BVVRIT1JJVFk7XG4gICAgICAgICAgICBwb2ludGVyIC09IGFycmF5RnJvbShidWZmZXIpLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gSE9TVDtcbiAgICAgICAgICB9IGVsc2UgYnVmZmVyICs9IGNocjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEhPU1Q6XG4gICAgICAgIGNhc2UgSE9TVE5BTUU6XG4gICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUgJiYgdXJsLnNjaGVtZSA9PSAnZmlsZScpIHtcbiAgICAgICAgICAgIHN0YXRlID0gRklMRV9IT1NUO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJzonICYmICFzZWVuQnJhY2tldCkge1xuICAgICAgICAgICAgaWYgKGJ1ZmZlciA9PSAnJykgcmV0dXJuIElOVkFMSURfSE9TVDtcbiAgICAgICAgICAgIGZhaWx1cmUgPSB1cmwucGFyc2VIb3N0KGJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkgcmV0dXJuIGZhaWx1cmU7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gUE9SVDtcbiAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlID09IEhPU1ROQU1FKSByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNociA9PSBFT0YgfHwgY2hyID09ICcvJyB8fCBjaHIgPT0gJz8nIHx8IGNociA9PSAnIycgfHxcbiAgICAgICAgICAgIChjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh1cmwuaXNTcGVjaWFsKCkgJiYgYnVmZmVyID09ICcnKSByZXR1cm4gSU5WQUxJRF9IT1NUO1xuICAgICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUgJiYgYnVmZmVyID09ICcnICYmICh1cmwuaW5jbHVkZXNDcmVkZW50aWFscygpIHx8IHVybC5wb3J0ICE9PSBudWxsKSkgcmV0dXJuO1xuICAgICAgICAgICAgZmFpbHVyZSA9IHVybC5wYXJzZUhvc3QoYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlKSByZXR1cm4gZmFpbHVyZTtcbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBQQVRIX1NUQVJUO1xuICAgICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hyID09ICdbJykgc2VlbkJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2hyID09ICddJykgc2VlbkJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaHI7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIFBPUlQ6XG4gICAgICAgICAgaWYgKGV4ZWMoRElHSVQsIGNocikpIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaHI7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNociA9PSBFT0YgfHwgY2hyID09ICcvJyB8fCBjaHIgPT0gJz8nIHx8IGNociA9PSAnIycgfHxcbiAgICAgICAgICAgIChjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSkgfHxcbiAgICAgICAgICAgIHN0YXRlT3ZlcnJpZGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChidWZmZXIgIT0gJycpIHtcbiAgICAgICAgICAgICAgdmFyIHBvcnQgPSBwYXJzZUludChidWZmZXIsIDEwKTtcbiAgICAgICAgICAgICAgaWYgKHBvcnQgPiAweEZGRkYpIHJldHVybiBJTlZBTElEX1BPUlQ7XG4gICAgICAgICAgICAgIHVybC5wb3J0ID0gKHVybC5pc1NwZWNpYWwoKSAmJiBwb3J0ID09PSBzcGVjaWFsU2NoZW1lc1t1cmwuc2NoZW1lXSkgPyBudWxsIDogcG9ydDtcbiAgICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGVPdmVycmlkZSkgcmV0dXJuO1xuICAgICAgICAgICAgc3RhdGUgPSBQQVRIX1NUQVJUO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBJTlZBTElEX1BPUlQ7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBGSUxFOlxuICAgICAgICAgIHVybC5zY2hlbWUgPSAnZmlsZSc7XG4gICAgICAgICAgaWYgKGNociA9PSAnLycgfHwgY2hyID09ICdcXFxcJykgc3RhdGUgPSBGSUxFX1NMQVNIO1xuICAgICAgICAgIGVsc2UgaWYgKGJhc2UgJiYgYmFzZS5zY2hlbWUgPT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICBpZiAoY2hyID09IEVPRikge1xuICAgICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgICAgdXJsLnBhdGggPSBhcnJheVNsaWNlKGJhc2UucGF0aCk7XG4gICAgICAgICAgICAgIHVybC5xdWVyeSA9IGJhc2UucXVlcnk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnPycpIHtcbiAgICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgICB1cmwucXVlcnkgPSAnJztcbiAgICAgICAgICAgICAgc3RhdGUgPSBRVUVSWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICcjJykge1xuICAgICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgICAgdXJsLnBhdGggPSBhcnJheVNsaWNlKGJhc2UucGF0aCk7XG4gICAgICAgICAgICAgIHVybC5xdWVyeSA9IGJhc2UucXVlcnk7XG4gICAgICAgICAgICAgIHVybC5mcmFnbWVudCA9ICcnO1xuICAgICAgICAgICAgICBzdGF0ZSA9IEZSQUdNRU5UO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFzdGFydHNXaXRoV2luZG93c0RyaXZlTGV0dGVyKGpvaW4oYXJyYXlTbGljZShjb2RlUG9pbnRzLCBwb2ludGVyKSwgJycpKSkge1xuICAgICAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgICAgIHVybC5zaG9ydGVuUGF0aCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBGSUxFX1NMQVNIOlxuICAgICAgICAgIGlmIChjaHIgPT0gJy8nIHx8IGNociA9PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIHN0YXRlID0gRklMRV9IT1NUO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChiYXNlICYmIGJhc2Uuc2NoZW1lID09ICdmaWxlJyAmJiAhc3RhcnRzV2l0aFdpbmRvd3NEcml2ZUxldHRlcihqb2luKGFycmF5U2xpY2UoY29kZVBvaW50cywgcG9pbnRlciksICcnKSkpIHtcbiAgICAgICAgICAgIGlmIChpc1dpbmRvd3NEcml2ZUxldHRlcihiYXNlLnBhdGhbMF0sIHRydWUpKSBwdXNoKHVybC5wYXRoLCBiYXNlLnBhdGhbMF0pO1xuICAgICAgICAgICAgZWxzZSB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUgPSBQQVRIO1xuICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIGNhc2UgRklMRV9IT1NUOlxuICAgICAgICAgIGlmIChjaHIgPT0gRU9GIHx8IGNociA9PSAnLycgfHwgY2hyID09ICdcXFxcJyB8fCBjaHIgPT0gJz8nIHx8IGNociA9PSAnIycpIHtcbiAgICAgICAgICAgIGlmICghc3RhdGVPdmVycmlkZSAmJiBpc1dpbmRvd3NEcml2ZUxldHRlcihidWZmZXIpKSB7XG4gICAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnVmZmVyID09ICcnKSB7XG4gICAgICAgICAgICAgIHVybC5ob3N0ID0gJyc7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlKSByZXR1cm47XG4gICAgICAgICAgICAgIHN0YXRlID0gUEFUSF9TVEFSVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUgPSB1cmwucGFyc2VIb3N0KGJ1ZmZlcik7XG4gICAgICAgICAgICAgIGlmIChmYWlsdXJlKSByZXR1cm4gZmFpbHVyZTtcbiAgICAgICAgICAgICAgaWYgKHVybC5ob3N0ID09ICdsb2NhbGhvc3QnKSB1cmwuaG9zdCA9ICcnO1xuICAgICAgICAgICAgICBpZiAoc3RhdGVPdmVycmlkZSkgcmV0dXJuO1xuICAgICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgICAgc3RhdGUgPSBQQVRIX1NUQVJUO1xuICAgICAgICAgICAgfSBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgYnVmZmVyICs9IGNocjtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFBBVEhfU1RBUlQ6XG4gICAgICAgICAgaWYgKHVybC5pc1NwZWNpYWwoKSkge1xuICAgICAgICAgICAgc3RhdGUgPSBQQVRIO1xuICAgICAgICAgICAgaWYgKGNociAhPSAnLycgJiYgY2hyICE9ICdcXFxcJykgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGlmICghc3RhdGVPdmVycmlkZSAmJiBjaHIgPT0gJz8nKSB7XG4gICAgICAgICAgICB1cmwucXVlcnkgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gUVVFUlk7XG4gICAgICAgICAgfSBlbHNlIGlmICghc3RhdGVPdmVycmlkZSAmJiBjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgIT0gRU9GKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICBpZiAoY2hyICE9ICcvJykgY29udGludWU7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIFBBVEg6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2hyID09IEVPRiB8fCBjaHIgPT0gJy8nIHx8XG4gICAgICAgICAgICAoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpIHx8XG4gICAgICAgICAgICAoIXN0YXRlT3ZlcnJpZGUgJiYgKGNociA9PSAnPycgfHwgY2hyID09ICcjJykpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoaXNEb3VibGVEb3QoYnVmZmVyKSkge1xuICAgICAgICAgICAgICB1cmwuc2hvcnRlblBhdGgoKTtcbiAgICAgICAgICAgICAgaWYgKGNociAhPSAnLycgJiYgIShjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSkpIHtcbiAgICAgICAgICAgICAgICBwdXNoKHVybC5wYXRoLCAnJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTaW5nbGVEb3QoYnVmZmVyKSkge1xuICAgICAgICAgICAgICBpZiAoY2hyICE9ICcvJyAmJiAhKGNociA9PSAnXFxcXCcgJiYgdXJsLmlzU3BlY2lhbCgpKSkge1xuICAgICAgICAgICAgICAgIHB1c2godXJsLnBhdGgsICcnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHVybC5zY2hlbWUgPT0gJ2ZpbGUnICYmICF1cmwucGF0aC5sZW5ndGggJiYgaXNXaW5kb3dzRHJpdmVMZXR0ZXIoYnVmZmVyKSkge1xuICAgICAgICAgICAgICAgIGlmICh1cmwuaG9zdCkgdXJsLmhvc3QgPSAnJztcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBjaGFyQXQoYnVmZmVyLCAwKSArICc6JzsgLy8gbm9ybWFsaXplIHdpbmRvd3MgZHJpdmUgbGV0dGVyXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHVzaCh1cmwucGF0aCwgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgaWYgKHVybC5zY2hlbWUgPT0gJ2ZpbGUnICYmIChjaHIgPT0gRU9GIHx8IGNociA9PSAnPycgfHwgY2hyID09ICcjJykpIHtcbiAgICAgICAgICAgICAgd2hpbGUgKHVybC5wYXRoLmxlbmd0aCA+IDEgJiYgdXJsLnBhdGhbMF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgc2hpZnQodXJsLnBhdGgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hyID09ICc/Jykge1xuICAgICAgICAgICAgICB1cmwucXVlcnkgPSAnJztcbiAgICAgICAgICAgICAgc3RhdGUgPSBRVUVSWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICcjJykge1xuICAgICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyICs9IHBlcmNlbnRFbmNvZGUoY2hyLCBwYXRoUGVyY2VudEVuY29kZVNldCk7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIENBTk5PVF9CRV9BX0JBU0VfVVJMX1BBVEg6XG4gICAgICAgICAgaWYgKGNociA9PSAnPycpIHtcbiAgICAgICAgICAgIHVybC5xdWVyeSA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBRVUVSWTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnIycpIHtcbiAgICAgICAgICAgIHVybC5mcmFnbWVudCA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociAhPSBFT0YpIHtcbiAgICAgICAgICAgIHVybC5wYXRoWzBdICs9IHBlcmNlbnRFbmNvZGUoY2hyLCBDMENvbnRyb2xQZXJjZW50RW5jb2RlU2V0KTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgUVVFUlk6XG4gICAgICAgICAgaWYgKCFzdGF0ZU92ZXJyaWRlICYmIGNociA9PSAnIycpIHtcbiAgICAgICAgICAgIHVybC5mcmFnbWVudCA9ICcnO1xuICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociAhPSBFT0YpIHtcbiAgICAgICAgICAgIGlmIChjaHIgPT0gXCInXCIgJiYgdXJsLmlzU3BlY2lhbCgpKSB1cmwucXVlcnkgKz0gJyUyNyc7XG4gICAgICAgICAgICBlbHNlIGlmIChjaHIgPT0gJyMnKSB1cmwucXVlcnkgKz0gJyUyMyc7XG4gICAgICAgICAgICBlbHNlIHVybC5xdWVyeSArPSBwZXJjZW50RW5jb2RlKGNociwgQzBDb250cm9sUGVyY2VudEVuY29kZVNldCk7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIEZSQUdNRU5UOlxuICAgICAgICAgIGlmIChjaHIgIT0gRU9GKSB1cmwuZnJhZ21lbnQgKz0gcGVyY2VudEVuY29kZShjaHIsIGZyYWdtZW50UGVyY2VudEVuY29kZVNldCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHBvaW50ZXIrKztcbiAgICB9XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaG9zdC1wYXJzaW5nXG4gIHBhcnNlSG9zdDogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCwgY29kZVBvaW50cywgaW5kZXg7XG4gICAgaWYgKGNoYXJBdChpbnB1dCwgMCkgPT0gJ1snKSB7XG4gICAgICBpZiAoY2hhckF0KGlucHV0LCBpbnB1dC5sZW5ndGggLSAxKSAhPSAnXScpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICByZXN1bHQgPSBwYXJzZUlQdjYoc3RyaW5nU2xpY2UoaW5wdXQsIDEsIC0xKSk7XG4gICAgICBpZiAoIXJlc3VsdCkgcmV0dXJuIElOVkFMSURfSE9TVDtcbiAgICAgIHRoaXMuaG9zdCA9IHJlc3VsdDtcbiAgICAvLyBvcGFxdWUgaG9zdFxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTcGVjaWFsKCkpIHtcbiAgICAgIGlmIChleGVjKEZPUkJJRERFTl9IT1NUX0NPREVfUE9JTlRfRVhDTFVESU5HX1BFUkNFTlQsIGlucHV0KSkgcmV0dXJuIElOVkFMSURfSE9TVDtcbiAgICAgIHJlc3VsdCA9ICcnO1xuICAgICAgY29kZVBvaW50cyA9IGFycmF5RnJvbShpbnB1dCk7XG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2RlUG9pbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICByZXN1bHQgKz0gcGVyY2VudEVuY29kZShjb2RlUG9pbnRzW2luZGV4XSwgQzBDb250cm9sUGVyY2VudEVuY29kZVNldCk7XG4gICAgICB9XG4gICAgICB0aGlzLmhvc3QgPSByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0ID0gdG9BU0NJSShpbnB1dCk7XG4gICAgICBpZiAoZXhlYyhGT1JCSURERU5fSE9TVF9DT0RFX1BPSU5ULCBpbnB1dCkpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICByZXN1bHQgPSBwYXJzZUlQdjQoaW5wdXQpO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgcmV0dXJuIElOVkFMSURfSE9TVDtcbiAgICAgIHRoaXMuaG9zdCA9IHJlc3VsdDtcbiAgICB9XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jY2Fubm90LWhhdmUtYS11c2VybmFtZS1wYXNzd29yZC1wb3J0XG4gIGNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhdGhpcy5ob3N0IHx8IHRoaXMuY2Fubm90QmVBQmFzZVVSTCB8fCB0aGlzLnNjaGVtZSA9PSAnZmlsZSc7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaW5jbHVkZS1jcmVkZW50aWFsc1xuICBpbmNsdWRlc0NyZWRlbnRpYWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlcm5hbWUgIT0gJycgfHwgdGhpcy5wYXNzd29yZCAhPSAnJztcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNpcy1zcGVjaWFsXG4gIGlzU3BlY2lhbDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBoYXNPd24oc3BlY2lhbFNjaGVtZXMsIHRoaXMuc2NoZW1lKTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNzaG9ydGVuLWEtdXJscy1wYXRoXG4gIHNob3J0ZW5QYXRoOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgdmFyIHBhdGhTaXplID0gcGF0aC5sZW5ndGg7XG4gICAgaWYgKHBhdGhTaXplICYmICh0aGlzLnNjaGVtZSAhPSAnZmlsZScgfHwgcGF0aFNpemUgIT0gMSB8fCAhaXNXaW5kb3dzRHJpdmVMZXR0ZXIocGF0aFswXSwgdHJ1ZSkpKSB7XG4gICAgICBwYXRoLmxlbmd0aC0tO1xuICAgIH1cbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LXVybC1zZXJpYWxpemVyXG4gIHNlcmlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciB1cmwgPSB0aGlzO1xuICAgIHZhciBzY2hlbWUgPSB1cmwuc2NoZW1lO1xuICAgIHZhciB1c2VybmFtZSA9IHVybC51c2VybmFtZTtcbiAgICB2YXIgcGFzc3dvcmQgPSB1cmwucGFzc3dvcmQ7XG4gICAgdmFyIGhvc3QgPSB1cmwuaG9zdDtcbiAgICB2YXIgcG9ydCA9IHVybC5wb3J0O1xuICAgIHZhciBwYXRoID0gdXJsLnBhdGg7XG4gICAgdmFyIHF1ZXJ5ID0gdXJsLnF1ZXJ5O1xuICAgIHZhciBmcmFnbWVudCA9IHVybC5mcmFnbWVudDtcbiAgICB2YXIgb3V0cHV0ID0gc2NoZW1lICsgJzonO1xuICAgIGlmIChob3N0ICE9PSBudWxsKSB7XG4gICAgICBvdXRwdXQgKz0gJy8vJztcbiAgICAgIGlmICh1cmwuaW5jbHVkZXNDcmVkZW50aWFscygpKSB7XG4gICAgICAgIG91dHB1dCArPSB1c2VybmFtZSArIChwYXNzd29yZCA/ICc6JyArIHBhc3N3b3JkIDogJycpICsgJ0AnO1xuICAgICAgfVxuICAgICAgb3V0cHV0ICs9IHNlcmlhbGl6ZUhvc3QoaG9zdCk7XG4gICAgICBpZiAocG9ydCAhPT0gbnVsbCkgb3V0cHV0ICs9ICc6JyArIHBvcnQ7XG4gICAgfSBlbHNlIGlmIChzY2hlbWUgPT0gJ2ZpbGUnKSBvdXRwdXQgKz0gJy8vJztcbiAgICBvdXRwdXQgKz0gdXJsLmNhbm5vdEJlQUJhc2VVUkwgPyBwYXRoWzBdIDogcGF0aC5sZW5ndGggPyAnLycgKyBqb2luKHBhdGgsICcvJykgOiAnJztcbiAgICBpZiAocXVlcnkgIT09IG51bGwpIG91dHB1dCArPSAnPycgKyBxdWVyeTtcbiAgICBpZiAoZnJhZ21lbnQgIT09IG51bGwpIG91dHB1dCArPSAnIycgKyBmcmFnbWVudDtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaHJlZlxuICBzZXRIcmVmOiBmdW5jdGlvbiAoaHJlZikge1xuICAgIHZhciBmYWlsdXJlID0gdGhpcy5wYXJzZShocmVmKTtcbiAgICBpZiAoZmFpbHVyZSkgdGhyb3cgVHlwZUVycm9yKGZhaWx1cmUpO1xuICAgIHRoaXMuc2VhcmNoUGFyYW1zLnVwZGF0ZSgpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtb3JpZ2luXG4gIGdldE9yaWdpbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY2hlbWUgPSB0aGlzLnNjaGVtZTtcbiAgICB2YXIgcG9ydCA9IHRoaXMucG9ydDtcbiAgICBpZiAoc2NoZW1lID09ICdibG9iJykgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgVVJMQ29uc3RydWN0b3Ioc2NoZW1lLnBhdGhbMF0pLm9yaWdpbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9XG4gICAgaWYgKHNjaGVtZSA9PSAnZmlsZScgfHwgIXRoaXMuaXNTcGVjaWFsKCkpIHJldHVybiAnbnVsbCc7XG4gICAgcmV0dXJuIHNjaGVtZSArICc6Ly8nICsgc2VyaWFsaXplSG9zdCh0aGlzLmhvc3QpICsgKHBvcnQgIT09IG51bGwgPyAnOicgKyBwb3J0IDogJycpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcHJvdG9jb2xcbiAgZ2V0UHJvdG9jb2w6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlbWUgKyAnOic7XG4gIH0sXG4gIHNldFByb3RvY29sOiBmdW5jdGlvbiAocHJvdG9jb2wpIHtcbiAgICB0aGlzLnBhcnNlKCR0b1N0cmluZyhwcm90b2NvbCkgKyAnOicsIFNDSEVNRV9TVEFSVCk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC11c2VybmFtZVxuICBnZXRVc2VybmFtZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJuYW1lO1xuICB9LFxuICBzZXRVc2VybmFtZTogZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gICAgdmFyIGNvZGVQb2ludHMgPSBhcnJheUZyb20oJHRvU3RyaW5nKHVzZXJuYW1lKSk7XG4gICAgaWYgKHRoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCkpIHJldHVybjtcbiAgICB0aGlzLnVzZXJuYW1lID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2RlUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnVzZXJuYW1lICs9IHBlcmNlbnRFbmNvZGUoY29kZVBvaW50c1tpXSwgdXNlcmluZm9QZXJjZW50RW5jb2RlU2V0KTtcbiAgICB9XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wYXNzd29yZFxuICBnZXRQYXNzd29yZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnBhc3N3b3JkO1xuICB9LFxuICBzZXRQYXNzd29yZDogZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gICAgdmFyIGNvZGVQb2ludHMgPSBhcnJheUZyb20oJHRvU3RyaW5nKHBhc3N3b3JkKSk7XG4gICAgaWYgKHRoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCkpIHJldHVybjtcbiAgICB0aGlzLnBhc3N3b3JkID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2RlUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnBhc3N3b3JkICs9IHBlcmNlbnRFbmNvZGUoY29kZVBvaW50c1tpXSwgdXNlcmluZm9QZXJjZW50RW5jb2RlU2V0KTtcbiAgICB9XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1ob3N0XG4gIGdldEhvc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgICB2YXIgcG9ydCA9IHRoaXMucG9ydDtcbiAgICByZXR1cm4gaG9zdCA9PT0gbnVsbCA/ICcnXG4gICAgICA6IHBvcnQgPT09IG51bGwgPyBzZXJpYWxpemVIb3N0KGhvc3QpXG4gICAgICA6IHNlcmlhbGl6ZUhvc3QoaG9zdCkgKyAnOicgKyBwb3J0O1xuICB9LFxuICBzZXRIb3N0OiBmdW5jdGlvbiAoaG9zdCkge1xuICAgIGlmICh0aGlzLmNhbm5vdEJlQUJhc2VVUkwpIHJldHVybjtcbiAgICB0aGlzLnBhcnNlKGhvc3QsIEhPU1QpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaG9zdG5hbWVcbiAgZ2V0SG9zdG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgICByZXR1cm4gaG9zdCA9PT0gbnVsbCA/ICcnIDogc2VyaWFsaXplSG9zdChob3N0KTtcbiAgfSxcbiAgc2V0SG9zdG5hbWU6IGZ1bmN0aW9uIChob3N0bmFtZSkge1xuICAgIGlmICh0aGlzLmNhbm5vdEJlQUJhc2VVUkwpIHJldHVybjtcbiAgICB0aGlzLnBhcnNlKGhvc3RuYW1lLCBIT1NUTkFNRSk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wb3J0XG4gIGdldFBvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcG9ydCA9IHRoaXMucG9ydDtcbiAgICByZXR1cm4gcG9ydCA9PT0gbnVsbCA/ICcnIDogJHRvU3RyaW5nKHBvcnQpO1xuICB9LFxuICBzZXRQb3J0OiBmdW5jdGlvbiAocG9ydCkge1xuICAgIGlmICh0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpKSByZXR1cm47XG4gICAgcG9ydCA9ICR0b1N0cmluZyhwb3J0KTtcbiAgICBpZiAocG9ydCA9PSAnJykgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICBlbHNlIHRoaXMucGFyc2UocG9ydCwgUE9SVCk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wYXRobmFtZVxuICBnZXRQYXRobmFtZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXRoID0gdGhpcy5wYXRoO1xuICAgIHJldHVybiB0aGlzLmNhbm5vdEJlQUJhc2VVUkwgPyBwYXRoWzBdIDogcGF0aC5sZW5ndGggPyAnLycgKyBqb2luKHBhdGgsICcvJykgOiAnJztcbiAgfSxcbiAgc2V0UGF0aG5hbWU6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgIGlmICh0aGlzLmNhbm5vdEJlQUJhc2VVUkwpIHJldHVybjtcbiAgICB0aGlzLnBhdGggPSBbXTtcbiAgICB0aGlzLnBhcnNlKHBhdGhuYW1lLCBQQVRIX1NUQVJUKTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXNlYXJjaFxuICBnZXRTZWFyY2g6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5O1xuICAgIHJldHVybiBxdWVyeSA/ICc/JyArIHF1ZXJ5IDogJyc7XG4gIH0sXG4gIHNldFNlYXJjaDogZnVuY3Rpb24gKHNlYXJjaCkge1xuICAgIHNlYXJjaCA9ICR0b1N0cmluZyhzZWFyY2gpO1xuICAgIGlmIChzZWFyY2ggPT0gJycpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJz8nID09IGNoYXJBdChzZWFyY2gsIDApKSBzZWFyY2ggPSBzdHJpbmdTbGljZShzZWFyY2gsIDEpO1xuICAgICAgdGhpcy5xdWVyeSA9ICcnO1xuICAgICAgdGhpcy5wYXJzZShzZWFyY2gsIFFVRVJZKTtcbiAgICB9XG4gICAgdGhpcy5zZWFyY2hQYXJhbXMudXBkYXRlKCk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1zZWFyY2hwYXJhbXNcbiAgZ2V0U2VhcmNoUGFyYW1zOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoUGFyYW1zLmZhY2FkZTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLWhhc2hcbiAgZ2V0SGFzaDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQ7XG4gICAgcmV0dXJuIGZyYWdtZW50ID8gJyMnICsgZnJhZ21lbnQgOiAnJztcbiAgfSxcbiAgc2V0SGFzaDogZnVuY3Rpb24gKGhhc2gpIHtcbiAgICBoYXNoID0gJHRvU3RyaW5nKGhhc2gpO1xuICAgIGlmIChoYXNoID09ICcnKSB7XG4gICAgICB0aGlzLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCcjJyA9PSBjaGFyQXQoaGFzaCwgMCkpIGhhc2ggPSBzdHJpbmdTbGljZShoYXNoLCAxKTtcbiAgICB0aGlzLmZyYWdtZW50ID0gJyc7XG4gICAgdGhpcy5wYXJzZShoYXNoLCBGUkFHTUVOVCk7XG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaFBhcmFtcy5zZXJpYWxpemUoKSB8fCBudWxsO1xuICB9XG59O1xuXG4vLyBgVVJMYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmwtY2xhc3NcbnZhciBVUkxDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIFVSTCh1cmwgLyogLCBiYXNlICovKSB7XG4gIHZhciB0aGF0ID0gYW5JbnN0YW5jZSh0aGlzLCBVUkxQcm90b3R5cGUpO1xuICB2YXIgYmFzZSA9IHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgdmFyIHN0YXRlID0gc2V0SW50ZXJuYWxTdGF0ZSh0aGF0LCBuZXcgVVJMU3RhdGUodXJsLCBmYWxzZSwgYmFzZSkpO1xuICBpZiAoIURFU0NSSVBUT1JTKSB7XG4gICAgdGhhdC5ocmVmID0gc3RhdGUuc2VyaWFsaXplKCk7XG4gICAgdGhhdC5vcmlnaW4gPSBzdGF0ZS5nZXRPcmlnaW4oKTtcbiAgICB0aGF0LnByb3RvY29sID0gc3RhdGUuZ2V0UHJvdG9jb2woKTtcbiAgICB0aGF0LnVzZXJuYW1lID0gc3RhdGUuZ2V0VXNlcm5hbWUoKTtcbiAgICB0aGF0LnBhc3N3b3JkID0gc3RhdGUuZ2V0UGFzc3dvcmQoKTtcbiAgICB0aGF0Lmhvc3QgPSBzdGF0ZS5nZXRIb3N0KCk7XG4gICAgdGhhdC5ob3N0bmFtZSA9IHN0YXRlLmdldEhvc3RuYW1lKCk7XG4gICAgdGhhdC5wb3J0ID0gc3RhdGUuZ2V0UG9ydCgpO1xuICAgIHRoYXQucGF0aG5hbWUgPSBzdGF0ZS5nZXRQYXRobmFtZSgpO1xuICAgIHRoYXQuc2VhcmNoID0gc3RhdGUuZ2V0U2VhcmNoKCk7XG4gICAgdGhhdC5zZWFyY2hQYXJhbXMgPSBzdGF0ZS5nZXRTZWFyY2hQYXJhbXMoKTtcbiAgICB0aGF0Lmhhc2ggPSBzdGF0ZS5nZXRIYXNoKCk7XG4gIH1cbn07XG5cbnZhciBVUkxQcm90b3R5cGUgPSBVUkxDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbnZhciBhY2Nlc3NvckRlc2NyaXB0b3IgPSBmdW5jdGlvbiAoZ2V0dGVyLCBzZXR0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRJbnRlcm5hbFVSTFN0YXRlKHRoaXMpW2dldHRlcl0oKTtcbiAgICB9LFxuICAgIHNldDogc2V0dGVyICYmIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGdldEludGVybmFsVVJMU3RhdGUodGhpcylbc2V0dGVyXSh2YWx1ZSk7XG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogdHJ1ZVxuICB9O1xufTtcblxuaWYgKERFU0NSSVBUT1JTKSB7XG4gIC8vIGBVUkwucHJvdG90eXBlLmhyZWZgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1ocmVmXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdocmVmJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdzZXJpYWxpemUnLCAnc2V0SHJlZicpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUub3JpZ2luYCBnZXR0ZXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLW9yaWdpblxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAnb3JpZ2luJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRPcmlnaW4nKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLnByb3RvY29sYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcHJvdG9jb2xcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3Byb3RvY29sJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRQcm90b2NvbCcsICdzZXRQcm90b2NvbCcpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUudXNlcm5hbWVgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC11c2VybmFtZVxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAndXNlcm5hbWUnLCBhY2Nlc3NvckRlc2NyaXB0b3IoJ2dldFVzZXJuYW1lJywgJ3NldFVzZXJuYW1lJykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5wYXNzd29yZGAgYWNjZXNzb3JzIHBhaXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXBhc3N3b3JkXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdwYXNzd29yZCcsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0UGFzc3dvcmQnLCAnc2V0UGFzc3dvcmQnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLmhvc3RgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1ob3N0XG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdob3N0JywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRIb3N0JywgJ3NldEhvc3QnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLmhvc3RuYW1lYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaG9zdG5hbWVcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ2hvc3RuYW1lJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRIb3N0bmFtZScsICdzZXRIb3N0bmFtZScpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUucG9ydGAgYWNjZXNzb3JzIHBhaXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXBvcnRcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3BvcnQnLCBhY2Nlc3NvckRlc2NyaXB0b3IoJ2dldFBvcnQnLCAnc2V0UG9ydCcpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUucGF0aG5hbWVgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wYXRobmFtZVxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAncGF0aG5hbWUnLCBhY2Nlc3NvckRlc2NyaXB0b3IoJ2dldFBhdGhuYW1lJywgJ3NldFBhdGhuYW1lJykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5zZWFyY2hgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1zZWFyY2hcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3NlYXJjaCcsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0U2VhcmNoJywgJ3NldFNlYXJjaCcpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUuc2VhcmNoUGFyYW1zYCBnZXR0ZXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXNlYXJjaHBhcmFtc1xuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAnc2VhcmNoUGFyYW1zJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRTZWFyY2hQYXJhbXMnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLmhhc2hgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1oYXNoXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdoYXNoJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRIYXNoJywgJ3NldEhhc2gnKSk7XG59XG5cbi8vIGBVUkwucHJvdG90eXBlLnRvSlNPTmAgbWV0aG9kXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtdG9qc29uXG5kZWZpbmVCdWlsdEluKFVSTFByb3RvdHlwZSwgJ3RvSlNPTicsIGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgcmV0dXJuIGdldEludGVybmFsVVJMU3RhdGUodGhpcykuc2VyaWFsaXplKCk7XG59LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG5cbi8vIGBVUkwucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2Rcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jVVJMLXN0cmluZ2lmaWNhdGlvbi1iZWhhdmlvclxuZGVmaW5lQnVpbHRJbihVUkxQcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gZ2V0SW50ZXJuYWxVUkxTdGF0ZSh0aGlzKS5zZXJpYWxpemUoKTtcbn0sIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcblxuaWYgKE5hdGl2ZVVSTCkge1xuICB2YXIgbmF0aXZlQ3JlYXRlT2JqZWN0VVJMID0gTmF0aXZlVVJMLmNyZWF0ZU9iamVjdFVSTDtcbiAgdmFyIG5hdGl2ZVJldm9rZU9iamVjdFVSTCA9IE5hdGl2ZVVSTC5yZXZva2VPYmplY3RVUkw7XG4gIC8vIGBVUkwuY3JlYXRlT2JqZWN0VVJMYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1VSTC9jcmVhdGVPYmplY3RVUkxcbiAgaWYgKG5hdGl2ZUNyZWF0ZU9iamVjdFVSTCkgZGVmaW5lQnVpbHRJbihVUkxDb25zdHJ1Y3RvciwgJ2NyZWF0ZU9iamVjdFVSTCcsIGJpbmQobmF0aXZlQ3JlYXRlT2JqZWN0VVJMLCBOYXRpdmVVUkwpKTtcbiAgLy8gYFVSTC5yZXZva2VPYmplY3RVUkxgIG1ldGhvZFxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVVJML3Jldm9rZU9iamVjdFVSTFxuICBpZiAobmF0aXZlUmV2b2tlT2JqZWN0VVJMKSBkZWZpbmVCdWlsdEluKFVSTENvbnN0cnVjdG9yLCAncmV2b2tlT2JqZWN0VVJMJywgYmluZChuYXRpdmVSZXZva2VPYmplY3RVUkwsIE5hdGl2ZVVSTCkpO1xufVxuXG5zZXRUb1N0cmluZ1RhZyhVUkxDb25zdHJ1Y3RvciwgJ1VSTCcpO1xuXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgZm9yY2VkOiAhVVNFX05BVElWRV9VUkwsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIFVSTDogVVJMQ29uc3RydWN0b3Jcbn0pO1xuIiwiLy8gVE9ETzogUmVtb3ZlIHRoaXMgbW9kdWxlIGZyb20gYGNvcmUtanNANGAgc2luY2UgaXQncyByZXBsYWNlZCB0byBtb2R1bGUgYmVsb3dcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLnVybC5jb25zdHJ1Y3RvcicpO1xuIiwiaW1wb3J0IHtDaGFydCwgcmVnaXN0ZXJhYmxlc30gZnJvbSAnLi4vZGlzdC9jaGFydC5tanMnO1xuXG5DaGFydC5yZWdpc3RlciguLi5yZWdpc3RlcmFibGVzKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhcnQ7XG4iLCIvKiFcbiAqIENoYXJ0LmpzIHYzLjkuMVxuICogaHR0cHM6Ly93d3cuY2hhcnRqcy5vcmdcbiAqIChjKSAyMDIyIENoYXJ0LmpzIENvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVxdWVzdEFuaW1GcmFtZSwgYSBhcyByZXNvbHZlLCBlIGFzIGVmZmVjdHMsIGMgYXMgY29sb3IsIGQgYXMgZGVmYXVsdHMsIGkgYXMgaXNPYmplY3QsIGIgYXMgaXNBcnJheSwgdiBhcyB2YWx1ZU9yRGVmYXVsdCwgdSBhcyB1bmxpc3RlbkFycmF5RXZlbnRzLCBsIGFzIGxpc3RlbkFycmF5RXZlbnRzLCBmIGFzIHJlc29sdmVPYmplY3RLZXksIGcgYXMgaXNOdW1iZXJGaW5pdGUsIGggYXMgY3JlYXRlQ29udGV4dCwgaiBhcyBkZWZpbmVkLCBzIGFzIHNpZ24sIGsgYXMgaXNOdWxsT3JVbmRlZiwgXyBhcyBfYXJyYXlVbmlxdWUsIHQgYXMgdG9SYWRpYW5zLCBtIGFzIHRvUGVyY2VudGFnZSwgbiBhcyB0b0RpbWVuc2lvbiwgVCBhcyBUQVUsIG8gYXMgZm9ybWF0TnVtYmVyLCBwIGFzIF9hbmdsZUJldHdlZW4sIEggYXMgSEFMRl9QSSwgUCBhcyBQSSwgcSBhcyBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cywgdyBhcyBfc2NhbGVSYW5nZXNDaGFuZ2VkLCB4IGFzIGlzTnVtYmVyLCB5IGFzIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZSwgeiBhcyBsb2cxMCwgQSBhcyBfZmFjdG9yaXplLCBCIGFzIGZpbml0ZU9yRGVmYXVsdCwgQyBhcyBjYWxsYmFjaywgRCBhcyBfYWRkR3JhY2UsIEUgYXMgX2xpbWl0VmFsdWUsIEYgYXMgdG9EZWdyZWVzLCBHIGFzIF9tZWFzdXJlVGV4dCwgSSBhcyBfaW50MTZSYW5nZSwgSiBhcyBfYWxpZ25QaXhlbCwgSyBhcyB0b1BhZGRpbmcsIEwgYXMgY2xpcEFyZWEsIE0gYXMgcmVuZGVyVGV4dCwgTiBhcyB1bmNsaXBBcmVhLCBPIGFzIHRvRm9udCwgUSBhcyBlYWNoLCBSIGFzIF90b0xlZnRSaWdodENlbnRlciwgUyBhcyBfYWxpZ25TdGFydEVuZCwgVSBhcyBvdmVycmlkZXMsIFYgYXMgbWVyZ2UsIFcgYXMgX2NhcGl0YWxpemUsIFggYXMgZ2V0UmVsYXRpdmVQb3NpdGlvbiwgWSBhcyBfcmxvb2t1cEJ5S2V5LCBaIGFzIF9sb29rdXBCeUtleSwgJCBhcyBfaXNQb2ludEluQXJlYSwgYTAgYXMgZ2V0QW5nbGVGcm9tUG9pbnQsIGExIGFzIGdldE1heGltdW1TaXplLCBhMiBhcyBfZ2V0UGFyZW50Tm9kZSwgYTMgYXMgcmVhZFVzZWRTaXplLCBhNCBhcyB0aHJvdHRsZWQsIGE1IGFzIHN1cHBvcnRzRXZlbnRMaXN0ZW5lck9wdGlvbnMsIGE2IGFzIF9pc0RvbVN1cHBvcnRlZCwgYTcgYXMgZGVzY3JpcHRvcnMsIGE4IGFzIGlzRnVuY3Rpb24sIGE5IGFzIF9hdHRhY2hDb250ZXh0LCBhYSBhcyBfY3JlYXRlUmVzb2x2ZXIsIGFiIGFzIF9kZXNjcmlwdG9ycywgYWMgYXMgbWVyZ2VJZiwgYWQgYXMgdWlkLCBhZSBhcyBkZWJvdW5jZSwgYWYgYXMgcmV0aW5hU2NhbGUsIGFnIGFzIGNsZWFyQ2FudmFzLCBhaCBhcyBzZXRzRXF1YWwsIGFpIGFzIF9lbGVtZW50c0VxdWFsLCBhaiBhcyBfaXNDbGlja0V2ZW50LCBhayBhcyBfaXNCZXR3ZWVuLCBhbCBhcyBfcmVhZFZhbHVlVG9Qcm9wcywgYW0gYXMgX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHMsIGFuIGFzIF9jb21wdXRlU2VnbWVudHMsIGFvIGFzIF9ib3VuZFNlZ21lbnRzLCBhcCBhcyBfc3RlcHBlZEludGVycG9sYXRpb24sIGFxIGFzIF9iZXppZXJJbnRlcnBvbGF0aW9uLCBhciBhcyBfcG9pbnRJbkxpbmUsIGFzIGFzIF9zdGVwcGVkTGluZVRvLCBhdCBhcyBfYmV6aWVyQ3VydmVUbywgYXUgYXMgZHJhd1BvaW50LCBhdiBhcyBhZGRSb3VuZGVkUmVjdFBhdGgsIGF3IGFzIHRvVFJCTCwgYXggYXMgdG9UUkJMQ29ybmVycywgYXkgYXMgX2JvdW5kU2VnbWVudCwgYXogYXMgX25vcm1hbGl6ZUFuZ2xlLCBhQSBhcyBnZXRSdGxBZGFwdGVyLCBhQiBhcyBvdmVycmlkZVRleHREaXJlY3Rpb24sIGFDIGFzIF90ZXh0WCwgYUQgYXMgcmVzdG9yZVRleHREaXJlY3Rpb24sIGFFIGFzIGRyYXdQb2ludExlZ2VuZCwgYUYgYXMgbm9vcCwgYUcgYXMgZGlzdGFuY2VCZXR3ZWVuUG9pbnRzLCBhSCBhcyBfc2V0TWluQW5kTWF4QnlLZXksIGFJIGFzIG5pY2VOdW0sIGFKIGFzIGFsbW9zdFdob2xlLCBhSyBhcyBhbG1vc3RFcXVhbHMsIGFMIGFzIF9kZWNpbWFsUGxhY2VzLCBhTSBhcyBfbG9uZ2VzdFRleHQsIGFOIGFzIF9maWx0ZXJCZXR3ZWVuLCBhTyBhcyBfbG9va3VwIH0gZnJvbSAnLi9jaHVua3MvaGVscGVycy5zZWdtZW50Lm1qcyc7XG5leHBvcnQgeyBkIGFzIGRlZmF1bHRzIH0gZnJvbSAnLi9jaHVua3MvaGVscGVycy5zZWdtZW50Lm1qcyc7XG5cbmNsYXNzIEFuaW1hdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgdGhpcy5fY2hhcnRzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9sYXN0RGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICBfbm90aWZ5KGNoYXJ0LCBhbmltcywgZGF0ZSwgdHlwZSkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGFuaW1zLmxpc3RlbmVyc1t0eXBlXTtcbiAgICBjb25zdCBudW1TdGVwcyA9IGFuaW1zLmR1cmF0aW9uO1xuICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZuID0+IGZuKHtcbiAgICAgIGNoYXJ0LFxuICAgICAgaW5pdGlhbDogYW5pbXMuaW5pdGlhbCxcbiAgICAgIG51bVN0ZXBzLFxuICAgICAgY3VycmVudFN0ZXA6IE1hdGgubWluKGRhdGUgLSBhbmltcy5zdGFydCwgbnVtU3RlcHMpXG4gICAgfSkpO1xuICB9XG4gIF9yZWZyZXNoKCkge1xuICAgIGlmICh0aGlzLl9yZXF1ZXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3QgPSByZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LCAoKSA9PiB7XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgICAgaWYgKHRoaXMuX3J1bm5pbmcpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIF91cGRhdGUoZGF0ZSA9IERhdGUubm93KCkpIHtcbiAgICBsZXQgcmVtYWluaW5nID0gMDtcbiAgICB0aGlzLl9jaGFydHMuZm9yRWFjaCgoYW5pbXMsIGNoYXJ0KSA9PiB7XG4gICAgICBpZiAoIWFuaW1zLnJ1bm5pbmcgfHwgIWFuaW1zLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpdGVtcyA9IGFuaW1zLml0ZW1zO1xuICAgICAgbGV0IGkgPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgICAgbGV0IGRyYXcgPSBmYWxzZTtcbiAgICAgIGxldCBpdGVtO1xuICAgICAgZm9yICg7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgICAgaWYgKGl0ZW0uX2FjdGl2ZSkge1xuICAgICAgICAgIGlmIChpdGVtLl90b3RhbCA+IGFuaW1zLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICBhbmltcy5kdXJhdGlvbiA9IGl0ZW0uX3RvdGFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtLnRpY2soZGF0ZSk7XG4gICAgICAgICAgZHJhdyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbXNbaV0gPSBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpdGVtcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRyYXcpIHtcbiAgICAgICAgY2hhcnQuZHJhdygpO1xuICAgICAgICB0aGlzLl9ub3RpZnkoY2hhcnQsIGFuaW1zLCBkYXRlLCAncHJvZ3Jlc3MnKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIGFuaW1zLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbm90aWZ5KGNoYXJ0LCBhbmltcywgZGF0ZSwgJ2NvbXBsZXRlJyk7XG4gICAgICAgIGFuaW1zLmluaXRpYWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJlbWFpbmluZyArPSBpdGVtcy5sZW5ndGg7XG4gICAgfSk7XG4gICAgdGhpcy5fbGFzdERhdGUgPSBkYXRlO1xuICAgIGlmIChyZW1haW5pbmcgPT09IDApIHtcbiAgICAgIHRoaXMuX3J1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgX2dldEFuaW1zKGNoYXJ0KSB7XG4gICAgY29uc3QgY2hhcnRzID0gdGhpcy5fY2hhcnRzO1xuICAgIGxldCBhbmltcyA9IGNoYXJ0cy5nZXQoY2hhcnQpO1xuICAgIGlmICghYW5pbXMpIHtcbiAgICAgIGFuaW1zID0ge1xuICAgICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgICAgaW5pdGlhbDogdHJ1ZSxcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICBjb21wbGV0ZTogW10sXG4gICAgICAgICAgcHJvZ3Jlc3M6IFtdXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFydHMuc2V0KGNoYXJ0LCBhbmltcyk7XG4gICAgfVxuICAgIHJldHVybiBhbmltcztcbiAgfVxuICBsaXN0ZW4oY2hhcnQsIGV2ZW50LCBjYikge1xuICAgIHRoaXMuX2dldEFuaW1zKGNoYXJ0KS5saXN0ZW5lcnNbZXZlbnRdLnB1c2goY2IpO1xuICB9XG4gIGFkZChjaGFydCwgaXRlbXMpIHtcbiAgICBpZiAoIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZ2V0QW5pbXMoY2hhcnQpLml0ZW1zLnB1c2goLi4uaXRlbXMpO1xuICB9XG4gIGhhcyhjaGFydCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRBbmltcyhjaGFydCkuaXRlbXMubGVuZ3RoID4gMDtcbiAgfVxuICBzdGFydChjaGFydCkge1xuICAgIGNvbnN0IGFuaW1zID0gdGhpcy5fY2hhcnRzLmdldChjaGFydCk7XG4gICAgaWYgKCFhbmltcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhbmltcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICBhbmltcy5zdGFydCA9IERhdGUubm93KCk7XG4gICAgYW5pbXMuZHVyYXRpb24gPSBhbmltcy5pdGVtcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBNYXRoLm1heChhY2MsIGN1ci5fZHVyYXRpb24pLCAwKTtcbiAgICB0aGlzLl9yZWZyZXNoKCk7XG4gIH1cbiAgcnVubmluZyhjaGFydCkge1xuICAgIGlmICghdGhpcy5fcnVubmluZykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBhbmltcyA9IHRoaXMuX2NoYXJ0cy5nZXQoY2hhcnQpO1xuICAgIGlmICghYW5pbXMgfHwgIWFuaW1zLnJ1bm5pbmcgfHwgIWFuaW1zLml0ZW1zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzdG9wKGNoYXJ0KSB7XG4gICAgY29uc3QgYW5pbXMgPSB0aGlzLl9jaGFydHMuZ2V0KGNoYXJ0KTtcbiAgICBpZiAoIWFuaW1zIHx8ICFhbmltcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSBhbmltcy5pdGVtcztcbiAgICBsZXQgaSA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBpdGVtc1tpXS5jYW5jZWwoKTtcbiAgICB9XG4gICAgYW5pbXMuaXRlbXMgPSBbXTtcbiAgICB0aGlzLl9ub3RpZnkoY2hhcnQsIGFuaW1zLCBEYXRlLm5vdygpLCAnY29tcGxldGUnKTtcbiAgfVxuICByZW1vdmUoY2hhcnQpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhcnRzLmRlbGV0ZShjaGFydCk7XG4gIH1cbn1cbnZhciBhbmltYXRvciA9IG5ldyBBbmltYXRvcigpO1xuXG5jb25zdCB0cmFuc3BhcmVudCA9ICd0cmFuc3BhcmVudCc7XG5jb25zdCBpbnRlcnBvbGF0b3JzID0ge1xuICBib29sZWFuKGZyb20sIHRvLCBmYWN0b3IpIHtcbiAgICByZXR1cm4gZmFjdG9yID4gMC41ID8gdG8gOiBmcm9tO1xuICB9LFxuICBjb2xvcihmcm9tLCB0bywgZmFjdG9yKSB7XG4gICAgY29uc3QgYzAgPSBjb2xvcihmcm9tIHx8IHRyYW5zcGFyZW50KTtcbiAgICBjb25zdCBjMSA9IGMwLnZhbGlkICYmIGNvbG9yKHRvIHx8IHRyYW5zcGFyZW50KTtcbiAgICByZXR1cm4gYzEgJiYgYzEudmFsaWRcbiAgICAgID8gYzEubWl4KGMwLCBmYWN0b3IpLmhleFN0cmluZygpXG4gICAgICA6IHRvO1xuICB9LFxuICBudW1iZXIoZnJvbSwgdG8sIGZhY3Rvcikge1xuICAgIHJldHVybiBmcm9tICsgKHRvIC0gZnJvbSkgKiBmYWN0b3I7XG4gIH1cbn07XG5jbGFzcyBBbmltYXRpb24ge1xuICBjb25zdHJ1Y3RvcihjZmcsIHRhcmdldCwgcHJvcCwgdG8pIHtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgdG8gPSByZXNvbHZlKFtjZmcudG8sIHRvLCBjdXJyZW50VmFsdWUsIGNmZy5mcm9tXSk7XG4gICAgY29uc3QgZnJvbSA9IHJlc29sdmUoW2NmZy5mcm9tLCBjdXJyZW50VmFsdWUsIHRvXSk7XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLl9mbiA9IGNmZy5mbiB8fCBpbnRlcnBvbGF0b3JzW2NmZy50eXBlIHx8IHR5cGVvZiBmcm9tXTtcbiAgICB0aGlzLl9lYXNpbmcgPSBlZmZlY3RzW2NmZy5lYXNpbmddIHx8IGVmZmVjdHMubGluZWFyO1xuICAgIHRoaXMuX3N0YXJ0ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpICsgKGNmZy5kZWxheSB8fCAwKSk7XG4gICAgdGhpcy5fZHVyYXRpb24gPSB0aGlzLl90b3RhbCA9IE1hdGguZmxvb3IoY2ZnLmR1cmF0aW9uKTtcbiAgICB0aGlzLl9sb29wID0gISFjZmcubG9vcDtcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy5fcHJvcCA9IHByb3A7XG4gICAgdGhpcy5fZnJvbSA9IGZyb207XG4gICAgdGhpcy5fdG8gPSB0bztcbiAgICB0aGlzLl9wcm9taXNlcyA9IHVuZGVmaW5lZDtcbiAgfVxuICBhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgfVxuICB1cGRhdGUoY2ZnLCB0bywgZGF0ZSkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX25vdGlmeShmYWxzZSk7XG4gICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0aGlzLl90YXJnZXRbdGhpcy5fcHJvcF07XG4gICAgICBjb25zdCBlbGFwc2VkID0gZGF0ZSAtIHRoaXMuX3N0YXJ0O1xuICAgICAgY29uc3QgcmVtYWluID0gdGhpcy5fZHVyYXRpb24gLSBlbGFwc2VkO1xuICAgICAgdGhpcy5fc3RhcnQgPSBkYXRlO1xuICAgICAgdGhpcy5fZHVyYXRpb24gPSBNYXRoLmZsb29yKE1hdGgubWF4KHJlbWFpbiwgY2ZnLmR1cmF0aW9uKSk7XG4gICAgICB0aGlzLl90b3RhbCArPSBlbGFwc2VkO1xuICAgICAgdGhpcy5fbG9vcCA9ICEhY2ZnLmxvb3A7XG4gICAgICB0aGlzLl90byA9IHJlc29sdmUoW2NmZy50bywgdG8sIGN1cnJlbnRWYWx1ZSwgY2ZnLmZyb21dKTtcbiAgICAgIHRoaXMuX2Zyb20gPSByZXNvbHZlKFtjZmcuZnJvbSwgY3VycmVudFZhbHVlLCB0b10pO1xuICAgIH1cbiAgfVxuICBjYW5jZWwoKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy50aWNrKERhdGUubm93KCkpO1xuICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLl9ub3RpZnkoZmFsc2UpO1xuICAgIH1cbiAgfVxuICB0aWNrKGRhdGUpIHtcbiAgICBjb25zdCBlbGFwc2VkID0gZGF0ZSAtIHRoaXMuX3N0YXJ0O1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5fZHVyYXRpb247XG4gICAgY29uc3QgcHJvcCA9IHRoaXMuX3Byb3A7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuX2Zyb207XG4gICAgY29uc3QgbG9vcCA9IHRoaXMuX2xvb3A7XG4gICAgY29uc3QgdG8gPSB0aGlzLl90bztcbiAgICBsZXQgZmFjdG9yO1xuICAgIHRoaXMuX2FjdGl2ZSA9IGZyb20gIT09IHRvICYmIChsb29wIHx8IChlbGFwc2VkIDwgZHVyYXRpb24pKTtcbiAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgdGhpcy5fdGFyZ2V0W3Byb3BdID0gdG87XG4gICAgICB0aGlzLl9ub3RpZnkodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbGFwc2VkIDwgMCkge1xuICAgICAgdGhpcy5fdGFyZ2V0W3Byb3BdID0gZnJvbTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmFjdG9yID0gKGVsYXBzZWQgLyBkdXJhdGlvbikgJSAyO1xuICAgIGZhY3RvciA9IGxvb3AgJiYgZmFjdG9yID4gMSA/IDIgLSBmYWN0b3IgOiBmYWN0b3I7XG4gICAgZmFjdG9yID0gdGhpcy5fZWFzaW5nKE1hdGgubWluKDEsIE1hdGgubWF4KDAsIGZhY3RvcikpKTtcbiAgICB0aGlzLl90YXJnZXRbcHJvcF0gPSB0aGlzLl9mbihmcm9tLCB0bywgZmFjdG9yKTtcbiAgfVxuICB3YWl0KCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5fcHJvbWlzZXMgfHwgKHRoaXMuX3Byb21pc2VzID0gW10pO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgIHByb21pc2VzLnB1c2goe3JlcywgcmVqfSk7XG4gICAgfSk7XG4gIH1cbiAgX25vdGlmeShyZXNvbHZlZCkge1xuICAgIGNvbnN0IG1ldGhvZCA9IHJlc29sdmVkID8gJ3JlcycgOiAncmVqJztcbiAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuX3Byb21pc2VzIHx8IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb21pc2VzW2ldW21ldGhvZF0oKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbnVtYmVycyA9IFsneCcsICd5JywgJ2JvcmRlcldpZHRoJywgJ3JhZGl1cycsICd0ZW5zaW9uJ107XG5jb25zdCBjb2xvcnMgPSBbJ2NvbG9yJywgJ2JvcmRlckNvbG9yJywgJ2JhY2tncm91bmRDb2xvciddO1xuZGVmYXVsdHMuc2V0KCdhbmltYXRpb24nLCB7XG4gIGRlbGF5OiB1bmRlZmluZWQsXG4gIGR1cmF0aW9uOiAxMDAwLFxuICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnLFxuICBmbjogdW5kZWZpbmVkLFxuICBmcm9tOiB1bmRlZmluZWQsXG4gIGxvb3A6IHVuZGVmaW5lZCxcbiAgdG86IHVuZGVmaW5lZCxcbiAgdHlwZTogdW5kZWZpbmVkLFxufSk7XG5jb25zdCBhbmltYXRpb25PcHRpb25zID0gT2JqZWN0LmtleXMoZGVmYXVsdHMuYW5pbWF0aW9uKTtcbmRlZmF1bHRzLmRlc2NyaWJlKCdhbmltYXRpb24nLCB7XG4gIF9mYWxsYmFjazogZmFsc2UsXG4gIF9pbmRleGFibGU6IGZhbHNlLFxuICBfc2NyaXB0YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdvblByb2dyZXNzJyAmJiBuYW1lICE9PSAnb25Db21wbGV0ZScgJiYgbmFtZSAhPT0gJ2ZuJyxcbn0pO1xuZGVmYXVsdHMuc2V0KCdhbmltYXRpb25zJywge1xuICBjb2xvcnM6IHtcbiAgICB0eXBlOiAnY29sb3InLFxuICAgIHByb3BlcnRpZXM6IGNvbG9yc1xuICB9LFxuICBudW1iZXJzOiB7XG4gICAgdHlwZTogJ251bWJlcicsXG4gICAgcHJvcGVydGllczogbnVtYmVyc1xuICB9LFxufSk7XG5kZWZhdWx0cy5kZXNjcmliZSgnYW5pbWF0aW9ucycsIHtcbiAgX2ZhbGxiYWNrOiAnYW5pbWF0aW9uJyxcbn0pO1xuZGVmYXVsdHMuc2V0KCd0cmFuc2l0aW9ucycsIHtcbiAgYWN0aXZlOiB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogNDAwXG4gICAgfVxuICB9LFxuICByZXNpemU6IHtcbiAgICBhbmltYXRpb246IHtcbiAgICAgIGR1cmF0aW9uOiAwXG4gICAgfVxuICB9LFxuICBzaG93OiB7XG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgY29sb3JzOiB7XG4gICAgICAgIGZyb206ICd0cmFuc3BhcmVudCdcbiAgICAgIH0sXG4gICAgICB2aXNpYmxlOiB7XG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgZHVyYXRpb246IDBcbiAgICAgIH0sXG4gICAgfVxuICB9LFxuICBoaWRlOiB7XG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHRvOiAndHJhbnNwYXJlbnQnXG4gICAgICB9LFxuICAgICAgdmlzaWJsZToge1xuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAgICAgIGZuOiB2ID0+IHYgfCAwXG4gICAgICB9LFxuICAgIH1cbiAgfVxufSk7XG5jbGFzcyBBbmltYXRpb25zIHtcbiAgY29uc3RydWN0b3IoY2hhcnQsIGNvbmZpZykge1xuICAgIHRoaXMuX2NoYXJ0ID0gY2hhcnQ7XG4gICAgdGhpcy5fcHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmNvbmZpZ3VyZShjb25maWcpO1xuICB9XG4gIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0ZWRQcm9wcyA9IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY29uZmlnKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBjZmcgPSBjb25maWdba2V5XTtcbiAgICAgIGlmICghaXNPYmplY3QoY2ZnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZXNvbHZlZCA9IHt9O1xuICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgYW5pbWF0aW9uT3B0aW9ucykge1xuICAgICAgICByZXNvbHZlZFtvcHRpb25dID0gY2ZnW29wdGlvbl07XG4gICAgICB9XG4gICAgICAoaXNBcnJheShjZmcucHJvcGVydGllcykgJiYgY2ZnLnByb3BlcnRpZXMgfHwgW2tleV0pLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgICAgaWYgKHByb3AgPT09IGtleSB8fCAhYW5pbWF0ZWRQcm9wcy5oYXMocHJvcCkpIHtcbiAgICAgICAgICBhbmltYXRlZFByb3BzLnNldChwcm9wLCByZXNvbHZlZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIF9hbmltYXRlT3B0aW9ucyh0YXJnZXQsIHZhbHVlcykge1xuICAgIGNvbnN0IG5ld09wdGlvbnMgPSB2YWx1ZXMub3B0aW9ucztcbiAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZVRhcmdldE9wdGlvbnModGFyZ2V0LCBuZXdPcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMob3B0aW9ucywgbmV3T3B0aW9ucyk7XG4gICAgaWYgKG5ld09wdGlvbnMuJHNoYXJlZCkge1xuICAgICAgYXdhaXRBbGwodGFyZ2V0Lm9wdGlvbnMuJGFuaW1hdGlvbnMsIG5ld09wdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0YXJnZXQub3B0aW9ucyA9IG5ld09wdGlvbnM7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gIH1cbiAgX2NyZWF0ZUFuaW1hdGlvbnModGFyZ2V0LCB2YWx1ZXMpIHtcbiAgICBjb25zdCBhbmltYXRlZFByb3BzID0gdGhpcy5fcHJvcGVydGllcztcbiAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgY29uc3QgcnVubmluZyA9IHRhcmdldC4kYW5pbWF0aW9ucyB8fCAodGFyZ2V0LiRhbmltYXRpb25zID0ge30pO1xuICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICBjb25zdCBkYXRlID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSBwcm9wcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3QgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKHByb3AuY2hhckF0KDApID09PSAnJCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvcCA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgIGFuaW1hdGlvbnMucHVzaCguLi50aGlzLl9hbmltYXRlT3B0aW9ucyh0YXJnZXQsIHZhbHVlcykpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW3Byb3BdO1xuICAgICAgbGV0IGFuaW1hdGlvbiA9IHJ1bm5pbmdbcHJvcF07XG4gICAgICBjb25zdCBjZmcgPSBhbmltYXRlZFByb3BzLmdldChwcm9wKTtcbiAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgaWYgKGNmZyAmJiBhbmltYXRpb24uYWN0aXZlKCkpIHtcbiAgICAgICAgICBhbmltYXRpb24udXBkYXRlKGNmZywgdmFsdWUsIGRhdGUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjZmcgfHwgIWNmZy5kdXJhdGlvbikge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBydW5uaW5nW3Byb3BdID0gYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbihjZmcsIHRhcmdldCwgcHJvcCwgdmFsdWUpO1xuICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb25zO1xuICB9XG4gIHVwZGF0ZSh0YXJnZXQsIHZhbHVlcykge1xuICAgIGlmICh0aGlzLl9wcm9wZXJ0aWVzLnNpemUgPT09IDApIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB2YWx1ZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb25zID0gdGhpcy5fY3JlYXRlQW5pbWF0aW9ucyh0YXJnZXQsIHZhbHVlcyk7XG4gICAgaWYgKGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICBhbmltYXRvci5hZGQodGhpcy5fY2hhcnQsIGFuaW1hdGlvbnMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhd2FpdEFsbChhbmltYXRpb25zLCBwcm9wZXJ0aWVzKSB7XG4gIGNvbnN0IHJ1bm5pbmcgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhbmltID0gYW5pbWF0aW9uc1trZXlzW2ldXTtcbiAgICBpZiAoYW5pbSAmJiBhbmltLmFjdGl2ZSgpKSB7XG4gICAgICBydW5uaW5nLnB1c2goYW5pbS53YWl0KCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gUHJvbWlzZS5hbGwocnVubmluZyk7XG59XG5mdW5jdGlvbiByZXNvbHZlVGFyZ2V0T3B0aW9ucyh0YXJnZXQsIG5ld09wdGlvbnMpIHtcbiAgaWYgKCFuZXdPcHRpb25zKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBvcHRpb25zID0gdGFyZ2V0Lm9wdGlvbnM7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHRhcmdldC5vcHRpb25zID0gbmV3T3B0aW9ucztcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG9wdGlvbnMuJHNoYXJlZCkge1xuICAgIHRhcmdldC5vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHskc2hhcmVkOiBmYWxzZSwgJGFuaW1hdGlvbnM6IHt9fSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIHNjYWxlQ2xpcChzY2FsZSwgYWxsb3dlZE92ZXJmbG93KSB7XG4gIGNvbnN0IG9wdHMgPSBzY2FsZSAmJiBzY2FsZS5vcHRpb25zIHx8IHt9O1xuICBjb25zdCByZXZlcnNlID0gb3B0cy5yZXZlcnNlO1xuICBjb25zdCBtaW4gPSBvcHRzLm1pbiA9PT0gdW5kZWZpbmVkID8gYWxsb3dlZE92ZXJmbG93IDogMDtcbiAgY29uc3QgbWF4ID0gb3B0cy5tYXggPT09IHVuZGVmaW5lZCA/IGFsbG93ZWRPdmVyZmxvdyA6IDA7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHJldmVyc2UgPyBtYXggOiBtaW4sXG4gICAgZW5kOiByZXZlcnNlID8gbWluIDogbWF4XG4gIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xpcCh4U2NhbGUsIHlTY2FsZSwgYWxsb3dlZE92ZXJmbG93KSB7XG4gIGlmIChhbGxvd2VkT3ZlcmZsb3cgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHggPSBzY2FsZUNsaXAoeFNjYWxlLCBhbGxvd2VkT3ZlcmZsb3cpO1xuICBjb25zdCB5ID0gc2NhbGVDbGlwKHlTY2FsZSwgYWxsb3dlZE92ZXJmbG93KTtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHkuZW5kLFxuICAgIHJpZ2h0OiB4LmVuZCxcbiAgICBib3R0b206IHkuc3RhcnQsXG4gICAgbGVmdDogeC5zdGFydFxuICB9O1xufVxuZnVuY3Rpb24gdG9DbGlwKHZhbHVlKSB7XG4gIGxldCB0LCByLCBiLCBsO1xuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdCA9IHZhbHVlLnRvcDtcbiAgICByID0gdmFsdWUucmlnaHQ7XG4gICAgYiA9IHZhbHVlLmJvdHRvbTtcbiAgICBsID0gdmFsdWUubGVmdDtcbiAgfSBlbHNlIHtcbiAgICB0ID0gciA9IGIgPSBsID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0b3A6IHQsXG4gICAgcmlnaHQ6IHIsXG4gICAgYm90dG9tOiBiLFxuICAgIGxlZnQ6IGwsXG4gICAgZGlzYWJsZWQ6IHZhbHVlID09PSBmYWxzZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U29ydGVkRGF0YXNldEluZGljZXMoY2hhcnQsIGZpbHRlclZpc2libGUpIHtcbiAgY29uc3Qga2V5cyA9IFtdO1xuICBjb25zdCBtZXRhc2V0cyA9IGNoYXJ0Ll9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoZmlsdGVyVmlzaWJsZSk7XG4gIGxldCBpLCBpbGVuO1xuICBmb3IgKGkgPSAwLCBpbGVuID0gbWV0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAga2V5cy5wdXNoKG1ldGFzZXRzW2ldLmluZGV4KTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cbmZ1bmN0aW9uIGFwcGx5U3RhY2soc3RhY2ssIHZhbHVlLCBkc0luZGV4LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qga2V5cyA9IHN0YWNrLmtleXM7XG4gIGNvbnN0IHNpbmdsZU1vZGUgPSBvcHRpb25zLm1vZGUgPT09ICdzaW5nbGUnO1xuICBsZXQgaSwgaWxlbiwgZGF0YXNldEluZGV4LCBvdGhlclZhbHVlO1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChpID0gMCwgaWxlbiA9IGtleXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgZGF0YXNldEluZGV4ID0gK2tleXNbaV07XG4gICAgaWYgKGRhdGFzZXRJbmRleCA9PT0gZHNJbmRleCkge1xuICAgICAgaWYgKG9wdGlvbnMuYWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG90aGVyVmFsdWUgPSBzdGFjay52YWx1ZXNbZGF0YXNldEluZGV4XTtcbiAgICBpZiAoaXNOdW1iZXJGaW5pdGUob3RoZXJWYWx1ZSkgJiYgKHNpbmdsZU1vZGUgfHwgKHZhbHVlID09PSAwIHx8IHNpZ24odmFsdWUpID09PSBzaWduKG90aGVyVmFsdWUpKSkpIHtcbiAgICAgIHZhbHVlICs9IG90aGVyVmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRPYmplY3REYXRhVG9BcnJheShkYXRhKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcbiAgY29uc3QgYWRhdGEgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICBsZXQgaSwgaWxlbiwga2V5O1xuICBmb3IgKGkgPSAwLCBpbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIGFkYXRhW2ldID0ge1xuICAgICAgeDoga2V5LFxuICAgICAgeTogZGF0YVtrZXldXG4gICAgfTtcbiAgfVxuICByZXR1cm4gYWRhdGE7XG59XG5mdW5jdGlvbiBpc1N0YWNrZWQoc2NhbGUsIG1ldGEpIHtcbiAgY29uc3Qgc3RhY2tlZCA9IHNjYWxlICYmIHNjYWxlLm9wdGlvbnMuc3RhY2tlZDtcbiAgcmV0dXJuIHN0YWNrZWQgfHwgKHN0YWNrZWQgPT09IHVuZGVmaW5lZCAmJiBtZXRhLnN0YWNrICE9PSB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gZ2V0U3RhY2tLZXkoaW5kZXhTY2FsZSwgdmFsdWVTY2FsZSwgbWV0YSkge1xuICByZXR1cm4gYCR7aW5kZXhTY2FsZS5pZH0uJHt2YWx1ZVNjYWxlLmlkfS4ke21ldGEuc3RhY2sgfHwgbWV0YS50eXBlfWA7XG59XG5mdW5jdGlvbiBnZXRVc2VyQm91bmRzKHNjYWxlKSB7XG4gIGNvbnN0IHttaW4sIG1heCwgbWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSBzY2FsZS5nZXRVc2VyQm91bmRzKCk7XG4gIHJldHVybiB7XG4gICAgbWluOiBtaW5EZWZpbmVkID8gbWluIDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLFxuICAgIG1heDogbWF4RGVmaW5lZCA/IG1heCA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0T3JDcmVhdGVTdGFjayhzdGFja3MsIHN0YWNrS2V5LCBpbmRleFZhbHVlKSB7XG4gIGNvbnN0IHN1YlN0YWNrID0gc3RhY2tzW3N0YWNrS2V5XSB8fCAoc3RhY2tzW3N0YWNrS2V5XSA9IHt9KTtcbiAgcmV0dXJuIHN1YlN0YWNrW2luZGV4VmFsdWVdIHx8IChzdWJTdGFja1tpbmRleFZhbHVlXSA9IHt9KTtcbn1cbmZ1bmN0aW9uIGdldExhc3RJbmRleEluU3RhY2soc3RhY2ssIHZTY2FsZSwgcG9zaXRpdmUsIHR5cGUpIHtcbiAgZm9yIChjb25zdCBtZXRhIG9mIHZTY2FsZS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0eXBlKS5yZXZlcnNlKCkpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0YWNrW21ldGEuaW5kZXhdO1xuICAgIGlmICgocG9zaXRpdmUgJiYgdmFsdWUgPiAwKSB8fCAoIXBvc2l0aXZlICYmIHZhbHVlIDwgMCkpIHtcbiAgICAgIHJldHVybiBtZXRhLmluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVN0YWNrcyhjb250cm9sbGVyLCBwYXJzZWQpIHtcbiAgY29uc3Qge2NoYXJ0LCBfY2FjaGVkTWV0YTogbWV0YX0gPSBjb250cm9sbGVyO1xuICBjb25zdCBzdGFja3MgPSBjaGFydC5fc3RhY2tzIHx8IChjaGFydC5fc3RhY2tzID0ge30pO1xuICBjb25zdCB7aVNjYWxlLCB2U2NhbGUsIGluZGV4OiBkYXRhc2V0SW5kZXh9ID0gbWV0YTtcbiAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgY29uc3Qga2V5ID0gZ2V0U3RhY2tLZXkoaVNjYWxlLCB2U2NhbGUsIG1ldGEpO1xuICBjb25zdCBpbGVuID0gcGFyc2VkLmxlbmd0aDtcbiAgbGV0IHN0YWNrO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlsZW47ICsraSkge1xuICAgIGNvbnN0IGl0ZW0gPSBwYXJzZWRbaV07XG4gICAgY29uc3Qge1tpQXhpc106IGluZGV4LCBbdkF4aXNdOiB2YWx1ZX0gPSBpdGVtO1xuICAgIGNvbnN0IGl0ZW1TdGFja3MgPSBpdGVtLl9zdGFja3MgfHwgKGl0ZW0uX3N0YWNrcyA9IHt9KTtcbiAgICBzdGFjayA9IGl0ZW1TdGFja3NbdkF4aXNdID0gZ2V0T3JDcmVhdGVTdGFjayhzdGFja3MsIGtleSwgaW5kZXgpO1xuICAgIHN0YWNrW2RhdGFzZXRJbmRleF0gPSB2YWx1ZTtcbiAgICBzdGFjay5fdG9wID0gZ2V0TGFzdEluZGV4SW5TdGFjayhzdGFjaywgdlNjYWxlLCB0cnVlLCBtZXRhLnR5cGUpO1xuICAgIHN0YWNrLl9ib3R0b20gPSBnZXRMYXN0SW5kZXhJblN0YWNrKHN0YWNrLCB2U2NhbGUsIGZhbHNlLCBtZXRhLnR5cGUpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRGaXJzdFNjYWxlSWQoY2hhcnQsIGF4aXMpIHtcbiAgY29uc3Qgc2NhbGVzID0gY2hhcnQuc2NhbGVzO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc2NhbGVzKS5maWx0ZXIoa2V5ID0+IHNjYWxlc1trZXldLmF4aXMgPT09IGF4aXMpLnNoaWZ0KCk7XG59XG5mdW5jdGlvbiBjcmVhdGVEYXRhc2V0Q29udGV4dChwYXJlbnQsIGluZGV4KSB7XG4gIHJldHVybiBjcmVhdGVDb250ZXh0KHBhcmVudCxcbiAgICB7XG4gICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgZGF0YXNldDogdW5kZWZpbmVkLFxuICAgICAgZGF0YXNldEluZGV4OiBpbmRleCxcbiAgICAgIGluZGV4LFxuICAgICAgbW9kZTogJ2RlZmF1bHQnLFxuICAgICAgdHlwZTogJ2RhdGFzZXQnXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlRGF0YUNvbnRleHQocGFyZW50LCBpbmRleCwgZWxlbWVudCkge1xuICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICBhY3RpdmU6IGZhbHNlLFxuICAgIGRhdGFJbmRleDogaW5kZXgsXG4gICAgcGFyc2VkOiB1bmRlZmluZWQsXG4gICAgcmF3OiB1bmRlZmluZWQsXG4gICAgZWxlbWVudCxcbiAgICBpbmRleCxcbiAgICBtb2RlOiAnZGVmYXVsdCcsXG4gICAgdHlwZTogJ2RhdGEnXG4gIH0pO1xufVxuZnVuY3Rpb24gY2xlYXJTdGFja3MobWV0YSwgaXRlbXMpIHtcbiAgY29uc3QgZGF0YXNldEluZGV4ID0gbWV0YS5jb250cm9sbGVyLmluZGV4O1xuICBjb25zdCBheGlzID0gbWV0YS52U2NhbGUgJiYgbWV0YS52U2NhbGUuYXhpcztcbiAgaWYgKCFheGlzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGl0ZW1zID0gaXRlbXMgfHwgbWV0YS5fcGFyc2VkO1xuICBmb3IgKGNvbnN0IHBhcnNlZCBvZiBpdGVtcykge1xuICAgIGNvbnN0IHN0YWNrcyA9IHBhcnNlZC5fc3RhY2tzO1xuICAgIGlmICghc3RhY2tzIHx8IHN0YWNrc1theGlzXSA9PT0gdW5kZWZpbmVkIHx8IHN0YWNrc1theGlzXVtkYXRhc2V0SW5kZXhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVsZXRlIHN0YWNrc1theGlzXVtkYXRhc2V0SW5kZXhdO1xuICB9XG59XG5jb25zdCBpc0RpcmVjdFVwZGF0ZU1vZGUgPSAobW9kZSkgPT4gbW9kZSA9PT0gJ3Jlc2V0JyB8fCBtb2RlID09PSAnbm9uZSc7XG5jb25zdCBjbG9uZUlmTm90U2hhcmVkID0gKGNhY2hlZCwgc2hhcmVkKSA9PiBzaGFyZWQgPyBjYWNoZWQgOiBPYmplY3QuYXNzaWduKHt9LCBjYWNoZWQpO1xuY29uc3QgY3JlYXRlU3RhY2sgPSAoY2FuU3RhY2ssIG1ldGEsIGNoYXJ0KSA9PiBjYW5TdGFjayAmJiAhbWV0YS5oaWRkZW4gJiYgbWV0YS5fc3RhY2tlZFxuICAmJiB7a2V5czogZ2V0U29ydGVkRGF0YXNldEluZGljZXMoY2hhcnQsIHRydWUpLCB2YWx1ZXM6IG51bGx9O1xuY2xhc3MgRGF0YXNldENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihjaGFydCwgZGF0YXNldEluZGV4KSB7XG4gICAgdGhpcy5jaGFydCA9IGNoYXJ0O1xuICAgIHRoaXMuX2N0eCA9IGNoYXJ0LmN0eDtcbiAgICB0aGlzLmluZGV4ID0gZGF0YXNldEluZGV4O1xuICAgIHRoaXMuX2NhY2hlZERhdGFPcHRzID0ge307XG4gICAgdGhpcy5fY2FjaGVkTWV0YSA9IHRoaXMuZ2V0TWV0YSgpO1xuICAgIHRoaXMuX3R5cGUgPSB0aGlzLl9jYWNoZWRNZXRhLnR5cGU7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3BhcnNpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9kYXRhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29iamVjdERhdGEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc2hhcmVkT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kcmF3U3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZHJhd0NvdW50ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyA9IGZhbHNlO1xuICAgIHRoaXMuc3VwcG9ydHNEZWNpbWF0aW9uID0gZmFsc2U7XG4gICAgdGhpcy4kY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zeW5jTGlzdCA9IFtdO1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIGluaXRpYWxpemUoKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgdGhpcy5jb25maWd1cmUoKTtcbiAgICB0aGlzLmxpbmtTY2FsZXMoKTtcbiAgICBtZXRhLl9zdGFja2VkID0gaXNTdGFja2VkKG1ldGEudlNjYWxlLCBtZXRhKTtcbiAgICB0aGlzLmFkZEVsZW1lbnRzKCk7XG4gIH1cbiAgdXBkYXRlSW5kZXgoZGF0YXNldEluZGV4KSB7XG4gICAgaWYgKHRoaXMuaW5kZXggIT09IGRhdGFzZXRJbmRleCkge1xuICAgICAgY2xlYXJTdGFja3ModGhpcy5fY2FjaGVkTWV0YSk7XG4gICAgfVxuICAgIHRoaXMuaW5kZXggPSBkYXRhc2V0SW5kZXg7XG4gIH1cbiAgbGlua1NjYWxlcygpIHtcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZ2V0RGF0YXNldCgpO1xuICAgIGNvbnN0IGNob29zZUlkID0gKGF4aXMsIHgsIHksIHIpID0+IGF4aXMgPT09ICd4JyA/IHggOiBheGlzID09PSAncicgPyByIDogeTtcbiAgICBjb25zdCB4aWQgPSBtZXRhLnhBeGlzSUQgPSB2YWx1ZU9yRGVmYXVsdChkYXRhc2V0LnhBeGlzSUQsIGdldEZpcnN0U2NhbGVJZChjaGFydCwgJ3gnKSk7XG4gICAgY29uc3QgeWlkID0gbWV0YS55QXhpc0lEID0gdmFsdWVPckRlZmF1bHQoZGF0YXNldC55QXhpc0lELCBnZXRGaXJzdFNjYWxlSWQoY2hhcnQsICd5JykpO1xuICAgIGNvbnN0IHJpZCA9IG1ldGEuckF4aXNJRCA9IHZhbHVlT3JEZWZhdWx0KGRhdGFzZXQuckF4aXNJRCwgZ2V0Rmlyc3RTY2FsZUlkKGNoYXJ0LCAncicpKTtcbiAgICBjb25zdCBpbmRleEF4aXMgPSBtZXRhLmluZGV4QXhpcztcbiAgICBjb25zdCBpaWQgPSBtZXRhLmlBeGlzSUQgPSBjaG9vc2VJZChpbmRleEF4aXMsIHhpZCwgeWlkLCByaWQpO1xuICAgIGNvbnN0IHZpZCA9IG1ldGEudkF4aXNJRCA9IGNob29zZUlkKGluZGV4QXhpcywgeWlkLCB4aWQsIHJpZCk7XG4gICAgbWV0YS54U2NhbGUgPSB0aGlzLmdldFNjYWxlRm9ySWQoeGlkKTtcbiAgICBtZXRhLnlTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZCh5aWQpO1xuICAgIG1ldGEuclNjYWxlID0gdGhpcy5nZXRTY2FsZUZvcklkKHJpZCk7XG4gICAgbWV0YS5pU2NhbGUgPSB0aGlzLmdldFNjYWxlRm9ySWQoaWlkKTtcbiAgICBtZXRhLnZTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZCh2aWQpO1xuICB9XG4gIGdldERhdGFzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1t0aGlzLmluZGV4XTtcbiAgfVxuICBnZXRNZXRhKCkge1xuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKHRoaXMuaW5kZXgpO1xuICB9XG4gIGdldFNjYWxlRm9ySWQoc2NhbGVJRCkge1xuICAgIHJldHVybiB0aGlzLmNoYXJ0LnNjYWxlc1tzY2FsZUlEXTtcbiAgfVxuICBfZ2V0T3RoZXJTY2FsZShzY2FsZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIHJldHVybiBzY2FsZSA9PT0gbWV0YS5pU2NhbGVcbiAgICAgID8gbWV0YS52U2NhbGVcbiAgICAgIDogbWV0YS5pU2NhbGU7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlKCdyZXNldCcpO1xuICB9XG4gIF9kZXN0cm95KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICB1bmxpc3RlbkFycmF5RXZlbnRzKHRoaXMuX2RhdGEsIHRoaXMpO1xuICAgIH1cbiAgICBpZiAobWV0YS5fc3RhY2tlZCkge1xuICAgICAgY2xlYXJTdGFja3MobWV0YSk7XG4gICAgfVxuICB9XG4gIF9kYXRhQ2hlY2soKSB7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZ2V0RGF0YXNldCgpO1xuICAgIGNvbnN0IGRhdGEgPSBkYXRhc2V0LmRhdGEgfHwgKGRhdGFzZXQuZGF0YSA9IFtdKTtcbiAgICBjb25zdCBfZGF0YSA9IHRoaXMuX2RhdGE7XG4gICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICB0aGlzLl9kYXRhID0gY29udmVydE9iamVjdERhdGFUb0FycmF5KGRhdGEpO1xuICAgIH0gZWxzZSBpZiAoX2RhdGEgIT09IGRhdGEpIHtcbiAgICAgIGlmIChfZGF0YSkge1xuICAgICAgICB1bmxpc3RlbkFycmF5RXZlbnRzKF9kYXRhLCB0aGlzKTtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNsZWFyU3RhY2tzKG1ldGEpO1xuICAgICAgICBtZXRhLl9wYXJzZWQgPSBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChkYXRhICYmIE9iamVjdC5pc0V4dGVuc2libGUoZGF0YSkpIHtcbiAgICAgICAgbGlzdGVuQXJyYXlFdmVudHMoZGF0YSwgdGhpcyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zeW5jTGlzdCA9IFtdO1xuICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgfVxuICB9XG4gIGFkZEVsZW1lbnRzKCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIHRoaXMuX2RhdGFDaGVjaygpO1xuICAgIGlmICh0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSkge1xuICAgICAgbWV0YS5kYXRhc2V0ID0gbmV3IHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlKCk7XG4gICAgfVxuICB9XG4gIGJ1aWxkT3JVcGRhdGVFbGVtZW50cyhyZXNldE5ld0VsZW1lbnRzKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZ2V0RGF0YXNldCgpO1xuICAgIGxldCBzdGFja0NoYW5nZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9kYXRhQ2hlY2soKTtcbiAgICBjb25zdCBvbGRTdGFja2VkID0gbWV0YS5fc3RhY2tlZDtcbiAgICBtZXRhLl9zdGFja2VkID0gaXNTdGFja2VkKG1ldGEudlNjYWxlLCBtZXRhKTtcbiAgICBpZiAobWV0YS5zdGFjayAhPT0gZGF0YXNldC5zdGFjaykge1xuICAgICAgc3RhY2tDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIGNsZWFyU3RhY2tzKG1ldGEpO1xuICAgICAgbWV0YS5zdGFjayA9IGRhdGFzZXQuc3RhY2s7XG4gICAgfVxuICAgIHRoaXMuX3Jlc3luY0VsZW1lbnRzKHJlc2V0TmV3RWxlbWVudHMpO1xuICAgIGlmIChzdGFja0NoYW5nZWQgfHwgb2xkU3RhY2tlZCAhPT0gbWV0YS5fc3RhY2tlZCkge1xuICAgICAgdXBkYXRlU3RhY2tzKHRoaXMsIG1ldGEuX3BhcnNlZCk7XG4gICAgfVxuICB9XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNoYXJ0LmNvbmZpZztcbiAgICBjb25zdCBzY29wZUtleXMgPSBjb25maWcuZGF0YXNldFNjb3BlS2V5cyh0aGlzLl90eXBlKTtcbiAgICBjb25zdCBzY29wZXMgPSBjb25maWcuZ2V0T3B0aW9uU2NvcGVzKHRoaXMuZ2V0RGF0YXNldCgpLCBzY29wZUtleXMsIHRydWUpO1xuICAgIHRoaXMub3B0aW9ucyA9IGNvbmZpZy5jcmVhdGVSZXNvbHZlcihzY29wZXMsIHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICB0aGlzLl9wYXJzaW5nID0gdGhpcy5vcHRpb25zLnBhcnNpbmc7XG4gICAgdGhpcy5fY2FjaGVkRGF0YU9wdHMgPSB7fTtcbiAgfVxuICBwYXJzZShzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCB7X2NhY2hlZE1ldGE6IG1ldGEsIF9kYXRhOiBkYXRhfSA9IHRoaXM7XG4gICAgY29uc3Qge2lTY2FsZSwgX3N0YWNrZWR9ID0gbWV0YTtcbiAgICBjb25zdCBpQXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGxldCBzb3J0ZWQgPSBzdGFydCA9PT0gMCAmJiBjb3VudCA9PT0gZGF0YS5sZW5ndGggPyB0cnVlIDogbWV0YS5fc29ydGVkO1xuICAgIGxldCBwcmV2ID0gc3RhcnQgPiAwICYmIG1ldGEuX3BhcnNlZFtzdGFydCAtIDFdO1xuICAgIGxldCBpLCBjdXIsIHBhcnNlZDtcbiAgICBpZiAodGhpcy5fcGFyc2luZyA9PT0gZmFsc2UpIHtcbiAgICAgIG1ldGEuX3BhcnNlZCA9IGRhdGE7XG4gICAgICBtZXRhLl9zb3J0ZWQgPSB0cnVlO1xuICAgICAgcGFyc2VkID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzQXJyYXkoZGF0YVtzdGFydF0pKSB7XG4gICAgICAgIHBhcnNlZCA9IHRoaXMucGFyc2VBcnJheURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZGF0YVtzdGFydF0pKSB7XG4gICAgICAgIHBhcnNlZCA9IHRoaXMucGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlUHJpbWl0aXZlRGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNOb3RJbk9yZGVyQ29tcGFyZWRUb1ByZXYgPSAoKSA9PiBjdXJbaUF4aXNdID09PSBudWxsIHx8IChwcmV2ICYmIGN1cltpQXhpc10gPCBwcmV2W2lBeGlzXSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICBtZXRhLl9wYXJzZWRbaSArIHN0YXJ0XSA9IGN1ciA9IHBhcnNlZFtpXTtcbiAgICAgICAgaWYgKHNvcnRlZCkge1xuICAgICAgICAgIGlmIChpc05vdEluT3JkZXJDb21wYXJlZFRvUHJldigpKSB7XG4gICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldiA9IGN1cjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWV0YS5fc29ydGVkID0gc29ydGVkO1xuICAgIH1cbiAgICBpZiAoX3N0YWNrZWQpIHtcbiAgICAgIHVwZGF0ZVN0YWNrcyh0aGlzLCBwYXJzZWQpO1xuICAgIH1cbiAgfVxuICBwYXJzZVByaW1pdGl2ZURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgY29uc3Qge2lTY2FsZSwgdlNjYWxlfSA9IG1ldGE7XG4gICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICBjb25zdCB2QXhpcyA9IHZTY2FsZS5heGlzO1xuICAgIGNvbnN0IGxhYmVscyA9IGlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgICBjb25zdCBzaW5nbGVTY2FsZSA9IGlTY2FsZSA9PT0gdlNjYWxlO1xuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgbGV0IGksIGlsZW4sIGluZGV4O1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBjb3VudDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgaW5kZXggPSBpICsgc3RhcnQ7XG4gICAgICBwYXJzZWRbaV0gPSB7XG4gICAgICAgIFtpQXhpc106IHNpbmdsZVNjYWxlIHx8IGlTY2FsZS5wYXJzZShsYWJlbHNbaW5kZXhdLCBpbmRleCksXG4gICAgICAgIFt2QXhpc106IHZTY2FsZS5wYXJzZShkYXRhW2luZGV4XSwgaW5kZXgpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIHBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHt4U2NhbGUsIHlTY2FsZX0gPSBtZXRhO1xuICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgbGV0IGksIGlsZW4sIGluZGV4LCBpdGVtO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBjb3VudDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgaW5kZXggPSBpICsgc3RhcnQ7XG4gICAgICBpdGVtID0gZGF0YVtpbmRleF07XG4gICAgICBwYXJzZWRbaV0gPSB7XG4gICAgICAgIHg6IHhTY2FsZS5wYXJzZShpdGVtWzBdLCBpbmRleCksXG4gICAgICAgIHk6IHlTY2FsZS5wYXJzZShpdGVtWzFdLCBpbmRleClcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cbiAgcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHt4U2NhbGUsIHlTY2FsZX0gPSBtZXRhO1xuICAgIGNvbnN0IHt4QXhpc0tleSA9ICd4JywgeUF4aXNLZXkgPSAneSd9ID0gdGhpcy5fcGFyc2luZztcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGxldCBpLCBpbGVuLCBpbmRleCwgaXRlbTtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGluZGV4ID0gaSArIHN0YXJ0O1xuICAgICAgaXRlbSA9IGRhdGFbaW5kZXhdO1xuICAgICAgcGFyc2VkW2ldID0ge1xuICAgICAgICB4OiB4U2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShpdGVtLCB4QXhpc0tleSksIGluZGV4KSxcbiAgICAgICAgeTogeVNjYWxlLnBhcnNlKHJlc29sdmVPYmplY3RLZXkoaXRlbSwgeUF4aXNLZXkpLCBpbmRleClcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cbiAgZ2V0UGFyc2VkKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZE1ldGEuX3BhcnNlZFtpbmRleF07XG4gIH1cbiAgZ2V0RGF0YUVsZW1lbnQoaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkTWV0YS5kYXRhW2luZGV4XTtcbiAgfVxuICBhcHBseVN0YWNrKHNjYWxlLCBwYXJzZWQsIG1vZGUpIHtcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZWRbc2NhbGUuYXhpc107XG4gICAgY29uc3Qgc3RhY2sgPSB7XG4gICAgICBrZXlzOiBnZXRTb3J0ZWREYXRhc2V0SW5kaWNlcyhjaGFydCwgdHJ1ZSksXG4gICAgICB2YWx1ZXM6IHBhcnNlZC5fc3RhY2tzW3NjYWxlLmF4aXNdXG4gICAgfTtcbiAgICByZXR1cm4gYXBwbHlTdGFjayhzdGFjaywgdmFsdWUsIG1ldGEuaW5kZXgsIHttb2RlfSk7XG4gIH1cbiAgdXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHJhbmdlLCBzY2FsZSwgcGFyc2VkLCBzdGFjaykge1xuICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VkW3NjYWxlLmF4aXNdO1xuICAgIGxldCB2YWx1ZSA9IHBhcnNlZFZhbHVlID09PSBudWxsID8gTmFOIDogcGFyc2VkVmFsdWU7XG4gICAgY29uc3QgdmFsdWVzID0gc3RhY2sgJiYgcGFyc2VkLl9zdGFja3Nbc2NhbGUuYXhpc107XG4gICAgaWYgKHN0YWNrICYmIHZhbHVlcykge1xuICAgICAgc3RhY2sudmFsdWVzID0gdmFsdWVzO1xuICAgICAgdmFsdWUgPSBhcHBseVN0YWNrKHN0YWNrLCBwYXJzZWRWYWx1ZSwgdGhpcy5fY2FjaGVkTWV0YS5pbmRleCk7XG4gICAgfVxuICAgIHJhbmdlLm1pbiA9IE1hdGgubWluKHJhbmdlLm1pbiwgdmFsdWUpO1xuICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgdmFsdWUpO1xuICB9XG4gIGdldE1pbk1heChzY2FsZSwgY2FuU3RhY2spIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBfcGFyc2VkID0gbWV0YS5fcGFyc2VkO1xuICAgIGNvbnN0IHNvcnRlZCA9IG1ldGEuX3NvcnRlZCAmJiBzY2FsZSA9PT0gbWV0YS5pU2NhbGU7XG4gICAgY29uc3QgaWxlbiA9IF9wYXJzZWQubGVuZ3RoO1xuICAgIGNvbnN0IG90aGVyU2NhbGUgPSB0aGlzLl9nZXRPdGhlclNjYWxlKHNjYWxlKTtcbiAgICBjb25zdCBzdGFjayA9IGNyZWF0ZVN0YWNrKGNhblN0YWNrLCBtZXRhLCB0aGlzLmNoYXJ0KTtcbiAgICBjb25zdCByYW5nZSA9IHttaW46IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgbWF4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9O1xuICAgIGNvbnN0IHttaW46IG90aGVyTWluLCBtYXg6IG90aGVyTWF4fSA9IGdldFVzZXJCb3VuZHMob3RoZXJTY2FsZSk7XG4gICAgbGV0IGksIHBhcnNlZDtcbiAgICBmdW5jdGlvbiBfc2tpcCgpIHtcbiAgICAgIHBhcnNlZCA9IF9wYXJzZWRbaV07XG4gICAgICBjb25zdCBvdGhlclZhbHVlID0gcGFyc2VkW290aGVyU2NhbGUuYXhpc107XG4gICAgICByZXR1cm4gIWlzTnVtYmVyRmluaXRlKHBhcnNlZFtzY2FsZS5heGlzXSkgfHwgb3RoZXJNaW4gPiBvdGhlclZhbHVlIHx8IG90aGVyTWF4IDwgb3RoZXJWYWx1ZTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgaWYgKF9za2lwKCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVJhbmdlRnJvbVBhcnNlZChyYW5nZSwgc2NhbGUsIHBhcnNlZCwgc3RhY2spO1xuICAgICAgaWYgKHNvcnRlZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNvcnRlZCkge1xuICAgICAgZm9yIChpID0gaWxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGlmIChfc2tpcCgpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVSYW5nZUZyb21QYXJzZWQocmFuZ2UsIHNjYWxlLCBwYXJzZWQsIHN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICBnZXRBbGxQYXJzZWRWYWx1ZXMoc2NhbGUpIHtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLl9jYWNoZWRNZXRhLl9wYXJzZWQ7XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgbGV0IGksIGlsZW4sIHZhbHVlO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBwYXJzZWQubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlZFtpXVtzY2FsZS5heGlzXTtcbiAgICAgIGlmIChpc051bWJlckZpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIGdldE1heE92ZXJmbG93KCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgaVNjYWxlID0gbWV0YS5pU2NhbGU7XG4gICAgY29uc3QgdlNjYWxlID0gbWV0YS52U2NhbGU7XG4gICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogaVNjYWxlID8gJycgKyBpU2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbaVNjYWxlLmF4aXNdKSA6ICcnLFxuICAgICAgdmFsdWU6IHZTY2FsZSA/ICcnICsgdlNjYWxlLmdldExhYmVsRm9yVmFsdWUocGFyc2VkW3ZTY2FsZS5heGlzXSkgOiAnJ1xuICAgIH07XG4gIH1cbiAgX3VwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgdGhpcy51cGRhdGUobW9kZSB8fCAnZGVmYXVsdCcpO1xuICAgIG1ldGEuX2NsaXAgPSB0b0NsaXAodmFsdWVPckRlZmF1bHQodGhpcy5vcHRpb25zLmNsaXAsIGRlZmF1bHRDbGlwKG1ldGEueFNjYWxlLCBtZXRhLnlTY2FsZSwgdGhpcy5nZXRNYXhPdmVyZmxvdygpKSkpO1xuICB9XG4gIHVwZGF0ZShtb2RlKSB7fVxuICBkcmF3KCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuX2N0eDtcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgZWxlbWVudHMgPSBtZXRhLmRhdGEgfHwgW107XG4gICAgY29uc3QgYXJlYSA9IGNoYXJ0LmNoYXJ0QXJlYTtcbiAgICBjb25zdCBhY3RpdmUgPSBbXTtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMuX2RyYXdTdGFydCB8fCAwO1xuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fZHJhd0NvdW50IHx8IChlbGVtZW50cy5sZW5ndGggLSBzdGFydCk7XG4gICAgY29uc3QgZHJhd0FjdGl2ZUVsZW1lbnRzT25Ub3AgPSB0aGlzLm9wdGlvbnMuZHJhd0FjdGl2ZUVsZW1lbnRzT25Ub3A7XG4gICAgbGV0IGk7XG4gICAgaWYgKG1ldGEuZGF0YXNldCkge1xuICAgICAgbWV0YS5kYXRhc2V0LmRyYXcoY3R4LCBhcmVhLCBzdGFydCwgY291bnQpO1xuICAgIH1cbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7ICsraSkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKGVsZW1lbnQuaGlkZGVuKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGVsZW1lbnQuYWN0aXZlICYmIGRyYXdBY3RpdmVFbGVtZW50c09uVG9wKSB7XG4gICAgICAgIGFjdGl2ZS5wdXNoKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5kcmF3KGN0eCwgYXJlYSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFjdGl2ZVtpXS5kcmF3KGN0eCwgYXJlYSk7XG4gICAgfVxuICB9XG4gIGdldFN0eWxlKGluZGV4LCBhY3RpdmUpIHtcbiAgICBjb25zdCBtb2RlID0gYWN0aXZlID8gJ2FjdGl2ZScgOiAnZGVmYXVsdCc7XG4gICAgcmV0dXJuIGluZGV4ID09PSB1bmRlZmluZWQgJiYgdGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0XG4gICAgICA/IHRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKVxuICAgICAgOiB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXggfHwgMCwgbW9kZSk7XG4gIH1cbiAgZ2V0Q29udGV4dChpbmRleCwgYWN0aXZlLCBtb2RlKSB7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZ2V0RGF0YXNldCgpO1xuICAgIGxldCBjb250ZXh0O1xuICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fY2FjaGVkTWV0YS5kYXRhLmxlbmd0aCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2NhY2hlZE1ldGEuZGF0YVtpbmRleF07XG4gICAgICBjb250ZXh0ID0gZWxlbWVudC4kY29udGV4dCB8fFxuICAgICAgICAoZWxlbWVudC4kY29udGV4dCA9IGNyZWF0ZURhdGFDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpLCBpbmRleCwgZWxlbWVudCkpO1xuICAgICAgY29udGV4dC5wYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgICBjb250ZXh0LnJhdyA9IGRhdGFzZXQuZGF0YVtpbmRleF07XG4gICAgICBjb250ZXh0LmluZGV4ID0gY29udGV4dC5kYXRhSW5kZXggPSBpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGV4dCA9IHRoaXMuJGNvbnRleHQgfHxcbiAgICAgICAgKHRoaXMuJGNvbnRleHQgPSBjcmVhdGVEYXRhc2V0Q29udGV4dCh0aGlzLmNoYXJ0LmdldENvbnRleHQoKSwgdGhpcy5pbmRleCkpO1xuICAgICAgY29udGV4dC5kYXRhc2V0ID0gZGF0YXNldDtcbiAgICAgIGNvbnRleHQuaW5kZXggPSBjb250ZXh0LmRhdGFzZXRJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgfVxuICAgIGNvbnRleHQuYWN0aXZlID0gISFhY3RpdmU7XG4gICAgY29udGV4dC5tb2RlID0gbW9kZTtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuICByZXNvbHZlRGF0YXNldEVsZW1lbnRPcHRpb25zKG1vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZUVsZW1lbnRPcHRpb25zKHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlLmlkLCBtb2RlKTtcbiAgfVxuICByZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGluZGV4LCBtb2RlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVFbGVtZW50T3B0aW9ucyh0aGlzLmRhdGFFbGVtZW50VHlwZS5pZCwgbW9kZSwgaW5kZXgpO1xuICB9XG4gIF9yZXNvbHZlRWxlbWVudE9wdGlvbnMoZWxlbWVudFR5cGUsIG1vZGUgPSAnZGVmYXVsdCcsIGluZGV4KSB7XG4gICAgY29uc3QgYWN0aXZlID0gbW9kZSA9PT0gJ2FjdGl2ZSc7XG4gICAgY29uc3QgY2FjaGUgPSB0aGlzLl9jYWNoZWREYXRhT3B0cztcbiAgICBjb25zdCBjYWNoZUtleSA9IGVsZW1lbnRUeXBlICsgJy0nICsgbW9kZTtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZVtjYWNoZUtleV07XG4gICAgY29uc3Qgc2hhcmluZyA9IHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyAmJiBkZWZpbmVkKGluZGV4KTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICByZXR1cm4gY2xvbmVJZk5vdFNoYXJlZChjYWNoZWQsIHNoYXJpbmcpO1xuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNoYXJ0LmNvbmZpZztcbiAgICBjb25zdCBzY29wZUtleXMgPSBjb25maWcuZGF0YXNldEVsZW1lbnRTY29wZUtleXModGhpcy5fdHlwZSwgZWxlbWVudFR5cGUpO1xuICAgIGNvbnN0IHByZWZpeGVzID0gYWN0aXZlID8gW2Ake2VsZW1lbnRUeXBlfUhvdmVyYCwgJ2hvdmVyJywgZWxlbWVudFR5cGUsICcnXSA6IFtlbGVtZW50VHlwZSwgJyddO1xuICAgIGNvbnN0IHNjb3BlcyA9IGNvbmZpZy5nZXRPcHRpb25TY29wZXModGhpcy5nZXREYXRhc2V0KCksIHNjb3BlS2V5cyk7XG4gICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0cy5lbGVtZW50c1tlbGVtZW50VHlwZV0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSAoKSA9PiB0aGlzLmdldENvbnRleHQoaW5kZXgsIGFjdGl2ZSk7XG4gICAgY29uc3QgdmFsdWVzID0gY29uZmlnLnJlc29sdmVOYW1lZE9wdGlvbnMoc2NvcGVzLCBuYW1lcywgY29udGV4dCwgcHJlZml4ZXMpO1xuICAgIGlmICh2YWx1ZXMuJHNoYXJlZCkge1xuICAgICAgdmFsdWVzLiRzaGFyZWQgPSBzaGFyaW5nO1xuICAgICAgY2FjaGVbY2FjaGVLZXldID0gT2JqZWN0LmZyZWV6ZShjbG9uZUlmTm90U2hhcmVkKHZhbHVlcywgc2hhcmluZykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIF9yZXNvbHZlQW5pbWF0aW9ucyhpbmRleCwgdHJhbnNpdGlvbiwgYWN0aXZlKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGVkRGF0YU9wdHM7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBgYW5pbWF0aW9uLSR7dHJhbnNpdGlvbn1gO1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlW2NhY2hlS2V5XTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBsZXQgb3B0aW9ucztcbiAgICBpZiAoY2hhcnQub3B0aW9ucy5hbmltYXRpb24gIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBjb25maWcgPSB0aGlzLmNoYXJ0LmNvbmZpZztcbiAgICAgIGNvbnN0IHNjb3BlS2V5cyA9IGNvbmZpZy5kYXRhc2V0QW5pbWF0aW9uU2NvcGVLZXlzKHRoaXMuX3R5cGUsIHRyYW5zaXRpb24pO1xuICAgICAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSwgc2NvcGVLZXlzKTtcbiAgICAgIG9wdGlvbnMgPSBjb25maWcuY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCB0aGlzLmdldENvbnRleHQoaW5kZXgsIGFjdGl2ZSwgdHJhbnNpdGlvbikpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb25zID0gbmV3IEFuaW1hdGlvbnMoY2hhcnQsIG9wdGlvbnMgJiYgb3B0aW9ucy5hbmltYXRpb25zKTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLl9jYWNoZWFibGUpIHtcbiAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IE9iamVjdC5mcmVlemUoYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb25zO1xuICB9XG4gIGdldFNoYXJlZE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy4kc2hhcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zaGFyZWRPcHRpb25zIHx8ICh0aGlzLl9zaGFyZWRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpO1xuICB9XG4gIGluY2x1ZGVPcHRpb25zKG1vZGUsIHNoYXJlZE9wdGlvbnMpIHtcbiAgICByZXR1cm4gIXNoYXJlZE9wdGlvbnMgfHwgaXNEaXJlY3RVcGRhdGVNb2RlKG1vZGUpIHx8IHRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZDtcbiAgfVxuICBfZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSkge1xuICAgIGNvbnN0IGZpcnN0T3B0cyA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgY29uc3QgcHJldmlvdXNseVNoYXJlZE9wdGlvbnMgPSB0aGlzLl9zaGFyZWRPcHRpb25zO1xuICAgIGNvbnN0IHNoYXJlZE9wdGlvbnMgPSB0aGlzLmdldFNoYXJlZE9wdGlvbnMoZmlyc3RPcHRzKTtcbiAgICBjb25zdCBpbmNsdWRlT3B0aW9ucyA9IHRoaXMuaW5jbHVkZU9wdGlvbnMobW9kZSwgc2hhcmVkT3B0aW9ucykgfHwgKHNoYXJlZE9wdGlvbnMgIT09IHByZXZpb3VzbHlTaGFyZWRPcHRpb25zKTtcbiAgICB0aGlzLnVwZGF0ZVNoYXJlZE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgbW9kZSwgZmlyc3RPcHRzKTtcbiAgICByZXR1cm4ge3NoYXJlZE9wdGlvbnMsIGluY2x1ZGVPcHRpb25zfTtcbiAgfVxuICB1cGRhdGVFbGVtZW50KGVsZW1lbnQsIGluZGV4LCBwcm9wZXJ0aWVzLCBtb2RlKSB7XG4gICAgaWYgKGlzRGlyZWN0VXBkYXRlTW9kZShtb2RlKSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnMoaW5kZXgsIG1vZGUpLnVwZGF0ZShlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlU2hhcmVkT3B0aW9ucyhzaGFyZWRPcHRpb25zLCBtb2RlLCBuZXdPcHRpb25zKSB7XG4gICAgaWYgKHNoYXJlZE9wdGlvbnMgJiYgIWlzRGlyZWN0VXBkYXRlTW9kZShtb2RlKSkge1xuICAgICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnModW5kZWZpbmVkLCBtb2RlKS51cGRhdGUoc2hhcmVkT3B0aW9ucywgbmV3T3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIF9zZXRTdHlsZShlbGVtZW50LCBpbmRleCwgbW9kZSwgYWN0aXZlKSB7XG4gICAgZWxlbWVudC5hY3RpdmUgPSBhY3RpdmU7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0U3R5bGUoaW5kZXgsIGFjdGl2ZSk7XG4gICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnMoaW5kZXgsIG1vZGUsIGFjdGl2ZSkudXBkYXRlKGVsZW1lbnQsIHtcbiAgICAgIG9wdGlvbnM6ICghYWN0aXZlICYmIHRoaXMuZ2V0U2hhcmVkT3B0aW9ucyhvcHRpb25zKSkgfHwgb3B0aW9uc1xuICAgIH0pO1xuICB9XG4gIHJlbW92ZUhvdmVyU3R5bGUoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgIHRoaXMuX3NldFN0eWxlKGVsZW1lbnQsIGluZGV4LCAnYWN0aXZlJywgZmFsc2UpO1xuICB9XG4gIHNldEhvdmVyU3R5bGUoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgIHRoaXMuX3NldFN0eWxlKGVsZW1lbnQsIGluZGV4LCAnYWN0aXZlJywgdHJ1ZSk7XG4gIH1cbiAgX3JlbW92ZURhdGFzZXRIb3ZlclN0eWxlKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGFzZXQ7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3NldFN0eWxlKGVsZW1lbnQsIHVuZGVmaW5lZCwgJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgX3NldERhdGFzZXRIb3ZlclN0eWxlKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGFzZXQ7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3NldFN0eWxlKGVsZW1lbnQsIHVuZGVmaW5lZCwgJ2FjdGl2ZScsIHRydWUpO1xuICAgIH1cbiAgfVxuICBfcmVzeW5jRWxlbWVudHMocmVzZXROZXdFbGVtZW50cykge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhO1xuICAgIGZvciAoY29uc3QgW21ldGhvZCwgYXJnMSwgYXJnMl0gb2YgdGhpcy5fc3luY0xpc3QpIHtcbiAgICAgIHRoaXNbbWV0aG9kXShhcmcxLCBhcmcyKTtcbiAgICB9XG4gICAgdGhpcy5fc3luY0xpc3QgPSBbXTtcbiAgICBjb25zdCBudW1NZXRhID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGNvbnN0IG51bURhdGEgPSBkYXRhLmxlbmd0aDtcbiAgICBjb25zdCBjb3VudCA9IE1hdGgubWluKG51bURhdGEsIG51bU1ldGEpO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgdGhpcy5wYXJzZSgwLCBjb3VudCk7XG4gICAgfVxuICAgIGlmIChudW1EYXRhID4gbnVtTWV0YSkge1xuICAgICAgdGhpcy5faW5zZXJ0RWxlbWVudHMobnVtTWV0YSwgbnVtRGF0YSAtIG51bU1ldGEsIHJlc2V0TmV3RWxlbWVudHMpO1xuICAgIH0gZWxzZSBpZiAobnVtRGF0YSA8IG51bU1ldGEpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnRzKG51bURhdGEsIG51bU1ldGEgLSBudW1EYXRhKTtcbiAgICB9XG4gIH1cbiAgX2luc2VydEVsZW1lbnRzKHN0YXJ0LCBjb3VudCwgcmVzZXROZXdFbGVtZW50cyA9IHRydWUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBkYXRhID0gbWV0YS5kYXRhO1xuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgY291bnQ7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgbW92ZSA9IChhcnIpID0+IHtcbiAgICAgIGFyci5sZW5ndGggKz0gY291bnQ7XG4gICAgICBmb3IgKGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSBlbmQ7IGktLSkge1xuICAgICAgICBhcnJbaV0gPSBhcnJbaSAtIGNvdW50XTtcbiAgICAgIH1cbiAgICB9O1xuICAgIG1vdmUoZGF0YSk7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgZGF0YVtpXSA9IG5ldyB0aGlzLmRhdGFFbGVtZW50VHlwZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgICAgbW92ZShtZXRhLl9wYXJzZWQpO1xuICAgIH1cbiAgICB0aGlzLnBhcnNlKHN0YXJ0LCBjb3VudCk7XG4gICAgaWYgKHJlc2V0TmV3RWxlbWVudHMpIHtcbiAgICAgIHRoaXMudXBkYXRlRWxlbWVudHMoZGF0YSwgc3RhcnQsIGNvdW50LCAncmVzZXQnKTtcbiAgICB9XG4gIH1cbiAgdXBkYXRlRWxlbWVudHMoZWxlbWVudCwgc3RhcnQsIGNvdW50LCBtb2RlKSB7fVxuICBfcmVtb3ZlRWxlbWVudHMoc3RhcnQsIGNvdW50KSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICAgIGNvbnN0IHJlbW92ZWQgPSBtZXRhLl9wYXJzZWQuc3BsaWNlKHN0YXJ0LCBjb3VudCk7XG4gICAgICBpZiAobWV0YS5fc3RhY2tlZCkge1xuICAgICAgICBjbGVhclN0YWNrcyhtZXRhLCByZW1vdmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWV0YS5kYXRhLnNwbGljZShzdGFydCwgY291bnQpO1xuICB9XG4gIF9zeW5jKGFyZ3MpIHtcbiAgICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgICAgdGhpcy5fc3luY0xpc3QucHVzaChhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgW21ldGhvZCwgYXJnMSwgYXJnMl0gPSBhcmdzO1xuICAgICAgdGhpc1ttZXRob2RdKGFyZzEsIGFyZzIpO1xuICAgIH1cbiAgICB0aGlzLmNoYXJ0Ll9kYXRhQ2hhbmdlcy5wdXNoKFt0aGlzLmluZGV4LCAuLi5hcmdzXSk7XG4gIH1cbiAgX29uRGF0YVB1c2goKSB7XG4gICAgY29uc3QgY291bnQgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHRoaXMuX3N5bmMoWydfaW5zZXJ0RWxlbWVudHMnLCB0aGlzLmdldERhdGFzZXQoKS5kYXRhLmxlbmd0aCAtIGNvdW50LCBjb3VudF0pO1xuICB9XG4gIF9vbkRhdGFQb3AoKSB7XG4gICAgdGhpcy5fc3luYyhbJ19yZW1vdmVFbGVtZW50cycsIHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGggLSAxLCAxXSk7XG4gIH1cbiAgX29uRGF0YVNoaWZ0KCkge1xuICAgIHRoaXMuX3N5bmMoWydfcmVtb3ZlRWxlbWVudHMnLCAwLCAxXSk7XG4gIH1cbiAgX29uRGF0YVNwbGljZShzdGFydCwgY291bnQpIHtcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIHRoaXMuX3N5bmMoWydfcmVtb3ZlRWxlbWVudHMnLCBzdGFydCwgY291bnRdKTtcbiAgICB9XG4gICAgY29uc3QgbmV3Q291bnQgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICBpZiAobmV3Q291bnQpIHtcbiAgICAgIHRoaXMuX3N5bmMoWydfaW5zZXJ0RWxlbWVudHMnLCBzdGFydCwgbmV3Q291bnRdKTtcbiAgICB9XG4gIH1cbiAgX29uRGF0YVVuc2hpZnQoKSB7XG4gICAgdGhpcy5fc3luYyhbJ19pbnNlcnRFbGVtZW50cycsIDAsIGFyZ3VtZW50cy5sZW5ndGhdKTtcbiAgfVxufVxuRGF0YXNldENvbnRyb2xsZXIuZGVmYXVsdHMgPSB7fTtcbkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5kYXRhc2V0RWxlbWVudFR5cGUgPSBudWxsO1xuRGF0YXNldENvbnRyb2xsZXIucHJvdG90eXBlLmRhdGFFbGVtZW50VHlwZSA9IG51bGw7XG5cbmZ1bmN0aW9uIGdldEFsbFNjYWxlVmFsdWVzKHNjYWxlLCB0eXBlKSB7XG4gIGlmICghc2NhbGUuX2NhY2hlLiRiYXIpIHtcbiAgICBjb25zdCB2aXNpYmxlTWV0YXMgPSBzY2FsZS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0eXBlKTtcbiAgICBsZXQgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSB2aXNpYmxlTWV0YXMubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMuY29uY2F0KHZpc2libGVNZXRhc1tpXS5jb250cm9sbGVyLmdldEFsbFBhcnNlZFZhbHVlcyhzY2FsZSkpO1xuICAgIH1cbiAgICBzY2FsZS5fY2FjaGUuJGJhciA9IF9hcnJheVVuaXF1ZSh2YWx1ZXMuc29ydCgoYSwgYikgPT4gYSAtIGIpKTtcbiAgfVxuICByZXR1cm4gc2NhbGUuX2NhY2hlLiRiYXI7XG59XG5mdW5jdGlvbiBjb21wdXRlTWluU2FtcGxlU2l6ZShtZXRhKSB7XG4gIGNvbnN0IHNjYWxlID0gbWV0YS5pU2NhbGU7XG4gIGNvbnN0IHZhbHVlcyA9IGdldEFsbFNjYWxlVmFsdWVzKHNjYWxlLCBtZXRhLnR5cGUpO1xuICBsZXQgbWluID0gc2NhbGUuX2xlbmd0aDtcbiAgbGV0IGksIGlsZW4sIGN1cnIsIHByZXY7XG4gIGNvbnN0IHVwZGF0ZU1pbkFuZFByZXYgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnIgPT09IDMyNzY3IHx8IGN1cnIgPT09IC0zMjc2OCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZGVmaW5lZChwcmV2KSkge1xuICAgICAgbWluID0gTWF0aC5taW4obWluLCBNYXRoLmFicyhjdXJyIC0gcHJldikgfHwgbWluKTtcbiAgICB9XG4gICAgcHJldiA9IGN1cnI7XG4gIH07XG4gIGZvciAoaSA9IDAsIGlsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgY3VyciA9IHNjYWxlLmdldFBpeGVsRm9yVmFsdWUodmFsdWVzW2ldKTtcbiAgICB1cGRhdGVNaW5BbmRQcmV2KCk7XG4gIH1cbiAgcHJldiA9IHVuZGVmaW5lZDtcbiAgZm9yIChpID0gMCwgaWxlbiA9IHNjYWxlLnRpY2tzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGN1cnIgPSBzY2FsZS5nZXRQaXhlbEZvclRpY2soaSk7XG4gICAgdXBkYXRlTWluQW5kUHJldigpO1xuICB9XG4gIHJldHVybiBtaW47XG59XG5mdW5jdGlvbiBjb21wdXRlRml0Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KSB7XG4gIGNvbnN0IHRoaWNrbmVzcyA9IG9wdGlvbnMuYmFyVGhpY2tuZXNzO1xuICBsZXQgc2l6ZSwgcmF0aW87XG4gIGlmIChpc051bGxPclVuZGVmKHRoaWNrbmVzcykpIHtcbiAgICBzaXplID0gcnVsZXIubWluICogb3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2U7XG4gICAgcmF0aW8gPSBvcHRpb25zLmJhclBlcmNlbnRhZ2U7XG4gIH0gZWxzZSB7XG4gICAgc2l6ZSA9IHRoaWNrbmVzcyAqIHN0YWNrQ291bnQ7XG4gICAgcmF0aW8gPSAxO1xuICB9XG4gIHJldHVybiB7XG4gICAgY2h1bms6IHNpemUgLyBzdGFja0NvdW50LFxuICAgIHJhdGlvLFxuICAgIHN0YXJ0OiBydWxlci5waXhlbHNbaW5kZXhdIC0gKHNpemUgLyAyKVxuICB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUZsZXhDYXRlZ29yeVRyYWl0cyhpbmRleCwgcnVsZXIsIG9wdGlvbnMsIHN0YWNrQ291bnQpIHtcbiAgY29uc3QgcGl4ZWxzID0gcnVsZXIucGl4ZWxzO1xuICBjb25zdCBjdXJyID0gcGl4ZWxzW2luZGV4XTtcbiAgbGV0IHByZXYgPSBpbmRleCA+IDAgPyBwaXhlbHNbaW5kZXggLSAxXSA6IG51bGw7XG4gIGxldCBuZXh0ID0gaW5kZXggPCBwaXhlbHMubGVuZ3RoIC0gMSA/IHBpeGVsc1tpbmRleCArIDFdIDogbnVsbDtcbiAgY29uc3QgcGVyY2VudCA9IG9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlO1xuICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgIHByZXYgPSBjdXJyIC0gKG5leHQgPT09IG51bGwgPyBydWxlci5lbmQgLSBydWxlci5zdGFydCA6IG5leHQgLSBjdXJyKTtcbiAgfVxuICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgIG5leHQgPSBjdXJyICsgY3VyciAtIHByZXY7XG4gIH1cbiAgY29uc3Qgc3RhcnQgPSBjdXJyIC0gKGN1cnIgLSBNYXRoLm1pbihwcmV2LCBuZXh0KSkgLyAyICogcGVyY2VudDtcbiAgY29uc3Qgc2l6ZSA9IE1hdGguYWJzKG5leHQgLSBwcmV2KSAvIDIgKiBwZXJjZW50O1xuICByZXR1cm4ge1xuICAgIGNodW5rOiBzaXplIC8gc3RhY2tDb3VudCxcbiAgICByYXRpbzogb3B0aW9ucy5iYXJQZXJjZW50YWdlLFxuICAgIHN0YXJ0XG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZUZsb2F0QmFyKGVudHJ5LCBpdGVtLCB2U2NhbGUsIGkpIHtcbiAgY29uc3Qgc3RhcnRWYWx1ZSA9IHZTY2FsZS5wYXJzZShlbnRyeVswXSwgaSk7XG4gIGNvbnN0IGVuZFZhbHVlID0gdlNjYWxlLnBhcnNlKGVudHJ5WzFdLCBpKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gIGxldCBiYXJTdGFydCA9IG1pbjtcbiAgbGV0IGJhckVuZCA9IG1heDtcbiAgaWYgKE1hdGguYWJzKG1pbikgPiBNYXRoLmFicyhtYXgpKSB7XG4gICAgYmFyU3RhcnQgPSBtYXg7XG4gICAgYmFyRW5kID0gbWluO1xuICB9XG4gIGl0ZW1bdlNjYWxlLmF4aXNdID0gYmFyRW5kO1xuICBpdGVtLl9jdXN0b20gPSB7XG4gICAgYmFyU3RhcnQsXG4gICAgYmFyRW5kLFxuICAgIHN0YXJ0OiBzdGFydFZhbHVlLFxuICAgIGVuZDogZW5kVmFsdWUsXG4gICAgbWluLFxuICAgIG1heFxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VWYWx1ZShlbnRyeSwgaXRlbSwgdlNjYWxlLCBpKSB7XG4gIGlmIChpc0FycmF5KGVudHJ5KSkge1xuICAgIHBhcnNlRmxvYXRCYXIoZW50cnksIGl0ZW0sIHZTY2FsZSwgaSk7XG4gIH0gZWxzZSB7XG4gICAgaXRlbVt2U2NhbGUuYXhpc10gPSB2U2NhbGUucGFyc2UoZW50cnksIGkpO1xuICB9XG4gIHJldHVybiBpdGVtO1xufVxuZnVuY3Rpb24gcGFyc2VBcnJheU9yUHJpbWl0aXZlKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICBjb25zdCBpU2NhbGUgPSBtZXRhLmlTY2FsZTtcbiAgY29uc3QgdlNjYWxlID0gbWV0YS52U2NhbGU7XG4gIGNvbnN0IGxhYmVscyA9IGlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgY29uc3Qgc2luZ2xlU2NhbGUgPSBpU2NhbGUgPT09IHZTY2FsZTtcbiAgY29uc3QgcGFyc2VkID0gW107XG4gIGxldCBpLCBpbGVuLCBpdGVtLCBlbnRyeTtcbiAgZm9yIChpID0gc3RhcnQsIGlsZW4gPSBzdGFydCArIGNvdW50OyBpIDwgaWxlbjsgKytpKSB7XG4gICAgZW50cnkgPSBkYXRhW2ldO1xuICAgIGl0ZW0gPSB7fTtcbiAgICBpdGVtW2lTY2FsZS5heGlzXSA9IHNpbmdsZVNjYWxlIHx8IGlTY2FsZS5wYXJzZShsYWJlbHNbaV0sIGkpO1xuICAgIHBhcnNlZC5wdXNoKHBhcnNlVmFsdWUoZW50cnksIGl0ZW0sIHZTY2FsZSwgaSkpO1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiBpc0Zsb2F0QmFyKGN1c3RvbSkge1xuICByZXR1cm4gY3VzdG9tICYmIGN1c3RvbS5iYXJTdGFydCAhPT0gdW5kZWZpbmVkICYmIGN1c3RvbS5iYXJFbmQgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGJhclNpZ24oc2l6ZSwgdlNjYWxlLCBhY3R1YWxCYXNlKSB7XG4gIGlmIChzaXplICE9PSAwKSB7XG4gICAgcmV0dXJuIHNpZ24oc2l6ZSk7XG4gIH1cbiAgcmV0dXJuICh2U2NhbGUuaXNIb3Jpem9udGFsKCkgPyAxIDogLTEpICogKHZTY2FsZS5taW4gPj0gYWN0dWFsQmFzZSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBib3JkZXJQcm9wcyhwcm9wZXJ0aWVzKSB7XG4gIGxldCByZXZlcnNlLCBzdGFydCwgZW5kLCB0b3AsIGJvdHRvbTtcbiAgaWYgKHByb3BlcnRpZXMuaG9yaXpvbnRhbCkge1xuICAgIHJldmVyc2UgPSBwcm9wZXJ0aWVzLmJhc2UgPiBwcm9wZXJ0aWVzLng7XG4gICAgc3RhcnQgPSAnbGVmdCc7XG4gICAgZW5kID0gJ3JpZ2h0JztcbiAgfSBlbHNlIHtcbiAgICByZXZlcnNlID0gcHJvcGVydGllcy5iYXNlIDwgcHJvcGVydGllcy55O1xuICAgIHN0YXJ0ID0gJ2JvdHRvbSc7XG4gICAgZW5kID0gJ3RvcCc7XG4gIH1cbiAgaWYgKHJldmVyc2UpIHtcbiAgICB0b3AgPSAnZW5kJztcbiAgICBib3R0b20gPSAnc3RhcnQnO1xuICB9IGVsc2Uge1xuICAgIHRvcCA9ICdzdGFydCc7XG4gICAgYm90dG9tID0gJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIHtzdGFydCwgZW5kLCByZXZlcnNlLCB0b3AsIGJvdHRvbX07XG59XG5mdW5jdGlvbiBzZXRCb3JkZXJTa2lwcGVkKHByb3BlcnRpZXMsIG9wdGlvbnMsIHN0YWNrLCBpbmRleCkge1xuICBsZXQgZWRnZSA9IG9wdGlvbnMuYm9yZGVyU2tpcHBlZDtcbiAgY29uc3QgcmVzID0ge307XG4gIGlmICghZWRnZSkge1xuICAgIHByb3BlcnRpZXMuYm9yZGVyU2tpcHBlZCA9IHJlcztcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGVkZ2UgPT09IHRydWUpIHtcbiAgICBwcm9wZXJ0aWVzLmJvcmRlclNraXBwZWQgPSB7dG9wOiB0cnVlLCByaWdodDogdHJ1ZSwgYm90dG9tOiB0cnVlLCBsZWZ0OiB0cnVlfTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qge3N0YXJ0LCBlbmQsIHJldmVyc2UsIHRvcCwgYm90dG9tfSA9IGJvcmRlclByb3BzKHByb3BlcnRpZXMpO1xuICBpZiAoZWRnZSA9PT0gJ21pZGRsZScgJiYgc3RhY2spIHtcbiAgICBwcm9wZXJ0aWVzLmVuYWJsZUJvcmRlclJhZGl1cyA9IHRydWU7XG4gICAgaWYgKChzdGFjay5fdG9wIHx8IDApID09PSBpbmRleCkge1xuICAgICAgZWRnZSA9IHRvcDtcbiAgICB9IGVsc2UgaWYgKChzdGFjay5fYm90dG9tIHx8IDApID09PSBpbmRleCkge1xuICAgICAgZWRnZSA9IGJvdHRvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzW3BhcnNlRWRnZShib3R0b20sIHN0YXJ0LCBlbmQsIHJldmVyc2UpXSA9IHRydWU7XG4gICAgICBlZGdlID0gdG9wO1xuICAgIH1cbiAgfVxuICByZXNbcGFyc2VFZGdlKGVkZ2UsIHN0YXJ0LCBlbmQsIHJldmVyc2UpXSA9IHRydWU7XG4gIHByb3BlcnRpZXMuYm9yZGVyU2tpcHBlZCA9IHJlcztcbn1cbmZ1bmN0aW9uIHBhcnNlRWRnZShlZGdlLCBhLCBiLCByZXZlcnNlKSB7XG4gIGlmIChyZXZlcnNlKSB7XG4gICAgZWRnZSA9IHN3YXAoZWRnZSwgYSwgYik7XG4gICAgZWRnZSA9IHN0YXJ0RW5kKGVkZ2UsIGIsIGEpO1xuICB9IGVsc2Uge1xuICAgIGVkZ2UgPSBzdGFydEVuZChlZGdlLCBhLCBiKTtcbiAgfVxuICByZXR1cm4gZWRnZTtcbn1cbmZ1bmN0aW9uIHN3YXAob3JpZywgdjEsIHYyKSB7XG4gIHJldHVybiBvcmlnID09PSB2MSA/IHYyIDogb3JpZyA9PT0gdjIgPyB2MSA6IG9yaWc7XG59XG5mdW5jdGlvbiBzdGFydEVuZCh2LCBzdGFydCwgZW5kKSB7XG4gIHJldHVybiB2ID09PSAnc3RhcnQnID8gc3RhcnQgOiB2ID09PSAnZW5kJyA/IGVuZCA6IHY7XG59XG5mdW5jdGlvbiBzZXRJbmZsYXRlQW1vdW50KHByb3BlcnRpZXMsIHtpbmZsYXRlQW1vdW50fSwgcmF0aW8pIHtcbiAgcHJvcGVydGllcy5pbmZsYXRlQW1vdW50ID0gaW5mbGF0ZUFtb3VudCA9PT0gJ2F1dG8nXG4gICAgPyByYXRpbyA9PT0gMSA/IDAuMzMgOiAwXG4gICAgOiBpbmZsYXRlQW1vdW50O1xufVxuY2xhc3MgQmFyQ29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgcGFyc2VQcmltaXRpdmVEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIHJldHVybiBwYXJzZUFycmF5T3JQcmltaXRpdmUobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgfVxuICBwYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICByZXR1cm4gcGFyc2VBcnJheU9yUHJpbWl0aXZlKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gIH1cbiAgcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZX0gPSBtZXRhO1xuICAgIGNvbnN0IHt4QXhpc0tleSA9ICd4JywgeUF4aXNLZXkgPSAneSd9ID0gdGhpcy5fcGFyc2luZztcbiAgICBjb25zdCBpQXhpc0tleSA9IGlTY2FsZS5heGlzID09PSAneCcgPyB4QXhpc0tleSA6IHlBeGlzS2V5O1xuICAgIGNvbnN0IHZBeGlzS2V5ID0gdlNjYWxlLmF4aXMgPT09ICd4JyA/IHhBeGlzS2V5IDogeUF4aXNLZXk7XG4gICAgY29uc3QgcGFyc2VkID0gW107XG4gICAgbGV0IGksIGlsZW4sIGl0ZW0sIG9iajtcbiAgICBmb3IgKGkgPSBzdGFydCwgaWxlbiA9IHN0YXJ0ICsgY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIG9iaiA9IGRhdGFbaV07XG4gICAgICBpdGVtID0ge307XG4gICAgICBpdGVtW2lTY2FsZS5heGlzXSA9IGlTY2FsZS5wYXJzZShyZXNvbHZlT2JqZWN0S2V5KG9iaiwgaUF4aXNLZXkpLCBpKTtcbiAgICAgIHBhcnNlZC5wdXNoKHBhcnNlVmFsdWUocmVzb2x2ZU9iamVjdEtleShvYmosIHZBeGlzS2V5KSwgaXRlbSwgdlNjYWxlLCBpKSk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cbiAgdXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHJhbmdlLCBzY2FsZSwgcGFyc2VkLCBzdGFjaykge1xuICAgIHN1cGVyLnVwZGF0ZVJhbmdlRnJvbVBhcnNlZChyYW5nZSwgc2NhbGUsIHBhcnNlZCwgc3RhY2spO1xuICAgIGNvbnN0IGN1c3RvbSA9IHBhcnNlZC5fY3VzdG9tO1xuICAgIGlmIChjdXN0b20gJiYgc2NhbGUgPT09IHRoaXMuX2NhY2hlZE1ldGEudlNjYWxlKSB7XG4gICAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIGN1c3RvbS5taW4pO1xuICAgICAgcmFuZ2UubWF4ID0gTWF0aC5tYXgocmFuZ2UubWF4LCBjdXN0b20ubWF4KTtcbiAgICB9XG4gIH1cbiAgZ2V0TWF4T3ZlcmZsb3coKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZX0gPSBtZXRhO1xuICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICBjb25zdCBjdXN0b20gPSBwYXJzZWQuX2N1c3RvbTtcbiAgICBjb25zdCB2YWx1ZSA9IGlzRmxvYXRCYXIoY3VzdG9tKVxuICAgICAgPyAnWycgKyBjdXN0b20uc3RhcnQgKyAnLCAnICsgY3VzdG9tLmVuZCArICddJ1xuICAgICAgOiAnJyArIHZTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZFt2U2NhbGUuYXhpc10pO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogJycgKyBpU2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbaVNjYWxlLmF4aXNdKSxcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyA9IHRydWU7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIG1ldGEuc3RhY2sgPSB0aGlzLmdldERhdGFzZXQoKS5zdGFjaztcbiAgfVxuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIHRoaXMudXBkYXRlRWxlbWVudHMobWV0YS5kYXRhLCAwLCBtZXRhLmRhdGEubGVuZ3RoLCBtb2RlKTtcbiAgfVxuICB1cGRhdGVFbGVtZW50cyhiYXJzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICBjb25zdCByZXNldCA9IG1vZGUgPT09ICdyZXNldCc7XG4gICAgY29uc3Qge2luZGV4LCBfY2FjaGVkTWV0YToge3ZTY2FsZX19ID0gdGhpcztcbiAgICBjb25zdCBiYXNlID0gdlNjYWxlLmdldEJhc2VQaXhlbCgpO1xuICAgIGNvbnN0IGhvcml6b250YWwgPSB2U2NhbGUuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgcnVsZXIgPSB0aGlzLl9nZXRSdWxlcigpO1xuICAgIGNvbnN0IHtzaGFyZWRPcHRpb25zLCBpbmNsdWRlT3B0aW9uc30gPSB0aGlzLl9nZXRTaGFyZWRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgY29uc3QgdnBpeGVscyA9IHJlc2V0IHx8IGlzTnVsbE9yVW5kZWYocGFyc2VkW3ZTY2FsZS5heGlzXSkgPyB7YmFzZSwgaGVhZDogYmFzZX0gOiB0aGlzLl9jYWxjdWxhdGVCYXJWYWx1ZVBpeGVscyhpKTtcbiAgICAgIGNvbnN0IGlwaXhlbHMgPSB0aGlzLl9jYWxjdWxhdGVCYXJJbmRleFBpeGVscyhpLCBydWxlcik7XG4gICAgICBjb25zdCBzdGFjayA9IChwYXJzZWQuX3N0YWNrcyB8fCB7fSlbdlNjYWxlLmF4aXNdO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgaG9yaXpvbnRhbCxcbiAgICAgICAgYmFzZTogdnBpeGVscy5iYXNlLFxuICAgICAgICBlbmFibGVCb3JkZXJSYWRpdXM6ICFzdGFjayB8fCBpc0Zsb2F0QmFyKHBhcnNlZC5fY3VzdG9tKSB8fCAoaW5kZXggPT09IHN0YWNrLl90b3AgfHwgaW5kZXggPT09IHN0YWNrLl9ib3R0b20pLFxuICAgICAgICB4OiBob3Jpem9udGFsID8gdnBpeGVscy5oZWFkIDogaXBpeGVscy5jZW50ZXIsXG4gICAgICAgIHk6IGhvcml6b250YWwgPyBpcGl4ZWxzLmNlbnRlciA6IHZwaXhlbHMuaGVhZCxcbiAgICAgICAgaGVpZ2h0OiBob3Jpem9udGFsID8gaXBpeGVscy5zaXplIDogTWF0aC5hYnModnBpeGVscy5zaXplKSxcbiAgICAgICAgd2lkdGg6IGhvcml6b250YWwgPyBNYXRoLmFicyh2cGl4ZWxzLnNpemUpIDogaXBpeGVscy5zaXplXG4gICAgICB9O1xuICAgICAgaWYgKGluY2x1ZGVPcHRpb25zKSB7XG4gICAgICAgIHByb3BlcnRpZXMub3B0aW9ucyA9IHNoYXJlZE9wdGlvbnMgfHwgdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGksIGJhcnNbaV0uYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBwcm9wZXJ0aWVzLm9wdGlvbnMgfHwgYmFyc1tpXS5vcHRpb25zO1xuICAgICAgc2V0Qm9yZGVyU2tpcHBlZChwcm9wZXJ0aWVzLCBvcHRpb25zLCBzdGFjaywgaW5kZXgpO1xuICAgICAgc2V0SW5mbGF0ZUFtb3VudChwcm9wZXJ0aWVzLCBvcHRpb25zLCBydWxlci5yYXRpbyk7XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYmFyc1tpXSwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgfVxuICB9XG4gIF9nZXRTdGFja3MobGFzdCwgZGF0YUluZGV4KSB7XG4gICAgY29uc3Qge2lTY2FsZX0gPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IG1ldGFzZXRzID0gaVNjYWxlLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKHRoaXMuX3R5cGUpXG4gICAgICAuZmlsdGVyKG1ldGEgPT4gbWV0YS5jb250cm9sbGVyLm9wdGlvbnMuZ3JvdXBlZCk7XG4gICAgY29uc3Qgc3RhY2tlZCA9IGlTY2FsZS5vcHRpb25zLnN0YWNrZWQ7XG4gICAgY29uc3Qgc3RhY2tzID0gW107XG4gICAgY29uc3Qgc2tpcE51bGwgPSAobWV0YSkgPT4ge1xuICAgICAgY29uc3QgcGFyc2VkID0gbWV0YS5jb250cm9sbGVyLmdldFBhcnNlZChkYXRhSW5kZXgpO1xuICAgICAgY29uc3QgdmFsID0gcGFyc2VkICYmIHBhcnNlZFttZXRhLnZTY2FsZS5heGlzXTtcbiAgICAgIGlmIChpc051bGxPclVuZGVmKHZhbCkgfHwgaXNOYU4odmFsKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZvciAoY29uc3QgbWV0YSBvZiBtZXRhc2V0cykge1xuICAgICAgaWYgKGRhdGFJbmRleCAhPT0gdW5kZWZpbmVkICYmIHNraXBOdWxsKG1ldGEpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0YWNrZWQgPT09IGZhbHNlIHx8IHN0YWNrcy5pbmRleE9mKG1ldGEuc3RhY2spID09PSAtMSB8fFxuXHRcdFx0XHQoc3RhY2tlZCA9PT0gdW5kZWZpbmVkICYmIG1ldGEuc3RhY2sgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc3RhY2tzLnB1c2gobWV0YS5zdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAobWV0YS5pbmRleCA9PT0gbGFzdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdGFja3MubGVuZ3RoKSB7XG4gICAgICBzdGFja3MucHVzaCh1bmRlZmluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhY2tzO1xuICB9XG4gIF9nZXRTdGFja0NvdW50KGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFN0YWNrcyh1bmRlZmluZWQsIGluZGV4KS5sZW5ndGg7XG4gIH1cbiAgX2dldFN0YWNrSW5kZXgoZGF0YXNldEluZGV4LCBuYW1lLCBkYXRhSW5kZXgpIHtcbiAgICBjb25zdCBzdGFja3MgPSB0aGlzLl9nZXRTdGFja3MoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgpO1xuICAgIGNvbnN0IGluZGV4ID0gKG5hbWUgIT09IHVuZGVmaW5lZClcbiAgICAgID8gc3RhY2tzLmluZGV4T2YobmFtZSlcbiAgICAgIDogLTE7XG4gICAgcmV0dXJuIChpbmRleCA9PT0gLTEpXG4gICAgICA/IHN0YWNrcy5sZW5ndGggLSAxXG4gICAgICA6IGluZGV4O1xuICB9XG4gIF9nZXRSdWxlcigpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGlTY2FsZSA9IG1ldGEuaVNjYWxlO1xuICAgIGNvbnN0IHBpeGVscyA9IFtdO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBtZXRhLmRhdGEubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBwaXhlbHMucHVzaChpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZChpKVtpU2NhbGUuYXhpc10sIGkpKTtcbiAgICB9XG4gICAgY29uc3QgYmFyVGhpY2tuZXNzID0gb3B0cy5iYXJUaGlja25lc3M7XG4gICAgY29uc3QgbWluID0gYmFyVGhpY2tuZXNzIHx8IGNvbXB1dGVNaW5TYW1wbGVTaXplKG1ldGEpO1xuICAgIHJldHVybiB7XG4gICAgICBtaW4sXG4gICAgICBwaXhlbHMsXG4gICAgICBzdGFydDogaVNjYWxlLl9zdGFydFBpeGVsLFxuICAgICAgZW5kOiBpU2NhbGUuX2VuZFBpeGVsLFxuICAgICAgc3RhY2tDb3VudDogdGhpcy5fZ2V0U3RhY2tDb3VudCgpLFxuICAgICAgc2NhbGU6IGlTY2FsZSxcbiAgICAgIGdyb3VwZWQ6IG9wdHMuZ3JvdXBlZCxcbiAgICAgIHJhdGlvOiBiYXJUaGlja25lc3MgPyAxIDogb3B0cy5jYXRlZ29yeVBlcmNlbnRhZ2UgKiBvcHRzLmJhclBlcmNlbnRhZ2VcbiAgICB9O1xuICB9XG4gIF9jYWxjdWxhdGVCYXJWYWx1ZVBpeGVscyhpbmRleCkge1xuICAgIGNvbnN0IHtfY2FjaGVkTWV0YToge3ZTY2FsZSwgX3N0YWNrZWR9LCBvcHRpb25zOiB7YmFzZTogYmFzZVZhbHVlLCBtaW5CYXJMZW5ndGh9fSA9IHRoaXM7XG4gICAgY29uc3QgYWN0dWFsQmFzZSA9IGJhc2VWYWx1ZSB8fCAwO1xuICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICBjb25zdCBjdXN0b20gPSBwYXJzZWQuX2N1c3RvbTtcbiAgICBjb25zdCBmbG9hdGluZyA9IGlzRmxvYXRCYXIoY3VzdG9tKTtcbiAgICBsZXQgdmFsdWUgPSBwYXJzZWRbdlNjYWxlLmF4aXNdO1xuICAgIGxldCBzdGFydCA9IDA7XG4gICAgbGV0IGxlbmd0aCA9IF9zdGFja2VkID8gdGhpcy5hcHBseVN0YWNrKHZTY2FsZSwgcGFyc2VkLCBfc3RhY2tlZCkgOiB2YWx1ZTtcbiAgICBsZXQgaGVhZCwgc2l6ZTtcbiAgICBpZiAobGVuZ3RoICE9PSB2YWx1ZSkge1xuICAgICAgc3RhcnQgPSBsZW5ndGggLSB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IHZhbHVlO1xuICAgIH1cbiAgICBpZiAoZmxvYXRpbmcpIHtcbiAgICAgIHZhbHVlID0gY3VzdG9tLmJhclN0YXJ0O1xuICAgICAgbGVuZ3RoID0gY3VzdG9tLmJhckVuZCAtIGN1c3RvbS5iYXJTdGFydDtcbiAgICAgIGlmICh2YWx1ZSAhPT0gMCAmJiBzaWduKHZhbHVlKSAhPT0gc2lnbihjdXN0b20uYmFyRW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9XG4gICAgICBzdGFydCArPSB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRWYWx1ZSA9ICFpc051bGxPclVuZGVmKGJhc2VWYWx1ZSkgJiYgIWZsb2F0aW5nID8gYmFzZVZhbHVlIDogc3RhcnQ7XG4gICAgbGV0IGJhc2UgPSB2U2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShzdGFydFZhbHVlKTtcbiAgICBpZiAodGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpbmRleCkpIHtcbiAgICAgIGhlYWQgPSB2U2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShzdGFydCArIGxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWQgPSBiYXNlO1xuICAgIH1cbiAgICBzaXplID0gaGVhZCAtIGJhc2U7XG4gICAgaWYgKE1hdGguYWJzKHNpemUpIDwgbWluQmFyTGVuZ3RoKSB7XG4gICAgICBzaXplID0gYmFyU2lnbihzaXplLCB2U2NhbGUsIGFjdHVhbEJhc2UpICogbWluQmFyTGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlID09PSBhY3R1YWxCYXNlKSB7XG4gICAgICAgIGJhc2UgLT0gc2l6ZSAvIDI7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGFydFBpeGVsID0gdlNjYWxlLmdldFBpeGVsRm9yRGVjaW1hbCgwKTtcbiAgICAgIGNvbnN0IGVuZFBpeGVsID0gdlNjYWxlLmdldFBpeGVsRm9yRGVjaW1hbCgxKTtcbiAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKTtcbiAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHN0YXJ0UGl4ZWwsIGVuZFBpeGVsKTtcbiAgICAgIGJhc2UgPSBNYXRoLm1heChNYXRoLm1pbihiYXNlLCBtYXgpLCBtaW4pO1xuICAgICAgaGVhZCA9IGJhc2UgKyBzaXplO1xuICAgIH1cbiAgICBpZiAoYmFzZSA9PT0gdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoYWN0dWFsQmFzZSkpIHtcbiAgICAgIGNvbnN0IGhhbGZHcmlkID0gc2lnbihzaXplKSAqIHZTY2FsZS5nZXRMaW5lV2lkdGhGb3JWYWx1ZShhY3R1YWxCYXNlKSAvIDI7XG4gICAgICBiYXNlICs9IGhhbGZHcmlkO1xuICAgICAgc2l6ZSAtPSBoYWxmR3JpZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemUsXG4gICAgICBiYXNlLFxuICAgICAgaGVhZCxcbiAgICAgIGNlbnRlcjogaGVhZCArIHNpemUgLyAyXG4gICAgfTtcbiAgfVxuICBfY2FsY3VsYXRlQmFySW5kZXhQaXhlbHMoaW5kZXgsIHJ1bGVyKSB7XG4gICAgY29uc3Qgc2NhbGUgPSBydWxlci5zY2FsZTtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHNraXBOdWxsID0gb3B0aW9ucy5za2lwTnVsbDtcbiAgICBjb25zdCBtYXhCYXJUaGlja25lc3MgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLm1heEJhclRoaWNrbmVzcywgSW5maW5pdHkpO1xuICAgIGxldCBjZW50ZXIsIHNpemU7XG4gICAgaWYgKHJ1bGVyLmdyb3VwZWQpIHtcbiAgICAgIGNvbnN0IHN0YWNrQ291bnQgPSBza2lwTnVsbCA/IHRoaXMuX2dldFN0YWNrQ291bnQoaW5kZXgpIDogcnVsZXIuc3RhY2tDb3VudDtcbiAgICAgIGNvbnN0IHJhbmdlID0gb3B0aW9ucy5iYXJUaGlja25lc3MgPT09ICdmbGV4J1xuICAgICAgICA/IGNvbXB1dGVGbGV4Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KVxuICAgICAgICA6IGNvbXB1dGVGaXRDYXRlZ29yeVRyYWl0cyhpbmRleCwgcnVsZXIsIG9wdGlvbnMsIHN0YWNrQ291bnQpO1xuICAgICAgY29uc3Qgc3RhY2tJbmRleCA9IHRoaXMuX2dldFN0YWNrSW5kZXgodGhpcy5pbmRleCwgdGhpcy5fY2FjaGVkTWV0YS5zdGFjaywgc2tpcE51bGwgPyBpbmRleCA6IHVuZGVmaW5lZCk7XG4gICAgICBjZW50ZXIgPSByYW5nZS5zdGFydCArIChyYW5nZS5jaHVuayAqIHN0YWNrSW5kZXgpICsgKHJhbmdlLmNodW5rIC8gMik7XG4gICAgICBzaXplID0gTWF0aC5taW4obWF4QmFyVGhpY2tuZXNzLCByYW5nZS5jaHVuayAqIHJhbmdlLnJhdGlvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2VudGVyID0gc2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZChpbmRleClbc2NhbGUuYXhpc10sIGluZGV4KTtcbiAgICAgIHNpemUgPSBNYXRoLm1pbihtYXhCYXJUaGlja25lc3MsIHJ1bGVyLm1pbiAqIHJ1bGVyLnJhdGlvKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2U6IGNlbnRlciAtIHNpemUgLyAyLFxuICAgICAgaGVhZDogY2VudGVyICsgc2l6ZSAvIDIsXG4gICAgICBjZW50ZXIsXG4gICAgICBzaXplXG4gICAgfTtcbiAgfVxuICBkcmF3KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHZTY2FsZSA9IG1ldGEudlNjYWxlO1xuICAgIGNvbnN0IHJlY3RzID0gbWV0YS5kYXRhO1xuICAgIGNvbnN0IGlsZW4gPSByZWN0cy5sZW5ndGg7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBpZiAodGhpcy5nZXRQYXJzZWQoaSlbdlNjYWxlLmF4aXNdICE9PSBudWxsKSB7XG4gICAgICAgIHJlY3RzW2ldLmRyYXcodGhpcy5fY3R4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbkJhckNvbnRyb2xsZXIuaWQgPSAnYmFyJztcbkJhckNvbnRyb2xsZXIuZGVmYXVsdHMgPSB7XG4gIGRhdGFzZXRFbGVtZW50VHlwZTogZmFsc2UsXG4gIGRhdGFFbGVtZW50VHlwZTogJ2JhcicsXG4gIGNhdGVnb3J5UGVyY2VudGFnZTogMC44LFxuICBiYXJQZXJjZW50YWdlOiAwLjksXG4gIGdyb3VwZWQ6IHRydWUsXG4gIGFuaW1hdGlvbnM6IHtcbiAgICBudW1iZXJzOiB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIHByb3BlcnRpZXM6IFsneCcsICd5JywgJ2Jhc2UnLCAnd2lkdGgnLCAnaGVpZ2h0J11cbiAgICB9XG4gIH1cbn07XG5CYXJDb250cm9sbGVyLm92ZXJyaWRlcyA9IHtcbiAgc2NhbGVzOiB7XG4gICAgX2luZGV4Xzoge1xuICAgICAgdHlwZTogJ2NhdGVnb3J5JyxcbiAgICAgIG9mZnNldDogdHJ1ZSxcbiAgICAgIGdyaWQ6IHtcbiAgICAgICAgb2Zmc2V0OiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBfdmFsdWVfOiB7XG4gICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgIH1cbiAgfVxufTtcblxuY2xhc3MgQnViYmxlQ29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSB0cnVlO1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgfVxuICBwYXJzZVByaW1pdGl2ZURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgY29uc3QgcGFyc2VkID0gc3VwZXIucGFyc2VQcmltaXRpdmVEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhcnNlZFtpXS5fY3VzdG9tID0gdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkgKyBzdGFydCkucmFkaXVzO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIHBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHN1cGVyLnBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW3N0YXJ0ICsgaV07XG4gICAgICBwYXJzZWRbaV0uX2N1c3RvbSA9IHZhbHVlT3JEZWZhdWx0KGl0ZW1bMl0sIHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpICsgc3RhcnQpLnJhZGl1cyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZWQ7XG4gIH1cbiAgcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHN1cGVyLnBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZGF0YVtzdGFydCArIGldO1xuICAgICAgcGFyc2VkW2ldLl9jdXN0b20gPSB2YWx1ZU9yRGVmYXVsdChpdGVtICYmIGl0ZW0uciAmJiAraXRlbS5yLCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSArIHN0YXJ0KS5yYWRpdXMpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIGdldE1heE92ZXJmbG93KCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGE7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgZGF0YVtpXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpKSkgLyAyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heCA+IDAgJiYgbWF4O1xuICB9XG4gIGdldExhYmVsQW5kVmFsdWUoaW5kZXgpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCB7eFNjYWxlLCB5U2NhbGV9ID0gbWV0YTtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgY29uc3QgeCA9IHhTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZC54KTtcbiAgICBjb25zdCB5ID0geVNjYWxlLmdldExhYmVsRm9yVmFsdWUocGFyc2VkLnkpO1xuICAgIGNvbnN0IHIgPSBwYXJzZWQuX2N1c3RvbTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IG1ldGEubGFiZWwsXG4gICAgICB2YWx1ZTogJygnICsgeCArICcsICcgKyB5ICsgKHIgPyAnLCAnICsgciA6ICcnKSArICcpJ1xuICAgIH07XG4gIH1cbiAgdXBkYXRlKG1vZGUpIHtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGE7XG4gICAgdGhpcy51cGRhdGVFbGVtZW50cyhwb2ludHMsIDAsIHBvaW50cy5sZW5ndGgsIG1vZGUpO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZX0gPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHtzaGFyZWRPcHRpb25zLCBpbmNsdWRlT3B0aW9uc30gPSB0aGlzLl9nZXRTaGFyZWRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICBjb25zdCBpQXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9ICFyZXNldCAmJiB0aGlzLmdldFBhcnNlZChpKTtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIGNvbnN0IGlQaXhlbCA9IHByb3BlcnRpZXNbaUF4aXNdID0gcmVzZXQgPyBpU2NhbGUuZ2V0UGl4ZWxGb3JEZWNpbWFsKDAuNSkgOiBpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShwYXJzZWRbaUF4aXNdKTtcbiAgICAgIGNvbnN0IHZQaXhlbCA9IHByb3BlcnRpZXNbdkF4aXNdID0gcmVzZXQgPyB2U2NhbGUuZ2V0QmFzZVBpeGVsKCkgOiB2U2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShwYXJzZWRbdkF4aXNdKTtcbiAgICAgIHByb3BlcnRpZXMuc2tpcCA9IGlzTmFOKGlQaXhlbCkgfHwgaXNOYU4odlBpeGVsKTtcbiAgICAgIGlmIChpbmNsdWRlT3B0aW9ucykge1xuICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMucmFkaXVzID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBvaW50LCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICB9XG4gIH1cbiAgcmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpbmRleCwgbW9kZSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICBsZXQgdmFsdWVzID0gc3VwZXIucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpbmRleCwgbW9kZSk7XG4gICAgaWYgKHZhbHVlcy4kc2hhcmVkKSB7XG4gICAgICB2YWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB2YWx1ZXMsIHskc2hhcmVkOiBmYWxzZX0pO1xuICAgIH1cbiAgICBjb25zdCByYWRpdXMgPSB2YWx1ZXMucmFkaXVzO1xuICAgIGlmIChtb2RlICE9PSAnYWN0aXZlJykge1xuICAgICAgdmFsdWVzLnJhZGl1cyA9IDA7XG4gICAgfVxuICAgIHZhbHVlcy5yYWRpdXMgKz0gdmFsdWVPckRlZmF1bHQocGFyc2VkICYmIHBhcnNlZC5fY3VzdG9tLCByYWRpdXMpO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbn1cbkJ1YmJsZUNvbnRyb2xsZXIuaWQgPSAnYnViYmxlJztcbkJ1YmJsZUNvbnRyb2xsZXIuZGVmYXVsdHMgPSB7XG4gIGRhdGFzZXRFbGVtZW50VHlwZTogZmFsc2UsXG4gIGRhdGFFbGVtZW50VHlwZTogJ3BvaW50JyxcbiAgYW5pbWF0aW9uczoge1xuICAgIG51bWJlcnM6IHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgcHJvcGVydGllczogWyd4JywgJ3knLCAnYm9yZGVyV2lkdGgnLCAncmFkaXVzJ11cbiAgICB9XG4gIH1cbn07XG5CdWJibGVDb250cm9sbGVyLm92ZXJyaWRlcyA9IHtcbiAgc2NhbGVzOiB7XG4gICAgeDoge1xuICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIHR5cGU6ICdsaW5lYXInXG4gICAgfVxuICB9LFxuICBwbHVnaW5zOiB7XG4gICAgdG9vbHRpcDoge1xuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHRpdGxlKCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0UmF0aW9BbmRPZmZzZXQocm90YXRpb24sIGNpcmN1bWZlcmVuY2UsIGN1dG91dCkge1xuICBsZXQgcmF0aW9YID0gMTtcbiAgbGV0IHJhdGlvWSA9IDE7XG4gIGxldCBvZmZzZXRYID0gMDtcbiAgbGV0IG9mZnNldFkgPSAwO1xuICBpZiAoY2lyY3VtZmVyZW5jZSA8IFRBVSkge1xuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSByb3RhdGlvbjtcbiAgICBjb25zdCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBjaXJjdW1mZXJlbmNlO1xuICAgIGNvbnN0IHN0YXJ0WCA9IE1hdGguY29zKHN0YXJ0QW5nbGUpO1xuICAgIGNvbnN0IHN0YXJ0WSA9IE1hdGguc2luKHN0YXJ0QW5nbGUpO1xuICAgIGNvbnN0IGVuZFggPSBNYXRoLmNvcyhlbmRBbmdsZSk7XG4gICAgY29uc3QgZW5kWSA9IE1hdGguc2luKGVuZEFuZ2xlKTtcbiAgICBjb25zdCBjYWxjTWF4ID0gKGFuZ2xlLCBhLCBiKSA9PiBfYW5nbGVCZXR3ZWVuKGFuZ2xlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgdHJ1ZSkgPyAxIDogTWF0aC5tYXgoYSwgYSAqIGN1dG91dCwgYiwgYiAqIGN1dG91dCk7XG4gICAgY29uc3QgY2FsY01pbiA9IChhbmdsZSwgYSwgYikgPT4gX2FuZ2xlQmV0d2VlbihhbmdsZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIHRydWUpID8gLTEgOiBNYXRoLm1pbihhLCBhICogY3V0b3V0LCBiLCBiICogY3V0b3V0KTtcbiAgICBjb25zdCBtYXhYID0gY2FsY01heCgwLCBzdGFydFgsIGVuZFgpO1xuICAgIGNvbnN0IG1heFkgPSBjYWxjTWF4KEhBTEZfUEksIHN0YXJ0WSwgZW5kWSk7XG4gICAgY29uc3QgbWluWCA9IGNhbGNNaW4oUEksIHN0YXJ0WCwgZW5kWCk7XG4gICAgY29uc3QgbWluWSA9IGNhbGNNaW4oUEkgKyBIQUxGX1BJLCBzdGFydFksIGVuZFkpO1xuICAgIHJhdGlvWCA9IChtYXhYIC0gbWluWCkgLyAyO1xuICAgIHJhdGlvWSA9IChtYXhZIC0gbWluWSkgLyAyO1xuICAgIG9mZnNldFggPSAtKG1heFggKyBtaW5YKSAvIDI7XG4gICAgb2Zmc2V0WSA9IC0obWF4WSArIG1pblkpIC8gMjtcbiAgfVxuICByZXR1cm4ge3JhdGlvWCwgcmF0aW9ZLCBvZmZzZXRYLCBvZmZzZXRZfTtcbn1cbmNsYXNzIERvdWdobnV0Q29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY2hhcnQsIGRhdGFzZXRJbmRleCkge1xuICAgIHN1cGVyKGNoYXJ0LCBkYXRhc2V0SW5kZXgpO1xuICAgIHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyA9IHRydWU7XG4gICAgdGhpcy5pbm5lclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm91dGVyUmFkaXVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub2Zmc2V0WCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9mZnNldFkgPSB1bmRlZmluZWQ7XG4gIH1cbiAgbGlua1NjYWxlcygpIHt9XG4gIHBhcnNlKHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFzZXQoKS5kYXRhO1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGlmICh0aGlzLl9wYXJzaW5nID09PSBmYWxzZSkge1xuICAgICAgbWV0YS5fcGFyc2VkID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGdldHRlciA9IChpKSA9PiArZGF0YVtpXTtcbiAgICAgIGlmIChpc09iamVjdChkYXRhW3N0YXJ0XSkpIHtcbiAgICAgICAgY29uc3Qge2tleSA9ICd2YWx1ZSd9ID0gdGhpcy5fcGFyc2luZztcbiAgICAgICAgZ2V0dGVyID0gKGkpID0+ICtyZXNvbHZlT2JqZWN0S2V5KGRhdGFbaV0sIGtleSk7XG4gICAgICB9XG4gICAgICBsZXQgaSwgaWxlbjtcbiAgICAgIGZvciAoaSA9IHN0YXJ0LCBpbGVuID0gc3RhcnQgKyBjb3VudDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgICBtZXRhLl9wYXJzZWRbaV0gPSBnZXR0ZXIoaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9nZXRSb3RhdGlvbigpIHtcbiAgICByZXR1cm4gdG9SYWRpYW5zKHRoaXMub3B0aW9ucy5yb3RhdGlvbiAtIDkwKTtcbiAgfVxuICBfZ2V0Q2lyY3VtZmVyZW5jZSgpIHtcbiAgICByZXR1cm4gdG9SYWRpYW5zKHRoaXMub3B0aW9ucy5jaXJjdW1mZXJlbmNlKTtcbiAgfVxuICBfZ2V0Um90YXRpb25FeHRlbnRzKCkge1xuICAgIGxldCBtaW4gPSBUQVU7XG4gICAgbGV0IG1heCA9IC1UQVU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSkuY29udHJvbGxlcjtcbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSBjb250cm9sbGVyLl9nZXRSb3RhdGlvbigpO1xuICAgICAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gY29udHJvbGxlci5fZ2V0Q2lyY3VtZmVyZW5jZSgpO1xuICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHJvdGF0aW9uKTtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCByb3RhdGlvbiArIGNpcmN1bWZlcmVuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcm90YXRpb246IG1pbixcbiAgICAgIGNpcmN1bWZlcmVuY2U6IG1heCAtIG1pbixcbiAgICB9O1xuICB9XG4gIHVwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IHtjaGFydEFyZWF9ID0gY2hhcnQ7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgYXJjcyA9IG1ldGEuZGF0YTtcbiAgICBjb25zdCBzcGFjaW5nID0gdGhpcy5nZXRNYXhCb3JkZXJXaWR0aCgpICsgdGhpcy5nZXRNYXhPZmZzZXQoYXJjcykgKyB0aGlzLm9wdGlvbnMuc3BhY2luZztcbiAgICBjb25zdCBtYXhTaXplID0gTWF0aC5tYXgoKE1hdGgubWluKGNoYXJ0QXJlYS53aWR0aCwgY2hhcnRBcmVhLmhlaWdodCkgLSBzcGFjaW5nKSAvIDIsIDApO1xuICAgIGNvbnN0IGN1dG91dCA9IE1hdGgubWluKHRvUGVyY2VudGFnZSh0aGlzLm9wdGlvbnMuY3V0b3V0LCBtYXhTaXplKSwgMSk7XG4gICAgY29uc3QgY2hhcnRXZWlnaHQgPSB0aGlzLl9nZXRSaW5nV2VpZ2h0KHRoaXMuaW5kZXgpO1xuICAgIGNvbnN0IHtjaXJjdW1mZXJlbmNlLCByb3RhdGlvbn0gPSB0aGlzLl9nZXRSb3RhdGlvbkV4dGVudHMoKTtcbiAgICBjb25zdCB7cmF0aW9YLCByYXRpb1ksIG9mZnNldFgsIG9mZnNldFl9ID0gZ2V0UmF0aW9BbmRPZmZzZXQocm90YXRpb24sIGNpcmN1bWZlcmVuY2UsIGN1dG91dCk7XG4gICAgY29uc3QgbWF4V2lkdGggPSAoY2hhcnRBcmVhLndpZHRoIC0gc3BhY2luZykgLyByYXRpb1g7XG4gICAgY29uc3QgbWF4SGVpZ2h0ID0gKGNoYXJ0QXJlYS5oZWlnaHQgLSBzcGFjaW5nKSAvIHJhdGlvWTtcbiAgICBjb25zdCBtYXhSYWRpdXMgPSBNYXRoLm1heChNYXRoLm1pbihtYXhXaWR0aCwgbWF4SGVpZ2h0KSAvIDIsIDApO1xuICAgIGNvbnN0IG91dGVyUmFkaXVzID0gdG9EaW1lbnNpb24odGhpcy5vcHRpb25zLnJhZGl1cywgbWF4UmFkaXVzKTtcbiAgICBjb25zdCBpbm5lclJhZGl1cyA9IE1hdGgubWF4KG91dGVyUmFkaXVzICogY3V0b3V0LCAwKTtcbiAgICBjb25zdCByYWRpdXNMZW5ndGggPSAob3V0ZXJSYWRpdXMgLSBpbm5lclJhZGl1cykgLyB0aGlzLl9nZXRWaXNpYmxlRGF0YXNldFdlaWdodFRvdGFsKCk7XG4gICAgdGhpcy5vZmZzZXRYID0gb2Zmc2V0WCAqIG91dGVyUmFkaXVzO1xuICAgIHRoaXMub2Zmc2V0WSA9IG9mZnNldFkgKiBvdXRlclJhZGl1cztcbiAgICBtZXRhLnRvdGFsID0gdGhpcy5jYWxjdWxhdGVUb3RhbCgpO1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSBvdXRlclJhZGl1cyAtIHJhZGl1c0xlbmd0aCAqIHRoaXMuX2dldFJpbmdXZWlnaHRPZmZzZXQodGhpcy5pbmRleCk7XG4gICAgdGhpcy5pbm5lclJhZGl1cyA9IE1hdGgubWF4KHRoaXMub3V0ZXJSYWRpdXMgLSByYWRpdXNMZW5ndGggKiBjaGFydFdlaWdodCwgMCk7XG4gICAgdGhpcy51cGRhdGVFbGVtZW50cyhhcmNzLCAwLCBhcmNzLmxlbmd0aCwgbW9kZSk7XG4gIH1cbiAgX2NpcmN1bWZlcmVuY2UoaSwgcmVzZXQpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGNpcmN1bWZlcmVuY2UgPSB0aGlzLl9nZXRDaXJjdW1mZXJlbmNlKCk7XG4gICAgaWYgKChyZXNldCAmJiBvcHRzLmFuaW1hdGlvbi5hbmltYXRlUm90YXRlKSB8fCAhdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSB8fCBtZXRhLl9wYXJzZWRbaV0gPT09IG51bGwgfHwgbWV0YS5kYXRhW2ldLmhpZGRlbikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZUNpcmN1bWZlcmVuY2UobWV0YS5fcGFyc2VkW2ldICogY2lyY3VtZmVyZW5jZSAvIFRBVSk7XG4gIH1cbiAgdXBkYXRlRWxlbWVudHMoYXJjcywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBjaGFydEFyZWEgPSBjaGFydC5jaGFydEFyZWE7XG4gICAgY29uc3Qgb3B0cyA9IGNoYXJ0Lm9wdGlvbnM7XG4gICAgY29uc3QgYW5pbWF0aW9uT3B0cyA9IG9wdHMuYW5pbWF0aW9uO1xuICAgIGNvbnN0IGNlbnRlclggPSAoY2hhcnRBcmVhLmxlZnQgKyBjaGFydEFyZWEucmlnaHQpIC8gMjtcbiAgICBjb25zdCBjZW50ZXJZID0gKGNoYXJ0QXJlYS50b3AgKyBjaGFydEFyZWEuYm90dG9tKSAvIDI7XG4gICAgY29uc3QgYW5pbWF0ZVNjYWxlID0gcmVzZXQgJiYgYW5pbWF0aW9uT3B0cy5hbmltYXRlU2NhbGU7XG4gICAgY29uc3QgaW5uZXJSYWRpdXMgPSBhbmltYXRlU2NhbGUgPyAwIDogdGhpcy5pbm5lclJhZGl1cztcbiAgICBjb25zdCBvdXRlclJhZGl1cyA9IGFuaW1hdGVTY2FsZSA/IDAgOiB0aGlzLm91dGVyUmFkaXVzO1xuICAgIGNvbnN0IHtzaGFyZWRPcHRpb25zLCBpbmNsdWRlT3B0aW9uc30gPSB0aGlzLl9nZXRTaGFyZWRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICBsZXQgc3RhcnRBbmdsZSA9IHRoaXMuX2dldFJvdGF0aW9uKCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IHN0YXJ0OyArK2kpIHtcbiAgICAgIHN0YXJ0QW5nbGUgKz0gdGhpcy5fY2lyY3VtZmVyZW5jZShpLCByZXNldCk7XG4gICAgfVxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKSB7XG4gICAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gdGhpcy5fY2lyY3VtZmVyZW5jZShpLCByZXNldCk7XG4gICAgICBjb25zdCBhcmMgPSBhcmNzW2ldO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgeDogY2VudGVyWCArIHRoaXMub2Zmc2V0WCxcbiAgICAgICAgeTogY2VudGVyWSArIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgZW5kQW5nbGU6IHN0YXJ0QW5nbGUgKyBjaXJjdW1mZXJlbmNlLFxuICAgICAgICBjaXJjdW1mZXJlbmNlLFxuICAgICAgICBvdXRlclJhZGl1cyxcbiAgICAgICAgaW5uZXJSYWRpdXNcbiAgICAgIH07XG4gICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgYXJjLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSk7XG4gICAgICB9XG4gICAgICBzdGFydEFuZ2xlICs9IGNpcmN1bWZlcmVuY2U7XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYXJjLCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICB9XG4gIH1cbiAgY2FsY3VsYXRlVG90YWwoKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgbWV0YURhdGEgPSBtZXRhLmRhdGE7XG4gICAgbGV0IHRvdGFsID0gMDtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWV0YURhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbWV0YS5fcGFyc2VkW2ldO1xuICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmICFpc05hTih2YWx1ZSkgJiYgdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSAmJiAhbWV0YURhdGFbaV0uaGlkZGVuKSB7XG4gICAgICAgIHRvdGFsICs9IE1hdGguYWJzKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG4gIGNhbGN1bGF0ZUNpcmN1bWZlcmVuY2UodmFsdWUpIHtcbiAgICBjb25zdCB0b3RhbCA9IHRoaXMuX2NhY2hlZE1ldGEudG90YWw7XG4gICAgaWYgKHRvdGFsID4gMCAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gVEFVICogKE1hdGguYWJzKHZhbHVlKSAvIHRvdGFsKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBsYWJlbHMgPSBjaGFydC5kYXRhLmxhYmVscyB8fCBbXTtcbiAgICBjb25zdCB2YWx1ZSA9IGZvcm1hdE51bWJlcihtZXRhLl9wYXJzZWRbaW5kZXhdLCBjaGFydC5vcHRpb25zLmxvY2FsZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBsYWJlbHNbaW5kZXhdIHx8ICcnLFxuICAgICAgdmFsdWUsXG4gICAgfTtcbiAgfVxuICBnZXRNYXhCb3JkZXJXaWR0aChhcmNzKSB7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGxldCBpLCBpbGVuLCBtZXRhLCBjb250cm9sbGVyLCBvcHRpb25zO1xuICAgIGlmICghYXJjcykge1xuICAgICAgZm9yIChpID0gMCwgaWxlbiA9IGNoYXJ0LmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICAgIGlmIChjaGFydC5pc0RhdGFzZXRWaXNpYmxlKGkpKSB7XG4gICAgICAgICAgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGkpO1xuICAgICAgICAgIGFyY3MgPSBtZXRhLmRhdGE7XG4gICAgICAgICAgY29udHJvbGxlciA9IG1ldGEuY29udHJvbGxlcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWFyY3MpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gYXJjcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIG9wdGlvbnMgPSBjb250cm9sbGVyLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSk7XG4gICAgICBpZiAob3B0aW9ucy5ib3JkZXJBbGlnbiAhPT0gJ2lubmVyJykge1xuICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIG9wdGlvbnMuYm9yZGVyV2lkdGggfHwgMCwgb3B0aW9ucy5ob3ZlckJvcmRlcldpZHRoIHx8IDApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4O1xuICB9XG4gIGdldE1heE9mZnNldChhcmNzKSB7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSBhcmNzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpKTtcbiAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgb3B0aW9ucy5vZmZzZXQgfHwgMCwgb3B0aW9ucy5ob3Zlck9mZnNldCB8fCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbiAgfVxuICBfZ2V0UmluZ1dlaWdodE9mZnNldChkYXRhc2V0SW5kZXgpIHtcbiAgICBsZXQgcmluZ1dlaWdodE9mZnNldCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhc2V0SW5kZXg7ICsraSkge1xuICAgICAgaWYgKHRoaXMuY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSkge1xuICAgICAgICByaW5nV2VpZ2h0T2Zmc2V0ICs9IHRoaXMuX2dldFJpbmdXZWlnaHQoaSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByaW5nV2VpZ2h0T2Zmc2V0O1xuICB9XG4gIF9nZXRSaW5nV2VpZ2h0KGRhdGFzZXRJbmRleCkge1xuICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZU9yRGVmYXVsdCh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbZGF0YXNldEluZGV4XS53ZWlnaHQsIDEpLCAwKTtcbiAgfVxuICBfZ2V0VmlzaWJsZURhdGFzZXRXZWlnaHRUb3RhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0UmluZ1dlaWdodE9mZnNldCh0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHMubGVuZ3RoKSB8fCAxO1xuICB9XG59XG5Eb3VnaG51dENvbnRyb2xsZXIuaWQgPSAnZG91Z2hudXQnO1xuRG91Z2hudXRDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6IGZhbHNlLFxuICBkYXRhRWxlbWVudFR5cGU6ICdhcmMnLFxuICBhbmltYXRpb246IHtcbiAgICBhbmltYXRlUm90YXRlOiB0cnVlLFxuICAgIGFuaW1hdGVTY2FsZTogZmFsc2VcbiAgfSxcbiAgYW5pbWF0aW9uczoge1xuICAgIG51bWJlcnM6IHtcbiAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgcHJvcGVydGllczogWydjaXJjdW1mZXJlbmNlJywgJ2VuZEFuZ2xlJywgJ2lubmVyUmFkaXVzJywgJ291dGVyUmFkaXVzJywgJ3N0YXJ0QW5nbGUnLCAneCcsICd5JywgJ29mZnNldCcsICdib3JkZXJXaWR0aCcsICdzcGFjaW5nJ11cbiAgICB9LFxuICB9LFxuICBjdXRvdXQ6ICc1MCUnLFxuICByb3RhdGlvbjogMCxcbiAgY2lyY3VtZmVyZW5jZTogMzYwLFxuICByYWRpdXM6ICcxMDAlJyxcbiAgc3BhY2luZzogMCxcbiAgaW5kZXhBeGlzOiAncicsXG59O1xuRG91Z2hudXRDb250cm9sbGVyLmRlc2NyaXB0b3JzID0ge1xuICBfc2NyaXB0YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdzcGFjaW5nJyxcbiAgX2luZGV4YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdzcGFjaW5nJyxcbn07XG5Eb3VnaG51dENvbnRyb2xsZXIub3ZlcnJpZGVzID0ge1xuICBhc3BlY3RSYXRpbzogMSxcbiAgcGx1Z2luczoge1xuICAgIGxlZ2VuZDoge1xuICAgICAgbGFiZWxzOiB7XG4gICAgICAgIGdlbmVyYXRlTGFiZWxzKGNoYXJ0KSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGNoYXJ0LmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGEubGFiZWxzLmxlbmd0aCAmJiBkYXRhLmRhdGFzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qge2xhYmVsczoge3BvaW50U3R5bGV9fSA9IGNoYXJ0LmxlZ2VuZC5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGFiZWxzLm1hcCgobGFiZWwsIGkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKDApO1xuICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZShpKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBsYWJlbCxcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IHN0eWxlLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogc3R5bGUuYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiBzdHlsZS5ib3JkZXJXaWR0aCxcbiAgICAgICAgICAgICAgICBwb2ludFN0eWxlOiBwb2ludFN0eWxlLFxuICAgICAgICAgICAgICAgIGhpZGRlbjogIWNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25DbGljayhlLCBsZWdlbmRJdGVtLCBsZWdlbmQpIHtcbiAgICAgICAgbGVnZW5kLmNoYXJ0LnRvZ2dsZURhdGFWaXNpYmlsaXR5KGxlZ2VuZEl0ZW0uaW5kZXgpO1xuICAgICAgICBsZWdlbmQuY2hhcnQudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgdGl0bGUoKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9LFxuICAgICAgICBsYWJlbCh0b29sdGlwSXRlbSkge1xuICAgICAgICAgIGxldCBkYXRhTGFiZWwgPSB0b29sdGlwSXRlbS5sYWJlbDtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9ICc6ICcgKyB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgICBpZiAoaXNBcnJheShkYXRhTGFiZWwpKSB7XG4gICAgICAgICAgICBkYXRhTGFiZWwgPSBkYXRhTGFiZWwuc2xpY2UoKTtcbiAgICAgICAgICAgIGRhdGFMYWJlbFswXSArPSB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YUxhYmVsICs9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZGF0YUxhYmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jbGFzcyBMaW5lQ29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSB0cnVlO1xuICAgIHRoaXMuc3VwcG9ydHNEZWNpbWF0aW9uID0gdHJ1ZTtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cbiAgdXBkYXRlKG1vZGUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCB7ZGF0YXNldDogbGluZSwgZGF0YTogcG9pbnRzID0gW10sIF9kYXRhc2V0fSA9IG1ldGE7XG4gICAgY29uc3QgYW5pbWF0aW9uc0Rpc2FibGVkID0gdGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO1xuICAgIGxldCB7c3RhcnQsIGNvdW50fSA9IF9nZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzKG1ldGEsIHBvaW50cywgYW5pbWF0aW9uc0Rpc2FibGVkKTtcbiAgICB0aGlzLl9kcmF3U3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLl9kcmF3Q291bnQgPSBjb3VudDtcbiAgICBpZiAoX3NjYWxlUmFuZ2VzQ2hhbmdlZChtZXRhKSkge1xuICAgICAgc3RhcnQgPSAwO1xuICAgICAgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIH1cbiAgICBsaW5lLl9jaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgbGluZS5fZGF0YXNldEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICBsaW5lLl9kZWNpbWF0ZWQgPSAhIV9kYXRhc2V0Ll9kZWNpbWF0ZWQ7XG4gICAgbGluZS5wb2ludHMgPSBwb2ludHM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5zaG93TGluZSkge1xuICAgICAgb3B0aW9ucy5ib3JkZXJXaWR0aCA9IDA7XG4gICAgfVxuICAgIG9wdGlvbnMuc2VnbWVudCA9IHRoaXMub3B0aW9ucy5zZWdtZW50O1xuICAgIHRoaXMudXBkYXRlRWxlbWVudChsaW5lLCB1bmRlZmluZWQsIHtcbiAgICAgIGFuaW1hdGVkOiAhYW5pbWF0aW9uc0Rpc2FibGVkLFxuICAgICAgb3B0aW9uc1xuICAgIH0sIG1vZGUpO1xuICAgIHRoaXMudXBkYXRlRWxlbWVudHMocG9pbnRzLCBzdGFydCwgY291bnQsIG1vZGUpO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZSwgX3N0YWNrZWQsIF9kYXRhc2V0fSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3Qge3NoYXJlZE9wdGlvbnMsIGluY2x1ZGVPcHRpb25zfSA9IHRoaXMuX2dldFNoYXJlZE9wdGlvbnMoc3RhcnQsIG1vZGUpO1xuICAgIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gICAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgICBjb25zdCB7c3BhbkdhcHMsIHNlZ21lbnR9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IG1heEdhcExlbmd0aCA9IGlzTnVtYmVyKHNwYW5HYXBzKSA/IHNwYW5HYXBzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGNvbnN0IGRpcmVjdFVwZGF0ZSA9IHRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZCB8fCByZXNldCB8fCBtb2RlID09PSAnbm9uZSc7XG4gICAgbGV0IHByZXZQYXJzZWQgPSBzdGFydCA+IDAgJiYgdGhpcy5nZXRQYXJzZWQoc3RhcnQgLSAxKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaSk7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gZGlyZWN0VXBkYXRlID8gcG9pbnQgOiB7fTtcbiAgICAgIGNvbnN0IG51bGxEYXRhID0gaXNOdWxsT3JVbmRlZihwYXJzZWRbdkF4aXNdKTtcbiAgICAgIGNvbnN0IGlQaXhlbCA9IHByb3BlcnRpZXNbaUF4aXNdID0gaVNjYWxlLmdldFBpeGVsRm9yVmFsdWUocGFyc2VkW2lBeGlzXSwgaSk7XG4gICAgICBjb25zdCB2UGl4ZWwgPSBwcm9wZXJ0aWVzW3ZBeGlzXSA9IHJlc2V0IHx8IG51bGxEYXRhID8gdlNjYWxlLmdldEJhc2VQaXhlbCgpIDogdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoX3N0YWNrZWQgPyB0aGlzLmFwcGx5U3RhY2sodlNjYWxlLCBwYXJzZWQsIF9zdGFja2VkKSA6IHBhcnNlZFt2QXhpc10sIGkpO1xuICAgICAgcHJvcGVydGllcy5za2lwID0gaXNOYU4oaVBpeGVsKSB8fCBpc05hTih2UGl4ZWwpIHx8IG51bGxEYXRhO1xuICAgICAgcHJvcGVydGllcy5zdG9wID0gaSA+IDAgJiYgKE1hdGguYWJzKHBhcnNlZFtpQXhpc10gLSBwcmV2UGFyc2VkW2lBeGlzXSkpID4gbWF4R2FwTGVuZ3RoO1xuICAgICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAgcHJvcGVydGllcy5wYXJzZWQgPSBwYXJzZWQ7XG4gICAgICAgIHByb3BlcnRpZXMucmF3ID0gX2RhdGFzZXQuZGF0YVtpXTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlT3B0aW9ucykge1xuICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKCFkaXJlY3RVcGRhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBvaW50LCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICAgIH1cbiAgICAgIHByZXZQYXJzZWQgPSBwYXJzZWQ7XG4gICAgfVxuICB9XG4gIGdldE1heE92ZXJmbG93KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGRhdGFzZXQgPSBtZXRhLmRhdGFzZXQ7XG4gICAgY29uc3QgYm9yZGVyID0gZGF0YXNldC5vcHRpb25zICYmIGRhdGFzZXQub3B0aW9ucy5ib3JkZXJXaWR0aCB8fCAwO1xuICAgIGNvbnN0IGRhdGEgPSBtZXRhLmRhdGEgfHwgW107XG4gICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGJvcmRlcjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RQb2ludCA9IGRhdGFbMF0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoMCkpO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhkYXRhLmxlbmd0aCAtIDEpKTtcbiAgICByZXR1cm4gTWF0aC5tYXgoYm9yZGVyLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQpIC8gMjtcbiAgfVxuICBkcmF3KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIG1ldGEuZGF0YXNldC51cGRhdGVDb250cm9sUG9pbnRzKHRoaXMuY2hhcnQuY2hhcnRBcmVhLCBtZXRhLmlTY2FsZS5heGlzKTtcbiAgICBzdXBlci5kcmF3KCk7XG4gIH1cbn1cbkxpbmVDb250cm9sbGVyLmlkID0gJ2xpbmUnO1xuTGluZUNvbnRyb2xsZXIuZGVmYXVsdHMgPSB7XG4gIGRhdGFzZXRFbGVtZW50VHlwZTogJ2xpbmUnLFxuICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gIHNob3dMaW5lOiB0cnVlLFxuICBzcGFuR2FwczogZmFsc2UsXG59O1xuTGluZUNvbnRyb2xsZXIub3ZlcnJpZGVzID0ge1xuICBzY2FsZXM6IHtcbiAgICBfaW5kZXhfOiB7XG4gICAgICB0eXBlOiAnY2F0ZWdvcnknLFxuICAgIH0sXG4gICAgX3ZhbHVlXzoge1xuICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgfSxcbiAgfVxufTtcblxuY2xhc3MgUG9sYXJBcmVhQ29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY2hhcnQsIGRhdGFzZXRJbmRleCkge1xuICAgIHN1cGVyKGNoYXJ0LCBkYXRhc2V0SW5kZXgpO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vdXRlclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgfVxuICBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IGxhYmVscyA9IGNoYXJ0LmRhdGEubGFiZWxzIHx8IFtdO1xuICAgIGNvbnN0IHZhbHVlID0gZm9ybWF0TnVtYmVyKG1ldGEuX3BhcnNlZFtpbmRleF0uciwgY2hhcnQub3B0aW9ucy5sb2NhbGUpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogbGFiZWxzW2luZGV4XSB8fCAnJyxcbiAgICAgIHZhbHVlLFxuICAgIH07XG4gIH1cbiAgcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIHJldHVybiBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUuYmluZCh0aGlzKShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICB9XG4gIHVwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgYXJjcyA9IHRoaXMuX2NhY2hlZE1ldGEuZGF0YTtcbiAgICB0aGlzLl91cGRhdGVSYWRpdXMoKTtcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKGFyY3MsIDAsIGFyY3MubGVuZ3RoLCBtb2RlKTtcbiAgfVxuICBnZXRNaW5NYXgoKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgcmFuZ2UgPSB7bWluOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIG1heDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfTtcbiAgICBtZXRhLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KS5yO1xuICAgICAgaWYgKCFpc05hTihwYXJzZWQpICYmIHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICAgIGlmIChwYXJzZWQgPCByYW5nZS5taW4pIHtcbiAgICAgICAgICByYW5nZS5taW4gPSBwYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZCA+IHJhbmdlLm1heCkge1xuICAgICAgICAgIHJhbmdlLm1heCA9IHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICBfdXBkYXRlUmFkaXVzKCkge1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBjaGFydEFyZWEgPSBjaGFydC5jaGFydEFyZWE7XG4gICAgY29uc3Qgb3B0cyA9IGNoYXJ0Lm9wdGlvbnM7XG4gICAgY29uc3QgbWluU2l6ZSA9IE1hdGgubWluKGNoYXJ0QXJlYS5yaWdodCAtIGNoYXJ0QXJlYS5sZWZ0LCBjaGFydEFyZWEuYm90dG9tIC0gY2hhcnRBcmVhLnRvcCk7XG4gICAgY29uc3Qgb3V0ZXJSYWRpdXMgPSBNYXRoLm1heChtaW5TaXplIC8gMiwgMCk7XG4gICAgY29uc3QgaW5uZXJSYWRpdXMgPSBNYXRoLm1heChvcHRzLmN1dG91dFBlcmNlbnRhZ2UgPyAob3V0ZXJSYWRpdXMgLyAxMDApICogKG9wdHMuY3V0b3V0UGVyY2VudGFnZSkgOiAxLCAwKTtcbiAgICBjb25zdCByYWRpdXNMZW5ndGggPSAob3V0ZXJSYWRpdXMgLSBpbm5lclJhZGl1cykgLyBjaGFydC5nZXRWaXNpYmxlRGF0YXNldENvdW50KCk7XG4gICAgdGhpcy5vdXRlclJhZGl1cyA9IG91dGVyUmFkaXVzIC0gKHJhZGl1c0xlbmd0aCAqIHRoaXMuaW5kZXgpO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSB0aGlzLm91dGVyUmFkaXVzIC0gcmFkaXVzTGVuZ3RoO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKGFyY3MsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3Qgb3B0cyA9IGNoYXJ0Lm9wdGlvbnM7XG4gICAgY29uc3QgYW5pbWF0aW9uT3B0cyA9IG9wdHMuYW5pbWF0aW9uO1xuICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fY2FjaGVkTWV0YS5yU2NhbGU7XG4gICAgY29uc3QgY2VudGVyWCA9IHNjYWxlLnhDZW50ZXI7XG4gICAgY29uc3QgY2VudGVyWSA9IHNjYWxlLnlDZW50ZXI7XG4gICAgY29uc3QgZGF0YXNldFN0YXJ0QW5nbGUgPSBzY2FsZS5nZXRJbmRleEFuZ2xlKDApIC0gMC41ICogUEk7XG4gICAgbGV0IGFuZ2xlID0gZGF0YXNldFN0YXJ0QW5nbGU7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgZGVmYXVsdEFuZ2xlID0gMzYwIC8gdGhpcy5jb3VudFZpc2libGVFbGVtZW50cygpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdGFydDsgKytpKSB7XG4gICAgICBhbmdsZSArPSB0aGlzLl9jb21wdXRlQW5nbGUoaSwgbW9kZSwgZGVmYXVsdEFuZ2xlKTtcbiAgICB9XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICBsZXQgc3RhcnRBbmdsZSA9IGFuZ2xlO1xuICAgICAgbGV0IGVuZEFuZ2xlID0gYW5nbGUgKyB0aGlzLl9jb21wdXRlQW5nbGUoaSwgbW9kZSwgZGVmYXVsdEFuZ2xlKTtcbiAgICAgIGxldCBvdXRlclJhZGl1cyA9IGNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpID8gc2NhbGUuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoaSkucikgOiAwO1xuICAgICAgYW5nbGUgPSBlbmRBbmdsZTtcbiAgICAgIGlmIChyZXNldCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uT3B0cy5hbmltYXRlU2NhbGUpIHtcbiAgICAgICAgICBvdXRlclJhZGl1cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbk9wdHMuYW5pbWF0ZVJvdGF0ZSkge1xuICAgICAgICAgIHN0YXJ0QW5nbGUgPSBlbmRBbmdsZSA9IGRhdGFzZXRTdGFydEFuZ2xlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICB5OiBjZW50ZXJZLFxuICAgICAgICBpbm5lclJhZGl1czogMCxcbiAgICAgICAgb3V0ZXJSYWRpdXMsXG4gICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlLFxuICAgICAgICBvcHRpb25zOiB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgYXJjLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSlcbiAgICAgIH07XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYXJjLCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICB9XG4gIH1cbiAgY291bnRWaXNpYmxlRWxlbWVudHMoKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBtZXRhLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmICghaXNOYU4odGhpcy5nZXRQYXJzZWQoaW5kZXgpLnIpICYmIHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG4gIF9jb21wdXRlQW5nbGUoaW5kZXgsIG1vZGUsIGRlZmF1bHRBbmdsZSkge1xuICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGluZGV4KVxuICAgICAgPyB0b1JhZGlhbnModGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGluZGV4LCBtb2RlKS5hbmdsZSB8fCBkZWZhdWx0QW5nbGUpXG4gICAgICA6IDA7XG4gIH1cbn1cblBvbGFyQXJlYUNvbnRyb2xsZXIuaWQgPSAncG9sYXJBcmVhJztcblBvbGFyQXJlYUNvbnRyb2xsZXIuZGVmYXVsdHMgPSB7XG4gIGRhdGFFbGVtZW50VHlwZTogJ2FyYycsXG4gIGFuaW1hdGlvbjoge1xuICAgIGFuaW1hdGVSb3RhdGU6IHRydWUsXG4gICAgYW5pbWF0ZVNjYWxlOiB0cnVlXG4gIH0sXG4gIGFuaW1hdGlvbnM6IHtcbiAgICBudW1iZXJzOiB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIHByb3BlcnRpZXM6IFsneCcsICd5JywgJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnLCAnaW5uZXJSYWRpdXMnLCAnb3V0ZXJSYWRpdXMnXVxuICAgIH0sXG4gIH0sXG4gIGluZGV4QXhpczogJ3InLFxuICBzdGFydEFuZ2xlOiAwLFxufTtcblBvbGFyQXJlYUNvbnRyb2xsZXIub3ZlcnJpZGVzID0ge1xuICBhc3BlY3RSYXRpbzogMSxcbiAgcGx1Z2luczoge1xuICAgIGxlZ2VuZDoge1xuICAgICAgbGFiZWxzOiB7XG4gICAgICAgIGdlbmVyYXRlTGFiZWxzKGNoYXJ0KSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGNoYXJ0LmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGEubGFiZWxzLmxlbmd0aCAmJiBkYXRhLmRhdGFzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qge2xhYmVsczoge3BvaW50U3R5bGV9fSA9IGNoYXJ0LmxlZ2VuZC5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGFiZWxzLm1hcCgobGFiZWwsIGkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKDApO1xuICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZShpKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBsYWJlbCxcbiAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IHN0eWxlLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogc3R5bGUuYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiBzdHlsZS5ib3JkZXJXaWR0aCxcbiAgICAgICAgICAgICAgICBwb2ludFN0eWxlOiBwb2ludFN0eWxlLFxuICAgICAgICAgICAgICAgIGhpZGRlbjogIWNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25DbGljayhlLCBsZWdlbmRJdGVtLCBsZWdlbmQpIHtcbiAgICAgICAgbGVnZW5kLmNoYXJ0LnRvZ2dsZURhdGFWaXNpYmlsaXR5KGxlZ2VuZEl0ZW0uaW5kZXgpO1xuICAgICAgICBsZWdlbmQuY2hhcnQudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgdGl0bGUoKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9LFxuICAgICAgICBsYWJlbChjb250ZXh0KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY2hhcnQuZGF0YS5sYWJlbHNbY29udGV4dC5kYXRhSW5kZXhdICsgJzogJyArIGNvbnRleHQuZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNjYWxlczoge1xuICAgIHI6IHtcbiAgICAgIHR5cGU6ICdyYWRpYWxMaW5lYXInLFxuICAgICAgYW5nbGVMaW5lczoge1xuICAgICAgICBkaXNwbGF5OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgZ3JpZDoge1xuICAgICAgICBjaXJjdWxhcjogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBvaW50TGFiZWxzOiB7XG4gICAgICAgIGRpc3BsYXk6IGZhbHNlXG4gICAgICB9LFxuICAgICAgc3RhcnRBbmdsZTogMFxuICAgIH1cbiAgfVxufTtcblxuY2xhc3MgUGllQ29udHJvbGxlciBleHRlbmRzIERvdWdobnV0Q29udHJvbGxlciB7XG59XG5QaWVDb250cm9sbGVyLmlkID0gJ3BpZSc7XG5QaWVDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBjdXRvdXQ6IDAsXG4gIHJvdGF0aW9uOiAwLFxuICBjaXJjdW1mZXJlbmNlOiAzNjAsXG4gIHJhZGl1czogJzEwMCUnXG59O1xuXG5jbGFzcyBSYWRhckNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIGdldExhYmVsQW5kVmFsdWUoaW5kZXgpIHtcbiAgICBjb25zdCB2U2NhbGUgPSB0aGlzLl9jYWNoZWRNZXRhLnZTY2FsZTtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiB2U2NhbGUuZ2V0TGFiZWxzKClbaW5kZXhdLFxuICAgICAgdmFsdWU6ICcnICsgdlNjYWxlLmdldExhYmVsRm9yVmFsdWUocGFyc2VkW3ZTY2FsZS5heGlzXSlcbiAgICB9O1xuICB9XG4gIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICByZXR1cm4gX3BhcnNlT2JqZWN0RGF0YVJhZGlhbFNjYWxlLmJpbmQodGhpcykobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgfVxuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGxpbmUgPSBtZXRhLmRhdGFzZXQ7XG4gICAgY29uc3QgcG9pbnRzID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgIGNvbnN0IGxhYmVscyA9IG1ldGEuaVNjYWxlLmdldExhYmVscygpO1xuICAgIGxpbmUucG9pbnRzID0gcG9pbnRzO1xuICAgIGlmIChtb2RlICE9PSAncmVzaXplJykge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKTtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICAgIG9wdGlvbnMuYm9yZGVyV2lkdGggPSAwO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgX2xvb3A6IHRydWUsXG4gICAgICAgIF9mdWxsTG9vcDogbGFiZWxzLmxlbmd0aCA9PT0gcG9pbnRzLmxlbmd0aCxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfTtcbiAgICAgIHRoaXMudXBkYXRlRWxlbWVudChsaW5lLCB1bmRlZmluZWQsIHByb3BlcnRpZXMsIG1vZGUpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKHBvaW50cywgMCwgcG9pbnRzLmxlbmd0aCwgbW9kZSk7XG4gIH1cbiAgdXBkYXRlRWxlbWVudHMocG9pbnRzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhY2hlZE1ldGEuclNjYWxlO1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyBpKyspIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgY29uc3QgcG9pbnRQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZShpLCB0aGlzLmdldFBhcnNlZChpKS5yKTtcbiAgICAgIGNvbnN0IHggPSByZXNldCA/IHNjYWxlLnhDZW50ZXIgOiBwb2ludFBvc2l0aW9uLng7XG4gICAgICBjb25zdCB5ID0gcmVzZXQgPyBzY2FsZS55Q2VudGVyIDogcG9pbnRQb3NpdGlvbi55O1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgYW5nbGU6IHBvaW50UG9zaXRpb24uYW5nbGUsXG4gICAgICAgIHNraXA6IGlzTmFOKHgpIHx8IGlzTmFOKHkpLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9O1xuICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBvaW50LCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICB9XG4gIH1cbn1cblJhZGFyQ29udHJvbGxlci5pZCA9ICdyYWRhcic7XG5SYWRhckNvbnRyb2xsZXIuZGVmYXVsdHMgPSB7XG4gIGRhdGFzZXRFbGVtZW50VHlwZTogJ2xpbmUnLFxuICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gIGluZGV4QXhpczogJ3InLFxuICBzaG93TGluZTogdHJ1ZSxcbiAgZWxlbWVudHM6IHtcbiAgICBsaW5lOiB7XG4gICAgICBmaWxsOiAnc3RhcnQnXG4gICAgfVxuICB9LFxufTtcblJhZGFyQ29udHJvbGxlci5vdmVycmlkZXMgPSB7XG4gIGFzcGVjdFJhdGlvOiAxLFxuICBzY2FsZXM6IHtcbiAgICByOiB7XG4gICAgICB0eXBlOiAncmFkaWFsTGluZWFyJyxcbiAgICB9XG4gIH1cbn07XG5cbmNsYXNzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy55ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuJGFuaW1hdGlvbnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgdG9vbHRpcFBvc2l0aW9uKHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCB7eCwgeX0gPSB0aGlzLmdldFByb3BzKFsneCcsICd5J10sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIHJldHVybiB7eCwgeX07XG4gIH1cbiAgaGFzVmFsdWUoKSB7XG4gICAgcmV0dXJuIGlzTnVtYmVyKHRoaXMueCkgJiYgaXNOdW1iZXIodGhpcy55KTtcbiAgfVxuICBnZXRQcm9wcyhwcm9wcywgZmluYWwpIHtcbiAgICBjb25zdCBhbmltcyA9IHRoaXMuJGFuaW1hdGlvbnM7XG4gICAgaWYgKCFmaW5hbCB8fCAhYW5pbXMpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBwcm9wcy5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgcmV0W3Byb3BdID0gYW5pbXNbcHJvcF0gJiYgYW5pbXNbcHJvcF0uYWN0aXZlKCkgPyBhbmltc1twcm9wXS5fdG8gOiB0aGlzW3Byb3BdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbn1cbkVsZW1lbnQuZGVmYXVsdHMgPSB7fTtcbkVsZW1lbnQuZGVmYXVsdFJvdXRlcyA9IHVuZGVmaW5lZDtcblxuY29uc3QgZm9ybWF0dGVycyA9IHtcbiAgdmFsdWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiAnJyArIHZhbHVlO1xuICB9LFxuICBudW1lcmljKHRpY2tWYWx1ZSwgaW5kZXgsIHRpY2tzKSB7XG4gICAgaWYgKHRpY2tWYWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcwJztcbiAgICB9XG4gICAgY29uc3QgbG9jYWxlID0gdGhpcy5jaGFydC5vcHRpb25zLmxvY2FsZTtcbiAgICBsZXQgbm90YXRpb247XG4gICAgbGV0IGRlbHRhID0gdGlja1ZhbHVlO1xuICAgIGlmICh0aWNrcy5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBtYXhUaWNrID0gTWF0aC5tYXgoTWF0aC5hYnModGlja3NbMF0udmFsdWUpLCBNYXRoLmFicyh0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS52YWx1ZSkpO1xuICAgICAgaWYgKG1heFRpY2sgPCAxZS00IHx8IG1heFRpY2sgPiAxZSsxNSkge1xuICAgICAgICBub3RhdGlvbiA9ICdzY2llbnRpZmljJztcbiAgICAgIH1cbiAgICAgIGRlbHRhID0gY2FsY3VsYXRlRGVsdGEodGlja1ZhbHVlLCB0aWNrcyk7XG4gICAgfVxuICAgIGNvbnN0IGxvZ0RlbHRhID0gbG9nMTAoTWF0aC5hYnMoZGVsdGEpKTtcbiAgICBjb25zdCBudW1EZWNpbWFsID0gTWF0aC5tYXgoTWF0aC5taW4oLTEgKiBNYXRoLmZsb29yKGxvZ0RlbHRhKSwgMjApLCAwKTtcbiAgICBjb25zdCBvcHRpb25zID0ge25vdGF0aW9uLCBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IG51bURlY2ltYWwsIG1heGltdW1GcmFjdGlvbkRpZ2l0czogbnVtRGVjaW1hbH07XG4gICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB0aGlzLm9wdGlvbnMudGlja3MuZm9ybWF0KTtcbiAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHRpY2tWYWx1ZSwgbG9jYWxlLCBvcHRpb25zKTtcbiAgfSxcbiAgbG9nYXJpdGhtaWModGlja1ZhbHVlLCBpbmRleCwgdGlja3MpIHtcbiAgICBpZiAodGlja1ZhbHVlID09PSAwKSB7XG4gICAgICByZXR1cm4gJzAnO1xuICAgIH1cbiAgICBjb25zdCByZW1haW4gPSB0aWNrVmFsdWUgLyAoTWF0aC5wb3coMTAsIE1hdGguZmxvb3IobG9nMTAodGlja1ZhbHVlKSkpKTtcbiAgICBpZiAocmVtYWluID09PSAxIHx8IHJlbWFpbiA9PT0gMiB8fCByZW1haW4gPT09IDUpIHtcbiAgICAgIHJldHVybiBmb3JtYXR0ZXJzLm51bWVyaWMuY2FsbCh0aGlzLCB0aWNrVmFsdWUsIGluZGV4LCB0aWNrcyk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxufTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZURlbHRhKHRpY2tWYWx1ZSwgdGlja3MpIHtcbiAgbGV0IGRlbHRhID0gdGlja3MubGVuZ3RoID4gMyA/IHRpY2tzWzJdLnZhbHVlIC0gdGlja3NbMV0udmFsdWUgOiB0aWNrc1sxXS52YWx1ZSAtIHRpY2tzWzBdLnZhbHVlO1xuICBpZiAoTWF0aC5hYnMoZGVsdGEpID49IDEgJiYgdGlja1ZhbHVlICE9PSBNYXRoLmZsb29yKHRpY2tWYWx1ZSkpIHtcbiAgICBkZWx0YSA9IHRpY2tWYWx1ZSAtIE1hdGguZmxvb3IodGlja1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gZGVsdGE7XG59XG52YXIgVGlja3MgPSB7Zm9ybWF0dGVyc307XG5cbmRlZmF1bHRzLnNldCgnc2NhbGUnLCB7XG4gIGRpc3BsYXk6IHRydWUsXG4gIG9mZnNldDogZmFsc2UsXG4gIHJldmVyc2U6IGZhbHNlLFxuICBiZWdpbkF0WmVybzogZmFsc2UsXG4gIGJvdW5kczogJ3RpY2tzJyxcbiAgZ3JhY2U6IDAsXG4gIGdyaWQ6IHtcbiAgICBkaXNwbGF5OiB0cnVlLFxuICAgIGxpbmVXaWR0aDogMSxcbiAgICBkcmF3Qm9yZGVyOiB0cnVlLFxuICAgIGRyYXdPbkNoYXJ0QXJlYTogdHJ1ZSxcbiAgICBkcmF3VGlja3M6IHRydWUsXG4gICAgdGlja0xlbmd0aDogOCxcbiAgICB0aWNrV2lkdGg6IChfY3R4LCBvcHRpb25zKSA9PiBvcHRpb25zLmxpbmVXaWR0aCxcbiAgICB0aWNrQ29sb3I6IChfY3R4LCBvcHRpb25zKSA9PiBvcHRpb25zLmNvbG9yLFxuICAgIG9mZnNldDogZmFsc2UsXG4gICAgYm9yZGVyRGFzaDogW10sXG4gICAgYm9yZGVyRGFzaE9mZnNldDogMC4wLFxuICAgIGJvcmRlcldpZHRoOiAxXG4gIH0sXG4gIHRpdGxlOiB7XG4gICAgZGlzcGxheTogZmFsc2UsXG4gICAgdGV4dDogJycsXG4gICAgcGFkZGluZzoge1xuICAgICAgdG9wOiA0LFxuICAgICAgYm90dG9tOiA0XG4gICAgfVxuICB9LFxuICB0aWNrczoge1xuICAgIG1pblJvdGF0aW9uOiAwLFxuICAgIG1heFJvdGF0aW9uOiA1MCxcbiAgICBtaXJyb3I6IGZhbHNlLFxuICAgIHRleHRTdHJva2VXaWR0aDogMCxcbiAgICB0ZXh0U3Ryb2tlQ29sb3I6ICcnLFxuICAgIHBhZGRpbmc6IDMsXG4gICAgZGlzcGxheTogdHJ1ZSxcbiAgICBhdXRvU2tpcDogdHJ1ZSxcbiAgICBhdXRvU2tpcFBhZGRpbmc6IDMsXG4gICAgbGFiZWxPZmZzZXQ6IDAsXG4gICAgY2FsbGJhY2s6IFRpY2tzLmZvcm1hdHRlcnMudmFsdWVzLFxuICAgIG1pbm9yOiB7fSxcbiAgICBtYWpvcjoge30sXG4gICAgYWxpZ246ICdjZW50ZXInLFxuICAgIGNyb3NzQWxpZ246ICduZWFyJyxcbiAgICBzaG93TGFiZWxCYWNrZHJvcDogZmFsc2UsXG4gICAgYmFja2Ryb3BDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSknLFxuICAgIGJhY2tkcm9wUGFkZGluZzogMixcbiAgfVxufSk7XG5kZWZhdWx0cy5yb3V0ZSgnc2NhbGUudGlja3MnLCAnY29sb3InLCAnJywgJ2NvbG9yJyk7XG5kZWZhdWx0cy5yb3V0ZSgnc2NhbGUuZ3JpZCcsICdjb2xvcicsICcnLCAnYm9yZGVyQ29sb3InKTtcbmRlZmF1bHRzLnJvdXRlKCdzY2FsZS5ncmlkJywgJ2JvcmRlckNvbG9yJywgJycsICdib3JkZXJDb2xvcicpO1xuZGVmYXVsdHMucm91dGUoJ3NjYWxlLnRpdGxlJywgJ2NvbG9yJywgJycsICdjb2xvcicpO1xuZGVmYXVsdHMuZGVzY3JpYmUoJ3NjYWxlJywge1xuICBfZmFsbGJhY2s6IGZhbHNlLFxuICBfc2NyaXB0YWJsZTogKG5hbWUpID0+ICFuYW1lLnN0YXJ0c1dpdGgoJ2JlZm9yZScpICYmICFuYW1lLnN0YXJ0c1dpdGgoJ2FmdGVyJykgJiYgbmFtZSAhPT0gJ2NhbGxiYWNrJyAmJiBuYW1lICE9PSAncGFyc2VyJyxcbiAgX2luZGV4YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdib3JkZXJEYXNoJyAmJiBuYW1lICE9PSAndGlja0JvcmRlckRhc2gnLFxufSk7XG5kZWZhdWx0cy5kZXNjcmliZSgnc2NhbGVzJywge1xuICBfZmFsbGJhY2s6ICdzY2FsZScsXG59KTtcbmRlZmF1bHRzLmRlc2NyaWJlKCdzY2FsZS50aWNrcycsIHtcbiAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnYmFja2Ryb3BQYWRkaW5nJyAmJiBuYW1lICE9PSAnY2FsbGJhY2snLFxuICBfaW5kZXhhYmxlOiAobmFtZSkgPT4gbmFtZSAhPT0gJ2JhY2tkcm9wUGFkZGluZycsXG59KTtcblxuZnVuY3Rpb24gYXV0b1NraXAoc2NhbGUsIHRpY2tzKSB7XG4gIGNvbnN0IHRpY2tPcHRzID0gc2NhbGUub3B0aW9ucy50aWNrcztcbiAgY29uc3QgdGlja3NMaW1pdCA9IHRpY2tPcHRzLm1heFRpY2tzTGltaXQgfHwgZGV0ZXJtaW5lTWF4VGlja3Moc2NhbGUpO1xuICBjb25zdCBtYWpvckluZGljZXMgPSB0aWNrT3B0cy5tYWpvci5lbmFibGVkID8gZ2V0TWFqb3JJbmRpY2VzKHRpY2tzKSA6IFtdO1xuICBjb25zdCBudW1NYWpvckluZGljZXMgPSBtYWpvckluZGljZXMubGVuZ3RoO1xuICBjb25zdCBmaXJzdCA9IG1ham9ySW5kaWNlc1swXTtcbiAgY29uc3QgbGFzdCA9IG1ham9ySW5kaWNlc1tudW1NYWpvckluZGljZXMgLSAxXTtcbiAgY29uc3QgbmV3VGlja3MgPSBbXTtcbiAgaWYgKG51bU1ham9ySW5kaWNlcyA+IHRpY2tzTGltaXQpIHtcbiAgICBza2lwTWFqb3JzKHRpY2tzLCBuZXdUaWNrcywgbWFqb3JJbmRpY2VzLCBudW1NYWpvckluZGljZXMgLyB0aWNrc0xpbWl0KTtcbiAgICByZXR1cm4gbmV3VGlja3M7XG4gIH1cbiAgY29uc3Qgc3BhY2luZyA9IGNhbGN1bGF0ZVNwYWNpbmcobWFqb3JJbmRpY2VzLCB0aWNrcywgdGlja3NMaW1pdCk7XG4gIGlmIChudW1NYWpvckluZGljZXMgPiAwKSB7XG4gICAgbGV0IGksIGlsZW47XG4gICAgY29uc3QgYXZnTWFqb3JTcGFjaW5nID0gbnVtTWFqb3JJbmRpY2VzID4gMSA/IE1hdGgucm91bmQoKGxhc3QgLSBmaXJzdCkgLyAobnVtTWFqb3JJbmRpY2VzIC0gMSkpIDogbnVsbDtcbiAgICBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZywgaXNOdWxsT3JVbmRlZihhdmdNYWpvclNwYWNpbmcpID8gMCA6IGZpcnN0IC0gYXZnTWFqb3JTcGFjaW5nLCBmaXJzdCk7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IG51bU1ham9ySW5kaWNlcyAtIDE7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIHNraXAodGlja3MsIG5ld1RpY2tzLCBzcGFjaW5nLCBtYWpvckluZGljZXNbaV0sIG1ham9ySW5kaWNlc1tpICsgMV0pO1xuICAgIH1cbiAgICBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZywgbGFzdCwgaXNOdWxsT3JVbmRlZihhdmdNYWpvclNwYWNpbmcpID8gdGlja3MubGVuZ3RoIDogbGFzdCArIGF2Z01ham9yU3BhY2luZyk7XG4gICAgcmV0dXJuIG5ld1RpY2tzO1xuICB9XG4gIHNraXAodGlja3MsIG5ld1RpY2tzLCBzcGFjaW5nKTtcbiAgcmV0dXJuIG5ld1RpY2tzO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lTWF4VGlja3Moc2NhbGUpIHtcbiAgY29uc3Qgb2Zmc2V0ID0gc2NhbGUub3B0aW9ucy5vZmZzZXQ7XG4gIGNvbnN0IHRpY2tMZW5ndGggPSBzY2FsZS5fdGlja1NpemUoKTtcbiAgY29uc3QgbWF4U2NhbGUgPSBzY2FsZS5fbGVuZ3RoIC8gdGlja0xlbmd0aCArIChvZmZzZXQgPyAwIDogMSk7XG4gIGNvbnN0IG1heENoYXJ0ID0gc2NhbGUuX21heExlbmd0aCAvIHRpY2tMZW5ndGg7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgubWluKG1heFNjYWxlLCBtYXhDaGFydCkpO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlU3BhY2luZyhtYWpvckluZGljZXMsIHRpY2tzLCB0aWNrc0xpbWl0KSB7XG4gIGNvbnN0IGV2ZW5NYWpvclNwYWNpbmcgPSBnZXRFdmVuU3BhY2luZyhtYWpvckluZGljZXMpO1xuICBjb25zdCBzcGFjaW5nID0gdGlja3MubGVuZ3RoIC8gdGlja3NMaW1pdDtcbiAgaWYgKCFldmVuTWFqb3JTcGFjaW5nKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHNwYWNpbmcsIDEpO1xuICB9XG4gIGNvbnN0IGZhY3RvcnMgPSBfZmFjdG9yaXplKGV2ZW5NYWpvclNwYWNpbmcpO1xuICBmb3IgKGxldCBpID0gMCwgaWxlbiA9IGZhY3RvcnMubGVuZ3RoIC0gMTsgaSA8IGlsZW47IGkrKykge1xuICAgIGNvbnN0IGZhY3RvciA9IGZhY3RvcnNbaV07XG4gICAgaWYgKGZhY3RvciA+IHNwYWNpbmcpIHtcbiAgICAgIHJldHVybiBmYWN0b3I7XG4gICAgfVxuICB9XG4gIHJldHVybiBNYXRoLm1heChzcGFjaW5nLCAxKTtcbn1cbmZ1bmN0aW9uIGdldE1ham9ySW5kaWNlcyh0aWNrcykge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgbGV0IGksIGlsZW47XG4gIGZvciAoaSA9IDAsIGlsZW4gPSB0aWNrcy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICBpZiAodGlja3NbaV0ubWFqb3IpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc2tpcE1ham9ycyh0aWNrcywgbmV3VGlja3MsIG1ham9ySW5kaWNlcywgc3BhY2luZykge1xuICBsZXQgY291bnQgPSAwO1xuICBsZXQgbmV4dCA9IG1ham9ySW5kaWNlc1swXTtcbiAgbGV0IGk7XG4gIHNwYWNpbmcgPSBNYXRoLmNlaWwoc3BhY2luZyk7XG4gIGZvciAoaSA9IDA7IGkgPCB0aWNrcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpID09PSBuZXh0KSB7XG4gICAgICBuZXdUaWNrcy5wdXNoKHRpY2tzW2ldKTtcbiAgICAgIGNvdW50Kys7XG4gICAgICBuZXh0ID0gbWFqb3JJbmRpY2VzW2NvdW50ICogc3BhY2luZ107XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZywgbWFqb3JTdGFydCwgbWFqb3JFbmQpIHtcbiAgY29uc3Qgc3RhcnQgPSB2YWx1ZU9yRGVmYXVsdChtYWpvclN0YXJ0LCAwKTtcbiAgY29uc3QgZW5kID0gTWF0aC5taW4odmFsdWVPckRlZmF1bHQobWFqb3JFbmQsIHRpY2tzLmxlbmd0aCksIHRpY2tzLmxlbmd0aCk7XG4gIGxldCBjb3VudCA9IDA7XG4gIGxldCBsZW5ndGgsIGksIG5leHQ7XG4gIHNwYWNpbmcgPSBNYXRoLmNlaWwoc3BhY2luZyk7XG4gIGlmIChtYWpvckVuZCkge1xuICAgIGxlbmd0aCA9IG1ham9yRW5kIC0gbWFqb3JTdGFydDtcbiAgICBzcGFjaW5nID0gbGVuZ3RoIC8gTWF0aC5mbG9vcihsZW5ndGggLyBzcGFjaW5nKTtcbiAgfVxuICBuZXh0ID0gc3RhcnQ7XG4gIHdoaWxlIChuZXh0IDwgMCkge1xuICAgIGNvdW50Kys7XG4gICAgbmV4dCA9IE1hdGgucm91bmQoc3RhcnQgKyBjb3VudCAqIHNwYWNpbmcpO1xuICB9XG4gIGZvciAoaSA9IE1hdGgubWF4KHN0YXJ0LCAwKTsgaSA8IGVuZDsgaSsrKSB7XG4gICAgaWYgKGkgPT09IG5leHQpIHtcbiAgICAgIG5ld1RpY2tzLnB1c2godGlja3NbaV0pO1xuICAgICAgY291bnQrKztcbiAgICAgIG5leHQgPSBNYXRoLnJvdW5kKHN0YXJ0ICsgY291bnQgKiBzcGFjaW5nKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEV2ZW5TcGFjaW5nKGFycikge1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBsZXQgaSwgZGlmZjtcbiAgaWYgKGxlbiA8IDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChkaWZmID0gYXJyWzBdLCBpID0gMTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFycltpXSAtIGFycltpIC0gMV0gIT09IGRpZmYpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRpZmY7XG59XG5cbmNvbnN0IHJldmVyc2VBbGlnbiA9IChhbGlnbikgPT4gYWxpZ24gPT09ICdsZWZ0JyA/ICdyaWdodCcgOiBhbGlnbiA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6IGFsaWduO1xuY29uc3Qgb2Zmc2V0RnJvbUVkZ2UgPSAoc2NhbGUsIGVkZ2UsIG9mZnNldCkgPT4gZWRnZSA9PT0gJ3RvcCcgfHwgZWRnZSA9PT0gJ2xlZnQnID8gc2NhbGVbZWRnZV0gKyBvZmZzZXQgOiBzY2FsZVtlZGdlXSAtIG9mZnNldDtcbmZ1bmN0aW9uIHNhbXBsZShhcnIsIG51bUl0ZW1zKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCBpbmNyZW1lbnQgPSBhcnIubGVuZ3RoIC8gbnVtSXRlbXM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGxldCBpID0gMDtcbiAgZm9yICg7IGkgPCBsZW47IGkgKz0gaW5jcmVtZW50KSB7XG4gICAgcmVzdWx0LnB1c2goYXJyW01hdGguZmxvb3IoaSldKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0UGl4ZWxGb3JHcmlkTGluZShzY2FsZSwgaW5kZXgsIG9mZnNldEdyaWRMaW5lcykge1xuICBjb25zdCBsZW5ndGggPSBzY2FsZS50aWNrcy5sZW5ndGg7XG4gIGNvbnN0IHZhbGlkSW5kZXggPSBNYXRoLm1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gIGNvbnN0IHN0YXJ0ID0gc2NhbGUuX3N0YXJ0UGl4ZWw7XG4gIGNvbnN0IGVuZCA9IHNjYWxlLl9lbmRQaXhlbDtcbiAgY29uc3QgZXBzaWxvbiA9IDFlLTY7XG4gIGxldCBsaW5lVmFsdWUgPSBzY2FsZS5nZXRQaXhlbEZvclRpY2sodmFsaWRJbmRleCk7XG4gIGxldCBvZmZzZXQ7XG4gIGlmIChvZmZzZXRHcmlkTGluZXMpIHtcbiAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICBvZmZzZXQgPSBNYXRoLm1heChsaW5lVmFsdWUgLSBzdGFydCwgZW5kIC0gbGluZVZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICBvZmZzZXQgPSAoc2NhbGUuZ2V0UGl4ZWxGb3JUaWNrKDEpIC0gbGluZVZhbHVlKSAvIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCA9IChsaW5lVmFsdWUgLSBzY2FsZS5nZXRQaXhlbEZvclRpY2sodmFsaWRJbmRleCAtIDEpKSAvIDI7XG4gICAgfVxuICAgIGxpbmVWYWx1ZSArPSB2YWxpZEluZGV4IDwgaW5kZXggPyBvZmZzZXQgOiAtb2Zmc2V0O1xuICAgIGlmIChsaW5lVmFsdWUgPCBzdGFydCAtIGVwc2lsb24gfHwgbGluZVZhbHVlID4gZW5kICsgZXBzaWxvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGluZVZhbHVlO1xufVxuZnVuY3Rpb24gZ2FyYmFnZUNvbGxlY3QoY2FjaGVzLCBsZW5ndGgpIHtcbiAgZWFjaChjYWNoZXMsIChjYWNoZSkgPT4ge1xuICAgIGNvbnN0IGdjID0gY2FjaGUuZ2M7XG4gICAgY29uc3QgZ2NMZW4gPSBnYy5sZW5ndGggLyAyO1xuICAgIGxldCBpO1xuICAgIGlmIChnY0xlbiA+IGxlbmd0aCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGdjTGVuOyArK2kpIHtcbiAgICAgICAgZGVsZXRlIGNhY2hlLmRhdGFbZ2NbaV1dO1xuICAgICAgfVxuICAgICAgZ2Muc3BsaWNlKDAsIGdjTGVuKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0VGlja01hcmtMZW5ndGgob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5kcmF3VGlja3MgPyBvcHRpb25zLnRpY2tMZW5ndGggOiAwO1xufVxuZnVuY3Rpb24gZ2V0VGl0bGVIZWlnaHQob3B0aW9ucywgZmFsbGJhY2spIHtcbiAgaWYgKCFvcHRpb25zLmRpc3BsYXkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBjb25zdCBmb250ID0gdG9Gb250KG9wdGlvbnMuZm9udCwgZmFsbGJhY2spO1xuICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKG9wdGlvbnMucGFkZGluZyk7XG4gIGNvbnN0IGxpbmVzID0gaXNBcnJheShvcHRpb25zLnRleHQpID8gb3B0aW9ucy50ZXh0Lmxlbmd0aCA6IDE7XG4gIHJldHVybiAobGluZXMgKiBmb250LmxpbmVIZWlnaHQpICsgcGFkZGluZy5oZWlnaHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVTY2FsZUNvbnRleHQocGFyZW50LCBzY2FsZSkge1xuICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICBzY2FsZSxcbiAgICB0eXBlOiAnc2NhbGUnXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlVGlja0NvbnRleHQocGFyZW50LCBpbmRleCwgdGljaykge1xuICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICB0aWNrLFxuICAgIGluZGV4LFxuICAgIHR5cGU6ICd0aWNrJ1xuICB9KTtcbn1cbmZ1bmN0aW9uIHRpdGxlQWxpZ24oYWxpZ24sIHBvc2l0aW9uLCByZXZlcnNlKSB7XG4gIGxldCByZXQgPSBfdG9MZWZ0UmlnaHRDZW50ZXIoYWxpZ24pO1xuICBpZiAoKHJldmVyc2UgJiYgcG9zaXRpb24gIT09ICdyaWdodCcpIHx8ICghcmV2ZXJzZSAmJiBwb3NpdGlvbiA9PT0gJ3JpZ2h0JykpIHtcbiAgICByZXQgPSByZXZlcnNlQWxpZ24ocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gdGl0bGVBcmdzKHNjYWxlLCBvZmZzZXQsIHBvc2l0aW9uLCBhbGlnbikge1xuICBjb25zdCB7dG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0LCBjaGFydH0gPSBzY2FsZTtcbiAgY29uc3Qge2NoYXJ0QXJlYSwgc2NhbGVzfSA9IGNoYXJ0O1xuICBsZXQgcm90YXRpb24gPSAwO1xuICBsZXQgbWF4V2lkdGgsIHRpdGxlWCwgdGl0bGVZO1xuICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XG4gIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICBpZiAoc2NhbGUuaXNIb3Jpem9udGFsKCkpIHtcbiAgICB0aXRsZVggPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgbGVmdCwgcmlnaHQpO1xuICAgIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uQXhpc0lEID0gT2JqZWN0LmtleXMocG9zaXRpb24pWzBdO1xuICAgICAgY29uc3QgdmFsdWUgPSBwb3NpdGlvbltwb3NpdGlvbkF4aXNJRF07XG4gICAgICB0aXRsZVkgPSBzY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpICsgaGVpZ2h0IC0gb2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICB0aXRsZVkgPSAoY2hhcnRBcmVhLmJvdHRvbSArIGNoYXJ0QXJlYS50b3ApIC8gMiArIGhlaWdodCAtIG9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVZID0gb2Zmc2V0RnJvbUVkZ2Uoc2NhbGUsIHBvc2l0aW9uLCBvZmZzZXQpO1xuICAgIH1cbiAgICBtYXhXaWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgdGl0bGVYID0gc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKSAtIHdpZHRoICsgb2Zmc2V0O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICB0aXRsZVggPSAoY2hhcnRBcmVhLmxlZnQgKyBjaGFydEFyZWEucmlnaHQpIC8gMiAtIHdpZHRoICsgb2Zmc2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZVggPSBvZmZzZXRGcm9tRWRnZShzY2FsZSwgcG9zaXRpb24sIG9mZnNldCk7XG4gICAgfVxuICAgIHRpdGxlWSA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCBib3R0b20sIHRvcCk7XG4gICAgcm90YXRpb24gPSBwb3NpdGlvbiA9PT0gJ2xlZnQnID8gLUhBTEZfUEkgOiBIQUxGX1BJO1xuICB9XG4gIHJldHVybiB7dGl0bGVYLCB0aXRsZVksIG1heFdpZHRoLCByb3RhdGlvbn07XG59XG5jbGFzcyBTY2FsZSBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihjZmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaWQgPSBjZmcuaWQ7XG4gICAgdGhpcy50eXBlID0gY2ZnLnR5cGU7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY3R4ID0gY2ZnLmN0eDtcbiAgICB0aGlzLmNoYXJ0ID0gY2ZnLmNoYXJ0O1xuICAgIHRoaXMudG9wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYm90dG9tID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGVmdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fbWFyZ2lucyA9IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMFxuICAgIH07XG4gICAgdGhpcy5tYXhXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1heEhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBhZGRpbmdUb3AgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wYWRkaW5nQm90dG9tID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGFkZGluZ0xlZnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wYWRkaW5nUmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5heGlzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGFiZWxSb3RhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1pbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1heCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yYW5nZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRpY2tzID0gW107XG4gICAgdGhpcy5fZ3JpZExpbmVJdGVtcyA9IG51bGw7XG4gICAgdGhpcy5fbGFiZWxJdGVtcyA9IG51bGw7XG4gICAgdGhpcy5fbGFiZWxTaXplcyA9IG51bGw7XG4gICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tYXhMZW5ndGggPSAwO1xuICAgIHRoaXMuX2xvbmdlc3RUZXh0Q2FjaGUgPSB7fTtcbiAgICB0aGlzLl9zdGFydFBpeGVsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2VuZFBpeGVsID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3JldmVyc2VQaXhlbHMgPSBmYWxzZTtcbiAgICB0aGlzLl91c2VyTWF4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3VzZXJNaW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3VnZ2VzdGVkTWF4ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1Z2dlc3RlZE1pbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl90aWNrc0xlbmd0aCA9IDA7XG4gICAgdGhpcy5fYm9yZGVyVmFsdWUgPSAwO1xuICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgdGhpcy5fZGF0YUxpbWl0c0NhY2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICB0aGlzLmF4aXMgPSBvcHRpb25zLmF4aXM7XG4gICAgdGhpcy5fdXNlck1pbiA9IHRoaXMucGFyc2Uob3B0aW9ucy5taW4pO1xuICAgIHRoaXMuX3VzZXJNYXggPSB0aGlzLnBhcnNlKG9wdGlvbnMubWF4KTtcbiAgICB0aGlzLl9zdWdnZXN0ZWRNaW4gPSB0aGlzLnBhcnNlKG9wdGlvbnMuc3VnZ2VzdGVkTWluKTtcbiAgICB0aGlzLl9zdWdnZXN0ZWRNYXggPSB0aGlzLnBhcnNlKG9wdGlvbnMuc3VnZ2VzdGVkTWF4KTtcbiAgfVxuICBwYXJzZShyYXcsIGluZGV4KSB7XG4gICAgcmV0dXJuIHJhdztcbiAgfVxuICBnZXRVc2VyQm91bmRzKCkge1xuICAgIGxldCB7X3VzZXJNaW4sIF91c2VyTWF4LCBfc3VnZ2VzdGVkTWluLCBfc3VnZ2VzdGVkTWF4fSA9IHRoaXM7XG4gICAgX3VzZXJNaW4gPSBmaW5pdGVPckRlZmF1bHQoX3VzZXJNaW4sIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgX3VzZXJNYXggPSBmaW5pdGVPckRlZmF1bHQoX3VzZXJNYXgsIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgX3N1Z2dlc3RlZE1pbiA9IGZpbml0ZU9yRGVmYXVsdChfc3VnZ2VzdGVkTWluLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgIF9zdWdnZXN0ZWRNYXggPSBmaW5pdGVPckRlZmF1bHQoX3N1Z2dlc3RlZE1heCwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWluOiBmaW5pdGVPckRlZmF1bHQoX3VzZXJNaW4sIF9zdWdnZXN0ZWRNaW4pLFxuICAgICAgbWF4OiBmaW5pdGVPckRlZmF1bHQoX3VzZXJNYXgsIF9zdWdnZXN0ZWRNYXgpLFxuICAgICAgbWluRGVmaW5lZDogaXNOdW1iZXJGaW5pdGUoX3VzZXJNaW4pLFxuICAgICAgbWF4RGVmaW5lZDogaXNOdW1iZXJGaW5pdGUoX3VzZXJNYXgpXG4gICAgfTtcbiAgfVxuICBnZXRNaW5NYXgoY2FuU3RhY2spIHtcbiAgICBsZXQge21pbiwgbWF4LCBtaW5EZWZpbmVkLCBtYXhEZWZpbmVkfSA9IHRoaXMuZ2V0VXNlckJvdW5kcygpO1xuICAgIGxldCByYW5nZTtcbiAgICBpZiAobWluRGVmaW5lZCAmJiBtYXhEZWZpbmVkKSB7XG4gICAgICByZXR1cm4ge21pbiwgbWF4fTtcbiAgICB9XG4gICAgY29uc3QgbWV0YXMgPSB0aGlzLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSBtZXRhcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHJhbmdlID0gbWV0YXNbaV0uY29udHJvbGxlci5nZXRNaW5NYXgodGhpcywgY2FuU3RhY2spO1xuICAgICAgaWYgKCFtaW5EZWZpbmVkKSB7XG4gICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcmFuZ2UubWluKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWF4RGVmaW5lZCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHJhbmdlLm1heCk7XG4gICAgICB9XG4gICAgfVxuICAgIG1pbiA9IG1heERlZmluZWQgJiYgbWluID4gbWF4ID8gbWF4IDogbWluO1xuICAgIG1heCA9IG1pbkRlZmluZWQgJiYgbWluID4gbWF4ID8gbWluIDogbWF4O1xuICAgIHJldHVybiB7XG4gICAgICBtaW46IGZpbml0ZU9yRGVmYXVsdChtaW4sIGZpbml0ZU9yRGVmYXVsdChtYXgsIG1pbikpLFxuICAgICAgbWF4OiBmaW5pdGVPckRlZmF1bHQobWF4LCBmaW5pdGVPckRlZmF1bHQobWluLCBtYXgpKVxuICAgIH07XG4gIH1cbiAgZ2V0UGFkZGluZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdGhpcy5wYWRkaW5nTGVmdCB8fCAwLFxuICAgICAgdG9wOiB0aGlzLnBhZGRpbmdUb3AgfHwgMCxcbiAgICAgIHJpZ2h0OiB0aGlzLnBhZGRpbmdSaWdodCB8fCAwLFxuICAgICAgYm90dG9tOiB0aGlzLnBhZGRpbmdCb3R0b20gfHwgMFxuICAgIH07XG4gIH1cbiAgZ2V0VGlja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudGlja3M7XG4gIH1cbiAgZ2V0TGFiZWxzKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNoYXJ0LmRhdGE7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sYWJlbHMgfHwgKHRoaXMuaXNIb3Jpem9udGFsKCkgPyBkYXRhLnhMYWJlbHMgOiBkYXRhLnlMYWJlbHMpIHx8IGRhdGEubGFiZWxzIHx8IFtdO1xuICB9XG4gIGJlZm9yZUxheW91dCgpIHtcbiAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQgPSBmYWxzZTtcbiAgfVxuICBiZWZvcmVVcGRhdGUoKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVVwZGF0ZSwgW3RoaXNdKTtcbiAgfVxuICB1cGRhdGUobWF4V2lkdGgsIG1heEhlaWdodCwgbWFyZ2lucykge1xuICAgIGNvbnN0IHtiZWdpbkF0WmVybywgZ3JhY2UsIHRpY2tzOiB0aWNrT3B0c30gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qgc2FtcGxlU2l6ZSA9IHRpY2tPcHRzLnNhbXBsZVNpemU7XG4gICAgdGhpcy5iZWZvcmVVcGRhdGUoKTtcbiAgICB0aGlzLm1heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgdGhpcy5fbWFyZ2lucyA9IG1hcmdpbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMFxuICAgIH0sIG1hcmdpbnMpO1xuICAgIHRoaXMudGlja3MgPSBudWxsO1xuICAgIHRoaXMuX2xhYmVsU2l6ZXMgPSBudWxsO1xuICAgIHRoaXMuX2dyaWRMaW5lSXRlbXMgPSBudWxsO1xuICAgIHRoaXMuX2xhYmVsSXRlbXMgPSBudWxsO1xuICAgIHRoaXMuYmVmb3JlU2V0RGltZW5zaW9ucygpO1xuICAgIHRoaXMuc2V0RGltZW5zaW9ucygpO1xuICAgIHRoaXMuYWZ0ZXJTZXREaW1lbnNpb25zKCk7XG4gICAgdGhpcy5fbWF4TGVuZ3RoID0gdGhpcy5pc0hvcml6b250YWwoKVxuICAgICAgPyB0aGlzLndpZHRoICsgbWFyZ2lucy5sZWZ0ICsgbWFyZ2lucy5yaWdodFxuICAgICAgOiB0aGlzLmhlaWdodCArIG1hcmdpbnMudG9wICsgbWFyZ2lucy5ib3R0b207XG4gICAgaWYgKCF0aGlzLl9kYXRhTGltaXRzQ2FjaGVkKSB7XG4gICAgICB0aGlzLmJlZm9yZURhdGFMaW1pdHMoKTtcbiAgICAgIHRoaXMuZGV0ZXJtaW5lRGF0YUxpbWl0cygpO1xuICAgICAgdGhpcy5hZnRlckRhdGFMaW1pdHMoKTtcbiAgICAgIHRoaXMuX3JhbmdlID0gX2FkZEdyYWNlKHRoaXMsIGdyYWNlLCBiZWdpbkF0WmVybyk7XG4gICAgICB0aGlzLl9kYXRhTGltaXRzQ2FjaGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5iZWZvcmVCdWlsZFRpY2tzKCk7XG4gICAgdGhpcy50aWNrcyA9IHRoaXMuYnVpbGRUaWNrcygpIHx8IFtdO1xuICAgIHRoaXMuYWZ0ZXJCdWlsZFRpY2tzKCk7XG4gICAgY29uc3Qgc2FtcGxpbmdFbmFibGVkID0gc2FtcGxlU2l6ZSA8IHRoaXMudGlja3MubGVuZ3RoO1xuICAgIHRoaXMuX2NvbnZlcnRUaWNrc1RvTGFiZWxzKHNhbXBsaW5nRW5hYmxlZCA/IHNhbXBsZSh0aGlzLnRpY2tzLCBzYW1wbGVTaXplKSA6IHRoaXMudGlja3MpO1xuICAgIHRoaXMuY29uZmlndXJlKCk7XG4gICAgdGhpcy5iZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCk7XG4gICAgdGhpcy5jYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCk7XG4gICAgdGhpcy5hZnRlckNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKTtcbiAgICBpZiAodGlja09wdHMuZGlzcGxheSAmJiAodGlja09wdHMuYXV0b1NraXAgfHwgdGlja09wdHMuc291cmNlID09PSAnYXV0bycpKSB7XG4gICAgICB0aGlzLnRpY2tzID0gYXV0b1NraXAodGhpcywgdGhpcy50aWNrcyk7XG4gICAgICB0aGlzLl9sYWJlbFNpemVzID0gbnVsbDtcbiAgICAgIHRoaXMuYWZ0ZXJBdXRvU2tpcCgpO1xuICAgIH1cbiAgICBpZiAoc2FtcGxpbmdFbmFibGVkKSB7XG4gICAgICB0aGlzLl9jb252ZXJ0VGlja3NUb0xhYmVscyh0aGlzLnRpY2tzKTtcbiAgICB9XG4gICAgdGhpcy5iZWZvcmVGaXQoKTtcbiAgICB0aGlzLmZpdCgpO1xuICAgIHRoaXMuYWZ0ZXJGaXQoKTtcbiAgICB0aGlzLmFmdGVyVXBkYXRlKCk7XG4gIH1cbiAgY29uZmlndXJlKCkge1xuICAgIGxldCByZXZlcnNlUGl4ZWxzID0gdGhpcy5vcHRpb25zLnJldmVyc2U7XG4gICAgbGV0IHN0YXJ0UGl4ZWwsIGVuZFBpeGVsO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBzdGFydFBpeGVsID0gdGhpcy5sZWZ0O1xuICAgICAgZW5kUGl4ZWwgPSB0aGlzLnJpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFBpeGVsID0gdGhpcy50b3A7XG4gICAgICBlbmRQaXhlbCA9IHRoaXMuYm90dG9tO1xuICAgICAgcmV2ZXJzZVBpeGVscyA9ICFyZXZlcnNlUGl4ZWxzO1xuICAgIH1cbiAgICB0aGlzLl9zdGFydFBpeGVsID0gc3RhcnRQaXhlbDtcbiAgICB0aGlzLl9lbmRQaXhlbCA9IGVuZFBpeGVsO1xuICAgIHRoaXMuX3JldmVyc2VQaXhlbHMgPSByZXZlcnNlUGl4ZWxzO1xuICAgIHRoaXMuX2xlbmd0aCA9IGVuZFBpeGVsIC0gc3RhcnRQaXhlbDtcbiAgICB0aGlzLl9hbGlnblRvUGl4ZWxzID0gdGhpcy5vcHRpb25zLmFsaWduVG9QaXhlbHM7XG4gIH1cbiAgYWZ0ZXJVcGRhdGUoKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVXBkYXRlLCBbdGhpc10pO1xuICB9XG4gIGJlZm9yZVNldERpbWVuc2lvbnMoKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVNldERpbWVuc2lvbnMsIFt0aGlzXSk7XG4gIH1cbiAgc2V0RGltZW5zaW9ucygpIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMubWF4V2lkdGg7XG4gICAgICB0aGlzLmxlZnQgPSAwO1xuICAgICAgdGhpcy5yaWdodCA9IHRoaXMud2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICB0aGlzLnRvcCA9IDA7XG4gICAgICB0aGlzLmJvdHRvbSA9IHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gMDtcbiAgICB0aGlzLnBhZGRpbmdUb3AgPSAwO1xuICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gMDtcbiAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSAwO1xuICB9XG4gIGFmdGVyU2V0RGltZW5zaW9ucygpIHtcbiAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJTZXREaW1lbnNpb25zLCBbdGhpc10pO1xuICB9XG4gIF9jYWxsSG9va3MobmFtZSkge1xuICAgIHRoaXMuY2hhcnQubm90aWZ5UGx1Z2lucyhuYW1lLCB0aGlzLmdldENvbnRleHQoKSk7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zW25hbWVdLCBbdGhpc10pO1xuICB9XG4gIGJlZm9yZURhdGFMaW1pdHMoKSB7XG4gICAgdGhpcy5fY2FsbEhvb2tzKCdiZWZvcmVEYXRhTGltaXRzJyk7XG4gIH1cbiAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHt9XG4gIGFmdGVyRGF0YUxpbWl0cygpIHtcbiAgICB0aGlzLl9jYWxsSG9va3MoJ2FmdGVyRGF0YUxpbWl0cycpO1xuICB9XG4gIGJlZm9yZUJ1aWxkVGlja3MoKSB7XG4gICAgdGhpcy5fY2FsbEhvb2tzKCdiZWZvcmVCdWlsZFRpY2tzJyk7XG4gIH1cbiAgYnVpbGRUaWNrcygpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgYWZ0ZXJCdWlsZFRpY2tzKCkge1xuICAgIHRoaXMuX2NhbGxIb29rcygnYWZ0ZXJCdWlsZFRpY2tzJyk7XG4gIH1cbiAgYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24sIFt0aGlzXSk7XG4gIH1cbiAgZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKSB7XG4gICAgY29uc3QgdGlja09wdHMgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgbGV0IGksIGlsZW4sIHRpY2s7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgdGljayA9IHRpY2tzW2ldO1xuICAgICAgdGljay5sYWJlbCA9IGNhbGxiYWNrKHRpY2tPcHRzLmNhbGxiYWNrLCBbdGljay52YWx1ZSwgaSwgdGlja3NdLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgYWZ0ZXJUaWNrVG9MYWJlbENvbnZlcnNpb24oKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uLCBbdGhpc10pO1xuICB9XG4gIGJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24sIFt0aGlzXSk7XG4gIH1cbiAgY2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHRpY2tPcHRzID0gb3B0aW9ucy50aWNrcztcbiAgICBjb25zdCBudW1UaWNrcyA9IHRoaXMudGlja3MubGVuZ3RoO1xuICAgIGNvbnN0IG1pblJvdGF0aW9uID0gdGlja09wdHMubWluUm90YXRpb24gfHwgMDtcbiAgICBjb25zdCBtYXhSb3RhdGlvbiA9IHRpY2tPcHRzLm1heFJvdGF0aW9uO1xuICAgIGxldCBsYWJlbFJvdGF0aW9uID0gbWluUm90YXRpb247XG4gICAgbGV0IHRpY2tXaWR0aCwgbWF4SGVpZ2h0LCBtYXhMYWJlbERpYWdvbmFsO1xuICAgIGlmICghdGhpcy5faXNWaXNpYmxlKCkgfHwgIXRpY2tPcHRzLmRpc3BsYXkgfHwgbWluUm90YXRpb24gPj0gbWF4Um90YXRpb24gfHwgbnVtVGlja3MgPD0gMSB8fCAhdGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgdGhpcy5sYWJlbFJvdGF0aW9uID0gbWluUm90YXRpb247XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxhYmVsU2l6ZXMgPSB0aGlzLl9nZXRMYWJlbFNpemVzKCk7XG4gICAgY29uc3QgbWF4TGFiZWxXaWR0aCA9IGxhYmVsU2l6ZXMud2lkZXN0LndpZHRoO1xuICAgIGNvbnN0IG1heExhYmVsSGVpZ2h0ID0gbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodDtcbiAgICBjb25zdCBtYXhXaWR0aCA9IF9saW1pdFZhbHVlKHRoaXMuY2hhcnQud2lkdGggLSBtYXhMYWJlbFdpZHRoLCAwLCB0aGlzLm1heFdpZHRoKTtcbiAgICB0aWNrV2lkdGggPSBvcHRpb25zLm9mZnNldCA/IHRoaXMubWF4V2lkdGggLyBudW1UaWNrcyA6IG1heFdpZHRoIC8gKG51bVRpY2tzIC0gMSk7XG4gICAgaWYgKG1heExhYmVsV2lkdGggKyA2ID4gdGlja1dpZHRoKSB7XG4gICAgICB0aWNrV2lkdGggPSBtYXhXaWR0aCAvIChudW1UaWNrcyAtIChvcHRpb25zLm9mZnNldCA/IDAuNSA6IDEpKTtcbiAgICAgIG1heEhlaWdodCA9IHRoaXMubWF4SGVpZ2h0IC0gZ2V0VGlja01hcmtMZW5ndGgob3B0aW9ucy5ncmlkKVxuXHRcdFx0XHQtIHRpY2tPcHRzLnBhZGRpbmcgLSBnZXRUaXRsZUhlaWdodChvcHRpb25zLnRpdGxlLCB0aGlzLmNoYXJ0Lm9wdGlvbnMuZm9udCk7XG4gICAgICBtYXhMYWJlbERpYWdvbmFsID0gTWF0aC5zcXJ0KG1heExhYmVsV2lkdGggKiBtYXhMYWJlbFdpZHRoICsgbWF4TGFiZWxIZWlnaHQgKiBtYXhMYWJlbEhlaWdodCk7XG4gICAgICBsYWJlbFJvdGF0aW9uID0gdG9EZWdyZWVzKE1hdGgubWluKFxuICAgICAgICBNYXRoLmFzaW4oX2xpbWl0VmFsdWUoKGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgKyA2KSAvIHRpY2tXaWR0aCwgLTEsIDEpKSxcbiAgICAgICAgTWF0aC5hc2luKF9saW1pdFZhbHVlKG1heEhlaWdodCAvIG1heExhYmVsRGlhZ29uYWwsIC0xLCAxKSkgLSBNYXRoLmFzaW4oX2xpbWl0VmFsdWUobWF4TGFiZWxIZWlnaHQgLyBtYXhMYWJlbERpYWdvbmFsLCAtMSwgMSkpXG4gICAgICApKTtcbiAgICAgIGxhYmVsUm90YXRpb24gPSBNYXRoLm1heChtaW5Sb3RhdGlvbiwgTWF0aC5taW4obWF4Um90YXRpb24sIGxhYmVsUm90YXRpb24pKTtcbiAgICB9XG4gICAgdGhpcy5sYWJlbFJvdGF0aW9uID0gbGFiZWxSb3RhdGlvbjtcbiAgfVxuICBhZnRlckNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbiwgW3RoaXNdKTtcbiAgfVxuICBhZnRlckF1dG9Ta2lwKCkge31cbiAgYmVmb3JlRml0KCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVGaXQsIFt0aGlzXSk7XG4gIH1cbiAgZml0KCkge1xuICAgIGNvbnN0IG1pblNpemUgPSB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gICAgY29uc3Qge2NoYXJ0LCBvcHRpb25zOiB7dGlja3M6IHRpY2tPcHRzLCB0aXRsZTogdGl0bGVPcHRzLCBncmlkOiBncmlkT3B0c319ID0gdGhpcztcbiAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5faXNWaXNpYmxlKCk7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICBpZiAoZGlzcGxheSkge1xuICAgICAgY29uc3QgdGl0bGVIZWlnaHQgPSBnZXRUaXRsZUhlaWdodCh0aXRsZU9wdHMsIGNoYXJ0Lm9wdGlvbnMuZm9udCk7XG4gICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgIG1pblNpemUud2lkdGggPSB0aGlzLm1heFdpZHRoO1xuICAgICAgICBtaW5TaXplLmhlaWdodCA9IGdldFRpY2tNYXJrTGVuZ3RoKGdyaWRPcHRzKSArIHRpdGxlSGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluU2l6ZS5oZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcbiAgICAgICAgbWluU2l6ZS53aWR0aCA9IGdldFRpY2tNYXJrTGVuZ3RoKGdyaWRPcHRzKSArIHRpdGxlSGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKHRpY2tPcHRzLmRpc3BsYXkgJiYgdGhpcy50aWNrcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3Qge2ZpcnN0LCBsYXN0LCB3aWRlc3QsIGhpZ2hlc3R9ID0gdGhpcy5fZ2V0TGFiZWxTaXplcygpO1xuICAgICAgICBjb25zdCB0aWNrUGFkZGluZyA9IHRpY2tPcHRzLnBhZGRpbmcgKiAyO1xuICAgICAgICBjb25zdCBhbmdsZVJhZGlhbnMgPSB0b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgY29zID0gTWF0aC5jb3MoYW5nbGVSYWRpYW5zKTtcbiAgICAgICAgY29uc3Qgc2luID0gTWF0aC5zaW4oYW5nbGVSYWRpYW5zKTtcbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgIGNvbnN0IGxhYmVsSGVpZ2h0ID0gdGlja09wdHMubWlycm9yID8gMCA6IHNpbiAqIHdpZGVzdC53aWR0aCArIGNvcyAqIGhpZ2hlc3QuaGVpZ2h0O1xuICAgICAgICAgIG1pblNpemUuaGVpZ2h0ID0gTWF0aC5taW4odGhpcy5tYXhIZWlnaHQsIG1pblNpemUuaGVpZ2h0ICsgbGFiZWxIZWlnaHQgKyB0aWNrUGFkZGluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbGFiZWxXaWR0aCA9IHRpY2tPcHRzLm1pcnJvciA/IDAgOiBjb3MgKiB3aWRlc3Qud2lkdGggKyBzaW4gKiBoaWdoZXN0LmhlaWdodDtcbiAgICAgICAgICBtaW5TaXplLndpZHRoID0gTWF0aC5taW4odGhpcy5tYXhXaWR0aCwgbWluU2l6ZS53aWR0aCArIGxhYmVsV2lkdGggKyB0aWNrUGFkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlUGFkZGluZyhmaXJzdCwgbGFzdCwgc2luLCBjb3MpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9oYW5kbGVNYXJnaW5zKCk7XG4gICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuX2xlbmd0aCA9IGNoYXJ0LndpZHRoIC0gdGhpcy5fbWFyZ2lucy5sZWZ0IC0gdGhpcy5fbWFyZ2lucy5yaWdodDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gbWluU2l6ZS5oZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2lkdGggPSBtaW5TaXplLndpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLl9sZW5ndGggPSBjaGFydC5oZWlnaHQgLSB0aGlzLl9tYXJnaW5zLnRvcCAtIHRoaXMuX21hcmdpbnMuYm90dG9tO1xuICAgIH1cbiAgfVxuICBfY2FsY3VsYXRlUGFkZGluZyhmaXJzdCwgbGFzdCwgc2luLCBjb3MpIHtcbiAgICBjb25zdCB7dGlja3M6IHthbGlnbiwgcGFkZGluZ30sIHBvc2l0aW9ufSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBpc1JvdGF0ZWQgPSB0aGlzLmxhYmVsUm90YXRpb24gIT09IDA7XG4gICAgY29uc3QgbGFiZWxzQmVsb3dUaWNrcyA9IHBvc2l0aW9uICE9PSAndG9wJyAmJiB0aGlzLmF4aXMgPT09ICd4JztcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgY29uc3Qgb2Zmc2V0TGVmdCA9IHRoaXMuZ2V0UGl4ZWxGb3JUaWNrKDApIC0gdGhpcy5sZWZ0O1xuICAgICAgY29uc3Qgb2Zmc2V0UmlnaHQgPSB0aGlzLnJpZ2h0IC0gdGhpcy5nZXRQaXhlbEZvclRpY2sodGhpcy50aWNrcy5sZW5ndGggLSAxKTtcbiAgICAgIGxldCBwYWRkaW5nTGVmdCA9IDA7XG4gICAgICBsZXQgcGFkZGluZ1JpZ2h0ID0gMDtcbiAgICAgIGlmIChpc1JvdGF0ZWQpIHtcbiAgICAgICAgaWYgKGxhYmVsc0JlbG93VGlja3MpIHtcbiAgICAgICAgICBwYWRkaW5nTGVmdCA9IGNvcyAqIGZpcnN0LndpZHRoO1xuICAgICAgICAgIHBhZGRpbmdSaWdodCA9IHNpbiAqIGxhc3QuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhZGRpbmdMZWZ0ID0gc2luICogZmlyc3QuaGVpZ2h0O1xuICAgICAgICAgIHBhZGRpbmdSaWdodCA9IGNvcyAqIGxhc3Qud2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0ID0gbGFzdC53aWR0aDtcbiAgICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdlbmQnKSB7XG4gICAgICAgIHBhZGRpbmdMZWZ0ID0gZmlyc3Qud2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKGFsaWduICE9PSAnaW5uZXInKSB7XG4gICAgICAgIHBhZGRpbmdMZWZ0ID0gZmlyc3Qud2lkdGggLyAyO1xuICAgICAgICBwYWRkaW5nUmlnaHQgPSBsYXN0LndpZHRoIC8gMjtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFkZGluZ0xlZnQgPSBNYXRoLm1heCgocGFkZGluZ0xlZnQgLSBvZmZzZXRMZWZ0ICsgcGFkZGluZykgKiB0aGlzLndpZHRoIC8gKHRoaXMud2lkdGggLSBvZmZzZXRMZWZ0KSwgMCk7XG4gICAgICB0aGlzLnBhZGRpbmdSaWdodCA9IE1hdGgubWF4KChwYWRkaW5nUmlnaHQgLSBvZmZzZXRSaWdodCArIHBhZGRpbmcpICogdGhpcy53aWR0aCAvICh0aGlzLndpZHRoIC0gb2Zmc2V0UmlnaHQpLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBhZGRpbmdUb3AgPSBsYXN0LmhlaWdodCAvIDI7XG4gICAgICBsZXQgcGFkZGluZ0JvdHRvbSA9IGZpcnN0LmhlaWdodCAvIDI7XG4gICAgICBpZiAoYWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgcGFkZGluZ1RvcCA9IDA7XG4gICAgICAgIHBhZGRpbmdCb3R0b20gPSBmaXJzdC5oZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICBwYWRkaW5nVG9wID0gbGFzdC5oZWlnaHQ7XG4gICAgICAgIHBhZGRpbmdCb3R0b20gPSAwO1xuICAgICAgfVxuICAgICAgdGhpcy5wYWRkaW5nVG9wID0gcGFkZGluZ1RvcCArIHBhZGRpbmc7XG4gICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tICsgcGFkZGluZztcbiAgICB9XG4gIH1cbiAgX2hhbmRsZU1hcmdpbnMoKSB7XG4gICAgaWYgKHRoaXMuX21hcmdpbnMpIHtcbiAgICAgIHRoaXMuX21hcmdpbnMubGVmdCA9IE1hdGgubWF4KHRoaXMucGFkZGluZ0xlZnQsIHRoaXMuX21hcmdpbnMubGVmdCk7XG4gICAgICB0aGlzLl9tYXJnaW5zLnRvcCA9IE1hdGgubWF4KHRoaXMucGFkZGluZ1RvcCwgdGhpcy5fbWFyZ2lucy50b3ApO1xuICAgICAgdGhpcy5fbWFyZ2lucy5yaWdodCA9IE1hdGgubWF4KHRoaXMucGFkZGluZ1JpZ2h0LCB0aGlzLl9tYXJnaW5zLnJpZ2h0KTtcbiAgICAgIHRoaXMuX21hcmdpbnMuYm90dG9tID0gTWF0aC5tYXgodGhpcy5wYWRkaW5nQm90dG9tLCB0aGlzLl9tYXJnaW5zLmJvdHRvbSk7XG4gICAgfVxuICB9XG4gIGFmdGVyRml0KCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckZpdCwgW3RoaXNdKTtcbiAgfVxuICBpc0hvcml6b250YWwoKSB7XG4gICAgY29uc3Qge2F4aXMsIHBvc2l0aW9ufSA9IHRoaXMub3B0aW9ucztcbiAgICByZXR1cm4gcG9zaXRpb24gPT09ICd0b3AnIHx8IHBvc2l0aW9uID09PSAnYm90dG9tJyB8fCBheGlzID09PSAneCc7XG4gIH1cbiAgaXNGdWxsU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZ1bGxTaXplO1xuICB9XG4gIF9jb252ZXJ0VGlja3NUb0xhYmVscyh0aWNrcykge1xuICAgIHRoaXMuYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uKCk7XG4gICAgdGhpcy5nZW5lcmF0ZVRpY2tMYWJlbHModGlja3MpO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSB0aWNrcy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIGlmIChpc051bGxPclVuZGVmKHRpY2tzW2ldLmxhYmVsKSkge1xuICAgICAgICB0aWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlsZW4tLTtcbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCk7XG4gIH1cbiAgX2dldExhYmVsU2l6ZXMoKSB7XG4gICAgbGV0IGxhYmVsU2l6ZXMgPSB0aGlzLl9sYWJlbFNpemVzO1xuICAgIGlmICghbGFiZWxTaXplcykge1xuICAgICAgY29uc3Qgc2FtcGxlU2l6ZSA9IHRoaXMub3B0aW9ucy50aWNrcy5zYW1wbGVTaXplO1xuICAgICAgbGV0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICAgIGlmIChzYW1wbGVTaXplIDwgdGlja3MubGVuZ3RoKSB7XG4gICAgICAgIHRpY2tzID0gc2FtcGxlKHRpY2tzLCBzYW1wbGVTaXplKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xhYmVsU2l6ZXMgPSBsYWJlbFNpemVzID0gdGhpcy5fY29tcHV0ZUxhYmVsU2l6ZXModGlja3MsIHRpY2tzLmxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBsYWJlbFNpemVzO1xuICB9XG4gIF9jb21wdXRlTGFiZWxTaXplcyh0aWNrcywgbGVuZ3RoKSB7XG4gICAgY29uc3Qge2N0eCwgX2xvbmdlc3RUZXh0Q2FjaGU6IGNhY2hlc30gPSB0aGlzO1xuICAgIGNvbnN0IHdpZHRocyA9IFtdO1xuICAgIGNvbnN0IGhlaWdodHMgPSBbXTtcbiAgICBsZXQgd2lkZXN0TGFiZWxTaXplID0gMDtcbiAgICBsZXQgaGlnaGVzdExhYmVsU2l6ZSA9IDA7XG4gICAgbGV0IGksIGosIGpsZW4sIGxhYmVsLCB0aWNrRm9udCwgZm9udFN0cmluZywgY2FjaGUsIGxpbmVIZWlnaHQsIHdpZHRoLCBoZWlnaHQsIG5lc3RlZExhYmVsO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgbGFiZWwgPSB0aWNrc1tpXS5sYWJlbDtcbiAgICAgIHRpY2tGb250ID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyhpKTtcbiAgICAgIGN0eC5mb250ID0gZm9udFN0cmluZyA9IHRpY2tGb250LnN0cmluZztcbiAgICAgIGNhY2hlID0gY2FjaGVzW2ZvbnRTdHJpbmddID0gY2FjaGVzW2ZvbnRTdHJpbmddIHx8IHtkYXRhOiB7fSwgZ2M6IFtdfTtcbiAgICAgIGxpbmVIZWlnaHQgPSB0aWNrRm9udC5saW5lSGVpZ2h0O1xuICAgICAgd2lkdGggPSBoZWlnaHQgPSAwO1xuICAgICAgaWYgKCFpc051bGxPclVuZGVmKGxhYmVsKSAmJiAhaXNBcnJheShsYWJlbCkpIHtcbiAgICAgICAgd2lkdGggPSBfbWVhc3VyZVRleHQoY3R4LCBjYWNoZS5kYXRhLCBjYWNoZS5nYywgd2lkdGgsIGxhYmVsKTtcbiAgICAgICAgaGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShsYWJlbCkpIHtcbiAgICAgICAgZm9yIChqID0gMCwgamxlbiA9IGxhYmVsLmxlbmd0aDsgaiA8IGpsZW47ICsraikge1xuICAgICAgICAgIG5lc3RlZExhYmVsID0gbGFiZWxbal07XG4gICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKG5lc3RlZExhYmVsKSAmJiAhaXNBcnJheShuZXN0ZWRMYWJlbCkpIHtcbiAgICAgICAgICAgIHdpZHRoID0gX21lYXN1cmVUZXh0KGN0eCwgY2FjaGUuZGF0YSwgY2FjaGUuZ2MsIHdpZHRoLCBuZXN0ZWRMYWJlbCk7XG4gICAgICAgICAgICBoZWlnaHQgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdpZHRocy5wdXNoKHdpZHRoKTtcbiAgICAgIGhlaWdodHMucHVzaChoZWlnaHQpO1xuICAgICAgd2lkZXN0TGFiZWxTaXplID0gTWF0aC5tYXgod2lkdGgsIHdpZGVzdExhYmVsU2l6ZSk7XG4gICAgICBoaWdoZXN0TGFiZWxTaXplID0gTWF0aC5tYXgoaGVpZ2h0LCBoaWdoZXN0TGFiZWxTaXplKTtcbiAgICB9XG4gICAgZ2FyYmFnZUNvbGxlY3QoY2FjaGVzLCBsZW5ndGgpO1xuICAgIGNvbnN0IHdpZGVzdCA9IHdpZHRocy5pbmRleE9mKHdpZGVzdExhYmVsU2l6ZSk7XG4gICAgY29uc3QgaGlnaGVzdCA9IGhlaWdodHMuaW5kZXhPZihoaWdoZXN0TGFiZWxTaXplKTtcbiAgICBjb25zdCB2YWx1ZUF0ID0gKGlkeCkgPT4gKHt3aWR0aDogd2lkdGhzW2lkeF0gfHwgMCwgaGVpZ2h0OiBoZWlnaHRzW2lkeF0gfHwgMH0pO1xuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogdmFsdWVBdCgwKSxcbiAgICAgIGxhc3Q6IHZhbHVlQXQobGVuZ3RoIC0gMSksXG4gICAgICB3aWRlc3Q6IHZhbHVlQXQod2lkZXN0KSxcbiAgICAgIGhpZ2hlc3Q6IHZhbHVlQXQoaGlnaGVzdCksXG4gICAgICB3aWR0aHMsXG4gICAgICBoZWlnaHRzLFxuICAgIH07XG4gIH1cbiAgZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBnZXRQaXhlbEZvclZhbHVlKHZhbHVlLCBpbmRleCkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge31cbiAgZ2V0UGl4ZWxGb3JUaWNrKGluZGV4KSB7XG4gICAgY29uc3QgdGlja3MgPSB0aGlzLnRpY2tzO1xuICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aWNrcy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aWNrc1tpbmRleF0udmFsdWUpO1xuICB9XG4gIGdldFBpeGVsRm9yRGVjaW1hbChkZWNpbWFsKSB7XG4gICAgaWYgKHRoaXMuX3JldmVyc2VQaXhlbHMpIHtcbiAgICAgIGRlY2ltYWwgPSAxIC0gZGVjaW1hbDtcbiAgICB9XG4gICAgY29uc3QgcGl4ZWwgPSB0aGlzLl9zdGFydFBpeGVsICsgZGVjaW1hbCAqIHRoaXMuX2xlbmd0aDtcbiAgICByZXR1cm4gX2ludDE2UmFuZ2UodGhpcy5fYWxpZ25Ub1BpeGVscyA/IF9hbGlnblBpeGVsKHRoaXMuY2hhcnQsIHBpeGVsLCAwKSA6IHBpeGVsKTtcbiAgfVxuICBnZXREZWNpbWFsRm9yUGl4ZWwocGl4ZWwpIHtcbiAgICBjb25zdCBkZWNpbWFsID0gKHBpeGVsIC0gdGhpcy5fc3RhcnRQaXhlbCkgLyB0aGlzLl9sZW5ndGg7XG4gICAgcmV0dXJuIHRoaXMuX3JldmVyc2VQaXhlbHMgPyAxIC0gZGVjaW1hbCA6IGRlY2ltYWw7XG4gIH1cbiAgZ2V0QmFzZVBpeGVsKCkge1xuICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRCYXNlVmFsdWUoKSk7XG4gIH1cbiAgZ2V0QmFzZVZhbHVlKCkge1xuICAgIGNvbnN0IHttaW4sIG1heH0gPSB0aGlzO1xuICAgIHJldHVybiBtaW4gPCAwICYmIG1heCA8IDAgPyBtYXggOlxuICAgICAgbWluID4gMCAmJiBtYXggPiAwID8gbWluIDpcbiAgICAgIDA7XG4gIH1cbiAgZ2V0Q29udGV4dChpbmRleCkge1xuICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcyB8fCBbXTtcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRpY2tzLmxlbmd0aCkge1xuICAgICAgY29uc3QgdGljayA9IHRpY2tzW2luZGV4XTtcbiAgICAgIHJldHVybiB0aWNrLiRjb250ZXh0IHx8XG5cdFx0XHRcdCh0aWNrLiRjb250ZXh0ID0gY3JlYXRlVGlja0NvbnRleHQodGhpcy5nZXRDb250ZXh0KCksIGluZGV4LCB0aWNrKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiRjb250ZXh0IHx8XG5cdFx0XHQodGhpcy4kY29udGV4dCA9IGNyZWF0ZVNjYWxlQ29udGV4dCh0aGlzLmNoYXJ0LmdldENvbnRleHQoKSwgdGhpcykpO1xuICB9XG4gIF90aWNrU2l6ZSgpIHtcbiAgICBjb25zdCBvcHRpb25UaWNrcyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICBjb25zdCByb3QgPSB0b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICBjb25zdCBjb3MgPSBNYXRoLmFicyhNYXRoLmNvcyhyb3QpKTtcbiAgICBjb25zdCBzaW4gPSBNYXRoLmFicyhNYXRoLnNpbihyb3QpKTtcbiAgICBjb25zdCBsYWJlbFNpemVzID0gdGhpcy5fZ2V0TGFiZWxTaXplcygpO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBvcHRpb25UaWNrcy5hdXRvU2tpcFBhZGRpbmcgfHwgMDtcbiAgICBjb25zdCB3ID0gbGFiZWxTaXplcyA/IGxhYmVsU2l6ZXMud2lkZXN0LndpZHRoICsgcGFkZGluZyA6IDA7XG4gICAgY29uc3QgaCA9IGxhYmVsU2l6ZXMgPyBsYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0ICsgcGFkZGluZyA6IDA7XG4gICAgcmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsKClcbiAgICAgID8gaCAqIGNvcyA+IHcgKiBzaW4gPyB3IC8gY29zIDogaCAvIHNpblxuICAgICAgOiBoICogc2luIDwgdyAqIGNvcyA/IGggLyBjb3MgOiB3IC8gc2luO1xuICB9XG4gIF9pc1Zpc2libGUoKSB7XG4gICAgY29uc3QgZGlzcGxheSA9IHRoaXMub3B0aW9ucy5kaXNwbGF5O1xuICAgIGlmIChkaXNwbGF5ICE9PSAnYXV0bycpIHtcbiAgICAgIHJldHVybiAhIWRpc3BsYXk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCkubGVuZ3RoID4gMDtcbiAgfVxuICBfY29tcHV0ZUdyaWRMaW5lSXRlbXMoY2hhcnRBcmVhKSB7XG4gICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB7Z3JpZCwgcG9zaXRpb259ID0gb3B0aW9ucztcbiAgICBjb25zdCBvZmZzZXQgPSBncmlkLm9mZnNldDtcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICBjb25zdCB0aWNrc0xlbmd0aCA9IHRpY2tzLmxlbmd0aCArIChvZmZzZXQgPyAxIDogMCk7XG4gICAgY29uc3QgdGwgPSBnZXRUaWNrTWFya0xlbmd0aChncmlkKTtcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGNvbnN0IGJvcmRlck9wdHMgPSBncmlkLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNvbnN0IGF4aXNXaWR0aCA9IGJvcmRlck9wdHMuZHJhd0JvcmRlciA/IGJvcmRlck9wdHMuYm9yZGVyV2lkdGggOiAwO1xuICAgIGNvbnN0IGF4aXNIYWxmV2lkdGggPSBheGlzV2lkdGggLyAyO1xuICAgIGNvbnN0IGFsaWduQm9yZGVyVmFsdWUgPSBmdW5jdGlvbihwaXhlbCkge1xuICAgICAgcmV0dXJuIF9hbGlnblBpeGVsKGNoYXJ0LCBwaXhlbCwgYXhpc1dpZHRoKTtcbiAgICB9O1xuICAgIGxldCBib3JkZXJWYWx1ZSwgaSwgbGluZVZhbHVlLCBhbGlnbmVkTGluZVZhbHVlO1xuICAgIGxldCB0eDEsIHR5MSwgdHgyLCB0eTIsIHgxLCB5MSwgeDIsIHkyO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgIGJvcmRlclZhbHVlID0gYWxpZ25Cb3JkZXJWYWx1ZSh0aGlzLmJvdHRvbSk7XG4gICAgICB0eTEgPSB0aGlzLmJvdHRvbSAtIHRsO1xuICAgICAgdHkyID0gYm9yZGVyVmFsdWUgLSBheGlzSGFsZldpZHRoO1xuICAgICAgeTEgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS50b3ApICsgYXhpc0hhbGZXaWR0aDtcbiAgICAgIHkyID0gY2hhcnRBcmVhLmJvdHRvbTtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMudG9wKTtcbiAgICAgIHkxID0gY2hhcnRBcmVhLnRvcDtcbiAgICAgIHkyID0gYWxpZ25Cb3JkZXJWYWx1ZShjaGFydEFyZWEuYm90dG9tKSAtIGF4aXNIYWxmV2lkdGg7XG4gICAgICB0eTEgPSBib3JkZXJWYWx1ZSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICB0eTIgPSB0aGlzLnRvcCArIHRsO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMucmlnaHQpO1xuICAgICAgdHgxID0gdGhpcy5yaWdodCAtIHRsO1xuICAgICAgdHgyID0gYm9yZGVyVmFsdWUgLSBheGlzSGFsZldpZHRoO1xuICAgICAgeDEgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS5sZWZ0KSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICB4MiA9IGNoYXJ0QXJlYS5yaWdodDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5sZWZ0KTtcbiAgICAgIHgxID0gY2hhcnRBcmVhLmxlZnQ7XG4gICAgICB4MiA9IGFsaWduQm9yZGVyVmFsdWUoY2hhcnRBcmVhLnJpZ2h0KSAtIGF4aXNIYWxmV2lkdGg7XG4gICAgICB0eDEgPSBib3JkZXJWYWx1ZSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICB0eDIgPSB0aGlzLmxlZnQgKyB0bDtcbiAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUoKGNoYXJ0QXJlYS50b3AgKyBjaGFydEFyZWEuYm90dG9tKSAvIDIgKyAwLjUpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIHkxID0gY2hhcnRBcmVhLnRvcDtcbiAgICAgIHkyID0gY2hhcnRBcmVhLmJvdHRvbTtcbiAgICAgIHR5MSA9IGJvcmRlclZhbHVlICsgYXhpc0hhbGZXaWR0aDtcbiAgICAgIHR5MiA9IHR5MSArIHRsO1xuICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgICBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIGJvcmRlclZhbHVlID0gYWxpZ25Cb3JkZXJWYWx1ZSgoY2hhcnRBcmVhLmxlZnQgKyBjaGFydEFyZWEucmlnaHQpIC8gMik7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHBvc2l0aW9uKSkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb3NpdGlvbltwb3NpdGlvbkF4aXNJRF07XG4gICAgICAgIGJvcmRlclZhbHVlID0gYWxpZ25Cb3JkZXJWYWx1ZSh0aGlzLmNoYXJ0LnNjYWxlc1twb3NpdGlvbkF4aXNJRF0uZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgdHgxID0gYm9yZGVyVmFsdWUgLSBheGlzSGFsZldpZHRoO1xuICAgICAgdHgyID0gdHgxIC0gdGw7XG4gICAgICB4MSA9IGNoYXJ0QXJlYS5sZWZ0O1xuICAgICAgeDIgPSBjaGFydEFyZWEucmlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IGxpbWl0ID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy50aWNrcy5tYXhUaWNrc0xpbWl0LCB0aWNrc0xlbmd0aCk7XG4gICAgY29uc3Qgc3RlcCA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCh0aWNrc0xlbmd0aCAvIGxpbWl0KSk7XG4gICAgZm9yIChpID0gMDsgaSA8IHRpY2tzTGVuZ3RoOyBpICs9IHN0ZXApIHtcbiAgICAgIGNvbnN0IG9wdHNBdEluZGV4ID0gZ3JpZC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpKSk7XG4gICAgICBjb25zdCBsaW5lV2lkdGggPSBvcHRzQXRJbmRleC5saW5lV2lkdGg7XG4gICAgICBjb25zdCBsaW5lQ29sb3IgPSBvcHRzQXRJbmRleC5jb2xvcjtcbiAgICAgIGNvbnN0IGJvcmRlckRhc2ggPSBvcHRzQXRJbmRleC5ib3JkZXJEYXNoIHx8IFtdO1xuICAgICAgY29uc3QgYm9yZGVyRGFzaE9mZnNldCA9IG9wdHNBdEluZGV4LmJvcmRlckRhc2hPZmZzZXQ7XG4gICAgICBjb25zdCB0aWNrV2lkdGggPSBvcHRzQXRJbmRleC50aWNrV2lkdGg7XG4gICAgICBjb25zdCB0aWNrQ29sb3IgPSBvcHRzQXRJbmRleC50aWNrQ29sb3I7XG4gICAgICBjb25zdCB0aWNrQm9yZGVyRGFzaCA9IG9wdHNBdEluZGV4LnRpY2tCb3JkZXJEYXNoIHx8IFtdO1xuICAgICAgY29uc3QgdGlja0JvcmRlckRhc2hPZmZzZXQgPSBvcHRzQXRJbmRleC50aWNrQm9yZGVyRGFzaE9mZnNldDtcbiAgICAgIGxpbmVWYWx1ZSA9IGdldFBpeGVsRm9yR3JpZExpbmUodGhpcywgaSwgb2Zmc2V0KTtcbiAgICAgIGlmIChsaW5lVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGFsaWduZWRMaW5lVmFsdWUgPSBfYWxpZ25QaXhlbChjaGFydCwgbGluZVZhbHVlLCBsaW5lV2lkdGgpO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICB0eDEgPSB0eDIgPSB4MSA9IHgyID0gYWxpZ25lZExpbmVWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5MSA9IHR5MiA9IHkxID0geTIgPSBhbGlnbmVkTGluZVZhbHVlO1xuICAgICAgfVxuICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgIHR4MSxcbiAgICAgICAgdHkxLFxuICAgICAgICB0eDIsXG4gICAgICAgIHR5MixcbiAgICAgICAgeDEsXG4gICAgICAgIHkxLFxuICAgICAgICB4MixcbiAgICAgICAgeTIsXG4gICAgICAgIHdpZHRoOiBsaW5lV2lkdGgsXG4gICAgICAgIGNvbG9yOiBsaW5lQ29sb3IsXG4gICAgICAgIGJvcmRlckRhc2gsXG4gICAgICAgIGJvcmRlckRhc2hPZmZzZXQsXG4gICAgICAgIHRpY2tXaWR0aCxcbiAgICAgICAgdGlja0NvbG9yLFxuICAgICAgICB0aWNrQm9yZGVyRGFzaCxcbiAgICAgICAgdGlja0JvcmRlckRhc2hPZmZzZXQsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdGlja3NMZW5ndGggPSB0aWNrc0xlbmd0aDtcbiAgICB0aGlzLl9ib3JkZXJWYWx1ZSA9IGJvcmRlclZhbHVlO1xuICAgIHJldHVybiBpdGVtcztcbiAgfVxuICBfY29tcHV0ZUxhYmVsSXRlbXMoY2hhcnRBcmVhKSB7XG4gICAgY29uc3QgYXhpcyA9IHRoaXMuYXhpcztcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHtwb3NpdGlvbiwgdGlja3M6IG9wdGlvblRpY2tzfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgY29uc3Qge2FsaWduLCBjcm9zc0FsaWduLCBwYWRkaW5nLCBtaXJyb3J9ID0gb3B0aW9uVGlja3M7XG4gICAgY29uc3QgdGwgPSBnZXRUaWNrTWFya0xlbmd0aChvcHRpb25zLmdyaWQpO1xuICAgIGNvbnN0IHRpY2tBbmRQYWRkaW5nID0gdGwgKyBwYWRkaW5nO1xuICAgIGNvbnN0IGhUaWNrQW5kUGFkZGluZyA9IG1pcnJvciA/IC1wYWRkaW5nIDogdGlja0FuZFBhZGRpbmc7XG4gICAgY29uc3Qgcm90YXRpb24gPSAtdG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbik7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBsZXQgaSwgaWxlbiwgdGljaywgbGFiZWwsIHgsIHksIHRleHRBbGlnbiwgcGl4ZWwsIGZvbnQsIGxpbmVIZWlnaHQsIGxpbmVDb3VudCwgdGV4dE9mZnNldDtcbiAgICBsZXQgdGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgeSA9IHRoaXMuYm90dG9tIC0gaFRpY2tBbmRQYWRkaW5nO1xuICAgICAgdGV4dEFsaWduID0gdGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICB5ID0gdGhpcy50b3AgKyBoVGlja0FuZFBhZGRpbmc7XG4gICAgICB0ZXh0QWxpZ24gPSB0aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCk7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICBjb25zdCByZXQgPSB0aGlzLl9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHRsKTtcbiAgICAgIHRleHRBbGlnbiA9IHJldC50ZXh0QWxpZ247XG4gICAgICB4ID0gcmV0Lng7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgY29uc3QgcmV0ID0gdGhpcy5fZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0bCk7XG4gICAgICB0ZXh0QWxpZ24gPSByZXQudGV4dEFsaWduO1xuICAgICAgeCA9IHJldC54O1xuICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgICBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHkgPSAoKGNoYXJ0QXJlYS50b3AgKyBjaGFydEFyZWEuYm90dG9tKSAvIDIpICsgdGlja0FuZFBhZGRpbmc7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHBvc2l0aW9uKSkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwb3NpdGlvbltwb3NpdGlvbkF4aXNJRF07XG4gICAgICAgIHkgPSB0aGlzLmNoYXJ0LnNjYWxlc1twb3NpdGlvbkF4aXNJRF0uZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkgKyB0aWNrQW5kUGFkZGluZztcbiAgICAgIH1cbiAgICAgIHRleHRBbGlnbiA9IHRoaXMuX2dldFhBeGlzTGFiZWxBbGlnbm1lbnQoKTtcbiAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICB4ID0gKChjaGFydEFyZWEubGVmdCArIGNoYXJ0QXJlYS5yaWdodCkgLyAyKSAtIHRpY2tBbmRQYWRkaW5nO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICB4ID0gdGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdGV4dEFsaWduID0gdGhpcy5fZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0bCkudGV4dEFsaWduO1xuICAgIH1cbiAgICBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgICBpZiAoYWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgdGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICB0ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbGFiZWxTaXplcyA9IHRoaXMuX2dldExhYmVsU2l6ZXMoKTtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gdGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aWNrID0gdGlja3NbaV07XG4gICAgICBsYWJlbCA9IHRpY2subGFiZWw7XG4gICAgICBjb25zdCBvcHRzQXRJbmRleCA9IG9wdGlvblRpY2tzLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGkpKTtcbiAgICAgIHBpeGVsID0gdGhpcy5nZXRQaXhlbEZvclRpY2soaSkgKyBvcHRpb25UaWNrcy5sYWJlbE9mZnNldDtcbiAgICAgIGZvbnQgPSB0aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKGkpO1xuICAgICAgbGluZUhlaWdodCA9IGZvbnQubGluZUhlaWdodDtcbiAgICAgIGxpbmVDb3VudCA9IGlzQXJyYXkobGFiZWwpID8gbGFiZWwubGVuZ3RoIDogMTtcbiAgICAgIGNvbnN0IGhhbGZDb3VudCA9IGxpbmVDb3VudCAvIDI7XG4gICAgICBjb25zdCBjb2xvciA9IG9wdHNBdEluZGV4LmNvbG9yO1xuICAgICAgY29uc3Qgc3Ryb2tlQ29sb3IgPSBvcHRzQXRJbmRleC50ZXh0U3Ryb2tlQ29sb3I7XG4gICAgICBjb25zdCBzdHJva2VXaWR0aCA9IG9wdHNBdEluZGV4LnRleHRTdHJva2VXaWR0aDtcbiAgICAgIGxldCB0aWNrVGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICB4ID0gcGl4ZWw7XG4gICAgICAgIGlmICh0ZXh0QWxpZ24gPT09ICdpbm5lcicpIHtcbiAgICAgICAgICBpZiAoaSA9PT0gaWxlbiAtIDEpIHtcbiAgICAgICAgICAgIHRpY2tUZXh0QWxpZ24gPSAhdGhpcy5vcHRpb25zLnJldmVyc2UgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgdGlja1RleHRBbGlnbiA9ICF0aGlzLm9wdGlvbnMucmV2ZXJzZSA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpY2tUZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHRleHRPZmZzZXQgPSAtbGluZUNvdW50ICogbGluZUhlaWdodCArIGxpbmVIZWlnaHQgLyAyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIHRleHRPZmZzZXQgPSAtbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCAvIDIgLSBoYWxmQ291bnQgKiBsaW5lSGVpZ2h0ICsgbGluZUhlaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dE9mZnNldCA9IC1sYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0ICsgbGluZUhlaWdodCAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicgfHwgcm90YXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHRleHRPZmZzZXQgPSBsaW5lSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCAvIDIgLSBoYWxmQ291bnQgKiBsaW5lSGVpZ2h0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCAtIGxpbmVDb3VudCAqIGxpbmVIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgICB0ZXh0T2Zmc2V0ICo9IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5ID0gcGl4ZWw7XG4gICAgICAgIHRleHRPZmZzZXQgPSAoMSAtIGxpbmVDb3VudCkgKiBsaW5lSGVpZ2h0IC8gMjtcbiAgICAgIH1cbiAgICAgIGxldCBiYWNrZHJvcDtcbiAgICAgIGlmIChvcHRzQXRJbmRleC5zaG93TGFiZWxCYWNrZHJvcCkge1xuICAgICAgICBjb25zdCBsYWJlbFBhZGRpbmcgPSB0b1BhZGRpbmcob3B0c0F0SW5kZXguYmFja2Ryb3BQYWRkaW5nKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbGFiZWxTaXplcy5oZWlnaHRzW2ldO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGxhYmVsU2l6ZXMud2lkdGhzW2ldO1xuICAgICAgICBsZXQgdG9wID0geSArIHRleHRPZmZzZXQgLSBsYWJlbFBhZGRpbmcudG9wO1xuICAgICAgICBsZXQgbGVmdCA9IHggLSBsYWJlbFBhZGRpbmcubGVmdDtcbiAgICAgICAgc3dpdGNoICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICB0b3AgLT0gaGVpZ2h0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodGV4dEFsaWduKSB7XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJhY2tkcm9wID0ge1xuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgdG9wLFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCArIGxhYmVsUGFkZGluZy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCArIGxhYmVsUGFkZGluZy5oZWlnaHQsXG4gICAgICAgICAgY29sb3I6IG9wdHNBdEluZGV4LmJhY2tkcm9wQ29sb3IsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgcm90YXRpb24sXG4gICAgICAgIGxhYmVsLFxuICAgICAgICBmb250LFxuICAgICAgICBjb2xvcixcbiAgICAgICAgc3Ryb2tlQ29sb3IsXG4gICAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgICB0ZXh0T2Zmc2V0LFxuICAgICAgICB0ZXh0QWxpZ246IHRpY2tUZXh0QWxpZ24sXG4gICAgICAgIHRleHRCYXNlbGluZSxcbiAgICAgICAgdHJhbnNsYXRpb246IFt4LCB5XSxcbiAgICAgICAgYmFja2Ryb3AsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG4gIF9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCkge1xuICAgIGNvbnN0IHtwb3NpdGlvbiwgdGlja3N9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gLXRvUmFkaWFucyh0aGlzLmxhYmVsUm90YXRpb24pO1xuICAgIGlmIChyb3RhdGlvbikge1xuICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAndG9wJyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgfVxuICAgIGxldCBhbGlnbiA9ICdjZW50ZXInO1xuICAgIGlmICh0aWNrcy5hbGlnbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgYWxpZ24gPSAnbGVmdCc7XG4gICAgfSBlbHNlIGlmICh0aWNrcy5hbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgIGFsaWduID0gJ3JpZ2h0JztcbiAgICB9IGVsc2UgaWYgKHRpY2tzLmFsaWduID09PSAnaW5uZXInKSB7XG4gICAgICBhbGlnbiA9ICdpbm5lcic7XG4gICAgfVxuICAgIHJldHVybiBhbGlnbjtcbiAgfVxuICBfZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0bCkge1xuICAgIGNvbnN0IHtwb3NpdGlvbiwgdGlja3M6IHtjcm9zc0FsaWduLCBtaXJyb3IsIHBhZGRpbmd9fSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBsYWJlbFNpemVzID0gdGhpcy5fZ2V0TGFiZWxTaXplcygpO1xuICAgIGNvbnN0IHRpY2tBbmRQYWRkaW5nID0gdGwgKyBwYWRkaW5nO1xuICAgIGNvbnN0IHdpZGVzdCA9IGxhYmVsU2l6ZXMud2lkZXN0LndpZHRoO1xuICAgIGxldCB0ZXh0QWxpZ247XG4gICAgbGV0IHg7XG4gICAgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgeCA9IHRoaXMucmlnaHQgKyBwYWRkaW5nO1xuICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgeCArPSAod2lkZXN0IC8gMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICB4ICs9IHdpZGVzdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHRoaXMucmlnaHQgLSB0aWNrQW5kUGFkZGluZztcbiAgICAgICAgaWYgKGNyb3NzQWxpZ24gPT09ICduZWFyJykge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICB4IC09ICh3aWRlc3QgLyAyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgeCA9IHRoaXMubGVmdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgIGlmIChtaXJyb3IpIHtcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHBhZGRpbmc7XG4gICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgeCAtPSAod2lkZXN0IC8gMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgIHggLT0gd2lkZXN0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4ID0gdGhpcy5sZWZ0ICsgdGlja0FuZFBhZGRpbmc7XG4gICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAnbGVmdCc7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgICB4ICs9IHdpZGVzdCAvIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICB4ID0gdGhpcy5yaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4ge3RleHRBbGlnbiwgeH07XG4gIH1cbiAgX2NvbXB1dGVMYWJlbEFyZWEoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50aWNrcy5taXJyb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICByZXR1cm4ge3RvcDogMCwgbGVmdDogdGhpcy5sZWZ0LCBib3R0b206IGNoYXJ0LmhlaWdodCwgcmlnaHQ6IHRoaXMucmlnaHR9O1xuICAgIH0gaWYgKHBvc2l0aW9uID09PSAndG9wJyB8fCBwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHJldHVybiB7dG9wOiB0aGlzLnRvcCwgbGVmdDogMCwgYm90dG9tOiB0aGlzLmJvdHRvbSwgcmlnaHQ6IGNoYXJ0LndpZHRofTtcbiAgICB9XG4gIH1cbiAgZHJhd0JhY2tncm91bmQoKSB7XG4gICAgY29uc3Qge2N0eCwgb3B0aW9uczoge2JhY2tncm91bmRDb2xvcn0sIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodH0gPSB0aGlzO1xuICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgY3R4LmZpbGxSZWN0KGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuICBnZXRMaW5lV2lkdGhGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGdyaWQgPSB0aGlzLm9wdGlvbnMuZ3JpZDtcbiAgICBpZiAoIXRoaXMuX2lzVmlzaWJsZSgpIHx8ICFncmlkLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgY29uc3QgaW5kZXggPSB0aWNrcy5maW5kSW5kZXgodCA9PiB0LnZhbHVlID09PSB2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIGNvbnN0IG9wdHMgPSBncmlkLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGluZGV4KSk7XG4gICAgICByZXR1cm4gb3B0cy5saW5lV2lkdGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGRyYXdHcmlkKGNoYXJ0QXJlYSkge1xuICAgIGNvbnN0IGdyaWQgPSB0aGlzLm9wdGlvbnMuZ3JpZDtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuX2dyaWRMaW5lSXRlbXMgfHwgKHRoaXMuX2dyaWRMaW5lSXRlbXMgPSB0aGlzLl9jb21wdXRlR3JpZExpbmVJdGVtcyhjaGFydEFyZWEpKTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBjb25zdCBkcmF3TGluZSA9IChwMSwgcDIsIHN0eWxlKSA9PiB7XG4gICAgICBpZiAoIXN0eWxlLndpZHRoIHx8ICFzdHlsZS5jb2xvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IHN0eWxlLndpZHRoO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGUuY29sb3I7XG4gICAgICBjdHguc2V0TGluZURhc2goc3R5bGUuYm9yZGVyRGFzaCB8fCBbXSk7XG4gICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBzdHlsZS5ib3JkZXJEYXNoT2Zmc2V0O1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbyhwMS54LCBwMS55KTtcbiAgICAgIGN0eC5saW5lVG8ocDIueCwgcDIueSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH07XG4gICAgaWYgKGdyaWQuZGlzcGxheSkge1xuICAgICAgZm9yIChpID0gMCwgaWxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIGlmIChncmlkLmRyYXdPbkNoYXJ0QXJlYSkge1xuICAgICAgICAgIGRyYXdMaW5lKFxuICAgICAgICAgICAge3g6IGl0ZW0ueDEsIHk6IGl0ZW0ueTF9LFxuICAgICAgICAgICAge3g6IGl0ZW0ueDIsIHk6IGl0ZW0ueTJ9LFxuICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyaWQuZHJhd1RpY2tzKSB7XG4gICAgICAgICAgZHJhd0xpbmUoXG4gICAgICAgICAgICB7eDogaXRlbS50eDEsIHk6IGl0ZW0udHkxfSxcbiAgICAgICAgICAgIHt4OiBpdGVtLnR4MiwgeTogaXRlbS50eTJ9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2xvcjogaXRlbS50aWNrQ29sb3IsXG4gICAgICAgICAgICAgIHdpZHRoOiBpdGVtLnRpY2tXaWR0aCxcbiAgICAgICAgICAgICAgYm9yZGVyRGFzaDogaXRlbS50aWNrQm9yZGVyRGFzaCxcbiAgICAgICAgICAgICAgYm9yZGVyRGFzaE9mZnNldDogaXRlbS50aWNrQm9yZGVyRGFzaE9mZnNldFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZHJhd0JvcmRlcigpIHtcbiAgICBjb25zdCB7Y2hhcnQsIGN0eCwgb3B0aW9uczoge2dyaWR9fSA9IHRoaXM7XG4gICAgY29uc3QgYm9yZGVyT3B0cyA9IGdyaWQuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgY29uc3QgYXhpc1dpZHRoID0gZ3JpZC5kcmF3Qm9yZGVyID8gYm9yZGVyT3B0cy5ib3JkZXJXaWR0aCA6IDA7XG4gICAgaWYgKCFheGlzV2lkdGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGFzdExpbmVXaWR0aCA9IGdyaWQuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoMCkpLmxpbmVXaWR0aDtcbiAgICBjb25zdCBib3JkZXJWYWx1ZSA9IHRoaXMuX2JvcmRlclZhbHVlO1xuICAgIGxldCB4MSwgeDIsIHkxLCB5MjtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgeDEgPSBfYWxpZ25QaXhlbChjaGFydCwgdGhpcy5sZWZ0LCBheGlzV2lkdGgpIC0gYXhpc1dpZHRoIC8gMjtcbiAgICAgIHgyID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMucmlnaHQsIGxhc3RMaW5lV2lkdGgpICsgbGFzdExpbmVXaWR0aCAvIDI7XG4gICAgICB5MSA9IHkyID0gYm9yZGVyVmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHkxID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMudG9wLCBheGlzV2lkdGgpIC0gYXhpc1dpZHRoIC8gMjtcbiAgICAgIHkyID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMuYm90dG9tLCBsYXN0TGluZVdpZHRoKSArIGxhc3RMaW5lV2lkdGggLyAyO1xuICAgICAgeDEgPSB4MiA9IGJvcmRlclZhbHVlO1xuICAgIH1cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJPcHRzLmJvcmRlcldpZHRoO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGJvcmRlck9wdHMuYm9yZGVyQ29sb3I7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcbiAgICBjdHgubGluZVRvKHgyLCB5Mik7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbiAgZHJhd0xhYmVscyhjaGFydEFyZWEpIHtcbiAgICBjb25zdCBvcHRpb25UaWNrcyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICBpZiAoIW9wdGlvblRpY2tzLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgYXJlYSA9IHRoaXMuX2NvbXB1dGVMYWJlbEFyZWEoKTtcbiAgICBpZiAoYXJlYSkge1xuICAgICAgY2xpcEFyZWEoY3R4LCBhcmVhKTtcbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLl9sYWJlbEl0ZW1zIHx8ICh0aGlzLl9sYWJlbEl0ZW1zID0gdGhpcy5fY29tcHV0ZUxhYmVsSXRlbXMoY2hhcnRBcmVhKSk7XG4gICAgbGV0IGksIGlsZW47XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgY29uc3QgdGlja0ZvbnQgPSBpdGVtLmZvbnQ7XG4gICAgICBjb25zdCBsYWJlbCA9IGl0ZW0ubGFiZWw7XG4gICAgICBpZiAoaXRlbS5iYWNrZHJvcCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gaXRlbS5iYWNrZHJvcC5jb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KGl0ZW0uYmFja2Ryb3AubGVmdCwgaXRlbS5iYWNrZHJvcC50b3AsIGl0ZW0uYmFja2Ryb3Aud2lkdGgsIGl0ZW0uYmFja2Ryb3AuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGxldCB5ID0gaXRlbS50ZXh0T2Zmc2V0O1xuICAgICAgcmVuZGVyVGV4dChjdHgsIGxhYmVsLCAwLCB5LCB0aWNrRm9udCwgaXRlbSk7XG4gICAgfVxuICAgIGlmIChhcmVhKSB7XG4gICAgICB1bmNsaXBBcmVhKGN0eCk7XG4gICAgfVxuICB9XG4gIGRyYXdUaXRsZSgpIHtcbiAgICBjb25zdCB7Y3R4LCBvcHRpb25zOiB7cG9zaXRpb24sIHRpdGxlLCByZXZlcnNlfX0gPSB0aGlzO1xuICAgIGlmICghdGl0bGUuZGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb250ID0gdG9Gb250KHRpdGxlLmZvbnQpO1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcodGl0bGUucGFkZGluZyk7XG4gICAgY29uc3QgYWxpZ24gPSB0aXRsZS5hbGlnbjtcbiAgICBsZXQgb2Zmc2V0ID0gZm9udC5saW5lSGVpZ2h0IC8gMjtcbiAgICBpZiAocG9zaXRpb24gPT09ICdib3R0b20nIHx8IHBvc2l0aW9uID09PSAnY2VudGVyJyB8fCBpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgIG9mZnNldCArPSBwYWRkaW5nLmJvdHRvbTtcbiAgICAgIGlmIChpc0FycmF5KHRpdGxlLnRleHQpKSB7XG4gICAgICAgIG9mZnNldCArPSBmb250LmxpbmVIZWlnaHQgKiAodGl0bGUudGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb2Zmc2V0ICs9IHBhZGRpbmcudG9wO1xuICAgIH1cbiAgICBjb25zdCB7dGl0bGVYLCB0aXRsZVksIG1heFdpZHRoLCByb3RhdGlvbn0gPSB0aXRsZUFyZ3ModGhpcywgb2Zmc2V0LCBwb3NpdGlvbiwgYWxpZ24pO1xuICAgIHJlbmRlclRleHQoY3R4LCB0aXRsZS50ZXh0LCAwLCAwLCBmb250LCB7XG4gICAgICBjb2xvcjogdGl0bGUuY29sb3IsXG4gICAgICBtYXhXaWR0aCxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgdGV4dEFsaWduOiB0aXRsZUFsaWduKGFsaWduLCBwb3NpdGlvbiwgcmV2ZXJzZSksXG4gICAgICB0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnLFxuICAgICAgdHJhbnNsYXRpb246IFt0aXRsZVgsIHRpdGxlWV0sXG4gICAgfSk7XG4gIH1cbiAgZHJhdyhjaGFydEFyZWEpIHtcbiAgICBpZiAoIXRoaXMuX2lzVmlzaWJsZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcbiAgICB0aGlzLmRyYXdHcmlkKGNoYXJ0QXJlYSk7XG4gICAgdGhpcy5kcmF3Qm9yZGVyKCk7XG4gICAgdGhpcy5kcmF3VGl0bGUoKTtcbiAgICB0aGlzLmRyYXdMYWJlbHMoY2hhcnRBcmVhKTtcbiAgfVxuICBfbGF5ZXJzKCkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgdHogPSBvcHRzLnRpY2tzICYmIG9wdHMudGlja3MueiB8fCAwO1xuICAgIGNvbnN0IGd6ID0gdmFsdWVPckRlZmF1bHQob3B0cy5ncmlkICYmIG9wdHMuZ3JpZC56LCAtMSk7XG4gICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSB8fCB0aGlzLmRyYXcgIT09IFNjYWxlLnByb3RvdHlwZS5kcmF3KSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgejogdHosXG4gICAgICAgIGRyYXc6IChjaGFydEFyZWEpID0+IHtcbiAgICAgICAgICB0aGlzLmRyYXcoY2hhcnRBcmVhKTtcbiAgICAgICAgfVxuICAgICAgfV07XG4gICAgfVxuICAgIHJldHVybiBbe1xuICAgICAgejogZ3osXG4gICAgICBkcmF3OiAoY2hhcnRBcmVhKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcbiAgICAgICAgdGhpcy5kcmF3R3JpZChjaGFydEFyZWEpO1xuICAgICAgICB0aGlzLmRyYXdUaXRsZSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHo6IGd6ICsgMSxcbiAgICAgIGRyYXc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5kcmF3Qm9yZGVyKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgejogdHosXG4gICAgICBkcmF3OiAoY2hhcnRBcmVhKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd0xhYmVscyhjaGFydEFyZWEpO1xuICAgICAgfVxuICAgIH1dO1xuICB9XG4gIGdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKHR5cGUpIHtcbiAgICBjb25zdCBtZXRhcyA9IHRoaXMuY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgIGNvbnN0IGF4aXNJRCA9IHRoaXMuYXhpcyArICdBeGlzSUQnO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBtZXRhcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IG1ldGEgPSBtZXRhc1tpXTtcbiAgICAgIGlmIChtZXRhW2F4aXNJRF0gPT09IHRoaXMuaWQgJiYgKCF0eXBlIHx8IG1ldGEudHlwZSA9PT0gdHlwZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobWV0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoaW5kZXgpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zLnRpY2tzLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGluZGV4KSk7XG4gICAgcmV0dXJuIHRvRm9udChvcHRzLmZvbnQpO1xuICB9XG4gIF9tYXhEaWdpdHMoKSB7XG4gICAgY29uc3QgZm9udFNpemUgPSB0aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApLmxpbmVIZWlnaHQ7XG4gICAgcmV0dXJuICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gdGhpcy53aWR0aCA6IHRoaXMuaGVpZ2h0KSAvIGZvbnRTaXplO1xuICB9XG59XG5cbmNsYXNzIFR5cGVkUmVnaXN0cnkge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBzY29wZSwgb3ZlcnJpZGUpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLm92ZXJyaWRlID0gb3ZlcnJpZGU7XG4gICAgdGhpcy5pdGVtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgaXNGb3JUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mLmNhbGwodGhpcy50eXBlLnByb3RvdHlwZSwgdHlwZS5wcm90b3R5cGUpO1xuICB9XG4gIHJlZ2lzdGVyKGl0ZW0pIHtcbiAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihpdGVtKTtcbiAgICBsZXQgcGFyZW50U2NvcGU7XG4gICAgaWYgKGlzSUNoYXJ0Q29tcG9uZW50KHByb3RvKSkge1xuICAgICAgcGFyZW50U2NvcGUgPSB0aGlzLnJlZ2lzdGVyKHByb3RvKTtcbiAgICB9XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIGNvbnN0IGlkID0gaXRlbS5pZDtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuc2NvcGUgKyAnLicgKyBpZDtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsYXNzIGRvZXMgbm90IGhhdmUgaWQ6ICcgKyBpdGVtKTtcbiAgICB9XG4gICAgaWYgKGlkIGluIGl0ZW1zKSB7XG4gICAgICByZXR1cm4gc2NvcGU7XG4gICAgfVxuICAgIGl0ZW1zW2lkXSA9IGl0ZW07XG4gICAgcmVnaXN0ZXJEZWZhdWx0cyhpdGVtLCBzY29wZSwgcGFyZW50U2NvcGUpO1xuICAgIGlmICh0aGlzLm92ZXJyaWRlKSB7XG4gICAgICBkZWZhdWx0cy5vdmVycmlkZShpdGVtLmlkLCBpdGVtLm92ZXJyaWRlcyk7XG4gICAgfVxuICAgIHJldHVybiBzY29wZTtcbiAgfVxuICBnZXQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtc1tpZF07XG4gIH1cbiAgdW5yZWdpc3RlcihpdGVtKSB7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIGNvbnN0IGlkID0gaXRlbS5pZDtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuc2NvcGU7XG4gICAgaWYgKGlkIGluIGl0ZW1zKSB7XG4gICAgICBkZWxldGUgaXRlbXNbaWRdO1xuICAgIH1cbiAgICBpZiAoc2NvcGUgJiYgaWQgaW4gZGVmYXVsdHNbc2NvcGVdKSB7XG4gICAgICBkZWxldGUgZGVmYXVsdHNbc2NvcGVdW2lkXTtcbiAgICAgIGlmICh0aGlzLm92ZXJyaWRlKSB7XG4gICAgICAgIGRlbGV0ZSBvdmVycmlkZXNbaWRdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0cyhpdGVtLCBzY29wZSwgcGFyZW50U2NvcGUpIHtcbiAgY29uc3QgaXRlbURlZmF1bHRzID0gbWVyZ2UoT2JqZWN0LmNyZWF0ZShudWxsKSwgW1xuICAgIHBhcmVudFNjb3BlID8gZGVmYXVsdHMuZ2V0KHBhcmVudFNjb3BlKSA6IHt9LFxuICAgIGRlZmF1bHRzLmdldChzY29wZSksXG4gICAgaXRlbS5kZWZhdWx0c1xuICBdKTtcbiAgZGVmYXVsdHMuc2V0KHNjb3BlLCBpdGVtRGVmYXVsdHMpO1xuICBpZiAoaXRlbS5kZWZhdWx0Um91dGVzKSB7XG4gICAgcm91dGVEZWZhdWx0cyhzY29wZSwgaXRlbS5kZWZhdWx0Um91dGVzKTtcbiAgfVxuICBpZiAoaXRlbS5kZXNjcmlwdG9ycykge1xuICAgIGRlZmF1bHRzLmRlc2NyaWJlKHNjb3BlLCBpdGVtLmRlc2NyaXB0b3JzKTtcbiAgfVxufVxuZnVuY3Rpb24gcm91dGVEZWZhdWx0cyhzY29wZSwgcm91dGVzKSB7XG4gIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaChwcm9wZXJ0eSA9PiB7XG4gICAgY29uc3QgcHJvcGVydHlQYXJ0cyA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG4gICAgY29uc3Qgc291cmNlTmFtZSA9IHByb3BlcnR5UGFydHMucG9wKCk7XG4gICAgY29uc3Qgc291cmNlU2NvcGUgPSBbc2NvcGVdLmNvbmNhdChwcm9wZXJ0eVBhcnRzKS5qb2luKCcuJyk7XG4gICAgY29uc3QgcGFydHMgPSByb3V0ZXNbcHJvcGVydHldLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgdGFyZ2V0TmFtZSA9IHBhcnRzLnBvcCgpO1xuICAgIGNvbnN0IHRhcmdldFNjb3BlID0gcGFydHMuam9pbignLicpO1xuICAgIGRlZmF1bHRzLnJvdXRlKHNvdXJjZVNjb3BlLCBzb3VyY2VOYW1lLCB0YXJnZXRTY29wZSwgdGFyZ2V0TmFtZSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNJQ2hhcnRDb21wb25lbnQocHJvdG8pIHtcbiAgcmV0dXJuICdpZCcgaW4gcHJvdG8gJiYgJ2RlZmF1bHRzJyBpbiBwcm90bztcbn1cblxuY2xhc3MgUmVnaXN0cnkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gbmV3IFR5cGVkUmVnaXN0cnkoRGF0YXNldENvbnRyb2xsZXIsICdkYXRhc2V0cycsIHRydWUpO1xuICAgIHRoaXMuZWxlbWVudHMgPSBuZXcgVHlwZWRSZWdpc3RyeShFbGVtZW50LCAnZWxlbWVudHMnKTtcbiAgICB0aGlzLnBsdWdpbnMgPSBuZXcgVHlwZWRSZWdpc3RyeShPYmplY3QsICdwbHVnaW5zJyk7XG4gICAgdGhpcy5zY2FsZXMgPSBuZXcgVHlwZWRSZWdpc3RyeShTY2FsZSwgJ3NjYWxlcycpO1xuICAgIHRoaXMuX3R5cGVkUmVnaXN0cmllcyA9IFt0aGlzLmNvbnRyb2xsZXJzLCB0aGlzLnNjYWxlcywgdGhpcy5lbGVtZW50c107XG4gIH1cbiAgYWRkKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MpO1xuICB9XG4gIHJlbW92ZSguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgndW5yZWdpc3RlcicsIGFyZ3MpO1xuICB9XG4gIGFkZENvbnRyb2xsZXJzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMuY29udHJvbGxlcnMpO1xuICB9XG4gIGFkZEVsZW1lbnRzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMuZWxlbWVudHMpO1xuICB9XG4gIGFkZFBsdWdpbnMoLi4uYXJncykge1xuICAgIHRoaXMuX2VhY2goJ3JlZ2lzdGVyJywgYXJncywgdGhpcy5wbHVnaW5zKTtcbiAgfVxuICBhZGRTY2FsZXMoLi4uYXJncykge1xuICAgIHRoaXMuX2VhY2goJ3JlZ2lzdGVyJywgYXJncywgdGhpcy5zY2FsZXMpO1xuICB9XG4gIGdldENvbnRyb2xsZXIoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KGlkLCB0aGlzLmNvbnRyb2xsZXJzLCAnY29udHJvbGxlcicpO1xuICB9XG4gIGdldEVsZW1lbnQoaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KGlkLCB0aGlzLmVsZW1lbnRzLCAnZWxlbWVudCcpO1xuICB9XG4gIGdldFBsdWdpbihpZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXQoaWQsIHRoaXMucGx1Z2lucywgJ3BsdWdpbicpO1xuICB9XG4gIGdldFNjYWxlKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldChpZCwgdGhpcy5zY2FsZXMsICdzY2FsZScpO1xuICB9XG4gIHJlbW92ZUNvbnRyb2xsZXJzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5jb250cm9sbGVycyk7XG4gIH1cbiAgcmVtb3ZlRWxlbWVudHMoLi4uYXJncykge1xuICAgIHRoaXMuX2VhY2goJ3VucmVnaXN0ZXInLCBhcmdzLCB0aGlzLmVsZW1lbnRzKTtcbiAgfVxuICByZW1vdmVQbHVnaW5zKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5wbHVnaW5zKTtcbiAgfVxuICByZW1vdmVTY2FsZXMoLi4uYXJncykge1xuICAgIHRoaXMuX2VhY2goJ3VucmVnaXN0ZXInLCBhcmdzLCB0aGlzLnNjYWxlcyk7XG4gIH1cbiAgX2VhY2gobWV0aG9kLCBhcmdzLCB0eXBlZFJlZ2lzdHJ5KSB7XG4gICAgWy4uLmFyZ3NdLmZvckVhY2goYXJnID0+IHtcbiAgICAgIGNvbnN0IHJlZyA9IHR5cGVkUmVnaXN0cnkgfHwgdGhpcy5fZ2V0UmVnaXN0cnlGb3JUeXBlKGFyZyk7XG4gICAgICBpZiAodHlwZWRSZWdpc3RyeSB8fCByZWcuaXNGb3JUeXBlKGFyZykgfHwgKHJlZyA9PT0gdGhpcy5wbHVnaW5zICYmIGFyZy5pZCkpIHtcbiAgICAgICAgdGhpcy5fZXhlYyhtZXRob2QsIHJlZywgYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVhY2goYXJnLCBpdGVtID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtUmVnID0gdHlwZWRSZWdpc3RyeSB8fCB0aGlzLl9nZXRSZWdpc3RyeUZvclR5cGUoaXRlbSk7XG4gICAgICAgICAgdGhpcy5fZXhlYyhtZXRob2QsIGl0ZW1SZWcsIGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfZXhlYyhtZXRob2QsIHJlZ2lzdHJ5LCBjb21wb25lbnQpIHtcbiAgICBjb25zdCBjYW1lbE1ldGhvZCA9IF9jYXBpdGFsaXplKG1ldGhvZCk7XG4gICAgY2FsbGJhY2soY29tcG9uZW50WydiZWZvcmUnICsgY2FtZWxNZXRob2RdLCBbXSwgY29tcG9uZW50KTtcbiAgICByZWdpc3RyeVttZXRob2RdKGNvbXBvbmVudCk7XG4gICAgY2FsbGJhY2soY29tcG9uZW50WydhZnRlcicgKyBjYW1lbE1ldGhvZF0sIFtdLCBjb21wb25lbnQpO1xuICB9XG4gIF9nZXRSZWdpc3RyeUZvclR5cGUodHlwZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdHlwZWRSZWdpc3RyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZWcgPSB0aGlzLl90eXBlZFJlZ2lzdHJpZXNbaV07XG4gICAgICBpZiAocmVnLmlzRm9yVHlwZSh0eXBlKSkge1xuICAgICAgICByZXR1cm4gcmVnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wbHVnaW5zO1xuICB9XG4gIF9nZXQoaWQsIHR5cGVkUmVnaXN0cnksIHR5cGUpIHtcbiAgICBjb25zdCBpdGVtID0gdHlwZWRSZWdpc3RyeS5nZXQoaWQpO1xuICAgIGlmIChpdGVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCInICsgaWQgKyAnXCIgaXMgbm90IGEgcmVnaXN0ZXJlZCAnICsgdHlwZSArICcuJyk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9XG59XG52YXIgcmVnaXN0cnkgPSBuZXcgUmVnaXN0cnkoKTtcblxuY2xhc3MgU2NhdHRlckNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIHVwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3Qge2RhdGE6IHBvaW50cyA9IFtdfSA9IG1ldGE7XG4gICAgY29uc3QgYW5pbWF0aW9uc0Rpc2FibGVkID0gdGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO1xuICAgIGxldCB7c3RhcnQsIGNvdW50fSA9IF9nZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzKG1ldGEsIHBvaW50cywgYW5pbWF0aW9uc0Rpc2FibGVkKTtcbiAgICB0aGlzLl9kcmF3U3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLl9kcmF3Q291bnQgPSBjb3VudDtcbiAgICBpZiAoX3NjYWxlUmFuZ2VzQ2hhbmdlZChtZXRhKSkge1xuICAgICAgc3RhcnQgPSAwO1xuICAgICAgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICBjb25zdCB7ZGF0YXNldDogbGluZSwgX2RhdGFzZXR9ID0gbWV0YTtcbiAgICAgIGxpbmUuX2NoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgIGxpbmUuX2RhdGFzZXRJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICBsaW5lLl9kZWNpbWF0ZWQgPSAhIV9kYXRhc2V0Ll9kZWNpbWF0ZWQ7XG4gICAgICBsaW5lLnBvaW50cyA9IHBvaW50cztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobW9kZSk7XG4gICAgICBvcHRpb25zLnNlZ21lbnQgPSB0aGlzLm9wdGlvbnMuc2VnbWVudDtcbiAgICAgIHRoaXMudXBkYXRlRWxlbWVudChsaW5lLCB1bmRlZmluZWQsIHtcbiAgICAgICAgYW5pbWF0ZWQ6ICFhbmltYXRpb25zRGlzYWJsZWQsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0sIG1vZGUpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKTtcbiAgfVxuICBhZGRFbGVtZW50cygpIHtcbiAgICBjb25zdCB7c2hvd0xpbmV9ID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICghdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUgJiYgc2hvd0xpbmUpIHtcbiAgICAgIHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlID0gcmVnaXN0cnkuZ2V0RWxlbWVudCgnbGluZScpO1xuICAgIH1cbiAgICBzdXBlci5hZGRFbGVtZW50cygpO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZSwgX3N0YWNrZWQsIF9kYXRhc2V0fSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgZmlyc3RPcHRzID0gdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICBjb25zdCBzaGFyZWRPcHRpb25zID0gdGhpcy5nZXRTaGFyZWRPcHRpb25zKGZpcnN0T3B0cyk7XG4gICAgY29uc3QgaW5jbHVkZU9wdGlvbnMgPSB0aGlzLmluY2x1ZGVPcHRpb25zKG1vZGUsIHNoYXJlZE9wdGlvbnMpO1xuICAgIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gICAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgICBjb25zdCB7c3BhbkdhcHMsIHNlZ21lbnR9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IG1heEdhcExlbmd0aCA9IGlzTnVtYmVyKHNwYW5HYXBzKSA/IHNwYW5HYXBzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGNvbnN0IGRpcmVjdFVwZGF0ZSA9IHRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZCB8fCByZXNldCB8fCBtb2RlID09PSAnbm9uZSc7XG4gICAgbGV0IHByZXZQYXJzZWQgPSBzdGFydCA+IDAgJiYgdGhpcy5nZXRQYXJzZWQoc3RhcnQgLSAxKTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaSk7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gZGlyZWN0VXBkYXRlID8gcG9pbnQgOiB7fTtcbiAgICAgIGNvbnN0IG51bGxEYXRhID0gaXNOdWxsT3JVbmRlZihwYXJzZWRbdkF4aXNdKTtcbiAgICAgIGNvbnN0IGlQaXhlbCA9IHByb3BlcnRpZXNbaUF4aXNdID0gaVNjYWxlLmdldFBpeGVsRm9yVmFsdWUocGFyc2VkW2lBeGlzXSwgaSk7XG4gICAgICBjb25zdCB2UGl4ZWwgPSBwcm9wZXJ0aWVzW3ZBeGlzXSA9IHJlc2V0IHx8IG51bGxEYXRhID8gdlNjYWxlLmdldEJhc2VQaXhlbCgpIDogdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoX3N0YWNrZWQgPyB0aGlzLmFwcGx5U3RhY2sodlNjYWxlLCBwYXJzZWQsIF9zdGFja2VkKSA6IHBhcnNlZFt2QXhpc10sIGkpO1xuICAgICAgcHJvcGVydGllcy5za2lwID0gaXNOYU4oaVBpeGVsKSB8fCBpc05hTih2UGl4ZWwpIHx8IG51bGxEYXRhO1xuICAgICAgcHJvcGVydGllcy5zdG9wID0gaSA+IDAgJiYgKE1hdGguYWJzKHBhcnNlZFtpQXhpc10gLSBwcmV2UGFyc2VkW2lBeGlzXSkpID4gbWF4R2FwTGVuZ3RoO1xuICAgICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAgcHJvcGVydGllcy5wYXJzZWQgPSBwYXJzZWQ7XG4gICAgICAgIHByb3BlcnRpZXMucmF3ID0gX2RhdGFzZXQuZGF0YVtpXTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlT3B0aW9ucykge1xuICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKCFkaXJlY3RVcGRhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBvaW50LCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICAgIH1cbiAgICAgIHByZXZQYXJzZWQgPSBwYXJzZWQ7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlU2hhcmVkT3B0aW9ucyhzaGFyZWRPcHRpb25zLCBtb2RlLCBmaXJzdE9wdHMpO1xuICB9XG4gIGdldE1heE92ZXJmbG93KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGRhdGEgPSBtZXRhLmRhdGEgfHwgW107XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2hvd0xpbmUpIHtcbiAgICAgIGxldCBtYXggPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBkYXRhW2ldLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkpKSAvIDIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1heCA+IDAgJiYgbWF4O1xuICAgIH1cbiAgICBjb25zdCBkYXRhc2V0ID0gbWV0YS5kYXRhc2V0O1xuICAgIGNvbnN0IGJvcmRlciA9IGRhdGFzZXQub3B0aW9ucyAmJiBkYXRhc2V0Lm9wdGlvbnMuYm9yZGVyV2lkdGggfHwgMDtcbiAgICBpZiAoIWRhdGEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gYm9yZGVyO1xuICAgIH1cbiAgICBjb25zdCBmaXJzdFBvaW50ID0gZGF0YVswXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucygwKSk7XG4gICAgY29uc3QgbGFzdFBvaW50ID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGRhdGEubGVuZ3RoIC0gMSkpO1xuICAgIHJldHVybiBNYXRoLm1heChib3JkZXIsIGZpcnN0UG9pbnQsIGxhc3RQb2ludCkgLyAyO1xuICB9XG59XG5TY2F0dGVyQ29udHJvbGxlci5pZCA9ICdzY2F0dGVyJztcblNjYXR0ZXJDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6IGZhbHNlLFxuICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gIHNob3dMaW5lOiBmYWxzZSxcbiAgZmlsbDogZmFsc2Vcbn07XG5TY2F0dGVyQ29udHJvbGxlci5vdmVycmlkZXMgPSB7XG4gIGludGVyYWN0aW9uOiB7XG4gICAgbW9kZTogJ3BvaW50J1xuICB9LFxuICBwbHVnaW5zOiB7XG4gICAgdG9vbHRpcDoge1xuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHRpdGxlKCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWwoaXRlbSkge1xuICAgICAgICAgIHJldHVybiAnKCcgKyBpdGVtLmxhYmVsICsgJywgJyArIGl0ZW0uZm9ybWF0dGVkVmFsdWUgKyAnKSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNjYWxlczoge1xuICAgIHg6IHtcbiAgICAgIHR5cGU6ICdsaW5lYXInXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICB0eXBlOiAnbGluZWFyJ1xuICAgIH1cbiAgfVxufTtcblxudmFyIGNvbnRyb2xsZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuX19wcm90b19fOiBudWxsLFxuQmFyQ29udHJvbGxlcjogQmFyQ29udHJvbGxlcixcbkJ1YmJsZUNvbnRyb2xsZXI6IEJ1YmJsZUNvbnRyb2xsZXIsXG5Eb3VnaG51dENvbnRyb2xsZXI6IERvdWdobnV0Q29udHJvbGxlcixcbkxpbmVDb250cm9sbGVyOiBMaW5lQ29udHJvbGxlcixcblBvbGFyQXJlYUNvbnRyb2xsZXI6IFBvbGFyQXJlYUNvbnRyb2xsZXIsXG5QaWVDb250cm9sbGVyOiBQaWVDb250cm9sbGVyLFxuUmFkYXJDb250cm9sbGVyOiBSYWRhckNvbnRyb2xsZXIsXG5TY2F0dGVyQ29udHJvbGxlcjogU2NhdHRlckNvbnRyb2xsZXJcbn0pO1xuXG5mdW5jdGlvbiBhYnN0cmFjdCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQ6IENoZWNrIHRoYXQgYSBjb21wbGV0ZSBkYXRlIGFkYXB0ZXIgaXMgcHJvdmlkZWQuJyk7XG59XG5jbGFzcyBEYXRlQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB9XG4gIGluaXQoY2hhcnRPcHRpb25zKSB7fVxuICBmb3JtYXRzKCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG4gIHBhcnNlKHZhbHVlLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBmb3JtYXQodGltZXN0YW1wLCBmb3JtYXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBhZGQodGltZXN0YW1wLCBhbW91bnQsIHVuaXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBkaWZmKGEsIGIsIHVuaXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBzdGFydE9mKHRpbWVzdGFtcCwgdW5pdCwgd2Vla2RheSkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG4gIGVuZE9mKHRpbWVzdGFtcCwgdW5pdCkge1xuICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICB9XG59XG5EYXRlQWRhcHRlci5vdmVycmlkZSA9IGZ1bmN0aW9uKG1lbWJlcnMpIHtcbiAgT2JqZWN0LmFzc2lnbihEYXRlQWRhcHRlci5wcm90b3R5cGUsIG1lbWJlcnMpO1xufTtcbnZhciBhZGFwdGVycyA9IHtcbiAgX2RhdGU6IERhdGVBZGFwdGVyXG59O1xuXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2gobWV0YXNldCwgYXhpcywgdmFsdWUsIGludGVyc2VjdCkge1xuICBjb25zdCB7Y29udHJvbGxlciwgZGF0YSwgX3NvcnRlZH0gPSBtZXRhc2V0O1xuICBjb25zdCBpU2NhbGUgPSBjb250cm9sbGVyLl9jYWNoZWRNZXRhLmlTY2FsZTtcbiAgaWYgKGlTY2FsZSAmJiBheGlzID09PSBpU2NhbGUuYXhpcyAmJiBheGlzICE9PSAncicgJiYgX3NvcnRlZCAmJiBkYXRhLmxlbmd0aCkge1xuICAgIGNvbnN0IGxvb2t1cE1ldGhvZCA9IGlTY2FsZS5fcmV2ZXJzZVBpeGVscyA/IF9ybG9va3VwQnlLZXkgOiBfbG9va3VwQnlLZXk7XG4gICAgaWYgKCFpbnRlcnNlY3QpIHtcbiAgICAgIHJldHVybiBsb29rdXBNZXRob2QoZGF0YSwgYXhpcywgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY29udHJvbGxlci5fc2hhcmVkT3B0aW9ucykge1xuICAgICAgY29uc3QgZWwgPSBkYXRhWzBdO1xuICAgICAgY29uc3QgcmFuZ2UgPSB0eXBlb2YgZWwuZ2V0UmFuZ2UgPT09ICdmdW5jdGlvbicgJiYgZWwuZ2V0UmFuZ2UoYXhpcyk7XG4gICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBsb29rdXBNZXRob2QoZGF0YSwgYXhpcywgdmFsdWUgLSByYW5nZSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IGxvb2t1cE1ldGhvZChkYXRhLCBheGlzLCB2YWx1ZSArIHJhbmdlKTtcbiAgICAgICAgcmV0dXJuIHtsbzogc3RhcnQubG8sIGhpOiBlbmQuaGl9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge2xvOiAwLCBoaTogZGF0YS5sZW5ndGggLSAxfTtcbn1cbmZ1bmN0aW9uIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGhhbmRsZXIsIGludGVyc2VjdCkge1xuICBjb25zdCBtZXRhc2V0cyA9IGNoYXJ0LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtcbiAgY29uc3QgdmFsdWUgPSBwb3NpdGlvbltheGlzXTtcbiAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSBtZXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBjb25zdCB7aW5kZXgsIGRhdGF9ID0gbWV0YXNldHNbaV07XG4gICAgY29uc3Qge2xvLCBoaX0gPSBiaW5hcnlTZWFyY2gobWV0YXNldHNbaV0sIGF4aXMsIHZhbHVlLCBpbnRlcnNlY3QpO1xuICAgIGZvciAobGV0IGogPSBsbzsgaiA8PSBoaTsgKytqKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZGF0YVtqXTtcbiAgICAgIGlmICghZWxlbWVudC5za2lwKSB7XG4gICAgICAgIGhhbmRsZXIoZWxlbWVudCwgaW5kZXgsIGopO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0RGlzdGFuY2VNZXRyaWNGb3JBeGlzKGF4aXMpIHtcbiAgY29uc3QgdXNlWCA9IGF4aXMuaW5kZXhPZigneCcpICE9PSAtMTtcbiAgY29uc3QgdXNlWSA9IGF4aXMuaW5kZXhPZigneScpICE9PSAtMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHB0MSwgcHQyKSB7XG4gICAgY29uc3QgZGVsdGFYID0gdXNlWCA/IE1hdGguYWJzKHB0MS54IC0gcHQyLngpIDogMDtcbiAgICBjb25zdCBkZWx0YVkgPSB1c2VZID8gTWF0aC5hYnMocHQxLnkgLSBwdDIueSkgOiAwO1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZGVsdGFYLCAyKSArIE1hdGgucG93KGRlbHRhWSwgMikpO1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW50ZXJzZWN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKSB7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGlmICghaW5jbHVkZUludmlzaWJsZSAmJiAhY2hhcnQuaXNQb2ludEluQXJlYShwb3NpdGlvbikpIHtcbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cbiAgY29uc3QgZXZhbHVhdGlvbkZ1bmMgPSBmdW5jdGlvbihlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4KSB7XG4gICAgaWYgKCFpbmNsdWRlSW52aXNpYmxlICYmICFfaXNQb2ludEluQXJlYShlbGVtZW50LCBjaGFydC5jaGFydEFyZWEsIDApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbGVtZW50LmluUmFuZ2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgdXNlRmluYWxQb3NpdGlvbikpIHtcbiAgICAgIGl0ZW1zLnB1c2goe2VsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXh9KTtcbiAgICB9XG4gIH07XG4gIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGV2YWx1YXRpb25GdW5jLCB0cnVlKTtcbiAgcmV0dXJuIGl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdFJhZGlhbEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbikge1xuICBsZXQgaXRlbXMgPSBbXTtcbiAgZnVuY3Rpb24gZXZhbHVhdGlvbkZ1bmMoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgIGNvbnN0IHtzdGFydEFuZ2xlLCBlbmRBbmdsZX0gPSBlbGVtZW50LmdldFByb3BzKFsnc3RhcnRBbmdsZScsICdlbmRBbmdsZSddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICBjb25zdCB7YW5nbGV9ID0gZ2V0QW5nbGVGcm9tUG9pbnQoZWxlbWVudCwge3g6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnl9KTtcbiAgICBpZiAoX2FuZ2xlQmV0d2VlbihhbmdsZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUpKSB7XG4gICAgICBpdGVtcy5wdXNoKHtlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fSk7XG4gICAgfVxuICB9XG4gIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGV2YWx1YXRpb25GdW5jKTtcbiAgcmV0dXJuIGl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdENhcnRlc2lhbkl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKSB7XG4gIGxldCBpdGVtcyA9IFtdO1xuICBjb25zdCBkaXN0YW5jZU1ldHJpYyA9IGdldERpc3RhbmNlTWV0cmljRm9yQXhpcyhheGlzKTtcbiAgbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICBmdW5jdGlvbiBldmFsdWF0aW9uRnVuYyhlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4KSB7XG4gICAgY29uc3QgaW5SYW5nZSA9IGVsZW1lbnQuaW5SYW5nZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICBpZiAoaW50ZXJzZWN0ICYmICFpblJhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNlbnRlciA9IGVsZW1lbnQuZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbik7XG4gICAgY29uc3QgcG9pbnRJbkFyZWEgPSAhIWluY2x1ZGVJbnZpc2libGUgfHwgY2hhcnQuaXNQb2ludEluQXJlYShjZW50ZXIpO1xuICAgIGlmICghcG9pbnRJbkFyZWEgJiYgIWluUmFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGlzdGFuY2UgPSBkaXN0YW5jZU1ldHJpYyhwb3NpdGlvbiwgY2VudGVyKTtcbiAgICBpZiAoZGlzdGFuY2UgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgaXRlbXMgPSBbe2VsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXh9XTtcbiAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgfSBlbHNlIGlmIChkaXN0YW5jZSA9PT0gbWluRGlzdGFuY2UpIHtcbiAgICAgIGl0ZW1zLnB1c2goe2VsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXh9KTtcbiAgICB9XG4gIH1cbiAgZXZhbHVhdGVJbnRlcmFjdGlvbkl0ZW1zKGNoYXJ0LCBheGlzLCBwb3NpdGlvbiwgZXZhbHVhdGlvbkZ1bmMpO1xuICByZXR1cm4gaXRlbXM7XG59XG5mdW5jdGlvbiBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBpbnRlcnNlY3QsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpIHtcbiAgaWYgKCFpbmNsdWRlSW52aXNpYmxlICYmICFjaGFydC5pc1BvaW50SW5BcmVhKHBvc2l0aW9uKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICByZXR1cm4gYXhpcyA9PT0gJ3InICYmICFpbnRlcnNlY3RcbiAgICA/IGdldE5lYXJlc3RSYWRpYWxJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24pXG4gICAgOiBnZXROZWFyZXN0Q2FydGVzaWFuSXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBpbnRlcnNlY3QsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0l0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGNvbnN0IHJhbmdlTWV0aG9kID0gYXhpcyA9PT0gJ3gnID8gJ2luWFJhbmdlJyA6ICdpbllSYW5nZSc7XG4gIGxldCBpbnRlcnNlY3RzSXRlbSA9IGZhbHNlO1xuICBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMoY2hhcnQsIGF4aXMsIHBvc2l0aW9uLCAoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkgPT4ge1xuICAgIGlmIChlbGVtZW50W3JhbmdlTWV0aG9kXShwb3NpdGlvbltheGlzXSwgdXNlRmluYWxQb3NpdGlvbikpIHtcbiAgICAgIGl0ZW1zLnB1c2goe2VsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXh9KTtcbiAgICAgIGludGVyc2VjdHNJdGVtID0gaW50ZXJzZWN0c0l0ZW0gfHwgZWxlbWVudC5pblJhbmdlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIH1cbiAgfSk7XG4gIGlmIChpbnRlcnNlY3QgJiYgIWludGVyc2VjdHNJdGVtKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBpdGVtcztcbn1cbnZhciBJbnRlcmFjdGlvbiA9IHtcbiAgZXZhbHVhdGVJbnRlcmFjdGlvbkl0ZW1zLFxuICBtb2Rlczoge1xuICAgIGluZGV4KGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMuYXhpcyB8fCAneCc7XG4gICAgICBjb25zdCBpbmNsdWRlSW52aXNpYmxlID0gb3B0aW9ucy5pbmNsdWRlSW52aXNpYmxlIHx8IGZhbHNlO1xuICAgICAgY29uc3QgaXRlbXMgPSBvcHRpb25zLmludGVyc2VjdFxuICAgICAgICA/IGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSlcbiAgICAgICAgOiBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBmYWxzZSwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLmZvckVhY2goKG1ldGEpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBpdGVtc1swXS5pbmRleDtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IG1ldGEuZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChlbGVtZW50ICYmICFlbGVtZW50LnNraXApIHtcbiAgICAgICAgICBlbGVtZW50cy5wdXNoKHtlbGVtZW50LCBkYXRhc2V0SW5kZXg6IG1ldGEuaW5kZXgsIGluZGV4fSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH0sXG4gICAgZGF0YXNldChjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgIGNvbnN0IGF4aXMgPSBvcHRpb25zLmF4aXMgfHwgJ3h5JztcbiAgICAgIGNvbnN0IGluY2x1ZGVJbnZpc2libGUgPSBvcHRpb25zLmluY2x1ZGVJbnZpc2libGUgfHwgZmFsc2U7XG4gICAgICBsZXQgaXRlbXMgPSBvcHRpb25zLmludGVyc2VjdFxuICAgICAgICA/IGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkgOlxuICAgICAgICBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBmYWxzZSwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBkYXRhc2V0SW5kZXggPSBpdGVtc1swXS5kYXRhc2V0SW5kZXg7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpLmRhdGE7XG4gICAgICAgIGl0ZW1zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGl0ZW1zLnB1c2goe2VsZW1lbnQ6IGRhdGFbaV0sIGRhdGFzZXRJbmRleCwgaW5kZXg6IGl9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH0sXG4gICAgcG9pbnQoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICBjb25zdCBheGlzID0gb3B0aW9ucy5heGlzIHx8ICd4eSc7XG4gICAgICBjb25zdCBpbmNsdWRlSW52aXNpYmxlID0gb3B0aW9ucy5pbmNsdWRlSW52aXNpYmxlIHx8IGZhbHNlO1xuICAgICAgcmV0dXJuIGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgfSxcbiAgICBuZWFyZXN0KGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMuYXhpcyB8fCAneHknO1xuICAgICAgY29uc3QgaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCBmYWxzZTtcbiAgICAgIHJldHVybiBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBvcHRpb25zLmludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgfSxcbiAgICB4KGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgcmV0dXJuIGdldEF4aXNJdGVtcyhjaGFydCwgcG9zaXRpb24sICd4Jywgb3B0aW9ucy5pbnRlcnNlY3QsIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIH0sXG4gICAgeShjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgIHJldHVybiBnZXRBeGlzSXRlbXMoY2hhcnQsIHBvc2l0aW9uLCAneScsIG9wdGlvbnMuaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IFNUQVRJQ19QT1NJVElPTlMgPSBbJ2xlZnQnLCAndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbSddO1xuZnVuY3Rpb24gZmlsdGVyQnlQb3NpdGlvbihhcnJheSwgcG9zaXRpb24pIHtcbiAgcmV0dXJuIGFycmF5LmZpbHRlcih2ID0+IHYucG9zID09PSBwb3NpdGlvbik7XG59XG5mdW5jdGlvbiBmaWx0ZXJEeW5hbWljUG9zaXRpb25CeUF4aXMoYXJyYXksIGF4aXMpIHtcbiAgcmV0dXJuIGFycmF5LmZpbHRlcih2ID0+IFNUQVRJQ19QT1NJVElPTlMuaW5kZXhPZih2LnBvcykgPT09IC0xICYmIHYuYm94LmF4aXMgPT09IGF4aXMpO1xufVxuZnVuY3Rpb24gc29ydEJ5V2VpZ2h0KGFycmF5LCByZXZlcnNlKSB7XG4gIHJldHVybiBhcnJheS5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgdjAgPSByZXZlcnNlID8gYiA6IGE7XG4gICAgY29uc3QgdjEgPSByZXZlcnNlID8gYSA6IGI7XG4gICAgcmV0dXJuIHYwLndlaWdodCA9PT0gdjEud2VpZ2h0ID9cbiAgICAgIHYwLmluZGV4IC0gdjEuaW5kZXggOlxuICAgICAgdjAud2VpZ2h0IC0gdjEud2VpZ2h0O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHdyYXBCb3hlcyhib3hlcykge1xuICBjb25zdCBsYXlvdXRCb3hlcyA9IFtdO1xuICBsZXQgaSwgaWxlbiwgYm94LCBwb3MsIHN0YWNrLCBzdGFja1dlaWdodDtcbiAgZm9yIChpID0gMCwgaWxlbiA9IChib3hlcyB8fCBbXSkubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgYm94ID0gYm94ZXNbaV07XG4gICAgKHtwb3NpdGlvbjogcG9zLCBvcHRpb25zOiB7c3RhY2ssIHN0YWNrV2VpZ2h0ID0gMX19ID0gYm94KTtcbiAgICBsYXlvdXRCb3hlcy5wdXNoKHtcbiAgICAgIGluZGV4OiBpLFxuICAgICAgYm94LFxuICAgICAgcG9zLFxuICAgICAgaG9yaXpvbnRhbDogYm94LmlzSG9yaXpvbnRhbCgpLFxuICAgICAgd2VpZ2h0OiBib3gud2VpZ2h0LFxuICAgICAgc3RhY2s6IHN0YWNrICYmIChwb3MgKyBzdGFjayksXG4gICAgICBzdGFja1dlaWdodFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBsYXlvdXRCb3hlcztcbn1cbmZ1bmN0aW9uIGJ1aWxkU3RhY2tzKGxheW91dHMpIHtcbiAgY29uc3Qgc3RhY2tzID0ge307XG4gIGZvciAoY29uc3Qgd3JhcCBvZiBsYXlvdXRzKSB7XG4gICAgY29uc3Qge3N0YWNrLCBwb3MsIHN0YWNrV2VpZ2h0fSA9IHdyYXA7XG4gICAgaWYgKCFzdGFjayB8fCAhU1RBVElDX1BPU0lUSU9OUy5pbmNsdWRlcyhwb3MpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgX3N0YWNrID0gc3RhY2tzW3N0YWNrXSB8fCAoc3RhY2tzW3N0YWNrXSA9IHtjb3VudDogMCwgcGxhY2VkOiAwLCB3ZWlnaHQ6IDAsIHNpemU6IDB9KTtcbiAgICBfc3RhY2suY291bnQrKztcbiAgICBfc3RhY2sud2VpZ2h0ICs9IHN0YWNrV2VpZ2h0O1xuICB9XG4gIHJldHVybiBzdGFja3M7XG59XG5mdW5jdGlvbiBzZXRMYXlvdXREaW1zKGxheW91dHMsIHBhcmFtcykge1xuICBjb25zdCBzdGFja3MgPSBidWlsZFN0YWNrcyhsYXlvdXRzKTtcbiAgY29uc3Qge3ZCb3hNYXhXaWR0aCwgaEJveE1heEhlaWdodH0gPSBwYXJhbXM7XG4gIGxldCBpLCBpbGVuLCBsYXlvdXQ7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBsYXlvdXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGxheW91dCA9IGxheW91dHNbaV07XG4gICAgY29uc3Qge2Z1bGxTaXplfSA9IGxheW91dC5ib3g7XG4gICAgY29uc3Qgc3RhY2sgPSBzdGFja3NbbGF5b3V0LnN0YWNrXTtcbiAgICBjb25zdCBmYWN0b3IgPSBzdGFjayAmJiBsYXlvdXQuc3RhY2tXZWlnaHQgLyBzdGFjay53ZWlnaHQ7XG4gICAgaWYgKGxheW91dC5ob3Jpem9udGFsKSB7XG4gICAgICBsYXlvdXQud2lkdGggPSBmYWN0b3IgPyBmYWN0b3IgKiB2Qm94TWF4V2lkdGggOiBmdWxsU2l6ZSAmJiBwYXJhbXMuYXZhaWxhYmxlV2lkdGg7XG4gICAgICBsYXlvdXQuaGVpZ2h0ID0gaEJveE1heEhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGF5b3V0LndpZHRoID0gdkJveE1heFdpZHRoO1xuICAgICAgbGF5b3V0LmhlaWdodCA9IGZhY3RvciA/IGZhY3RvciAqIGhCb3hNYXhIZWlnaHQgOiBmdWxsU2l6ZSAmJiBwYXJhbXMuYXZhaWxhYmxlSGVpZ2h0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhY2tzO1xufVxuZnVuY3Rpb24gYnVpbGRMYXlvdXRCb3hlcyhib3hlcykge1xuICBjb25zdCBsYXlvdXRCb3hlcyA9IHdyYXBCb3hlcyhib3hlcyk7XG4gIGNvbnN0IGZ1bGxTaXplID0gc29ydEJ5V2VpZ2h0KGxheW91dEJveGVzLmZpbHRlcih3cmFwID0+IHdyYXAuYm94LmZ1bGxTaXplKSwgdHJ1ZSk7XG4gIGNvbnN0IGxlZnQgPSBzb3J0QnlXZWlnaHQoZmlsdGVyQnlQb3NpdGlvbihsYXlvdXRCb3hlcywgJ2xlZnQnKSwgdHJ1ZSk7XG4gIGNvbnN0IHJpZ2h0ID0gc29ydEJ5V2VpZ2h0KGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICdyaWdodCcpKTtcbiAgY29uc3QgdG9wID0gc29ydEJ5V2VpZ2h0KGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICd0b3AnKSwgdHJ1ZSk7XG4gIGNvbnN0IGJvdHRvbSA9IHNvcnRCeVdlaWdodChmaWx0ZXJCeVBvc2l0aW9uKGxheW91dEJveGVzLCAnYm90dG9tJykpO1xuICBjb25zdCBjZW50ZXJIb3Jpem9udGFsID0gZmlsdGVyRHluYW1pY1Bvc2l0aW9uQnlBeGlzKGxheW91dEJveGVzLCAneCcpO1xuICBjb25zdCBjZW50ZXJWZXJ0aWNhbCA9IGZpbHRlckR5bmFtaWNQb3NpdGlvbkJ5QXhpcyhsYXlvdXRCb3hlcywgJ3knKTtcbiAgcmV0dXJuIHtcbiAgICBmdWxsU2l6ZSxcbiAgICBsZWZ0QW5kVG9wOiBsZWZ0LmNvbmNhdCh0b3ApLFxuICAgIHJpZ2h0QW5kQm90dG9tOiByaWdodC5jb25jYXQoY2VudGVyVmVydGljYWwpLmNvbmNhdChib3R0b20pLmNvbmNhdChjZW50ZXJIb3Jpem9udGFsKSxcbiAgICBjaGFydEFyZWE6IGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICdjaGFydEFyZWEnKSxcbiAgICB2ZXJ0aWNhbDogbGVmdC5jb25jYXQocmlnaHQpLmNvbmNhdChjZW50ZXJWZXJ0aWNhbCksXG4gICAgaG9yaXpvbnRhbDogdG9wLmNvbmNhdChib3R0b20pLmNvbmNhdChjZW50ZXJIb3Jpem9udGFsKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Q29tYmluZWRNYXgobWF4UGFkZGluZywgY2hhcnRBcmVhLCBhLCBiKSB7XG4gIHJldHVybiBNYXRoLm1heChtYXhQYWRkaW5nW2FdLCBjaGFydEFyZWFbYV0pICsgTWF0aC5tYXgobWF4UGFkZGluZ1tiXSwgY2hhcnRBcmVhW2JdKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1heFBhZGRpbmcobWF4UGFkZGluZywgYm94UGFkZGluZykge1xuICBtYXhQYWRkaW5nLnRvcCA9IE1hdGgubWF4KG1heFBhZGRpbmcudG9wLCBib3hQYWRkaW5nLnRvcCk7XG4gIG1heFBhZGRpbmcubGVmdCA9IE1hdGgubWF4KG1heFBhZGRpbmcubGVmdCwgYm94UGFkZGluZy5sZWZ0KTtcbiAgbWF4UGFkZGluZy5ib3R0b20gPSBNYXRoLm1heChtYXhQYWRkaW5nLmJvdHRvbSwgYm94UGFkZGluZy5ib3R0b20pO1xuICBtYXhQYWRkaW5nLnJpZ2h0ID0gTWF0aC5tYXgobWF4UGFkZGluZy5yaWdodCwgYm94UGFkZGluZy5yaWdodCk7XG59XG5mdW5jdGlvbiB1cGRhdGVEaW1zKGNoYXJ0QXJlYSwgcGFyYW1zLCBsYXlvdXQsIHN0YWNrcykge1xuICBjb25zdCB7cG9zLCBib3h9ID0gbGF5b3V0O1xuICBjb25zdCBtYXhQYWRkaW5nID0gY2hhcnRBcmVhLm1heFBhZGRpbmc7XG4gIGlmICghaXNPYmplY3QocG9zKSkge1xuICAgIGlmIChsYXlvdXQuc2l6ZSkge1xuICAgICAgY2hhcnRBcmVhW3Bvc10gLT0gbGF5b3V0LnNpemU7XG4gICAgfVxuICAgIGNvbnN0IHN0YWNrID0gc3RhY2tzW2xheW91dC5zdGFja10gfHwge3NpemU6IDAsIGNvdW50OiAxfTtcbiAgICBzdGFjay5zaXplID0gTWF0aC5tYXgoc3RhY2suc2l6ZSwgbGF5b3V0Lmhvcml6b250YWwgPyBib3guaGVpZ2h0IDogYm94LndpZHRoKTtcbiAgICBsYXlvdXQuc2l6ZSA9IHN0YWNrLnNpemUgLyBzdGFjay5jb3VudDtcbiAgICBjaGFydEFyZWFbcG9zXSArPSBsYXlvdXQuc2l6ZTtcbiAgfVxuICBpZiAoYm94LmdldFBhZGRpbmcpIHtcbiAgICB1cGRhdGVNYXhQYWRkaW5nKG1heFBhZGRpbmcsIGJveC5nZXRQYWRkaW5nKCkpO1xuICB9XG4gIGNvbnN0IG5ld1dpZHRoID0gTWF0aC5tYXgoMCwgcGFyYW1zLm91dGVyV2lkdGggLSBnZXRDb21iaW5lZE1heChtYXhQYWRkaW5nLCBjaGFydEFyZWEsICdsZWZ0JywgJ3JpZ2h0JykpO1xuICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1heCgwLCBwYXJhbXMub3V0ZXJIZWlnaHQgLSBnZXRDb21iaW5lZE1heChtYXhQYWRkaW5nLCBjaGFydEFyZWEsICd0b3AnLCAnYm90dG9tJykpO1xuICBjb25zdCB3aWR0aENoYW5nZWQgPSBuZXdXaWR0aCAhPT0gY2hhcnRBcmVhLnc7XG4gIGNvbnN0IGhlaWdodENoYW5nZWQgPSBuZXdIZWlnaHQgIT09IGNoYXJ0QXJlYS5oO1xuICBjaGFydEFyZWEudyA9IG5ld1dpZHRoO1xuICBjaGFydEFyZWEuaCA9IG5ld0hlaWdodDtcbiAgcmV0dXJuIGxheW91dC5ob3Jpem9udGFsXG4gICAgPyB7c2FtZTogd2lkdGhDaGFuZ2VkLCBvdGhlcjogaGVpZ2h0Q2hhbmdlZH1cbiAgICA6IHtzYW1lOiBoZWlnaHRDaGFuZ2VkLCBvdGhlcjogd2lkdGhDaGFuZ2VkfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZU1heFBhZGRpbmcoY2hhcnRBcmVhKSB7XG4gIGNvbnN0IG1heFBhZGRpbmcgPSBjaGFydEFyZWEubWF4UGFkZGluZztcbiAgZnVuY3Rpb24gdXBkYXRlUG9zKHBvcykge1xuICAgIGNvbnN0IGNoYW5nZSA9IE1hdGgubWF4KG1heFBhZGRpbmdbcG9zXSAtIGNoYXJ0QXJlYVtwb3NdLCAwKTtcbiAgICBjaGFydEFyZWFbcG9zXSArPSBjaGFuZ2U7XG4gICAgcmV0dXJuIGNoYW5nZTtcbiAgfVxuICBjaGFydEFyZWEueSArPSB1cGRhdGVQb3MoJ3RvcCcpO1xuICBjaGFydEFyZWEueCArPSB1cGRhdGVQb3MoJ2xlZnQnKTtcbiAgdXBkYXRlUG9zKCdyaWdodCcpO1xuICB1cGRhdGVQb3MoJ2JvdHRvbScpO1xufVxuZnVuY3Rpb24gZ2V0TWFyZ2lucyhob3Jpem9udGFsLCBjaGFydEFyZWEpIHtcbiAgY29uc3QgbWF4UGFkZGluZyA9IGNoYXJ0QXJlYS5tYXhQYWRkaW5nO1xuICBmdW5jdGlvbiBtYXJnaW5Gb3JQb3NpdGlvbnMocG9zaXRpb25zKSB7XG4gICAgY29uc3QgbWFyZ2luID0ge2xlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMH07XG4gICAgcG9zaXRpb25zLmZvckVhY2goKHBvcykgPT4ge1xuICAgICAgbWFyZ2luW3Bvc10gPSBNYXRoLm1heChjaGFydEFyZWFbcG9zXSwgbWF4UGFkZGluZ1twb3NdKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWFyZ2luO1xuICB9XG4gIHJldHVybiBob3Jpem9udGFsXG4gICAgPyBtYXJnaW5Gb3JQb3NpdGlvbnMoWydsZWZ0JywgJ3JpZ2h0J10pXG4gICAgOiBtYXJnaW5Gb3JQb3NpdGlvbnMoWyd0b3AnLCAnYm90dG9tJ10pO1xufVxuZnVuY3Rpb24gZml0Qm94ZXMoYm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpIHtcbiAgY29uc3QgcmVmaXRCb3hlcyA9IFtdO1xuICBsZXQgaSwgaWxlbiwgbGF5b3V0LCBib3gsIHJlZml0LCBjaGFuZ2VkO1xuICBmb3IgKGkgPSAwLCBpbGVuID0gYm94ZXMubGVuZ3RoLCByZWZpdCA9IDA7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBsYXlvdXQgPSBib3hlc1tpXTtcbiAgICBib3ggPSBsYXlvdXQuYm94O1xuICAgIGJveC51cGRhdGUoXG4gICAgICBsYXlvdXQud2lkdGggfHwgY2hhcnRBcmVhLncsXG4gICAgICBsYXlvdXQuaGVpZ2h0IHx8IGNoYXJ0QXJlYS5oLFxuICAgICAgZ2V0TWFyZ2lucyhsYXlvdXQuaG9yaXpvbnRhbCwgY2hhcnRBcmVhKVxuICAgICk7XG4gICAgY29uc3Qge3NhbWUsIG90aGVyfSA9IHVwZGF0ZURpbXMoY2hhcnRBcmVhLCBwYXJhbXMsIGxheW91dCwgc3RhY2tzKTtcbiAgICByZWZpdCB8PSBzYW1lICYmIHJlZml0Qm94ZXMubGVuZ3RoO1xuICAgIGNoYW5nZWQgPSBjaGFuZ2VkIHx8IG90aGVyO1xuICAgIGlmICghYm94LmZ1bGxTaXplKSB7XG4gICAgICByZWZpdEJveGVzLnB1c2gobGF5b3V0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlZml0ICYmIGZpdEJveGVzKHJlZml0Qm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpIHx8IGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBzZXRCb3hEaW1zKGJveCwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIGJveC50b3AgPSB0b3A7XG4gIGJveC5sZWZ0ID0gbGVmdDtcbiAgYm94LnJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICBib3guYm90dG9tID0gdG9wICsgaGVpZ2h0O1xuICBib3gud2lkdGggPSB3aWR0aDtcbiAgYm94LmhlaWdodCA9IGhlaWdodDtcbn1cbmZ1bmN0aW9uIHBsYWNlQm94ZXMoYm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpIHtcbiAgY29uc3QgdXNlclBhZGRpbmcgPSBwYXJhbXMucGFkZGluZztcbiAgbGV0IHt4LCB5fSA9IGNoYXJ0QXJlYTtcbiAgZm9yIChjb25zdCBsYXlvdXQgb2YgYm94ZXMpIHtcbiAgICBjb25zdCBib3ggPSBsYXlvdXQuYm94O1xuICAgIGNvbnN0IHN0YWNrID0gc3RhY2tzW2xheW91dC5zdGFja10gfHwge2NvdW50OiAxLCBwbGFjZWQ6IDAsIHdlaWdodDogMX07XG4gICAgY29uc3Qgd2VpZ2h0ID0gKGxheW91dC5zdGFja1dlaWdodCAvIHN0YWNrLndlaWdodCkgfHwgMTtcbiAgICBpZiAobGF5b3V0Lmhvcml6b250YWwpIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gY2hhcnRBcmVhLncgKiB3ZWlnaHQ7XG4gICAgICBjb25zdCBoZWlnaHQgPSBzdGFjay5zaXplIHx8IGJveC5oZWlnaHQ7XG4gICAgICBpZiAoZGVmaW5lZChzdGFjay5zdGFydCkpIHtcbiAgICAgICAgeSA9IHN0YWNrLnN0YXJ0O1xuICAgICAgfVxuICAgICAgaWYgKGJveC5mdWxsU2l6ZSkge1xuICAgICAgICBzZXRCb3hEaW1zKGJveCwgdXNlclBhZGRpbmcubGVmdCwgeSwgcGFyYW1zLm91dGVyV2lkdGggLSB1c2VyUGFkZGluZy5yaWdodCAtIHVzZXJQYWRkaW5nLmxlZnQsIGhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRCb3hEaW1zKGJveCwgY2hhcnRBcmVhLmxlZnQgKyBzdGFjay5wbGFjZWQsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgICAgc3RhY2suc3RhcnQgPSB5O1xuICAgICAgc3RhY2sucGxhY2VkICs9IHdpZHRoO1xuICAgICAgeSA9IGJveC5ib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGNoYXJ0QXJlYS5oICogd2VpZ2h0O1xuICAgICAgY29uc3Qgd2lkdGggPSBzdGFjay5zaXplIHx8IGJveC53aWR0aDtcbiAgICAgIGlmIChkZWZpbmVkKHN0YWNrLnN0YXJ0KSkge1xuICAgICAgICB4ID0gc3RhY2suc3RhcnQ7XG4gICAgICB9XG4gICAgICBpZiAoYm94LmZ1bGxTaXplKSB7XG4gICAgICAgIHNldEJveERpbXMoYm94LCB4LCB1c2VyUGFkZGluZy50b3AsIHdpZHRoLCBwYXJhbXMub3V0ZXJIZWlnaHQgLSB1c2VyUGFkZGluZy5ib3R0b20gLSB1c2VyUGFkZGluZy50b3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Qm94RGltcyhib3gsIHgsIGNoYXJ0QXJlYS50b3AgKyBzdGFjay5wbGFjZWQsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgICAgc3RhY2suc3RhcnQgPSB4O1xuICAgICAgc3RhY2sucGxhY2VkICs9IGhlaWdodDtcbiAgICAgIHggPSBib3gucmlnaHQ7XG4gICAgfVxuICB9XG4gIGNoYXJ0QXJlYS54ID0geDtcbiAgY2hhcnRBcmVhLnkgPSB5O1xufVxuZGVmYXVsdHMuc2V0KCdsYXlvdXQnLCB7XG4gIGF1dG9QYWRkaW5nOiB0cnVlLFxuICBwYWRkaW5nOiB7XG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwXG4gIH1cbn0pO1xudmFyIGxheW91dHMgPSB7XG4gIGFkZEJveChjaGFydCwgaXRlbSkge1xuICAgIGlmICghY2hhcnQuYm94ZXMpIHtcbiAgICAgIGNoYXJ0LmJveGVzID0gW107XG4gICAgfVxuICAgIGl0ZW0uZnVsbFNpemUgPSBpdGVtLmZ1bGxTaXplIHx8IGZhbHNlO1xuICAgIGl0ZW0ucG9zaXRpb24gPSBpdGVtLnBvc2l0aW9uIHx8ICd0b3AnO1xuICAgIGl0ZW0ud2VpZ2h0ID0gaXRlbS53ZWlnaHQgfHwgMDtcbiAgICBpdGVtLl9sYXllcnMgPSBpdGVtLl9sYXllcnMgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW3tcbiAgICAgICAgejogMCxcbiAgICAgICAgZHJhdyhjaGFydEFyZWEpIHtcbiAgICAgICAgICBpdGVtLmRyYXcoY2hhcnRBcmVhKTtcbiAgICAgICAgfVxuICAgICAgfV07XG4gICAgfTtcbiAgICBjaGFydC5ib3hlcy5wdXNoKGl0ZW0pO1xuICB9LFxuICByZW1vdmVCb3goY2hhcnQsIGxheW91dEl0ZW0pIHtcbiAgICBjb25zdCBpbmRleCA9IGNoYXJ0LmJveGVzID8gY2hhcnQuYm94ZXMuaW5kZXhPZihsYXlvdXRJdGVtKSA6IC0xO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGNoYXJ0LmJveGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9LFxuICBjb25maWd1cmUoY2hhcnQsIGl0ZW0sIG9wdGlvbnMpIHtcbiAgICBpdGVtLmZ1bGxTaXplID0gb3B0aW9ucy5mdWxsU2l6ZTtcbiAgICBpdGVtLnBvc2l0aW9uID0gb3B0aW9ucy5wb3NpdGlvbjtcbiAgICBpdGVtLndlaWdodCA9IG9wdGlvbnMud2VpZ2h0O1xuICB9LFxuICB1cGRhdGUoY2hhcnQsIHdpZHRoLCBoZWlnaHQsIG1pblBhZGRpbmcpIHtcbiAgICBpZiAoIWNoYXJ0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcoY2hhcnQub3B0aW9ucy5sYXlvdXQucGFkZGluZyk7XG4gICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBNYXRoLm1heCh3aWR0aCAtIHBhZGRpbmcud2lkdGgsIDApO1xuICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IE1hdGgubWF4KGhlaWdodCAtIHBhZGRpbmcuaGVpZ2h0LCAwKTtcbiAgICBjb25zdCBib3hlcyA9IGJ1aWxkTGF5b3V0Qm94ZXMoY2hhcnQuYm94ZXMpO1xuICAgIGNvbnN0IHZlcnRpY2FsQm94ZXMgPSBib3hlcy52ZXJ0aWNhbDtcbiAgICBjb25zdCBob3Jpem9udGFsQm94ZXMgPSBib3hlcy5ob3Jpem9udGFsO1xuICAgIGVhY2goY2hhcnQuYm94ZXMsIGJveCA9PiB7XG4gICAgICBpZiAodHlwZW9mIGJveC5iZWZvcmVMYXlvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYm94LmJlZm9yZUxheW91dCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHZpc2libGVWZXJ0aWNhbEJveENvdW50ID0gdmVydGljYWxCb3hlcy5yZWR1Y2UoKHRvdGFsLCB3cmFwKSA9PlxuICAgICAgd3JhcC5ib3gub3B0aW9ucyAmJiB3cmFwLmJveC5vcHRpb25zLmRpc3BsYXkgPT09IGZhbHNlID8gdG90YWwgOiB0b3RhbCArIDEsIDApIHx8IDE7XG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBvdXRlcldpZHRoOiB3aWR0aCxcbiAgICAgIG91dGVySGVpZ2h0OiBoZWlnaHQsXG4gICAgICBwYWRkaW5nLFxuICAgICAgYXZhaWxhYmxlV2lkdGgsXG4gICAgICBhdmFpbGFibGVIZWlnaHQsXG4gICAgICB2Qm94TWF4V2lkdGg6IGF2YWlsYWJsZVdpZHRoIC8gMiAvIHZpc2libGVWZXJ0aWNhbEJveENvdW50LFxuICAgICAgaEJveE1heEhlaWdodDogYXZhaWxhYmxlSGVpZ2h0IC8gMlxuICAgIH0pO1xuICAgIGNvbnN0IG1heFBhZGRpbmcgPSBPYmplY3QuYXNzaWduKHt9LCBwYWRkaW5nKTtcbiAgICB1cGRhdGVNYXhQYWRkaW5nKG1heFBhZGRpbmcsIHRvUGFkZGluZyhtaW5QYWRkaW5nKSk7XG4gICAgY29uc3QgY2hhcnRBcmVhID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBtYXhQYWRkaW5nLFxuICAgICAgdzogYXZhaWxhYmxlV2lkdGgsXG4gICAgICBoOiBhdmFpbGFibGVIZWlnaHQsXG4gICAgICB4OiBwYWRkaW5nLmxlZnQsXG4gICAgICB5OiBwYWRkaW5nLnRvcFxuICAgIH0sIHBhZGRpbmcpO1xuICAgIGNvbnN0IHN0YWNrcyA9IHNldExheW91dERpbXModmVydGljYWxCb3hlcy5jb25jYXQoaG9yaXpvbnRhbEJveGVzKSwgcGFyYW1zKTtcbiAgICBmaXRCb3hlcyhib3hlcy5mdWxsU2l6ZSwgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgZml0Qm94ZXModmVydGljYWxCb3hlcywgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgaWYgKGZpdEJveGVzKGhvcml6b250YWxCb3hlcywgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcykpIHtcbiAgICAgIGZpdEJveGVzKHZlcnRpY2FsQm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpO1xuICAgIH1cbiAgICBoYW5kbGVNYXhQYWRkaW5nKGNoYXJ0QXJlYSk7XG4gICAgcGxhY2VCb3hlcyhib3hlcy5sZWZ0QW5kVG9wLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKTtcbiAgICBjaGFydEFyZWEueCArPSBjaGFydEFyZWEudztcbiAgICBjaGFydEFyZWEueSArPSBjaGFydEFyZWEuaDtcbiAgICBwbGFjZUJveGVzKGJveGVzLnJpZ2h0QW5kQm90dG9tLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKTtcbiAgICBjaGFydC5jaGFydEFyZWEgPSB7XG4gICAgICBsZWZ0OiBjaGFydEFyZWEubGVmdCxcbiAgICAgIHRvcDogY2hhcnRBcmVhLnRvcCxcbiAgICAgIHJpZ2h0OiBjaGFydEFyZWEubGVmdCArIGNoYXJ0QXJlYS53LFxuICAgICAgYm90dG9tOiBjaGFydEFyZWEudG9wICsgY2hhcnRBcmVhLmgsXG4gICAgICBoZWlnaHQ6IGNoYXJ0QXJlYS5oLFxuICAgICAgd2lkdGg6IGNoYXJ0QXJlYS53LFxuICAgIH07XG4gICAgZWFjaChib3hlcy5jaGFydEFyZWEsIChsYXlvdXQpID0+IHtcbiAgICAgIGNvbnN0IGJveCA9IGxheW91dC5ib3g7XG4gICAgICBPYmplY3QuYXNzaWduKGJveCwgY2hhcnQuY2hhcnRBcmVhKTtcbiAgICAgIGJveC51cGRhdGUoY2hhcnRBcmVhLncsIGNoYXJ0QXJlYS5oLCB7bGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwfSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNsYXNzIEJhc2VQbGF0Zm9ybSB7XG4gIGFjcXVpcmVDb250ZXh0KGNhbnZhcywgYXNwZWN0UmF0aW8pIHt9XG4gIHJlbGVhc2VDb250ZXh0KGNvbnRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYWRkRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHt9XG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7fVxuICBnZXREZXZpY2VQaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGdldE1heGltdW1TaXplKGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gICAgd2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCB8fCBlbGVtZW50LndpZHRoKTtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfHwgZWxlbWVudC5oZWlnaHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0OiBNYXRoLm1heCgwLCBhc3BlY3RSYXRpbyA/IE1hdGguZmxvb3Iod2lkdGggLyBhc3BlY3RSYXRpbykgOiBoZWlnaHQpXG4gICAgfTtcbiAgfVxuICBpc0F0dGFjaGVkKGNhbnZhcykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHVwZGF0ZUNvbmZpZyhjb25maWcpIHtcbiAgfVxufVxuXG5jbGFzcyBCYXNpY1BsYXRmb3JtIGV4dGVuZHMgQmFzZVBsYXRmb3JtIHtcbiAgYWNxdWlyZUNvbnRleHQoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICYmIGl0ZW0uZ2V0Q29udGV4dCAmJiBpdGVtLmdldENvbnRleHQoJzJkJykgfHwgbnVsbDtcbiAgfVxuICB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gICAgY29uZmlnLm9wdGlvbnMuYW5pbWF0aW9uID0gZmFsc2U7XG4gIH1cbn1cblxuY29uc3QgRVhQQU5ET19LRVkgPSAnJGNoYXJ0anMnO1xuY29uc3QgRVZFTlRfVFlQRVMgPSB7XG4gIHRvdWNoc3RhcnQ6ICdtb3VzZWRvd24nLFxuICB0b3VjaG1vdmU6ICdtb3VzZW1vdmUnLFxuICB0b3VjaGVuZDogJ21vdXNldXAnLFxuICBwb2ludGVyZW50ZXI6ICdtb3VzZWVudGVyJyxcbiAgcG9pbnRlcmRvd246ICdtb3VzZWRvd24nLFxuICBwb2ludGVybW92ZTogJ21vdXNlbW92ZScsXG4gIHBvaW50ZXJ1cDogJ21vdXNldXAnLFxuICBwb2ludGVybGVhdmU6ICdtb3VzZW91dCcsXG4gIHBvaW50ZXJvdXQ6ICdtb3VzZW91dCdcbn07XG5jb25zdCBpc051bGxPckVtcHR5ID0gdmFsdWUgPT4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09ICcnO1xuZnVuY3Rpb24gaW5pdENhbnZhcyhjYW52YXMsIGFzcGVjdFJhdGlvKSB7XG4gIGNvbnN0IHN0eWxlID0gY2FudmFzLnN0eWxlO1xuICBjb25zdCByZW5kZXJIZWlnaHQgPSBjYW52YXMuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgY29uc3QgcmVuZGVyV2lkdGggPSBjYW52YXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xuICBjYW52YXNbRVhQQU5ET19LRVldID0ge1xuICAgIGluaXRpYWw6IHtcbiAgICAgIGhlaWdodDogcmVuZGVySGVpZ2h0LFxuICAgICAgd2lkdGg6IHJlbmRlcldpZHRoLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogc3R5bGUuZGlzcGxheSxcbiAgICAgICAgaGVpZ2h0OiBzdHlsZS5oZWlnaHQsXG4gICAgICAgIHdpZHRoOiBzdHlsZS53aWR0aFxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc3R5bGUuZGlzcGxheSA9IHN0eWxlLmRpc3BsYXkgfHwgJ2Jsb2NrJztcbiAgc3R5bGUuYm94U2l6aW5nID0gc3R5bGUuYm94U2l6aW5nIHx8ICdib3JkZXItYm94JztcbiAgaWYgKGlzTnVsbE9yRW1wdHkocmVuZGVyV2lkdGgpKSB7XG4gICAgY29uc3QgZGlzcGxheVdpZHRoID0gcmVhZFVzZWRTaXplKGNhbnZhcywgJ3dpZHRoJyk7XG4gICAgaWYgKGRpc3BsYXlXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjYW52YXMud2lkdGggPSBkaXNwbGF5V2lkdGg7XG4gICAgfVxuICB9XG4gIGlmIChpc051bGxPckVtcHR5KHJlbmRlckhlaWdodCkpIHtcbiAgICBpZiAoY2FudmFzLnN0eWxlLmhlaWdodCA9PT0gJycpIHtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXMud2lkdGggLyAoYXNwZWN0UmF0aW8gfHwgMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSByZWFkVXNlZFNpemUoY2FudmFzLCAnaGVpZ2h0Jyk7XG4gICAgICBpZiAoZGlzcGxheUhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2FudmFzO1xufVxuY29uc3QgZXZlbnRMaXN0ZW5lck9wdGlvbnMgPSBzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zID8ge3Bhc3NpdmU6IHRydWV9IDogZmFsc2U7XG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihub2RlLCB0eXBlLCBsaXN0ZW5lcikge1xuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICBjaGFydC5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZnJvbU5hdGl2ZUV2ZW50KGV2ZW50LCBjaGFydCkge1xuICBjb25zdCB0eXBlID0gRVZFTlRfVFlQRVNbZXZlbnQudHlwZV0gfHwgZXZlbnQudHlwZTtcbiAgY29uc3Qge3gsIHl9ID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihldmVudCwgY2hhcnQpO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgY2hhcnQsXG4gICAgbmF0aXZlOiBldmVudCxcbiAgICB4OiB4ICE9PSB1bmRlZmluZWQgPyB4IDogbnVsbCxcbiAgICB5OiB5ICE9PSB1bmRlZmluZWQgPyB5IDogbnVsbCxcbiAgfTtcbn1cbmZ1bmN0aW9uIG5vZGVMaXN0Q29udGFpbnMobm9kZUxpc3QsIGNhbnZhcykge1xuICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZUxpc3QpIHtcbiAgICBpZiAobm9kZSA9PT0gY2FudmFzIHx8IG5vZGUuY29udGFpbnMoY2FudmFzKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVBdHRhY2hPYnNlcnZlcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgIGxldCB0cmlnZ2VyID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICB0cmlnZ2VyID0gdHJpZ2dlciB8fCBub2RlTGlzdENvbnRhaW5zKGVudHJ5LmFkZGVkTm9kZXMsIGNhbnZhcyk7XG4gICAgICB0cmlnZ2VyID0gdHJpZ2dlciAmJiAhbm9kZUxpc3RDb250YWlucyhlbnRyeS5yZW1vdmVkTm9kZXMsIGNhbnZhcyk7XG4gICAgfVxuICAgIGlmICh0cmlnZ2VyKSB7XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cbiAgfSk7XG4gIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlRGV0YWNoT2JzZXJ2ZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNvbnN0IGNhbnZhcyA9IGNoYXJ0LmNhbnZhcztcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICBsZXQgdHJpZ2dlciA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgfHwgbm9kZUxpc3RDb250YWlucyhlbnRyeS5yZW1vdmVkTm9kZXMsIGNhbnZhcyk7XG4gICAgICB0cmlnZ2VyID0gdHJpZ2dlciAmJiAhbm9kZUxpc3RDb250YWlucyhlbnRyeS5hZGRlZE5vZGVzLCBjYW52YXMpO1xuICAgIH1cbiAgICBpZiAodHJpZ2dlcikge1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG4gIHJldHVybiBvYnNlcnZlcjtcbn1cbmNvbnN0IGRycExpc3RlbmluZ0NoYXJ0cyA9IG5ldyBNYXAoKTtcbmxldCBvbGREZXZpY2VQaXhlbFJhdGlvID0gMDtcbmZ1bmN0aW9uIG9uV2luZG93UmVzaXplKCkge1xuICBjb25zdCBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgaWYgKGRwciA9PT0gb2xkRGV2aWNlUGl4ZWxSYXRpbykge1xuICAgIHJldHVybjtcbiAgfVxuICBvbGREZXZpY2VQaXhlbFJhdGlvID0gZHByO1xuICBkcnBMaXN0ZW5pbmdDaGFydHMuZm9yRWFjaCgocmVzaXplLCBjaGFydCkgPT4ge1xuICAgIGlmIChjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyAhPT0gZHByKSB7XG4gICAgICByZXNpemUoKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQsIHJlc2l6ZSkge1xuICBpZiAoIWRycExpc3RlbmluZ0NoYXJ0cy5zaXplKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplKTtcbiAgfVxuICBkcnBMaXN0ZW5pbmdDaGFydHMuc2V0KGNoYXJ0LCByZXNpemUpO1xufVxuZnVuY3Rpb24gdW5saXN0ZW5EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlcyhjaGFydCkge1xuICBkcnBMaXN0ZW5pbmdDaGFydHMuZGVsZXRlKGNoYXJ0KTtcbiAgaWYgKCFkcnBMaXN0ZW5pbmdDaGFydHMuc2l6ZSkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlc2l6ZU9ic2VydmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGNhbnZhcyAmJiBfZ2V0UGFyZW50Tm9kZShjYW52YXMpO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZXNpemUgPSB0aHJvdHRsZWQoKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICBjb25zdCB3ID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgIGxpc3RlbmVyKHdpZHRoLCBoZWlnaHQpO1xuICAgIGlmICh3IDwgY29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cbiAgfSwgd2luZG93KTtcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdO1xuICAgIGNvbnN0IHdpZHRoID0gZW50cnkuY29udGVudFJlY3Qud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gZW50cnkuY29udGVudFJlY3QuaGVpZ2h0O1xuICAgIGlmICh3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXIpO1xuICBsaXN0ZW5EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlcyhjaGFydCwgcmVzaXplKTtcbiAgcmV0dXJuIG9ic2VydmVyO1xufVxuZnVuY3Rpb24gcmVsZWFzZU9ic2VydmVyKGNoYXJ0LCB0eXBlLCBvYnNlcnZlcikge1xuICBpZiAob2JzZXJ2ZXIpIHtcbiAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdyZXNpemUnKSB7XG4gICAgdW5saXN0ZW5EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlcyhjaGFydCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3h5QW5kTGlzdGVuKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIGNvbnN0IHByb3h5ID0gdGhyb3R0bGVkKChldmVudCkgPT4ge1xuICAgIGlmIChjaGFydC5jdHggIT09IG51bGwpIHtcbiAgICAgIGxpc3RlbmVyKGZyb21OYXRpdmVFdmVudChldmVudCwgY2hhcnQpKTtcbiAgICB9XG4gIH0sIGNoYXJ0LCAoYXJncykgPT4ge1xuICAgIGNvbnN0IGV2ZW50ID0gYXJnc1swXTtcbiAgICByZXR1cm4gW2V2ZW50LCBldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZXTtcbiAgfSk7XG4gIGFkZExpc3RlbmVyKGNhbnZhcywgdHlwZSwgcHJveHkpO1xuICByZXR1cm4gcHJveHk7XG59XG5jbGFzcyBEb21QbGF0Zm9ybSBleHRlbmRzIEJhc2VQbGF0Zm9ybSB7XG4gIGFjcXVpcmVDb250ZXh0KGNhbnZhcywgYXNwZWN0UmF0aW8pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzICYmIGNhbnZhcy5nZXRDb250ZXh0ICYmIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY2FudmFzID09PSBjYW52YXMpIHtcbiAgICAgIGluaXRDYW52YXMoY2FudmFzLCBhc3BlY3RSYXRpbyk7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmVsZWFzZUNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgIGlmICghY2FudmFzW0VYUEFORE9fS0VZXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbml0aWFsID0gY2FudmFzW0VYUEFORE9fS0VZXS5pbml0aWFsO1xuICAgIFsnaGVpZ2h0JywgJ3dpZHRoJ10uZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsW3Byb3BdO1xuICAgICAgaWYgKGlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XG4gICAgICAgIGNhbnZhcy5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKHByb3AsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzdHlsZSA9IGluaXRpYWwuc3R5bGUgfHwge307XG4gICAgT2JqZWN0LmtleXMoc3R5bGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgY2FudmFzLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuICAgIH0pO1xuICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICBkZWxldGUgY2FudmFzW0VYUEFORE9fS0VZXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBhZGRFdmVudExpc3RlbmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSk7XG4gICAgY29uc3QgcHJveGllcyA9IGNoYXJ0LiRwcm94aWVzIHx8IChjaGFydC4kcHJveGllcyA9IHt9KTtcbiAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgIGF0dGFjaDogY3JlYXRlQXR0YWNoT2JzZXJ2ZXIsXG4gICAgICBkZXRhY2g6IGNyZWF0ZURldGFjaE9ic2VydmVyLFxuICAgICAgcmVzaXplOiBjcmVhdGVSZXNpemVPYnNlcnZlclxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW3R5cGVdIHx8IGNyZWF0ZVByb3h5QW5kTGlzdGVuO1xuICAgIHByb3hpZXNbdHlwZV0gPSBoYW5kbGVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSkge1xuICAgIGNvbnN0IHByb3hpZXMgPSBjaGFydC4kcHJveGllcyB8fCAoY2hhcnQuJHByb3hpZXMgPSB7fSk7XG4gICAgY29uc3QgcHJveHkgPSBwcm94aWVzW3R5cGVdO1xuICAgIGlmICghcHJveHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICBhdHRhY2g6IHJlbGVhc2VPYnNlcnZlcixcbiAgICAgIGRldGFjaDogcmVsZWFzZU9ic2VydmVyLFxuICAgICAgcmVzaXplOiByZWxlYXNlT2JzZXJ2ZXJcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0eXBlXSB8fCByZW1vdmVMaXN0ZW5lcjtcbiAgICBoYW5kbGVyKGNoYXJ0LCB0eXBlLCBwcm94eSk7XG4gICAgcHJveGllc1t0eXBlXSA9IHVuZGVmaW5lZDtcbiAgfVxuICBnZXREZXZpY2VQaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgfVxuICBnZXRNYXhpbXVtU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gICAgcmV0dXJuIGdldE1heGltdW1TaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCwgYXNwZWN0UmF0aW8pO1xuICB9XG4gIGlzQXR0YWNoZWQoY2FudmFzKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gX2dldFBhcmVudE5vZGUoY2FudmFzKTtcbiAgICByZXR1cm4gISEoY29udGFpbmVyICYmIGNvbnRhaW5lci5pc0Nvbm5lY3RlZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2RldGVjdFBsYXRmb3JtKGNhbnZhcykge1xuICBpZiAoIV9pc0RvbVN1cHBvcnRlZCgpIHx8ICh0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzICE9PSAndW5kZWZpbmVkJyAmJiBjYW52YXMgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpKSB7XG4gICAgcmV0dXJuIEJhc2ljUGxhdGZvcm07XG4gIH1cbiAgcmV0dXJuIERvbVBsYXRmb3JtO1xufVxuXG5jbGFzcyBQbHVnaW5TZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5faW5pdCA9IFtdO1xuICB9XG4gIG5vdGlmeShjaGFydCwgaG9vaywgYXJncywgZmlsdGVyKSB7XG4gICAgaWYgKGhvb2sgPT09ICdiZWZvcmVJbml0Jykge1xuICAgICAgdGhpcy5faW5pdCA9IHRoaXMuX2NyZWF0ZURlc2NyaXB0b3JzKGNoYXJ0LCB0cnVlKTtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLl9pbml0LCBjaGFydCwgJ2luc3RhbGwnKTtcbiAgICB9XG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBmaWx0ZXIgPyB0aGlzLl9kZXNjcmlwdG9ycyhjaGFydCkuZmlsdGVyKGZpbHRlcikgOiB0aGlzLl9kZXNjcmlwdG9ycyhjaGFydCk7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fbm90aWZ5KGRlc2NyaXB0b3JzLCBjaGFydCwgaG9vaywgYXJncyk7XG4gICAgaWYgKGhvb2sgPT09ICdhZnRlckRlc3Ryb3knKSB7XG4gICAgICB0aGlzLl9ub3RpZnkoZGVzY3JpcHRvcnMsIGNoYXJ0LCAnc3RvcCcpO1xuICAgICAgdGhpcy5fbm90aWZ5KHRoaXMuX2luaXQsIGNoYXJ0LCAndW5pbnN0YWxsJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX25vdGlmeShkZXNjcmlwdG9ycywgY2hhcnQsIGhvb2ssIGFyZ3MpIHtcbiAgICBhcmdzID0gYXJncyB8fCB7fTtcbiAgICBmb3IgKGNvbnN0IGRlc2NyaXB0b3Igb2YgZGVzY3JpcHRvcnMpIHtcbiAgICAgIGNvbnN0IHBsdWdpbiA9IGRlc2NyaXB0b3IucGx1Z2luO1xuICAgICAgY29uc3QgbWV0aG9kID0gcGx1Z2luW2hvb2tdO1xuICAgICAgY29uc3QgcGFyYW1zID0gW2NoYXJ0LCBhcmdzLCBkZXNjcmlwdG9yLm9wdGlvbnNdO1xuICAgICAgaWYgKGNhbGxiYWNrKG1ldGhvZCwgcGFyYW1zLCBwbHVnaW4pID09PSBmYWxzZSAmJiBhcmdzLmNhbmNlbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbnZhbGlkYXRlKCkge1xuICAgIGlmICghaXNOdWxsT3JVbmRlZih0aGlzLl9jYWNoZSkpIHtcbiAgICAgIHRoaXMuX29sZENhY2hlID0gdGhpcy5fY2FjaGU7XG4gICAgICB0aGlzLl9jYWNoZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgX2Rlc2NyaXB0b3JzKGNoYXJ0KSB7XG4gICAgaWYgKHRoaXMuX2NhY2hlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2FjaGU7XG4gICAgfVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gdGhpcy5fY2FjaGUgPSB0aGlzLl9jcmVhdGVEZXNjcmlwdG9ycyhjaGFydCk7XG4gICAgdGhpcy5fbm90aWZ5U3RhdGVDaGFuZ2VzKGNoYXJ0KTtcbiAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gIH1cbiAgX2NyZWF0ZURlc2NyaXB0b3JzKGNoYXJ0LCBhbGwpIHtcbiAgICBjb25zdCBjb25maWcgPSBjaGFydCAmJiBjaGFydC5jb25maWc7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHZhbHVlT3JEZWZhdWx0KGNvbmZpZy5vcHRpb25zICYmIGNvbmZpZy5vcHRpb25zLnBsdWdpbnMsIHt9KTtcbiAgICBjb25zdCBwbHVnaW5zID0gYWxsUGx1Z2lucyhjb25maWcpO1xuICAgIHJldHVybiBvcHRpb25zID09PSBmYWxzZSAmJiAhYWxsID8gW10gOiBjcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwgcGx1Z2lucywgb3B0aW9ucywgYWxsKTtcbiAgfVxuICBfbm90aWZ5U3RhdGVDaGFuZ2VzKGNoYXJ0KSB7XG4gICAgY29uc3QgcHJldmlvdXNEZXNjcmlwdG9ycyA9IHRoaXMuX29sZENhY2hlIHx8IFtdO1xuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gdGhpcy5fY2FjaGU7XG4gICAgY29uc3QgZGlmZiA9IChhLCBiKSA9PiBhLmZpbHRlcih4ID0+ICFiLnNvbWUoeSA9PiB4LnBsdWdpbi5pZCA9PT0geS5wbHVnaW4uaWQpKTtcbiAgICB0aGlzLl9ub3RpZnkoZGlmZihwcmV2aW91c0Rlc2NyaXB0b3JzLCBkZXNjcmlwdG9ycyksIGNoYXJ0LCAnc3RvcCcpO1xuICAgIHRoaXMuX25vdGlmeShkaWZmKGRlc2NyaXB0b3JzLCBwcmV2aW91c0Rlc2NyaXB0b3JzKSwgY2hhcnQsICdzdGFydCcpO1xuICB9XG59XG5mdW5jdGlvbiBhbGxQbHVnaW5zKGNvbmZpZykge1xuICBjb25zdCBsb2NhbElkcyA9IHt9O1xuICBjb25zdCBwbHVnaW5zID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWdpc3RyeS5wbHVnaW5zLml0ZW1zKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgcGx1Z2lucy5wdXNoKHJlZ2lzdHJ5LmdldFBsdWdpbihrZXlzW2ldKSk7XG4gIH1cbiAgY29uc3QgbG9jYWwgPSBjb25maWcucGx1Z2lucyB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBsdWdpbiA9IGxvY2FsW2ldO1xuICAgIGlmIChwbHVnaW5zLmluZGV4T2YocGx1Z2luKSA9PT0gLTEpIHtcbiAgICAgIHBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgICAgbG9jYWxJZHNbcGx1Z2luLmlkXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB7cGx1Z2lucywgbG9jYWxJZHN9O1xufVxuZnVuY3Rpb24gZ2V0T3B0cyhvcHRpb25zLCBhbGwpIHtcbiAgaWYgKCFhbGwgJiYgb3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0b3JzKGNoYXJ0LCB7cGx1Z2lucywgbG9jYWxJZHN9LCBvcHRpb25zLCBhbGwpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IGNvbnRleHQgPSBjaGFydC5nZXRDb250ZXh0KCk7XG4gIGZvciAoY29uc3QgcGx1Z2luIG9mIHBsdWdpbnMpIHtcbiAgICBjb25zdCBpZCA9IHBsdWdpbi5pZDtcbiAgICBjb25zdCBvcHRzID0gZ2V0T3B0cyhvcHRpb25zW2lkXSwgYWxsKTtcbiAgICBpZiAob3B0cyA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIHBsdWdpbixcbiAgICAgIG9wdGlvbnM6IHBsdWdpbk9wdHMoY2hhcnQuY29uZmlnLCB7cGx1Z2luLCBsb2NhbDogbG9jYWxJZHNbaWRdfSwgb3B0cywgY29udGV4dClcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcGx1Z2luT3B0cyhjb25maWcsIHtwbHVnaW4sIGxvY2FsfSwgb3B0cywgY29udGV4dCkge1xuICBjb25zdCBrZXlzID0gY29uZmlnLnBsdWdpblNjb3BlS2V5cyhwbHVnaW4pO1xuICBjb25zdCBzY29wZXMgPSBjb25maWcuZ2V0T3B0aW9uU2NvcGVzKG9wdHMsIGtleXMpO1xuICBpZiAobG9jYWwgJiYgcGx1Z2luLmRlZmF1bHRzKSB7XG4gICAgc2NvcGVzLnB1c2gocGx1Z2luLmRlZmF1bHRzKTtcbiAgfVxuICByZXR1cm4gY29uZmlnLmNyZWF0ZVJlc29sdmVyKHNjb3BlcywgY29udGV4dCwgWycnXSwge1xuICAgIHNjcmlwdGFibGU6IGZhbHNlLFxuICAgIGluZGV4YWJsZTogZmFsc2UsXG4gICAgYWxsS2V5czogdHJ1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZXhBeGlzKHR5cGUsIG9wdGlvbnMpIHtcbiAgY29uc3QgZGF0YXNldERlZmF1bHRzID0gZGVmYXVsdHMuZGF0YXNldHNbdHlwZV0gfHwge307XG4gIGNvbnN0IGRhdGFzZXRPcHRpb25zID0gKG9wdGlvbnMuZGF0YXNldHMgfHwge30pW3R5cGVdIHx8IHt9O1xuICByZXR1cm4gZGF0YXNldE9wdGlvbnMuaW5kZXhBeGlzIHx8IG9wdGlvbnMuaW5kZXhBeGlzIHx8IGRhdGFzZXREZWZhdWx0cy5pbmRleEF4aXMgfHwgJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0Zyb21EZWZhdWx0U2NhbGVJRChpZCwgaW5kZXhBeGlzKSB7XG4gIGxldCBheGlzID0gaWQ7XG4gIGlmIChpZCA9PT0gJ19pbmRleF8nKSB7XG4gICAgYXhpcyA9IGluZGV4QXhpcztcbiAgfSBlbHNlIGlmIChpZCA9PT0gJ192YWx1ZV8nKSB7XG4gICAgYXhpcyA9IGluZGV4QXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xuICB9XG4gIHJldHVybiBheGlzO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNjYWxlSURGcm9tQXhpcyhheGlzLCBpbmRleEF4aXMpIHtcbiAgcmV0dXJuIGF4aXMgPT09IGluZGV4QXhpcyA/ICdfaW5kZXhfJyA6ICdfdmFsdWVfJztcbn1cbmZ1bmN0aW9uIGF4aXNGcm9tUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgaWYgKHBvc2l0aW9uID09PSAndG9wJyB8fCBwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICByZXR1cm4gJ3gnO1xuICB9XG4gIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgcmV0dXJuICd5JztcbiAgfVxufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQXhpcyhpZCwgc2NhbGVPcHRpb25zKSB7XG4gIGlmIChpZCA9PT0gJ3gnIHx8IGlkID09PSAneScpIHtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgcmV0dXJuIHNjYWxlT3B0aW9ucy5heGlzIHx8IGF4aXNGcm9tUG9zaXRpb24oc2NhbGVPcHRpb25zLnBvc2l0aW9uKSB8fCBpZC5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIG1lcmdlU2NhbGVDb25maWcoY29uZmlnLCBvcHRpb25zKSB7XG4gIGNvbnN0IGNoYXJ0RGVmYXVsdHMgPSBvdmVycmlkZXNbY29uZmlnLnR5cGVdIHx8IHtzY2FsZXM6IHt9fTtcbiAgY29uc3QgY29uZmlnU2NhbGVzID0gb3B0aW9ucy5zY2FsZXMgfHwge307XG4gIGNvbnN0IGNoYXJ0SW5kZXhBeGlzID0gZ2V0SW5kZXhBeGlzKGNvbmZpZy50eXBlLCBvcHRpb25zKTtcbiAgY29uc3QgZmlyc3RJRHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCBzY2FsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBPYmplY3Qua2V5cyhjb25maWdTY2FsZXMpLmZvckVhY2goaWQgPT4ge1xuICAgIGNvbnN0IHNjYWxlQ29uZiA9IGNvbmZpZ1NjYWxlc1tpZF07XG4gICAgaWYgKCFpc09iamVjdChzY2FsZUNvbmYpKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcihgSW52YWxpZCBzY2FsZSBjb25maWd1cmF0aW9uIGZvciBzY2FsZTogJHtpZH1gKTtcbiAgICB9XG4gICAgaWYgKHNjYWxlQ29uZi5fcHJveHkpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLndhcm4oYElnbm9yaW5nIHJlc29sdmVyIHBhc3NlZCBhcyBvcHRpb25zIGZvciBzY2FsZTogJHtpZH1gKTtcbiAgICB9XG4gICAgY29uc3QgYXhpcyA9IGRldGVybWluZUF4aXMoaWQsIHNjYWxlQ29uZik7XG4gICAgY29uc3QgZGVmYXVsdElkID0gZ2V0RGVmYXVsdFNjYWxlSURGcm9tQXhpcyhheGlzLCBjaGFydEluZGV4QXhpcyk7XG4gICAgY29uc3QgZGVmYXVsdFNjYWxlT3B0aW9ucyA9IGNoYXJ0RGVmYXVsdHMuc2NhbGVzIHx8IHt9O1xuICAgIGZpcnN0SURzW2F4aXNdID0gZmlyc3RJRHNbYXhpc10gfHwgaWQ7XG4gICAgc2NhbGVzW2lkXSA9IG1lcmdlSWYoT2JqZWN0LmNyZWF0ZShudWxsKSwgW3theGlzfSwgc2NhbGVDb25mLCBkZWZhdWx0U2NhbGVPcHRpb25zW2F4aXNdLCBkZWZhdWx0U2NhbGVPcHRpb25zW2RlZmF1bHRJZF1dKTtcbiAgfSk7XG4gIGNvbmZpZy5kYXRhLmRhdGFzZXRzLmZvckVhY2goZGF0YXNldCA9PiB7XG4gICAgY29uc3QgdHlwZSA9IGRhdGFzZXQudHlwZSB8fCBjb25maWcudHlwZTtcbiAgICBjb25zdCBpbmRleEF4aXMgPSBkYXRhc2V0LmluZGV4QXhpcyB8fCBnZXRJbmRleEF4aXModHlwZSwgb3B0aW9ucyk7XG4gICAgY29uc3QgZGF0YXNldERlZmF1bHRzID0gb3ZlcnJpZGVzW3R5cGVdIHx8IHt9O1xuICAgIGNvbnN0IGRlZmF1bHRTY2FsZU9wdGlvbnMgPSBkYXRhc2V0RGVmYXVsdHMuc2NhbGVzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGRlZmF1bHRTY2FsZU9wdGlvbnMpLmZvckVhY2goZGVmYXVsdElEID0+IHtcbiAgICAgIGNvbnN0IGF4aXMgPSBnZXRBeGlzRnJvbURlZmF1bHRTY2FsZUlEKGRlZmF1bHRJRCwgaW5kZXhBeGlzKTtcbiAgICAgIGNvbnN0IGlkID0gZGF0YXNldFtheGlzICsgJ0F4aXNJRCddIHx8IGZpcnN0SURzW2F4aXNdIHx8IGF4aXM7XG4gICAgICBzY2FsZXNbaWRdID0gc2NhbGVzW2lkXSB8fCBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgbWVyZ2VJZihzY2FsZXNbaWRdLCBbe2F4aXN9LCBjb25maWdTY2FsZXNbaWRdLCBkZWZhdWx0U2NhbGVPcHRpb25zW2RlZmF1bHRJRF1dKTtcbiAgICB9KTtcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHNjYWxlcykuZm9yRWFjaChrZXkgPT4ge1xuICAgIGNvbnN0IHNjYWxlID0gc2NhbGVzW2tleV07XG4gICAgbWVyZ2VJZihzY2FsZSwgW2RlZmF1bHRzLnNjYWxlc1tzY2FsZS50eXBlXSwgZGVmYXVsdHMuc2NhbGVdKTtcbiAgfSk7XG4gIHJldHVybiBzY2FsZXM7XG59XG5mdW5jdGlvbiBpbml0T3B0aW9ucyhjb25maWcpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbmZpZy5vcHRpb25zIHx8IChjb25maWcub3B0aW9ucyA9IHt9KTtcbiAgb3B0aW9ucy5wbHVnaW5zID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5wbHVnaW5zLCB7fSk7XG4gIG9wdGlvbnMuc2NhbGVzID0gbWVyZ2VTY2FsZUNvbmZpZyhjb25maWcsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gaW5pdERhdGEoZGF0YSkge1xuICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgZGF0YS5kYXRhc2V0cyA9IGRhdGEuZGF0YXNldHMgfHwgW107XG4gIGRhdGEubGFiZWxzID0gZGF0YS5sYWJlbHMgfHwgW107XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gaW5pdENvbmZpZyhjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICBjb25maWcuZGF0YSA9IGluaXREYXRhKGNvbmZpZy5kYXRhKTtcbiAgaW5pdE9wdGlvbnMoY29uZmlnKTtcbiAgcmV0dXJuIGNvbmZpZztcbn1cbmNvbnN0IGtleUNhY2hlID0gbmV3IE1hcCgpO1xuY29uc3Qga2V5c0NhY2hlZCA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIGNhY2hlZEtleXMoY2FjaGVLZXksIGdlbmVyYXRlKSB7XG4gIGxldCBrZXlzID0ga2V5Q2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgaWYgKCFrZXlzKSB7XG4gICAga2V5cyA9IGdlbmVyYXRlKCk7XG4gICAga2V5Q2FjaGUuc2V0KGNhY2hlS2V5LCBrZXlzKTtcbiAgICBrZXlzQ2FjaGVkLmFkZChrZXlzKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cbmNvbnN0IGFkZElmRm91bmQgPSAoc2V0LCBvYmosIGtleSkgPT4ge1xuICBjb25zdCBvcHRzID0gcmVzb2x2ZU9iamVjdEtleShvYmosIGtleSk7XG4gIGlmIChvcHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICBzZXQuYWRkKG9wdHMpO1xuICB9XG59O1xuY2xhc3MgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5fY29uZmlnID0gaW5pdENvbmZpZyhjb25maWcpO1xuICAgIHRoaXMuX3Njb3BlQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fcmVzb2x2ZXJDYWNoZSA9IG5ldyBNYXAoKTtcbiAgfVxuICBnZXQgcGxhdGZvcm0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5wbGF0Zm9ybTtcbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLnR5cGU7XG4gIH1cbiAgc2V0IHR5cGUodHlwZSkge1xuICAgIHRoaXMuX2NvbmZpZy50eXBlID0gdHlwZTtcbiAgfVxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLmRhdGE7XG4gIH1cbiAgc2V0IGRhdGEoZGF0YSkge1xuICAgIHRoaXMuX2NvbmZpZy5kYXRhID0gaW5pdERhdGEoZGF0YSk7XG4gIH1cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5vcHRpb25zO1xuICB9XG4gIHNldCBvcHRpb25zKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9jb25maWcub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgZ2V0IHBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5wbHVnaW5zO1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWc7XG4gICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgaW5pdE9wdGlvbnMoY29uZmlnKTtcbiAgfVxuICBjbGVhckNhY2hlKCkge1xuICAgIHRoaXMuX3Njb3BlQ2FjaGUuY2xlYXIoKTtcbiAgICB0aGlzLl9yZXNvbHZlckNhY2hlLmNsZWFyKCk7XG4gIH1cbiAgZGF0YXNldFNjb3BlS2V5cyhkYXRhc2V0VHlwZSkge1xuICAgIHJldHVybiBjYWNoZWRLZXlzKGRhdGFzZXRUeXBlLFxuICAgICAgKCkgPT4gW1tcbiAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9YCxcbiAgICAgICAgJydcbiAgICAgIF1dKTtcbiAgfVxuICBkYXRhc2V0QW5pbWF0aW9uU2NvcGVLZXlzKGRhdGFzZXRUeXBlLCB0cmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIGNhY2hlZEtleXMoYCR7ZGF0YXNldFR5cGV9LnRyYW5zaXRpb24uJHt0cmFuc2l0aW9ufWAsXG4gICAgICAoKSA9PiBbXG4gICAgICAgIFtcbiAgICAgICAgICBgZGF0YXNldHMuJHtkYXRhc2V0VHlwZX0udHJhbnNpdGlvbnMuJHt0cmFuc2l0aW9ufWAsXG4gICAgICAgICAgYHRyYW5zaXRpb25zLiR7dHJhbnNpdGlvbn1gLFxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9YCxcbiAgICAgICAgICAnJ1xuICAgICAgICBdXG4gICAgICBdKTtcbiAgfVxuICBkYXRhc2V0RWxlbWVudFNjb3BlS2V5cyhkYXRhc2V0VHlwZSwgZWxlbWVudFR5cGUpIHtcbiAgICByZXR1cm4gY2FjaGVkS2V5cyhgJHtkYXRhc2V0VHlwZX0tJHtlbGVtZW50VHlwZX1gLFxuICAgICAgKCkgPT4gW1tcbiAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9LmVsZW1lbnRzLiR7ZWxlbWVudFR5cGV9YCxcbiAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9YCxcbiAgICAgICAgYGVsZW1lbnRzLiR7ZWxlbWVudFR5cGV9YCxcbiAgICAgICAgJydcbiAgICAgIF1dKTtcbiAgfVxuICBwbHVnaW5TY29wZUtleXMocGx1Z2luKSB7XG4gICAgY29uc3QgaWQgPSBwbHVnaW4uaWQ7XG4gICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICByZXR1cm4gY2FjaGVkS2V5cyhgJHt0eXBlfS1wbHVnaW4tJHtpZH1gLFxuICAgICAgKCkgPT4gW1tcbiAgICAgICAgYHBsdWdpbnMuJHtpZH1gLFxuICAgICAgICAuLi5wbHVnaW4uYWRkaXRpb25hbE9wdGlvblNjb3BlcyB8fCBbXSxcbiAgICAgIF1dKTtcbiAgfVxuICBfY2FjaGVkU2NvcGVzKG1haW5TY29wZSwgcmVzZXRDYWNoZSkge1xuICAgIGNvbnN0IF9zY29wZUNhY2hlID0gdGhpcy5fc2NvcGVDYWNoZTtcbiAgICBsZXQgY2FjaGUgPSBfc2NvcGVDYWNoZS5nZXQobWFpblNjb3BlKTtcbiAgICBpZiAoIWNhY2hlIHx8IHJlc2V0Q2FjaGUpIHtcbiAgICAgIGNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgX3Njb3BlQ2FjaGUuc2V0KG1haW5TY29wZSwgY2FjaGUpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGU7XG4gIH1cbiAgZ2V0T3B0aW9uU2NvcGVzKG1haW5TY29wZSwga2V5TGlzdHMsIHJlc2V0Q2FjaGUpIHtcbiAgICBjb25zdCB7b3B0aW9ucywgdHlwZX0gPSB0aGlzO1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGVkU2NvcGVzKG1haW5TY29wZSwgcmVzZXRDYWNoZSk7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleUxpc3RzKTtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVkO1xuICAgIH1cbiAgICBjb25zdCBzY29wZXMgPSBuZXcgU2V0KCk7XG4gICAga2V5TGlzdHMuZm9yRWFjaChrZXlzID0+IHtcbiAgICAgIGlmIChtYWluU2NvcGUpIHtcbiAgICAgICAgc2NvcGVzLmFkZChtYWluU2NvcGUpO1xuICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IGFkZElmRm91bmQoc2NvcGVzLCBtYWluU2NvcGUsIGtleSkpO1xuICAgICAgfVxuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiBhZGRJZkZvdW5kKHNjb3Blcywgb3B0aW9ucywga2V5KSk7XG4gICAgICBrZXlzLmZvckVhY2goa2V5ID0+IGFkZElmRm91bmQoc2NvcGVzLCBvdmVycmlkZXNbdHlwZV0gfHwge30sIGtleSkpO1xuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiBhZGRJZkZvdW5kKHNjb3BlcywgZGVmYXVsdHMsIGtleSkpO1xuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiBhZGRJZkZvdW5kKHNjb3BlcywgZGVzY3JpcHRvcnMsIGtleSkpO1xuICAgIH0pO1xuICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuZnJvbShzY29wZXMpO1xuICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgIGFycmF5LnB1c2goT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgfVxuICAgIGlmIChrZXlzQ2FjaGVkLmhhcyhrZXlMaXN0cykpIHtcbiAgICAgIGNhY2hlLnNldChrZXlMaXN0cywgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgY2hhcnRPcHRpb25TY29wZXMoKSB7XG4gICAgY29uc3Qge29wdGlvbnMsIHR5cGV9ID0gdGhpcztcbiAgICByZXR1cm4gW1xuICAgICAgb3B0aW9ucyxcbiAgICAgIG92ZXJyaWRlc1t0eXBlXSB8fCB7fSxcbiAgICAgIGRlZmF1bHRzLmRhdGFzZXRzW3R5cGVdIHx8IHt9LFxuICAgICAge3R5cGV9LFxuICAgICAgZGVmYXVsdHMsXG4gICAgICBkZXNjcmlwdG9yc1xuICAgIF07XG4gIH1cbiAgcmVzb2x2ZU5hbWVkT3B0aW9ucyhzY29wZXMsIG5hbWVzLCBjb250ZXh0LCBwcmVmaXhlcyA9IFsnJ10pIHtcbiAgICBjb25zdCByZXN1bHQgPSB7JHNoYXJlZDogdHJ1ZX07XG4gICAgY29uc3Qge3Jlc29sdmVyLCBzdWJQcmVmaXhlc30gPSBnZXRSZXNvbHZlcih0aGlzLl9yZXNvbHZlckNhY2hlLCBzY29wZXMsIHByZWZpeGVzKTtcbiAgICBsZXQgb3B0aW9ucyA9IHJlc29sdmVyO1xuICAgIGlmIChuZWVkQ29udGV4dChyZXNvbHZlciwgbmFtZXMpKSB7XG4gICAgICByZXN1bHQuJHNoYXJlZCA9IGZhbHNlO1xuICAgICAgY29udGV4dCA9IGlzRnVuY3Rpb24oY29udGV4dCkgPyBjb250ZXh0KCkgOiBjb250ZXh0O1xuICAgICAgY29uc3Qgc3ViUmVzb2x2ZXIgPSB0aGlzLmNyZWF0ZVJlc29sdmVyKHNjb3BlcywgY29udGV4dCwgc3ViUHJlZml4ZXMpO1xuICAgICAgb3B0aW9ucyA9IF9hdHRhY2hDb250ZXh0KHJlc29sdmVyLCBjb250ZXh0LCBzdWJSZXNvbHZlcik7XG4gICAgfVxuICAgIGZvciAoY29uc3QgcHJvcCBvZiBuYW1lcykge1xuICAgICAgcmVzdWx0W3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBjcmVhdGVSZXNvbHZlcihzY29wZXMsIGNvbnRleHQsIHByZWZpeGVzID0gWycnXSwgZGVzY3JpcHRvckRlZmF1bHRzKSB7XG4gICAgY29uc3Qge3Jlc29sdmVyfSA9IGdldFJlc29sdmVyKHRoaXMuX3Jlc29sdmVyQ2FjaGUsIHNjb3BlcywgcHJlZml4ZXMpO1xuICAgIHJldHVybiBpc09iamVjdChjb250ZXh0KVxuICAgICAgPyBfYXR0YWNoQ29udGV4dChyZXNvbHZlciwgY29udGV4dCwgdW5kZWZpbmVkLCBkZXNjcmlwdG9yRGVmYXVsdHMpXG4gICAgICA6IHJlc29sdmVyO1xuICB9XG59XG5mdW5jdGlvbiBnZXRSZXNvbHZlcihyZXNvbHZlckNhY2hlLCBzY29wZXMsIHByZWZpeGVzKSB7XG4gIGxldCBjYWNoZSA9IHJlc29sdmVyQ2FjaGUuZ2V0KHNjb3Blcyk7XG4gIGlmICghY2FjaGUpIHtcbiAgICBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICByZXNvbHZlckNhY2hlLnNldChzY29wZXMsIGNhY2hlKTtcbiAgfVxuICBjb25zdCBjYWNoZUtleSA9IHByZWZpeGVzLmpvaW4oKTtcbiAgbGV0IGNhY2hlZCA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmICghY2FjaGVkKSB7XG4gICAgY29uc3QgcmVzb2x2ZXIgPSBfY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCBwcmVmaXhlcyk7XG4gICAgY2FjaGVkID0ge1xuICAgICAgcmVzb2x2ZXIsXG4gICAgICBzdWJQcmVmaXhlczogcHJlZml4ZXMuZmlsdGVyKHAgPT4gIXAudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaG92ZXInKSlcbiAgICB9O1xuICAgIGNhY2hlLnNldChjYWNoZUtleSwgY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gY2FjaGVkO1xufVxuY29uc3QgaGFzRnVuY3Rpb24gPSB2YWx1ZSA9PiBpc09iamVjdCh2YWx1ZSlcbiAgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYyB8fCBpc0Z1bmN0aW9uKHZhbHVlW2tleV0pLCBmYWxzZSk7XG5mdW5jdGlvbiBuZWVkQ29udGV4dChwcm94eSwgbmFtZXMpIHtcbiAgY29uc3Qge2lzU2NyaXB0YWJsZSwgaXNJbmRleGFibGV9ID0gX2Rlc2NyaXB0b3JzKHByb3h5KTtcbiAgZm9yIChjb25zdCBwcm9wIG9mIG5hbWVzKSB7XG4gICAgY29uc3Qgc2NyaXB0YWJsZSA9IGlzU2NyaXB0YWJsZShwcm9wKTtcbiAgICBjb25zdCBpbmRleGFibGUgPSBpc0luZGV4YWJsZShwcm9wKTtcbiAgICBjb25zdCB2YWx1ZSA9IChpbmRleGFibGUgfHwgc2NyaXB0YWJsZSkgJiYgcHJveHlbcHJvcF07XG4gICAgaWYgKChzY3JpcHRhYmxlICYmIChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBoYXNGdW5jdGlvbih2YWx1ZSkpKVxuICAgICAgfHwgKGluZGV4YWJsZSAmJiBpc0FycmF5KHZhbHVlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciB2ZXJzaW9uID0gXCIzLjkuMVwiO1xuXG5jb25zdCBLTk9XTl9QT1NJVElPTlMgPSBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICdjaGFydEFyZWEnXTtcbmZ1bmN0aW9uIHBvc2l0aW9uSXNIb3Jpem9udGFsKHBvc2l0aW9uLCBheGlzKSB7XG4gIHJldHVybiBwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nIHx8IChLTk9XTl9QT1NJVElPTlMuaW5kZXhPZihwb3NpdGlvbikgPT09IC0xICYmIGF4aXMgPT09ICd4Jyk7XG59XG5mdW5jdGlvbiBjb21wYXJlMkxldmVsKGwxLCBsMikge1xuICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhW2wxXSA9PT0gYltsMV1cbiAgICAgID8gYVtsMl0gLSBiW2wyXVxuICAgICAgOiBhW2wxXSAtIGJbbDFdO1xuICB9O1xufVxuZnVuY3Rpb24gb25BbmltYXRpb25zQ29tcGxldGUoY29udGV4dCkge1xuICBjb25zdCBjaGFydCA9IGNvbnRleHQuY2hhcnQ7XG4gIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSBjaGFydC5vcHRpb25zLmFuaW1hdGlvbjtcbiAgY2hhcnQubm90aWZ5UGx1Z2lucygnYWZ0ZXJSZW5kZXInKTtcbiAgY2FsbGJhY2soYW5pbWF0aW9uT3B0aW9ucyAmJiBhbmltYXRpb25PcHRpb25zLm9uQ29tcGxldGUsIFtjb250ZXh0XSwgY2hhcnQpO1xufVxuZnVuY3Rpb24gb25BbmltYXRpb25Qcm9ncmVzcyhjb250ZXh0KSB7XG4gIGNvbnN0IGNoYXJ0ID0gY29udGV4dC5jaGFydDtcbiAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMuYW5pbWF0aW9uO1xuICBjYWxsYmFjayhhbmltYXRpb25PcHRpb25zICYmIGFuaW1hdGlvbk9wdGlvbnMub25Qcm9ncmVzcywgW2NvbnRleHRdLCBjaGFydCk7XG59XG5mdW5jdGlvbiBnZXRDYW52YXMoaXRlbSkge1xuICBpZiAoX2lzRG9tU3VwcG9ydGVkKCkgJiYgdHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgaXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW0pO1xuICB9IGVsc2UgaWYgKGl0ZW0gJiYgaXRlbS5sZW5ndGgpIHtcbiAgICBpdGVtID0gaXRlbVswXTtcbiAgfVxuICBpZiAoaXRlbSAmJiBpdGVtLmNhbnZhcykge1xuICAgIGl0ZW0gPSBpdGVtLmNhbnZhcztcbiAgfVxuICByZXR1cm4gaXRlbTtcbn1cbmNvbnN0IGluc3RhbmNlcyA9IHt9O1xuY29uc3QgZ2V0Q2hhcnQgPSAoa2V5KSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcyhrZXkpO1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhpbnN0YW5jZXMpLmZpbHRlcigoYykgPT4gYy5jYW52YXMgPT09IGNhbnZhcykucG9wKCk7XG59O1xuZnVuY3Rpb24gbW92ZU51bWVyaWNLZXlzKG9iaiwgc3RhcnQsIG1vdmUpIHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBjb25zdCBpbnRLZXkgPSAra2V5O1xuICAgIGlmIChpbnRLZXkgPj0gc3RhcnQpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICBkZWxldGUgb2JqW2tleV07XG4gICAgICBpZiAobW92ZSA+IDAgfHwgaW50S2V5ID4gc3RhcnQpIHtcbiAgICAgICAgb2JqW2ludEtleSArIG1vdmVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVMYXN0RXZlbnQoZSwgbGFzdEV2ZW50LCBpbkNoYXJ0QXJlYSwgaXNDbGljaykge1xuICBpZiAoIWluQ2hhcnRBcmVhIHx8IGUudHlwZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChpc0NsaWNrKSB7XG4gICAgcmV0dXJuIGxhc3RFdmVudDtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmNsYXNzIENoYXJ0IHtcbiAgY29uc3RydWN0b3IoaXRlbSwgdXNlckNvbmZpZykge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnID0gbmV3IENvbmZpZyh1c2VyQ29uZmlnKTtcbiAgICBjb25zdCBpbml0aWFsQ2FudmFzID0gZ2V0Q2FudmFzKGl0ZW0pO1xuICAgIGNvbnN0IGV4aXN0aW5nQ2hhcnQgPSBnZXRDaGFydChpbml0aWFsQ2FudmFzKTtcbiAgICBpZiAoZXhpc3RpbmdDaGFydCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2FudmFzIGlzIGFscmVhZHkgaW4gdXNlLiBDaGFydCB3aXRoIElEIFxcJycgKyBleGlzdGluZ0NoYXJ0LmlkICsgJ1xcJycgK1xuXHRcdFx0XHQnIG11c3QgYmUgZGVzdHJveWVkIGJlZm9yZSB0aGUgY2FudmFzIHdpdGggSUQgXFwnJyArIGV4aXN0aW5nQ2hhcnQuY2FudmFzLmlkICsgJ1xcJyBjYW4gYmUgcmV1c2VkLidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG9wdGlvbnMgPSBjb25maWcuY3JlYXRlUmVzb2x2ZXIoY29uZmlnLmNoYXJ0T3B0aW9uU2NvcGVzKCksIHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICB0aGlzLnBsYXRmb3JtID0gbmV3IChjb25maWcucGxhdGZvcm0gfHwgX2RldGVjdFBsYXRmb3JtKGluaXRpYWxDYW52YXMpKSgpO1xuICAgIHRoaXMucGxhdGZvcm0udXBkYXRlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGxhdGZvcm0uYWNxdWlyZUNvbnRleHQoaW5pdGlhbENhbnZhcywgb3B0aW9ucy5hc3BlY3RSYXRpbyk7XG4gICAgY29uc3QgY2FudmFzID0gY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcztcbiAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMgJiYgY2FudmFzLmhlaWdodDtcbiAgICBjb25zdCB3aWR0aCA9IGNhbnZhcyAmJiBjYW52YXMud2lkdGg7XG4gICAgdGhpcy5pZCA9IHVpZCgpO1xuICAgIHRoaXMuY3R4ID0gY29udGV4dDtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fYXNwZWN0UmF0aW8gPSB0aGlzLmFzcGVjdFJhdGlvO1xuICAgIHRoaXMuX2xheWVycyA9IFtdO1xuICAgIHRoaXMuX21ldGFzZXRzID0gW107XG4gICAgdGhpcy5fc3RhY2tzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYm94ZXMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2hhcnRBcmVhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2FjdGl2ZSA9IFtdO1xuICAgIHRoaXMuX2xhc3RFdmVudCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3NvcnRlZE1ldGFzZXRzID0gW107XG4gICAgdGhpcy5zY2FsZXMgPSB7fTtcbiAgICB0aGlzLl9wbHVnaW5zID0gbmV3IFBsdWdpblNlcnZpY2UoKTtcbiAgICB0aGlzLiRwcm94aWVzID0ge307XG4gICAgdGhpcy5faGlkZGVuSW5kaWNlcyA9IHt9O1xuICAgIHRoaXMuYXR0YWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9hbmltYXRpb25zRGlzYWJsZWQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy4kY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kb1Jlc2l6ZSA9IGRlYm91bmNlKG1vZGUgPT4gdGhpcy51cGRhdGUobW9kZSksIG9wdGlvbnMucmVzaXplRGVsYXkgfHwgMCk7XG4gICAgdGhpcy5fZGF0YUNoYW5nZXMgPSBbXTtcbiAgICBpbnN0YW5jZXNbdGhpcy5pZF0gPSB0aGlzO1xuICAgIGlmICghY29udGV4dCB8fCAhY2FudmFzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBjaGFydDogY2FuJ3QgYWNxdWlyZSBjb250ZXh0IGZyb20gdGhlIGdpdmVuIGl0ZW1cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFuaW1hdG9yLmxpc3Rlbih0aGlzLCAnY29tcGxldGUnLCBvbkFuaW1hdGlvbnNDb21wbGV0ZSk7XG4gICAgYW5pbWF0b3IubGlzdGVuKHRoaXMsICdwcm9ncmVzcycsIG9uQW5pbWF0aW9uUHJvZ3Jlc3MpO1xuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICBpZiAodGhpcy5hdHRhY2hlZCkge1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFzcGVjdFJhdGlvKCkge1xuICAgIGNvbnN0IHtvcHRpb25zOiB7YXNwZWN0UmF0aW8sIG1haW50YWluQXNwZWN0UmF0aW99LCB3aWR0aCwgaGVpZ2h0LCBfYXNwZWN0UmF0aW99ID0gdGhpcztcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWYoYXNwZWN0UmF0aW8pKSB7XG4gICAgICByZXR1cm4gYXNwZWN0UmF0aW87XG4gICAgfVxuICAgIGlmIChtYWludGFpbkFzcGVjdFJhdGlvICYmIF9hc3BlY3RSYXRpbykge1xuICAgICAgcmV0dXJuIF9hc3BlY3RSYXRpbztcbiAgICB9XG4gICAgcmV0dXJuIGhlaWdodCA/IHdpZHRoIC8gaGVpZ2h0IDogbnVsbDtcbiAgfVxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YTtcbiAgfVxuICBzZXQgZGF0YShkYXRhKSB7XG4gICAgdGhpcy5jb25maWcuZGF0YSA9IGRhdGE7XG4gIH1cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gIH1cbiAgc2V0IG9wdGlvbnMob3B0aW9ucykge1xuICAgIHRoaXMuY29uZmlnLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIF9pbml0aWFsaXplKCkge1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlSW5pdCcpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0aW5hU2NhbGUodGhpcywgdGhpcy5vcHRpb25zLmRldmljZVBpeGVsUmF0aW8pO1xuICAgIH1cbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVySW5pdCcpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNsZWFyKCkge1xuICAgIGNsZWFyQ2FudmFzKHRoaXMuY2FudmFzLCB0aGlzLmN0eCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBhbmltYXRvci5zdG9wKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgaWYgKCFhbmltYXRvci5ydW5uaW5nKHRoaXMpKSB7XG4gICAgICB0aGlzLl9yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXcgPSB7d2lkdGgsIGhlaWdodH07XG4gICAgfVxuICB9XG4gIF9yZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBvcHRpb25zLm1haW50YWluQXNwZWN0UmF0aW8gJiYgdGhpcy5hc3BlY3RSYXRpbztcbiAgICBjb25zdCBuZXdTaXplID0gdGhpcy5wbGF0Zm9ybS5nZXRNYXhpbXVtU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKTtcbiAgICBjb25zdCBuZXdSYXRpbyA9IG9wdGlvbnMuZGV2aWNlUGl4ZWxSYXRpbyB8fCB0aGlzLnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKTtcbiAgICBjb25zdCBtb2RlID0gdGhpcy53aWR0aCA/ICdyZXNpemUnIDogJ2F0dGFjaCc7XG4gICAgdGhpcy53aWR0aCA9IG5ld1NpemUud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBuZXdTaXplLmhlaWdodDtcbiAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IHRoaXMuYXNwZWN0UmF0aW87XG4gICAgaWYgKCFyZXRpbmFTY2FsZSh0aGlzLCBuZXdSYXRpbywgdHJ1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdyZXNpemUnLCB7c2l6ZTogbmV3U2l6ZX0pO1xuICAgIGNhbGxiYWNrKG9wdGlvbnMub25SZXNpemUsIFt0aGlzLCBuZXdTaXplXSwgdGhpcyk7XG4gICAgaWYgKHRoaXMuYXR0YWNoZWQpIHtcbiAgICAgIGlmICh0aGlzLl9kb1Jlc2l6ZShtb2RlKSkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbnN1cmVTY2FsZXNIYXZlSURzKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qgc2NhbGVzT3B0aW9ucyA9IG9wdGlvbnMuc2NhbGVzIHx8IHt9O1xuICAgIGVhY2goc2NhbGVzT3B0aW9ucywgKGF4aXNPcHRpb25zLCBheGlzSUQpID0+IHtcbiAgICAgIGF4aXNPcHRpb25zLmlkID0gYXhpc0lEO1xuICAgIH0pO1xuICB9XG4gIGJ1aWxkT3JVcGRhdGVTY2FsZXMoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBzY2FsZU9wdHMgPSBvcHRpb25zLnNjYWxlcztcbiAgICBjb25zdCBzY2FsZXMgPSB0aGlzLnNjYWxlcztcbiAgICBjb25zdCB1cGRhdGVkID0gT2JqZWN0LmtleXMoc2NhbGVzKS5yZWR1Y2UoKG9iaiwgaWQpID0+IHtcbiAgICAgIG9ialtpZF0gPSBmYWxzZTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge30pO1xuICAgIGxldCBpdGVtcyA9IFtdO1xuICAgIGlmIChzY2FsZU9wdHMpIHtcbiAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KFxuICAgICAgICBPYmplY3Qua2V5cyhzY2FsZU9wdHMpLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSBzY2FsZU9wdHNbaWRdO1xuICAgICAgICAgIGNvbnN0IGF4aXMgPSBkZXRlcm1pbmVBeGlzKGlkLCBzY2FsZU9wdGlvbnMpO1xuICAgICAgICAgIGNvbnN0IGlzUmFkaWFsID0gYXhpcyA9PT0gJ3InO1xuICAgICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IGF4aXMgPT09ICd4JztcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3B0aW9uczogc2NhbGVPcHRpb25zLFxuICAgICAgICAgICAgZHBvc2l0aW9uOiBpc1JhZGlhbCA/ICdjaGFydEFyZWEnIDogaXNIb3Jpem9udGFsID8gJ2JvdHRvbScgOiAnbGVmdCcsXG4gICAgICAgICAgICBkdHlwZTogaXNSYWRpYWwgPyAncmFkaWFsTGluZWFyJyA6IGlzSG9yaXpvbnRhbCA/ICdjYXRlZ29yeScgOiAnbGluZWFyJ1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBlYWNoKGl0ZW1zLCAoaXRlbSkgPT4ge1xuICAgICAgY29uc3Qgc2NhbGVPcHRpb25zID0gaXRlbS5vcHRpb25zO1xuICAgICAgY29uc3QgaWQgPSBzY2FsZU9wdGlvbnMuaWQ7XG4gICAgICBjb25zdCBheGlzID0gZGV0ZXJtaW5lQXhpcyhpZCwgc2NhbGVPcHRpb25zKTtcbiAgICAgIGNvbnN0IHNjYWxlVHlwZSA9IHZhbHVlT3JEZWZhdWx0KHNjYWxlT3B0aW9ucy50eXBlLCBpdGVtLmR0eXBlKTtcbiAgICAgIGlmIChzY2FsZU9wdGlvbnMucG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbklzSG9yaXpvbnRhbChzY2FsZU9wdGlvbnMucG9zaXRpb24sIGF4aXMpICE9PSBwb3NpdGlvbklzSG9yaXpvbnRhbChpdGVtLmRwb3NpdGlvbikpIHtcbiAgICAgICAgc2NhbGVPcHRpb25zLnBvc2l0aW9uID0gaXRlbS5kcG9zaXRpb247XG4gICAgICB9XG4gICAgICB1cGRhdGVkW2lkXSA9IHRydWU7XG4gICAgICBsZXQgc2NhbGUgPSBudWxsO1xuICAgICAgaWYgKGlkIGluIHNjYWxlcyAmJiBzY2FsZXNbaWRdLnR5cGUgPT09IHNjYWxlVHlwZSkge1xuICAgICAgICBzY2FsZSA9IHNjYWxlc1tpZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzY2FsZUNsYXNzID0gcmVnaXN0cnkuZ2V0U2NhbGUoc2NhbGVUeXBlKTtcbiAgICAgICAgc2NhbGUgPSBuZXcgc2NhbGVDbGFzcyh7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdHlwZTogc2NhbGVUeXBlLFxuICAgICAgICAgIGN0eDogdGhpcy5jdHgsXG4gICAgICAgICAgY2hhcnQ6IHRoaXNcbiAgICAgICAgfSk7XG4gICAgICAgIHNjYWxlc1tzY2FsZS5pZF0gPSBzY2FsZTtcbiAgICAgIH1cbiAgICAgIHNjYWxlLmluaXQoc2NhbGVPcHRpb25zLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgICBlYWNoKHVwZGF0ZWQsIChoYXNVcGRhdGVkLCBpZCkgPT4ge1xuICAgICAgaWYgKCFoYXNVcGRhdGVkKSB7XG4gICAgICAgIGRlbGV0ZSBzY2FsZXNbaWRdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGVhY2goc2NhbGVzLCAoc2NhbGUpID0+IHtcbiAgICAgIGxheW91dHMuY29uZmlndXJlKHRoaXMsIHNjYWxlLCBzY2FsZS5vcHRpb25zKTtcbiAgICAgIGxheW91dHMuYWRkQm94KHRoaXMsIHNjYWxlKTtcbiAgICB9KTtcbiAgfVxuICBfdXBkYXRlTWV0YXNldHMoKSB7XG4gICAgY29uc3QgbWV0YXNldHMgPSB0aGlzLl9tZXRhc2V0cztcbiAgICBjb25zdCBudW1EYXRhID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDtcbiAgICBjb25zdCBudW1NZXRhID0gbWV0YXNldHMubGVuZ3RoO1xuICAgIG1ldGFzZXRzLnNvcnQoKGEsIGIpID0+IGEuaW5kZXggLSBiLmluZGV4KTtcbiAgICBpZiAobnVtTWV0YSA+IG51bURhdGEpIHtcbiAgICAgIGZvciAobGV0IGkgPSBudW1EYXRhOyBpIDwgbnVtTWV0YTsgKytpKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShpKTtcbiAgICAgIH1cbiAgICAgIG1ldGFzZXRzLnNwbGljZShudW1EYXRhLCBudW1NZXRhIC0gbnVtRGF0YSk7XG4gICAgfVxuICAgIHRoaXMuX3NvcnRlZE1ldGFzZXRzID0gbWV0YXNldHMuc2xpY2UoMCkuc29ydChjb21wYXJlMkxldmVsKCdvcmRlcicsICdpbmRleCcpKTtcbiAgfVxuICBfcmVtb3ZlVW5yZWZlcmVuY2VkTWV0YXNldHMoKSB7XG4gICAgY29uc3Qge19tZXRhc2V0czogbWV0YXNldHMsIGRhdGE6IHtkYXRhc2V0c319ID0gdGhpcztcbiAgICBpZiAobWV0YXNldHMubGVuZ3RoID4gZGF0YXNldHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgdGhpcy5fc3RhY2tzO1xuICAgIH1cbiAgICBtZXRhc2V0cy5mb3JFYWNoKChtZXRhLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGRhdGFzZXRzLmZpbHRlcih4ID0+IHggPT09IG1ldGEuX2RhdGFzZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaW5kZXgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpIHtcbiAgICBjb25zdCBuZXdDb250cm9sbGVycyA9IFtdO1xuICAgIGNvbnN0IGRhdGFzZXRzID0gdGhpcy5kYXRhLmRhdGFzZXRzO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIHRoaXMuX3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCk7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgY29uc3QgZGF0YXNldCA9IGRhdGFzZXRzW2ldO1xuICAgICAgbGV0IG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGkpO1xuICAgICAgY29uc3QgdHlwZSA9IGRhdGFzZXQudHlwZSB8fCB0aGlzLmNvbmZpZy50eXBlO1xuICAgICAgaWYgKG1ldGEudHlwZSAmJiBtZXRhLnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKGkpO1xuICAgICAgICBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgIH1cbiAgICAgIG1ldGEudHlwZSA9IHR5cGU7XG4gICAgICBtZXRhLmluZGV4QXhpcyA9IGRhdGFzZXQuaW5kZXhBeGlzIHx8IGdldEluZGV4QXhpcyh0eXBlLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgbWV0YS5vcmRlciA9IGRhdGFzZXQub3JkZXIgfHwgMDtcbiAgICAgIG1ldGEuaW5kZXggPSBpO1xuICAgICAgbWV0YS5sYWJlbCA9ICcnICsgZGF0YXNldC5sYWJlbDtcbiAgICAgIG1ldGEudmlzaWJsZSA9IHRoaXMuaXNEYXRhc2V0VmlzaWJsZShpKTtcbiAgICAgIGlmIChtZXRhLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgbWV0YS5jb250cm9sbGVyLnVwZGF0ZUluZGV4KGkpO1xuICAgICAgICBtZXRhLmNvbnRyb2xsZXIubGlua1NjYWxlcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgQ29udHJvbGxlckNsYXNzID0gcmVnaXN0cnkuZ2V0Q29udHJvbGxlcih0eXBlKTtcbiAgICAgICAgY29uc3Qge2RhdGFzZXRFbGVtZW50VHlwZSwgZGF0YUVsZW1lbnRUeXBlfSA9IGRlZmF1bHRzLmRhdGFzZXRzW3R5cGVdO1xuICAgICAgICBPYmplY3QuYXNzaWduKENvbnRyb2xsZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgICAgICBkYXRhRWxlbWVudFR5cGU6IHJlZ2lzdHJ5LmdldEVsZW1lbnQoZGF0YUVsZW1lbnRUeXBlKSxcbiAgICAgICAgICBkYXRhc2V0RWxlbWVudFR5cGU6IGRhdGFzZXRFbGVtZW50VHlwZSAmJiByZWdpc3RyeS5nZXRFbGVtZW50KGRhdGFzZXRFbGVtZW50VHlwZSlcbiAgICAgICAgfSk7XG4gICAgICAgIG1ldGEuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyQ2xhc3ModGhpcywgaSk7XG4gICAgICAgIG5ld0NvbnRyb2xsZXJzLnB1c2gobWV0YS5jb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlTWV0YXNldHMoKTtcbiAgICByZXR1cm4gbmV3Q29udHJvbGxlcnM7XG4gIH1cbiAgX3Jlc2V0RWxlbWVudHMoKSB7XG4gICAgZWFjaCh0aGlzLmRhdGEuZGF0YXNldHMsIChkYXRhc2V0LCBkYXRhc2V0SW5kZXgpID0+IHtcbiAgICAgIHRoaXMuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5jb250cm9sbGVyLnJlc2V0KCk7XG4gICAgfSwgdGhpcyk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fcmVzZXRFbGVtZW50cygpO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygncmVzZXQnKTtcbiAgfVxuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIGNvbmZpZy51cGRhdGUoKTtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fb3B0aW9ucyA9IGNvbmZpZy5jcmVhdGVSZXNvbHZlcihjb25maWcuY2hhcnRPcHRpb25TY29wZXMoKSwgdGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNvbnN0IGFuaW1zRGlzYWJsZWQgPSB0aGlzLl9hbmltYXRpb25zRGlzYWJsZWQgPSAhb3B0aW9ucy5hbmltYXRpb247XG4gICAgdGhpcy5fdXBkYXRlU2NhbGVzKCk7XG4gICAgdGhpcy5fY2hlY2tFdmVudEJpbmRpbmdzKCk7XG4gICAgdGhpcy5fdXBkYXRlSGlkZGVuSW5kaWNlcygpO1xuICAgIHRoaXMuX3BsdWdpbnMuaW52YWxpZGF0ZSgpO1xuICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZVVwZGF0ZScsIHttb2RlLCBjYW5jZWxhYmxlOiB0cnVlfSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5ld0NvbnRyb2xsZXJzID0gdGhpcy5idWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKTtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZUVsZW1lbnRzVXBkYXRlJyk7XG4gICAgbGV0IG1pblBhZGRpbmcgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpbGVuID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgY29uc3Qge2NvbnRyb2xsZXJ9ID0gdGhpcy5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgIGNvbnN0IHJlc2V0ID0gIWFuaW1zRGlzYWJsZWQgJiYgbmV3Q29udHJvbGxlcnMuaW5kZXhPZihjb250cm9sbGVyKSA9PT0gLTE7XG4gICAgICBjb250cm9sbGVyLmJ1aWxkT3JVcGRhdGVFbGVtZW50cyhyZXNldCk7XG4gICAgICBtaW5QYWRkaW5nID0gTWF0aC5tYXgoK2NvbnRyb2xsZXIuZ2V0TWF4T3ZlcmZsb3coKSwgbWluUGFkZGluZyk7XG4gICAgfVxuICAgIG1pblBhZGRpbmcgPSB0aGlzLl9taW5QYWRkaW5nID0gb3B0aW9ucy5sYXlvdXQuYXV0b1BhZGRpbmcgPyBtaW5QYWRkaW5nIDogMDtcbiAgICB0aGlzLl91cGRhdGVMYXlvdXQobWluUGFkZGluZyk7XG4gICAgaWYgKCFhbmltc0Rpc2FibGVkKSB7XG4gICAgICBlYWNoKG5ld0NvbnRyb2xsZXJzLCAoY29udHJvbGxlcikgPT4ge1xuICAgICAgICBjb250cm9sbGVyLnJlc2V0KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlRGF0YXNldHMobW9kZSk7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlclVwZGF0ZScsIHttb2RlfSk7XG4gICAgdGhpcy5fbGF5ZXJzLnNvcnQoY29tcGFyZTJMZXZlbCgneicsICdfaWR4JykpO1xuICAgIGNvbnN0IHtfYWN0aXZlLCBfbGFzdEV2ZW50fSA9IHRoaXM7XG4gICAgaWYgKF9sYXN0RXZlbnQpIHtcbiAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcihfbGFzdEV2ZW50LCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKF9hY3RpdmUubGVuZ3RoKSB7XG4gICAgICB0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhfYWN0aXZlLCBfYWN0aXZlLCB0cnVlKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBfdXBkYXRlU2NhbGVzKCkge1xuICAgIGVhY2godGhpcy5zY2FsZXMsIChzY2FsZSkgPT4ge1xuICAgICAgbGF5b3V0cy5yZW1vdmVCb3godGhpcywgc2NhbGUpO1xuICAgIH0pO1xuICAgIHRoaXMuZW5zdXJlU2NhbGVzSGF2ZUlEcygpO1xuICAgIHRoaXMuYnVpbGRPclVwZGF0ZVNjYWxlcygpO1xuICB9XG4gIF9jaGVja0V2ZW50QmluZGluZ3MoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBleGlzdGluZ0V2ZW50cyA9IG5ldyBTZXQoT2JqZWN0LmtleXModGhpcy5fbGlzdGVuZXJzKSk7XG4gICAgY29uc3QgbmV3RXZlbnRzID0gbmV3IFNldChvcHRpb25zLmV2ZW50cyk7XG4gICAgaWYgKCFzZXRzRXF1YWwoZXhpc3RpbmdFdmVudHMsIG5ld0V2ZW50cykgfHwgISF0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzICE9PSBvcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICB9XG4gIH1cbiAgX3VwZGF0ZUhpZGRlbkluZGljZXMoKSB7XG4gICAgY29uc3Qge19oaWRkZW5JbmRpY2VzfSA9IHRoaXM7XG4gICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2dldFVuaWZvcm1EYXRhQ2hhbmdlcygpIHx8IFtdO1xuICAgIGZvciAoY29uc3Qge21ldGhvZCwgc3RhcnQsIGNvdW50fSBvZiBjaGFuZ2VzKSB7XG4gICAgICBjb25zdCBtb3ZlID0gbWV0aG9kID09PSAnX3JlbW92ZUVsZW1lbnRzJyA/IC1jb3VudCA6IGNvdW50O1xuICAgICAgbW92ZU51bWVyaWNLZXlzKF9oaWRkZW5JbmRpY2VzLCBzdGFydCwgbW92ZSk7XG4gICAgfVxuICB9XG4gIF9nZXRVbmlmb3JtRGF0YUNoYW5nZXMoKSB7XG4gICAgY29uc3QgX2RhdGFDaGFuZ2VzID0gdGhpcy5fZGF0YUNoYW5nZXM7XG4gICAgaWYgKCFfZGF0YUNoYW5nZXMgfHwgIV9kYXRhQ2hhbmdlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZGF0YUNoYW5nZXMgPSBbXTtcbiAgICBjb25zdCBkYXRhc2V0Q291bnQgPSB0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoO1xuICAgIGNvbnN0IG1ha2VTZXQgPSAoaWR4KSA9PiBuZXcgU2V0KFxuICAgICAgX2RhdGFDaGFuZ2VzXG4gICAgICAgIC5maWx0ZXIoYyA9PiBjWzBdID09PSBpZHgpXG4gICAgICAgIC5tYXAoKGMsIGkpID0+IGkgKyAnLCcgKyBjLnNwbGljZSgxKS5qb2luKCcsJykpXG4gICAgKTtcbiAgICBjb25zdCBjaGFuZ2VTZXQgPSBtYWtlU2V0KDApO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZGF0YXNldENvdW50OyBpKyspIHtcbiAgICAgIGlmICghc2V0c0VxdWFsKGNoYW5nZVNldCwgbWFrZVNldChpKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShjaGFuZ2VTZXQpXG4gICAgICAubWFwKGMgPT4gYy5zcGxpdCgnLCcpKVxuICAgICAgLm1hcChhID0+ICh7bWV0aG9kOiBhWzFdLCBzdGFydDogK2FbMl0sIGNvdW50OiArYVszXX0pKTtcbiAgfVxuICBfdXBkYXRlTGF5b3V0KG1pblBhZGRpbmcpIHtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVMYXlvdXQnLCB7Y2FuY2VsYWJsZTogdHJ1ZX0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYXlvdXRzLnVwZGF0ZSh0aGlzLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgbWluUGFkZGluZyk7XG4gICAgY29uc3QgYXJlYSA9IHRoaXMuY2hhcnRBcmVhO1xuICAgIGNvbnN0IG5vQXJlYSA9IGFyZWEud2lkdGggPD0gMCB8fCBhcmVhLmhlaWdodCA8PSAwO1xuICAgIHRoaXMuX2xheWVycyA9IFtdO1xuICAgIGVhY2godGhpcy5ib3hlcywgKGJveCkgPT4ge1xuICAgICAgaWYgKG5vQXJlYSAmJiBib3gucG9zaXRpb24gPT09ICdjaGFydEFyZWEnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChib3guY29uZmlndXJlKSB7XG4gICAgICAgIGJveC5jb25maWd1cmUoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xheWVycy5wdXNoKC4uLmJveC5fbGF5ZXJzKCkpO1xuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMuX2xheWVycy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgaXRlbS5faWR4ID0gaW5kZXg7XG4gICAgfSk7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckxheW91dCcpO1xuICB9XG4gIF91cGRhdGVEYXRhc2V0cyhtb2RlKSB7XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRGF0YXNldHNVcGRhdGUnLCB7bW9kZSwgY2FuY2VsYWJsZTogdHJ1ZX0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaWxlbiA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHRoaXMuZ2V0RGF0YXNldE1ldGEoaSkuY29udHJvbGxlci5jb25maWd1cmUoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSB0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aGlzLl91cGRhdGVEYXRhc2V0KGksIGlzRnVuY3Rpb24obW9kZSkgPyBtb2RlKHtkYXRhc2V0SW5kZXg6IGl9KSA6IG1vZGUpO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRGF0YXNldHNVcGRhdGUnLCB7bW9kZX0pO1xuICB9XG4gIF91cGRhdGVEYXRhc2V0KGluZGV4LCBtb2RlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoaW5kZXgpO1xuICAgIGNvbnN0IGFyZ3MgPSB7bWV0YSwgaW5kZXgsIG1vZGUsIGNhbmNlbGFibGU6IHRydWV9O1xuICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURhdGFzZXRVcGRhdGUnLCBhcmdzKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWV0YS5jb250cm9sbGVyLl91cGRhdGUobW9kZSk7XG4gICAgYXJncy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRhdGFzZXRVcGRhdGUnLCBhcmdzKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlUmVuZGVyJywge2NhbmNlbGFibGU6IHRydWV9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFuaW1hdG9yLmhhcyh0aGlzKSkge1xuICAgICAgaWYgKHRoaXMuYXR0YWNoZWQgJiYgIWFuaW1hdG9yLnJ1bm5pbmcodGhpcykpIHtcbiAgICAgICAgYW5pbWF0b3Iuc3RhcnQodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgb25BbmltYXRpb25zQ29tcGxldGUoe2NoYXJ0OiB0aGlzfSk7XG4gICAgfVxuICB9XG4gIGRyYXcoKSB7XG4gICAgbGV0IGk7XG4gICAgaWYgKHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXcpIHtcbiAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXc7XG4gICAgICB0aGlzLl9yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICB0aGlzLl9yZXNpemVCZWZvcmVEcmF3ID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVEcmF3Jywge2NhbmNlbGFibGU6IHRydWV9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGF5ZXJzID0gdGhpcy5fbGF5ZXJzO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoICYmIGxheWVyc1tpXS56IDw9IDA7ICsraSkge1xuICAgICAgbGF5ZXJzW2ldLmRyYXcodGhpcy5jaGFydEFyZWEpO1xuICAgIH1cbiAgICB0aGlzLl9kcmF3RGF0YXNldHMoKTtcbiAgICBmb3IgKDsgaSA8IGxheWVycy5sZW5ndGg7ICsraSkge1xuICAgICAgbGF5ZXJzW2ldLmRyYXcodGhpcy5jaGFydEFyZWEpO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRHJhdycpO1xuICB9XG4gIF9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoZmlsdGVyVmlzaWJsZSkge1xuICAgIGNvbnN0IG1ldGFzZXRzID0gdGhpcy5fc29ydGVkTWV0YXNldHM7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGksIGlsZW47XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IG1ldGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgY29uc3QgbWV0YSA9IG1ldGFzZXRzW2ldO1xuICAgICAgaWYgKCFmaWx0ZXJWaXNpYmxlIHx8IG1ldGEudmlzaWJsZSkge1xuICAgICAgICByZXN1bHQucHVzaChtZXRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBnZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTb3J0ZWREYXRhc2V0TWV0YXModHJ1ZSk7XG4gIH1cbiAgX2RyYXdEYXRhc2V0cygpIHtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVEYXRhc2V0c0RyYXcnLCB7Y2FuY2VsYWJsZTogdHJ1ZX0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRhc2V0cyA9IHRoaXMuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgIGZvciAobGV0IGkgPSBtZXRhc2V0cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGhpcy5fZHJhd0RhdGFzZXQobWV0YXNldHNbaV0pO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRGF0YXNldHNEcmF3Jyk7XG4gIH1cbiAgX2RyYXdEYXRhc2V0KG1ldGEpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBjbGlwID0gbWV0YS5fY2xpcDtcbiAgICBjb25zdCB1c2VDbGlwID0gIWNsaXAuZGlzYWJsZWQ7XG4gICAgY29uc3QgYXJlYSA9IHRoaXMuY2hhcnRBcmVhO1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBtZXRhLFxuICAgICAgaW5kZXg6IG1ldGEuaW5kZXgsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgfTtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVEYXRhc2V0RHJhdycsIGFyZ3MpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodXNlQ2xpcCkge1xuICAgICAgY2xpcEFyZWEoY3R4LCB7XG4gICAgICAgIGxlZnQ6IGNsaXAubGVmdCA9PT0gZmFsc2UgPyAwIDogYXJlYS5sZWZ0IC0gY2xpcC5sZWZ0LFxuICAgICAgICByaWdodDogY2xpcC5yaWdodCA9PT0gZmFsc2UgPyB0aGlzLndpZHRoIDogYXJlYS5yaWdodCArIGNsaXAucmlnaHQsXG4gICAgICAgIHRvcDogY2xpcC50b3AgPT09IGZhbHNlID8gMCA6IGFyZWEudG9wIC0gY2xpcC50b3AsXG4gICAgICAgIGJvdHRvbTogY2xpcC5ib3R0b20gPT09IGZhbHNlID8gdGhpcy5oZWlnaHQgOiBhcmVhLmJvdHRvbSArIGNsaXAuYm90dG9tXG4gICAgICB9KTtcbiAgICB9XG4gICAgbWV0YS5jb250cm9sbGVyLmRyYXcoKTtcbiAgICBpZiAodXNlQ2xpcCkge1xuICAgICAgdW5jbGlwQXJlYShjdHgpO1xuICAgIH1cbiAgICBhcmdzLmNhbmNlbGFibGUgPSBmYWxzZTtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRGF0YXNldERyYXcnLCBhcmdzKTtcbiAgfVxuICBpc1BvaW50SW5BcmVhKHBvaW50KSB7XG4gICAgcmV0dXJuIF9pc1BvaW50SW5BcmVhKHBvaW50LCB0aGlzLmNoYXJ0QXJlYSwgdGhpcy5fbWluUGFkZGluZyk7XG4gIH1cbiAgZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBtb2RlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3QgbWV0aG9kID0gSW50ZXJhY3Rpb24ubW9kZXNbbW9kZV07XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBtZXRob2QodGhpcywgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuICBnZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpIHtcbiAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5kYXRhLmRhdGFzZXRzW2RhdGFzZXRJbmRleF07XG4gICAgY29uc3QgbWV0YXNldHMgPSB0aGlzLl9tZXRhc2V0cztcbiAgICBsZXQgbWV0YSA9IG1ldGFzZXRzLmZpbHRlcih4ID0+IHggJiYgeC5fZGF0YXNldCA9PT0gZGF0YXNldCkucG9wKCk7XG4gICAgaWYgKCFtZXRhKSB7XG4gICAgICBtZXRhID0ge1xuICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgZGF0YXNldDogbnVsbCxcbiAgICAgICAgY29udHJvbGxlcjogbnVsbCxcbiAgICAgICAgaGlkZGVuOiBudWxsLFxuICAgICAgICB4QXhpc0lEOiBudWxsLFxuICAgICAgICB5QXhpc0lEOiBudWxsLFxuICAgICAgICBvcmRlcjogZGF0YXNldCAmJiBkYXRhc2V0Lm9yZGVyIHx8IDAsXG4gICAgICAgIGluZGV4OiBkYXRhc2V0SW5kZXgsXG4gICAgICAgIF9kYXRhc2V0OiBkYXRhc2V0LFxuICAgICAgICBfcGFyc2VkOiBbXSxcbiAgICAgICAgX3NvcnRlZDogZmFsc2VcbiAgICAgIH07XG4gICAgICBtZXRhc2V0cy5wdXNoKG1ldGEpO1xuICAgIH1cbiAgICByZXR1cm4gbWV0YTtcbiAgfVxuICBnZXRDb250ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0IHx8ICh0aGlzLiRjb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsLCB7Y2hhcnQ6IHRoaXMsIHR5cGU6ICdjaGFydCd9KSk7XG4gIH1cbiAgZ2V0VmlzaWJsZURhdGFzZXRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCkubGVuZ3RoO1xuICB9XG4gIGlzRGF0YXNldFZpc2libGUoZGF0YXNldEluZGV4KSB7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZGF0YS5kYXRhc2V0c1tkYXRhc2V0SW5kZXhdO1xuICAgIGlmICghZGF0YXNldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgIHJldHVybiB0eXBlb2YgbWV0YS5oaWRkZW4gPT09ICdib29sZWFuJyA/ICFtZXRhLmhpZGRlbiA6ICFkYXRhc2V0LmhpZGRlbjtcbiAgfVxuICBzZXREYXRhc2V0VmlzaWJpbGl0eShkYXRhc2V0SW5kZXgsIHZpc2libGUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgIG1ldGEuaGlkZGVuID0gIXZpc2libGU7XG4gIH1cbiAgdG9nZ2xlRGF0YVZpc2liaWxpdHkoaW5kZXgpIHtcbiAgICB0aGlzLl9oaWRkZW5JbmRpY2VzW2luZGV4XSA9ICF0aGlzLl9oaWRkZW5JbmRpY2VzW2luZGV4XTtcbiAgfVxuICBnZXREYXRhVmlzaWJpbGl0eShpbmRleCkge1xuICAgIHJldHVybiAhdGhpcy5faGlkZGVuSW5kaWNlc1tpbmRleF07XG4gIH1cbiAgX3VwZGF0ZVZpc2liaWxpdHkoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgsIHZpc2libGUpIHtcbiAgICBjb25zdCBtb2RlID0gdmlzaWJsZSA/ICdzaG93JyA6ICdoaWRlJztcbiAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgIGNvbnN0IGFuaW1zID0gbWV0YS5jb250cm9sbGVyLl9yZXNvbHZlQW5pbWF0aW9ucyh1bmRlZmluZWQsIG1vZGUpO1xuICAgIGlmIChkZWZpbmVkKGRhdGFJbmRleCkpIHtcbiAgICAgIG1ldGEuZGF0YVtkYXRhSW5kZXhdLmhpZGRlbiA9ICF2aXNpYmxlO1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXREYXRhc2V0VmlzaWJpbGl0eShkYXRhc2V0SW5kZXgsIHZpc2libGUpO1xuICAgICAgYW5pbXMudXBkYXRlKG1ldGEsIHt2aXNpYmxlfSk7XG4gICAgICB0aGlzLnVwZGF0ZSgoY3R4KSA9PiBjdHguZGF0YXNldEluZGV4ID09PSBkYXRhc2V0SW5kZXggPyBtb2RlIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cbiAgaGlkZShkYXRhc2V0SW5kZXgsIGRhdGFJbmRleCkge1xuICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgsIGZhbHNlKTtcbiAgfVxuICBzaG93KGRhdGFzZXRJbmRleCwgZGF0YUluZGV4KSB7XG4gICAgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eShkYXRhc2V0SW5kZXgsIGRhdGFJbmRleCwgdHJ1ZSk7XG4gIH1cbiAgX2Rlc3Ryb3lEYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fbWV0YXNldHNbZGF0YXNldEluZGV4XTtcbiAgICBpZiAobWV0YSAmJiBtZXRhLmNvbnRyb2xsZXIpIHtcbiAgICAgIG1ldGEuY29udHJvbGxlci5fZGVzdHJveSgpO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5fbWV0YXNldHNbZGF0YXNldEluZGV4XTtcbiAgfVxuICBfc3RvcCgpIHtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICBhbmltYXRvci5yZW1vdmUodGhpcyk7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShpKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURlc3Ryb3knKTtcbiAgICBjb25zdCB7Y2FudmFzLCBjdHh9ID0gdGhpcztcbiAgICB0aGlzLl9zdG9wKCk7XG4gICAgdGhpcy5jb25maWcuY2xlYXJDYWNoZSgpO1xuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7XG4gICAgICBjbGVhckNhbnZhcyhjYW52YXMsIGN0eCk7XG4gICAgICB0aGlzLnBsYXRmb3JtLnJlbGVhc2VDb250ZXh0KGN0eCk7XG4gICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICB0aGlzLmN0eCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnZGVzdHJveScpO1xuICAgIGRlbGV0ZSBpbnN0YW5jZXNbdGhpcy5pZF07XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRlc3Ryb3knKTtcbiAgfVxuICB0b0Jhc2U2NEltYWdlKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5jYW52YXMudG9EYXRhVVJMKC4uLmFyZ3MpO1xuICB9XG4gIGJpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5iaW5kVXNlckV2ZW50cygpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgdGhpcy5iaW5kUmVzcG9uc2l2ZUV2ZW50cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmF0dGFjaGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgYmluZFVzZXJFdmVudHMoKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgIGNvbnN0IHBsYXRmb3JtID0gdGhpcy5wbGF0Zm9ybTtcbiAgICBjb25zdCBfYWRkID0gKHR5cGUsIGxpc3RlbmVyKSA9PiB7XG4gICAgICBwbGF0Zm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgIH07XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoZSwgeCwgeSkgPT4ge1xuICAgICAgZS5vZmZzZXRYID0geDtcbiAgICAgIGUub2Zmc2V0WSA9IHk7XG4gICAgICB0aGlzLl9ldmVudEhhbmRsZXIoZSk7XG4gICAgfTtcbiAgICBlYWNoKHRoaXMub3B0aW9ucy5ldmVudHMsICh0eXBlKSA9PiBfYWRkKHR5cGUsIGxpc3RlbmVyKSk7XG4gIH1cbiAgYmluZFJlc3BvbnNpdmVFdmVudHMoKSB7XG4gICAgaWYgKCF0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzID0ge307XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM7XG4gICAgY29uc3QgcGxhdGZvcm0gPSB0aGlzLnBsYXRmb3JtO1xuICAgIGNvbnN0IF9hZGQgPSAodHlwZSwgbGlzdGVuZXIpID0+IHtcbiAgICAgIHBsYXRmb3JtLmFkZEV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgbGlzdGVuZXJzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgfTtcbiAgICBjb25zdCBfcmVtb3ZlID0gKHR5cGUsIGxpc3RlbmVyKSA9PiB7XG4gICAgICBpZiAobGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgIHBsYXRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICBkZWxldGUgbGlzdGVuZXJzW3R5cGVdO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbGlzdGVuZXIgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgfVxuICAgIH07XG4gICAgbGV0IGRldGFjaGVkO1xuICAgIGNvbnN0IGF0dGFjaGVkID0gKCkgPT4ge1xuICAgICAgX3JlbW92ZSgnYXR0YWNoJywgYXR0YWNoZWQpO1xuICAgICAgdGhpcy5hdHRhY2hlZCA9IHRydWU7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgX2FkZCgncmVzaXplJywgbGlzdGVuZXIpO1xuICAgICAgX2FkZCgnZGV0YWNoJywgZGV0YWNoZWQpO1xuICAgIH07XG4gICAgZGV0YWNoZWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmF0dGFjaGVkID0gZmFsc2U7XG4gICAgICBfcmVtb3ZlKCdyZXNpemUnLCBsaXN0ZW5lcik7XG4gICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICB0aGlzLl9yZXNpemUoMCwgMCk7XG4gICAgICBfYWRkKCdhdHRhY2gnLCBhdHRhY2hlZCk7XG4gICAgfTtcbiAgICBpZiAocGxhdGZvcm0uaXNBdHRhY2hlZCh0aGlzLmNhbnZhcykpIHtcbiAgICAgIGF0dGFjaGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRldGFjaGVkKCk7XG4gICAgfVxuICB9XG4gIHVuYmluZEV2ZW50cygpIHtcbiAgICBlYWNoKHRoaXMuX2xpc3RlbmVycywgKGxpc3RlbmVyLCB0eXBlKSA9PiB7XG4gICAgICB0aGlzLnBsYXRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgIGVhY2godGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycywgKGxpc3RlbmVyLCB0eXBlKSA9PiB7XG4gICAgICB0aGlzLnBsYXRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgdXBkYXRlSG92ZXJTdHlsZShpdGVtcywgbW9kZSwgZW5hYmxlZCkge1xuICAgIGNvbnN0IHByZWZpeCA9IGVuYWJsZWQgPyAnc2V0JyA6ICdyZW1vdmUnO1xuICAgIGxldCBtZXRhLCBpdGVtLCBpLCBpbGVuO1xuICAgIGlmIChtb2RlID09PSAnZGF0YXNldCcpIHtcbiAgICAgIG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGl0ZW1zWzBdLmRhdGFzZXRJbmRleCk7XG4gICAgICBtZXRhLmNvbnRyb2xsZXJbJ18nICsgcHJlZml4ICsgJ0RhdGFzZXRIb3ZlclN0eWxlJ10oKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgY29uc3QgY29udHJvbGxlciA9IGl0ZW0gJiYgdGhpcy5nZXREYXRhc2V0TWV0YShpdGVtLmRhdGFzZXRJbmRleCkuY29udHJvbGxlcjtcbiAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXJbcHJlZml4ICsgJ0hvdmVyU3R5bGUnXShpdGVtLmVsZW1lbnQsIGl0ZW0uZGF0YXNldEluZGV4LCBpdGVtLmluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0QWN0aXZlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZSB8fCBbXTtcbiAgfVxuICBzZXRBY3RpdmVFbGVtZW50cyhhY3RpdmVFbGVtZW50cykge1xuICAgIGNvbnN0IGxhc3RBY3RpdmUgPSB0aGlzLl9hY3RpdmUgfHwgW107XG4gICAgY29uc3QgYWN0aXZlID0gYWN0aXZlRWxlbWVudHMubWFwKCh7ZGF0YXNldEluZGV4LCBpbmRleH0pID0+IHtcbiAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCk7XG4gICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRhc2V0IGZvdW5kIGF0IGluZGV4ICcgKyBkYXRhc2V0SW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YXNldEluZGV4LFxuICAgICAgICBlbGVtZW50OiBtZXRhLmRhdGFbaW5kZXhdLFxuICAgICAgICBpbmRleCxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgY2hhbmdlZCA9ICFfZWxlbWVudHNFcXVhbChhY3RpdmUsIGxhc3RBY3RpdmUpO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XG4gICAgICB0aGlzLl9sYXN0RXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5fdXBkYXRlSG92ZXJTdHlsZXMoYWN0aXZlLCBsYXN0QWN0aXZlKTtcbiAgICB9XG4gIH1cbiAgbm90aWZ5UGx1Z2lucyhob29rLCBhcmdzLCBmaWx0ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fcGx1Z2lucy5ub3RpZnkodGhpcywgaG9vaywgYXJncywgZmlsdGVyKTtcbiAgfVxuICBfdXBkYXRlSG92ZXJTdHlsZXMoYWN0aXZlLCBsYXN0QWN0aXZlLCByZXBsYXkpIHtcbiAgICBjb25zdCBob3Zlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuaG92ZXI7XG4gICAgY29uc3QgZGlmZiA9IChhLCBiKSA9PiBhLmZpbHRlcih4ID0+ICFiLnNvbWUoeSA9PiB4LmRhdGFzZXRJbmRleCA9PT0geS5kYXRhc2V0SW5kZXggJiYgeC5pbmRleCA9PT0geS5pbmRleCkpO1xuICAgIGNvbnN0IGRlYWN0aXZhdGVkID0gZGlmZihsYXN0QWN0aXZlLCBhY3RpdmUpO1xuICAgIGNvbnN0IGFjdGl2YXRlZCA9IHJlcGxheSA/IGFjdGl2ZSA6IGRpZmYoYWN0aXZlLCBsYXN0QWN0aXZlKTtcbiAgICBpZiAoZGVhY3RpdmF0ZWQubGVuZ3RoKSB7XG4gICAgICB0aGlzLnVwZGF0ZUhvdmVyU3R5bGUoZGVhY3RpdmF0ZWQsIGhvdmVyT3B0aW9ucy5tb2RlLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChhY3RpdmF0ZWQubGVuZ3RoICYmIGhvdmVyT3B0aW9ucy5tb2RlKSB7XG4gICAgICB0aGlzLnVwZGF0ZUhvdmVyU3R5bGUoYWN0aXZhdGVkLCBob3Zlck9wdGlvbnMubW9kZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIF9ldmVudEhhbmRsZXIoZSwgcmVwbGF5KSB7XG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgcmVwbGF5LFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGluQ2hhcnRBcmVhOiB0aGlzLmlzUG9pbnRJbkFyZWEoZSlcbiAgICB9O1xuICAgIGNvbnN0IGV2ZW50RmlsdGVyID0gKHBsdWdpbikgPT4gKHBsdWdpbi5vcHRpb25zLmV2ZW50cyB8fCB0aGlzLm9wdGlvbnMuZXZlbnRzKS5pbmNsdWRlcyhlLm5hdGl2ZS50eXBlKTtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVFdmVudCcsIGFyZ3MsIGV2ZW50RmlsdGVyKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2hhbmRsZUV2ZW50KGUsIHJlcGxheSwgYXJncy5pbkNoYXJ0QXJlYSk7XG4gICAgYXJncy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckV2ZW50JywgYXJncywgZXZlbnRGaWx0ZXIpO1xuICAgIGlmIChjaGFuZ2VkIHx8IGFyZ3MuY2hhbmdlZCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX2hhbmRsZUV2ZW50KGUsIHJlcGxheSwgaW5DaGFydEFyZWEpIHtcbiAgICBjb25zdCB7X2FjdGl2ZTogbGFzdEFjdGl2ZSA9IFtdLCBvcHRpb25zfSA9IHRoaXM7XG4gICAgY29uc3QgdXNlRmluYWxQb3NpdGlvbiA9IHJlcGxheTtcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCBpbkNoYXJ0QXJlYSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgY29uc3QgaXNDbGljayA9IF9pc0NsaWNrRXZlbnQoZSk7XG4gICAgY29uc3QgbGFzdEV2ZW50ID0gZGV0ZXJtaW5lTGFzdEV2ZW50KGUsIHRoaXMuX2xhc3RFdmVudCwgaW5DaGFydEFyZWEsIGlzQ2xpY2spO1xuICAgIGlmIChpbkNoYXJ0QXJlYSkge1xuICAgICAgdGhpcy5fbGFzdEV2ZW50ID0gbnVsbDtcbiAgICAgIGNhbGxiYWNrKG9wdGlvbnMub25Ib3ZlciwgW2UsIGFjdGl2ZSwgdGhpc10sIHRoaXMpO1xuICAgICAgaWYgKGlzQ2xpY2spIHtcbiAgICAgICAgY2FsbGJhY2sob3B0aW9ucy5vbkNsaWNrLCBbZSwgYWN0aXZlLCB0aGlzXSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZWQgPSAhX2VsZW1lbnRzRXF1YWwoYWN0aXZlLCBsYXN0QWN0aXZlKTtcbiAgICBpZiAoY2hhbmdlZCB8fCByZXBsYXkpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgIHRoaXMuX3VwZGF0ZUhvdmVyU3R5bGVzKGFjdGl2ZSwgbGFzdEFjdGl2ZSwgcmVwbGF5KTtcbiAgICB9XG4gICAgdGhpcy5fbGFzdEV2ZW50ID0gbGFzdEV2ZW50O1xuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9XG4gIF9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCBpbkNoYXJ0QXJlYSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFpbkNoYXJ0QXJlYSkge1xuICAgICAgcmV0dXJuIGxhc3RBY3RpdmU7XG4gICAgfVxuICAgIGNvbnN0IGhvdmVyT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5ob3ZlcjtcbiAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKGUsIGhvdmVyT3B0aW9ucy5tb2RlLCBob3Zlck9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pO1xuICB9XG59XG5jb25zdCBpbnZhbGlkYXRlUGx1Z2lucyA9ICgpID0+IGVhY2goQ2hhcnQuaW5zdGFuY2VzLCAoY2hhcnQpID0+IGNoYXJ0Ll9wbHVnaW5zLmludmFsaWRhdGUoKSk7XG5jb25zdCBlbnVtZXJhYmxlID0gdHJ1ZTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKENoYXJ0LCB7XG4gIGRlZmF1bHRzOiB7XG4gICAgZW51bWVyYWJsZSxcbiAgICB2YWx1ZTogZGVmYXVsdHNcbiAgfSxcbiAgaW5zdGFuY2VzOiB7XG4gICAgZW51bWVyYWJsZSxcbiAgICB2YWx1ZTogaW5zdGFuY2VzXG4gIH0sXG4gIG92ZXJyaWRlczoge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6IG92ZXJyaWRlc1xuICB9LFxuICByZWdpc3RyeToge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6IHJlZ2lzdHJ5XG4gIH0sXG4gIHZlcnNpb246IHtcbiAgICBlbnVtZXJhYmxlLFxuICAgIHZhbHVlOiB2ZXJzaW9uXG4gIH0sXG4gIGdldENoYXJ0OiB7XG4gICAgZW51bWVyYWJsZSxcbiAgICB2YWx1ZTogZ2V0Q2hhcnRcbiAgfSxcbiAgcmVnaXN0ZXI6IHtcbiAgICBlbnVtZXJhYmxlLFxuICAgIHZhbHVlOiAoLi4uaXRlbXMpID0+IHtcbiAgICAgIHJlZ2lzdHJ5LmFkZCguLi5pdGVtcyk7XG4gICAgICBpbnZhbGlkYXRlUGx1Z2lucygpO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3Rlcjoge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6ICguLi5pdGVtcykgPT4ge1xuICAgICAgcmVnaXN0cnkucmVtb3ZlKC4uLml0ZW1zKTtcbiAgICAgIGludmFsaWRhdGVQbHVnaW5zKCk7XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gY2xpcEFyYyhjdHgsIGVsZW1lbnQsIGVuZEFuZ2xlKSB7XG4gIGNvbnN0IHtzdGFydEFuZ2xlLCBwaXhlbE1hcmdpbiwgeCwgeSwgb3V0ZXJSYWRpdXMsIGlubmVyUmFkaXVzfSA9IGVsZW1lbnQ7XG4gIGxldCBhbmdsZU1hcmdpbiA9IHBpeGVsTWFyZ2luIC8gb3V0ZXJSYWRpdXM7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyh4LCB5LCBvdXRlclJhZGl1cywgc3RhcnRBbmdsZSAtIGFuZ2xlTWFyZ2luLCBlbmRBbmdsZSArIGFuZ2xlTWFyZ2luKTtcbiAgaWYgKGlubmVyUmFkaXVzID4gcGl4ZWxNYXJnaW4pIHtcbiAgICBhbmdsZU1hcmdpbiA9IHBpeGVsTWFyZ2luIC8gaW5uZXJSYWRpdXM7XG4gICAgY3R4LmFyYyh4LCB5LCBpbm5lclJhZGl1cywgZW5kQW5nbGUgKyBhbmdsZU1hcmdpbiwgc3RhcnRBbmdsZSAtIGFuZ2xlTWFyZ2luLCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBjdHguYXJjKHgsIHksIHBpeGVsTWFyZ2luLCBlbmRBbmdsZSArIEhBTEZfUEksIHN0YXJ0QW5nbGUgLSBIQUxGX1BJKTtcbiAgfVxuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5jbGlwKCk7XG59XG5mdW5jdGlvbiB0b1JhZGl1c0Nvcm5lcnModmFsdWUpIHtcbiAgcmV0dXJuIF9yZWFkVmFsdWVUb1Byb3BzKHZhbHVlLCBbJ291dGVyU3RhcnQnLCAnb3V0ZXJFbmQnLCAnaW5uZXJTdGFydCcsICdpbm5lckVuZCddKTtcbn1cbmZ1bmN0aW9uIHBhcnNlQm9yZGVyUmFkaXVzJDEoYXJjLCBpbm5lclJhZGl1cywgb3V0ZXJSYWRpdXMsIGFuZ2xlRGVsdGEpIHtcbiAgY29uc3QgbyA9IHRvUmFkaXVzQ29ybmVycyhhcmMub3B0aW9ucy5ib3JkZXJSYWRpdXMpO1xuICBjb25zdCBoYWxmVGhpY2tuZXNzID0gKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpIC8gMjtcbiAgY29uc3QgaW5uZXJMaW1pdCA9IE1hdGgubWluKGhhbGZUaGlja25lc3MsIGFuZ2xlRGVsdGEgKiBpbm5lclJhZGl1cyAvIDIpO1xuICBjb25zdCBjb21wdXRlT3V0ZXJMaW1pdCA9ICh2YWwpID0+IHtcbiAgICBjb25zdCBvdXRlckFyY0xpbWl0ID0gKG91dGVyUmFkaXVzIC0gTWF0aC5taW4oaGFsZlRoaWNrbmVzcywgdmFsKSkgKiBhbmdsZURlbHRhIC8gMjtcbiAgICByZXR1cm4gX2xpbWl0VmFsdWUodmFsLCAwLCBNYXRoLm1pbihoYWxmVGhpY2tuZXNzLCBvdXRlckFyY0xpbWl0KSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgb3V0ZXJTdGFydDogY29tcHV0ZU91dGVyTGltaXQoby5vdXRlclN0YXJ0KSxcbiAgICBvdXRlckVuZDogY29tcHV0ZU91dGVyTGltaXQoby5vdXRlckVuZCksXG4gICAgaW5uZXJTdGFydDogX2xpbWl0VmFsdWUoby5pbm5lclN0YXJ0LCAwLCBpbm5lckxpbWl0KSxcbiAgICBpbm5lckVuZDogX2xpbWl0VmFsdWUoby5pbm5lckVuZCwgMCwgaW5uZXJMaW1pdCksXG4gIH07XG59XG5mdW5jdGlvbiByVGhldGFUb1hZKHIsIHRoZXRhLCB4LCB5KSB7XG4gIHJldHVybiB7XG4gICAgeDogeCArIHIgKiBNYXRoLmNvcyh0aGV0YSksXG4gICAgeTogeSArIHIgKiBNYXRoLnNpbih0aGV0YSksXG4gIH07XG59XG5mdW5jdGlvbiBwYXRoQXJjKGN0eCwgZWxlbWVudCwgb2Zmc2V0LCBzcGFjaW5nLCBlbmQsIGNpcmN1bGFyKSB7XG4gIGNvbnN0IHt4LCB5LCBzdGFydEFuZ2xlOiBzdGFydCwgcGl4ZWxNYXJnaW4sIGlubmVyUmFkaXVzOiBpbm5lclJ9ID0gZWxlbWVudDtcbiAgY29uc3Qgb3V0ZXJSYWRpdXMgPSBNYXRoLm1heChlbGVtZW50Lm91dGVyUmFkaXVzICsgc3BhY2luZyArIG9mZnNldCAtIHBpeGVsTWFyZ2luLCAwKTtcbiAgY29uc3QgaW5uZXJSYWRpdXMgPSBpbm5lclIgPiAwID8gaW5uZXJSICsgc3BhY2luZyArIG9mZnNldCArIHBpeGVsTWFyZ2luIDogMDtcbiAgbGV0IHNwYWNpbmdPZmZzZXQgPSAwO1xuICBjb25zdCBhbHBoYSA9IGVuZCAtIHN0YXJ0O1xuICBpZiAoc3BhY2luZykge1xuICAgIGNvbnN0IG5vU3BhY2luZ0lubmVyUmFkaXVzID0gaW5uZXJSID4gMCA/IGlubmVyUiAtIHNwYWNpbmcgOiAwO1xuICAgIGNvbnN0IG5vU3BhY2luZ091dGVyUmFkaXVzID0gb3V0ZXJSYWRpdXMgPiAwID8gb3V0ZXJSYWRpdXMgLSBzcGFjaW5nIDogMDtcbiAgICBjb25zdCBhdk5vZ1NwYWNpbmdSYWRpdXMgPSAobm9TcGFjaW5nSW5uZXJSYWRpdXMgKyBub1NwYWNpbmdPdXRlclJhZGl1cykgLyAyO1xuICAgIGNvbnN0IGFkanVzdGVkQW5nbGUgPSBhdk5vZ1NwYWNpbmdSYWRpdXMgIT09IDAgPyAoYWxwaGEgKiBhdk5vZ1NwYWNpbmdSYWRpdXMpIC8gKGF2Tm9nU3BhY2luZ1JhZGl1cyArIHNwYWNpbmcpIDogYWxwaGE7XG4gICAgc3BhY2luZ09mZnNldCA9IChhbHBoYSAtIGFkanVzdGVkQW5nbGUpIC8gMjtcbiAgfVxuICBjb25zdCBiZXRhID0gTWF0aC5tYXgoMC4wMDEsIGFscGhhICogb3V0ZXJSYWRpdXMgLSBvZmZzZXQgLyBQSSkgLyBvdXRlclJhZGl1cztcbiAgY29uc3QgYW5nbGVPZmZzZXQgPSAoYWxwaGEgLSBiZXRhKSAvIDI7XG4gIGNvbnN0IHN0YXJ0QW5nbGUgPSBzdGFydCArIGFuZ2xlT2Zmc2V0ICsgc3BhY2luZ09mZnNldDtcbiAgY29uc3QgZW5kQW5nbGUgPSBlbmQgLSBhbmdsZU9mZnNldCAtIHNwYWNpbmdPZmZzZXQ7XG4gIGNvbnN0IHtvdXRlclN0YXJ0LCBvdXRlckVuZCwgaW5uZXJTdGFydCwgaW5uZXJFbmR9ID0gcGFyc2VCb3JkZXJSYWRpdXMkMShlbGVtZW50LCBpbm5lclJhZGl1cywgb3V0ZXJSYWRpdXMsIGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSk7XG4gIGNvbnN0IG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cyA9IG91dGVyUmFkaXVzIC0gb3V0ZXJTdGFydDtcbiAgY29uc3Qgb3V0ZXJFbmRBZGp1c3RlZFJhZGl1cyA9IG91dGVyUmFkaXVzIC0gb3V0ZXJFbmQ7XG4gIGNvbnN0IG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlID0gc3RhcnRBbmdsZSArIG91dGVyU3RhcnQgLyBvdXRlclN0YXJ0QWRqdXN0ZWRSYWRpdXM7XG4gIGNvbnN0IG91dGVyRW5kQWRqdXN0ZWRBbmdsZSA9IGVuZEFuZ2xlIC0gb3V0ZXJFbmQgLyBvdXRlckVuZEFkanVzdGVkUmFkaXVzO1xuICBjb25zdCBpbm5lclN0YXJ0QWRqdXN0ZWRSYWRpdXMgPSBpbm5lclJhZGl1cyArIGlubmVyU3RhcnQ7XG4gIGNvbnN0IGlubmVyRW5kQWRqdXN0ZWRSYWRpdXMgPSBpbm5lclJhZGl1cyArIGlubmVyRW5kO1xuICBjb25zdCBpbm5lclN0YXJ0QWRqdXN0ZWRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBpbm5lclN0YXJ0IC8gaW5uZXJTdGFydEFkanVzdGVkUmFkaXVzO1xuICBjb25zdCBpbm5lckVuZEFkanVzdGVkQW5nbGUgPSBlbmRBbmdsZSAtIGlubmVyRW5kIC8gaW5uZXJFbmRBZGp1c3RlZFJhZGl1cztcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBpZiAoY2lyY3VsYXIpIHtcbiAgICBjdHguYXJjKHgsIHksIG91dGVyUmFkaXVzLCBvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSwgb3V0ZXJFbmRBZGp1c3RlZEFuZ2xlKTtcbiAgICBpZiAob3V0ZXJFbmQgPiAwKSB7XG4gICAgICBjb25zdCBwQ2VudGVyID0gclRoZXRhVG9YWShvdXRlckVuZEFkanVzdGVkUmFkaXVzLCBvdXRlckVuZEFkanVzdGVkQW5nbGUsIHgsIHkpO1xuICAgICAgY3R4LmFyYyhwQ2VudGVyLngsIHBDZW50ZXIueSwgb3V0ZXJFbmQsIG91dGVyRW5kQWRqdXN0ZWRBbmdsZSwgZW5kQW5nbGUgKyBIQUxGX1BJKTtcbiAgICB9XG4gICAgY29uc3QgcDQgPSByVGhldGFUb1hZKGlubmVyRW5kQWRqdXN0ZWRSYWRpdXMsIGVuZEFuZ2xlLCB4LCB5KTtcbiAgICBjdHgubGluZVRvKHA0LngsIHA0LnkpO1xuICAgIGlmIChpbm5lckVuZCA+IDApIHtcbiAgICAgIGNvbnN0IHBDZW50ZXIgPSByVGhldGFUb1hZKGlubmVyRW5kQWRqdXN0ZWRSYWRpdXMsIGlubmVyRW5kQWRqdXN0ZWRBbmdsZSwgeCwgeSk7XG4gICAgICBjdHguYXJjKHBDZW50ZXIueCwgcENlbnRlci55LCBpbm5lckVuZCwgZW5kQW5nbGUgKyBIQUxGX1BJLCBpbm5lckVuZEFkanVzdGVkQW5nbGUgKyBNYXRoLlBJKTtcbiAgICB9XG4gICAgY3R4LmFyYyh4LCB5LCBpbm5lclJhZGl1cywgZW5kQW5nbGUgLSAoaW5uZXJFbmQgLyBpbm5lclJhZGl1cyksIHN0YXJ0QW5nbGUgKyAoaW5uZXJTdGFydCAvIGlubmVyUmFkaXVzKSwgdHJ1ZSk7XG4gICAgaWYgKGlubmVyU3RhcnQgPiAwKSB7XG4gICAgICBjb25zdCBwQ2VudGVyID0gclRoZXRhVG9YWShpbm5lclN0YXJ0QWRqdXN0ZWRSYWRpdXMsIGlubmVyU3RhcnRBZGp1c3RlZEFuZ2xlLCB4LCB5KTtcbiAgICAgIGN0eC5hcmMocENlbnRlci54LCBwQ2VudGVyLnksIGlubmVyU3RhcnQsIGlubmVyU3RhcnRBZGp1c3RlZEFuZ2xlICsgTWF0aC5QSSwgc3RhcnRBbmdsZSAtIEhBTEZfUEkpO1xuICAgIH1cbiAgICBjb25zdCBwOCA9IHJUaGV0YVRvWFkob3V0ZXJTdGFydEFkanVzdGVkUmFkaXVzLCBzdGFydEFuZ2xlLCB4LCB5KTtcbiAgICBjdHgubGluZVRvKHA4LngsIHA4LnkpO1xuICAgIGlmIChvdXRlclN0YXJ0ID4gMCkge1xuICAgICAgY29uc3QgcENlbnRlciA9IHJUaGV0YVRvWFkob3V0ZXJTdGFydEFkanVzdGVkUmFkaXVzLCBvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSwgeCwgeSk7XG4gICAgICBjdHguYXJjKHBDZW50ZXIueCwgcENlbnRlci55LCBvdXRlclN0YXJ0LCBzdGFydEFuZ2xlIC0gSEFMRl9QSSwgb3V0ZXJTdGFydEFkanVzdGVkQW5nbGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgIGNvbnN0IG91dGVyU3RhcnRYID0gTWF0aC5jb3Mob3V0ZXJTdGFydEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB4O1xuICAgIGNvbnN0IG91dGVyU3RhcnRZID0gTWF0aC5zaW4ob3V0ZXJTdGFydEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB5O1xuICAgIGN0eC5saW5lVG8ob3V0ZXJTdGFydFgsIG91dGVyU3RhcnRZKTtcbiAgICBjb25zdCBvdXRlckVuZFggPSBNYXRoLmNvcyhvdXRlckVuZEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB4O1xuICAgIGNvbnN0IG91dGVyRW5kWSA9IE1hdGguc2luKG91dGVyRW5kQWRqdXN0ZWRBbmdsZSkgKiBvdXRlclJhZGl1cyArIHk7XG4gICAgY3R4LmxpbmVUbyhvdXRlckVuZFgsIG91dGVyRW5kWSk7XG4gIH1cbiAgY3R4LmNsb3NlUGF0aCgpO1xufVxuZnVuY3Rpb24gZHJhd0FyYyhjdHgsIGVsZW1lbnQsIG9mZnNldCwgc3BhY2luZywgY2lyY3VsYXIpIHtcbiAgY29uc3Qge2Z1bGxDaXJjbGVzLCBzdGFydEFuZ2xlLCBjaXJjdW1mZXJlbmNlfSA9IGVsZW1lbnQ7XG4gIGxldCBlbmRBbmdsZSA9IGVsZW1lbnQuZW5kQW5nbGU7XG4gIGlmIChmdWxsQ2lyY2xlcykge1xuICAgIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIHN0YXJ0QW5nbGUgKyBUQVUsIGNpcmN1bGFyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bGxDaXJjbGVzOyArK2kpIHtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuICAgIGlmICghaXNOYU4oY2lyY3VtZmVyZW5jZSkpIHtcbiAgICAgIGVuZEFuZ2xlID0gc3RhcnRBbmdsZSArIGNpcmN1bWZlcmVuY2UgJSBUQVU7XG4gICAgICBpZiAoY2lyY3VtZmVyZW5jZSAlIFRBVSA9PT0gMCkge1xuICAgICAgICBlbmRBbmdsZSArPSBUQVU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gIGN0eC5maWxsKCk7XG4gIHJldHVybiBlbmRBbmdsZTtcbn1cbmZ1bmN0aW9uIGRyYXdGdWxsQ2lyY2xlQm9yZGVycyhjdHgsIGVsZW1lbnQsIGlubmVyKSB7XG4gIGNvbnN0IHt4LCB5LCBzdGFydEFuZ2xlLCBwaXhlbE1hcmdpbiwgZnVsbENpcmNsZXN9ID0gZWxlbWVudDtcbiAgY29uc3Qgb3V0ZXJSYWRpdXMgPSBNYXRoLm1heChlbGVtZW50Lm91dGVyUmFkaXVzIC0gcGl4ZWxNYXJnaW4sIDApO1xuICBjb25zdCBpbm5lclJhZGl1cyA9IGVsZW1lbnQuaW5uZXJSYWRpdXMgKyBwaXhlbE1hcmdpbjtcbiAgbGV0IGk7XG4gIGlmIChpbm5lcikge1xuICAgIGNsaXBBcmMoY3R4LCBlbGVtZW50LCBzdGFydEFuZ2xlICsgVEFVKTtcbiAgfVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgaW5uZXJSYWRpdXMsIHN0YXJ0QW5nbGUgKyBUQVUsIHN0YXJ0QW5nbGUsIHRydWUpO1xuICBmb3IgKGkgPSAwOyBpIDwgZnVsbENpcmNsZXM7ICsraSkge1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgb3V0ZXJSYWRpdXMsIHN0YXJ0QW5nbGUsIHN0YXJ0QW5nbGUgKyBUQVUpO1xuICBmb3IgKGkgPSAwOyBpIDwgZnVsbENpcmNsZXM7ICsraSkge1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfVxufVxuZnVuY3Rpb24gZHJhd0JvcmRlcihjdHgsIGVsZW1lbnQsIG9mZnNldCwgc3BhY2luZywgZW5kQW5nbGUsIGNpcmN1bGFyKSB7XG4gIGNvbnN0IHtvcHRpb25zfSA9IGVsZW1lbnQ7XG4gIGNvbnN0IHtib3JkZXJXaWR0aCwgYm9yZGVySm9pblN0eWxlfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlubmVyID0gb3B0aW9ucy5ib3JkZXJBbGlnbiA9PT0gJ2lubmVyJztcbiAgaWYgKCFib3JkZXJXaWR0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5uZXIpIHtcbiAgICBjdHgubGluZVdpZHRoID0gYm9yZGVyV2lkdGggKiAyO1xuICAgIGN0eC5saW5lSm9pbiA9IGJvcmRlckpvaW5TdHlsZSB8fCAncm91bmQnO1xuICB9IGVsc2Uge1xuICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJXaWR0aDtcbiAgICBjdHgubGluZUpvaW4gPSBib3JkZXJKb2luU3R5bGUgfHwgJ2JldmVsJztcbiAgfVxuICBpZiAoZWxlbWVudC5mdWxsQ2lyY2xlcykge1xuICAgIGRyYXdGdWxsQ2lyY2xlQm9yZGVycyhjdHgsIGVsZW1lbnQsIGlubmVyKTtcbiAgfVxuICBpZiAoaW5uZXIpIHtcbiAgICBjbGlwQXJjKGN0eCwgZWxlbWVudCwgZW5kQW5nbGUpO1xuICB9XG4gIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gIGN0eC5zdHJva2UoKTtcbn1cbmNsYXNzIEFyY0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jaXJjdW1mZXJlbmNlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc3RhcnRBbmdsZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVuZEFuZ2xlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vdXRlclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBpeGVsTWFyZ2luID0gMDtcbiAgICB0aGlzLmZ1bGxDaXJjbGVzID0gMDtcbiAgICBpZiAoY2ZnKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZyk7XG4gICAgfVxuICB9XG4gIGluUmFuZ2UoY2hhcnRYLCBjaGFydFksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0UHJvcHMoWyd4JywgJ3knXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgY29uc3Qge2FuZ2xlLCBkaXN0YW5jZX0gPSBnZXRBbmdsZUZyb21Qb2ludChwb2ludCwge3g6IGNoYXJ0WCwgeTogY2hhcnRZfSk7XG4gICAgY29uc3Qge3N0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBpbm5lclJhZGl1cywgb3V0ZXJSYWRpdXMsIGNpcmN1bWZlcmVuY2V9ID0gdGhpcy5nZXRQcm9wcyhbXG4gICAgICAnc3RhcnRBbmdsZScsXG4gICAgICAnZW5kQW5nbGUnLFxuICAgICAgJ2lubmVyUmFkaXVzJyxcbiAgICAgICdvdXRlclJhZGl1cycsXG4gICAgICAnY2lyY3VtZmVyZW5jZSdcbiAgICBdLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICBjb25zdCByQWRqdXN0ID0gdGhpcy5vcHRpb25zLnNwYWNpbmcgLyAyO1xuICAgIGNvbnN0IF9jaXJjdW1mZXJlbmNlID0gdmFsdWVPckRlZmF1bHQoY2lyY3VtZmVyZW5jZSwgZW5kQW5nbGUgLSBzdGFydEFuZ2xlKTtcbiAgICBjb25zdCBiZXR3ZWVuQW5nbGVzID0gX2NpcmN1bWZlcmVuY2UgPj0gVEFVIHx8IF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKTtcbiAgICBjb25zdCB3aXRoaW5SYWRpdXMgPSBfaXNCZXR3ZWVuKGRpc3RhbmNlLCBpbm5lclJhZGl1cyArIHJBZGp1c3QsIG91dGVyUmFkaXVzICsgckFkanVzdCk7XG4gICAgcmV0dXJuIChiZXR3ZWVuQW5nbGVzICYmIHdpdGhpblJhZGl1cyk7XG4gIH1cbiAgZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IHt4LCB5LCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgaW5uZXJSYWRpdXMsIG91dGVyUmFkaXVzfSA9IHRoaXMuZ2V0UHJvcHMoW1xuICAgICAgJ3gnLFxuICAgICAgJ3knLFxuICAgICAgJ3N0YXJ0QW5nbGUnLFxuICAgICAgJ2VuZEFuZ2xlJyxcbiAgICAgICdpbm5lclJhZGl1cycsXG4gICAgICAnb3V0ZXJSYWRpdXMnLFxuICAgICAgJ2NpcmN1bWZlcmVuY2UnLFxuICAgIF0sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIGNvbnN0IHtvZmZzZXQsIHNwYWNpbmd9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGhhbGZBbmdsZSA9IChzdGFydEFuZ2xlICsgZW5kQW5nbGUpIC8gMjtcbiAgICBjb25zdCBoYWxmUmFkaXVzID0gKGlubmVyUmFkaXVzICsgb3V0ZXJSYWRpdXMgKyBzcGFjaW5nICsgb2Zmc2V0KSAvIDI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggKyBNYXRoLmNvcyhoYWxmQW5nbGUpICogaGFsZlJhZGl1cyxcbiAgICAgIHk6IHkgKyBNYXRoLnNpbihoYWxmQW5nbGUpICogaGFsZlJhZGl1c1xuICAgIH07XG4gIH1cbiAgdG9vbHRpcFBvc2l0aW9uKHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDZW50ZXJQb2ludCh1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxuICBkcmF3KGN0eCkge1xuICAgIGNvbnN0IHtvcHRpb25zLCBjaXJjdW1mZXJlbmNlfSA9IHRoaXM7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKG9wdGlvbnMub2Zmc2V0IHx8IDApIC8gMjtcbiAgICBjb25zdCBzcGFjaW5nID0gKG9wdGlvbnMuc3BhY2luZyB8fCAwKSAvIDI7XG4gICAgY29uc3QgY2lyY3VsYXIgPSBvcHRpb25zLmNpcmN1bGFyO1xuICAgIHRoaXMucGl4ZWxNYXJnaW4gPSAob3B0aW9ucy5ib3JkZXJBbGlnbiA9PT0gJ2lubmVyJykgPyAwLjMzIDogMDtcbiAgICB0aGlzLmZ1bGxDaXJjbGVzID0gY2lyY3VtZmVyZW5jZSA+IFRBVSA/IE1hdGguZmxvb3IoY2lyY3VtZmVyZW5jZSAvIFRBVSkgOiAwO1xuICAgIGlmIChjaXJjdW1mZXJlbmNlID09PSAwIHx8IHRoaXMuaW5uZXJSYWRpdXMgPCAwIHx8IHRoaXMub3V0ZXJSYWRpdXMgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0eC5zYXZlKCk7XG4gICAgbGV0IHJhZGl1c09mZnNldCA9IDA7XG4gICAgaWYgKG9mZnNldCkge1xuICAgICAgcmFkaXVzT2Zmc2V0ID0gb2Zmc2V0IC8gMjtcbiAgICAgIGNvbnN0IGhhbGZBbmdsZSA9ICh0aGlzLnN0YXJ0QW5nbGUgKyB0aGlzLmVuZEFuZ2xlKSAvIDI7XG4gICAgICBjdHgudHJhbnNsYXRlKE1hdGguY29zKGhhbGZBbmdsZSkgKiByYWRpdXNPZmZzZXQsIE1hdGguc2luKGhhbGZBbmdsZSkgKiByYWRpdXNPZmZzZXQpO1xuICAgICAgaWYgKHRoaXMuY2lyY3VtZmVyZW5jZSA+PSBQSSkge1xuICAgICAgICByYWRpdXNPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmJvcmRlckNvbG9yO1xuICAgIGNvbnN0IGVuZEFuZ2xlID0gZHJhd0FyYyhjdHgsIHRoaXMsIHJhZGl1c09mZnNldCwgc3BhY2luZywgY2lyY3VsYXIpO1xuICAgIGRyYXdCb3JkZXIoY3R4LCB0aGlzLCByYWRpdXNPZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuQXJjRWxlbWVudC5pZCA9ICdhcmMnO1xuQXJjRWxlbWVudC5kZWZhdWx0cyA9IHtcbiAgYm9yZGVyQWxpZ246ICdjZW50ZXInLFxuICBib3JkZXJDb2xvcjogJyNmZmYnLFxuICBib3JkZXJKb2luU3R5bGU6IHVuZGVmaW5lZCxcbiAgYm9yZGVyUmFkaXVzOiAwLFxuICBib3JkZXJXaWR0aDogMixcbiAgb2Zmc2V0OiAwLFxuICBzcGFjaW5nOiAwLFxuICBhbmdsZTogdW5kZWZpbmVkLFxuICBjaXJjdWxhcjogdHJ1ZSxcbn07XG5BcmNFbGVtZW50LmRlZmF1bHRSb3V0ZXMgPSB7XG4gIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcidcbn07XG5cbmZ1bmN0aW9uIHNldFN0eWxlKGN0eCwgb3B0aW9ucywgc3R5bGUgPSBvcHRpb25zKSB7XG4gIGN0eC5saW5lQ2FwID0gdmFsdWVPckRlZmF1bHQoc3R5bGUuYm9yZGVyQ2FwU3R5bGUsIG9wdGlvbnMuYm9yZGVyQ2FwU3R5bGUpO1xuICBjdHguc2V0TGluZURhc2godmFsdWVPckRlZmF1bHQoc3R5bGUuYm9yZGVyRGFzaCwgb3B0aW9ucy5ib3JkZXJEYXNoKSk7XG4gIGN0eC5saW5lRGFzaE9mZnNldCA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckRhc2hPZmZzZXQsIG9wdGlvbnMuYm9yZGVyRGFzaE9mZnNldCk7XG4gIGN0eC5saW5lSm9pbiA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckpvaW5TdHlsZSwgb3B0aW9ucy5ib3JkZXJKb2luU3R5bGUpO1xuICBjdHgubGluZVdpZHRoID0gdmFsdWVPckRlZmF1bHQoc3R5bGUuYm9yZGVyV2lkdGgsIG9wdGlvbnMuYm9yZGVyV2lkdGgpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChzdHlsZS5ib3JkZXJDb2xvciwgb3B0aW9ucy5ib3JkZXJDb2xvcik7XG59XG5mdW5jdGlvbiBsaW5lVG8oY3R4LCBwcmV2aW91cywgdGFyZ2V0KSB7XG4gIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbn1cbmZ1bmN0aW9uIGdldExpbmVNZXRob2Qob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5zdGVwcGVkKSB7XG4gICAgcmV0dXJuIF9zdGVwcGVkTGluZVRvO1xuICB9XG4gIGlmIChvcHRpb25zLnRlbnNpb24gfHwgb3B0aW9ucy5jdWJpY0ludGVycG9sYXRpb25Nb2RlID09PSAnbW9ub3RvbmUnKSB7XG4gICAgcmV0dXJuIF9iZXppZXJDdXJ2ZVRvO1xuICB9XG4gIHJldHVybiBsaW5lVG87XG59XG5mdW5jdGlvbiBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyA9IHt9KSB7XG4gIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgY29uc3Qge3N0YXJ0OiBwYXJhbXNTdGFydCA9IDAsIGVuZDogcGFyYW1zRW5kID0gY291bnQgLSAxfSA9IHBhcmFtcztcbiAgY29uc3Qge3N0YXJ0OiBzZWdtZW50U3RhcnQsIGVuZDogc2VnbWVudEVuZH0gPSBzZWdtZW50O1xuICBjb25zdCBzdGFydCA9IE1hdGgubWF4KHBhcmFtc1N0YXJ0LCBzZWdtZW50U3RhcnQpO1xuICBjb25zdCBlbmQgPSBNYXRoLm1pbihwYXJhbXNFbmQsIHNlZ21lbnRFbmQpO1xuICBjb25zdCBvdXRzaWRlID0gcGFyYW1zU3RhcnQgPCBzZWdtZW50U3RhcnQgJiYgcGFyYW1zRW5kIDwgc2VnbWVudFN0YXJ0IHx8IHBhcmFtc1N0YXJ0ID4gc2VnbWVudEVuZCAmJiBwYXJhbXNFbmQgPiBzZWdtZW50RW5kO1xuICByZXR1cm4ge1xuICAgIGNvdW50LFxuICAgIHN0YXJ0LFxuICAgIGxvb3A6IHNlZ21lbnQubG9vcCxcbiAgICBpbGVuOiBlbmQgPCBzdGFydCAmJiAhb3V0c2lkZSA/IGNvdW50ICsgZW5kIC0gc3RhcnQgOiBlbmQgLSBzdGFydFxuICB9O1xufVxuZnVuY3Rpb24gcGF0aFNlZ21lbnQoY3R4LCBsaW5lLCBzZWdtZW50LCBwYXJhbXMpIHtcbiAgY29uc3Qge3BvaW50cywgb3B0aW9uc30gPSBsaW5lO1xuICBjb25zdCB7Y291bnQsIHN0YXJ0LCBsb29wLCBpbGVufSA9IHBhdGhWYXJzKHBvaW50cywgc2VnbWVudCwgcGFyYW1zKTtcbiAgY29uc3QgbGluZU1ldGhvZCA9IGdldExpbmVNZXRob2Qob3B0aW9ucyk7XG4gIGxldCB7bW92ZSA9IHRydWUsIHJldmVyc2V9ID0gcGFyYW1zIHx8IHt9O1xuICBsZXQgaSwgcG9pbnQsIHByZXY7XG4gIGZvciAoaSA9IDA7IGkgPD0gaWxlbjsgKytpKSB7XG4gICAgcG9pbnQgPSBwb2ludHNbKHN0YXJ0ICsgKHJldmVyc2UgPyBpbGVuIC0gaSA6IGkpKSAlIGNvdW50XTtcbiAgICBpZiAocG9pbnQuc2tpcCkge1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIGlmIChtb3ZlKSB7XG4gICAgICBjdHgubW92ZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgbW92ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lTWV0aG9kKGN0eCwgcHJldiwgcG9pbnQsIHJldmVyc2UsIG9wdGlvbnMuc3RlcHBlZCk7XG4gICAgfVxuICAgIHByZXYgPSBwb2ludDtcbiAgfVxuICBpZiAobG9vcCkge1xuICAgIHBvaW50ID0gcG9pbnRzWyhzdGFydCArIChyZXZlcnNlID8gaWxlbiA6IDApKSAlIGNvdW50XTtcbiAgICBsaW5lTWV0aG9kKGN0eCwgcHJldiwgcG9pbnQsIHJldmVyc2UsIG9wdGlvbnMuc3RlcHBlZCk7XG4gIH1cbiAgcmV0dXJuICEhbG9vcDtcbn1cbmZ1bmN0aW9uIGZhc3RQYXRoU2VnbWVudChjdHgsIGxpbmUsIHNlZ21lbnQsIHBhcmFtcykge1xuICBjb25zdCBwb2ludHMgPSBsaW5lLnBvaW50cztcbiAgY29uc3Qge2NvdW50LCBzdGFydCwgaWxlbn0gPSBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyk7XG4gIGNvbnN0IHttb3ZlID0gdHJ1ZSwgcmV2ZXJzZX0gPSBwYXJhbXMgfHwge307XG4gIGxldCBhdmdYID0gMDtcbiAgbGV0IGNvdW50WCA9IDA7XG4gIGxldCBpLCBwb2ludCwgcHJldlgsIG1pblksIG1heFksIGxhc3RZO1xuICBjb25zdCBwb2ludEluZGV4ID0gKGluZGV4KSA9PiAoc3RhcnQgKyAocmV2ZXJzZSA/IGlsZW4gLSBpbmRleCA6IGluZGV4KSkgJSBjb3VudDtcbiAgY29uc3QgZHJhd1ggPSAoKSA9PiB7XG4gICAgaWYgKG1pblkgIT09IG1heFkpIHtcbiAgICAgIGN0eC5saW5lVG8oYXZnWCwgbWF4WSk7XG4gICAgICBjdHgubGluZVRvKGF2Z1gsIG1pblkpO1xuICAgICAgY3R4LmxpbmVUbyhhdmdYLCBsYXN0WSk7XG4gICAgfVxuICB9O1xuICBpZiAobW92ZSkge1xuICAgIHBvaW50ID0gcG9pbnRzW3BvaW50SW5kZXgoMCldO1xuICAgIGN0eC5tb3ZlVG8ocG9pbnQueCwgcG9pbnQueSk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8PSBpbGVuOyArK2kpIHtcbiAgICBwb2ludCA9IHBvaW50c1twb2ludEluZGV4KGkpXTtcbiAgICBpZiAocG9pbnQuc2tpcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHggPSBwb2ludC54O1xuICAgIGNvbnN0IHkgPSBwb2ludC55O1xuICAgIGNvbnN0IHRydW5jWCA9IHggfCAwO1xuICAgIGlmICh0cnVuY1ggPT09IHByZXZYKSB7XG4gICAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgbWluWSA9IHk7XG4gICAgICB9IGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgIG1heFkgPSB5O1xuICAgICAgfVxuICAgICAgYXZnWCA9IChjb3VudFggKiBhdmdYICsgeCkgLyArK2NvdW50WDtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhd1goKTtcbiAgICAgIGN0eC5saW5lVG8oeCwgeSk7XG4gICAgICBwcmV2WCA9IHRydW5jWDtcbiAgICAgIGNvdW50WCA9IDA7XG4gICAgICBtaW5ZID0gbWF4WSA9IHk7XG4gICAgfVxuICAgIGxhc3RZID0geTtcbiAgfVxuICBkcmF3WCgpO1xufVxuZnVuY3Rpb24gX2dldFNlZ21lbnRNZXRob2QobGluZSkge1xuICBjb25zdCBvcHRzID0gbGluZS5vcHRpb25zO1xuICBjb25zdCBib3JkZXJEYXNoID0gb3B0cy5ib3JkZXJEYXNoICYmIG9wdHMuYm9yZGVyRGFzaC5sZW5ndGg7XG4gIGNvbnN0IHVzZUZhc3RQYXRoID0gIWxpbmUuX2RlY2ltYXRlZCAmJiAhbGluZS5fbG9vcCAmJiAhb3B0cy50ZW5zaW9uICYmIG9wdHMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSAhPT0gJ21vbm90b25lJyAmJiAhb3B0cy5zdGVwcGVkICYmICFib3JkZXJEYXNoO1xuICByZXR1cm4gdXNlRmFzdFBhdGggPyBmYXN0UGF0aFNlZ21lbnQgOiBwYXRoU2VnbWVudDtcbn1cbmZ1bmN0aW9uIF9nZXRJbnRlcnBvbGF0aW9uTWV0aG9kKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuc3RlcHBlZCkge1xuICAgIHJldHVybiBfc3RlcHBlZEludGVycG9sYXRpb247XG4gIH1cbiAgaWYgKG9wdGlvbnMudGVuc2lvbiB8fCBvcHRpb25zLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgPT09ICdtb25vdG9uZScpIHtcbiAgICByZXR1cm4gX2JlemllckludGVycG9sYXRpb247XG4gIH1cbiAgcmV0dXJuIF9wb2ludEluTGluZTtcbn1cbmZ1bmN0aW9uIHN0cm9rZVBhdGhXaXRoQ2FjaGUoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpIHtcbiAgbGV0IHBhdGggPSBsaW5lLl9wYXRoO1xuICBpZiAoIXBhdGgpIHtcbiAgICBwYXRoID0gbGluZS5fcGF0aCA9IG5ldyBQYXRoMkQoKTtcbiAgICBpZiAobGluZS5wYXRoKHBhdGgsIHN0YXJ0LCBjb3VudCkpIHtcbiAgICAgIHBhdGguY2xvc2VQYXRoKCk7XG4gICAgfVxuICB9XG4gIHNldFN0eWxlKGN0eCwgbGluZS5vcHRpb25zKTtcbiAgY3R4LnN0cm9rZShwYXRoKTtcbn1cbmZ1bmN0aW9uIHN0cm9rZVBhdGhEaXJlY3QoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpIHtcbiAgY29uc3Qge3NlZ21lbnRzLCBvcHRpb25zfSA9IGxpbmU7XG4gIGNvbnN0IHNlZ21lbnRNZXRob2QgPSBfZ2V0U2VnbWVudE1ldGhvZChsaW5lKTtcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgc2V0U3R5bGUoY3R4LCBvcHRpb25zLCBzZWdtZW50LnN0eWxlKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgaWYgKHNlZ21lbnRNZXRob2QoY3R4LCBsaW5lLCBzZWdtZW50LCB7c3RhcnQsIGVuZDogc3RhcnQgKyBjb3VudCAtIDF9KSkge1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbn1cbmNvbnN0IHVzZVBhdGgyRCA9IHR5cGVvZiBQYXRoMkQgPT09ICdmdW5jdGlvbic7XG5mdW5jdGlvbiBkcmF3KGN0eCwgbGluZSwgc3RhcnQsIGNvdW50KSB7XG4gIGlmICh1c2VQYXRoMkQgJiYgIWxpbmUub3B0aW9ucy5zZWdtZW50KSB7XG4gICAgc3Ryb2tlUGF0aFdpdGhDYWNoZShjdHgsIGxpbmUsIHN0YXJ0LCBjb3VudCk7XG4gIH0gZWxzZSB7XG4gICAgc3Ryb2tlUGF0aERpcmVjdChjdHgsIGxpbmUsIHN0YXJ0LCBjb3VudCk7XG4gIH1cbn1cbmNsYXNzIExpbmVFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hbmltYXRlZCA9IHRydWU7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2NoYXJ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2xvb3AgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZnVsbExvb3AgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcGF0aCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9wb2ludHMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc2VnbWVudHMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZGVjaW1hdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcG9pbnRzVXBkYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2RhdGFzZXRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoY2ZnKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZUNvbnRyb2xQb2ludHMoY2hhcnRBcmVhLCBpbmRleEF4aXMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICgob3B0aW9ucy50ZW5zaW9uIHx8IG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykgJiYgIW9wdGlvbnMuc3RlcHBlZCAmJiAhdGhpcy5fcG9pbnRzVXBkYXRlZCkge1xuICAgICAgY29uc3QgbG9vcCA9IG9wdGlvbnMuc3BhbkdhcHMgPyB0aGlzLl9sb29wIDogdGhpcy5fZnVsbExvb3A7XG4gICAgICBfdXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cyh0aGlzLl9wb2ludHMsIG9wdGlvbnMsIGNoYXJ0QXJlYSwgbG9vcCwgaW5kZXhBeGlzKTtcbiAgICAgIHRoaXMuX3BvaW50c1VwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBzZXQgcG9pbnRzKHBvaW50cykge1xuICAgIHRoaXMuX3BvaW50cyA9IHBvaW50cztcbiAgICBkZWxldGUgdGhpcy5fc2VnbWVudHM7XG4gICAgZGVsZXRlIHRoaXMuX3BhdGg7XG4gICAgdGhpcy5fcG9pbnRzVXBkYXRlZCA9IGZhbHNlO1xuICB9XG4gIGdldCBwb2ludHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50cztcbiAgfVxuICBnZXQgc2VnbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlZ21lbnRzIHx8ICh0aGlzLl9zZWdtZW50cyA9IF9jb21wdXRlU2VnbWVudHModGhpcywgdGhpcy5vcHRpb25zLnNlZ21lbnQpKTtcbiAgfVxuICBmaXJzdCgpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCAmJiBwb2ludHNbc2VnbWVudHNbMF0uc3RhcnRdO1xuICB9XG4gIGxhc3QoKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IGNvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICAgIHJldHVybiBjb3VudCAmJiBwb2ludHNbc2VnbWVudHNbY291bnQgLSAxXS5lbmRdO1xuICB9XG4gIGludGVycG9sYXRlKHBvaW50LCBwcm9wZXJ0eSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgdmFsdWUgPSBwb2ludFtwcm9wZXJ0eV07XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBfYm91bmRTZWdtZW50cyh0aGlzLCB7cHJvcGVydHksIHN0YXJ0OiB2YWx1ZSwgZW5kOiB2YWx1ZX0pO1xuICAgIGlmICghc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IF9pbnRlcnBvbGF0ZSA9IF9nZXRJbnRlcnBvbGF0aW9uTWV0aG9kKG9wdGlvbnMpO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IHtzdGFydCwgZW5kfSA9IHNlZ21lbnRzW2ldO1xuICAgICAgY29uc3QgcDEgPSBwb2ludHNbc3RhcnRdO1xuICAgICAgY29uc3QgcDIgPSBwb2ludHNbZW5kXTtcbiAgICAgIGlmIChwMSA9PT0gcDIpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocDEpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHQgPSBNYXRoLmFicygodmFsdWUgLSBwMVtwcm9wZXJ0eV0pIC8gKHAyW3Byb3BlcnR5XSAtIHAxW3Byb3BlcnR5XSkpO1xuICAgICAgY29uc3QgaW50ZXJwb2xhdGVkID0gX2ludGVycG9sYXRlKHAxLCBwMiwgdCwgb3B0aW9ucy5zdGVwcGVkKTtcbiAgICAgIGludGVycG9sYXRlZFtwcm9wZXJ0eV0gPSBwb2ludFtwcm9wZXJ0eV07XG4gICAgICByZXN1bHQucHVzaChpbnRlcnBvbGF0ZWQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgfVxuICBwYXRoU2VnbWVudChjdHgsIHNlZ21lbnQsIHBhcmFtcykge1xuICAgIGNvbnN0IHNlZ21lbnRNZXRob2QgPSBfZ2V0U2VnbWVudE1ldGhvZCh0aGlzKTtcbiAgICByZXR1cm4gc2VnbWVudE1ldGhvZChjdHgsIHRoaXMsIHNlZ21lbnQsIHBhcmFtcyk7XG4gIH1cbiAgcGF0aChjdHgsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICBjb25zdCBzZWdtZW50TWV0aG9kID0gX2dldFNlZ21lbnRNZXRob2QodGhpcyk7XG4gICAgbGV0IGxvb3AgPSB0aGlzLl9sb29wO1xuICAgIHN0YXJ0ID0gc3RhcnQgfHwgMDtcbiAgICBjb3VudCA9IGNvdW50IHx8ICh0aGlzLnBvaW50cy5sZW5ndGggLSBzdGFydCk7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICBsb29wICY9IHNlZ21lbnRNZXRob2QoY3R4LCB0aGlzLCBzZWdtZW50LCB7c3RhcnQsIGVuZDogc3RhcnQgKyBjb3VudCAtIDF9KTtcbiAgICB9XG4gICAgcmV0dXJuICEhbG9vcDtcbiAgfVxuICBkcmF3KGN0eCwgY2hhcnRBcmVhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzIHx8IFtdO1xuICAgIGlmIChwb2ludHMubGVuZ3RoICYmIG9wdGlvbnMuYm9yZGVyV2lkdGgpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBkcmF3KGN0eCwgdGhpcywgc3RhcnQsIGNvdW50KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmFuaW1hdGVkKSB7XG4gICAgICB0aGlzLl9wb2ludHNVcGRhdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9wYXRoID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuTGluZUVsZW1lbnQuaWQgPSAnbGluZSc7XG5MaW5lRWxlbWVudC5kZWZhdWx0cyA9IHtcbiAgYm9yZGVyQ2FwU3R5bGU6ICdidXR0JyxcbiAgYm9yZGVyRGFzaDogW10sXG4gIGJvcmRlckRhc2hPZmZzZXQ6IDAsXG4gIGJvcmRlckpvaW5TdHlsZTogJ21pdGVyJyxcbiAgYm9yZGVyV2lkdGg6IDMsXG4gIGNhcEJlemllclBvaW50czogdHJ1ZSxcbiAgY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ2RlZmF1bHQnLFxuICBmaWxsOiBmYWxzZSxcbiAgc3BhbkdhcHM6IGZhbHNlLFxuICBzdGVwcGVkOiBmYWxzZSxcbiAgdGVuc2lvbjogMCxcbn07XG5MaW5lRWxlbWVudC5kZWZhdWx0Um91dGVzID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6ICdiYWNrZ3JvdW5kQ29sb3InLFxuICBib3JkZXJDb2xvcjogJ2JvcmRlckNvbG9yJ1xufTtcbkxpbmVFbGVtZW50LmRlc2NyaXB0b3JzID0ge1xuICBfc2NyaXB0YWJsZTogdHJ1ZSxcbiAgX2luZGV4YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdib3JkZXJEYXNoJyAmJiBuYW1lICE9PSAnZmlsbCcsXG59O1xuXG5mdW5jdGlvbiBpblJhbmdlJDEoZWwsIHBvcywgYXhpcywgdXNlRmluYWxQb3NpdGlvbikge1xuICBjb25zdCBvcHRpb25zID0gZWwub3B0aW9ucztcbiAgY29uc3Qge1theGlzXTogdmFsdWV9ID0gZWwuZ2V0UHJvcHMoW2F4aXNdLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgcmV0dXJuIChNYXRoLmFicyhwb3MgLSB2YWx1ZSkgPCBvcHRpb25zLnJhZGl1cyArIG9wdGlvbnMuaGl0UmFkaXVzKTtcbn1cbmNsYXNzIFBvaW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihjZmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBhcnNlZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnNraXAgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zdG9wID0gdW5kZWZpbmVkO1xuICAgIGlmIChjZmcpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY2ZnKTtcbiAgICB9XG4gIH1cbiAgaW5SYW5nZShtb3VzZVgsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qge3gsIHl9ID0gdGhpcy5nZXRQcm9wcyhbJ3gnLCAneSddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICByZXR1cm4gKChNYXRoLnBvdyhtb3VzZVggLSB4LCAyKSArIE1hdGgucG93KG1vdXNlWSAtIHksIDIpKSA8IE1hdGgucG93KG9wdGlvbnMuaGl0UmFkaXVzICsgb3B0aW9ucy5yYWRpdXMsIDIpKTtcbiAgfVxuICBpblhSYW5nZShtb3VzZVgsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5SYW5nZSQxKHRoaXMsIG1vdXNlWCwgJ3gnLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxuICBpbllSYW5nZShtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5SYW5nZSQxKHRoaXMsIG1vdXNlWSwgJ3knLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxuICBnZXRDZW50ZXJQb2ludCh1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3Qge3gsIHl9ID0gdGhpcy5nZXRQcm9wcyhbJ3gnLCAneSddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICByZXR1cm4ge3gsIHl9O1xuICB9XG4gIHNpemUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHRoaXMub3B0aW9ucyB8fCB7fTtcbiAgICBsZXQgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgMDtcbiAgICByYWRpdXMgPSBNYXRoLm1heChyYWRpdXMsIHJhZGl1cyAmJiBvcHRpb25zLmhvdmVyUmFkaXVzIHx8IDApO1xuICAgIGNvbnN0IGJvcmRlcldpZHRoID0gcmFkaXVzICYmIG9wdGlvbnMuYm9yZGVyV2lkdGggfHwgMDtcbiAgICByZXR1cm4gKHJhZGl1cyArIGJvcmRlcldpZHRoKSAqIDI7XG4gIH1cbiAgZHJhdyhjdHgsIGFyZWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICh0aGlzLnNraXAgfHwgb3B0aW9ucy5yYWRpdXMgPCAwLjEgfHwgIV9pc1BvaW50SW5BcmVhKHRoaXMsIGFyZWEsIHRoaXMuc2l6ZShvcHRpb25zKSAvIDIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0eC5zdHJva2VTdHlsZSA9IG9wdGlvbnMuYm9yZGVyQ29sb3I7XG4gICAgY3R4LmxpbmVXaWR0aCA9IG9wdGlvbnMuYm9yZGVyV2lkdGg7XG4gICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xuICAgIGRyYXdQb2ludChjdHgsIG9wdGlvbnMsIHRoaXMueCwgdGhpcy55KTtcbiAgfVxuICBnZXRSYW5nZSgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiBvcHRpb25zLnJhZGl1cyArIG9wdGlvbnMuaGl0UmFkaXVzO1xuICB9XG59XG5Qb2ludEVsZW1lbnQuaWQgPSAncG9pbnQnO1xuUG9pbnRFbGVtZW50LmRlZmF1bHRzID0ge1xuICBib3JkZXJXaWR0aDogMSxcbiAgaGl0UmFkaXVzOiAxLFxuICBob3ZlckJvcmRlcldpZHRoOiAxLFxuICBob3ZlclJhZGl1czogNCxcbiAgcG9pbnRTdHlsZTogJ2NpcmNsZScsXG4gIHJhZGl1czogMyxcbiAgcm90YXRpb246IDBcbn07XG5Qb2ludEVsZW1lbnQuZGVmYXVsdFJvdXRlcyA9IHtcbiAgYmFja2dyb3VuZENvbG9yOiAnYmFja2dyb3VuZENvbG9yJyxcbiAgYm9yZGVyQ29sb3I6ICdib3JkZXJDb2xvcidcbn07XG5cbmZ1bmN0aW9uIGdldEJhckJvdW5kcyhiYXIsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgY29uc3Qge3gsIHksIGJhc2UsIHdpZHRoLCBoZWlnaHR9ID0gYmFyLmdldFByb3BzKFsneCcsICd5JywgJ2Jhc2UnLCAnd2lkdGgnLCAnaGVpZ2h0J10sIHVzZUZpbmFsUG9zaXRpb24pO1xuICBsZXQgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tLCBoYWxmO1xuICBpZiAoYmFyLmhvcml6b250YWwpIHtcbiAgICBoYWxmID0gaGVpZ2h0IC8gMjtcbiAgICBsZWZ0ID0gTWF0aC5taW4oeCwgYmFzZSk7XG4gICAgcmlnaHQgPSBNYXRoLm1heCh4LCBiYXNlKTtcbiAgICB0b3AgPSB5IC0gaGFsZjtcbiAgICBib3R0b20gPSB5ICsgaGFsZjtcbiAgfSBlbHNlIHtcbiAgICBoYWxmID0gd2lkdGggLyAyO1xuICAgIGxlZnQgPSB4IC0gaGFsZjtcbiAgICByaWdodCA9IHggKyBoYWxmO1xuICAgIHRvcCA9IE1hdGgubWluKHksIGJhc2UpO1xuICAgIGJvdHRvbSA9IE1hdGgubWF4KHksIGJhc2UpO1xuICB9XG4gIHJldHVybiB7bGVmdCwgdG9wLCByaWdodCwgYm90dG9tfTtcbn1cbmZ1bmN0aW9uIHNraXBPckxpbWl0KHNraXAsIHZhbHVlLCBtaW4sIG1heCkge1xuICByZXR1cm4gc2tpcCA/IDAgOiBfbGltaXRWYWx1ZSh2YWx1ZSwgbWluLCBtYXgpO1xufVxuZnVuY3Rpb24gcGFyc2VCb3JkZXJXaWR0aChiYXIsIG1heFcsIG1heEgpIHtcbiAgY29uc3QgdmFsdWUgPSBiYXIub3B0aW9ucy5ib3JkZXJXaWR0aDtcbiAgY29uc3Qgc2tpcCA9IGJhci5ib3JkZXJTa2lwcGVkO1xuICBjb25zdCBvID0gdG9UUkJMKHZhbHVlKTtcbiAgcmV0dXJuIHtcbiAgICB0OiBza2lwT3JMaW1pdChza2lwLnRvcCwgby50b3AsIDAsIG1heEgpLFxuICAgIHI6IHNraXBPckxpbWl0KHNraXAucmlnaHQsIG8ucmlnaHQsIDAsIG1heFcpLFxuICAgIGI6IHNraXBPckxpbWl0KHNraXAuYm90dG9tLCBvLmJvdHRvbSwgMCwgbWF4SCksXG4gICAgbDogc2tpcE9yTGltaXQoc2tpcC5sZWZ0LCBvLmxlZnQsIDAsIG1heFcpXG4gIH07XG59XG5mdW5jdGlvbiBwYXJzZUJvcmRlclJhZGl1cyhiYXIsIG1heFcsIG1heEgpIHtcbiAgY29uc3Qge2VuYWJsZUJvcmRlclJhZGl1c30gPSBiYXIuZ2V0UHJvcHMoWydlbmFibGVCb3JkZXJSYWRpdXMnXSk7XG4gIGNvbnN0IHZhbHVlID0gYmFyLm9wdGlvbnMuYm9yZGVyUmFkaXVzO1xuICBjb25zdCBvID0gdG9UUkJMQ29ybmVycyh2YWx1ZSk7XG4gIGNvbnN0IG1heFIgPSBNYXRoLm1pbihtYXhXLCBtYXhIKTtcbiAgY29uc3Qgc2tpcCA9IGJhci5ib3JkZXJTa2lwcGVkO1xuICBjb25zdCBlbmFibGVCb3JkZXIgPSBlbmFibGVCb3JkZXJSYWRpdXMgfHwgaXNPYmplY3QodmFsdWUpO1xuICByZXR1cm4ge1xuICAgIHRvcExlZnQ6IHNraXBPckxpbWl0KCFlbmFibGVCb3JkZXIgfHwgc2tpcC50b3AgfHwgc2tpcC5sZWZ0LCBvLnRvcExlZnQsIDAsIG1heFIpLFxuICAgIHRvcFJpZ2h0OiBza2lwT3JMaW1pdCghZW5hYmxlQm9yZGVyIHx8IHNraXAudG9wIHx8IHNraXAucmlnaHQsIG8udG9wUmlnaHQsIDAsIG1heFIpLFxuICAgIGJvdHRvbUxlZnQ6IHNraXBPckxpbWl0KCFlbmFibGVCb3JkZXIgfHwgc2tpcC5ib3R0b20gfHwgc2tpcC5sZWZ0LCBvLmJvdHRvbUxlZnQsIDAsIG1heFIpLFxuICAgIGJvdHRvbVJpZ2h0OiBza2lwT3JMaW1pdCghZW5hYmxlQm9yZGVyIHx8IHNraXAuYm90dG9tIHx8IHNraXAucmlnaHQsIG8uYm90dG9tUmlnaHQsIDAsIG1heFIpXG4gIH07XG59XG5mdW5jdGlvbiBib3VuZGluZ1JlY3RzKGJhcikge1xuICBjb25zdCBib3VuZHMgPSBnZXRCYXJCb3VuZHMoYmFyKTtcbiAgY29uc3Qgd2lkdGggPSBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdDtcbiAgY29uc3QgaGVpZ2h0ID0gYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7XG4gIGNvbnN0IGJvcmRlciA9IHBhcnNlQm9yZGVyV2lkdGgoYmFyLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICBjb25zdCByYWRpdXMgPSBwYXJzZUJvcmRlclJhZGl1cyhiYXIsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gIHJldHVybiB7XG4gICAgb3V0ZXI6IHtcbiAgICAgIHg6IGJvdW5kcy5sZWZ0LFxuICAgICAgeTogYm91bmRzLnRvcCxcbiAgICAgIHc6IHdpZHRoLFxuICAgICAgaDogaGVpZ2h0LFxuICAgICAgcmFkaXVzXG4gICAgfSxcbiAgICBpbm5lcjoge1xuICAgICAgeDogYm91bmRzLmxlZnQgKyBib3JkZXIubCxcbiAgICAgIHk6IGJvdW5kcy50b3AgKyBib3JkZXIudCxcbiAgICAgIHc6IHdpZHRoIC0gYm9yZGVyLmwgLSBib3JkZXIucixcbiAgICAgIGg6IGhlaWdodCAtIGJvcmRlci50IC0gYm9yZGVyLmIsXG4gICAgICByYWRpdXM6IHtcbiAgICAgICAgdG9wTGVmdDogTWF0aC5tYXgoMCwgcmFkaXVzLnRvcExlZnQgLSBNYXRoLm1heChib3JkZXIudCwgYm9yZGVyLmwpKSxcbiAgICAgICAgdG9wUmlnaHQ6IE1hdGgubWF4KDAsIHJhZGl1cy50b3BSaWdodCAtIE1hdGgubWF4KGJvcmRlci50LCBib3JkZXIucikpLFxuICAgICAgICBib3R0b21MZWZ0OiBNYXRoLm1heCgwLCByYWRpdXMuYm90dG9tTGVmdCAtIE1hdGgubWF4KGJvcmRlci5iLCBib3JkZXIubCkpLFxuICAgICAgICBib3R0b21SaWdodDogTWF0aC5tYXgoMCwgcmFkaXVzLmJvdHRvbVJpZ2h0IC0gTWF0aC5tYXgoYm9yZGVyLmIsIGJvcmRlci5yKSksXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gaW5SYW5nZShiYXIsIHgsIHksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgY29uc3Qgc2tpcFggPSB4ID09PSBudWxsO1xuICBjb25zdCBza2lwWSA9IHkgPT09IG51bGw7XG4gIGNvbnN0IHNraXBCb3RoID0gc2tpcFggJiYgc2tpcFk7XG4gIGNvbnN0IGJvdW5kcyA9IGJhciAmJiAhc2tpcEJvdGggJiYgZ2V0QmFyQm91bmRzKGJhciwgdXNlRmluYWxQb3NpdGlvbik7XG4gIHJldHVybiBib3VuZHNcblx0XHQmJiAoc2tpcFggfHwgX2lzQmV0d2Vlbih4LCBib3VuZHMubGVmdCwgYm91bmRzLnJpZ2h0KSlcblx0XHQmJiAoc2tpcFkgfHwgX2lzQmV0d2Vlbih5LCBib3VuZHMudG9wLCBib3VuZHMuYm90dG9tKSk7XG59XG5mdW5jdGlvbiBoYXNSYWRpdXMocmFkaXVzKSB7XG4gIHJldHVybiByYWRpdXMudG9wTGVmdCB8fCByYWRpdXMudG9wUmlnaHQgfHwgcmFkaXVzLmJvdHRvbUxlZnQgfHwgcmFkaXVzLmJvdHRvbVJpZ2h0O1xufVxuZnVuY3Rpb24gYWRkTm9ybWFsUmVjdFBhdGgoY3R4LCByZWN0KSB7XG4gIGN0eC5yZWN0KHJlY3QueCwgcmVjdC55LCByZWN0LncsIHJlY3QuaCk7XG59XG5mdW5jdGlvbiBpbmZsYXRlUmVjdChyZWN0LCBhbW91bnQsIHJlZlJlY3QgPSB7fSkge1xuICBjb25zdCB4ID0gcmVjdC54ICE9PSByZWZSZWN0LnggPyAtYW1vdW50IDogMDtcbiAgY29uc3QgeSA9IHJlY3QueSAhPT0gcmVmUmVjdC55ID8gLWFtb3VudCA6IDA7XG4gIGNvbnN0IHcgPSAocmVjdC54ICsgcmVjdC53ICE9PSByZWZSZWN0LnggKyByZWZSZWN0LncgPyBhbW91bnQgOiAwKSAtIHg7XG4gIGNvbnN0IGggPSAocmVjdC55ICsgcmVjdC5oICE9PSByZWZSZWN0LnkgKyByZWZSZWN0LmggPyBhbW91bnQgOiAwKSAtIHk7XG4gIHJldHVybiB7XG4gICAgeDogcmVjdC54ICsgeCxcbiAgICB5OiByZWN0LnkgKyB5LFxuICAgIHc6IHJlY3QudyArIHcsXG4gICAgaDogcmVjdC5oICsgaCxcbiAgICByYWRpdXM6IHJlY3QucmFkaXVzXG4gIH07XG59XG5jbGFzcyBCYXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaG9yaXpvbnRhbCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJhc2UgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmluZmxhdGVBbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGNmZykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjZmcpO1xuICAgIH1cbiAgfVxuICBkcmF3KGN0eCkge1xuICAgIGNvbnN0IHtpbmZsYXRlQW1vdW50LCBvcHRpb25zOiB7Ym9yZGVyQ29sb3IsIGJhY2tncm91bmRDb2xvcn19ID0gdGhpcztcbiAgICBjb25zdCB7aW5uZXIsIG91dGVyfSA9IGJvdW5kaW5nUmVjdHModGhpcyk7XG4gICAgY29uc3QgYWRkUmVjdFBhdGggPSBoYXNSYWRpdXMob3V0ZXIucmFkaXVzKSA/IGFkZFJvdW5kZWRSZWN0UGF0aCA6IGFkZE5vcm1hbFJlY3RQYXRoO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgaWYgKG91dGVyLncgIT09IGlubmVyLncgfHwgb3V0ZXIuaCAhPT0gaW5uZXIuaCkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgYWRkUmVjdFBhdGgoY3R4LCBpbmZsYXRlUmVjdChvdXRlciwgaW5mbGF0ZUFtb3VudCwgaW5uZXIpKTtcbiAgICAgIGN0eC5jbGlwKCk7XG4gICAgICBhZGRSZWN0UGF0aChjdHgsIGluZmxhdGVSZWN0KGlubmVyLCAtaW5mbGF0ZUFtb3VudCwgb3V0ZXIpKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBib3JkZXJDb2xvcjtcbiAgICAgIGN0eC5maWxsKCdldmVub2RkJyk7XG4gICAgfVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBhZGRSZWN0UGF0aChjdHgsIGluZmxhdGVSZWN0KGlubmVyLCBpbmZsYXRlQW1vdW50KSk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbiAgaW5SYW5nZShtb3VzZVgsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIHJldHVybiBpblJhbmdlKHRoaXMsIG1vdXNlWCwgbW91c2VZLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxuICBpblhSYW5nZShtb3VzZVgsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5SYW5nZSh0aGlzLCBtb3VzZVgsIG51bGwsIHVzZUZpbmFsUG9zaXRpb24pO1xuICB9XG4gIGluWVJhbmdlKG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIHJldHVybiBpblJhbmdlKHRoaXMsIG51bGwsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbik7XG4gIH1cbiAgZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IHt4LCB5LCBiYXNlLCBob3Jpem9udGFsfSA9IHRoaXMuZ2V0UHJvcHMoWyd4JywgJ3knLCAnYmFzZScsICdob3Jpem9udGFsJ10sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBob3Jpem9udGFsID8gKHggKyBiYXNlKSAvIDIgOiB4LFxuICAgICAgeTogaG9yaXpvbnRhbCA/IHkgOiAoeSArIGJhc2UpIC8gMlxuICAgIH07XG4gIH1cbiAgZ2V0UmFuZ2UoYXhpcykge1xuICAgIHJldHVybiBheGlzID09PSAneCcgPyB0aGlzLndpZHRoIC8gMiA6IHRoaXMuaGVpZ2h0IC8gMjtcbiAgfVxufVxuQmFyRWxlbWVudC5pZCA9ICdiYXInO1xuQmFyRWxlbWVudC5kZWZhdWx0cyA9IHtcbiAgYm9yZGVyU2tpcHBlZDogJ3N0YXJ0JyxcbiAgYm9yZGVyV2lkdGg6IDAsXG4gIGJvcmRlclJhZGl1czogMCxcbiAgaW5mbGF0ZUFtb3VudDogJ2F1dG8nLFxuICBwb2ludFN0eWxlOiB1bmRlZmluZWRcbn07XG5CYXJFbGVtZW50LmRlZmF1bHRSb3V0ZXMgPSB7XG4gIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcicsXG4gIGJvcmRlckNvbG9yOiAnYm9yZGVyQ29sb3InXG59O1xuXG52YXIgZWxlbWVudHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5fX3Byb3RvX186IG51bGwsXG5BcmNFbGVtZW50OiBBcmNFbGVtZW50LFxuTGluZUVsZW1lbnQ6IExpbmVFbGVtZW50LFxuUG9pbnRFbGVtZW50OiBQb2ludEVsZW1lbnQsXG5CYXJFbGVtZW50OiBCYXJFbGVtZW50XG59KTtcblxuZnVuY3Rpb24gbHR0YkRlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCwgb3B0aW9ucykge1xuICBjb25zdCBzYW1wbGVzID0gb3B0aW9ucy5zYW1wbGVzIHx8IGF2YWlsYWJsZVdpZHRoO1xuICBpZiAoc2FtcGxlcyA+PSBjb3VudCkge1xuICAgIHJldHVybiBkYXRhLnNsaWNlKHN0YXJ0LCBzdGFydCArIGNvdW50KTtcbiAgfVxuICBjb25zdCBkZWNpbWF0ZWQgPSBbXTtcbiAgY29uc3QgYnVja2V0V2lkdGggPSAoY291bnQgLSAyKSAvIChzYW1wbGVzIC0gMik7XG4gIGxldCBzYW1wbGVkSW5kZXggPSAwO1xuICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0ICsgY291bnQgLSAxO1xuICBsZXQgYSA9IHN0YXJ0O1xuICBsZXQgaSwgbWF4QXJlYVBvaW50LCBtYXhBcmVhLCBhcmVhLCBuZXh0QTtcbiAgZGVjaW1hdGVkW3NhbXBsZWRJbmRleCsrXSA9IGRhdGFbYV07XG4gIGZvciAoaSA9IDA7IGkgPCBzYW1wbGVzIC0gMjsgaSsrKSB7XG4gICAgbGV0IGF2Z1ggPSAwO1xuICAgIGxldCBhdmdZID0gMDtcbiAgICBsZXQgajtcbiAgICBjb25zdCBhdmdSYW5nZVN0YXJ0ID0gTWF0aC5mbG9vcigoaSArIDEpICogYnVja2V0V2lkdGgpICsgMSArIHN0YXJ0O1xuICAgIGNvbnN0IGF2Z1JhbmdlRW5kID0gTWF0aC5taW4oTWF0aC5mbG9vcigoaSArIDIpICogYnVja2V0V2lkdGgpICsgMSwgY291bnQpICsgc3RhcnQ7XG4gICAgY29uc3QgYXZnUmFuZ2VMZW5ndGggPSBhdmdSYW5nZUVuZCAtIGF2Z1JhbmdlU3RhcnQ7XG4gICAgZm9yIChqID0gYXZnUmFuZ2VTdGFydDsgaiA8IGF2Z1JhbmdlRW5kOyBqKyspIHtcbiAgICAgIGF2Z1ggKz0gZGF0YVtqXS54O1xuICAgICAgYXZnWSArPSBkYXRhW2pdLnk7XG4gICAgfVxuICAgIGF2Z1ggLz0gYXZnUmFuZ2VMZW5ndGg7XG4gICAgYXZnWSAvPSBhdmdSYW5nZUxlbmd0aDtcbiAgICBjb25zdCByYW5nZU9mZnMgPSBNYXRoLmZsb29yKGkgKiBidWNrZXRXaWR0aCkgKyAxICsgc3RhcnQ7XG4gICAgY29uc3QgcmFuZ2VUbyA9IE1hdGgubWluKE1hdGguZmxvb3IoKGkgKyAxKSAqIGJ1Y2tldFdpZHRoKSArIDEsIGNvdW50KSArIHN0YXJ0O1xuICAgIGNvbnN0IHt4OiBwb2ludEF4LCB5OiBwb2ludEF5fSA9IGRhdGFbYV07XG4gICAgbWF4QXJlYSA9IGFyZWEgPSAtMTtcbiAgICBmb3IgKGogPSByYW5nZU9mZnM7IGogPCByYW5nZVRvOyBqKyspIHtcbiAgICAgIGFyZWEgPSAwLjUgKiBNYXRoLmFicyhcbiAgICAgICAgKHBvaW50QXggLSBhdmdYKSAqIChkYXRhW2pdLnkgLSBwb2ludEF5KSAtXG4gICAgICAgIChwb2ludEF4IC0gZGF0YVtqXS54KSAqIChhdmdZIC0gcG9pbnRBeSlcbiAgICAgICk7XG4gICAgICBpZiAoYXJlYSA+IG1heEFyZWEpIHtcbiAgICAgICAgbWF4QXJlYSA9IGFyZWE7XG4gICAgICAgIG1heEFyZWFQb2ludCA9IGRhdGFbal07XG4gICAgICAgIG5leHRBID0gajtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVjaW1hdGVkW3NhbXBsZWRJbmRleCsrXSA9IG1heEFyZWFQb2ludDtcbiAgICBhID0gbmV4dEE7XG4gIH1cbiAgZGVjaW1hdGVkW3NhbXBsZWRJbmRleCsrXSA9IGRhdGFbZW5kSW5kZXhdO1xuICByZXR1cm4gZGVjaW1hdGVkO1xufVxuZnVuY3Rpb24gbWluTWF4RGVjaW1hdGlvbihkYXRhLCBzdGFydCwgY291bnQsIGF2YWlsYWJsZVdpZHRoKSB7XG4gIGxldCBhdmdYID0gMDtcbiAgbGV0IGNvdW50WCA9IDA7XG4gIGxldCBpLCBwb2ludCwgeCwgeSwgcHJldlgsIG1pbkluZGV4LCBtYXhJbmRleCwgc3RhcnRJbmRleCwgbWluWSwgbWF4WTtcbiAgY29uc3QgZGVjaW1hdGVkID0gW107XG4gIGNvbnN0IGVuZEluZGV4ID0gc3RhcnQgKyBjb3VudCAtIDE7XG4gIGNvbnN0IHhNaW4gPSBkYXRhW3N0YXJ0XS54O1xuICBjb25zdCB4TWF4ID0gZGF0YVtlbmRJbmRleF0ueDtcbiAgY29uc3QgZHggPSB4TWF4IC0geE1pbjtcbiAgZm9yIChpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyArK2kpIHtcbiAgICBwb2ludCA9IGRhdGFbaV07XG4gICAgeCA9IChwb2ludC54IC0geE1pbikgLyBkeCAqIGF2YWlsYWJsZVdpZHRoO1xuICAgIHkgPSBwb2ludC55O1xuICAgIGNvbnN0IHRydW5jWCA9IHggfCAwO1xuICAgIGlmICh0cnVuY1ggPT09IHByZXZYKSB7XG4gICAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgbWluWSA9IHk7XG4gICAgICAgIG1pbkluZGV4ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoeSA+IG1heFkpIHtcbiAgICAgICAgbWF4WSA9IHk7XG4gICAgICAgIG1heEluZGV4ID0gaTtcbiAgICAgIH1cbiAgICAgIGF2Z1ggPSAoY291bnRYICogYXZnWCArIHBvaW50LngpIC8gKytjb3VudFg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGkgLSAxO1xuICAgICAgaWYgKCFpc051bGxPclVuZGVmKG1pbkluZGV4KSAmJiAhaXNOdWxsT3JVbmRlZihtYXhJbmRleCkpIHtcbiAgICAgICAgY29uc3QgaW50ZXJtZWRpYXRlSW5kZXgxID0gTWF0aC5taW4obWluSW5kZXgsIG1heEluZGV4KTtcbiAgICAgICAgY29uc3QgaW50ZXJtZWRpYXRlSW5kZXgyID0gTWF0aC5tYXgobWluSW5kZXgsIG1heEluZGV4KTtcbiAgICAgICAgaWYgKGludGVybWVkaWF0ZUluZGV4MSAhPT0gc3RhcnRJbmRleCAmJiBpbnRlcm1lZGlhdGVJbmRleDEgIT09IGxhc3RJbmRleCkge1xuICAgICAgICAgIGRlY2ltYXRlZC5wdXNoKHtcbiAgICAgICAgICAgIC4uLmRhdGFbaW50ZXJtZWRpYXRlSW5kZXgxXSxcbiAgICAgICAgICAgIHg6IGF2Z1gsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVybWVkaWF0ZUluZGV4MiAhPT0gc3RhcnRJbmRleCAmJiBpbnRlcm1lZGlhdGVJbmRleDIgIT09IGxhc3RJbmRleCkge1xuICAgICAgICAgIGRlY2ltYXRlZC5wdXNoKHtcbiAgICAgICAgICAgIC4uLmRhdGFbaW50ZXJtZWRpYXRlSW5kZXgyXSxcbiAgICAgICAgICAgIHg6IGF2Z1hcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPiAwICYmIGxhc3RJbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICBkZWNpbWF0ZWQucHVzaChkYXRhW2xhc3RJbmRleF0pO1xuICAgICAgfVxuICAgICAgZGVjaW1hdGVkLnB1c2gocG9pbnQpO1xuICAgICAgcHJldlggPSB0cnVuY1g7XG4gICAgICBjb3VudFggPSAwO1xuICAgICAgbWluWSA9IG1heFkgPSB5O1xuICAgICAgbWluSW5kZXggPSBtYXhJbmRleCA9IHN0YXJ0SW5kZXggPSBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVjaW1hdGVkO1xufVxuZnVuY3Rpb24gY2xlYW5EZWNpbWF0ZWREYXRhc2V0KGRhdGFzZXQpIHtcbiAgaWYgKGRhdGFzZXQuX2RlY2ltYXRlZCkge1xuICAgIGNvbnN0IGRhdGEgPSBkYXRhc2V0Ll9kYXRhO1xuICAgIGRlbGV0ZSBkYXRhc2V0Ll9kZWNpbWF0ZWQ7XG4gICAgZGVsZXRlIGRhdGFzZXQuX2RhdGE7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGFzZXQsICdkYXRhJywge3ZhbHVlOiBkYXRhfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFuRGVjaW1hdGVkRGF0YShjaGFydCkge1xuICBjaGFydC5kYXRhLmRhdGFzZXRzLmZvckVhY2goKGRhdGFzZXQpID0+IHtcbiAgICBjbGVhbkRlY2ltYXRlZERhdGFzZXQoZGF0YXNldCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50c1NpbXBsaWZpZWQobWV0YSwgcG9pbnRzKSB7XG4gIGNvbnN0IHBvaW50Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICBsZXQgc3RhcnQgPSAwO1xuICBsZXQgY291bnQ7XG4gIGNvbnN0IHtpU2NhbGV9ID0gbWV0YTtcbiAgY29uc3Qge21pbiwgbWF4LCBtaW5EZWZpbmVkLCBtYXhEZWZpbmVkfSA9IGlTY2FsZS5nZXRVc2VyQm91bmRzKCk7XG4gIGlmIChtaW5EZWZpbmVkKSB7XG4gICAgc3RhcnQgPSBfbGltaXRWYWx1ZShfbG9va3VwQnlLZXkocG9pbnRzLCBpU2NhbGUuYXhpcywgbWluKS5sbywgMCwgcG9pbnRDb3VudCAtIDEpO1xuICB9XG4gIGlmIChtYXhEZWZpbmVkKSB7XG4gICAgY291bnQgPSBfbGltaXRWYWx1ZShfbG9va3VwQnlLZXkocG9pbnRzLCBpU2NhbGUuYXhpcywgbWF4KS5oaSArIDEsIHN0YXJ0LCBwb2ludENvdW50KSAtIHN0YXJ0O1xuICB9IGVsc2Uge1xuICAgIGNvdW50ID0gcG9pbnRDb3VudCAtIHN0YXJ0O1xuICB9XG4gIHJldHVybiB7c3RhcnQsIGNvdW50fTtcbn1cbnZhciBwbHVnaW5fZGVjaW1hdGlvbiA9IHtcbiAgaWQ6ICdkZWNpbWF0aW9uJyxcbiAgZGVmYXVsdHM6IHtcbiAgICBhbGdvcml0aG06ICdtaW4tbWF4JyxcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgfSxcbiAgYmVmb3JlRWxlbWVudHNVcGRhdGU6IChjaGFydCwgYXJncywgb3B0aW9ucykgPT4ge1xuICAgIGlmICghb3B0aW9ucy5lbmFibGVkKSB7XG4gICAgICBjbGVhbkRlY2ltYXRlZERhdGEoY2hhcnQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGNoYXJ0LndpZHRoO1xuICAgIGNoYXJ0LmRhdGEuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCwgZGF0YXNldEluZGV4KSA9PiB7XG4gICAgICBjb25zdCB7X2RhdGEsIGluZGV4QXhpc30gPSBkYXRhc2V0O1xuICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCk7XG4gICAgICBjb25zdCBkYXRhID0gX2RhdGEgfHwgZGF0YXNldC5kYXRhO1xuICAgICAgaWYgKHJlc29sdmUoW2luZGV4QXhpcywgY2hhcnQub3B0aW9ucy5pbmRleEF4aXNdKSA9PT0gJ3knKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghbWV0YS5jb250cm9sbGVyLnN1cHBvcnRzRGVjaW1hdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB4QXhpcyA9IGNoYXJ0LnNjYWxlc1ttZXRhLnhBeGlzSURdO1xuICAgICAgaWYgKHhBeGlzLnR5cGUgIT09ICdsaW5lYXInICYmIHhBeGlzLnR5cGUgIT09ICd0aW1lJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoY2hhcnQub3B0aW9ucy5wYXJzaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB7c3RhcnQsIGNvdW50fSA9IGdldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHNTaW1wbGlmaWVkKG1ldGEsIGRhdGEpO1xuICAgICAgY29uc3QgdGhyZXNob2xkID0gb3B0aW9ucy50aHJlc2hvbGQgfHwgNCAqIGF2YWlsYWJsZVdpZHRoO1xuICAgICAgaWYgKGNvdW50IDw9IHRocmVzaG9sZCkge1xuICAgICAgICBjbGVhbkRlY2ltYXRlZERhdGFzZXQoZGF0YXNldCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc051bGxPclVuZGVmKF9kYXRhKSkge1xuICAgICAgICBkYXRhc2V0Ll9kYXRhID0gZGF0YTtcbiAgICAgICAgZGVsZXRlIGRhdGFzZXQuZGF0YTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGFzZXQsICdkYXRhJywge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVjaW1hdGVkO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IGRlY2ltYXRlZDtcbiAgICAgIHN3aXRjaCAob3B0aW9ucy5hbGdvcml0aG0pIHtcbiAgICAgIGNhc2UgJ2x0dGInOlxuICAgICAgICBkZWNpbWF0ZWQgPSBsdHRiRGVjaW1hdGlvbihkYXRhLCBzdGFydCwgY291bnQsIGF2YWlsYWJsZVdpZHRoLCBvcHRpb25zKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdtaW4tbWF4JzpcbiAgICAgICAgZGVjaW1hdGVkID0gbWluTWF4RGVjaW1hdGlvbihkYXRhLCBzdGFydCwgY291bnQsIGF2YWlsYWJsZVdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRlY2ltYXRpb24gYWxnb3JpdGhtICcke29wdGlvbnMuYWxnb3JpdGhtfSdgKTtcbiAgICAgIH1cbiAgICAgIGRhdGFzZXQuX2RlY2ltYXRlZCA9IGRlY2ltYXRlZDtcbiAgICB9KTtcbiAgfSxcbiAgZGVzdHJveShjaGFydCkge1xuICAgIGNsZWFuRGVjaW1hdGVkRGF0YShjaGFydCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9zZWdtZW50cyhsaW5lLCB0YXJnZXQsIHByb3BlcnR5KSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gbGluZS5zZWdtZW50cztcbiAgY29uc3QgcG9pbnRzID0gbGluZS5wb2ludHM7XG4gIGNvbnN0IHRwb2ludHMgPSB0YXJnZXQucG9pbnRzO1xuICBjb25zdCBwYXJ0cyA9IFtdO1xuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICBsZXQge3N0YXJ0LCBlbmR9ID0gc2VnbWVudDtcbiAgICBlbmQgPSBfZmluZFNlZ21lbnRFbmQoc3RhcnQsIGVuZCwgcG9pbnRzKTtcbiAgICBjb25zdCBib3VuZHMgPSBfZ2V0Qm91bmRzKHByb3BlcnR5LCBwb2ludHNbc3RhcnRdLCBwb2ludHNbZW5kXSwgc2VnbWVudC5sb29wKTtcbiAgICBpZiAoIXRhcmdldC5zZWdtZW50cykge1xuICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgIHNvdXJjZTogc2VnbWVudCxcbiAgICAgICAgdGFyZ2V0OiBib3VuZHMsXG4gICAgICAgIHN0YXJ0OiBwb2ludHNbc3RhcnRdLFxuICAgICAgICBlbmQ6IHBvaW50c1tlbmRdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXRTZWdtZW50cyA9IF9ib3VuZFNlZ21lbnRzKHRhcmdldCwgYm91bmRzKTtcbiAgICBmb3IgKGNvbnN0IHRndCBvZiB0YXJnZXRTZWdtZW50cykge1xuICAgICAgY29uc3Qgc3ViQm91bmRzID0gX2dldEJvdW5kcyhwcm9wZXJ0eSwgdHBvaW50c1t0Z3Quc3RhcnRdLCB0cG9pbnRzW3RndC5lbmRdLCB0Z3QubG9vcCk7XG4gICAgICBjb25zdCBmaWxsU291cmNlcyA9IF9ib3VuZFNlZ21lbnQoc2VnbWVudCwgcG9pbnRzLCBzdWJCb3VuZHMpO1xuICAgICAgZm9yIChjb25zdCBmaWxsU291cmNlIG9mIGZpbGxTb3VyY2VzKSB7XG4gICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgIHNvdXJjZTogZmlsbFNvdXJjZSxcbiAgICAgICAgICB0YXJnZXQ6IHRndCxcbiAgICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgW3Byb3BlcnR5XTogX2dldEVkZ2UoYm91bmRzLCBzdWJCb3VuZHMsICdzdGFydCcsIE1hdGgubWF4KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZW5kOiB7XG4gICAgICAgICAgICBbcHJvcGVydHldOiBfZ2V0RWRnZShib3VuZHMsIHN1YkJvdW5kcywgJ2VuZCcsIE1hdGgubWluKVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cbmZ1bmN0aW9uIF9nZXRCb3VuZHMocHJvcGVydHksIGZpcnN0LCBsYXN0LCBsb29wKSB7XG4gIGlmIChsb29wKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzdGFydCA9IGZpcnN0W3Byb3BlcnR5XTtcbiAgbGV0IGVuZCA9IGxhc3RbcHJvcGVydHldO1xuICBpZiAocHJvcGVydHkgPT09ICdhbmdsZScpIHtcbiAgICBzdGFydCA9IF9ub3JtYWxpemVBbmdsZShzdGFydCk7XG4gICAgZW5kID0gX25vcm1hbGl6ZUFuZ2xlKGVuZCk7XG4gIH1cbiAgcmV0dXJuIHtwcm9wZXJ0eSwgc3RhcnQsIGVuZH07XG59XG5mdW5jdGlvbiBfcG9pbnRzRnJvbVNlZ21lbnRzKGJvdW5kYXJ5LCBsaW5lKSB7XG4gIGNvbnN0IHt4ID0gbnVsbCwgeSA9IG51bGx9ID0gYm91bmRhcnkgfHwge307XG4gIGNvbnN0IGxpbmVQb2ludHMgPSBsaW5lLnBvaW50cztcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIGxpbmUuc2VnbWVudHMuZm9yRWFjaCgoe3N0YXJ0LCBlbmR9KSA9PiB7XG4gICAgZW5kID0gX2ZpbmRTZWdtZW50RW5kKHN0YXJ0LCBlbmQsIGxpbmVQb2ludHMpO1xuICAgIGNvbnN0IGZpcnN0ID0gbGluZVBvaW50c1tzdGFydF07XG4gICAgY29uc3QgbGFzdCA9IGxpbmVQb2ludHNbZW5kXTtcbiAgICBpZiAoeSAhPT0gbnVsbCkge1xuICAgICAgcG9pbnRzLnB1c2goe3g6IGZpcnN0LngsIHl9KTtcbiAgICAgIHBvaW50cy5wdXNoKHt4OiBsYXN0LngsIHl9KTtcbiAgICB9IGVsc2UgaWYgKHggIT09IG51bGwpIHtcbiAgICAgIHBvaW50cy5wdXNoKHt4LCB5OiBmaXJzdC55fSk7XG4gICAgICBwb2ludHMucHVzaCh7eCwgeTogbGFzdC55fSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHBvaW50cztcbn1cbmZ1bmN0aW9uIF9maW5kU2VnbWVudEVuZChzdGFydCwgZW5kLCBwb2ludHMpIHtcbiAgZm9yICg7ZW5kID4gc3RhcnQ7IGVuZC0tKSB7XG4gICAgY29uc3QgcG9pbnQgPSBwb2ludHNbZW5kXTtcbiAgICBpZiAoIWlzTmFOKHBvaW50LngpICYmICFpc05hTihwb2ludC55KSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbmQ7XG59XG5mdW5jdGlvbiBfZ2V0RWRnZShhLCBiLCBwcm9wLCBmbikge1xuICBpZiAoYSAmJiBiKSB7XG4gICAgcmV0dXJuIGZuKGFbcHJvcF0sIGJbcHJvcF0pO1xuICB9XG4gIHJldHVybiBhID8gYVtwcm9wXSA6IGIgPyBiW3Byb3BdIDogMDtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUJvdW5kYXJ5TGluZShib3VuZGFyeSwgbGluZSkge1xuICBsZXQgcG9pbnRzID0gW107XG4gIGxldCBfbG9vcCA9IGZhbHNlO1xuICBpZiAoaXNBcnJheShib3VuZGFyeSkpIHtcbiAgICBfbG9vcCA9IHRydWU7XG4gICAgcG9pbnRzID0gYm91bmRhcnk7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRzID0gX3BvaW50c0Zyb21TZWdtZW50cyhib3VuZGFyeSwgbGluZSk7XG4gIH1cbiAgcmV0dXJuIHBvaW50cy5sZW5ndGggPyBuZXcgTGluZUVsZW1lbnQoe1xuICAgIHBvaW50cyxcbiAgICBvcHRpb25zOiB7dGVuc2lvbjogMH0sXG4gICAgX2xvb3AsXG4gICAgX2Z1bGxMb29wOiBfbG9vcFxuICB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBfc2hvdWxkQXBwbHlGaWxsKHNvdXJjZSkge1xuICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5maWxsICE9PSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gX3Jlc29sdmVUYXJnZXQoc291cmNlcywgaW5kZXgsIHByb3BhZ2F0ZSkge1xuICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgbGV0IGZpbGwgPSBzb3VyY2UuZmlsbDtcbiAgY29uc3QgdmlzaXRlZCA9IFtpbmRleF07XG4gIGxldCB0YXJnZXQ7XG4gIGlmICghcHJvcGFnYXRlKSB7XG4gICAgcmV0dXJuIGZpbGw7XG4gIH1cbiAgd2hpbGUgKGZpbGwgIT09IGZhbHNlICYmIHZpc2l0ZWQuaW5kZXhPZihmaWxsKSA9PT0gLTEpIHtcbiAgICBpZiAoIWlzTnVtYmVyRmluaXRlKGZpbGwpKSB7XG4gICAgICByZXR1cm4gZmlsbDtcbiAgICB9XG4gICAgdGFyZ2V0ID0gc291cmNlc1tmaWxsXTtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0LnZpc2libGUpIHtcbiAgICAgIHJldHVybiBmaWxsO1xuICAgIH1cbiAgICB2aXNpdGVkLnB1c2goZmlsbCk7XG4gICAgZmlsbCA9IHRhcmdldC5maWxsO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIF9kZWNvZGVGaWxsKGxpbmUsIGluZGV4LCBjb3VudCkge1xuICBjb25zdCBmaWxsID0gcGFyc2VGaWxsT3B0aW9uKGxpbmUpO1xuICBpZiAoaXNPYmplY3QoZmlsbCkpIHtcbiAgICByZXR1cm4gaXNOYU4oZmlsbC52YWx1ZSkgPyBmYWxzZSA6IGZpbGw7XG4gIH1cbiAgbGV0IHRhcmdldCA9IHBhcnNlRmxvYXQoZmlsbCk7XG4gIGlmIChpc051bWJlckZpbml0ZSh0YXJnZXQpICYmIE1hdGguZmxvb3IodGFyZ2V0KSA9PT0gdGFyZ2V0KSB7XG4gICAgcmV0dXJuIGRlY29kZVRhcmdldEluZGV4KGZpbGxbMF0sIGluZGV4LCB0YXJnZXQsIGNvdW50KTtcbiAgfVxuICByZXR1cm4gWydvcmlnaW4nLCAnc3RhcnQnLCAnZW5kJywgJ3N0YWNrJywgJ3NoYXBlJ10uaW5kZXhPZihmaWxsKSA+PSAwICYmIGZpbGw7XG59XG5mdW5jdGlvbiBkZWNvZGVUYXJnZXRJbmRleChmaXJzdENoLCBpbmRleCwgdGFyZ2V0LCBjb3VudCkge1xuICBpZiAoZmlyc3RDaCA9PT0gJy0nIHx8IGZpcnN0Q2ggPT09ICcrJykge1xuICAgIHRhcmdldCA9IGluZGV4ICsgdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXQgPT09IGluZGV4IHx8IHRhcmdldCA8IDAgfHwgdGFyZ2V0ID49IGNvdW50KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBfZ2V0VGFyZ2V0UGl4ZWwoZmlsbCwgc2NhbGUpIHtcbiAgbGV0IHBpeGVsID0gbnVsbDtcbiAgaWYgKGZpbGwgPT09ICdzdGFydCcpIHtcbiAgICBwaXhlbCA9IHNjYWxlLmJvdHRvbTtcbiAgfSBlbHNlIGlmIChmaWxsID09PSAnZW5kJykge1xuICAgIHBpeGVsID0gc2NhbGUudG9wO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGZpbGwpKSB7XG4gICAgcGl4ZWwgPSBzY2FsZS5nZXRQaXhlbEZvclZhbHVlKGZpbGwudmFsdWUpO1xuICB9IGVsc2UgaWYgKHNjYWxlLmdldEJhc2VQaXhlbCkge1xuICAgIHBpeGVsID0gc2NhbGUuZ2V0QmFzZVBpeGVsKCk7XG4gIH1cbiAgcmV0dXJuIHBpeGVsO1xufVxuZnVuY3Rpb24gX2dldFRhcmdldFZhbHVlKGZpbGwsIHNjYWxlLCBzdGFydFZhbHVlKSB7XG4gIGxldCB2YWx1ZTtcbiAgaWYgKGZpbGwgPT09ICdzdGFydCcpIHtcbiAgICB2YWx1ZSA9IHN0YXJ0VmFsdWU7XG4gIH0gZWxzZSBpZiAoZmlsbCA9PT0gJ2VuZCcpIHtcbiAgICB2YWx1ZSA9IHNjYWxlLm9wdGlvbnMucmV2ZXJzZSA/IHNjYWxlLm1pbiA6IHNjYWxlLm1heDtcbiAgfSBlbHNlIGlmIChpc09iamVjdChmaWxsKSkge1xuICAgIHZhbHVlID0gZmlsbC52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHNjYWxlLmdldEJhc2VWYWx1ZSgpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHBhcnNlRmlsbE9wdGlvbihsaW5lKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBsaW5lLm9wdGlvbnM7XG4gIGNvbnN0IGZpbGxPcHRpb24gPSBvcHRpb25zLmZpbGw7XG4gIGxldCBmaWxsID0gdmFsdWVPckRlZmF1bHQoZmlsbE9wdGlvbiAmJiBmaWxsT3B0aW9uLnRhcmdldCwgZmlsbE9wdGlvbik7XG4gIGlmIChmaWxsID09PSB1bmRlZmluZWQpIHtcbiAgICBmaWxsID0gISFvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgfVxuICBpZiAoZmlsbCA9PT0gZmFsc2UgfHwgZmlsbCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZmlsbCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiAnb3JpZ2luJztcbiAgfVxuICByZXR1cm4gZmlsbDtcbn1cblxuZnVuY3Rpb24gX2J1aWxkU3RhY2tMaW5lKHNvdXJjZSkge1xuICBjb25zdCB7c2NhbGUsIGluZGV4LCBsaW5lfSA9IHNvdXJjZTtcbiAgY29uc3QgcG9pbnRzID0gW107XG4gIGNvbnN0IHNlZ21lbnRzID0gbGluZS5zZWdtZW50cztcbiAgY29uc3Qgc291cmNlUG9pbnRzID0gbGluZS5wb2ludHM7XG4gIGNvbnN0IGxpbmVzQmVsb3cgPSBnZXRMaW5lc0JlbG93KHNjYWxlLCBpbmRleCk7XG4gIGxpbmVzQmVsb3cucHVzaChfY3JlYXRlQm91bmRhcnlMaW5lKHt4OiBudWxsLCB5OiBzY2FsZS5ib3R0b219LCBsaW5lKSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgZm9yIChsZXQgaiA9IHNlZ21lbnQuc3RhcnQ7IGogPD0gc2VnbWVudC5lbmQ7IGorKykge1xuICAgICAgYWRkUG9pbnRzQmVsb3cocG9pbnRzLCBzb3VyY2VQb2ludHNbal0sIGxpbmVzQmVsb3cpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IExpbmVFbGVtZW50KHtwb2ludHMsIG9wdGlvbnM6IHt9fSk7XG59XG5mdW5jdGlvbiBnZXRMaW5lc0JlbG93KHNjYWxlLCBpbmRleCkge1xuICBjb25zdCBiZWxvdyA9IFtdO1xuICBjb25zdCBtZXRhcyA9IHNjYWxlLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCdsaW5lJyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBtZXRhID0gbWV0YXNbaV07XG4gICAgaWYgKG1ldGEuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFtZXRhLmhpZGRlbikge1xuICAgICAgYmVsb3cudW5zaGlmdChtZXRhLmRhdGFzZXQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmVsb3c7XG59XG5mdW5jdGlvbiBhZGRQb2ludHNCZWxvdyhwb2ludHMsIHNvdXJjZVBvaW50LCBsaW5lc0JlbG93KSB7XG4gIGNvbnN0IHBvc3Rwb25lZCA9IFtdO1xuICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmVzQmVsb3cubGVuZ3RoOyBqKyspIHtcbiAgICBjb25zdCBsaW5lID0gbGluZXNCZWxvd1tqXTtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3QsIHBvaW50fSA9IGZpbmRQb2ludChsaW5lLCBzb3VyY2VQb2ludCwgJ3gnKTtcbiAgICBpZiAoIXBvaW50IHx8IChmaXJzdCAmJiBsYXN0KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChmaXJzdCkge1xuICAgICAgcG9zdHBvbmVkLnVuc2hpZnQocG9pbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludHMucHVzaChwb2ludCk7XG4gICAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHBvaW50cy5wdXNoKC4uLnBvc3Rwb25lZCk7XG59XG5mdW5jdGlvbiBmaW5kUG9pbnQobGluZSwgc291cmNlUG9pbnQsIHByb3BlcnR5KSB7XG4gIGNvbnN0IHBvaW50ID0gbGluZS5pbnRlcnBvbGF0ZShzb3VyY2VQb2ludCwgcHJvcGVydHkpO1xuICBpZiAoIXBvaW50KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHBvaW50VmFsdWUgPSBwb2ludFtwcm9wZXJ0eV07XG4gIGNvbnN0IHNlZ21lbnRzID0gbGluZS5zZWdtZW50cztcbiAgY29uc3QgbGluZVBvaW50cyA9IGxpbmUucG9pbnRzO1xuICBsZXQgZmlyc3QgPSBmYWxzZTtcbiAgbGV0IGxhc3QgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICBjb25zdCBmaXJzdFZhbHVlID0gbGluZVBvaW50c1tzZWdtZW50LnN0YXJ0XVtwcm9wZXJ0eV07XG4gICAgY29uc3QgbGFzdFZhbHVlID0gbGluZVBvaW50c1tzZWdtZW50LmVuZF1bcHJvcGVydHldO1xuICAgIGlmIChfaXNCZXR3ZWVuKHBvaW50VmFsdWUsIGZpcnN0VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgIGZpcnN0ID0gcG9pbnRWYWx1ZSA9PT0gZmlyc3RWYWx1ZTtcbiAgICAgIGxhc3QgPSBwb2ludFZhbHVlID09PSBsYXN0VmFsdWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtmaXJzdCwgbGFzdCwgcG9pbnR9O1xufVxuXG5jbGFzcyBzaW1wbGVBcmMge1xuICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgdGhpcy54ID0gb3B0cy54O1xuICAgIHRoaXMueSA9IG9wdHMueTtcbiAgICB0aGlzLnJhZGl1cyA9IG9wdHMucmFkaXVzO1xuICB9XG4gIHBhdGhTZWdtZW50KGN0eCwgYm91bmRzLCBvcHRzKSB7XG4gICAgY29uc3Qge3gsIHksIHJhZGl1c30gPSB0aGlzO1xuICAgIGJvdW5kcyA9IGJvdW5kcyB8fCB7c3RhcnQ6IDAsIGVuZDogVEFVfTtcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgYm91bmRzLmVuZCwgYm91bmRzLnN0YXJ0LCB0cnVlKTtcbiAgICByZXR1cm4gIW9wdHMuYm91bmRzO1xuICB9XG4gIGludGVycG9sYXRlKHBvaW50KSB7XG4gICAgY29uc3Qge3gsIHksIHJhZGl1c30gPSB0aGlzO1xuICAgIGNvbnN0IGFuZ2xlID0gcG9pbnQuYW5nbGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMsXG4gICAgICB5OiB5ICsgTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgYW5nbGVcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIF9nZXRUYXJnZXQoc291cmNlKSB7XG4gIGNvbnN0IHtjaGFydCwgZmlsbCwgbGluZX0gPSBzb3VyY2U7XG4gIGlmIChpc051bWJlckZpbml0ZShmaWxsKSkge1xuICAgIHJldHVybiBnZXRMaW5lQnlJbmRleChjaGFydCwgZmlsbCk7XG4gIH1cbiAgaWYgKGZpbGwgPT09ICdzdGFjaycpIHtcbiAgICByZXR1cm4gX2J1aWxkU3RhY2tMaW5lKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGZpbGwgPT09ICdzaGFwZScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBib3VuZGFyeSA9IGNvbXB1dGVCb3VuZGFyeShzb3VyY2UpO1xuICBpZiAoYm91bmRhcnkgaW5zdGFuY2VvZiBzaW1wbGVBcmMpIHtcbiAgICByZXR1cm4gYm91bmRhcnk7XG4gIH1cbiAgcmV0dXJuIF9jcmVhdGVCb3VuZGFyeUxpbmUoYm91bmRhcnksIGxpbmUpO1xufVxuZnVuY3Rpb24gZ2V0TGluZUJ5SW5kZXgoY2hhcnQsIGluZGV4KSB7XG4gIGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShpbmRleCk7XG4gIGNvbnN0IHZpc2libGUgPSBtZXRhICYmIGNoYXJ0LmlzRGF0YXNldFZpc2libGUoaW5kZXgpO1xuICByZXR1cm4gdmlzaWJsZSA/IG1ldGEuZGF0YXNldCA6IG51bGw7XG59XG5mdW5jdGlvbiBjb21wdXRlQm91bmRhcnkoc291cmNlKSB7XG4gIGNvbnN0IHNjYWxlID0gc291cmNlLnNjYWxlIHx8IHt9O1xuICBpZiAoc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVDaXJjdWxhckJvdW5kYXJ5KHNvdXJjZSk7XG4gIH1cbiAgcmV0dXJuIGNvbXB1dGVMaW5lYXJCb3VuZGFyeShzb3VyY2UpO1xufVxuZnVuY3Rpb24gY29tcHV0ZUxpbmVhckJvdW5kYXJ5KHNvdXJjZSkge1xuICBjb25zdCB7c2NhbGUgPSB7fSwgZmlsbH0gPSBzb3VyY2U7XG4gIGNvbnN0IHBpeGVsID0gX2dldFRhcmdldFBpeGVsKGZpbGwsIHNjYWxlKTtcbiAgaWYgKGlzTnVtYmVyRmluaXRlKHBpeGVsKSkge1xuICAgIGNvbnN0IGhvcml6b250YWwgPSBzY2FsZS5pc0hvcml6b250YWwoKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogaG9yaXpvbnRhbCA/IHBpeGVsIDogbnVsbCxcbiAgICAgIHk6IGhvcml6b250YWwgPyBudWxsIDogcGl4ZWxcbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY29tcHV0ZUNpcmN1bGFyQm91bmRhcnkoc291cmNlKSB7XG4gIGNvbnN0IHtzY2FsZSwgZmlsbH0gPSBzb3VyY2U7XG4gIGNvbnN0IG9wdGlvbnMgPSBzY2FsZS5vcHRpb25zO1xuICBjb25zdCBsZW5ndGggPSBzY2FsZS5nZXRMYWJlbHMoKS5sZW5ndGg7XG4gIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5yZXZlcnNlID8gc2NhbGUubWF4IDogc2NhbGUubWluO1xuICBjb25zdCB2YWx1ZSA9IF9nZXRUYXJnZXRWYWx1ZShmaWxsLCBzY2FsZSwgc3RhcnQpO1xuICBjb25zdCB0YXJnZXQgPSBbXTtcbiAgaWYgKG9wdGlvbnMuZ3JpZC5jaXJjdWxhcikge1xuICAgIGNvbnN0IGNlbnRlciA9IHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZSgwLCBzdGFydCk7XG4gICAgcmV0dXJuIG5ldyBzaW1wbGVBcmMoe1xuICAgICAgeDogY2VudGVyLngsXG4gICAgICB5OiBjZW50ZXIueSxcbiAgICAgIHJhZGl1czogc2NhbGUuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodmFsdWUpXG4gICAgfSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHRhcmdldC5wdXNoKHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZShpLCB2YWx1ZSkpO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9kcmF3ZmlsbChjdHgsIHNvdXJjZSwgYXJlYSkge1xuICBjb25zdCB0YXJnZXQgPSBfZ2V0VGFyZ2V0KHNvdXJjZSk7XG4gIGNvbnN0IHtsaW5lLCBzY2FsZSwgYXhpc30gPSBzb3VyY2U7XG4gIGNvbnN0IGxpbmVPcHRzID0gbGluZS5vcHRpb25zO1xuICBjb25zdCBmaWxsT3B0aW9uID0gbGluZU9wdHMuZmlsbDtcbiAgY29uc3QgY29sb3IgPSBsaW5lT3B0cy5iYWNrZ3JvdW5kQ29sb3I7XG4gIGNvbnN0IHthYm92ZSA9IGNvbG9yLCBiZWxvdyA9IGNvbG9yfSA9IGZpbGxPcHRpb24gfHwge307XG4gIGlmICh0YXJnZXQgJiYgbGluZS5wb2ludHMubGVuZ3RoKSB7XG4gICAgY2xpcEFyZWEoY3R4LCBhcmVhKTtcbiAgICBkb0ZpbGwoY3R4LCB7bGluZSwgdGFyZ2V0LCBhYm92ZSwgYmVsb3csIGFyZWEsIHNjYWxlLCBheGlzfSk7XG4gICAgdW5jbGlwQXJlYShjdHgpO1xuICB9XG59XG5mdW5jdGlvbiBkb0ZpbGwoY3R4LCBjZmcpIHtcbiAgY29uc3Qge2xpbmUsIHRhcmdldCwgYWJvdmUsIGJlbG93LCBhcmVhLCBzY2FsZX0gPSBjZmc7XG4gIGNvbnN0IHByb3BlcnR5ID0gbGluZS5fbG9vcCA/ICdhbmdsZScgOiBjZmcuYXhpcztcbiAgY3R4LnNhdmUoKTtcbiAgaWYgKHByb3BlcnR5ID09PSAneCcgJiYgYmVsb3cgIT09IGFib3ZlKSB7XG4gICAgY2xpcFZlcnRpY2FsKGN0eCwgdGFyZ2V0LCBhcmVhLnRvcCk7XG4gICAgZmlsbChjdHgsIHtsaW5lLCB0YXJnZXQsIGNvbG9yOiBhYm92ZSwgc2NhbGUsIHByb3BlcnR5fSk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGNsaXBWZXJ0aWNhbChjdHgsIHRhcmdldCwgYXJlYS5ib3R0b20pO1xuICB9XG4gIGZpbGwoY3R4LCB7bGluZSwgdGFyZ2V0LCBjb2xvcjogYmVsb3csIHNjYWxlLCBwcm9wZXJ0eX0pO1xuICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gY2xpcFZlcnRpY2FsKGN0eCwgdGFyZ2V0LCBjbGlwWSkge1xuICBjb25zdCB7c2VnbWVudHMsIHBvaW50c30gPSB0YXJnZXQ7XG4gIGxldCBmaXJzdCA9IHRydWU7XG4gIGxldCBsaW5lTG9vcCA9IGZhbHNlO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgIGNvbnN0IHtzdGFydCwgZW5kfSA9IHNlZ21lbnQ7XG4gICAgY29uc3QgZmlyc3RQb2ludCA9IHBvaW50c1tzdGFydF07XG4gICAgY29uc3QgbGFzdFBvaW50ID0gcG9pbnRzW19maW5kU2VnbWVudEVuZChzdGFydCwgZW5kLCBwb2ludHMpXTtcbiAgICBpZiAoZmlyc3QpIHtcbiAgICAgIGN0eC5tb3ZlVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xuICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmxpbmVUbyhmaXJzdFBvaW50LngsIGNsaXBZKTtcbiAgICAgIGN0eC5saW5lVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xuICAgIH1cbiAgICBsaW5lTG9vcCA9ICEhdGFyZ2V0LnBhdGhTZWdtZW50KGN0eCwgc2VnbWVudCwge21vdmU6IGxpbmVMb29wfSk7XG4gICAgaWYgKGxpbmVMb29wKSB7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5saW5lVG8obGFzdFBvaW50LngsIGNsaXBZKTtcbiAgICB9XG4gIH1cbiAgY3R4LmxpbmVUbyh0YXJnZXQuZmlyc3QoKS54LCBjbGlwWSk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgY3R4LmNsaXAoKTtcbn1cbmZ1bmN0aW9uIGZpbGwoY3R4LCBjZmcpIHtcbiAgY29uc3Qge2xpbmUsIHRhcmdldCwgcHJvcGVydHksIGNvbG9yLCBzY2FsZX0gPSBjZmc7XG4gIGNvbnN0IHNlZ21lbnRzID0gX3NlZ21lbnRzKGxpbmUsIHRhcmdldCwgcHJvcGVydHkpO1xuICBmb3IgKGNvbnN0IHtzb3VyY2U6IHNyYywgdGFyZ2V0OiB0Z3QsIHN0YXJ0LCBlbmR9IG9mIHNlZ21lbnRzKSB7XG4gICAgY29uc3Qge3N0eWxlOiB7YmFja2dyb3VuZENvbG9yID0gY29sb3J9ID0ge319ID0gc3JjO1xuICAgIGNvbnN0IG5vdFNoYXBlID0gdGFyZ2V0ICE9PSB0cnVlO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICBjbGlwQm91bmRzKGN0eCwgc2NhbGUsIG5vdFNoYXBlICYmIF9nZXRCb3VuZHMocHJvcGVydHksIHN0YXJ0LCBlbmQpKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY29uc3QgbGluZUxvb3AgPSAhIWxpbmUucGF0aFNlZ21lbnQoY3R4LCBzcmMpO1xuICAgIGxldCBsb29wO1xuICAgIGlmIChub3RTaGFwZSkge1xuICAgICAgaWYgKGxpbmVMb29wKSB7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludGVycG9sYXRlZExpbmVUbyhjdHgsIHRhcmdldCwgZW5kLCBwcm9wZXJ0eSk7XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXRMb29wID0gISF0YXJnZXQucGF0aFNlZ21lbnQoY3R4LCB0Z3QsIHttb3ZlOiBsaW5lTG9vcCwgcmV2ZXJzZTogdHJ1ZX0pO1xuICAgICAgbG9vcCA9IGxpbmVMb29wICYmIHRhcmdldExvb3A7XG4gICAgICBpZiAoIWxvb3ApIHtcbiAgICAgICAgaW50ZXJwb2xhdGVkTGluZVRvKGN0eCwgdGFyZ2V0LCBzdGFydCwgcHJvcGVydHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwobG9vcCA/ICdldmVub2RkJyA6ICdub256ZXJvJyk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xpcEJvdW5kcyhjdHgsIHNjYWxlLCBib3VuZHMpIHtcbiAgY29uc3Qge3RvcCwgYm90dG9tfSA9IHNjYWxlLmNoYXJ0LmNoYXJ0QXJlYTtcbiAgY29uc3Qge3Byb3BlcnR5LCBzdGFydCwgZW5kfSA9IGJvdW5kcyB8fCB7fTtcbiAgaWYgKHByb3BlcnR5ID09PSAneCcpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LnJlY3Qoc3RhcnQsIHRvcCwgZW5kIC0gc3RhcnQsIGJvdHRvbSAtIHRvcCk7XG4gICAgY3R4LmNsaXAoKTtcbiAgfVxufVxuZnVuY3Rpb24gaW50ZXJwb2xhdGVkTGluZVRvKGN0eCwgdGFyZ2V0LCBwb2ludCwgcHJvcGVydHkpIHtcbiAgY29uc3QgaW50ZXJwb2xhdGVkUG9pbnQgPSB0YXJnZXQuaW50ZXJwb2xhdGUocG9pbnQsIHByb3BlcnR5KTtcbiAgaWYgKGludGVycG9sYXRlZFBvaW50KSB7XG4gICAgY3R4LmxpbmVUbyhpbnRlcnBvbGF0ZWRQb2ludC54LCBpbnRlcnBvbGF0ZWRQb2ludC55KTtcbiAgfVxufVxuXG52YXIgaW5kZXggPSB7XG4gIGlkOiAnZmlsbGVyJyxcbiAgYWZ0ZXJEYXRhc2V0c1VwZGF0ZShjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb3VudCA9IChjaGFydC5kYXRhLmRhdGFzZXRzIHx8IFtdKS5sZW5ndGg7XG4gICAgY29uc3Qgc291cmNlcyA9IFtdO1xuICAgIGxldCBtZXRhLCBpLCBsaW5lLCBzb3VyY2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgIG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgIGxpbmUgPSBtZXRhLmRhdGFzZXQ7XG4gICAgICBzb3VyY2UgPSBudWxsO1xuICAgICAgaWYgKGxpbmUgJiYgbGluZS5vcHRpb25zICYmIGxpbmUgaW5zdGFuY2VvZiBMaW5lRWxlbWVudCkge1xuICAgICAgICBzb3VyY2UgPSB7XG4gICAgICAgICAgdmlzaWJsZTogY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSxcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICBmaWxsOiBfZGVjb2RlRmlsbChsaW5lLCBpLCBjb3VudCksXG4gICAgICAgICAgY2hhcnQsXG4gICAgICAgICAgYXhpczogbWV0YS5jb250cm9sbGVyLm9wdGlvbnMuaW5kZXhBeGlzLFxuICAgICAgICAgIHNjYWxlOiBtZXRhLnZTY2FsZSxcbiAgICAgICAgICBsaW5lLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgbWV0YS4kZmlsbGVyID0gc291cmNlO1xuICAgICAgc291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgaWYgKCFzb3VyY2UgfHwgc291cmNlLmZpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc291cmNlLmZpbGwgPSBfcmVzb2x2ZVRhcmdldChzb3VyY2VzLCBpLCBvcHRpb25zLnByb3BhZ2F0ZSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVEcmF3KGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IGRyYXcgPSBvcHRpb25zLmRyYXdUaW1lID09PSAnYmVmb3JlRHJhdyc7XG4gICAgY29uc3QgbWV0YXNldHMgPSBjaGFydC5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCk7XG4gICAgY29uc3QgYXJlYSA9IGNoYXJ0LmNoYXJ0QXJlYTtcbiAgICBmb3IgKGxldCBpID0gbWV0YXNldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IG1ldGFzZXRzW2ldLiRmaWxsZXI7XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZS5saW5lLnVwZGF0ZUNvbnRyb2xQb2ludHMoYXJlYSwgc291cmNlLmF4aXMpO1xuICAgICAgaWYgKGRyYXcgJiYgc291cmNlLmZpbGwpIHtcbiAgICAgICAgX2RyYXdmaWxsKGNoYXJ0LmN0eCwgc291cmNlLCBhcmVhKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGJlZm9yZURhdGFzZXRzRHJhdyhjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5kcmF3VGltZSAhPT0gJ2JlZm9yZURhdGFzZXRzRHJhdycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0YXNldHMgPSBjaGFydC5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCk7XG4gICAgZm9yIChsZXQgaSA9IG1ldGFzZXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSBtZXRhc2V0c1tpXS4kZmlsbGVyO1xuICAgICAgaWYgKF9zaG91bGRBcHBseUZpbGwoc291cmNlKSkge1xuICAgICAgICBfZHJhd2ZpbGwoY2hhcnQuY3R4LCBzb3VyY2UsIGNoYXJ0LmNoYXJ0QXJlYSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBiZWZvcmVEYXRhc2V0RHJhdyhjaGFydCwgYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IHNvdXJjZSA9IGFyZ3MubWV0YS4kZmlsbGVyO1xuICAgIGlmICghX3Nob3VsZEFwcGx5RmlsbChzb3VyY2UpIHx8IG9wdGlvbnMuZHJhd1RpbWUgIT09ICdiZWZvcmVEYXRhc2V0RHJhdycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2RyYXdmaWxsKGNoYXJ0LmN0eCwgc291cmNlLCBjaGFydC5jaGFydEFyZWEpO1xuICB9LFxuICBkZWZhdWx0czoge1xuICAgIHByb3BhZ2F0ZTogdHJ1ZSxcbiAgICBkcmF3VGltZTogJ2JlZm9yZURhdGFzZXREcmF3J1xuICB9XG59O1xuXG5jb25zdCBnZXRCb3hTaXplID0gKGxhYmVsT3B0cywgZm9udFNpemUpID0+IHtcbiAgbGV0IHtib3hIZWlnaHQgPSBmb250U2l6ZSwgYm94V2lkdGggPSBmb250U2l6ZX0gPSBsYWJlbE9wdHM7XG4gIGlmIChsYWJlbE9wdHMudXNlUG9pbnRTdHlsZSkge1xuICAgIGJveEhlaWdodCA9IE1hdGgubWluKGJveEhlaWdodCwgZm9udFNpemUpO1xuICAgIGJveFdpZHRoID0gbGFiZWxPcHRzLnBvaW50U3R5bGVXaWR0aCB8fCBNYXRoLm1pbihib3hXaWR0aCwgZm9udFNpemUpO1xuICB9XG4gIHJldHVybiB7XG4gICAgYm94V2lkdGgsXG4gICAgYm94SGVpZ2h0LFxuICAgIGl0ZW1IZWlnaHQ6IE1hdGgubWF4KGZvbnRTaXplLCBib3hIZWlnaHQpXG4gIH07XG59O1xuY29uc3QgaXRlbXNFcXVhbCA9IChhLCBiKSA9PiBhICE9PSBudWxsICYmIGIgIT09IG51bGwgJiYgYS5kYXRhc2V0SW5kZXggPT09IGIuZGF0YXNldEluZGV4ICYmIGEuaW5kZXggPT09IGIuaW5kZXg7XG5jbGFzcyBMZWdlbmQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9hZGRlZCA9IGZhbHNlO1xuICAgIHRoaXMubGVnZW5kSGl0Qm94ZXMgPSBbXTtcbiAgICB0aGlzLl9ob3ZlcmVkSXRlbSA9IG51bGw7XG4gICAgdGhpcy5kb3VnaG51dE1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLmNoYXJ0ID0gY29uZmlnLmNoYXJ0O1xuICAgIHRoaXMub3B0aW9ucyA9IGNvbmZpZy5vcHRpb25zO1xuICAgIHRoaXMuY3R4ID0gY29uZmlnLmN0eDtcbiAgICB0aGlzLmxlZ2VuZEl0ZW1zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY29sdW1uU2l6ZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5saW5lV2lkdGhzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWF4SGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubWF4V2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b3AgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ib3R0b20gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sZWZ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9tYXJnaW5zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53ZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mdWxsU2l6ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICB1cGRhdGUobWF4V2lkdGgsIG1heEhlaWdodCwgbWFyZ2lucykge1xuICAgIHRoaXMubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICB0aGlzLm1heEhlaWdodCA9IG1heEhlaWdodDtcbiAgICB0aGlzLl9tYXJnaW5zID0gbWFyZ2lucztcbiAgICB0aGlzLnNldERpbWVuc2lvbnMoKTtcbiAgICB0aGlzLmJ1aWxkTGFiZWxzKCk7XG4gICAgdGhpcy5maXQoKTtcbiAgfVxuICBzZXREaW1lbnNpb25zKCkge1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgIHRoaXMubGVmdCA9IHRoaXMuX21hcmdpbnMubGVmdDtcbiAgICAgIHRoaXMucmlnaHQgPSB0aGlzLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMubWF4SGVpZ2h0O1xuICAgICAgdGhpcy50b3AgPSB0aGlzLl9tYXJnaW5zLnRvcDtcbiAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5oZWlnaHQ7XG4gICAgfVxuICB9XG4gIGJ1aWxkTGFiZWxzKCkge1xuICAgIGNvbnN0IGxhYmVsT3B0cyA9IHRoaXMub3B0aW9ucy5sYWJlbHMgfHwge307XG4gICAgbGV0IGxlZ2VuZEl0ZW1zID0gY2FsbGJhY2sobGFiZWxPcHRzLmdlbmVyYXRlTGFiZWxzLCBbdGhpcy5jaGFydF0sIHRoaXMpIHx8IFtdO1xuICAgIGlmIChsYWJlbE9wdHMuZmlsdGVyKSB7XG4gICAgICBsZWdlbmRJdGVtcyA9IGxlZ2VuZEl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gbGFiZWxPcHRzLmZpbHRlcihpdGVtLCB0aGlzLmNoYXJ0LmRhdGEpKTtcbiAgICB9XG4gICAgaWYgKGxhYmVsT3B0cy5zb3J0KSB7XG4gICAgICBsZWdlbmRJdGVtcyA9IGxlZ2VuZEl0ZW1zLnNvcnQoKGEsIGIpID0+IGxhYmVsT3B0cy5zb3J0KGEsIGIsIHRoaXMuY2hhcnQuZGF0YSkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnJldmVyc2UpIHtcbiAgICAgIGxlZ2VuZEl0ZW1zLnJldmVyc2UoKTtcbiAgICB9XG4gICAgdGhpcy5sZWdlbmRJdGVtcyA9IGxlZ2VuZEl0ZW1zO1xuICB9XG4gIGZpdCgpIHtcbiAgICBjb25zdCB7b3B0aW9ucywgY3R4fSA9IHRoaXM7XG4gICAgaWYgKCFvcHRpb25zLmRpc3BsYXkpIHtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxhYmVsT3B0cyA9IG9wdGlvbnMubGFiZWxzO1xuICAgIGNvbnN0IGxhYmVsRm9udCA9IHRvRm9udChsYWJlbE9wdHMuZm9udCk7XG4gICAgY29uc3QgZm9udFNpemUgPSBsYWJlbEZvbnQuc2l6ZTtcbiAgICBjb25zdCB0aXRsZUhlaWdodCA9IHRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpO1xuICAgIGNvbnN0IHtib3hXaWR0aCwgaXRlbUhlaWdodH0gPSBnZXRCb3hTaXplKGxhYmVsT3B0cywgZm9udFNpemUpO1xuICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAgIGN0eC5mb250ID0gbGFiZWxGb250LnN0cmluZztcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgd2lkdGggPSB0aGlzLm1heFdpZHRoO1xuICAgICAgaGVpZ2h0ID0gdGhpcy5fZml0Um93cyh0aXRsZUhlaWdodCwgZm9udFNpemUsIGJveFdpZHRoLCBpdGVtSGVpZ2h0KSArIDEwO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcbiAgICAgIHdpZHRoID0gdGhpcy5fZml0Q29scyh0aXRsZUhlaWdodCwgZm9udFNpemUsIGJveFdpZHRoLCBpdGVtSGVpZ2h0KSArIDEwO1xuICAgIH1cbiAgICB0aGlzLndpZHRoID0gTWF0aC5taW4od2lkdGgsIG9wdGlvbnMubWF4V2lkdGggfHwgdGhpcy5tYXhXaWR0aCk7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQsIG9wdGlvbnMubWF4SGVpZ2h0IHx8IHRoaXMubWF4SGVpZ2h0KTtcbiAgfVxuICBfZml0Um93cyh0aXRsZUhlaWdodCwgZm9udFNpemUsIGJveFdpZHRoLCBpdGVtSGVpZ2h0KSB7XG4gICAgY29uc3Qge2N0eCwgbWF4V2lkdGgsIG9wdGlvbnM6IHtsYWJlbHM6IHtwYWRkaW5nfX19ID0gdGhpcztcbiAgICBjb25zdCBoaXRib3hlcyA9IHRoaXMubGVnZW5kSGl0Qm94ZXMgPSBbXTtcbiAgICBjb25zdCBsaW5lV2lkdGhzID0gdGhpcy5saW5lV2lkdGhzID0gWzBdO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBpdGVtSGVpZ2h0ICsgcGFkZGluZztcbiAgICBsZXQgdG90YWxIZWlnaHQgPSB0aXRsZUhlaWdodDtcbiAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBsZXQgcm93ID0gLTE7XG4gICAgbGV0IHRvcCA9IC1saW5lSGVpZ2h0O1xuICAgIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgobGVnZW5kSXRlbSwgaSkgPT4ge1xuICAgICAgY29uc3QgaXRlbVdpZHRoID0gYm94V2lkdGggKyAoZm9udFNpemUgLyAyKSArIGN0eC5tZWFzdXJlVGV4dChsZWdlbmRJdGVtLnRleHQpLndpZHRoO1xuICAgICAgaWYgKGkgPT09IDAgfHwgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIDFdICsgaXRlbVdpZHRoICsgMiAqIHBhZGRpbmcgPiBtYXhXaWR0aCkge1xuICAgICAgICB0b3RhbEhlaWdodCArPSBsaW5lSGVpZ2h0O1xuICAgICAgICBsaW5lV2lkdGhzW2xpbmVXaWR0aHMubGVuZ3RoIC0gKGkgPiAwID8gMCA6IDEpXSA9IDA7XG4gICAgICAgIHRvcCArPSBsaW5lSGVpZ2h0O1xuICAgICAgICByb3crKztcbiAgICAgIH1cbiAgICAgIGhpdGJveGVzW2ldID0ge2xlZnQ6IDAsIHRvcCwgcm93LCB3aWR0aDogaXRlbVdpZHRoLCBoZWlnaHQ6IGl0ZW1IZWlnaHR9O1xuICAgICAgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIDFdICs9IGl0ZW1XaWR0aCArIHBhZGRpbmc7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdGFsSGVpZ2h0O1xuICB9XG4gIF9maXRDb2xzKHRpdGxlSGVpZ2h0LCBmb250U2l6ZSwgYm94V2lkdGgsIGl0ZW1IZWlnaHQpIHtcbiAgICBjb25zdCB7Y3R4LCBtYXhIZWlnaHQsIG9wdGlvbnM6IHtsYWJlbHM6IHtwYWRkaW5nfX19ID0gdGhpcztcbiAgICBjb25zdCBoaXRib3hlcyA9IHRoaXMubGVnZW5kSGl0Qm94ZXMgPSBbXTtcbiAgICBjb25zdCBjb2x1bW5TaXplcyA9IHRoaXMuY29sdW1uU2l6ZXMgPSBbXTtcbiAgICBjb25zdCBoZWlnaHRMaW1pdCA9IG1heEhlaWdodCAtIHRpdGxlSGVpZ2h0O1xuICAgIGxldCB0b3RhbFdpZHRoID0gcGFkZGluZztcbiAgICBsZXQgY3VycmVudENvbFdpZHRoID0gMDtcbiAgICBsZXQgY3VycmVudENvbEhlaWdodCA9IDA7XG4gICAgbGV0IGxlZnQgPSAwO1xuICAgIGxldCBjb2wgPSAwO1xuICAgIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgobGVnZW5kSXRlbSwgaSkgPT4ge1xuICAgICAgY29uc3QgaXRlbVdpZHRoID0gYm94V2lkdGggKyAoZm9udFNpemUgLyAyKSArIGN0eC5tZWFzdXJlVGV4dChsZWdlbmRJdGVtLnRleHQpLndpZHRoO1xuICAgICAgaWYgKGkgPiAwICYmIGN1cnJlbnRDb2xIZWlnaHQgKyBpdGVtSGVpZ2h0ICsgMiAqIHBhZGRpbmcgPiBoZWlnaHRMaW1pdCkge1xuICAgICAgICB0b3RhbFdpZHRoICs9IGN1cnJlbnRDb2xXaWR0aCArIHBhZGRpbmc7XG4gICAgICAgIGNvbHVtblNpemVzLnB1c2goe3dpZHRoOiBjdXJyZW50Q29sV2lkdGgsIGhlaWdodDogY3VycmVudENvbEhlaWdodH0pO1xuICAgICAgICBsZWZ0ICs9IGN1cnJlbnRDb2xXaWR0aCArIHBhZGRpbmc7XG4gICAgICAgIGNvbCsrO1xuICAgICAgICBjdXJyZW50Q29sV2lkdGggPSBjdXJyZW50Q29sSGVpZ2h0ID0gMDtcbiAgICAgIH1cbiAgICAgIGhpdGJveGVzW2ldID0ge2xlZnQsIHRvcDogY3VycmVudENvbEhlaWdodCwgY29sLCB3aWR0aDogaXRlbVdpZHRoLCBoZWlnaHQ6IGl0ZW1IZWlnaHR9O1xuICAgICAgY3VycmVudENvbFdpZHRoID0gTWF0aC5tYXgoY3VycmVudENvbFdpZHRoLCBpdGVtV2lkdGgpO1xuICAgICAgY3VycmVudENvbEhlaWdodCArPSBpdGVtSGVpZ2h0ICsgcGFkZGluZztcbiAgICB9KTtcbiAgICB0b3RhbFdpZHRoICs9IGN1cnJlbnRDb2xXaWR0aDtcbiAgICBjb2x1bW5TaXplcy5wdXNoKHt3aWR0aDogY3VycmVudENvbFdpZHRoLCBoZWlnaHQ6IGN1cnJlbnRDb2xIZWlnaHR9KTtcbiAgICByZXR1cm4gdG90YWxXaWR0aDtcbiAgfVxuICBhZGp1c3RIaXRCb3hlcygpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gdGhpcy5fY29tcHV0ZVRpdGxlSGVpZ2h0KCk7XG4gICAgY29uc3Qge2xlZ2VuZEhpdEJveGVzOiBoaXRib3hlcywgb3B0aW9uczoge2FsaWduLCBsYWJlbHM6IHtwYWRkaW5nfSwgcnRsfX0gPSB0aGlzO1xuICAgIGNvbnN0IHJ0bEhlbHBlciA9IGdldFJ0bEFkYXB0ZXIocnRsLCB0aGlzLmxlZnQsIHRoaXMud2lkdGgpO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBsZXQgcm93ID0gMDtcbiAgICAgIGxldCBsZWZ0ID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMubGVmdCArIHBhZGRpbmcsIHRoaXMucmlnaHQgLSB0aGlzLmxpbmVXaWR0aHNbcm93XSk7XG4gICAgICBmb3IgKGNvbnN0IGhpdGJveCBvZiBoaXRib3hlcykge1xuICAgICAgICBpZiAocm93ICE9PSBoaXRib3gucm93KSB7XG4gICAgICAgICAgcm93ID0gaGl0Ym94LnJvdztcbiAgICAgICAgICBsZWZ0ID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMubGVmdCArIHBhZGRpbmcsIHRoaXMucmlnaHQgLSB0aGlzLmxpbmVXaWR0aHNbcm93XSk7XG4gICAgICAgIH1cbiAgICAgICAgaGl0Ym94LnRvcCArPSB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZztcbiAgICAgICAgaGl0Ym94LmxlZnQgPSBydGxIZWxwZXIubGVmdEZvckx0cihydGxIZWxwZXIueChsZWZ0KSwgaGl0Ym94LndpZHRoKTtcbiAgICAgICAgbGVmdCArPSBoaXRib3gud2lkdGggKyBwYWRkaW5nO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY29sID0gMDtcbiAgICAgIGxldCB0b3AgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy50b3AgKyB0aXRsZUhlaWdodCArIHBhZGRpbmcsIHRoaXMuYm90dG9tIC0gdGhpcy5jb2x1bW5TaXplc1tjb2xdLmhlaWdodCk7XG4gICAgICBmb3IgKGNvbnN0IGhpdGJveCBvZiBoaXRib3hlcykge1xuICAgICAgICBpZiAoaGl0Ym94LmNvbCAhPT0gY29sKSB7XG4gICAgICAgICAgY29sID0gaGl0Ym94LmNvbDtcbiAgICAgICAgICB0b3AgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy50b3AgKyB0aXRsZUhlaWdodCArIHBhZGRpbmcsIHRoaXMuYm90dG9tIC0gdGhpcy5jb2x1bW5TaXplc1tjb2xdLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaGl0Ym94LnRvcCA9IHRvcDtcbiAgICAgICAgaGl0Ym94LmxlZnQgKz0gdGhpcy5sZWZ0ICsgcGFkZGluZztcbiAgICAgICAgaGl0Ym94LmxlZnQgPSBydGxIZWxwZXIubGVmdEZvckx0cihydGxIZWxwZXIueChoaXRib3gubGVmdCksIGhpdGJveC53aWR0aCk7XG4gICAgICAgIHRvcCArPSBoaXRib3guaGVpZ2h0ICsgcGFkZGluZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaXNIb3Jpem9udGFsKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICd0b3AnIHx8IHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbSc7XG4gIH1cbiAgZHJhdygpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc3BsYXkpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgICAgY2xpcEFyZWEoY3R4LCB0aGlzKTtcbiAgICAgIHRoaXMuX2RyYXcoKTtcbiAgICAgIHVuY2xpcEFyZWEoY3R4KTtcbiAgICB9XG4gIH1cbiAgX2RyYXcoKSB7XG4gICAgY29uc3Qge29wdGlvbnM6IG9wdHMsIGNvbHVtblNpemVzLCBsaW5lV2lkdGhzLCBjdHh9ID0gdGhpcztcbiAgICBjb25zdCB7YWxpZ24sIGxhYmVsczogbGFiZWxPcHRzfSA9IG9wdHM7XG4gICAgY29uc3QgZGVmYXVsdENvbG9yID0gZGVmYXVsdHMuY29sb3I7XG4gICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRzLnJ0bCwgdGhpcy5sZWZ0LCB0aGlzLndpZHRoKTtcbiAgICBjb25zdCBsYWJlbEZvbnQgPSB0b0ZvbnQobGFiZWxPcHRzLmZvbnQpO1xuICAgIGNvbnN0IHtjb2xvcjogZm9udENvbG9yLCBwYWRkaW5nfSA9IGxhYmVsT3B0cztcbiAgICBjb25zdCBmb250U2l6ZSA9IGxhYmVsRm9udC5zaXplO1xuICAgIGNvbnN0IGhhbGZGb250U2l6ZSA9IGZvbnRTaXplIC8gMjtcbiAgICBsZXQgY3Vyc29yO1xuICAgIHRoaXMuZHJhd1RpdGxlKCk7XG4gICAgY3R4LnRleHRBbGlnbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24oJ2xlZnQnKTtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDAuNTtcbiAgICBjdHguZm9udCA9IGxhYmVsRm9udC5zdHJpbmc7XG4gICAgY29uc3Qge2JveFdpZHRoLCBib3hIZWlnaHQsIGl0ZW1IZWlnaHR9ID0gZ2V0Qm94U2l6ZShsYWJlbE9wdHMsIGZvbnRTaXplKTtcbiAgICBjb25zdCBkcmF3TGVnZW5kQm94ID0gZnVuY3Rpb24oeCwgeSwgbGVnZW5kSXRlbSkge1xuICAgICAgaWYgKGlzTmFOKGJveFdpZHRoKSB8fCBib3hXaWR0aCA8PSAwIHx8IGlzTmFOKGJveEhlaWdodCkgfHwgYm94SGVpZ2h0IDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY29uc3QgbGluZVdpZHRoID0gdmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lV2lkdGgsIDEpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0uZmlsbFN0eWxlLCBkZWZhdWx0Q29sb3IpO1xuICAgICAgY3R4LmxpbmVDYXAgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmxpbmVDYXAsICdidXR0Jyk7XG4gICAgICBjdHgubGluZURhc2hPZmZzZXQgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmxpbmVEYXNoT2Zmc2V0LCAwKTtcbiAgICAgIGN0eC5saW5lSm9pbiA9IHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0ubGluZUpvaW4sICdtaXRlcicpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0uc3Ryb2tlU3R5bGUsIGRlZmF1bHRDb2xvcik7XG4gICAgICBjdHguc2V0TGluZURhc2godmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lRGFzaCwgW10pKTtcbiAgICAgIGlmIChsYWJlbE9wdHMudXNlUG9pbnRTdHlsZSkge1xuICAgICAgICBjb25zdCBkcmF3T3B0aW9ucyA9IHtcbiAgICAgICAgICByYWRpdXM6IGJveEhlaWdodCAqIE1hdGguU1FSVDIgLyAyLFxuICAgICAgICAgIHBvaW50U3R5bGU6IGxlZ2VuZEl0ZW0ucG9pbnRTdHlsZSxcbiAgICAgICAgICByb3RhdGlvbjogbGVnZW5kSXRlbS5yb3RhdGlvbixcbiAgICAgICAgICBib3JkZXJXaWR0aDogbGluZVdpZHRoXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSBydGxIZWxwZXIueFBsdXMoeCwgYm94V2lkdGggLyAyKTtcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IHkgKyBoYWxmRm9udFNpemU7XG4gICAgICAgIGRyYXdQb2ludExlZ2VuZChjdHgsIGRyYXdPcHRpb25zLCBjZW50ZXJYLCBjZW50ZXJZLCBsYWJlbE9wdHMucG9pbnRTdHlsZVdpZHRoICYmIGJveFdpZHRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHlCb3hUb3AgPSB5ICsgTWF0aC5tYXgoKGZvbnRTaXplIC0gYm94SGVpZ2h0KSAvIDIsIDApO1xuICAgICAgICBjb25zdCB4Qm94TGVmdCA9IHJ0bEhlbHBlci5sZWZ0Rm9yTHRyKHgsIGJveFdpZHRoKTtcbiAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gdG9UUkJMQ29ybmVycyhsZWdlbmRJdGVtLmJvcmRlclJhZGl1cyk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoYm9yZGVyUmFkaXVzKS5zb21lKHYgPT4gdiAhPT0gMCkpIHtcbiAgICAgICAgICBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCB7XG4gICAgICAgICAgICB4OiB4Qm94TGVmdCxcbiAgICAgICAgICAgIHk6IHlCb3hUb3AsXG4gICAgICAgICAgICB3OiBib3hXaWR0aCxcbiAgICAgICAgICAgIGg6IGJveEhlaWdodCxcbiAgICAgICAgICAgIHJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eC5yZWN0KHhCb3hMZWZ0LCB5Qm94VG9wLCBib3hXaWR0aCwgYm94SGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBpZiAobGluZVdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH07XG4gICAgY29uc3QgZmlsbFRleHQgPSBmdW5jdGlvbih4LCB5LCBsZWdlbmRJdGVtKSB7XG4gICAgICByZW5kZXJUZXh0KGN0eCwgbGVnZW5kSXRlbS50ZXh0LCB4LCB5ICsgKGl0ZW1IZWlnaHQgLyAyKSwgbGFiZWxGb250LCB7XG4gICAgICAgIHN0cmlrZXRocm91Z2g6IGxlZ2VuZEl0ZW0uaGlkZGVuLFxuICAgICAgICB0ZXh0QWxpZ246IHJ0bEhlbHBlci50ZXh0QWxpZ24obGVnZW5kSXRlbS50ZXh0QWxpZ24pXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgdGl0bGVIZWlnaHQgPSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKTtcbiAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICBjdXJzb3IgPSB7XG4gICAgICAgIHg6IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gbGluZVdpZHRoc1swXSksXG4gICAgICAgIHk6IHRoaXMudG9wICsgcGFkZGluZyArIHRpdGxlSGVpZ2h0LFxuICAgICAgICBsaW5lOiAwXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJzb3IgPSB7XG4gICAgICAgIHg6IHRoaXMubGVmdCArIHBhZGRpbmcsXG4gICAgICAgIHk6IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZywgdGhpcy5ib3R0b20gLSBjb2x1bW5TaXplc1swXS5oZWlnaHQpLFxuICAgICAgICBsaW5lOiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBvdmVycmlkZVRleHREaXJlY3Rpb24odGhpcy5jdHgsIG9wdHMudGV4dERpcmVjdGlvbik7XG4gICAgY29uc3QgbGluZUhlaWdodCA9IGl0ZW1IZWlnaHQgKyBwYWRkaW5nO1xuICAgIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgobGVnZW5kSXRlbSwgaSkgPT4ge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbGVnZW5kSXRlbS5mb250Q29sb3IgfHwgZm9udENvbG9yO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGxlZ2VuZEl0ZW0uZm9udENvbG9yIHx8IGZvbnRDb2xvcjtcbiAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGN0eC5tZWFzdXJlVGV4dChsZWdlbmRJdGVtLnRleHQpLndpZHRoO1xuICAgICAgY29uc3QgdGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihsZWdlbmRJdGVtLnRleHRBbGlnbiB8fCAobGVnZW5kSXRlbS50ZXh0QWxpZ24gPSBsYWJlbE9wdHMudGV4dEFsaWduKSk7XG4gICAgICBjb25zdCB3aWR0aCA9IGJveFdpZHRoICsgaGFsZkZvbnRTaXplICsgdGV4dFdpZHRoO1xuICAgICAgbGV0IHggPSBjdXJzb3IueDtcbiAgICAgIGxldCB5ID0gY3Vyc29yLnk7XG4gICAgICBydGxIZWxwZXIuc2V0V2lkdGgodGhpcy53aWR0aCk7XG4gICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgIGlmIChpID4gMCAmJiB4ICsgd2lkdGggKyBwYWRkaW5nID4gdGhpcy5yaWdodCkge1xuICAgICAgICAgIHkgPSBjdXJzb3IueSArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgIGN1cnNvci5saW5lKys7XG4gICAgICAgICAgeCA9IGN1cnNvci54ID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMubGVmdCArIHBhZGRpbmcsIHRoaXMucmlnaHQgLSBsaW5lV2lkdGhzW2N1cnNvci5saW5lXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaSA+IDAgJiYgeSArIGxpbmVIZWlnaHQgPiB0aGlzLmJvdHRvbSkge1xuICAgICAgICB4ID0gY3Vyc29yLnggPSB4ICsgY29sdW1uU2l6ZXNbY3Vyc29yLmxpbmVdLndpZHRoICsgcGFkZGluZztcbiAgICAgICAgY3Vyc29yLmxpbmUrKztcbiAgICAgICAgeSA9IGN1cnNvci55ID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMudG9wICsgdGl0bGVIZWlnaHQgKyBwYWRkaW5nLCB0aGlzLmJvdHRvbSAtIGNvbHVtblNpemVzW2N1cnNvci5saW5lXS5oZWlnaHQpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVhbFggPSBydGxIZWxwZXIueCh4KTtcbiAgICAgIGRyYXdMZWdlbmRCb3gocmVhbFgsIHksIGxlZ2VuZEl0ZW0pO1xuICAgICAgeCA9IF90ZXh0WCh0ZXh0QWxpZ24sIHggKyBib3hXaWR0aCArIGhhbGZGb250U2l6ZSwgaXNIb3Jpem9udGFsID8geCArIHdpZHRoIDogdGhpcy5yaWdodCwgb3B0cy5ydGwpO1xuICAgICAgZmlsbFRleHQocnRsSGVscGVyLngoeCksIHksIGxlZ2VuZEl0ZW0pO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBjdXJzb3IueCArPSB3aWR0aCArIHBhZGRpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJzb3IueSArPSBsaW5lSGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlc3RvcmVUZXh0RGlyZWN0aW9uKHRoaXMuY3R4LCBvcHRzLnRleHREaXJlY3Rpb24pO1xuICB9XG4gIGRyYXdUaXRsZSgpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHRpdGxlT3B0cyA9IG9wdHMudGl0bGU7XG4gICAgY29uc3QgdGl0bGVGb250ID0gdG9Gb250KHRpdGxlT3B0cy5mb250KTtcbiAgICBjb25zdCB0aXRsZVBhZGRpbmcgPSB0b1BhZGRpbmcodGl0bGVPcHRzLnBhZGRpbmcpO1xuICAgIGlmICghdGl0bGVPcHRzLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRzLnJ0bCwgdGhpcy5sZWZ0LCB0aGlzLndpZHRoKTtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRpdGxlT3B0cy5wb3NpdGlvbjtcbiAgICBjb25zdCBoYWxmRm9udFNpemUgPSB0aXRsZUZvbnQuc2l6ZSAvIDI7XG4gICAgY29uc3QgdG9wUGFkZGluZ1BsdXNIYWxmRm9udFNpemUgPSB0aXRsZVBhZGRpbmcudG9wICsgaGFsZkZvbnRTaXplO1xuICAgIGxldCB5O1xuICAgIGxldCBsZWZ0ID0gdGhpcy5sZWZ0O1xuICAgIGxldCBtYXhXaWR0aCA9IHRoaXMud2lkdGg7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIG1heFdpZHRoID0gTWF0aC5tYXgoLi4udGhpcy5saW5lV2lkdGhzKTtcbiAgICAgIHkgPSB0aGlzLnRvcCArIHRvcFBhZGRpbmdQbHVzSGFsZkZvbnRTaXplO1xuICAgICAgbGVmdCA9IF9hbGlnblN0YXJ0RW5kKG9wdHMuYWxpZ24sIGxlZnQsIHRoaXMucmlnaHQgLSBtYXhXaWR0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMuY29sdW1uU2l6ZXMucmVkdWNlKChhY2MsIHNpemUpID0+IE1hdGgubWF4KGFjYywgc2l6ZS5oZWlnaHQpLCAwKTtcbiAgICAgIHkgPSB0b3BQYWRkaW5nUGx1c0hhbGZGb250U2l6ZSArIF9hbGlnblN0YXJ0RW5kKG9wdHMuYWxpZ24sIHRoaXMudG9wLCB0aGlzLmJvdHRvbSAtIG1heEhlaWdodCAtIG9wdHMubGFiZWxzLnBhZGRpbmcgLSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHggPSBfYWxpZ25TdGFydEVuZChwb3NpdGlvbiwgbGVmdCwgbGVmdCArIG1heFdpZHRoKTtcbiAgICBjdHgudGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihfdG9MZWZ0UmlnaHRDZW50ZXIocG9zaXRpb24pKTtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGl0bGVPcHRzLmNvbG9yO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aXRsZU9wdHMuY29sb3I7XG4gICAgY3R4LmZvbnQgPSB0aXRsZUZvbnQuc3RyaW5nO1xuICAgIHJlbmRlclRleHQoY3R4LCB0aXRsZU9wdHMudGV4dCwgeCwgeSwgdGl0bGVGb250KTtcbiAgfVxuICBfY29tcHV0ZVRpdGxlSGVpZ2h0KCkge1xuICAgIGNvbnN0IHRpdGxlT3B0cyA9IHRoaXMub3B0aW9ucy50aXRsZTtcbiAgICBjb25zdCB0aXRsZUZvbnQgPSB0b0ZvbnQodGl0bGVPcHRzLmZvbnQpO1xuICAgIGNvbnN0IHRpdGxlUGFkZGluZyA9IHRvUGFkZGluZyh0aXRsZU9wdHMucGFkZGluZyk7XG4gICAgcmV0dXJuIHRpdGxlT3B0cy5kaXNwbGF5ID8gdGl0bGVGb250LmxpbmVIZWlnaHQgKyB0aXRsZVBhZGRpbmcuaGVpZ2h0IDogMDtcbiAgfVxuICBfZ2V0TGVnZW5kSXRlbUF0KHgsIHkpIHtcbiAgICBsZXQgaSwgaGl0Qm94LCBsaDtcbiAgICBpZiAoX2lzQmV0d2Vlbih4LCB0aGlzLmxlZnQsIHRoaXMucmlnaHQpXG4gICAgICAmJiBfaXNCZXR3ZWVuKHksIHRoaXMudG9wLCB0aGlzLmJvdHRvbSkpIHtcbiAgICAgIGxoID0gdGhpcy5sZWdlbmRIaXRCb3hlcztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsaC5sZW5ndGg7ICsraSkge1xuICAgICAgICBoaXRCb3ggPSBsaFtpXTtcbiAgICAgICAgaWYgKF9pc0JldHdlZW4oeCwgaGl0Qm94LmxlZnQsIGhpdEJveC5sZWZ0ICsgaGl0Qm94LndpZHRoKVxuICAgICAgICAgICYmIF9pc0JldHdlZW4oeSwgaGl0Qm94LnRvcCwgaGl0Qm94LnRvcCArIGhpdEJveC5oZWlnaHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubGVnZW5kSXRlbXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaGFuZGxlRXZlbnQoZSkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKCFpc0xpc3RlbmVkKGUudHlwZSwgb3B0cykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaG92ZXJlZEl0ZW0gPSB0aGlzLl9nZXRMZWdlbmRJdGVtQXQoZS54LCBlLnkpO1xuICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IGUudHlwZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgICAgY29uc3QgcHJldmlvdXMgPSB0aGlzLl9ob3ZlcmVkSXRlbTtcbiAgICAgIGNvbnN0IHNhbWVJdGVtID0gaXRlbXNFcXVhbChwcmV2aW91cywgaG92ZXJlZEl0ZW0pO1xuICAgICAgaWYgKHByZXZpb3VzICYmICFzYW1lSXRlbSkge1xuICAgICAgICBjYWxsYmFjayhvcHRzLm9uTGVhdmUsIFtlLCBwcmV2aW91cywgdGhpc10sIHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5faG92ZXJlZEl0ZW0gPSBob3ZlcmVkSXRlbTtcbiAgICAgIGlmIChob3ZlcmVkSXRlbSAmJiAhc2FtZUl0ZW0pIHtcbiAgICAgICAgY2FsbGJhY2sob3B0cy5vbkhvdmVyLCBbZSwgaG92ZXJlZEl0ZW0sIHRoaXNdLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGhvdmVyZWRJdGVtKSB7XG4gICAgICBjYWxsYmFjayhvcHRzLm9uQ2xpY2ssIFtlLCBob3ZlcmVkSXRlbSwgdGhpc10sIHRoaXMpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaXNMaXN0ZW5lZCh0eXBlLCBvcHRzKSB7XG4gIGlmICgodHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgdHlwZSA9PT0gJ21vdXNlb3V0JykgJiYgKG9wdHMub25Ib3ZlciB8fCBvcHRzLm9uTGVhdmUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9wdHMub25DbGljayAmJiAodHlwZSA9PT0gJ2NsaWNrJyB8fCB0eXBlID09PSAnbW91c2V1cCcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxudmFyIHBsdWdpbl9sZWdlbmQgPSB7XG4gIGlkOiAnbGVnZW5kJyxcbiAgX2VsZW1lbnQ6IExlZ2VuZCxcbiAgc3RhcnQoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGVnZW5kID0gY2hhcnQubGVnZW5kID0gbmV3IExlZ2VuZCh7Y3R4OiBjaGFydC5jdHgsIG9wdGlvbnMsIGNoYXJ0fSk7XG4gICAgbGF5b3V0cy5jb25maWd1cmUoY2hhcnQsIGxlZ2VuZCwgb3B0aW9ucyk7XG4gICAgbGF5b3V0cy5hZGRCb3goY2hhcnQsIGxlZ2VuZCk7XG4gIH0sXG4gIHN0b3AoY2hhcnQpIHtcbiAgICBsYXlvdXRzLnJlbW92ZUJveChjaGFydCwgY2hhcnQubGVnZW5kKTtcbiAgICBkZWxldGUgY2hhcnQubGVnZW5kO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGVnZW5kID0gY2hhcnQubGVnZW5kO1xuICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCBsZWdlbmQsIG9wdGlvbnMpO1xuICAgIGxlZ2VuZC5vcHRpb25zID0gb3B0aW9ucztcbiAgfSxcbiAgYWZ0ZXJVcGRhdGUoY2hhcnQpIHtcbiAgICBjb25zdCBsZWdlbmQgPSBjaGFydC5sZWdlbmQ7XG4gICAgbGVnZW5kLmJ1aWxkTGFiZWxzKCk7XG4gICAgbGVnZW5kLmFkanVzdEhpdEJveGVzKCk7XG4gIH0sXG4gIGFmdGVyRXZlbnQoY2hhcnQsIGFyZ3MpIHtcbiAgICBpZiAoIWFyZ3MucmVwbGF5KSB7XG4gICAgICBjaGFydC5sZWdlbmQuaGFuZGxlRXZlbnQoYXJncy5ldmVudCk7XG4gICAgfVxuICB9LFxuICBkZWZhdWx0czoge1xuICAgIGRpc3BsYXk6IHRydWUsXG4gICAgcG9zaXRpb246ICd0b3AnLFxuICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICBmdWxsU2l6ZTogdHJ1ZSxcbiAgICByZXZlcnNlOiBmYWxzZSxcbiAgICB3ZWlnaHQ6IDEwMDAsXG4gICAgb25DbGljayhlLCBsZWdlbmRJdGVtLCBsZWdlbmQpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbGVnZW5kSXRlbS5kYXRhc2V0SW5kZXg7XG4gICAgICBjb25zdCBjaSA9IGxlZ2VuZC5jaGFydDtcbiAgICAgIGlmIChjaS5pc0RhdGFzZXRWaXNpYmxlKGluZGV4KSkge1xuICAgICAgICBjaS5oaWRlKGluZGV4KTtcbiAgICAgICAgbGVnZW5kSXRlbS5oaWRkZW4gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2kuc2hvdyhpbmRleCk7XG4gICAgICAgIGxlZ2VuZEl0ZW0uaGlkZGVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBvbkhvdmVyOiBudWxsLFxuICAgIG9uTGVhdmU6IG51bGwsXG4gICAgbGFiZWxzOiB7XG4gICAgICBjb2xvcjogKGN0eCkgPT4gY3R4LmNoYXJ0Lm9wdGlvbnMuY29sb3IsXG4gICAgICBib3hXaWR0aDogNDAsXG4gICAgICBwYWRkaW5nOiAxMCxcbiAgICAgIGdlbmVyYXRlTGFiZWxzKGNoYXJ0KSB7XG4gICAgICAgIGNvbnN0IGRhdGFzZXRzID0gY2hhcnQuZGF0YS5kYXRhc2V0cztcbiAgICAgICAgY29uc3Qge2xhYmVsczoge3VzZVBvaW50U3R5bGUsIHBvaW50U3R5bGUsIHRleHRBbGlnbiwgY29sb3J9fSA9IGNoYXJ0LmxlZ2VuZC5vcHRpb25zO1xuICAgICAgICByZXR1cm4gY2hhcnQuX2dldFNvcnRlZERhdGFzZXRNZXRhcygpLm1hcCgobWV0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0eWxlID0gbWV0YS5jb250cm9sbGVyLmdldFN0eWxlKHVzZVBvaW50U3R5bGUgPyAwIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICBjb25zdCBib3JkZXJXaWR0aCA9IHRvUGFkZGluZyhzdHlsZS5ib3JkZXJXaWR0aCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRleHQ6IGRhdGFzZXRzW21ldGEuaW5kZXhdLmxhYmVsLFxuICAgICAgICAgICAgZmlsbFN0eWxlOiBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBmb250Q29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgaGlkZGVuOiAhbWV0YS52aXNpYmxlLFxuICAgICAgICAgICAgbGluZUNhcDogc3R5bGUuYm9yZGVyQ2FwU3R5bGUsXG4gICAgICAgICAgICBsaW5lRGFzaDogc3R5bGUuYm9yZGVyRGFzaCxcbiAgICAgICAgICAgIGxpbmVEYXNoT2Zmc2V0OiBzdHlsZS5ib3JkZXJEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgbGluZUpvaW46IHN0eWxlLmJvcmRlckpvaW5TdHlsZSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogKGJvcmRlcldpZHRoLndpZHRoICsgYm9yZGVyV2lkdGguaGVpZ2h0KSAvIDQsXG4gICAgICAgICAgICBzdHJva2VTdHlsZTogc3R5bGUuYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICBwb2ludFN0eWxlOiBwb2ludFN0eWxlIHx8IHN0eWxlLnBvaW50U3R5bGUsXG4gICAgICAgICAgICByb3RhdGlvbjogc3R5bGUucm90YXRpb24sXG4gICAgICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbiB8fCBzdHlsZS50ZXh0QWxpZ24sXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgICAgICAgICBkYXRhc2V0SW5kZXg6IG1ldGEuaW5kZXhcbiAgICAgICAgICB9O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRpdGxlOiB7XG4gICAgICBjb2xvcjogKGN0eCkgPT4gY3R4LmNoYXJ0Lm9wdGlvbnMuY29sb3IsXG4gICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgIHBvc2l0aW9uOiAnY2VudGVyJyxcbiAgICAgIHRleHQ6ICcnLFxuICAgIH1cbiAgfSxcbiAgZGVzY3JpcHRvcnM6IHtcbiAgICBfc2NyaXB0YWJsZTogKG5hbWUpID0+ICFuYW1lLnN0YXJ0c1dpdGgoJ29uJyksXG4gICAgbGFiZWxzOiB7XG4gICAgICBfc2NyaXB0YWJsZTogKG5hbWUpID0+ICFbJ2dlbmVyYXRlTGFiZWxzJywgJ2ZpbHRlcicsICdzb3J0J10uaW5jbHVkZXMobmFtZSksXG4gICAgfVxuICB9LFxufTtcblxuY2xhc3MgVGl0bGUgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNoYXJ0ID0gY29uZmlnLmNoYXJ0O1xuICAgIHRoaXMub3B0aW9ucyA9IGNvbmZpZy5vcHRpb25zO1xuICAgIHRoaXMuY3R4ID0gY29uZmlnLmN0eDtcbiAgICB0aGlzLl9wYWRkaW5nID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudG9wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYm90dG9tID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGVmdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndlaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmZ1bGxTaXplID0gdW5kZWZpbmVkO1xuICB9XG4gIHVwZGF0ZShtYXhXaWR0aCwgbWF4SGVpZ2h0KSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICB0aGlzLmxlZnQgPSAwO1xuICAgIHRoaXMudG9wID0gMDtcbiAgICBpZiAoIW9wdHMuZGlzcGxheSkge1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuaGVpZ2h0ID0gdGhpcy5yaWdodCA9IHRoaXMuYm90dG9tID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy53aWR0aCA9IHRoaXMucmlnaHQgPSBtYXhXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuYm90dG9tID0gbWF4SGVpZ2h0O1xuICAgIGNvbnN0IGxpbmVDb3VudCA9IGlzQXJyYXkob3B0cy50ZXh0KSA/IG9wdHMudGV4dC5sZW5ndGggOiAxO1xuICAgIHRoaXMuX3BhZGRpbmcgPSB0b1BhZGRpbmcob3B0cy5wYWRkaW5nKTtcbiAgICBjb25zdCB0ZXh0U2l6ZSA9IGxpbmVDb3VudCAqIHRvRm9udChvcHRzLmZvbnQpLmxpbmVIZWlnaHQgKyB0aGlzLl9wYWRkaW5nLmhlaWdodDtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgdGhpcy5oZWlnaHQgPSB0ZXh0U2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53aWR0aCA9IHRleHRTaXplO1xuICAgIH1cbiAgfVxuICBpc0hvcml6b250YWwoKSB7XG4gICAgY29uc3QgcG9zID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICAgIHJldHVybiBwb3MgPT09ICd0b3AnIHx8IHBvcyA9PT0gJ2JvdHRvbSc7XG4gIH1cbiAgX2RyYXdBcmdzKG9mZnNldCkge1xuICAgIGNvbnN0IHt0b3AsIGxlZnQsIGJvdHRvbSwgcmlnaHQsIG9wdGlvbnN9ID0gdGhpcztcbiAgICBjb25zdCBhbGlnbiA9IG9wdGlvbnMuYWxpZ247XG4gICAgbGV0IHJvdGF0aW9uID0gMDtcbiAgICBsZXQgbWF4V2lkdGgsIHRpdGxlWCwgdGl0bGVZO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB0aXRsZVggPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgbGVmdCwgcmlnaHQpO1xuICAgICAgdGl0bGVZID0gdG9wICsgb2Zmc2V0O1xuICAgICAgbWF4V2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcHRpb25zLnBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgdGl0bGVYID0gbGVmdCArIG9mZnNldDtcbiAgICAgICAgdGl0bGVZID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIGJvdHRvbSwgdG9wKTtcbiAgICAgICAgcm90YXRpb24gPSBQSSAqIC0wLjU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aXRsZVggPSByaWdodCAtIG9mZnNldDtcbiAgICAgICAgdGl0bGVZID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRvcCwgYm90dG9tKTtcbiAgICAgICAgcm90YXRpb24gPSBQSSAqIDAuNTtcbiAgICAgIH1cbiAgICAgIG1heFdpZHRoID0gYm90dG9tIC0gdG9wO1xuICAgIH1cbiAgICByZXR1cm4ge3RpdGxlWCwgdGl0bGVZLCBtYXhXaWR0aCwgcm90YXRpb259O1xuICB9XG4gIGRyYXcoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoIW9wdHMuZGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmb250T3B0cyA9IHRvRm9udChvcHRzLmZvbnQpO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBmb250T3B0cy5saW5lSGVpZ2h0O1xuICAgIGNvbnN0IG9mZnNldCA9IGxpbmVIZWlnaHQgLyAyICsgdGhpcy5fcGFkZGluZy50b3A7XG4gICAgY29uc3Qge3RpdGxlWCwgdGl0bGVZLCBtYXhXaWR0aCwgcm90YXRpb259ID0gdGhpcy5fZHJhd0FyZ3Mob2Zmc2V0KTtcbiAgICByZW5kZXJUZXh0KGN0eCwgb3B0cy50ZXh0LCAwLCAwLCBmb250T3B0cywge1xuICAgICAgY29sb3I6IG9wdHMuY29sb3IsXG4gICAgICBtYXhXaWR0aCxcbiAgICAgIHJvdGF0aW9uLFxuICAgICAgdGV4dEFsaWduOiBfdG9MZWZ0UmlnaHRDZW50ZXIob3B0cy5hbGlnbiksXG4gICAgICB0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnLFxuICAgICAgdHJhbnNsYXRpb246IFt0aXRsZVgsIHRpdGxlWV0sXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVRpdGxlKGNoYXJ0LCB0aXRsZU9wdHMpIHtcbiAgY29uc3QgdGl0bGUgPSBuZXcgVGl0bGUoe1xuICAgIGN0eDogY2hhcnQuY3R4LFxuICAgIG9wdGlvbnM6IHRpdGxlT3B0cyxcbiAgICBjaGFydFxuICB9KTtcbiAgbGF5b3V0cy5jb25maWd1cmUoY2hhcnQsIHRpdGxlLCB0aXRsZU9wdHMpO1xuICBsYXlvdXRzLmFkZEJveChjaGFydCwgdGl0bGUpO1xuICBjaGFydC50aXRsZUJsb2NrID0gdGl0bGU7XG59XG52YXIgcGx1Z2luX3RpdGxlID0ge1xuICBpZDogJ3RpdGxlJyxcbiAgX2VsZW1lbnQ6IFRpdGxlLFxuICBzdGFydChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBjcmVhdGVUaXRsZShjaGFydCwgb3B0aW9ucyk7XG4gIH0sXG4gIHN0b3AoY2hhcnQpIHtcbiAgICBjb25zdCB0aXRsZUJsb2NrID0gY2hhcnQudGl0bGVCbG9jaztcbiAgICBsYXlvdXRzLnJlbW92ZUJveChjaGFydCwgdGl0bGVCbG9jayk7XG4gICAgZGVsZXRlIGNoYXJ0LnRpdGxlQmxvY2s7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0aXRsZSA9IGNoYXJ0LnRpdGxlQmxvY2s7XG4gICAgbGF5b3V0cy5jb25maWd1cmUoY2hhcnQsIHRpdGxlLCBvcHRpb25zKTtcbiAgICB0aXRsZS5vcHRpb25zID0gb3B0aW9ucztcbiAgfSxcbiAgZGVmYXVsdHM6IHtcbiAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogZmFsc2UsXG4gICAgZm9udDoge1xuICAgICAgd2VpZ2h0OiAnYm9sZCcsXG4gICAgfSxcbiAgICBmdWxsU2l6ZTogdHJ1ZSxcbiAgICBwYWRkaW5nOiAxMCxcbiAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgdGV4dDogJycsXG4gICAgd2VpZ2h0OiAyMDAwXG4gIH0sXG4gIGRlZmF1bHRSb3V0ZXM6IHtcbiAgICBjb2xvcjogJ2NvbG9yJ1xuICB9LFxuICBkZXNjcmlwdG9yczoge1xuICAgIF9zY3JpcHRhYmxlOiB0cnVlLFxuICAgIF9pbmRleGFibGU6IGZhbHNlLFxuICB9LFxufTtcblxuY29uc3QgbWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBwbHVnaW5fc3VidGl0bGUgPSB7XG4gIGlkOiAnc3VidGl0bGUnLFxuICBzdGFydChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0aXRsZSA9IG5ldyBUaXRsZSh7XG4gICAgICBjdHg6IGNoYXJ0LmN0eCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjaGFydFxuICAgIH0pO1xuICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgbGF5b3V0cy5hZGRCb3goY2hhcnQsIHRpdGxlKTtcbiAgICBtYXAuc2V0KGNoYXJ0LCB0aXRsZSk7XG4gIH0sXG4gIHN0b3AoY2hhcnQpIHtcbiAgICBsYXlvdXRzLnJlbW92ZUJveChjaGFydCwgbWFwLmdldChjaGFydCkpO1xuICAgIG1hcC5kZWxldGUoY2hhcnQpO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGl0bGUgPSBtYXAuZ2V0KGNoYXJ0KTtcbiAgICBsYXlvdXRzLmNvbmZpZ3VyZShjaGFydCwgdGl0bGUsIG9wdGlvbnMpO1xuICAgIHRpdGxlLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9LFxuICBkZWZhdWx0czoge1xuICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICBmb250OiB7XG4gICAgICB3ZWlnaHQ6ICdub3JtYWwnLFxuICAgIH0sXG4gICAgZnVsbFNpemU6IHRydWUsXG4gICAgcGFkZGluZzogMCxcbiAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgdGV4dDogJycsXG4gICAgd2VpZ2h0OiAxNTAwXG4gIH0sXG4gIGRlZmF1bHRSb3V0ZXM6IHtcbiAgICBjb2xvcjogJ2NvbG9yJ1xuICB9LFxuICBkZXNjcmlwdG9yczoge1xuICAgIF9zY3JpcHRhYmxlOiB0cnVlLFxuICAgIF9pbmRleGFibGU6IGZhbHNlLFxuICB9LFxufTtcblxuY29uc3QgcG9zaXRpb25lcnMgPSB7XG4gIGF2ZXJhZ2UoaXRlbXMpIHtcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgaSwgbGVuO1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY29uc3QgZWwgPSBpdGVtc1tpXS5lbGVtZW50O1xuICAgICAgaWYgKGVsICYmIGVsLmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgY29uc3QgcG9zID0gZWwudG9vbHRpcFBvc2l0aW9uKCk7XG4gICAgICAgIHggKz0gcG9zLng7XG4gICAgICAgIHkgKz0gcG9zLnk7XG4gICAgICAgICsrY291bnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB4OiB4IC8gY291bnQsXG4gICAgICB5OiB5IC8gY291bnRcbiAgICB9O1xuICB9LFxuICBuZWFyZXN0KGl0ZW1zLCBldmVudFBvc2l0aW9uKSB7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IHggPSBldmVudFBvc2l0aW9uLng7XG4gICAgbGV0IHkgPSBldmVudFBvc2l0aW9uLnk7XG4gICAgbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGxldCBpLCBsZW4sIG5lYXJlc3RFbGVtZW50O1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjb25zdCBlbCA9IGl0ZW1zW2ldLmVsZW1lbnQ7XG4gICAgICBpZiAoZWwgJiYgZWwuaGFzVmFsdWUoKSkge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBlbC5nZXRDZW50ZXJQb2ludCgpO1xuICAgICAgICBjb25zdCBkID0gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKGV2ZW50UG9zaXRpb24sIGNlbnRlcik7XG4gICAgICAgIGlmIChkIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgICAgICBtaW5EaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgbmVhcmVzdEVsZW1lbnQgPSBlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmVhcmVzdEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IHRwID0gbmVhcmVzdEVsZW1lbnQudG9vbHRpcFBvc2l0aW9uKCk7XG4gICAgICB4ID0gdHAueDtcbiAgICAgIHkgPSB0cC55O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeCxcbiAgICAgIHlcbiAgICB9O1xuICB9XG59O1xuZnVuY3Rpb24gcHVzaE9yQ29uY2F0KGJhc2UsIHRvUHVzaCkge1xuICBpZiAodG9QdXNoKSB7XG4gICAgaWYgKGlzQXJyYXkodG9QdXNoKSkge1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYmFzZSwgdG9QdXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZS5wdXNoKHRvUHVzaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBiYXNlO1xufVxuZnVuY3Rpb24gc3BsaXROZXdsaW5lcyhzdHIpIHtcbiAgaWYgKCh0eXBlb2Ygc3RyID09PSAnc3RyaW5nJyB8fCBzdHIgaW5zdGFuY2VvZiBTdHJpbmcpICYmIHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgcmV0dXJuIHN0ci5zcGxpdCgnXFxuJyk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXBJdGVtKGNoYXJ0LCBpdGVtKSB7XG4gIGNvbnN0IHtlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fSA9IGl0ZW07XG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBjaGFydC5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXI7XG4gIGNvbnN0IHtsYWJlbCwgdmFsdWV9ID0gY29udHJvbGxlci5nZXRMYWJlbEFuZFZhbHVlKGluZGV4KTtcbiAgcmV0dXJuIHtcbiAgICBjaGFydCxcbiAgICBsYWJlbCxcbiAgICBwYXJzZWQ6IGNvbnRyb2xsZXIuZ2V0UGFyc2VkKGluZGV4KSxcbiAgICByYXc6IGNoYXJ0LmRhdGEuZGF0YXNldHNbZGF0YXNldEluZGV4XS5kYXRhW2luZGV4XSxcbiAgICBmb3JtYXR0ZWRWYWx1ZTogdmFsdWUsXG4gICAgZGF0YXNldDogY29udHJvbGxlci5nZXREYXRhc2V0KCksXG4gICAgZGF0YUluZGV4OiBpbmRleCxcbiAgICBkYXRhc2V0SW5kZXgsXG4gICAgZWxlbWVudFxuICB9O1xufVxuZnVuY3Rpb24gZ2V0VG9vbHRpcFNpemUodG9vbHRpcCwgb3B0aW9ucykge1xuICBjb25zdCBjdHggPSB0b29sdGlwLmNoYXJ0LmN0eDtcbiAgY29uc3Qge2JvZHksIGZvb3RlciwgdGl0bGV9ID0gdG9vbHRpcDtcbiAgY29uc3Qge2JveFdpZHRoLCBib3hIZWlnaHR9ID0gb3B0aW9ucztcbiAgY29uc3QgYm9keUZvbnQgPSB0b0ZvbnQob3B0aW9ucy5ib2R5Rm9udCk7XG4gIGNvbnN0IHRpdGxlRm9udCA9IHRvRm9udChvcHRpb25zLnRpdGxlRm9udCk7XG4gIGNvbnN0IGZvb3RlckZvbnQgPSB0b0ZvbnQob3B0aW9ucy5mb290ZXJGb250KTtcbiAgY29uc3QgdGl0bGVMaW5lQ291bnQgPSB0aXRsZS5sZW5ndGg7XG4gIGNvbnN0IGZvb3RlckxpbmVDb3VudCA9IGZvb3Rlci5sZW5ndGg7XG4gIGNvbnN0IGJvZHlMaW5lSXRlbUNvdW50ID0gYm9keS5sZW5ndGg7XG4gIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0aW9ucy5wYWRkaW5nKTtcbiAgbGV0IGhlaWdodCA9IHBhZGRpbmcuaGVpZ2h0O1xuICBsZXQgd2lkdGggPSAwO1xuICBsZXQgY29tYmluZWRCb2R5TGVuZ3RoID0gYm9keS5yZWR1Y2UoKGNvdW50LCBib2R5SXRlbSkgPT4gY291bnQgKyBib2R5SXRlbS5iZWZvcmUubGVuZ3RoICsgYm9keUl0ZW0ubGluZXMubGVuZ3RoICsgYm9keUl0ZW0uYWZ0ZXIubGVuZ3RoLCAwKTtcbiAgY29tYmluZWRCb2R5TGVuZ3RoICs9IHRvb2x0aXAuYmVmb3JlQm9keS5sZW5ndGggKyB0b29sdGlwLmFmdGVyQm9keS5sZW5ndGg7XG4gIGlmICh0aXRsZUxpbmVDb3VudCkge1xuICAgIGhlaWdodCArPSB0aXRsZUxpbmVDb3VudCAqIHRpdGxlRm9udC5saW5lSGVpZ2h0XG5cdFx0XHQrICh0aXRsZUxpbmVDb3VudCAtIDEpICogb3B0aW9ucy50aXRsZVNwYWNpbmdcblx0XHRcdCsgb3B0aW9ucy50aXRsZU1hcmdpbkJvdHRvbTtcbiAgfVxuICBpZiAoY29tYmluZWRCb2R5TGVuZ3RoKSB7XG4gICAgY29uc3QgYm9keUxpbmVIZWlnaHQgPSBvcHRpb25zLmRpc3BsYXlDb2xvcnMgPyBNYXRoLm1heChib3hIZWlnaHQsIGJvZHlGb250LmxpbmVIZWlnaHQpIDogYm9keUZvbnQubGluZUhlaWdodDtcbiAgICBoZWlnaHQgKz0gYm9keUxpbmVJdGVtQ291bnQgKiBib2R5TGluZUhlaWdodFxuXHRcdFx0KyAoY29tYmluZWRCb2R5TGVuZ3RoIC0gYm9keUxpbmVJdGVtQ291bnQpICogYm9keUZvbnQubGluZUhlaWdodFxuXHRcdFx0KyAoY29tYmluZWRCb2R5TGVuZ3RoIC0gMSkgKiBvcHRpb25zLmJvZHlTcGFjaW5nO1xuICB9XG4gIGlmIChmb290ZXJMaW5lQ291bnQpIHtcbiAgICBoZWlnaHQgKz0gb3B0aW9ucy5mb290ZXJNYXJnaW5Ub3Bcblx0XHRcdCsgZm9vdGVyTGluZUNvdW50ICogZm9vdGVyRm9udC5saW5lSGVpZ2h0XG5cdFx0XHQrIChmb290ZXJMaW5lQ291bnQgLSAxKSAqIG9wdGlvbnMuZm9vdGVyU3BhY2luZztcbiAgfVxuICBsZXQgd2lkdGhQYWRkaW5nID0gMDtcbiAgY29uc3QgbWF4TGluZVdpZHRoID0gZnVuY3Rpb24obGluZSkge1xuICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGN0eC5tZWFzdXJlVGV4dChsaW5lKS53aWR0aCArIHdpZHRoUGFkZGluZyk7XG4gIH07XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gdGl0bGVGb250LnN0cmluZztcbiAgZWFjaCh0b29sdGlwLnRpdGxlLCBtYXhMaW5lV2lkdGgpO1xuICBjdHguZm9udCA9IGJvZHlGb250LnN0cmluZztcbiAgZWFjaCh0b29sdGlwLmJlZm9yZUJvZHkuY29uY2F0KHRvb2x0aXAuYWZ0ZXJCb2R5KSwgbWF4TGluZVdpZHRoKTtcbiAgd2lkdGhQYWRkaW5nID0gb3B0aW9ucy5kaXNwbGF5Q29sb3JzID8gKGJveFdpZHRoICsgMiArIG9wdGlvbnMuYm94UGFkZGluZykgOiAwO1xuICBlYWNoKGJvZHksIChib2R5SXRlbSkgPT4ge1xuICAgIGVhY2goYm9keUl0ZW0uYmVmb3JlLCBtYXhMaW5lV2lkdGgpO1xuICAgIGVhY2goYm9keUl0ZW0ubGluZXMsIG1heExpbmVXaWR0aCk7XG4gICAgZWFjaChib2R5SXRlbS5hZnRlciwgbWF4TGluZVdpZHRoKTtcbiAgfSk7XG4gIHdpZHRoUGFkZGluZyA9IDA7XG4gIGN0eC5mb250ID0gZm9vdGVyRm9udC5zdHJpbmc7XG4gIGVhY2godG9vbHRpcC5mb290ZXIsIG1heExpbmVXaWR0aCk7XG4gIGN0eC5yZXN0b3JlKCk7XG4gIHdpZHRoICs9IHBhZGRpbmcud2lkdGg7XG4gIHJldHVybiB7d2lkdGgsIGhlaWdodH07XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVZQWxpZ24oY2hhcnQsIHNpemUpIHtcbiAgY29uc3Qge3ksIGhlaWdodH0gPSBzaXplO1xuICBpZiAoeSA8IGhlaWdodCAvIDIpIHtcbiAgICByZXR1cm4gJ3RvcCc7XG4gIH0gZWxzZSBpZiAoeSA+IChjaGFydC5oZWlnaHQgLSBoZWlnaHQgLyAyKSkge1xuICAgIHJldHVybiAnYm90dG9tJztcbiAgfVxuICByZXR1cm4gJ2NlbnRlcic7XG59XG5mdW5jdGlvbiBkb2VzTm90Rml0V2l0aEFsaWduKHhBbGlnbiwgY2hhcnQsIG9wdGlvbnMsIHNpemUpIHtcbiAgY29uc3Qge3gsIHdpZHRofSA9IHNpemU7XG4gIGNvbnN0IGNhcmV0ID0gb3B0aW9ucy5jYXJldFNpemUgKyBvcHRpb25zLmNhcmV0UGFkZGluZztcbiAgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnICYmIHggKyB3aWR0aCArIGNhcmV0ID4gY2hhcnQud2lkdGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoeEFsaWduID09PSAncmlnaHQnICYmIHggLSB3aWR0aCAtIGNhcmV0IDwgMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVYQWxpZ24oY2hhcnQsIG9wdGlvbnMsIHNpemUsIHlBbGlnbikge1xuICBjb25zdCB7eCwgd2lkdGh9ID0gc2l6ZTtcbiAgY29uc3Qge3dpZHRoOiBjaGFydFdpZHRoLCBjaGFydEFyZWE6IHtsZWZ0LCByaWdodH19ID0gY2hhcnQ7XG4gIGxldCB4QWxpZ24gPSAnY2VudGVyJztcbiAgaWYgKHlBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICB4QWxpZ24gPSB4IDw9IChsZWZ0ICsgcmlnaHQpIC8gMiA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIH0gZWxzZSBpZiAoeCA8PSB3aWR0aCAvIDIpIHtcbiAgICB4QWxpZ24gPSAnbGVmdCc7XG4gIH0gZWxzZSBpZiAoeCA+PSBjaGFydFdpZHRoIC0gd2lkdGggLyAyKSB7XG4gICAgeEFsaWduID0gJ3JpZ2h0JztcbiAgfVxuICBpZiAoZG9lc05vdEZpdFdpdGhBbGlnbih4QWxpZ24sIGNoYXJ0LCBvcHRpb25zLCBzaXplKSkge1xuICAgIHhBbGlnbiA9ICdjZW50ZXInO1xuICB9XG4gIHJldHVybiB4QWxpZ247XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVBbGlnbm1lbnQoY2hhcnQsIG9wdGlvbnMsIHNpemUpIHtcbiAgY29uc3QgeUFsaWduID0gc2l6ZS55QWxpZ24gfHwgb3B0aW9ucy55QWxpZ24gfHwgZGV0ZXJtaW5lWUFsaWduKGNoYXJ0LCBzaXplKTtcbiAgcmV0dXJuIHtcbiAgICB4QWxpZ246IHNpemUueEFsaWduIHx8IG9wdGlvbnMueEFsaWduIHx8IGRldGVybWluZVhBbGlnbihjaGFydCwgb3B0aW9ucywgc2l6ZSwgeUFsaWduKSxcbiAgICB5QWxpZ25cbiAgfTtcbn1cbmZ1bmN0aW9uIGFsaWduWChzaXplLCB4QWxpZ24pIHtcbiAgbGV0IHt4LCB3aWR0aH0gPSBzaXplO1xuICBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgeCAtPSB3aWR0aDtcbiAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgeCAtPSAod2lkdGggLyAyKTtcbiAgfVxuICByZXR1cm4geDtcbn1cbmZ1bmN0aW9uIGFsaWduWShzaXplLCB5QWxpZ24sIHBhZGRpbmdBbmRTaXplKSB7XG4gIGxldCB7eSwgaGVpZ2h0fSA9IHNpemU7XG4gIGlmICh5QWxpZ24gPT09ICd0b3AnKSB7XG4gICAgeSArPSBwYWRkaW5nQW5kU2l6ZTtcbiAgfSBlbHNlIGlmICh5QWxpZ24gPT09ICdib3R0b20nKSB7XG4gICAgeSAtPSBoZWlnaHQgKyBwYWRkaW5nQW5kU2l6ZTtcbiAgfSBlbHNlIHtcbiAgICB5IC09IChoZWlnaHQgLyAyKTtcbiAgfVxuICByZXR1cm4geTtcbn1cbmZ1bmN0aW9uIGdldEJhY2tncm91bmRQb2ludChvcHRpb25zLCBzaXplLCBhbGlnbm1lbnQsIGNoYXJ0KSB7XG4gIGNvbnN0IHtjYXJldFNpemUsIGNhcmV0UGFkZGluZywgY29ybmVyUmFkaXVzfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHt4QWxpZ24sIHlBbGlnbn0gPSBhbGlnbm1lbnQ7XG4gIGNvbnN0IHBhZGRpbmdBbmRTaXplID0gY2FyZXRTaXplICsgY2FyZXRQYWRkaW5nO1xuICBjb25zdCB7dG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbUxlZnQsIGJvdHRvbVJpZ2h0fSA9IHRvVFJCTENvcm5lcnMoY29ybmVyUmFkaXVzKTtcbiAgbGV0IHggPSBhbGlnblgoc2l6ZSwgeEFsaWduKTtcbiAgY29uc3QgeSA9IGFsaWduWShzaXplLCB5QWxpZ24sIHBhZGRpbmdBbmRTaXplKTtcbiAgaWYgKHlBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICBpZiAoeEFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgIHggKz0gcGFkZGluZ0FuZFNpemU7XG4gICAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgIHggLT0gcGFkZGluZ0FuZFNpemU7XG4gICAgfVxuICB9IGVsc2UgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgeCAtPSBNYXRoLm1heCh0b3BMZWZ0LCBib3R0b21MZWZ0KSArIGNhcmV0U2l6ZTtcbiAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICB4ICs9IE1hdGgubWF4KHRvcFJpZ2h0LCBib3R0b21SaWdodCkgKyBjYXJldFNpemU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4OiBfbGltaXRWYWx1ZSh4LCAwLCBjaGFydC53aWR0aCAtIHNpemUud2lkdGgpLFxuICAgIHk6IF9saW1pdFZhbHVlKHksIDAsIGNoYXJ0LmhlaWdodCAtIHNpemUuaGVpZ2h0KVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QWxpZ25lZFgodG9vbHRpcCwgYWxpZ24sIG9wdGlvbnMpIHtcbiAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICByZXR1cm4gYWxpZ24gPT09ICdjZW50ZXInXG4gICAgPyB0b29sdGlwLnggKyB0b29sdGlwLndpZHRoIC8gMlxuICAgIDogYWxpZ24gPT09ICdyaWdodCdcbiAgICAgID8gdG9vbHRpcC54ICsgdG9vbHRpcC53aWR0aCAtIHBhZGRpbmcucmlnaHRcbiAgICAgIDogdG9vbHRpcC54ICsgcGFkZGluZy5sZWZ0O1xufVxuZnVuY3Rpb24gZ2V0QmVmb3JlQWZ0ZXJCb2R5TGluZXMoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHB1c2hPckNvbmNhdChbXSwgc3BsaXROZXdsaW5lcyhjYWxsYmFjaykpO1xufVxuZnVuY3Rpb24gY3JlYXRlVG9vbHRpcENvbnRleHQocGFyZW50LCB0b29sdGlwLCB0b29sdGlwSXRlbXMpIHtcbiAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgdG9vbHRpcCxcbiAgICB0b29sdGlwSXRlbXMsXG4gICAgdHlwZTogJ3Rvb2x0aXAnXG4gIH0pO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVDYWxsYmFja3MoY2FsbGJhY2tzLCBjb250ZXh0KSB7XG4gIGNvbnN0IG92ZXJyaWRlID0gY29udGV4dCAmJiBjb250ZXh0LmRhdGFzZXQgJiYgY29udGV4dC5kYXRhc2V0LnRvb2x0aXAgJiYgY29udGV4dC5kYXRhc2V0LnRvb2x0aXAuY2FsbGJhY2tzO1xuICByZXR1cm4gb3ZlcnJpZGUgPyBjYWxsYmFja3Mub3ZlcnJpZGUob3ZlcnJpZGUpIDogY2FsbGJhY2tzO1xufVxuY2xhc3MgVG9vbHRpcCBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3BhY2l0eSA9IDA7XG4gICAgdGhpcy5fYWN0aXZlID0gW107XG4gICAgdGhpcy5fZXZlbnRQb3NpdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zaXplID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2NhY2hlZEFuaW1hdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdG9vbHRpcEl0ZW1zID0gW107XG4gICAgdGhpcy4kYW5pbWF0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2hhcnQgPSBjb25maWcuY2hhcnQgfHwgY29uZmlnLl9jaGFydDtcbiAgICB0aGlzLl9jaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnM7XG4gICAgdGhpcy5kYXRhUG9pbnRzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudGl0bGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5iZWZvcmVCb2R5ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFmdGVyQm9keSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmZvb3RlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnhBbGlnbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnlBbGlnbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy55ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jYXJldFggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jYXJldFkgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYWJlbENvbG9ycyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxhYmVsUG9pbnRTdHlsZXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYWJlbFRleHRDb2xvcnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdGlhbGl6ZShvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9jYWNoZWRBbmltYXRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgX3Jlc29sdmVBbmltYXRpb25zKCkge1xuICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuX2NhY2hlZEFuaW1hdGlvbnM7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgY29uc3Qgb3B0cyA9IG9wdGlvbnMuZW5hYmxlZCAmJiBjaGFydC5vcHRpb25zLmFuaW1hdGlvbiAmJiBvcHRpb25zLmFuaW1hdGlvbnM7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IG5ldyBBbmltYXRpb25zKHRoaXMuY2hhcnQsIG9wdHMpO1xuICAgIGlmIChvcHRzLl9jYWNoZWFibGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlZEFuaW1hdGlvbnMgPSBPYmplY3QuZnJlZXplKGFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgfVxuICBnZXRDb250ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLiRjb250ZXh0IHx8XG5cdFx0XHQodGhpcy4kY29udGV4dCA9IGNyZWF0ZVRvb2x0aXBDb250ZXh0KHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLCB0aGlzLCB0aGlzLl90b29sdGlwSXRlbXMpKTtcbiAgfVxuICBnZXRUaXRsZShjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgY29uc3Qge2NhbGxiYWNrc30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGJlZm9yZVRpdGxlID0gY2FsbGJhY2tzLmJlZm9yZVRpdGxlLmFwcGx5KHRoaXMsIFtjb250ZXh0XSk7XG4gICAgY29uc3QgdGl0bGUgPSBjYWxsYmFja3MudGl0bGUuYXBwbHkodGhpcywgW2NvbnRleHRdKTtcbiAgICBjb25zdCBhZnRlclRpdGxlID0gY2FsbGJhY2tzLmFmdGVyVGl0bGUuYXBwbHkodGhpcywgW2NvbnRleHRdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhiZWZvcmVUaXRsZSkpO1xuICAgIGxpbmVzID0gcHVzaE9yQ29uY2F0KGxpbmVzLCBzcGxpdE5ld2xpbmVzKHRpdGxlKSk7XG4gICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoYWZ0ZXJUaXRsZSkpO1xuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICBnZXRCZWZvcmVCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgIHJldHVybiBnZXRCZWZvcmVBZnRlckJvZHlMaW5lcyhvcHRpb25zLmNhbGxiYWNrcy5iZWZvcmVCb2R5LmFwcGx5KHRoaXMsIFt0b29sdGlwSXRlbXNdKSk7XG4gIH1cbiAgZ2V0Qm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7Y2FsbGJhY2tzfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keUl0ZW1zID0gW107XG4gICAgZWFjaCh0b29sdGlwSXRlbXMsIChjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCBib2R5SXRlbSA9IHtcbiAgICAgICAgYmVmb3JlOiBbXSxcbiAgICAgICAgbGluZXM6IFtdLFxuICAgICAgICBhZnRlcjogW11cbiAgICAgIH07XG4gICAgICBjb25zdCBzY29wZWQgPSBvdmVycmlkZUNhbGxiYWNrcyhjYWxsYmFja3MsIGNvbnRleHQpO1xuICAgICAgcHVzaE9yQ29uY2F0KGJvZHlJdGVtLmJlZm9yZSwgc3BsaXROZXdsaW5lcyhzY29wZWQuYmVmb3JlTGFiZWwuY2FsbCh0aGlzLCBjb250ZXh0KSkpO1xuICAgICAgcHVzaE9yQ29uY2F0KGJvZHlJdGVtLmxpbmVzLCBzY29wZWQubGFiZWwuY2FsbCh0aGlzLCBjb250ZXh0KSk7XG4gICAgICBwdXNoT3JDb25jYXQoYm9keUl0ZW0uYWZ0ZXIsIHNwbGl0TmV3bGluZXMoc2NvcGVkLmFmdGVyTGFiZWwuY2FsbCh0aGlzLCBjb250ZXh0KSkpO1xuICAgICAgYm9keUl0ZW1zLnB1c2goYm9keUl0ZW0pO1xuICAgIH0pO1xuICAgIHJldHVybiBib2R5SXRlbXM7XG4gIH1cbiAgZ2V0QWZ0ZXJCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgIHJldHVybiBnZXRCZWZvcmVBZnRlckJvZHlMaW5lcyhvcHRpb25zLmNhbGxiYWNrcy5hZnRlckJvZHkuYXBwbHkodGhpcywgW3Rvb2x0aXBJdGVtc10pKTtcbiAgfVxuICBnZXRGb290ZXIodG9vbHRpcEl0ZW1zLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge2NhbGxiYWNrc30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGJlZm9yZUZvb3RlciA9IGNhbGxiYWNrcy5iZWZvcmVGb290ZXIuYXBwbHkodGhpcywgW3Rvb2x0aXBJdGVtc10pO1xuICAgIGNvbnN0IGZvb3RlciA9IGNhbGxiYWNrcy5mb290ZXIuYXBwbHkodGhpcywgW3Rvb2x0aXBJdGVtc10pO1xuICAgIGNvbnN0IGFmdGVyRm9vdGVyID0gY2FsbGJhY2tzLmFmdGVyRm9vdGVyLmFwcGx5KHRoaXMsIFt0b29sdGlwSXRlbXNdKTtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhiZWZvcmVGb290ZXIpKTtcbiAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhmb290ZXIpKTtcbiAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhhZnRlckZvb3RlcikpO1xuICAgIHJldHVybiBsaW5lcztcbiAgfVxuICBfY3JlYXRlSXRlbXMob3B0aW9ucykge1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5jaGFydC5kYXRhO1xuICAgIGNvbnN0IGxhYmVsQ29sb3JzID0gW107XG4gICAgY29uc3QgbGFiZWxQb2ludFN0eWxlcyA9IFtdO1xuICAgIGNvbnN0IGxhYmVsVGV4dENvbG9ycyA9IFtdO1xuICAgIGxldCB0b29sdGlwSXRlbXMgPSBbXTtcbiAgICBsZXQgaSwgbGVuO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IGFjdGl2ZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgdG9vbHRpcEl0ZW1zLnB1c2goY3JlYXRlVG9vbHRpcEl0ZW0odGhpcy5jaGFydCwgYWN0aXZlW2ldKSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmZpbHRlcikge1xuICAgICAgdG9vbHRpcEl0ZW1zID0gdG9vbHRpcEl0ZW1zLmZpbHRlcigoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBvcHRpb25zLmZpbHRlcihlbGVtZW50LCBpbmRleCwgYXJyYXksIGRhdGEpKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaXRlbVNvcnQpIHtcbiAgICAgIHRvb2x0aXBJdGVtcyA9IHRvb2x0aXBJdGVtcy5zb3J0KChhLCBiKSA9PiBvcHRpb25zLml0ZW1Tb3J0KGEsIGIsIGRhdGEpKTtcbiAgICB9XG4gICAgZWFjaCh0b29sdGlwSXRlbXMsIChjb250ZXh0KSA9PiB7XG4gICAgICBjb25zdCBzY29wZWQgPSBvdmVycmlkZUNhbGxiYWNrcyhvcHRpb25zLmNhbGxiYWNrcywgY29udGV4dCk7XG4gICAgICBsYWJlbENvbG9ycy5wdXNoKHNjb3BlZC5sYWJlbENvbG9yLmNhbGwodGhpcywgY29udGV4dCkpO1xuICAgICAgbGFiZWxQb2ludFN0eWxlcy5wdXNoKHNjb3BlZC5sYWJlbFBvaW50U3R5bGUuY2FsbCh0aGlzLCBjb250ZXh0KSk7XG4gICAgICBsYWJlbFRleHRDb2xvcnMucHVzaChzY29wZWQubGFiZWxUZXh0Q29sb3IuY2FsbCh0aGlzLCBjb250ZXh0KSk7XG4gICAgfSk7XG4gICAgdGhpcy5sYWJlbENvbG9ycyA9IGxhYmVsQ29sb3JzO1xuICAgIHRoaXMubGFiZWxQb2ludFN0eWxlcyA9IGxhYmVsUG9pbnRTdHlsZXM7XG4gICAgdGhpcy5sYWJlbFRleHRDb2xvcnMgPSBsYWJlbFRleHRDb2xvcnM7XG4gICAgdGhpcy5kYXRhUG9pbnRzID0gdG9vbHRpcEl0ZW1zO1xuICAgIHJldHVybiB0b29sdGlwSXRlbXM7XG4gIH1cbiAgdXBkYXRlKGNoYW5nZWQsIHJlcGxheSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuICAgIGxldCBwcm9wZXJ0aWVzO1xuICAgIGxldCB0b29sdGlwSXRlbXMgPSBbXTtcbiAgICBpZiAoIWFjdGl2ZS5sZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLm9wYWNpdHkgIT09IDApIHtcbiAgICAgICAgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25lcnNbb3B0aW9ucy5wb3NpdGlvbl0uY2FsbCh0aGlzLCBhY3RpdmUsIHRoaXMuX2V2ZW50UG9zaXRpb24pO1xuICAgICAgdG9vbHRpcEl0ZW1zID0gdGhpcy5fY3JlYXRlSXRlbXMob3B0aW9ucyk7XG4gICAgICB0aGlzLnRpdGxlID0gdGhpcy5nZXRUaXRsZSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5iZWZvcmVCb2R5ID0gdGhpcy5nZXRCZWZvcmVCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucyk7XG4gICAgICB0aGlzLmJvZHkgPSB0aGlzLmdldEJvZHkodG9vbHRpcEl0ZW1zLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuYWZ0ZXJCb2R5ID0gdGhpcy5nZXRBZnRlckJvZHkodG9vbHRpcEl0ZW1zLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuZm9vdGVyID0gdGhpcy5nZXRGb290ZXIodG9vbHRpcEl0ZW1zLCBvcHRpb25zKTtcbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zaXplID0gZ2V0VG9vbHRpcFNpemUodGhpcywgb3B0aW9ucyk7XG4gICAgICBjb25zdCBwb3NpdGlvbkFuZFNpemUgPSBPYmplY3QuYXNzaWduKHt9LCBwb3NpdGlvbiwgc2l6ZSk7XG4gICAgICBjb25zdCBhbGlnbm1lbnQgPSBkZXRlcm1pbmVBbGlnbm1lbnQodGhpcy5jaGFydCwgb3B0aW9ucywgcG9zaXRpb25BbmRTaXplKTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRQb2ludCA9IGdldEJhY2tncm91bmRQb2ludChvcHRpb25zLCBwb3NpdGlvbkFuZFNpemUsIGFsaWdubWVudCwgdGhpcy5jaGFydCk7XG4gICAgICB0aGlzLnhBbGlnbiA9IGFsaWdubWVudC54QWxpZ247XG4gICAgICB0aGlzLnlBbGlnbiA9IGFsaWdubWVudC55QWxpZ247XG4gICAgICBwcm9wZXJ0aWVzID0ge1xuICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICB4OiBiYWNrZ3JvdW5kUG9pbnQueCxcbiAgICAgICAgeTogYmFja2dyb3VuZFBvaW50LnksXG4gICAgICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0LFxuICAgICAgICBjYXJldFg6IHBvc2l0aW9uLngsXG4gICAgICAgIGNhcmV0WTogcG9zaXRpb24ueVxuICAgICAgfTtcbiAgICB9XG4gICAgdGhpcy5fdG9vbHRpcEl0ZW1zID0gdG9vbHRpcEl0ZW1zO1xuICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKCkudXBkYXRlKHRoaXMsIHByb3BlcnRpZXMpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlZCAmJiBvcHRpb25zLmV4dGVybmFsKSB7XG4gICAgICBvcHRpb25zLmV4dGVybmFsLmNhbGwodGhpcywge2NoYXJ0OiB0aGlzLmNoYXJ0LCB0b29sdGlwOiB0aGlzLCByZXBsYXl9KTtcbiAgICB9XG4gIH1cbiAgZHJhd0NhcmV0KHRvb2x0aXBQb2ludCwgY3R4LCBzaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2FyZXRQb3NpdGlvbiA9IHRoaXMuZ2V0Q2FyZXRQb3NpdGlvbih0b29sdGlwUG9pbnQsIHNpemUsIG9wdGlvbnMpO1xuICAgIGN0eC5saW5lVG8oY2FyZXRQb3NpdGlvbi54MSwgY2FyZXRQb3NpdGlvbi55MSk7XG4gICAgY3R4LmxpbmVUbyhjYXJldFBvc2l0aW9uLngyLCBjYXJldFBvc2l0aW9uLnkyKTtcbiAgICBjdHgubGluZVRvKGNhcmV0UG9zaXRpb24ueDMsIGNhcmV0UG9zaXRpb24ueTMpO1xuICB9XG4gIGdldENhcmV0UG9zaXRpb24odG9vbHRpcFBvaW50LCBzaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge3hBbGlnbiwgeUFsaWdufSA9IHRoaXM7XG4gICAgY29uc3Qge2NhcmV0U2l6ZSwgY29ybmVyUmFkaXVzfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qge3RvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodH0gPSB0b1RSQkxDb3JuZXJzKGNvcm5lclJhZGl1cyk7XG4gICAgY29uc3Qge3g6IHB0WCwgeTogcHRZfSA9IHRvb2x0aXBQb2ludDtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBzaXplO1xuICAgIGxldCB4MSwgeDIsIHgzLCB5MSwgeTIsIHkzO1xuICAgIGlmICh5QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICB5MiA9IHB0WSArIChoZWlnaHQgLyAyKTtcbiAgICAgIGlmICh4QWxpZ24gPT09ICdsZWZ0Jykge1xuICAgICAgICB4MSA9IHB0WDtcbiAgICAgICAgeDIgPSB4MSAtIGNhcmV0U2l6ZTtcbiAgICAgICAgeTEgPSB5MiArIGNhcmV0U2l6ZTtcbiAgICAgICAgeTMgPSB5MiAtIGNhcmV0U2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHgxID0gcHRYICsgd2lkdGg7XG4gICAgICAgIHgyID0geDEgKyBjYXJldFNpemU7XG4gICAgICAgIHkxID0geTIgLSBjYXJldFNpemU7XG4gICAgICAgIHkzID0geTIgKyBjYXJldFNpemU7XG4gICAgICB9XG4gICAgICB4MyA9IHgxO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoeEFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgICAgeDIgPSBwdFggKyBNYXRoLm1heCh0b3BMZWZ0LCBib3R0b21MZWZ0KSArIChjYXJldFNpemUpO1xuICAgICAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgeDIgPSBwdFggKyB3aWR0aCAtIE1hdGgubWF4KHRvcFJpZ2h0LCBib3R0b21SaWdodCkgLSBjYXJldFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MiA9IHRoaXMuY2FyZXRYO1xuICAgICAgfVxuICAgICAgaWYgKHlBbGlnbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgeTEgPSBwdFk7XG4gICAgICAgIHkyID0geTEgLSBjYXJldFNpemU7XG4gICAgICAgIHgxID0geDIgLSBjYXJldFNpemU7XG4gICAgICAgIHgzID0geDIgKyBjYXJldFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5MSA9IHB0WSArIGhlaWdodDtcbiAgICAgICAgeTIgPSB5MSArIGNhcmV0U2l6ZTtcbiAgICAgICAgeDEgPSB4MiArIGNhcmV0U2l6ZTtcbiAgICAgICAgeDMgPSB4MiAtIGNhcmV0U2l6ZTtcbiAgICAgIH1cbiAgICAgIHkzID0geTE7XG4gICAgfVxuICAgIHJldHVybiB7eDEsIHgyLCB4MywgeTEsIHkyLCB5M307XG4gIH1cbiAgZHJhd1RpdGxlKHB0LCBjdHgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB0aXRsZSA9IHRoaXMudGl0bGU7XG4gICAgY29uc3QgbGVuZ3RoID0gdGl0bGUubGVuZ3RoO1xuICAgIGxldCB0aXRsZUZvbnQsIHRpdGxlU3BhY2luZywgaTtcbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdGlvbnMucnRsLCB0aGlzLngsIHRoaXMud2lkdGgpO1xuICAgICAgcHQueCA9IGdldEFsaWduZWRYKHRoaXMsIG9wdGlvbnMudGl0bGVBbGlnbiwgb3B0aW9ucyk7XG4gICAgICBjdHgudGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihvcHRpb25zLnRpdGxlQWxpZ24pO1xuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgdGl0bGVGb250ID0gdG9Gb250KG9wdGlvbnMudGl0bGVGb250KTtcbiAgICAgIHRpdGxlU3BhY2luZyA9IG9wdGlvbnMudGl0bGVTcGFjaW5nO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMudGl0bGVDb2xvcjtcbiAgICAgIGN0eC5mb250ID0gdGl0bGVGb250LnN0cmluZztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBjdHguZmlsbFRleHQodGl0bGVbaV0sIHJ0bEhlbHBlci54KHB0LngpLCBwdC55ICsgdGl0bGVGb250LmxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgcHQueSArPSB0aXRsZUZvbnQubGluZUhlaWdodCArIHRpdGxlU3BhY2luZztcbiAgICAgICAgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICBwdC55ICs9IG9wdGlvbnMudGl0bGVNYXJnaW5Cb3R0b20gLSB0aXRsZVNwYWNpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX2RyYXdDb2xvckJveChjdHgsIHB0LCBpLCBydGxIZWxwZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBsYWJlbENvbG9ycyA9IHRoaXMubGFiZWxDb2xvcnNbaV07XG4gICAgY29uc3QgbGFiZWxQb2ludFN0eWxlID0gdGhpcy5sYWJlbFBvaW50U3R5bGVzW2ldO1xuICAgIGNvbnN0IHtib3hIZWlnaHQsIGJveFdpZHRoLCBib3hQYWRkaW5nfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keUZvbnQgPSB0b0ZvbnQob3B0aW9ucy5ib2R5Rm9udCk7XG4gICAgY29uc3QgY29sb3JYID0gZ2V0QWxpZ25lZFgodGhpcywgJ2xlZnQnLCBvcHRpb25zKTtcbiAgICBjb25zdCBydGxDb2xvclggPSBydGxIZWxwZXIueChjb2xvclgpO1xuICAgIGNvbnN0IHlPZmZTZXQgPSBib3hIZWlnaHQgPCBib2R5Rm9udC5saW5lSGVpZ2h0ID8gKGJvZHlGb250LmxpbmVIZWlnaHQgLSBib3hIZWlnaHQpIC8gMiA6IDA7XG4gICAgY29uc3QgY29sb3JZID0gcHQueSArIHlPZmZTZXQ7XG4gICAgaWYgKG9wdGlvbnMudXNlUG9pbnRTdHlsZSkge1xuICAgICAgY29uc3QgZHJhd09wdGlvbnMgPSB7XG4gICAgICAgIHJhZGl1czogTWF0aC5taW4oYm94V2lkdGgsIGJveEhlaWdodCkgLyAyLFxuICAgICAgICBwb2ludFN0eWxlOiBsYWJlbFBvaW50U3R5bGUucG9pbnRTdHlsZSxcbiAgICAgICAgcm90YXRpb246IGxhYmVsUG9pbnRTdHlsZS5yb3RhdGlvbixcbiAgICAgICAgYm9yZGVyV2lkdGg6IDFcbiAgICAgIH07XG4gICAgICBjb25zdCBjZW50ZXJYID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsQ29sb3JYLCBib3hXaWR0aCkgKyBib3hXaWR0aCAvIDI7XG4gICAgICBjb25zdCBjZW50ZXJZID0gY29sb3JZICsgYm94SGVpZ2h0IC8gMjtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG9wdGlvbnMubXVsdGlLZXlCYWNrZ3JvdW5kO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMubXVsdGlLZXlCYWNrZ3JvdW5kO1xuICAgICAgZHJhd1BvaW50KGN0eCwgZHJhd09wdGlvbnMsIGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbGFiZWxDb2xvcnMuYm9yZGVyQ29sb3I7XG4gICAgICBjdHguZmlsbFN0eWxlID0gbGFiZWxDb2xvcnMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgZHJhd1BvaW50KGN0eCwgZHJhd09wdGlvbnMsIGNlbnRlclgsIGNlbnRlclkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHgubGluZVdpZHRoID0gaXNPYmplY3QobGFiZWxDb2xvcnMuYm9yZGVyV2lkdGgpID8gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyhsYWJlbENvbG9ycy5ib3JkZXJXaWR0aCkpIDogKGxhYmVsQ29sb3JzLmJvcmRlcldpZHRoIHx8IDEpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gbGFiZWxDb2xvcnMuYm9yZGVyQ29sb3I7XG4gICAgICBjdHguc2V0TGluZURhc2gobGFiZWxDb2xvcnMuYm9yZGVyRGFzaCB8fCBbXSk7XG4gICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBsYWJlbENvbG9ycy5ib3JkZXJEYXNoT2Zmc2V0IHx8IDA7XG4gICAgICBjb25zdCBvdXRlclggPSBydGxIZWxwZXIubGVmdEZvckx0cihydGxDb2xvclgsIGJveFdpZHRoIC0gYm94UGFkZGluZyk7XG4gICAgICBjb25zdCBpbm5lclggPSBydGxIZWxwZXIubGVmdEZvckx0cihydGxIZWxwZXIueFBsdXMocnRsQ29sb3JYLCAxKSwgYm94V2lkdGggLSBib3hQYWRkaW5nIC0gMik7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB0b1RSQkxDb3JuZXJzKGxhYmVsQ29sb3JzLmJvcmRlclJhZGl1cyk7XG4gICAgICBpZiAoT2JqZWN0LnZhbHVlcyhib3JkZXJSYWRpdXMpLnNvbWUodiA9PiB2ICE9PSAwKSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLm11bHRpS2V5QmFja2dyb3VuZDtcbiAgICAgICAgYWRkUm91bmRlZFJlY3RQYXRoKGN0eCwge1xuICAgICAgICAgIHg6IG91dGVyWCxcbiAgICAgICAgICB5OiBjb2xvclksXG4gICAgICAgICAgdzogYm94V2lkdGgsXG4gICAgICAgICAgaDogYm94SGVpZ2h0LFxuICAgICAgICAgIHJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgICAgICB9KTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gbGFiZWxDb2xvcnMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGFkZFJvdW5kZWRSZWN0UGF0aChjdHgsIHtcbiAgICAgICAgICB4OiBpbm5lclgsXG4gICAgICAgICAgeTogY29sb3JZICsgMSxcbiAgICAgICAgICB3OiBib3hXaWR0aCAtIDIsXG4gICAgICAgICAgaDogYm94SGVpZ2h0IC0gMixcbiAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5tdWx0aUtleUJhY2tncm91bmQ7XG4gICAgICAgIGN0eC5maWxsUmVjdChvdXRlclgsIGNvbG9yWSwgYm94V2lkdGgsIGJveEhlaWdodCk7XG4gICAgICAgIGN0eC5zdHJva2VSZWN0KG91dGVyWCwgY29sb3JZLCBib3hXaWR0aCwgYm94SGVpZ2h0KTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhYmVsQ29sb3JzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KGlubmVyWCwgY29sb3JZICsgMSwgYm94V2lkdGggLSAyLCBib3hIZWlnaHQgLSAyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMubGFiZWxUZXh0Q29sb3JzW2ldO1xuICB9XG4gIGRyYXdCb2R5KHB0LCBjdHgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7Ym9keX0gPSB0aGlzO1xuICAgIGNvbnN0IHtib2R5U3BhY2luZywgYm9keUFsaWduLCBkaXNwbGF5Q29sb3JzLCBib3hIZWlnaHQsIGJveFdpZHRoLCBib3hQYWRkaW5nfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9keUZvbnQgPSB0b0ZvbnQob3B0aW9ucy5ib2R5Rm9udCk7XG4gICAgbGV0IGJvZHlMaW5lSGVpZ2h0ID0gYm9keUZvbnQubGluZUhlaWdodDtcbiAgICBsZXQgeExpbmVQYWRkaW5nID0gMDtcbiAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdGlvbnMucnRsLCB0aGlzLngsIHRoaXMud2lkdGgpO1xuICAgIGNvbnN0IGZpbGxMaW5lT2ZUZXh0ID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgY3R4LmZpbGxUZXh0KGxpbmUsIHJ0bEhlbHBlci54KHB0LnggKyB4TGluZVBhZGRpbmcpLCBwdC55ICsgYm9keUxpbmVIZWlnaHQgLyAyKTtcbiAgICAgIHB0LnkgKz0gYm9keUxpbmVIZWlnaHQgKyBib2R5U3BhY2luZztcbiAgICB9O1xuICAgIGNvbnN0IGJvZHlBbGlnbkZvckNhbGN1bGF0aW9uID0gcnRsSGVscGVyLnRleHRBbGlnbihib2R5QWxpZ24pO1xuICAgIGxldCBib2R5SXRlbSwgdGV4dENvbG9yLCBsaW5lcywgaSwgaiwgaWxlbiwgamxlbjtcbiAgICBjdHgudGV4dEFsaWduID0gYm9keUFsaWduO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBjdHguZm9udCA9IGJvZHlGb250LnN0cmluZztcbiAgICBwdC54ID0gZ2V0QWxpZ25lZFgodGhpcywgYm9keUFsaWduRm9yQ2FsY3VsYXRpb24sIG9wdGlvbnMpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJvZHlDb2xvcjtcbiAgICBlYWNoKHRoaXMuYmVmb3JlQm9keSwgZmlsbExpbmVPZlRleHQpO1xuICAgIHhMaW5lUGFkZGluZyA9IGRpc3BsYXlDb2xvcnMgJiYgYm9keUFsaWduRm9yQ2FsY3VsYXRpb24gIT09ICdyaWdodCdcbiAgICAgID8gYm9keUFsaWduID09PSAnY2VudGVyJyA/IChib3hXaWR0aCAvIDIgKyBib3hQYWRkaW5nKSA6IChib3hXaWR0aCArIDIgKyBib3hQYWRkaW5nKVxuICAgICAgOiAwO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBib2R5Lmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgYm9keUl0ZW0gPSBib2R5W2ldO1xuICAgICAgdGV4dENvbG9yID0gdGhpcy5sYWJlbFRleHRDb2xvcnNbaV07XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGV4dENvbG9yO1xuICAgICAgZWFjaChib2R5SXRlbS5iZWZvcmUsIGZpbGxMaW5lT2ZUZXh0KTtcbiAgICAgIGxpbmVzID0gYm9keUl0ZW0ubGluZXM7XG4gICAgICBpZiAoZGlzcGxheUNvbG9ycyAmJiBsaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fZHJhd0NvbG9yQm94KGN0eCwgcHQsIGksIHJ0bEhlbHBlciwgb3B0aW9ucyk7XG4gICAgICAgIGJvZHlMaW5lSGVpZ2h0ID0gTWF0aC5tYXgoYm9keUZvbnQubGluZUhlaWdodCwgYm94SGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGZvciAoaiA9IDAsIGpsZW4gPSBsaW5lcy5sZW5ndGg7IGogPCBqbGVuOyArK2opIHtcbiAgICAgICAgZmlsbExpbmVPZlRleHQobGluZXNbal0pO1xuICAgICAgICBib2R5TGluZUhlaWdodCA9IGJvZHlGb250LmxpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgICBlYWNoKGJvZHlJdGVtLmFmdGVyLCBmaWxsTGluZU9mVGV4dCk7XG4gICAgfVxuICAgIHhMaW5lUGFkZGluZyA9IDA7XG4gICAgYm9keUxpbmVIZWlnaHQgPSBib2R5Rm9udC5saW5lSGVpZ2h0O1xuICAgIGVhY2godGhpcy5hZnRlckJvZHksIGZpbGxMaW5lT2ZUZXh0KTtcbiAgICBwdC55IC09IGJvZHlTcGFjaW5nO1xuICB9XG4gIGRyYXdGb290ZXIocHQsIGN0eCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGZvb3RlciA9IHRoaXMuZm9vdGVyO1xuICAgIGNvbnN0IGxlbmd0aCA9IGZvb3Rlci5sZW5ndGg7XG4gICAgbGV0IGZvb3RlckZvbnQsIGk7XG4gICAgaWYgKGxlbmd0aCkge1xuICAgICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRpb25zLnJ0bCwgdGhpcy54LCB0aGlzLndpZHRoKTtcbiAgICAgIHB0LnggPSBnZXRBbGlnbmVkWCh0aGlzLCBvcHRpb25zLmZvb3RlckFsaWduLCBvcHRpb25zKTtcbiAgICAgIHB0LnkgKz0gb3B0aW9ucy5mb290ZXJNYXJnaW5Ub3A7XG4gICAgICBjdHgudGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihvcHRpb25zLmZvb3RlckFsaWduKTtcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgIGZvb3RlckZvbnQgPSB0b0ZvbnQob3B0aW9ucy5mb290ZXJGb250KTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmZvb3RlckNvbG9yO1xuICAgICAgY3R4LmZvbnQgPSBmb290ZXJGb250LnN0cmluZztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICBjdHguZmlsbFRleHQoZm9vdGVyW2ldLCBydGxIZWxwZXIueChwdC54KSwgcHQueSArIGZvb3RlckZvbnQubGluZUhlaWdodCAvIDIpO1xuICAgICAgICBwdC55ICs9IGZvb3RlckZvbnQubGluZUhlaWdodCArIG9wdGlvbnMuZm9vdGVyU3BhY2luZztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZHJhd0JhY2tncm91bmQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7eEFsaWduLCB5QWxpZ259ID0gdGhpcztcbiAgICBjb25zdCB7eCwgeX0gPSBwdDtcbiAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB0b29sdGlwU2l6ZTtcbiAgICBjb25zdCB7dG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbUxlZnQsIGJvdHRvbVJpZ2h0fSA9IHRvVFJCTENvcm5lcnMob3B0aW9ucy5jb3JuZXJSYWRpdXMpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmJvcmRlckNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSBvcHRpb25zLmJvcmRlcldpZHRoO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHggKyB0b3BMZWZ0LCB5KTtcbiAgICBpZiAoeUFsaWduID09PSAndG9wJykge1xuICAgICAgdGhpcy5kcmF3Q2FyZXQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjdHgubGluZVRvKHggKyB3aWR0aCAtIHRvcFJpZ2h0LCB5KTtcbiAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHRvcFJpZ2h0KTtcbiAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJyAmJiB4QWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgIHRoaXMuZHJhd0NhcmV0KHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSBib3R0b21SaWdodCk7XG4gICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGggLSBib3R0b21SaWdodCwgeSArIGhlaWdodCk7XG4gICAgaWYgKHlBbGlnbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuZHJhd0NhcmV0KHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbyh4ICsgYm90dG9tTGVmdCwgeSArIGhlaWdodCk7XG4gICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIGJvdHRvbUxlZnQpO1xuICAgIGlmICh5QWxpZ24gPT09ICdjZW50ZXInICYmIHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgICB0aGlzLmRyYXdDYXJldChwdCwgY3R4LCB0b29sdGlwU2l6ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGN0eC5saW5lVG8oeCwgeSArIHRvcExlZnQpO1xuICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyB0b3BMZWZ0LCB5KTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBpZiAob3B0aW9ucy5ib3JkZXJXaWR0aCA+IDApIHtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG4gIH1cbiAgX3VwZGF0ZUFuaW1hdGlvblRhcmdldChvcHRpb25zKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IGFuaW1zID0gdGhpcy4kYW5pbWF0aW9ucztcbiAgICBjb25zdCBhbmltWCA9IGFuaW1zICYmIGFuaW1zLng7XG4gICAgY29uc3QgYW5pbVkgPSBhbmltcyAmJiBhbmltcy55O1xuICAgIGlmIChhbmltWCB8fCBhbmltWSkge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbmVyc1tvcHRpb25zLnBvc2l0aW9uXS5jYWxsKHRoaXMsIHRoaXMuX2FjdGl2ZSwgdGhpcy5fZXZlbnRQb3NpdGlvbik7XG4gICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpemUgPSB0aGlzLl9zaXplID0gZ2V0VG9vbHRpcFNpemUodGhpcywgb3B0aW9ucyk7XG4gICAgICBjb25zdCBwb3NpdGlvbkFuZFNpemUgPSBPYmplY3QuYXNzaWduKHt9LCBwb3NpdGlvbiwgdGhpcy5fc2l6ZSk7XG4gICAgICBjb25zdCBhbGlnbm1lbnQgPSBkZXRlcm1pbmVBbGlnbm1lbnQoY2hhcnQsIG9wdGlvbnMsIHBvc2l0aW9uQW5kU2l6ZSk7XG4gICAgICBjb25zdCBwb2ludCA9IGdldEJhY2tncm91bmRQb2ludChvcHRpb25zLCBwb3NpdGlvbkFuZFNpemUsIGFsaWdubWVudCwgY2hhcnQpO1xuICAgICAgaWYgKGFuaW1YLl90byAhPT0gcG9pbnQueCB8fCBhbmltWS5fdG8gIT09IHBvaW50LnkpIHtcbiAgICAgICAgdGhpcy54QWxpZ24gPSBhbGlnbm1lbnQueEFsaWduO1xuICAgICAgICB0aGlzLnlBbGlnbiA9IGFsaWdubWVudC55QWxpZ247XG4gICAgICAgIHRoaXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLmNhcmV0WCA9IHBvc2l0aW9uLng7XG4gICAgICAgIHRoaXMuY2FyZXRZID0gcG9zaXRpb24ueTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnMoKS51cGRhdGUodGhpcywgcG9pbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfd2lsbFJlbmRlcigpIHtcbiAgICByZXR1cm4gISF0aGlzLm9wYWNpdHk7XG4gIH1cbiAgZHJhdyhjdHgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGxldCBvcGFjaXR5ID0gdGhpcy5vcGFjaXR5O1xuICAgIGlmICghb3BhY2l0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVBbmltYXRpb25UYXJnZXQob3B0aW9ucyk7XG4gICAgY29uc3QgdG9vbHRpcFNpemUgPSB7XG4gICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcbiAgICB9O1xuICAgIGNvbnN0IHB0ID0ge1xuICAgICAgeDogdGhpcy54LFxuICAgICAgeTogdGhpcy55XG4gICAgfTtcbiAgICBvcGFjaXR5ID0gTWF0aC5hYnMob3BhY2l0eSkgPCAxZS0zID8gMCA6IG9wYWNpdHk7XG4gICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICAgIGNvbnN0IGhhc1Rvb2x0aXBDb250ZW50ID0gdGhpcy50aXRsZS5sZW5ndGggfHwgdGhpcy5iZWZvcmVCb2R5Lmxlbmd0aCB8fCB0aGlzLmJvZHkubGVuZ3RoIHx8IHRoaXMuYWZ0ZXJCb2R5Lmxlbmd0aCB8fCB0aGlzLmZvb3Rlci5sZW5ndGg7XG4gICAgaWYgKG9wdGlvbnMuZW5hYmxlZCAmJiBoYXNUb29sdGlwQ29udGVudCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XG4gICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICAgIG92ZXJyaWRlVGV4dERpcmVjdGlvbihjdHgsIG9wdGlvbnMudGV4dERpcmVjdGlvbik7XG4gICAgICBwdC55ICs9IHBhZGRpbmcudG9wO1xuICAgICAgdGhpcy5kcmF3VGl0bGUocHQsIGN0eCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmRyYXdCb2R5KHB0LCBjdHgsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5kcmF3Rm9vdGVyKHB0LCBjdHgsIG9wdGlvbnMpO1xuICAgICAgcmVzdG9yZVRleHREaXJlY3Rpb24oY3R4LCBvcHRpb25zLnRleHREaXJlY3Rpb24pO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0QWN0aXZlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZSB8fCBbXTtcbiAgfVxuICBzZXRBY3RpdmVFbGVtZW50cyhhY3RpdmVFbGVtZW50cywgZXZlbnRQb3NpdGlvbikge1xuICAgIGNvbnN0IGxhc3RBY3RpdmUgPSB0aGlzLl9hY3RpdmU7XG4gICAgY29uc3QgYWN0aXZlID0gYWN0aXZlRWxlbWVudHMubWFwKCh7ZGF0YXNldEluZGV4LCBpbmRleH0pID0+IHtcbiAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCk7XG4gICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBhIGRhdGFzZXQgYXQgaW5kZXggJyArIGRhdGFzZXRJbmRleCk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRhc2V0SW5kZXgsXG4gICAgICAgIGVsZW1lbnQ6IG1ldGEuZGF0YVtpbmRleF0sXG4gICAgICAgIGluZGV4LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFuZ2VkID0gIV9lbGVtZW50c0VxdWFsKGxhc3RBY3RpdmUsIGFjdGl2ZSk7XG4gICAgY29uc3QgcG9zaXRpb25DaGFuZ2VkID0gdGhpcy5fcG9zaXRpb25DaGFuZ2VkKGFjdGl2ZSwgZXZlbnRQb3NpdGlvbik7XG4gICAgaWYgKGNoYW5nZWQgfHwgcG9zaXRpb25DaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XG4gICAgICB0aGlzLl9ldmVudFBvc2l0aW9uID0gZXZlbnRQb3NpdGlvbjtcbiAgICAgIHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cyA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZSh0cnVlKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlRXZlbnQoZSwgcmVwbGF5LCBpbkNoYXJ0QXJlYSA9IHRydWUpIHtcbiAgICBpZiAocmVwbGF5ICYmIHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9pZ25vcmVSZXBsYXlFdmVudHMgPSBmYWxzZTtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGxhc3RBY3RpdmUgPSB0aGlzLl9hY3RpdmUgfHwgW107XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fZ2V0QWN0aXZlRWxlbWVudHMoZSwgbGFzdEFjdGl2ZSwgcmVwbGF5LCBpbkNoYXJ0QXJlYSk7XG4gICAgY29uc3QgcG9zaXRpb25DaGFuZ2VkID0gdGhpcy5fcG9zaXRpb25DaGFuZ2VkKGFjdGl2ZSwgZSk7XG4gICAgY29uc3QgY2hhbmdlZCA9IHJlcGxheSB8fCAhX2VsZW1lbnRzRXF1YWwoYWN0aXZlLCBsYXN0QWN0aXZlKSB8fCBwb3NpdGlvbkNoYW5nZWQ7XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZWQgfHwgb3B0aW9ucy5leHRlcm5hbCkge1xuICAgICAgICB0aGlzLl9ldmVudFBvc2l0aW9uID0ge1xuICAgICAgICAgIHg6IGUueCxcbiAgICAgICAgICB5OiBlLnlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGUodHJ1ZSwgcmVwbGF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH1cbiAgX2dldEFjdGl2ZUVsZW1lbnRzKGUsIGxhc3RBY3RpdmUsIHJlcGxheSwgaW5DaGFydEFyZWEpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFpbkNoYXJ0QXJlYSkge1xuICAgICAgcmV0dXJuIGxhc3RBY3RpdmU7XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuY2hhcnQuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBvcHRpb25zLm1vZGUsIG9wdGlvbnMsIHJlcGxheSk7XG4gICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgYWN0aXZlLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjdGl2ZTtcbiAgfVxuICBfcG9zaXRpb25DaGFuZ2VkKGFjdGl2ZSwgZSkge1xuICAgIGNvbnN0IHtjYXJldFgsIGNhcmV0WSwgb3B0aW9uc30gPSB0aGlzO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25lcnNbb3B0aW9ucy5wb3NpdGlvbl0uY2FsbCh0aGlzLCBhY3RpdmUsIGUpO1xuICAgIHJldHVybiBwb3NpdGlvbiAhPT0gZmFsc2UgJiYgKGNhcmV0WCAhPT0gcG9zaXRpb24ueCB8fCBjYXJldFkgIT09IHBvc2l0aW9uLnkpO1xuICB9XG59XG5Ub29sdGlwLnBvc2l0aW9uZXJzID0gcG9zaXRpb25lcnM7XG52YXIgcGx1Z2luX3Rvb2x0aXAgPSB7XG4gIGlkOiAndG9vbHRpcCcsXG4gIF9lbGVtZW50OiBUb29sdGlwLFxuICBwb3NpdGlvbmVycyxcbiAgYWZ0ZXJJbml0KGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBjaGFydC50b29sdGlwID0gbmV3IFRvb2x0aXAoe2NoYXJ0LCBvcHRpb25zfSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVcGRhdGUoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgaWYgKGNoYXJ0LnRvb2x0aXApIHtcbiAgICAgIGNoYXJ0LnRvb2x0aXAuaW5pdGlhbGl6ZShvcHRpb25zKTtcbiAgICB9XG4gIH0sXG4gIHJlc2V0KGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGlmIChjaGFydC50b29sdGlwKSB7XG4gICAgICBjaGFydC50b29sdGlwLmluaXRpYWxpemUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICBhZnRlckRyYXcoY2hhcnQpIHtcbiAgICBjb25zdCB0b29sdGlwID0gY2hhcnQudG9vbHRpcDtcbiAgICBpZiAodG9vbHRpcCAmJiB0b29sdGlwLl93aWxsUmVuZGVyKCkpIHtcbiAgICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICAgIHRvb2x0aXBcbiAgICAgIH07XG4gICAgICBpZiAoY2hhcnQubm90aWZ5UGx1Z2lucygnYmVmb3JlVG9vbHRpcERyYXcnLCBhcmdzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdG9vbHRpcC5kcmF3KGNoYXJ0LmN0eCk7XG4gICAgICBjaGFydC5ub3RpZnlQbHVnaW5zKCdhZnRlclRvb2x0aXBEcmF3JywgYXJncyk7XG4gICAgfVxuICB9LFxuICBhZnRlckV2ZW50KGNoYXJ0LCBhcmdzKSB7XG4gICAgaWYgKGNoYXJ0LnRvb2x0aXApIHtcbiAgICAgIGNvbnN0IHVzZUZpbmFsUG9zaXRpb24gPSBhcmdzLnJlcGxheTtcbiAgICAgIGlmIChjaGFydC50b29sdGlwLmhhbmRsZUV2ZW50KGFyZ3MuZXZlbnQsIHVzZUZpbmFsUG9zaXRpb24sIGFyZ3MuaW5DaGFydEFyZWEpKSB7XG4gICAgICAgIGFyZ3MuY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBkZWZhdWx0czoge1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgZXh0ZXJuYWw6IG51bGwsXG4gICAgcG9zaXRpb246ICdhdmVyYWdlJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOCknLFxuICAgIHRpdGxlQ29sb3I6ICcjZmZmJyxcbiAgICB0aXRsZUZvbnQ6IHtcbiAgICAgIHdlaWdodDogJ2JvbGQnLFxuICAgIH0sXG4gICAgdGl0bGVTcGFjaW5nOiAyLFxuICAgIHRpdGxlTWFyZ2luQm90dG9tOiA2LFxuICAgIHRpdGxlQWxpZ246ICdsZWZ0JyxcbiAgICBib2R5Q29sb3I6ICcjZmZmJyxcbiAgICBib2R5U3BhY2luZzogMixcbiAgICBib2R5Rm9udDoge1xuICAgIH0sXG4gICAgYm9keUFsaWduOiAnbGVmdCcsXG4gICAgZm9vdGVyQ29sb3I6ICcjZmZmJyxcbiAgICBmb290ZXJTcGFjaW5nOiAyLFxuICAgIGZvb3Rlck1hcmdpblRvcDogNixcbiAgICBmb290ZXJGb250OiB7XG4gICAgICB3ZWlnaHQ6ICdib2xkJyxcbiAgICB9LFxuICAgIGZvb3RlckFsaWduOiAnbGVmdCcsXG4gICAgcGFkZGluZzogNixcbiAgICBjYXJldFBhZGRpbmc6IDIsXG4gICAgY2FyZXRTaXplOiA1LFxuICAgIGNvcm5lclJhZGl1czogNixcbiAgICBib3hIZWlnaHQ6IChjdHgsIG9wdHMpID0+IG9wdHMuYm9keUZvbnQuc2l6ZSxcbiAgICBib3hXaWR0aDogKGN0eCwgb3B0cykgPT4gb3B0cy5ib2R5Rm9udC5zaXplLFxuICAgIG11bHRpS2V5QmFja2dyb3VuZDogJyNmZmYnLFxuICAgIGRpc3BsYXlDb2xvcnM6IHRydWUsXG4gICAgYm94UGFkZGluZzogMCxcbiAgICBib3JkZXJDb2xvcjogJ3JnYmEoMCwwLDAsMCknLFxuICAgIGJvcmRlcldpZHRoOiAwLFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFydCcsXG4gICAgfSxcbiAgICBhbmltYXRpb25zOiB7XG4gICAgICBudW1iZXJzOiB7XG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICBwcm9wZXJ0aWVzOiBbJ3gnLCAneScsICd3aWR0aCcsICdoZWlnaHQnLCAnY2FyZXRYJywgJ2NhcmV0WSddLFxuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICAgICAgZHVyYXRpb246IDIwMFxuICAgICAgfVxuICAgIH0sXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICBiZWZvcmVUaXRsZTogbm9vcCxcbiAgICAgIHRpdGxlKHRvb2x0aXBJdGVtcykge1xuICAgICAgICBpZiAodG9vbHRpcEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gdG9vbHRpcEl0ZW1zWzBdO1xuICAgICAgICAgIGNvbnN0IGxhYmVscyA9IGl0ZW0uY2hhcnQuZGF0YS5sYWJlbHM7XG4gICAgICAgICAgY29uc3QgbGFiZWxDb3VudCA9IGxhYmVscyA/IGxhYmVscy5sZW5ndGggOiAwO1xuICAgICAgICAgIGlmICh0aGlzICYmIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubW9kZSA9PT0gJ2RhdGFzZXQnKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5kYXRhc2V0LmxhYmVsIHx8ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5sYWJlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWw7XG4gICAgICAgICAgfSBlbHNlIGlmIChsYWJlbENvdW50ID4gMCAmJiBpdGVtLmRhdGFJbmRleCA8IGxhYmVsQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbHNbaXRlbS5kYXRhSW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9LFxuICAgICAgYWZ0ZXJUaXRsZTogbm9vcCxcbiAgICAgIGJlZm9yZUJvZHk6IG5vb3AsXG4gICAgICBiZWZvcmVMYWJlbDogbm9vcCxcbiAgICAgIGxhYmVsKHRvb2x0aXBJdGVtKSB7XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMubW9kZSA9PT0gJ2RhdGFzZXQnKSB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXBJdGVtLmxhYmVsICsgJzogJyArIHRvb2x0aXBJdGVtLmZvcm1hdHRlZFZhbHVlIHx8IHRvb2x0aXBJdGVtLmZvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBsYWJlbCA9IHRvb2x0aXBJdGVtLmRhdGFzZXQubGFiZWwgfHwgJyc7XG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgIGxhYmVsICs9ICc6ICc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKHZhbHVlKSkge1xuICAgICAgICAgIGxhYmVsICs9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICAgIH0sXG4gICAgICBsYWJlbENvbG9yKHRvb2x0aXBJdGVtKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0b29sdGlwSXRlbS5jaGFydC5nZXREYXRhc2V0TWV0YSh0b29sdGlwSXRlbS5kYXRhc2V0SW5kZXgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbWV0YS5jb250cm9sbGVyLmdldFN0eWxlKHRvb2x0aXBJdGVtLmRhdGFJbmRleCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm9yZGVyQ29sb3I6IG9wdGlvbnMuYm9yZGVyQ29sb3IsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICBib3JkZXJXaWR0aDogb3B0aW9ucy5ib3JkZXJXaWR0aCxcbiAgICAgICAgICBib3JkZXJEYXNoOiBvcHRpb25zLmJvcmRlckRhc2gsXG4gICAgICAgICAgYm9yZGVyRGFzaE9mZnNldDogb3B0aW9ucy5ib3JkZXJEYXNoT2Zmc2V0LFxuICAgICAgICAgIGJvcmRlclJhZGl1czogMCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBsYWJlbFRleHRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ib2R5Q29sb3I7XG4gICAgICB9LFxuICAgICAgbGFiZWxQb2ludFN0eWxlKHRvb2x0aXBJdGVtKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0b29sdGlwSXRlbS5jaGFydC5nZXREYXRhc2V0TWV0YSh0b29sdGlwSXRlbS5kYXRhc2V0SW5kZXgpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbWV0YS5jb250cm9sbGVyLmdldFN0eWxlKHRvb2x0aXBJdGVtLmRhdGFJbmRleCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9pbnRTdHlsZTogb3B0aW9ucy5wb2ludFN0eWxlLFxuICAgICAgICAgIHJvdGF0aW9uOiBvcHRpb25zLnJvdGF0aW9uLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGFmdGVyTGFiZWw6IG5vb3AsXG4gICAgICBhZnRlckJvZHk6IG5vb3AsXG4gICAgICBiZWZvcmVGb290ZXI6IG5vb3AsXG4gICAgICBmb290ZXI6IG5vb3AsXG4gICAgICBhZnRlckZvb3Rlcjogbm9vcFxuICAgIH1cbiAgfSxcbiAgZGVmYXVsdFJvdXRlczoge1xuICAgIGJvZHlGb250OiAnZm9udCcsXG4gICAgZm9vdGVyRm9udDogJ2ZvbnQnLFxuICAgIHRpdGxlRm9udDogJ2ZvbnQnXG4gIH0sXG4gIGRlc2NyaXB0b3JzOiB7XG4gICAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnZmlsdGVyJyAmJiBuYW1lICE9PSAnaXRlbVNvcnQnICYmIG5hbWUgIT09ICdleHRlcm5hbCcsXG4gICAgX2luZGV4YWJsZTogZmFsc2UsXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICBfc2NyaXB0YWJsZTogZmFsc2UsXG4gICAgICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgICB9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgX2ZhbGxiYWNrOiBmYWxzZVxuICAgIH0sXG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgX2ZhbGxiYWNrOiAnYW5pbWF0aW9uJ1xuICAgIH1cbiAgfSxcbiAgYWRkaXRpb25hbE9wdGlvblNjb3BlczogWydpbnRlcmFjdGlvbiddXG59O1xuXG52YXIgcGx1Z2lucyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbl9fcHJvdG9fXzogbnVsbCxcbkRlY2ltYXRpb246IHBsdWdpbl9kZWNpbWF0aW9uLFxuRmlsbGVyOiBpbmRleCxcbkxlZ2VuZDogcGx1Z2luX2xlZ2VuZCxcblN1YlRpdGxlOiBwbHVnaW5fc3VidGl0bGUsXG5UaXRsZTogcGx1Z2luX3RpdGxlLFxuVG9vbHRpcDogcGx1Z2luX3Rvb2x0aXBcbn0pO1xuXG5jb25zdCBhZGRJZlN0cmluZyA9IChsYWJlbHMsIHJhdywgaW5kZXgsIGFkZGVkTGFiZWxzKSA9PiB7XG4gIGlmICh0eXBlb2YgcmF3ID09PSAnc3RyaW5nJykge1xuICAgIGluZGV4ID0gbGFiZWxzLnB1c2gocmF3KSAtIDE7XG4gICAgYWRkZWRMYWJlbHMudW5zaGlmdCh7aW5kZXgsIGxhYmVsOiByYXd9KTtcbiAgfSBlbHNlIGlmIChpc05hTihyYXcpKSB7XG4gICAgaW5kZXggPSBudWxsO1xuICB9XG4gIHJldHVybiBpbmRleDtcbn07XG5mdW5jdGlvbiBmaW5kT3JBZGRMYWJlbChsYWJlbHMsIHJhdywgaW5kZXgsIGFkZGVkTGFiZWxzKSB7XG4gIGNvbnN0IGZpcnN0ID0gbGFiZWxzLmluZGV4T2YocmF3KTtcbiAgaWYgKGZpcnN0ID09PSAtMSkge1xuICAgIHJldHVybiBhZGRJZlN0cmluZyhsYWJlbHMsIHJhdywgaW5kZXgsIGFkZGVkTGFiZWxzKTtcbiAgfVxuICBjb25zdCBsYXN0ID0gbGFiZWxzLmxhc3RJbmRleE9mKHJhdyk7XG4gIHJldHVybiBmaXJzdCAhPT0gbGFzdCA/IGluZGV4IDogZmlyc3Q7XG59XG5jb25zdCB2YWxpZEluZGV4ID0gKGluZGV4LCBtYXgpID0+IGluZGV4ID09PSBudWxsID8gbnVsbCA6IF9saW1pdFZhbHVlKE1hdGgucm91bmQoaW5kZXgpLCAwLCBtYXgpO1xuY2xhc3MgQ2F0ZWdvcnlTY2FsZSBleHRlbmRzIFNjYWxlIHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoY2ZnKTtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSAwO1xuICAgIHRoaXMuX2FkZGVkTGFiZWxzID0gW107XG4gIH1cbiAgaW5pdChzY2FsZU9wdGlvbnMpIHtcbiAgICBjb25zdCBhZGRlZCA9IHRoaXMuX2FkZGVkTGFiZWxzO1xuICAgIGlmIChhZGRlZC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7XG4gICAgICBmb3IgKGNvbnN0IHtpbmRleCwgbGFiZWx9IG9mIGFkZGVkKSB7XG4gICAgICAgIGlmIChsYWJlbHNbaW5kZXhdID09PSBsYWJlbCkge1xuICAgICAgICAgIGxhYmVscy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9hZGRlZExhYmVscyA9IFtdO1xuICAgIH1cbiAgICBzdXBlci5pbml0KHNjYWxlT3B0aW9ucyk7XG4gIH1cbiAgcGFyc2UocmF3LCBpbmRleCkge1xuICAgIGlmIChpc051bGxPclVuZGVmKHJhdykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgIGluZGV4ID0gaXNGaW5pdGUoaW5kZXgpICYmIGxhYmVsc1tpbmRleF0gPT09IHJhdyA/IGluZGV4XG4gICAgICA6IGZpbmRPckFkZExhYmVsKGxhYmVscywgcmF3LCB2YWx1ZU9yRGVmYXVsdChpbmRleCwgcmF3KSwgdGhpcy5fYWRkZWRMYWJlbHMpO1xuICAgIHJldHVybiB2YWxpZEluZGV4KGluZGV4LCBsYWJlbHMubGVuZ3RoIC0gMSk7XG4gIH1cbiAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHtcbiAgICBjb25zdCB7bWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICBsZXQge21pbiwgbWF4fSA9IHRoaXMuZ2V0TWluTWF4KHRydWUpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICBpZiAoIW1pbkRlZmluZWQpIHtcbiAgICAgICAgbWluID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICghbWF4RGVmaW5lZCkge1xuICAgICAgICBtYXggPSB0aGlzLmdldExhYmVscygpLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWluID0gbWluO1xuICAgIHRoaXMubWF4ID0gbWF4O1xuICB9XG4gIGJ1aWxkVGlja3MoKSB7XG4gICAgY29uc3QgbWluID0gdGhpcy5taW47XG4gICAgY29uc3QgbWF4ID0gdGhpcy5tYXg7XG4gICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5vcHRpb25zLm9mZnNldDtcbiAgICBjb25zdCB0aWNrcyA9IFtdO1xuICAgIGxldCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgIGxhYmVscyA9IChtaW4gPT09IDAgJiYgbWF4ID09PSBsYWJlbHMubGVuZ3RoIC0gMSkgPyBsYWJlbHMgOiBsYWJlbHMuc2xpY2UobWluLCBtYXggKyAxKTtcbiAgICB0aGlzLl92YWx1ZVJhbmdlID0gTWF0aC5tYXgobGFiZWxzLmxlbmd0aCAtIChvZmZzZXQgPyAwIDogMSksIDEpO1xuICAgIHRoaXMuX3N0YXJ0VmFsdWUgPSB0aGlzLm1pbiAtIChvZmZzZXQgPyAwLjUgOiAwKTtcbiAgICBmb3IgKGxldCB2YWx1ZSA9IG1pbjsgdmFsdWUgPD0gbWF4OyB2YWx1ZSsrKSB7XG4gICAgICB0aWNrcy5wdXNoKHt2YWx1ZX0pO1xuICAgIH1cbiAgICByZXR1cm4gdGlja3M7XG4gIH1cbiAgZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7XG4gICAgaWYgKHZhbHVlID49IDAgJiYgdmFsdWUgPCBsYWJlbHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbGFiZWxzW3ZhbHVlXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICBzdXBlci5jb25maWd1cmUoKTtcbiAgICBpZiAoIXRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHRoaXMuX3JldmVyc2VQaXhlbHMgPSAhdGhpcy5fcmV2ZXJzZVBpeGVscztcbiAgICB9XG4gIH1cbiAgZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMucGFyc2UodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBOYU4gOiB0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgodmFsdWUgLSB0aGlzLl9zdGFydFZhbHVlKSAvIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICB9XG4gIGdldFBpeGVsRm9yVGljayhpbmRleCkge1xuICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGlja3MubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGlja3NbaW5kZXhdLnZhbHVlKTtcbiAgfVxuICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5fc3RhcnRWYWx1ZSArIHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAqIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICB9XG4gIGdldEJhc2VQaXhlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5ib3R0b207XG4gIH1cbn1cbkNhdGVnb3J5U2NhbGUuaWQgPSAnY2F0ZWdvcnknO1xuQ2F0ZWdvcnlTY2FsZS5kZWZhdWx0cyA9IHtcbiAgdGlja3M6IHtcbiAgICBjYWxsYmFjazogQ2F0ZWdvcnlTY2FsZS5wcm90b3R5cGUuZ2V0TGFiZWxGb3JWYWx1ZVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVRpY2tzJDEoZ2VuZXJhdGlvbk9wdGlvbnMsIGRhdGFSYW5nZSkge1xuICBjb25zdCB0aWNrcyA9IFtdO1xuICBjb25zdCBNSU5fU1BBQ0lORyA9IDFlLTE0O1xuICBjb25zdCB7Ym91bmRzLCBzdGVwLCBtaW4sIG1heCwgcHJlY2lzaW9uLCBjb3VudCwgbWF4VGlja3MsIG1heERpZ2l0cywgaW5jbHVkZUJvdW5kc30gPSBnZW5lcmF0aW9uT3B0aW9ucztcbiAgY29uc3QgdW5pdCA9IHN0ZXAgfHwgMTtcbiAgY29uc3QgbWF4U3BhY2VzID0gbWF4VGlja3MgLSAxO1xuICBjb25zdCB7bWluOiBybWluLCBtYXg6IHJtYXh9ID0gZGF0YVJhbmdlO1xuICBjb25zdCBtaW5EZWZpbmVkID0gIWlzTnVsbE9yVW5kZWYobWluKTtcbiAgY29uc3QgbWF4RGVmaW5lZCA9ICFpc051bGxPclVuZGVmKG1heCk7XG4gIGNvbnN0IGNvdW50RGVmaW5lZCA9ICFpc051bGxPclVuZGVmKGNvdW50KTtcbiAgY29uc3QgbWluU3BhY2luZyA9IChybWF4IC0gcm1pbikgLyAobWF4RGlnaXRzICsgMSk7XG4gIGxldCBzcGFjaW5nID0gbmljZU51bSgocm1heCAtIHJtaW4pIC8gbWF4U3BhY2VzIC8gdW5pdCkgKiB1bml0O1xuICBsZXQgZmFjdG9yLCBuaWNlTWluLCBuaWNlTWF4LCBudW1TcGFjZXM7XG4gIGlmIChzcGFjaW5nIDwgTUlOX1NQQUNJTkcgJiYgIW1pbkRlZmluZWQgJiYgIW1heERlZmluZWQpIHtcbiAgICByZXR1cm4gW3t2YWx1ZTogcm1pbn0sIHt2YWx1ZTogcm1heH1dO1xuICB9XG4gIG51bVNwYWNlcyA9IE1hdGguY2VpbChybWF4IC8gc3BhY2luZykgLSBNYXRoLmZsb29yKHJtaW4gLyBzcGFjaW5nKTtcbiAgaWYgKG51bVNwYWNlcyA+IG1heFNwYWNlcykge1xuICAgIHNwYWNpbmcgPSBuaWNlTnVtKG51bVNwYWNlcyAqIHNwYWNpbmcgLyBtYXhTcGFjZXMgLyB1bml0KSAqIHVuaXQ7XG4gIH1cbiAgaWYgKCFpc051bGxPclVuZGVmKHByZWNpc2lvbikpIHtcbiAgICBmYWN0b3IgPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcbiAgICBzcGFjaW5nID0gTWF0aC5jZWlsKHNwYWNpbmcgKiBmYWN0b3IpIC8gZmFjdG9yO1xuICB9XG4gIGlmIChib3VuZHMgPT09ICd0aWNrcycpIHtcbiAgICBuaWNlTWluID0gTWF0aC5mbG9vcihybWluIC8gc3BhY2luZykgKiBzcGFjaW5nO1xuICAgIG5pY2VNYXggPSBNYXRoLmNlaWwocm1heCAvIHNwYWNpbmcpICogc3BhY2luZztcbiAgfSBlbHNlIHtcbiAgICBuaWNlTWluID0gcm1pbjtcbiAgICBuaWNlTWF4ID0gcm1heDtcbiAgfVxuICBpZiAobWluRGVmaW5lZCAmJiBtYXhEZWZpbmVkICYmIHN0ZXAgJiYgYWxtb3N0V2hvbGUoKG1heCAtIG1pbikgLyBzdGVwLCBzcGFjaW5nIC8gMTAwMCkpIHtcbiAgICBudW1TcGFjZXMgPSBNYXRoLnJvdW5kKE1hdGgubWluKChtYXggLSBtaW4pIC8gc3BhY2luZywgbWF4VGlja3MpKTtcbiAgICBzcGFjaW5nID0gKG1heCAtIG1pbikgLyBudW1TcGFjZXM7XG4gICAgbmljZU1pbiA9IG1pbjtcbiAgICBuaWNlTWF4ID0gbWF4O1xuICB9IGVsc2UgaWYgKGNvdW50RGVmaW5lZCkge1xuICAgIG5pY2VNaW4gPSBtaW5EZWZpbmVkID8gbWluIDogbmljZU1pbjtcbiAgICBuaWNlTWF4ID0gbWF4RGVmaW5lZCA/IG1heCA6IG5pY2VNYXg7XG4gICAgbnVtU3BhY2VzID0gY291bnQgLSAxO1xuICAgIHNwYWNpbmcgPSAobmljZU1heCAtIG5pY2VNaW4pIC8gbnVtU3BhY2VzO1xuICB9IGVsc2Uge1xuICAgIG51bVNwYWNlcyA9IChuaWNlTWF4IC0gbmljZU1pbikgLyBzcGFjaW5nO1xuICAgIGlmIChhbG1vc3RFcXVhbHMobnVtU3BhY2VzLCBNYXRoLnJvdW5kKG51bVNwYWNlcyksIHNwYWNpbmcgLyAxMDAwKSkge1xuICAgICAgbnVtU3BhY2VzID0gTWF0aC5yb3VuZChudW1TcGFjZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBudW1TcGFjZXMgPSBNYXRoLmNlaWwobnVtU3BhY2VzKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZGVjaW1hbFBsYWNlcyA9IE1hdGgubWF4KFxuICAgIF9kZWNpbWFsUGxhY2VzKHNwYWNpbmcpLFxuICAgIF9kZWNpbWFsUGxhY2VzKG5pY2VNaW4pXG4gICk7XG4gIGZhY3RvciA9IE1hdGgucG93KDEwLCBpc051bGxPclVuZGVmKHByZWNpc2lvbikgPyBkZWNpbWFsUGxhY2VzIDogcHJlY2lzaW9uKTtcbiAgbmljZU1pbiA9IE1hdGgucm91bmQobmljZU1pbiAqIGZhY3RvcikgLyBmYWN0b3I7XG4gIG5pY2VNYXggPSBNYXRoLnJvdW5kKG5pY2VNYXggKiBmYWN0b3IpIC8gZmFjdG9yO1xuICBsZXQgaiA9IDA7XG4gIGlmIChtaW5EZWZpbmVkKSB7XG4gICAgaWYgKGluY2x1ZGVCb3VuZHMgJiYgbmljZU1pbiAhPT0gbWluKSB7XG4gICAgICB0aWNrcy5wdXNoKHt2YWx1ZTogbWlufSk7XG4gICAgICBpZiAobmljZU1pbiA8IG1pbikge1xuICAgICAgICBqKys7XG4gICAgICB9XG4gICAgICBpZiAoYWxtb3N0RXF1YWxzKE1hdGgucm91bmQoKG5pY2VNaW4gKyBqICogc3BhY2luZykgKiBmYWN0b3IpIC8gZmFjdG9yLCBtaW4sIHJlbGF0aXZlTGFiZWxTaXplKG1pbiwgbWluU3BhY2luZywgZ2VuZXJhdGlvbk9wdGlvbnMpKSkge1xuICAgICAgICBqKys7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuaWNlTWluIDwgbWluKSB7XG4gICAgICBqKys7XG4gICAgfVxuICB9XG4gIGZvciAoOyBqIDwgbnVtU3BhY2VzOyArK2opIHtcbiAgICB0aWNrcy5wdXNoKHt2YWx1ZTogTWF0aC5yb3VuZCgobmljZU1pbiArIGogKiBzcGFjaW5nKSAqIGZhY3RvcikgLyBmYWN0b3J9KTtcbiAgfVxuICBpZiAobWF4RGVmaW5lZCAmJiBpbmNsdWRlQm91bmRzICYmIG5pY2VNYXggIT09IG1heCkge1xuICAgIGlmICh0aWNrcy5sZW5ndGggJiYgYWxtb3N0RXF1YWxzKHRpY2tzW3RpY2tzLmxlbmd0aCAtIDFdLnZhbHVlLCBtYXgsIHJlbGF0aXZlTGFiZWxTaXplKG1heCwgbWluU3BhY2luZywgZ2VuZXJhdGlvbk9wdGlvbnMpKSkge1xuICAgICAgdGlja3NbdGlja3MubGVuZ3RoIC0gMV0udmFsdWUgPSBtYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpY2tzLnB1c2goe3ZhbHVlOiBtYXh9KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIW1heERlZmluZWQgfHwgbmljZU1heCA9PT0gbWF4KSB7XG4gICAgdGlja3MucHVzaCh7dmFsdWU6IG5pY2VNYXh9KTtcbiAgfVxuICByZXR1cm4gdGlja3M7XG59XG5mdW5jdGlvbiByZWxhdGl2ZUxhYmVsU2l6ZSh2YWx1ZSwgbWluU3BhY2luZywge2hvcml6b250YWwsIG1pblJvdGF0aW9ufSkge1xuICBjb25zdCByYWQgPSB0b1JhZGlhbnMobWluUm90YXRpb24pO1xuICBjb25zdCByYXRpbyA9IChob3Jpem9udGFsID8gTWF0aC5zaW4ocmFkKSA6IE1hdGguY29zKHJhZCkpIHx8IDAuMDAxO1xuICBjb25zdCBsZW5ndGggPSAwLjc1ICogbWluU3BhY2luZyAqICgnJyArIHZhbHVlKS5sZW5ndGg7XG4gIHJldHVybiBNYXRoLm1pbihtaW5TcGFjaW5nIC8gcmF0aW8sIGxlbmd0aCk7XG59XG5jbGFzcyBMaW5lYXJTY2FsZUJhc2UgZXh0ZW5kcyBTY2FsZSB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKGNmZyk7XG4gICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVuZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2VuZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSAwO1xuICB9XG4gIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICBpZiAoaXNOdWxsT3JVbmRlZihyYXcpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKCh0eXBlb2YgcmF3ID09PSAnbnVtYmVyJyB8fCByYXcgaW5zdGFuY2VvZiBOdW1iZXIpICYmICFpc0Zpbml0ZSgrcmF3KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiArcmF3O1xuICB9XG4gIGhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKSB7XG4gICAgY29uc3Qge2JlZ2luQXRaZXJvfSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB7bWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICBsZXQge21pbiwgbWF4fSA9IHRoaXM7XG4gICAgY29uc3Qgc2V0TWluID0gdiA9PiAobWluID0gbWluRGVmaW5lZCA/IG1pbiA6IHYpO1xuICAgIGNvbnN0IHNldE1heCA9IHYgPT4gKG1heCA9IG1heERlZmluZWQgPyBtYXggOiB2KTtcbiAgICBpZiAoYmVnaW5BdFplcm8pIHtcbiAgICAgIGNvbnN0IG1pblNpZ24gPSBzaWduKG1pbik7XG4gICAgICBjb25zdCBtYXhTaWduID0gc2lnbihtYXgpO1xuICAgICAgaWYgKG1pblNpZ24gPCAwICYmIG1heFNpZ24gPCAwKSB7XG4gICAgICAgIHNldE1heCgwKTtcbiAgICAgIH0gZWxzZSBpZiAobWluU2lnbiA+IDAgJiYgbWF4U2lnbiA+IDApIHtcbiAgICAgICAgc2V0TWluKDApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgIGxldCBvZmZzZXQgPSAxO1xuICAgICAgaWYgKG1heCA+PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiB8fCBtaW4gPD0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5hYnMobWF4ICogMC4wNSk7XG4gICAgICB9XG4gICAgICBzZXRNYXgobWF4ICsgb2Zmc2V0KTtcbiAgICAgIGlmICghYmVnaW5BdFplcm8pIHtcbiAgICAgICAgc2V0TWluKG1pbiAtIG9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWluID0gbWluO1xuICAgIHRoaXMubWF4ID0gbWF4O1xuICB9XG4gIGdldFRpY2tMaW1pdCgpIHtcbiAgICBjb25zdCB0aWNrT3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICBsZXQge21heFRpY2tzTGltaXQsIHN0ZXBTaXplfSA9IHRpY2tPcHRzO1xuICAgIGxldCBtYXhUaWNrcztcbiAgICBpZiAoc3RlcFNpemUpIHtcbiAgICAgIG1heFRpY2tzID0gTWF0aC5jZWlsKHRoaXMubWF4IC8gc3RlcFNpemUpIC0gTWF0aC5mbG9vcih0aGlzLm1pbiAvIHN0ZXBTaXplKSArIDE7XG4gICAgICBpZiAobWF4VGlja3MgPiAxMDAwKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihgc2NhbGVzLiR7dGhpcy5pZH0udGlja3Muc3RlcFNpemU6ICR7c3RlcFNpemV9IHdvdWxkIHJlc3VsdCBnZW5lcmF0aW5nIHVwIHRvICR7bWF4VGlja3N9IHRpY2tzLiBMaW1pdGluZyB0byAxMDAwLmApO1xuICAgICAgICBtYXhUaWNrcyA9IDEwMDA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1heFRpY2tzID0gdGhpcy5jb21wdXRlVGlja0xpbWl0KCk7XG4gICAgICBtYXhUaWNrc0xpbWl0ID0gbWF4VGlja3NMaW1pdCB8fCAxMTtcbiAgICB9XG4gICAgaWYgKG1heFRpY2tzTGltaXQpIHtcbiAgICAgIG1heFRpY2tzID0gTWF0aC5taW4obWF4VGlja3NMaW1pdCwgbWF4VGlja3MpO1xuICAgIH1cbiAgICByZXR1cm4gbWF4VGlja3M7XG4gIH1cbiAgY29tcHV0ZVRpY2tMaW1pdCgpIHtcbiAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICB9XG4gIGJ1aWxkVGlja3MoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB0aWNrT3B0cyA9IG9wdHMudGlja3M7XG4gICAgbGV0IG1heFRpY2tzID0gdGhpcy5nZXRUaWNrTGltaXQoKTtcbiAgICBtYXhUaWNrcyA9IE1hdGgubWF4KDIsIG1heFRpY2tzKTtcbiAgICBjb25zdCBudW1lcmljR2VuZXJhdG9yT3B0aW9ucyA9IHtcbiAgICAgIG1heFRpY2tzLFxuICAgICAgYm91bmRzOiBvcHRzLmJvdW5kcyxcbiAgICAgIG1pbjogb3B0cy5taW4sXG4gICAgICBtYXg6IG9wdHMubWF4LFxuICAgICAgcHJlY2lzaW9uOiB0aWNrT3B0cy5wcmVjaXNpb24sXG4gICAgICBzdGVwOiB0aWNrT3B0cy5zdGVwU2l6ZSxcbiAgICAgIGNvdW50OiB0aWNrT3B0cy5jb3VudCxcbiAgICAgIG1heERpZ2l0czogdGhpcy5fbWF4RGlnaXRzKCksXG4gICAgICBob3Jpem9udGFsOiB0aGlzLmlzSG9yaXpvbnRhbCgpLFxuICAgICAgbWluUm90YXRpb246IHRpY2tPcHRzLm1pblJvdGF0aW9uIHx8IDAsXG4gICAgICBpbmNsdWRlQm91bmRzOiB0aWNrT3B0cy5pbmNsdWRlQm91bmRzICE9PSBmYWxzZVxuICAgIH07XG4gICAgY29uc3QgZGF0YVJhbmdlID0gdGhpcy5fcmFuZ2UgfHwgdGhpcztcbiAgICBjb25zdCB0aWNrcyA9IGdlbmVyYXRlVGlja3MkMShudW1lcmljR2VuZXJhdG9yT3B0aW9ucywgZGF0YVJhbmdlKTtcbiAgICBpZiAob3B0cy5ib3VuZHMgPT09ICd0aWNrcycpIHtcbiAgICAgIF9zZXRNaW5BbmRNYXhCeUtleSh0aWNrcywgdGhpcywgJ3ZhbHVlJyk7XG4gICAgfVxuICAgIGlmIChvcHRzLnJldmVyc2UpIHtcbiAgICAgIHRpY2tzLnJldmVyc2UoKTtcbiAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm1heDtcbiAgICAgIHRoaXMuZW5kID0gdGhpcy5taW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm1pbjtcbiAgICAgIHRoaXMuZW5kID0gdGhpcy5tYXg7XG4gICAgfVxuICAgIHJldHVybiB0aWNrcztcbiAgfVxuICBjb25maWd1cmUoKSB7XG4gICAgY29uc3QgdGlja3MgPSB0aGlzLnRpY2tzO1xuICAgIGxldCBzdGFydCA9IHRoaXMubWluO1xuICAgIGxldCBlbmQgPSB0aGlzLm1heDtcbiAgICBzdXBlci5jb25maWd1cmUoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLm9mZnNldCAmJiB0aWNrcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IChlbmQgLSBzdGFydCkgLyBNYXRoLm1heCh0aWNrcy5sZW5ndGggLSAxLCAxKSAvIDI7XG4gICAgICBzdGFydCAtPSBvZmZzZXQ7XG4gICAgICBlbmQgKz0gb2Zmc2V0O1xuICAgIH1cbiAgICB0aGlzLl9zdGFydFZhbHVlID0gc3RhcnQ7XG4gICAgdGhpcy5fZW5kVmFsdWUgPSBlbmQ7XG4gICAgdGhpcy5fdmFsdWVSYW5nZSA9IGVuZCAtIHN0YXJ0O1xuICB9XG4gIGdldExhYmVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbHVlLCB0aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlLCB0aGlzLm9wdGlvbnMudGlja3MuZm9ybWF0KTtcbiAgfVxufVxuXG5jbGFzcyBMaW5lYXJTY2FsZSBleHRlbmRzIExpbmVhclNjYWxlQmFzZSB7XG4gIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgY29uc3Qge21pbiwgbWF4fSA9IHRoaXMuZ2V0TWluTWF4KHRydWUpO1xuICAgIHRoaXMubWluID0gaXNOdW1iZXJGaW5pdGUobWluKSA/IG1pbiA6IDA7XG4gICAgdGhpcy5tYXggPSBpc051bWJlckZpbml0ZShtYXgpID8gbWF4IDogMTtcbiAgICB0aGlzLmhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKTtcbiAgfVxuICBjb21wdXRlVGlja0xpbWl0KCkge1xuICAgIGNvbnN0IGhvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IGxlbmd0aCA9IGhvcml6b250YWwgPyB0aGlzLndpZHRoIDogdGhpcy5oZWlnaHQ7XG4gICAgY29uc3QgbWluUm90YXRpb24gPSB0b1JhZGlhbnModGhpcy5vcHRpb25zLnRpY2tzLm1pblJvdGF0aW9uKTtcbiAgICBjb25zdCByYXRpbyA9IChob3Jpem9udGFsID8gTWF0aC5zaW4obWluUm90YXRpb24pIDogTWF0aC5jb3MobWluUm90YXRpb24pKSB8fCAwLjAwMTtcbiAgICBjb25zdCB0aWNrRm9udCA9IHRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoMCk7XG4gICAgcmV0dXJuIE1hdGguY2VpbChsZW5ndGggLyBNYXRoLm1pbig0MCwgdGlja0ZvbnQubGluZUhlaWdodCAvIHJhdGlvKSk7XG4gIH1cbiAgZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IE5hTiA6IHRoaXMuZ2V0UGl4ZWxGb3JEZWNpbWFsKCh2YWx1ZSAtIHRoaXMuX3N0YXJ0VmFsdWUpIC8gdGhpcy5fdmFsdWVSYW5nZSk7XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydFZhbHVlICsgdGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwocGl4ZWwpICogdGhpcy5fdmFsdWVSYW5nZTtcbiAgfVxufVxuTGluZWFyU2NhbGUuaWQgPSAnbGluZWFyJztcbkxpbmVhclNjYWxlLmRlZmF1bHRzID0ge1xuICB0aWNrczoge1xuICAgIGNhbGxiYWNrOiBUaWNrcy5mb3JtYXR0ZXJzLm51bWVyaWNcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNNYWpvcih0aWNrVmFsKSB7XG4gIGNvbnN0IHJlbWFpbiA9IHRpY2tWYWwgLyAoTWF0aC5wb3coMTAsIE1hdGguZmxvb3IobG9nMTAodGlja1ZhbCkpKSk7XG4gIHJldHVybiByZW1haW4gPT09IDE7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVRpY2tzKGdlbmVyYXRpb25PcHRpb25zLCBkYXRhUmFuZ2UpIHtcbiAgY29uc3QgZW5kRXhwID0gTWF0aC5mbG9vcihsb2cxMChkYXRhUmFuZ2UubWF4KSk7XG4gIGNvbnN0IGVuZFNpZ25pZmljYW5kID0gTWF0aC5jZWlsKGRhdGFSYW5nZS5tYXggLyBNYXRoLnBvdygxMCwgZW5kRXhwKSk7XG4gIGNvbnN0IHRpY2tzID0gW107XG4gIGxldCB0aWNrVmFsID0gZmluaXRlT3JEZWZhdWx0KGdlbmVyYXRpb25PcHRpb25zLm1pbiwgTWF0aC5wb3coMTAsIE1hdGguZmxvb3IobG9nMTAoZGF0YVJhbmdlLm1pbikpKSk7XG4gIGxldCBleHAgPSBNYXRoLmZsb29yKGxvZzEwKHRpY2tWYWwpKTtcbiAgbGV0IHNpZ25pZmljYW5kID0gTWF0aC5mbG9vcih0aWNrVmFsIC8gTWF0aC5wb3coMTAsIGV4cCkpO1xuICBsZXQgcHJlY2lzaW9uID0gZXhwIDwgMCA/IE1hdGgucG93KDEwLCBNYXRoLmFicyhleHApKSA6IDE7XG4gIGRvIHtcbiAgICB0aWNrcy5wdXNoKHt2YWx1ZTogdGlja1ZhbCwgbWFqb3I6IGlzTWFqb3IodGlja1ZhbCl9KTtcbiAgICArK3NpZ25pZmljYW5kO1xuICAgIGlmIChzaWduaWZpY2FuZCA9PT0gMTApIHtcbiAgICAgIHNpZ25pZmljYW5kID0gMTtcbiAgICAgICsrZXhwO1xuICAgICAgcHJlY2lzaW9uID0gZXhwID49IDAgPyAxIDogcHJlY2lzaW9uO1xuICAgIH1cbiAgICB0aWNrVmFsID0gTWF0aC5yb3VuZChzaWduaWZpY2FuZCAqIE1hdGgucG93KDEwLCBleHApICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcbiAgfSB3aGlsZSAoZXhwIDwgZW5kRXhwIHx8IChleHAgPT09IGVuZEV4cCAmJiBzaWduaWZpY2FuZCA8IGVuZFNpZ25pZmljYW5kKSk7XG4gIGNvbnN0IGxhc3RUaWNrID0gZmluaXRlT3JEZWZhdWx0KGdlbmVyYXRpb25PcHRpb25zLm1heCwgdGlja1ZhbCk7XG4gIHRpY2tzLnB1c2goe3ZhbHVlOiBsYXN0VGljaywgbWFqb3I6IGlzTWFqb3IodGlja1ZhbCl9KTtcbiAgcmV0dXJuIHRpY2tzO1xufVxuY2xhc3MgTG9nYXJpdGhtaWNTY2FsZSBleHRlbmRzIFNjYWxlIHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoY2ZnKTtcbiAgICB0aGlzLnN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZW5kID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N0YXJ0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdmFsdWVSYW5nZSA9IDA7XG4gIH1cbiAgcGFyc2UocmF3LCBpbmRleCkge1xuICAgIGNvbnN0IHZhbHVlID0gTGluZWFyU2NhbGVCYXNlLnByb3RvdHlwZS5wYXJzZS5hcHBseSh0aGlzLCBbcmF3LCBpbmRleF0pO1xuICAgIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgdGhpcy5femVybyA9IHRydWU7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gaXNOdW1iZXJGaW5pdGUodmFsdWUpICYmIHZhbHVlID4gMCA/IHZhbHVlIDogbnVsbDtcbiAgfVxuICBkZXRlcm1pbmVEYXRhTGltaXRzKCkge1xuICAgIGNvbnN0IHttaW4sIG1heH0gPSB0aGlzLmdldE1pbk1heCh0cnVlKTtcbiAgICB0aGlzLm1pbiA9IGlzTnVtYmVyRmluaXRlKG1pbikgPyBNYXRoLm1heCgwLCBtaW4pIDogbnVsbDtcbiAgICB0aGlzLm1heCA9IGlzTnVtYmVyRmluaXRlKG1heCkgPyBNYXRoLm1heCgwLCBtYXgpIDogbnVsbDtcbiAgICBpZiAodGhpcy5vcHRpb25zLmJlZ2luQXRaZXJvKSB7XG4gICAgICB0aGlzLl96ZXJvID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCk7XG4gIH1cbiAgaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpIHtcbiAgICBjb25zdCB7bWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICBsZXQgbWluID0gdGhpcy5taW47XG4gICAgbGV0IG1heCA9IHRoaXMubWF4O1xuICAgIGNvbnN0IHNldE1pbiA9IHYgPT4gKG1pbiA9IG1pbkRlZmluZWQgPyBtaW4gOiB2KTtcbiAgICBjb25zdCBzZXRNYXggPSB2ID0+IChtYXggPSBtYXhEZWZpbmVkID8gbWF4IDogdik7XG4gICAgY29uc3QgZXhwID0gKHYsIG0pID0+IE1hdGgucG93KDEwLCBNYXRoLmZsb29yKGxvZzEwKHYpKSArIG0pO1xuICAgIGlmIChtaW4gPT09IG1heCkge1xuICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgIHNldE1pbigxKTtcbiAgICAgICAgc2V0TWF4KDEwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldE1pbihleHAobWluLCAtMSkpO1xuICAgICAgICBzZXRNYXgoZXhwKG1heCwgKzEpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICBzZXRNaW4oZXhwKG1heCwgLTEpKTtcbiAgICB9XG4gICAgaWYgKG1heCA8PSAwKSB7XG4gICAgICBzZXRNYXgoZXhwKG1pbiwgKzEpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3plcm8gJiYgdGhpcy5taW4gIT09IHRoaXMuX3N1Z2dlc3RlZE1pbiAmJiBtaW4gPT09IGV4cCh0aGlzLm1pbiwgMCkpIHtcbiAgICAgIHNldE1pbihleHAobWluLCAtMSkpO1xuICAgIH1cbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgfVxuICBidWlsZFRpY2tzKCkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgZ2VuZXJhdGlvbk9wdGlvbnMgPSB7XG4gICAgICBtaW46IHRoaXMuX3VzZXJNaW4sXG4gICAgICBtYXg6IHRoaXMuX3VzZXJNYXhcbiAgICB9O1xuICAgIGNvbnN0IHRpY2tzID0gZ2VuZXJhdGVUaWNrcyhnZW5lcmF0aW9uT3B0aW9ucywgdGhpcyk7XG4gICAgaWYgKG9wdHMuYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICBfc2V0TWluQW5kTWF4QnlLZXkodGlja3MsIHRoaXMsICd2YWx1ZScpO1xuICAgIH1cbiAgICBpZiAob3B0cy5yZXZlcnNlKSB7XG4gICAgICB0aWNrcy5yZXZlcnNlKCk7XG4gICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5tYXg7XG4gICAgICB0aGlzLmVuZCA9IHRoaXMubWluO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5taW47XG4gICAgICB0aGlzLmVuZCA9IHRoaXMubWF4O1xuICAgIH1cbiAgICByZXR1cm4gdGlja3M7XG4gIH1cbiAgZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/ICcwJ1xuICAgICAgOiBmb3JtYXROdW1iZXIodmFsdWUsIHRoaXMuY2hhcnQub3B0aW9ucy5sb2NhbGUsIHRoaXMub3B0aW9ucy50aWNrcy5mb3JtYXQpO1xuICB9XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICBjb25zdCBzdGFydCA9IHRoaXMubWluO1xuICAgIHN1cGVyLmNvbmZpZ3VyZSgpO1xuICAgIHRoaXMuX3N0YXJ0VmFsdWUgPSBsb2cxMChzdGFydCk7XG4gICAgdGhpcy5fdmFsdWVSYW5nZSA9IGxvZzEwKHRoaXMubWF4KSAtIGxvZzEwKHN0YXJ0KTtcbiAgfVxuICBnZXRQaXhlbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgIHZhbHVlID0gdGhpcy5taW47XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc05hTih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCh2YWx1ZSA9PT0gdGhpcy5taW5cbiAgICAgID8gMFxuICAgICAgOiAobG9nMTAodmFsdWUpIC0gdGhpcy5fc3RhcnRWYWx1ZSkgLyB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgfVxuICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgY29uc3QgZGVjaW1hbCA9IHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKTtcbiAgICByZXR1cm4gTWF0aC5wb3coMTAsIHRoaXMuX3N0YXJ0VmFsdWUgKyBkZWNpbWFsICogdGhpcy5fdmFsdWVSYW5nZSk7XG4gIH1cbn1cbkxvZ2FyaXRobWljU2NhbGUuaWQgPSAnbG9nYXJpdGhtaWMnO1xuTG9nYXJpdGhtaWNTY2FsZS5kZWZhdWx0cyA9IHtcbiAgdGlja3M6IHtcbiAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5sb2dhcml0aG1pYyxcbiAgICBtYWpvcjoge1xuICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0VGlja0JhY2tkcm9wSGVpZ2h0KG9wdHMpIHtcbiAgY29uc3QgdGlja09wdHMgPSBvcHRzLnRpY2tzO1xuICBpZiAodGlja09wdHMuZGlzcGxheSAmJiBvcHRzLmRpc3BsYXkpIHtcbiAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKHRpY2tPcHRzLmJhY2tkcm9wUGFkZGluZyk7XG4gICAgcmV0dXJuIHZhbHVlT3JEZWZhdWx0KHRpY2tPcHRzLmZvbnQgJiYgdGlja09wdHMuZm9udC5zaXplLCBkZWZhdWx0cy5mb250LnNpemUpICsgcGFkZGluZy5oZWlnaHQ7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBtZWFzdXJlTGFiZWxTaXplKGN0eCwgZm9udCwgbGFiZWwpIHtcbiAgbGFiZWwgPSBpc0FycmF5KGxhYmVsKSA/IGxhYmVsIDogW2xhYmVsXTtcbiAgcmV0dXJuIHtcbiAgICB3OiBfbG9uZ2VzdFRleHQoY3R4LCBmb250LnN0cmluZywgbGFiZWwpLFxuICAgIGg6IGxhYmVsLmxlbmd0aCAqIGZvbnQubGluZUhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lTGltaXRzKGFuZ2xlLCBwb3MsIHNpemUsIG1pbiwgbWF4KSB7XG4gIGlmIChhbmdsZSA9PT0gbWluIHx8IGFuZ2xlID09PSBtYXgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IHBvcyAtIChzaXplIC8gMiksXG4gICAgICBlbmQ6IHBvcyArIChzaXplIC8gMilcbiAgICB9O1xuICB9IGVsc2UgaWYgKGFuZ2xlIDwgbWluIHx8IGFuZ2xlID4gbWF4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBwb3MgLSBzaXplLFxuICAgICAgZW5kOiBwb3NcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHBvcyxcbiAgICBlbmQ6IHBvcyArIHNpemVcbiAgfTtcbn1cbmZ1bmN0aW9uIGZpdFdpdGhQb2ludExhYmVscyhzY2FsZSkge1xuICBjb25zdCBvcmlnID0ge1xuICAgIGw6IHNjYWxlLmxlZnQgKyBzY2FsZS5fcGFkZGluZy5sZWZ0LFxuICAgIHI6IHNjYWxlLnJpZ2h0IC0gc2NhbGUuX3BhZGRpbmcucmlnaHQsXG4gICAgdDogc2NhbGUudG9wICsgc2NhbGUuX3BhZGRpbmcudG9wLFxuICAgIGI6IHNjYWxlLmJvdHRvbSAtIHNjYWxlLl9wYWRkaW5nLmJvdHRvbVxuICB9O1xuICBjb25zdCBsaW1pdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnKTtcbiAgY29uc3QgbGFiZWxTaXplcyA9IFtdO1xuICBjb25zdCBwYWRkaW5nID0gW107XG4gIGNvbnN0IHZhbHVlQ291bnQgPSBzY2FsZS5fcG9pbnRMYWJlbHMubGVuZ3RoO1xuICBjb25zdCBwb2ludExhYmVsT3B0cyA9IHNjYWxlLm9wdGlvbnMucG9pbnRMYWJlbHM7XG4gIGNvbnN0IGFkZGl0aW9uYWxBbmdsZSA9IHBvaW50TGFiZWxPcHRzLmNlbnRlclBvaW50TGFiZWxzID8gUEkgLyB2YWx1ZUNvdW50IDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZUNvdW50OyBpKyspIHtcbiAgICBjb25zdCBvcHRzID0gcG9pbnRMYWJlbE9wdHMuc2V0Q29udGV4dChzY2FsZS5nZXRQb2ludExhYmVsQ29udGV4dChpKSk7XG4gICAgcGFkZGluZ1tpXSA9IG9wdHMucGFkZGluZztcbiAgICBjb25zdCBwb2ludFBvc2l0aW9uID0gc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbihpLCBzY2FsZS5kcmF3aW5nQXJlYSArIHBhZGRpbmdbaV0sIGFkZGl0aW9uYWxBbmdsZSk7XG4gICAgY29uc3QgcGxGb250ID0gdG9Gb250KG9wdHMuZm9udCk7XG4gICAgY29uc3QgdGV4dFNpemUgPSBtZWFzdXJlTGFiZWxTaXplKHNjYWxlLmN0eCwgcGxGb250LCBzY2FsZS5fcG9pbnRMYWJlbHNbaV0pO1xuICAgIGxhYmVsU2l6ZXNbaV0gPSB0ZXh0U2l6ZTtcbiAgICBjb25zdCBhbmdsZVJhZGlhbnMgPSBfbm9ybWFsaXplQW5nbGUoc2NhbGUuZ2V0SW5kZXhBbmdsZShpKSArIGFkZGl0aW9uYWxBbmdsZSk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLnJvdW5kKHRvRGVncmVlcyhhbmdsZVJhZGlhbnMpKTtcbiAgICBjb25zdCBoTGltaXRzID0gZGV0ZXJtaW5lTGltaXRzKGFuZ2xlLCBwb2ludFBvc2l0aW9uLngsIHRleHRTaXplLncsIDAsIDE4MCk7XG4gICAgY29uc3QgdkxpbWl0cyA9IGRldGVybWluZUxpbWl0cyhhbmdsZSwgcG9pbnRQb3NpdGlvbi55LCB0ZXh0U2l6ZS5oLCA5MCwgMjcwKTtcbiAgICB1cGRhdGVMaW1pdHMobGltaXRzLCBvcmlnLCBhbmdsZVJhZGlhbnMsIGhMaW1pdHMsIHZMaW1pdHMpO1xuICB9XG4gIHNjYWxlLnNldENlbnRlclBvaW50KFxuICAgIG9yaWcubCAtIGxpbWl0cy5sLFxuICAgIGxpbWl0cy5yIC0gb3JpZy5yLFxuICAgIG9yaWcudCAtIGxpbWl0cy50LFxuICAgIGxpbWl0cy5iIC0gb3JpZy5iXG4gICk7XG4gIHNjYWxlLl9wb2ludExhYmVsSXRlbXMgPSBidWlsZFBvaW50TGFiZWxJdGVtcyhzY2FsZSwgbGFiZWxTaXplcywgcGFkZGluZyk7XG59XG5mdW5jdGlvbiB1cGRhdGVMaW1pdHMobGltaXRzLCBvcmlnLCBhbmdsZSwgaExpbWl0cywgdkxpbWl0cykge1xuICBjb25zdCBzaW4gPSBNYXRoLmFicyhNYXRoLnNpbihhbmdsZSkpO1xuICBjb25zdCBjb3MgPSBNYXRoLmFicyhNYXRoLmNvcyhhbmdsZSkpO1xuICBsZXQgeCA9IDA7XG4gIGxldCB5ID0gMDtcbiAgaWYgKGhMaW1pdHMuc3RhcnQgPCBvcmlnLmwpIHtcbiAgICB4ID0gKG9yaWcubCAtIGhMaW1pdHMuc3RhcnQpIC8gc2luO1xuICAgIGxpbWl0cy5sID0gTWF0aC5taW4obGltaXRzLmwsIG9yaWcubCAtIHgpO1xuICB9IGVsc2UgaWYgKGhMaW1pdHMuZW5kID4gb3JpZy5yKSB7XG4gICAgeCA9IChoTGltaXRzLmVuZCAtIG9yaWcucikgLyBzaW47XG4gICAgbGltaXRzLnIgPSBNYXRoLm1heChsaW1pdHMuciwgb3JpZy5yICsgeCk7XG4gIH1cbiAgaWYgKHZMaW1pdHMuc3RhcnQgPCBvcmlnLnQpIHtcbiAgICB5ID0gKG9yaWcudCAtIHZMaW1pdHMuc3RhcnQpIC8gY29zO1xuICAgIGxpbWl0cy50ID0gTWF0aC5taW4obGltaXRzLnQsIG9yaWcudCAtIHkpO1xuICB9IGVsc2UgaWYgKHZMaW1pdHMuZW5kID4gb3JpZy5iKSB7XG4gICAgeSA9ICh2TGltaXRzLmVuZCAtIG9yaWcuYikgLyBjb3M7XG4gICAgbGltaXRzLmIgPSBNYXRoLm1heChsaW1pdHMuYiwgb3JpZy5iICsgeSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkUG9pbnRMYWJlbEl0ZW1zKHNjYWxlLCBsYWJlbFNpemVzLCBwYWRkaW5nKSB7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGNvbnN0IHZhbHVlQ291bnQgPSBzY2FsZS5fcG9pbnRMYWJlbHMubGVuZ3RoO1xuICBjb25zdCBvcHRzID0gc2NhbGUub3B0aW9ucztcbiAgY29uc3QgZXh0cmEgPSBnZXRUaWNrQmFja2Ryb3BIZWlnaHQob3B0cykgLyAyO1xuICBjb25zdCBvdXRlckRpc3RhbmNlID0gc2NhbGUuZHJhd2luZ0FyZWE7XG4gIGNvbnN0IGFkZGl0aW9uYWxBbmdsZSA9IG9wdHMucG9pbnRMYWJlbHMuY2VudGVyUG9pbnRMYWJlbHMgPyBQSSAvIHZhbHVlQ291bnQgOiAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlQ291bnQ7IGkrKykge1xuICAgIGNvbnN0IHBvaW50TGFiZWxQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb24oaSwgb3V0ZXJEaXN0YW5jZSArIGV4dHJhICsgcGFkZGluZ1tpXSwgYWRkaXRpb25hbEFuZ2xlKTtcbiAgICBjb25zdCBhbmdsZSA9IE1hdGgucm91bmQodG9EZWdyZWVzKF9ub3JtYWxpemVBbmdsZShwb2ludExhYmVsUG9zaXRpb24uYW5nbGUgKyBIQUxGX1BJKSkpO1xuICAgIGNvbnN0IHNpemUgPSBsYWJlbFNpemVzW2ldO1xuICAgIGNvbnN0IHkgPSB5Rm9yQW5nbGUocG9pbnRMYWJlbFBvc2l0aW9uLnksIHNpemUuaCwgYW5nbGUpO1xuICAgIGNvbnN0IHRleHRBbGlnbiA9IGdldFRleHRBbGlnbkZvckFuZ2xlKGFuZ2xlKTtcbiAgICBjb25zdCBsZWZ0ID0gbGVmdEZvclRleHRBbGlnbihwb2ludExhYmVsUG9zaXRpb24ueCwgc2l6ZS53LCB0ZXh0QWxpZ24pO1xuICAgIGl0ZW1zLnB1c2goe1xuICAgICAgeDogcG9pbnRMYWJlbFBvc2l0aW9uLngsXG4gICAgICB5LFxuICAgICAgdGV4dEFsaWduLFxuICAgICAgbGVmdCxcbiAgICAgIHRvcDogeSxcbiAgICAgIHJpZ2h0OiBsZWZ0ICsgc2l6ZS53LFxuICAgICAgYm90dG9tOiB5ICsgc2l6ZS5oXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0VGV4dEFsaWduRm9yQW5nbGUoYW5nbGUpIHtcbiAgaWYgKGFuZ2xlID09PSAwIHx8IGFuZ2xlID09PSAxODApIHtcbiAgICByZXR1cm4gJ2NlbnRlcic7XG4gIH0gZWxzZSBpZiAoYW5nbGUgPCAxODApIHtcbiAgICByZXR1cm4gJ2xlZnQnO1xuICB9XG4gIHJldHVybiAncmlnaHQnO1xufVxuZnVuY3Rpb24gbGVmdEZvclRleHRBbGlnbih4LCB3LCBhbGlnbikge1xuICBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICB4IC09IHc7XG4gIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgeCAtPSAodyAvIDIpO1xuICB9XG4gIHJldHVybiB4O1xufVxuZnVuY3Rpb24geUZvckFuZ2xlKHksIGgsIGFuZ2xlKSB7XG4gIGlmIChhbmdsZSA9PT0gOTAgfHwgYW5nbGUgPT09IDI3MCkge1xuICAgIHkgLT0gKGggLyAyKTtcbiAgfSBlbHNlIGlmIChhbmdsZSA+IDI3MCB8fCBhbmdsZSA8IDkwKSB7XG4gICAgeSAtPSBoO1xuICB9XG4gIHJldHVybiB5O1xufVxuZnVuY3Rpb24gZHJhd1BvaW50TGFiZWxzKHNjYWxlLCBsYWJlbENvdW50KSB7XG4gIGNvbnN0IHtjdHgsIG9wdGlvbnM6IHtwb2ludExhYmVsc319ID0gc2NhbGU7XG4gIGZvciAobGV0IGkgPSBsYWJlbENvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBvcHRzQXRJbmRleCA9IHBvaW50TGFiZWxzLnNldENvbnRleHQoc2NhbGUuZ2V0UG9pbnRMYWJlbENvbnRleHQoaSkpO1xuICAgIGNvbnN0IHBsRm9udCA9IHRvRm9udChvcHRzQXRJbmRleC5mb250KTtcbiAgICBjb25zdCB7eCwgeSwgdGV4dEFsaWduLCBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b219ID0gc2NhbGUuX3BvaW50TGFiZWxJdGVtc1tpXTtcbiAgICBjb25zdCB7YmFja2Ryb3BDb2xvcn0gPSBvcHRzQXRJbmRleDtcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWYoYmFja2Ryb3BDb2xvcikpIHtcbiAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IHRvVFJCTENvcm5lcnMob3B0c0F0SW5kZXguYm9yZGVyUmFkaXVzKTtcbiAgICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0c0F0SW5kZXguYmFja2Ryb3BQYWRkaW5nKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZHJvcENvbG9yO1xuICAgICAgY29uc3QgYmFja2Ryb3BMZWZ0ID0gbGVmdCAtIHBhZGRpbmcubGVmdDtcbiAgICAgIGNvbnN0IGJhY2tkcm9wVG9wID0gdG9wIC0gcGFkZGluZy50b3A7XG4gICAgICBjb25zdCBiYWNrZHJvcFdpZHRoID0gcmlnaHQgLSBsZWZ0ICsgcGFkZGluZy53aWR0aDtcbiAgICAgIGNvbnN0IGJhY2tkcm9wSGVpZ2h0ID0gYm90dG9tIC0gdG9wICsgcGFkZGluZy5oZWlnaHQ7XG4gICAgICBpZiAoT2JqZWN0LnZhbHVlcyhib3JkZXJSYWRpdXMpLnNvbWUodiA9PiB2ICE9PSAwKSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGFkZFJvdW5kZWRSZWN0UGF0aChjdHgsIHtcbiAgICAgICAgICB4OiBiYWNrZHJvcExlZnQsXG4gICAgICAgICAgeTogYmFja2Ryb3BUb3AsXG4gICAgICAgICAgdzogYmFja2Ryb3BXaWR0aCxcbiAgICAgICAgICBoOiBiYWNrZHJvcEhlaWdodCxcbiAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguZmlsbFJlY3QoYmFja2Ryb3BMZWZ0LCBiYWNrZHJvcFRvcCwgYmFja2Ryb3BXaWR0aCwgYmFja2Ryb3BIZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJUZXh0KFxuICAgICAgY3R4LFxuICAgICAgc2NhbGUuX3BvaW50TGFiZWxzW2ldLFxuICAgICAgeCxcbiAgICAgIHkgKyAocGxGb250LmxpbmVIZWlnaHQgLyAyKSxcbiAgICAgIHBsRm9udCxcbiAgICAgIHtcbiAgICAgICAgY29sb3I6IG9wdHNBdEluZGV4LmNvbG9yLFxuICAgICAgICB0ZXh0QWxpZ246IHRleHRBbGlnbixcbiAgICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJ1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhdGhSYWRpdXNMaW5lKHNjYWxlLCByYWRpdXMsIGNpcmN1bGFyLCBsYWJlbENvdW50KSB7XG4gIGNvbnN0IHtjdHh9ID0gc2NhbGU7XG4gIGlmIChjaXJjdWxhcikge1xuICAgIGN0eC5hcmMoc2NhbGUueENlbnRlciwgc2NhbGUueUNlbnRlciwgcmFkaXVzLCAwLCBUQVUpO1xuICB9IGVsc2Uge1xuICAgIGxldCBwb2ludFBvc2l0aW9uID0gc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbigwLCByYWRpdXMpO1xuICAgIGN0eC5tb3ZlVG8ocG9pbnRQb3NpdGlvbi54LCBwb2ludFBvc2l0aW9uLnkpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGFiZWxDb3VudDsgaSsrKSB7XG4gICAgICBwb2ludFBvc2l0aW9uID0gc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbihpLCByYWRpdXMpO1xuICAgICAgY3R4LmxpbmVUbyhwb2ludFBvc2l0aW9uLngsIHBvaW50UG9zaXRpb24ueSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBkcmF3UmFkaXVzTGluZShzY2FsZSwgZ3JpZExpbmVPcHRzLCByYWRpdXMsIGxhYmVsQ291bnQpIHtcbiAgY29uc3QgY3R4ID0gc2NhbGUuY3R4O1xuICBjb25zdCBjaXJjdWxhciA9IGdyaWRMaW5lT3B0cy5jaXJjdWxhcjtcbiAgY29uc3Qge2NvbG9yLCBsaW5lV2lkdGh9ID0gZ3JpZExpbmVPcHRzO1xuICBpZiAoKCFjaXJjdWxhciAmJiAhbGFiZWxDb3VudCkgfHwgIWNvbG9yIHx8ICFsaW5lV2lkdGggfHwgcmFkaXVzIDwgMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjdHguc2F2ZSgpO1xuICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgY3R4LnNldExpbmVEYXNoKGdyaWRMaW5lT3B0cy5ib3JkZXJEYXNoKTtcbiAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gZ3JpZExpbmVPcHRzLmJvcmRlckRhc2hPZmZzZXQ7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgcGF0aFJhZGl1c0xpbmUoc2NhbGUsIHJhZGl1cywgY2lyY3VsYXIsIGxhYmVsQ291bnQpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5zdHJva2UoKTtcbiAgY3R4LnJlc3RvcmUoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBvaW50TGFiZWxDb250ZXh0KHBhcmVudCwgaW5kZXgsIGxhYmVsKSB7XG4gIHJldHVybiBjcmVhdGVDb250ZXh0KHBhcmVudCwge1xuICAgIGxhYmVsLFxuICAgIGluZGV4LFxuICAgIHR5cGU6ICdwb2ludExhYmVsJ1xuICB9KTtcbn1cbmNsYXNzIFJhZGlhbExpbmVhclNjYWxlIGV4dGVuZHMgTGluZWFyU2NhbGVCYXNlIHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoY2ZnKTtcbiAgICB0aGlzLnhDZW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy55Q2VudGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZHJhd2luZ0FyZWEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcG9pbnRMYWJlbHMgPSBbXTtcbiAgICB0aGlzLl9wb2ludExhYmVsSXRlbXMgPSBbXTtcbiAgfVxuICBzZXREaW1lbnNpb25zKCkge1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLl9wYWRkaW5nID0gdG9QYWRkaW5nKGdldFRpY2tCYWNrZHJvcEhlaWdodCh0aGlzLm9wdGlvbnMpIC8gMik7XG4gICAgY29uc3QgdyA9IHRoaXMud2lkdGggPSB0aGlzLm1heFdpZHRoIC0gcGFkZGluZy53aWR0aDtcbiAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQgPSB0aGlzLm1heEhlaWdodCAtIHBhZGRpbmcuaGVpZ2h0O1xuICAgIHRoaXMueENlbnRlciA9IE1hdGguZmxvb3IodGhpcy5sZWZ0ICsgdyAvIDIgKyBwYWRkaW5nLmxlZnQpO1xuICAgIHRoaXMueUNlbnRlciA9IE1hdGguZmxvb3IodGhpcy50b3AgKyBoIC8gMiArIHBhZGRpbmcudG9wKTtcbiAgICB0aGlzLmRyYXdpbmdBcmVhID0gTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDIpO1xuICB9XG4gIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgY29uc3Qge21pbiwgbWF4fSA9IHRoaXMuZ2V0TWluTWF4KGZhbHNlKTtcbiAgICB0aGlzLm1pbiA9IGlzTnVtYmVyRmluaXRlKG1pbikgJiYgIWlzTmFOKG1pbikgPyBtaW4gOiAwO1xuICAgIHRoaXMubWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSAmJiAhaXNOYU4obWF4KSA/IG1heCA6IDA7XG4gICAgdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCk7XG4gIH1cbiAgY29tcHV0ZVRpY2tMaW1pdCgpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuZHJhd2luZ0FyZWEgLyBnZXRUaWNrQmFja2Ryb3BIZWlnaHQodGhpcy5vcHRpb25zKSk7XG4gIH1cbiAgZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKSB7XG4gICAgTGluZWFyU2NhbGVCYXNlLnByb3RvdHlwZS5nZW5lcmF0ZVRpY2tMYWJlbHMuY2FsbCh0aGlzLCB0aWNrcyk7XG4gICAgdGhpcy5fcG9pbnRMYWJlbHMgPSB0aGlzLmdldExhYmVscygpXG4gICAgICAubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjYWxsYmFjayh0aGlzLm9wdGlvbnMucG9pbnRMYWJlbHMuY2FsbGJhY2ssIFt2YWx1ZSwgaW5kZXhdLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGxhYmVsIHx8IGxhYmVsID09PSAwID8gbGFiZWwgOiAnJztcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKCh2LCBpKSA9PiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpKTtcbiAgfVxuICBmaXQoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAob3B0cy5kaXNwbGF5ICYmIG9wdHMucG9pbnRMYWJlbHMuZGlzcGxheSkge1xuICAgICAgZml0V2l0aFBvaW50TGFiZWxzKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldENlbnRlclBvaW50KDAsIDAsIDAsIDApO1xuICAgIH1cbiAgfVxuICBzZXRDZW50ZXJQb2ludChsZWZ0TW92ZW1lbnQsIHJpZ2h0TW92ZW1lbnQsIHRvcE1vdmVtZW50LCBib3R0b21Nb3ZlbWVudCkge1xuICAgIHRoaXMueENlbnRlciArPSBNYXRoLmZsb29yKChsZWZ0TW92ZW1lbnQgLSByaWdodE1vdmVtZW50KSAvIDIpO1xuICAgIHRoaXMueUNlbnRlciArPSBNYXRoLmZsb29yKCh0b3BNb3ZlbWVudCAtIGJvdHRvbU1vdmVtZW50KSAvIDIpO1xuICAgIHRoaXMuZHJhd2luZ0FyZWEgLT0gTWF0aC5taW4odGhpcy5kcmF3aW5nQXJlYSAvIDIsIE1hdGgubWF4KGxlZnRNb3ZlbWVudCwgcmlnaHRNb3ZlbWVudCwgdG9wTW92ZW1lbnQsIGJvdHRvbU1vdmVtZW50KSk7XG4gIH1cbiAgZ2V0SW5kZXhBbmdsZShpbmRleCkge1xuICAgIGNvbnN0IGFuZ2xlTXVsdGlwbGllciA9IFRBVSAvICh0aGlzLl9wb2ludExhYmVscy5sZW5ndGggfHwgMSk7XG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMub3B0aW9ucy5zdGFydEFuZ2xlIHx8IDA7XG4gICAgcmV0dXJuIF9ub3JtYWxpemVBbmdsZShpbmRleCAqIGFuZ2xlTXVsdGlwbGllciArIHRvUmFkaWFucyhzdGFydEFuZ2xlKSk7XG4gIH1cbiAgZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIGNvbnN0IHNjYWxpbmdGYWN0b3IgPSB0aGlzLmRyYXdpbmdBcmVhIC8gKHRoaXMubWF4IC0gdGhpcy5taW4pO1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgcmV0dXJuICh0aGlzLm1heCAtIHZhbHVlKSAqIHNjYWxpbmdGYWN0b3I7XG4gICAgfVxuICAgIHJldHVybiAodmFsdWUgLSB0aGlzLm1pbikgKiBzY2FsaW5nRmFjdG9yO1xuICB9XG4gIGdldFZhbHVlRm9yRGlzdGFuY2VGcm9tQ2VudGVyKGRpc3RhbmNlKSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWYoZGlzdGFuY2UpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBjb25zdCBzY2FsZWREaXN0YW5jZSA9IGRpc3RhbmNlIC8gKHRoaXMuZHJhd2luZ0FyZWEgLyAodGhpcy5tYXggLSB0aGlzLm1pbikpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmV2ZXJzZSA/IHRoaXMubWF4IC0gc2NhbGVkRGlzdGFuY2UgOiB0aGlzLm1pbiArIHNjYWxlZERpc3RhbmNlO1xuICB9XG4gIGdldFBvaW50TGFiZWxDb250ZXh0KGluZGV4KSB7XG4gICAgY29uc3QgcG9pbnRMYWJlbHMgPSB0aGlzLl9wb2ludExhYmVscyB8fCBbXTtcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHBvaW50TGFiZWxzLmxlbmd0aCkge1xuICAgICAgY29uc3QgcG9pbnRMYWJlbCA9IHBvaW50TGFiZWxzW2luZGV4XTtcbiAgICAgIHJldHVybiBjcmVhdGVQb2ludExhYmVsQ29udGV4dCh0aGlzLmdldENvbnRleHQoKSwgaW5kZXgsIHBvaW50TGFiZWwpO1xuICAgIH1cbiAgfVxuICBnZXRQb2ludFBvc2l0aW9uKGluZGV4LCBkaXN0YW5jZUZyb21DZW50ZXIsIGFkZGl0aW9uYWxBbmdsZSA9IDApIHtcbiAgICBjb25zdCBhbmdsZSA9IHRoaXMuZ2V0SW5kZXhBbmdsZShpbmRleCkgLSBIQUxGX1BJICsgYWRkaXRpb25hbEFuZ2xlO1xuICAgIHJldHVybiB7XG4gICAgICB4OiBNYXRoLmNvcyhhbmdsZSkgKiBkaXN0YW5jZUZyb21DZW50ZXIgKyB0aGlzLnhDZW50ZXIsXG4gICAgICB5OiBNYXRoLnNpbihhbmdsZSkgKiBkaXN0YW5jZUZyb21DZW50ZXIgKyB0aGlzLnlDZW50ZXIsXG4gICAgICBhbmdsZVxuICAgIH07XG4gIH1cbiAgZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKGluZGV4LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmdldFBvaW50UG9zaXRpb24oaW5kZXgsIHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodmFsdWUpKTtcbiAgfVxuICBnZXRCYXNlUG9zaXRpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoaW5kZXggfHwgMCwgdGhpcy5nZXRCYXNlVmFsdWUoKSk7XG4gIH1cbiAgZ2V0UG9pbnRMYWJlbFBvc2l0aW9uKGluZGV4KSB7XG4gICAgY29uc3Qge2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbX0gPSB0aGlzLl9wb2ludExhYmVsSXRlbXNbaW5kZXhdO1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgcmlnaHQsXG4gICAgICBib3R0b20sXG4gICAgfTtcbiAgfVxuICBkcmF3QmFja2dyb3VuZCgpIHtcbiAgICBjb25zdCB7YmFja2dyb3VuZENvbG9yLCBncmlkOiB7Y2lyY3VsYXJ9fSA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBwYXRoUmFkaXVzTGluZSh0aGlzLCB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRoaXMuX2VuZFZhbHVlKSwgY2lyY3VsYXIsIHRoaXMuX3BvaW50TGFiZWxzLmxlbmd0aCk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG4gIGRyYXdHcmlkKCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qge2FuZ2xlTGluZXMsIGdyaWR9ID0gb3B0cztcbiAgICBjb25zdCBsYWJlbENvdW50ID0gdGhpcy5fcG9pbnRMYWJlbHMubGVuZ3RoO1xuICAgIGxldCBpLCBvZmZzZXQsIHBvc2l0aW9uO1xuICAgIGlmIChvcHRzLnBvaW50TGFiZWxzLmRpc3BsYXkpIHtcbiAgICAgIGRyYXdQb2ludExhYmVscyh0aGlzLCBsYWJlbENvdW50KTtcbiAgICB9XG4gICAgaWYgKGdyaWQuZGlzcGxheSkge1xuICAgICAgdGhpcy50aWNrcy5mb3JFYWNoKCh0aWNrLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICBvZmZzZXQgPSB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRpY2sudmFsdWUpO1xuICAgICAgICAgIGNvbnN0IG9wdHNBdEluZGV4ID0gZ3JpZC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpbmRleCAtIDEpKTtcbiAgICAgICAgICBkcmF3UmFkaXVzTGluZSh0aGlzLCBvcHRzQXRJbmRleCwgb2Zmc2V0LCBsYWJlbENvdW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChhbmdsZUxpbmVzLmRpc3BsYXkpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBmb3IgKGkgPSBsYWJlbENvdW50IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3Qgb3B0c0F0SW5kZXggPSBhbmdsZUxpbmVzLnNldENvbnRleHQodGhpcy5nZXRQb2ludExhYmVsQ29udGV4dChpKSk7XG4gICAgICAgIGNvbnN0IHtjb2xvciwgbGluZVdpZHRofSA9IG9wdHNBdEluZGV4O1xuICAgICAgICBpZiAoIWxpbmVXaWR0aCB8fCAhY29sb3IpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY3R4LnNldExpbmVEYXNoKG9wdHNBdEluZGV4LmJvcmRlckRhc2gpO1xuICAgICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBvcHRzQXRJbmRleC5ib3JkZXJEYXNoT2Zmc2V0O1xuICAgICAgICBvZmZzZXQgPSB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKG9wdHMudGlja3MucmV2ZXJzZSA/IHRoaXMubWluIDogdGhpcy5tYXgpO1xuICAgICAgICBwb3NpdGlvbiA9IHRoaXMuZ2V0UG9pbnRQb3NpdGlvbihpLCBvZmZzZXQpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8odGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIpO1xuICAgICAgICBjdHgubGluZVRvKHBvc2l0aW9uLngsIHBvc2l0aW9uLnkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuICBkcmF3Qm9yZGVyKCkge31cbiAgZHJhd0xhYmVscygpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHRpY2tPcHRzID0gb3B0cy50aWNrcztcbiAgICBpZiAoIXRpY2tPcHRzLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9IHRoaXMuZ2V0SW5kZXhBbmdsZSgwKTtcbiAgICBsZXQgb2Zmc2V0LCB3aWR0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUodGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIpO1xuICAgIGN0eC5yb3RhdGUoc3RhcnRBbmdsZSk7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICB0aGlzLnRpY2tzLmZvckVhY2goKHRpY2ssIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDAgJiYgIW9wdHMucmV2ZXJzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRzQXRJbmRleCA9IHRpY2tPcHRzLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGluZGV4KSk7XG4gICAgICBjb25zdCB0aWNrRm9udCA9IHRvRm9udChvcHRzQXRJbmRleC5mb250KTtcbiAgICAgIG9mZnNldCA9IHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy50aWNrc1tpbmRleF0udmFsdWUpO1xuICAgICAgaWYgKG9wdHNBdEluZGV4LnNob3dMYWJlbEJhY2tkcm9wKSB7XG4gICAgICAgIGN0eC5mb250ID0gdGlja0ZvbnQuc3RyaW5nO1xuICAgICAgICB3aWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0aWNrLmxhYmVsKS53aWR0aDtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdHNBdEluZGV4LmJhY2tkcm9wQ29sb3I7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0c0F0SW5kZXguYmFja2Ryb3BQYWRkaW5nKTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgIC13aWR0aCAvIDIgLSBwYWRkaW5nLmxlZnQsXG4gICAgICAgICAgLW9mZnNldCAtIHRpY2tGb250LnNpemUgLyAyIC0gcGFkZGluZy50b3AsXG4gICAgICAgICAgd2lkdGggKyBwYWRkaW5nLndpZHRoLFxuICAgICAgICAgIHRpY2tGb250LnNpemUgKyBwYWRkaW5nLmhlaWdodFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVuZGVyVGV4dChjdHgsIHRpY2subGFiZWwsIDAsIC1vZmZzZXQsIHRpY2tGb250LCB7XG4gICAgICAgIGNvbG9yOiBvcHRzQXRJbmRleC5jb2xvcixcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbiAgZHJhd1RpdGxlKCkge31cbn1cblJhZGlhbExpbmVhclNjYWxlLmlkID0gJ3JhZGlhbExpbmVhcic7XG5SYWRpYWxMaW5lYXJTY2FsZS5kZWZhdWx0cyA9IHtcbiAgZGlzcGxheTogdHJ1ZSxcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgcG9zaXRpb246ICdjaGFydEFyZWEnLFxuICBhbmdsZUxpbmVzOiB7XG4gICAgZGlzcGxheTogdHJ1ZSxcbiAgICBsaW5lV2lkdGg6IDEsXG4gICAgYm9yZGVyRGFzaDogW10sXG4gICAgYm9yZGVyRGFzaE9mZnNldDogMC4wXG4gIH0sXG4gIGdyaWQ6IHtcbiAgICBjaXJjdWxhcjogZmFsc2VcbiAgfSxcbiAgc3RhcnRBbmdsZTogMCxcbiAgdGlja3M6IHtcbiAgICBzaG93TGFiZWxCYWNrZHJvcDogdHJ1ZSxcbiAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5udW1lcmljXG4gIH0sXG4gIHBvaW50TGFiZWxzOiB7XG4gICAgYmFja2Ryb3BDb2xvcjogdW5kZWZpbmVkLFxuICAgIGJhY2tkcm9wUGFkZGluZzogMixcbiAgICBkaXNwbGF5OiB0cnVlLFxuICAgIGZvbnQ6IHtcbiAgICAgIHNpemU6IDEwXG4gICAgfSxcbiAgICBjYWxsYmFjayhsYWJlbCkge1xuICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH0sXG4gICAgcGFkZGluZzogNSxcbiAgICBjZW50ZXJQb2ludExhYmVsczogZmFsc2VcbiAgfVxufTtcblJhZGlhbExpbmVhclNjYWxlLmRlZmF1bHRSb3V0ZXMgPSB7XG4gICdhbmdsZUxpbmVzLmNvbG9yJzogJ2JvcmRlckNvbG9yJyxcbiAgJ3BvaW50TGFiZWxzLmNvbG9yJzogJ2NvbG9yJyxcbiAgJ3RpY2tzLmNvbG9yJzogJ2NvbG9yJ1xufTtcblJhZGlhbExpbmVhclNjYWxlLmRlc2NyaXB0b3JzID0ge1xuICBhbmdsZUxpbmVzOiB7XG4gICAgX2ZhbGxiYWNrOiAnZ3JpZCdcbiAgfVxufTtcblxuY29uc3QgSU5URVJWQUxTID0ge1xuICBtaWxsaXNlY29uZDoge2NvbW1vbjogdHJ1ZSwgc2l6ZTogMSwgc3RlcHM6IDEwMDB9LFxuICBzZWNvbmQ6IHtjb21tb246IHRydWUsIHNpemU6IDEwMDAsIHN0ZXBzOiA2MH0sXG4gIG1pbnV0ZToge2NvbW1vbjogdHJ1ZSwgc2l6ZTogNjAwMDAsIHN0ZXBzOiA2MH0sXG4gIGhvdXI6IHtjb21tb246IHRydWUsIHNpemU6IDM2MDAwMDAsIHN0ZXBzOiAyNH0sXG4gIGRheToge2NvbW1vbjogdHJ1ZSwgc2l6ZTogODY0MDAwMDAsIHN0ZXBzOiAzMH0sXG4gIHdlZWs6IHtjb21tb246IGZhbHNlLCBzaXplOiA2MDQ4MDAwMDAsIHN0ZXBzOiA0fSxcbiAgbW9udGg6IHtjb21tb246IHRydWUsIHNpemU6IDIuNjI4ZTksIHN0ZXBzOiAxMn0sXG4gIHF1YXJ0ZXI6IHtjb21tb246IGZhbHNlLCBzaXplOiA3Ljg4NGU5LCBzdGVwczogNH0sXG4gIHllYXI6IHtjb21tb246IHRydWUsIHNpemU6IDMuMTU0ZTEwfVxufTtcbmNvbnN0IFVOSVRTID0gKE9iamVjdC5rZXlzKElOVEVSVkFMUykpO1xuZnVuY3Rpb24gc29ydGVyKGEsIGIpIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuZnVuY3Rpb24gcGFyc2Uoc2NhbGUsIGlucHV0KSB7XG4gIGlmIChpc051bGxPclVuZGVmKGlucHV0KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGFkYXB0ZXIgPSBzY2FsZS5fYWRhcHRlcjtcbiAgY29uc3Qge3BhcnNlciwgcm91bmQsIGlzb1dlZWtkYXl9ID0gc2NhbGUuX3BhcnNlT3B0cztcbiAgbGV0IHZhbHVlID0gaW5wdXQ7XG4gIGlmICh0eXBlb2YgcGFyc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFsdWUgPSBwYXJzZXIodmFsdWUpO1xuICB9XG4gIGlmICghaXNOdW1iZXJGaW5pdGUodmFsdWUpKSB7XG4gICAgdmFsdWUgPSB0eXBlb2YgcGFyc2VyID09PSAnc3RyaW5nJ1xuICAgICAgPyBhZGFwdGVyLnBhcnNlKHZhbHVlLCBwYXJzZXIpXG4gICAgICA6IGFkYXB0ZXIucGFyc2UodmFsdWUpO1xuICB9XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChyb3VuZCkge1xuICAgIHZhbHVlID0gcm91bmQgPT09ICd3ZWVrJyAmJiAoaXNOdW1iZXIoaXNvV2Vla2RheSkgfHwgaXNvV2Vla2RheSA9PT0gdHJ1ZSlcbiAgICAgID8gYWRhcHRlci5zdGFydE9mKHZhbHVlLCAnaXNvV2VlaycsIGlzb1dlZWtkYXkpXG4gICAgICA6IGFkYXB0ZXIuc3RhcnRPZih2YWx1ZSwgcm91bmQpO1xuICB9XG4gIHJldHVybiArdmFsdWU7XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVVbml0Rm9yQXV0b1RpY2tzKG1pblVuaXQsIG1pbiwgbWF4LCBjYXBhY2l0eSkge1xuICBjb25zdCBpbGVuID0gVU5JVFMubGVuZ3RoO1xuICBmb3IgKGxldCBpID0gVU5JVFMuaW5kZXhPZihtaW5Vbml0KTsgaSA8IGlsZW4gLSAxOyArK2kpIHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IElOVEVSVkFMU1tVTklUU1tpXV07XG4gICAgY29uc3QgZmFjdG9yID0gaW50ZXJ2YWwuc3RlcHMgPyBpbnRlcnZhbC5zdGVwcyA6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgIGlmIChpbnRlcnZhbC5jb21tb24gJiYgTWF0aC5jZWlsKChtYXggLSBtaW4pIC8gKGZhY3RvciAqIGludGVydmFsLnNpemUpKSA8PSBjYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIFVOSVRTW2ldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gVU5JVFNbaWxlbiAtIDFdO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lVW5pdEZvckZvcm1hdHRpbmcoc2NhbGUsIG51bVRpY2tzLCBtaW5Vbml0LCBtaW4sIG1heCkge1xuICBmb3IgKGxldCBpID0gVU5JVFMubGVuZ3RoIC0gMTsgaSA+PSBVTklUUy5pbmRleE9mKG1pblVuaXQpOyBpLS0pIHtcbiAgICBjb25zdCB1bml0ID0gVU5JVFNbaV07XG4gICAgaWYgKElOVEVSVkFMU1t1bml0XS5jb21tb24gJiYgc2NhbGUuX2FkYXB0ZXIuZGlmZihtYXgsIG1pbiwgdW5pdCkgPj0gbnVtVGlja3MgLSAxKSB7XG4gICAgICByZXR1cm4gdW5pdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFVOSVRTW21pblVuaXQgPyBVTklUUy5pbmRleE9mKG1pblVuaXQpIDogMF07XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVNYWpvclVuaXQodW5pdCkge1xuICBmb3IgKGxldCBpID0gVU5JVFMuaW5kZXhPZih1bml0KSArIDEsIGlsZW4gPSBVTklUUy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBpZiAoSU5URVJWQUxTW1VOSVRTW2ldXS5jb21tb24pIHtcbiAgICAgIHJldHVybiBVTklUU1tpXTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGFkZFRpY2sodGlja3MsIHRpbWUsIHRpbWVzdGFtcHMpIHtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGlja3NbdGltZV0gPSB0cnVlO1xuICB9IGVsc2UgaWYgKHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgY29uc3Qge2xvLCBoaX0gPSBfbG9va3VwKHRpbWVzdGFtcHMsIHRpbWUpO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRpbWVzdGFtcHNbbG9dID49IHRpbWUgPyB0aW1lc3RhbXBzW2xvXSA6IHRpbWVzdGFtcHNbaGldO1xuICAgIHRpY2tzW3RpbWVzdGFtcF0gPSB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBzZXRNYWpvclRpY2tzKHNjYWxlLCB0aWNrcywgbWFwLCBtYWpvclVuaXQpIHtcbiAgY29uc3QgYWRhcHRlciA9IHNjYWxlLl9hZGFwdGVyO1xuICBjb25zdCBmaXJzdCA9ICthZGFwdGVyLnN0YXJ0T2YodGlja3NbMF0udmFsdWUsIG1ham9yVW5pdCk7XG4gIGNvbnN0IGxhc3QgPSB0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS52YWx1ZTtcbiAgbGV0IG1ham9yLCBpbmRleDtcbiAgZm9yIChtYWpvciA9IGZpcnN0OyBtYWpvciA8PSBsYXN0OyBtYWpvciA9ICthZGFwdGVyLmFkZChtYWpvciwgMSwgbWFqb3JVbml0KSkge1xuICAgIGluZGV4ID0gbWFwW21ham9yXTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGlja3NbaW5kZXhdLm1ham9yID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRpY2tzO1xufVxuZnVuY3Rpb24gdGlja3NGcm9tVGltZXN0YW1wcyhzY2FsZSwgdmFsdWVzLCBtYWpvclVuaXQpIHtcbiAgY29uc3QgdGlja3MgPSBbXTtcbiAgY29uc3QgbWFwID0ge307XG4gIGNvbnN0IGlsZW4gPSB2YWx1ZXMubGVuZ3RoO1xuICBsZXQgaSwgdmFsdWU7XG4gIGZvciAoaSA9IDA7IGkgPCBpbGVuOyArK2kpIHtcbiAgICB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICBtYXBbdmFsdWVdID0gaTtcbiAgICB0aWNrcy5wdXNoKHtcbiAgICAgIHZhbHVlLFxuICAgICAgbWFqb3I6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIChpbGVuID09PSAwIHx8ICFtYWpvclVuaXQpID8gdGlja3MgOiBzZXRNYWpvclRpY2tzKHNjYWxlLCB0aWNrcywgbWFwLCBtYWpvclVuaXQpO1xufVxuY2xhc3MgVGltZVNjYWxlIGV4dGVuZHMgU2NhbGUge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLl9jYWNoZSA9IHtcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgbGFiZWxzOiBbXSxcbiAgICAgIGFsbDogW11cbiAgICB9O1xuICAgIHRoaXMuX3VuaXQgPSAnZGF5JztcbiAgICB0aGlzLl9tYWpvclVuaXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fb2Zmc2V0cyA9IHt9O1xuICAgIHRoaXMuX25vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wYXJzZU9wdHMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdChzY2FsZU9wdHMsIG9wdHMpIHtcbiAgICBjb25zdCB0aW1lID0gc2NhbGVPcHRzLnRpbWUgfHwgKHNjYWxlT3B0cy50aW1lID0ge30pO1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyID0gbmV3IGFkYXB0ZXJzLl9kYXRlKHNjYWxlT3B0cy5hZGFwdGVycy5kYXRlKTtcbiAgICBhZGFwdGVyLmluaXQob3B0cyk7XG4gICAgbWVyZ2VJZih0aW1lLmRpc3BsYXlGb3JtYXRzLCBhZGFwdGVyLmZvcm1hdHMoKSk7XG4gICAgdGhpcy5fcGFyc2VPcHRzID0ge1xuICAgICAgcGFyc2VyOiB0aW1lLnBhcnNlcixcbiAgICAgIHJvdW5kOiB0aW1lLnJvdW5kLFxuICAgICAgaXNvV2Vla2RheTogdGltZS5pc29XZWVrZGF5XG4gICAgfTtcbiAgICBzdXBlci5pbml0KHNjYWxlT3B0cyk7XG4gICAgdGhpcy5fbm9ybWFsaXplZCA9IG9wdHMubm9ybWFsaXplZDtcbiAgfVxuICBwYXJzZShyYXcsIGluZGV4KSB7XG4gICAgaWYgKHJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlKHRoaXMsIHJhdyk7XG4gIH1cbiAgYmVmb3JlTGF5b3V0KCkge1xuICAgIHN1cGVyLmJlZm9yZUxheW91dCgpO1xuICAgIHRoaXMuX2NhY2hlID0ge1xuICAgICAgZGF0YTogW10sXG4gICAgICBsYWJlbHM6IFtdLFxuICAgICAgYWxsOiBbXVxuICAgIH07XG4gIH1cbiAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyO1xuICAgIGNvbnN0IHVuaXQgPSBvcHRpb25zLnRpbWUudW5pdCB8fCAnZGF5JztcbiAgICBsZXQge21pbiwgbWF4LCBtaW5EZWZpbmVkLCBtYXhEZWZpbmVkfSA9IHRoaXMuZ2V0VXNlckJvdW5kcygpO1xuICAgIGZ1bmN0aW9uIF9hcHBseUJvdW5kcyhib3VuZHMpIHtcbiAgICAgIGlmICghbWluRGVmaW5lZCAmJiAhaXNOYU4oYm91bmRzLm1pbikpIHtcbiAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBib3VuZHMubWluKTtcbiAgICAgIH1cbiAgICAgIGlmICghbWF4RGVmaW5lZCAmJiAhaXNOYU4oYm91bmRzLm1heCkpIHtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBib3VuZHMubWF4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFtaW5EZWZpbmVkIHx8ICFtYXhEZWZpbmVkKSB7XG4gICAgICBfYXBwbHlCb3VuZHModGhpcy5fZ2V0TGFiZWxCb3VuZHMoKSk7XG4gICAgICBpZiAob3B0aW9ucy5ib3VuZHMgIT09ICd0aWNrcycgfHwgb3B0aW9ucy50aWNrcy5zb3VyY2UgIT09ICdsYWJlbHMnKSB7XG4gICAgICAgIF9hcHBseUJvdW5kcyh0aGlzLmdldE1pbk1heChmYWxzZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBtaW4gPSBpc051bWJlckZpbml0ZShtaW4pICYmICFpc05hTihtaW4pID8gbWluIDogK2FkYXB0ZXIuc3RhcnRPZihEYXRlLm5vdygpLCB1bml0KTtcbiAgICBtYXggPSBpc051bWJlckZpbml0ZShtYXgpICYmICFpc05hTihtYXgpID8gbWF4IDogK2FkYXB0ZXIuZW5kT2YoRGF0ZS5ub3coKSwgdW5pdCkgKyAxO1xuICAgIHRoaXMubWluID0gTWF0aC5taW4obWluLCBtYXggLSAxKTtcbiAgICB0aGlzLm1heCA9IE1hdGgubWF4KG1pbiArIDEsIG1heCk7XG4gIH1cbiAgX2dldExhYmVsQm91bmRzKCkge1xuICAgIGNvbnN0IGFyciA9IHRoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCk7XG4gICAgbGV0IG1pbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBsZXQgbWF4ID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZO1xuICAgIGlmIChhcnIubGVuZ3RoKSB7XG4gICAgICBtaW4gPSBhcnJbMF07XG4gICAgICBtYXggPSBhcnJbYXJyLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICByZXR1cm4ge21pbiwgbWF4fTtcbiAgfVxuICBidWlsZFRpY2tzKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgdGltZU9wdHMgPSBvcHRpb25zLnRpbWU7XG4gICAgY29uc3QgdGlja09wdHMgPSBvcHRpb25zLnRpY2tzO1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aWNrT3B0cy5zb3VyY2UgPT09ICdsYWJlbHMnID8gdGhpcy5nZXRMYWJlbFRpbWVzdGFtcHMoKSA6IHRoaXMuX2dlbmVyYXRlKCk7XG4gICAgaWYgKG9wdGlvbnMuYm91bmRzID09PSAndGlja3MnICYmIHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgICB0aGlzLm1pbiA9IHRoaXMuX3VzZXJNaW4gfHwgdGltZXN0YW1wc1swXTtcbiAgICAgIHRoaXMubWF4ID0gdGhpcy5fdXNlck1heCB8fCB0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIGNvbnN0IG1pbiA9IHRoaXMubWluO1xuICAgIGNvbnN0IG1heCA9IHRoaXMubWF4O1xuICAgIGNvbnN0IHRpY2tzID0gX2ZpbHRlckJldHdlZW4odGltZXN0YW1wcywgbWluLCBtYXgpO1xuICAgIHRoaXMuX3VuaXQgPSB0aW1lT3B0cy51bml0IHx8ICh0aWNrT3B0cy5hdXRvU2tpcFxuICAgICAgPyBkZXRlcm1pbmVVbml0Rm9yQXV0b1RpY2tzKHRpbWVPcHRzLm1pblVuaXQsIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5fZ2V0TGFiZWxDYXBhY2l0eShtaW4pKVxuICAgICAgOiBkZXRlcm1pbmVVbml0Rm9yRm9ybWF0dGluZyh0aGlzLCB0aWNrcy5sZW5ndGgsIHRpbWVPcHRzLm1pblVuaXQsIHRoaXMubWluLCB0aGlzLm1heCkpO1xuICAgIHRoaXMuX21ham9yVW5pdCA9ICF0aWNrT3B0cy5tYWpvci5lbmFibGVkIHx8IHRoaXMuX3VuaXQgPT09ICd5ZWFyJyA/IHVuZGVmaW5lZFxuICAgICAgOiBkZXRlcm1pbmVNYWpvclVuaXQodGhpcy5fdW5pdCk7XG4gICAgdGhpcy5pbml0T2Zmc2V0cyh0aW1lc3RhbXBzKTtcbiAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICB0aWNrcy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aWNrc0Zyb21UaW1lc3RhbXBzKHRoaXMsIHRpY2tzLCB0aGlzLl9tYWpvclVuaXQpO1xuICB9XG4gIGFmdGVyQXV0b1NraXAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vZmZzZXRBZnRlckF1dG9za2lwKSB7XG4gICAgICB0aGlzLmluaXRPZmZzZXRzKHRoaXMudGlja3MubWFwKHRpY2sgPT4gK3RpY2sudmFsdWUpKTtcbiAgICB9XG4gIH1cbiAgaW5pdE9mZnNldHModGltZXN0YW1wcykge1xuICAgIGxldCBzdGFydCA9IDA7XG4gICAgbGV0IGVuZCA9IDA7XG4gICAgbGV0IGZpcnN0LCBsYXN0O1xuICAgIGlmICh0aGlzLm9wdGlvbnMub2Zmc2V0ICYmIHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgICBmaXJzdCA9IHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRpbWVzdGFtcHNbMF0pO1xuICAgICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHN0YXJ0ID0gMSAtIGZpcnN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSAodGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodGltZXN0YW1wc1sxXSkgLSBmaXJzdCkgLyAyO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAxXSk7XG4gICAgICBpZiAodGltZXN0YW1wcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZW5kID0gbGFzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IChsYXN0IC0gdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDJdKSkgLyAyO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBsaW1pdCA9IHRpbWVzdGFtcHMubGVuZ3RoIDwgMyA/IDAuNSA6IDAuMjU7XG4gICAgc3RhcnQgPSBfbGltaXRWYWx1ZShzdGFydCwgMCwgbGltaXQpO1xuICAgIGVuZCA9IF9saW1pdFZhbHVlKGVuZCwgMCwgbGltaXQpO1xuICAgIHRoaXMuX29mZnNldHMgPSB7c3RhcnQsIGVuZCwgZmFjdG9yOiAxIC8gKHN0YXJ0ICsgMSArIGVuZCl9O1xuICB9XG4gIF9nZW5lcmF0ZSgpIHtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlcjtcbiAgICBjb25zdCBtaW4gPSB0aGlzLm1pbjtcbiAgICBjb25zdCBtYXggPSB0aGlzLm1heDtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHRpbWVPcHRzID0gb3B0aW9ucy50aW1lO1xuICAgIGNvbnN0IG1pbm9yID0gdGltZU9wdHMudW5pdCB8fCBkZXRlcm1pbmVVbml0Rm9yQXV0b1RpY2tzKHRpbWVPcHRzLm1pblVuaXQsIG1pbiwgbWF4LCB0aGlzLl9nZXRMYWJlbENhcGFjaXR5KG1pbikpO1xuICAgIGNvbnN0IHN0ZXBTaXplID0gdmFsdWVPckRlZmF1bHQodGltZU9wdHMuc3RlcFNpemUsIDEpO1xuICAgIGNvbnN0IHdlZWtkYXkgPSBtaW5vciA9PT0gJ3dlZWsnID8gdGltZU9wdHMuaXNvV2Vla2RheSA6IGZhbHNlO1xuICAgIGNvbnN0IGhhc1dlZWtkYXkgPSBpc051bWJlcih3ZWVrZGF5KSB8fCB3ZWVrZGF5ID09PSB0cnVlO1xuICAgIGNvbnN0IHRpY2tzID0ge307XG4gICAgbGV0IGZpcnN0ID0gbWluO1xuICAgIGxldCB0aW1lLCBjb3VudDtcbiAgICBpZiAoaGFzV2Vla2RheSkge1xuICAgICAgZmlyc3QgPSArYWRhcHRlci5zdGFydE9mKGZpcnN0LCAnaXNvV2VlaycsIHdlZWtkYXkpO1xuICAgIH1cbiAgICBmaXJzdCA9ICthZGFwdGVyLnN0YXJ0T2YoZmlyc3QsIGhhc1dlZWtkYXkgPyAnZGF5JyA6IG1pbm9yKTtcbiAgICBpZiAoYWRhcHRlci5kaWZmKG1heCwgbWluLCBtaW5vcikgPiAxMDAwMDAgKiBzdGVwU2l6ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1pbiArICcgYW5kICcgKyBtYXggKyAnIGFyZSB0b28gZmFyIGFwYXJ0IHdpdGggc3RlcFNpemUgb2YgJyArIHN0ZXBTaXplICsgJyAnICsgbWlub3IpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXBzID0gb3B0aW9ucy50aWNrcy5zb3VyY2UgPT09ICdkYXRhJyAmJiB0aGlzLmdldERhdGFUaW1lc3RhbXBzKCk7XG4gICAgZm9yICh0aW1lID0gZmlyc3QsIGNvdW50ID0gMDsgdGltZSA8IG1heDsgdGltZSA9ICthZGFwdGVyLmFkZCh0aW1lLCBzdGVwU2l6ZSwgbWlub3IpLCBjb3VudCsrKSB7XG4gICAgICBhZGRUaWNrKHRpY2tzLCB0aW1lLCB0aW1lc3RhbXBzKTtcbiAgICB9XG4gICAgaWYgKHRpbWUgPT09IG1heCB8fCBvcHRpb25zLmJvdW5kcyA9PT0gJ3RpY2tzJyB8fCBjb3VudCA9PT0gMSkge1xuICAgICAgYWRkVGljayh0aWNrcywgdGltZSwgdGltZXN0YW1wcyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aWNrcykuc29ydCgoYSwgYikgPT4gYSAtIGIpLm1hcCh4ID0+ICt4KTtcbiAgfVxuICBnZXRMYWJlbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuX2FkYXB0ZXI7XG4gICAgY29uc3QgdGltZU9wdHMgPSB0aGlzLm9wdGlvbnMudGltZTtcbiAgICBpZiAodGltZU9wdHMudG9vbHRpcEZvcm1hdCkge1xuICAgICAgcmV0dXJuIGFkYXB0ZXIuZm9ybWF0KHZhbHVlLCB0aW1lT3B0cy50b29sdGlwRm9ybWF0KTtcbiAgICB9XG4gICAgcmV0dXJuIGFkYXB0ZXIuZm9ybWF0KHZhbHVlLCB0aW1lT3B0cy5kaXNwbGF5Rm9ybWF0cy5kYXRldGltZSk7XG4gIH1cbiAgX3RpY2tGb3JtYXRGdW5jdGlvbih0aW1lLCBpbmRleCwgdGlja3MsIGZvcm1hdCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgZm9ybWF0cyA9IG9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0cztcbiAgICBjb25zdCB1bml0ID0gdGhpcy5fdW5pdDtcbiAgICBjb25zdCBtYWpvclVuaXQgPSB0aGlzLl9tYWpvclVuaXQ7XG4gICAgY29uc3QgbWlub3JGb3JtYXQgPSB1bml0ICYmIGZvcm1hdHNbdW5pdF07XG4gICAgY29uc3QgbWFqb3JGb3JtYXQgPSBtYWpvclVuaXQgJiYgZm9ybWF0c1ttYWpvclVuaXRdO1xuICAgIGNvbnN0IHRpY2sgPSB0aWNrc1tpbmRleF07XG4gICAgY29uc3QgbWFqb3IgPSBtYWpvclVuaXQgJiYgbWFqb3JGb3JtYXQgJiYgdGljayAmJiB0aWNrLm1ham9yO1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5fYWRhcHRlci5mb3JtYXQodGltZSwgZm9ybWF0IHx8IChtYWpvciA/IG1ham9yRm9ybWF0IDogbWlub3JGb3JtYXQpKTtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBvcHRpb25zLnRpY2tzLmNhbGxiYWNrO1xuICAgIHJldHVybiBmb3JtYXR0ZXIgPyBjYWxsYmFjayhmb3JtYXR0ZXIsIFtsYWJlbCwgaW5kZXgsIHRpY2tzXSwgdGhpcykgOiBsYWJlbDtcbiAgfVxuICBnZW5lcmF0ZVRpY2tMYWJlbHModGlja3MpIHtcbiAgICBsZXQgaSwgaWxlbiwgdGljaztcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gdGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aWNrID0gdGlja3NbaV07XG4gICAgICB0aWNrLmxhYmVsID0gdGhpcy5fdGlja0Zvcm1hdEZ1bmN0aW9uKHRpY2sudmFsdWUsIGksIHRpY2tzKTtcbiAgICB9XG4gIH1cbiAgZ2V0RGVjaW1hbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gTmFOIDogKHZhbHVlIC0gdGhpcy5taW4pIC8gKHRoaXMubWF4IC0gdGhpcy5taW4pO1xuICB9XG4gIGdldFBpeGVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBvZmZzZXRzID0gdGhpcy5fb2Zmc2V0cztcbiAgICBjb25zdCBwb3MgPSB0aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JEZWNpbWFsKChvZmZzZXRzLnN0YXJ0ICsgcG9zKSAqIG9mZnNldHMuZmFjdG9yKTtcbiAgfVxuICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IHRoaXMuX29mZnNldHM7XG4gICAgY29uc3QgcG9zID0gdGhpcy5nZXREZWNpbWFsRm9yUGl4ZWwocGl4ZWwpIC8gb2Zmc2V0cy5mYWN0b3IgLSBvZmZzZXRzLmVuZDtcbiAgICByZXR1cm4gdGhpcy5taW4gKyBwb3MgKiAodGhpcy5tYXggLSB0aGlzLm1pbik7XG4gIH1cbiAgX2dldExhYmVsU2l6ZShsYWJlbCkge1xuICAgIGNvbnN0IHRpY2tzT3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICBjb25zdCB0aWNrTGFiZWxXaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KGxhYmVsKS53aWR0aDtcbiAgICBjb25zdCBhbmdsZSA9IHRvUmFkaWFucyh0aGlzLmlzSG9yaXpvbnRhbCgpID8gdGlja3NPcHRzLm1heFJvdGF0aW9uIDogdGlja3NPcHRzLm1pblJvdGF0aW9uKTtcbiAgICBjb25zdCBjb3NSb3RhdGlvbiA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICBjb25zdCBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICBjb25zdCB0aWNrRm9udFNpemUgPSB0aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApLnNpemU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHc6ICh0aWNrTGFiZWxXaWR0aCAqIGNvc1JvdGF0aW9uKSArICh0aWNrRm9udFNpemUgKiBzaW5Sb3RhdGlvbiksXG4gICAgICBoOiAodGlja0xhYmVsV2lkdGggKiBzaW5Sb3RhdGlvbikgKyAodGlja0ZvbnRTaXplICogY29zUm90YXRpb24pXG4gICAgfTtcbiAgfVxuICBfZ2V0TGFiZWxDYXBhY2l0eShleGFtcGxlVGltZSkge1xuICAgIGNvbnN0IHRpbWVPcHRzID0gdGhpcy5vcHRpb25zLnRpbWU7XG4gICAgY29uc3QgZGlzcGxheUZvcm1hdHMgPSB0aW1lT3B0cy5kaXNwbGF5Rm9ybWF0cztcbiAgICBjb25zdCBmb3JtYXQgPSBkaXNwbGF5Rm9ybWF0c1t0aW1lT3B0cy51bml0XSB8fCBkaXNwbGF5Rm9ybWF0cy5taWxsaXNlY29uZDtcbiAgICBjb25zdCBleGFtcGxlTGFiZWwgPSB0aGlzLl90aWNrRm9ybWF0RnVuY3Rpb24oZXhhbXBsZVRpbWUsIDAsIHRpY2tzRnJvbVRpbWVzdGFtcHModGhpcywgW2V4YW1wbGVUaW1lXSwgdGhpcy5fbWFqb3JVbml0KSwgZm9ybWF0KTtcbiAgICBjb25zdCBzaXplID0gdGhpcy5fZ2V0TGFiZWxTaXplKGV4YW1wbGVMYWJlbCk7XG4gICAgY29uc3QgY2FwYWNpdHkgPSBNYXRoLmZsb29yKHRoaXMuaXNIb3Jpem9udGFsKCkgPyB0aGlzLndpZHRoIC8gc2l6ZS53IDogdGhpcy5oZWlnaHQgLyBzaXplLmgpIC0gMTtcbiAgICByZXR1cm4gY2FwYWNpdHkgPiAwID8gY2FwYWNpdHkgOiAxO1xuICB9XG4gIGdldERhdGFUaW1lc3RhbXBzKCkge1xuICAgIGxldCB0aW1lc3RhbXBzID0gdGhpcy5fY2FjaGUuZGF0YSB8fCBbXTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBpZiAodGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aW1lc3RhbXBzO1xuICAgIH1cbiAgICBjb25zdCBtZXRhcyA9IHRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtcbiAgICBpZiAodGhpcy5fbm9ybWFsaXplZCAmJiBtZXRhcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAodGhpcy5fY2FjaGUuZGF0YSA9IG1ldGFzWzBdLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHRoaXMpKTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IG1ldGFzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgdGltZXN0YW1wcyA9IHRpbWVzdGFtcHMuY29uY2F0KG1ldGFzW2ldLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHRoaXMpKTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLl9jYWNoZS5kYXRhID0gdGhpcy5ub3JtYWxpemUodGltZXN0YW1wcykpO1xuICB9XG4gIGdldExhYmVsVGltZXN0YW1wcygpIHtcbiAgICBjb25zdCB0aW1lc3RhbXBzID0gdGhpcy5fY2FjaGUubGFiZWxzIHx8IFtdO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRpbWVzdGFtcHM7XG4gICAgfVxuICAgIGNvbnN0IGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGxhYmVscy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHRpbWVzdGFtcHMucHVzaChwYXJzZSh0aGlzLCBsYWJlbHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLl9jYWNoZS5sYWJlbHMgPSB0aGlzLl9ub3JtYWxpemVkID8gdGltZXN0YW1wcyA6IHRoaXMubm9ybWFsaXplKHRpbWVzdGFtcHMpKTtcbiAgfVxuICBub3JtYWxpemUodmFsdWVzKSB7XG4gICAgcmV0dXJuIF9hcnJheVVuaXF1ZSh2YWx1ZXMuc29ydChzb3J0ZXIpKTtcbiAgfVxufVxuVGltZVNjYWxlLmlkID0gJ3RpbWUnO1xuVGltZVNjYWxlLmRlZmF1bHRzID0ge1xuICBib3VuZHM6ICdkYXRhJyxcbiAgYWRhcHRlcnM6IHt9LFxuICB0aW1lOiB7XG4gICAgcGFyc2VyOiBmYWxzZSxcbiAgICB1bml0OiBmYWxzZSxcbiAgICByb3VuZDogZmFsc2UsXG4gICAgaXNvV2Vla2RheTogZmFsc2UsXG4gICAgbWluVW5pdDogJ21pbGxpc2Vjb25kJyxcbiAgICBkaXNwbGF5Rm9ybWF0czoge31cbiAgfSxcbiAgdGlja3M6IHtcbiAgICBzb3VyY2U6ICdhdXRvJyxcbiAgICBtYWpvcjoge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGludGVycG9sYXRlKHRhYmxlLCB2YWwsIHJldmVyc2UpIHtcbiAgbGV0IGxvID0gMDtcbiAgbGV0IGhpID0gdGFibGUubGVuZ3RoIC0gMTtcbiAgbGV0IHByZXZTb3VyY2UsIG5leHRTb3VyY2UsIHByZXZUYXJnZXQsIG5leHRUYXJnZXQ7XG4gIGlmIChyZXZlcnNlKSB7XG4gICAgaWYgKHZhbCA+PSB0YWJsZVtsb10ucG9zICYmIHZhbCA8PSB0YWJsZVtoaV0ucG9zKSB7XG4gICAgICAoe2xvLCBoaX0gPSBfbG9va3VwQnlLZXkodGFibGUsICdwb3MnLCB2YWwpKTtcbiAgICB9XG4gICAgKHtwb3M6IHByZXZTb3VyY2UsIHRpbWU6IHByZXZUYXJnZXR9ID0gdGFibGVbbG9dKTtcbiAgICAoe3BvczogbmV4dFNvdXJjZSwgdGltZTogbmV4dFRhcmdldH0gPSB0YWJsZVtoaV0pO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgPj0gdGFibGVbbG9dLnRpbWUgJiYgdmFsIDw9IHRhYmxlW2hpXS50aW1lKSB7XG4gICAgICAoe2xvLCBoaX0gPSBfbG9va3VwQnlLZXkodGFibGUsICd0aW1lJywgdmFsKSk7XG4gICAgfVxuICAgICh7dGltZTogcHJldlNvdXJjZSwgcG9zOiBwcmV2VGFyZ2V0fSA9IHRhYmxlW2xvXSk7XG4gICAgKHt0aW1lOiBuZXh0U291cmNlLCBwb3M6IG5leHRUYXJnZXR9ID0gdGFibGVbaGldKTtcbiAgfVxuICBjb25zdCBzcGFuID0gbmV4dFNvdXJjZSAtIHByZXZTb3VyY2U7XG4gIHJldHVybiBzcGFuID8gcHJldlRhcmdldCArIChuZXh0VGFyZ2V0IC0gcHJldlRhcmdldCkgKiAodmFsIC0gcHJldlNvdXJjZSkgLyBzcGFuIDogcHJldlRhcmdldDtcbn1cbmNsYXNzIFRpbWVTZXJpZXNTY2FsZSBleHRlbmRzIFRpbWVTY2FsZSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuX3RhYmxlID0gW107XG4gICAgdGhpcy5fbWluUG9zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3RhYmxlUmFuZ2UgPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdE9mZnNldHMoKSB7XG4gICAgY29uc3QgdGltZXN0YW1wcyA9IHRoaXMuX2dldFRpbWVzdGFtcHNGb3JUYWJsZSgpO1xuICAgIGNvbnN0IHRhYmxlID0gdGhpcy5fdGFibGUgPSB0aGlzLmJ1aWxkTG9va3VwVGFibGUodGltZXN0YW1wcyk7XG4gICAgdGhpcy5fbWluUG9zID0gaW50ZXJwb2xhdGUodGFibGUsIHRoaXMubWluKTtcbiAgICB0aGlzLl90YWJsZVJhbmdlID0gaW50ZXJwb2xhdGUodGFibGUsIHRoaXMubWF4KSAtIHRoaXMuX21pblBvcztcbiAgICBzdXBlci5pbml0T2Zmc2V0cyh0aW1lc3RhbXBzKTtcbiAgfVxuICBidWlsZExvb2t1cFRhYmxlKHRpbWVzdGFtcHMpIHtcbiAgICBjb25zdCB7bWluLCBtYXh9ID0gdGhpcztcbiAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgIGNvbnN0IHRhYmxlID0gW107XG4gICAgbGV0IGksIGlsZW4sIHByZXYsIGN1cnIsIG5leHQ7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRpbWVzdGFtcHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBjdXJyID0gdGltZXN0YW1wc1tpXTtcbiAgICAgIGlmIChjdXJyID49IG1pbiAmJiBjdXJyIDw9IG1heCkge1xuICAgICAgICBpdGVtcy5wdXNoKGN1cnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXRlbXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge3RpbWU6IG1pbiwgcG9zOiAwfSxcbiAgICAgICAge3RpbWU6IG1heCwgcG9zOiAxfVxuICAgICAgXTtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgbmV4dCA9IGl0ZW1zW2kgKyAxXTtcbiAgICAgIHByZXYgPSBpdGVtc1tpIC0gMV07XG4gICAgICBjdXJyID0gaXRlbXNbaV07XG4gICAgICBpZiAoTWF0aC5yb3VuZCgobmV4dCArIHByZXYpIC8gMikgIT09IGN1cnIpIHtcbiAgICAgICAgdGFibGUucHVzaCh7dGltZTogY3VyciwgcG9zOiBpIC8gKGlsZW4gLSAxKX0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFibGU7XG4gIH1cbiAgX2dldFRpbWVzdGFtcHNGb3JUYWJsZSgpIHtcbiAgICBsZXQgdGltZXN0YW1wcyA9IHRoaXMuX2NhY2hlLmFsbCB8fCBbXTtcbiAgICBpZiAodGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aW1lc3RhbXBzO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhVGltZXN0YW1wcygpO1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZXRMYWJlbFRpbWVzdGFtcHMoKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggJiYgbGFiZWwubGVuZ3RoKSB7XG4gICAgICB0aW1lc3RhbXBzID0gdGhpcy5ub3JtYWxpemUoZGF0YS5jb25jYXQobGFiZWwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZXN0YW1wcyA9IGRhdGEubGVuZ3RoID8gZGF0YSA6IGxhYmVsO1xuICAgIH1cbiAgICB0aW1lc3RhbXBzID0gdGhpcy5fY2FjaGUuYWxsID0gdGltZXN0YW1wcztcbiAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgfVxuICBnZXREZWNpbWFsRm9yVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gKGludGVycG9sYXRlKHRoaXMuX3RhYmxlLCB2YWx1ZSkgLSB0aGlzLl9taW5Qb3MpIC8gdGhpcy5fdGFibGVSYW5nZTtcbiAgfVxuICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IHRoaXMuX29mZnNldHM7XG4gICAgY29uc3QgZGVjaW1hbCA9IHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAvIG9mZnNldHMuZmFjdG9yIC0gb2Zmc2V0cy5lbmQ7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKHRoaXMuX3RhYmxlLCBkZWNpbWFsICogdGhpcy5fdGFibGVSYW5nZSArIHRoaXMuX21pblBvcywgdHJ1ZSk7XG4gIH1cbn1cblRpbWVTZXJpZXNTY2FsZS5pZCA9ICd0aW1lc2VyaWVzJztcblRpbWVTZXJpZXNTY2FsZS5kZWZhdWx0cyA9IFRpbWVTY2FsZS5kZWZhdWx0cztcblxudmFyIHNjYWxlcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbl9fcHJvdG9fXzogbnVsbCxcbkNhdGVnb3J5U2NhbGU6IENhdGVnb3J5U2NhbGUsXG5MaW5lYXJTY2FsZTogTGluZWFyU2NhbGUsXG5Mb2dhcml0aG1pY1NjYWxlOiBMb2dhcml0aG1pY1NjYWxlLFxuUmFkaWFsTGluZWFyU2NhbGU6IFJhZGlhbExpbmVhclNjYWxlLFxuVGltZVNjYWxlOiBUaW1lU2NhbGUsXG5UaW1lU2VyaWVzU2NhbGU6IFRpbWVTZXJpZXNTY2FsZVxufSk7XG5cbmNvbnN0IHJlZ2lzdGVyYWJsZXMgPSBbXG4gIGNvbnRyb2xsZXJzLFxuICBlbGVtZW50cyxcbiAgcGx1Z2lucyxcbiAgc2NhbGVzLFxuXTtcblxuZXhwb3J0IHsgQW5pbWF0aW9uLCBBbmltYXRpb25zLCBBcmNFbGVtZW50LCBCYXJDb250cm9sbGVyLCBCYXJFbGVtZW50LCBCYXNlUGxhdGZvcm0sIEJhc2ljUGxhdGZvcm0sIEJ1YmJsZUNvbnRyb2xsZXIsIENhdGVnb3J5U2NhbGUsIENoYXJ0LCBEYXRhc2V0Q29udHJvbGxlciwgcGx1Z2luX2RlY2ltYXRpb24gYXMgRGVjaW1hdGlvbiwgRG9tUGxhdGZvcm0sIERvdWdobnV0Q29udHJvbGxlciwgRWxlbWVudCwgaW5kZXggYXMgRmlsbGVyLCBJbnRlcmFjdGlvbiwgcGx1Z2luX2xlZ2VuZCBhcyBMZWdlbmQsIExpbmVDb250cm9sbGVyLCBMaW5lRWxlbWVudCwgTGluZWFyU2NhbGUsIExvZ2FyaXRobWljU2NhbGUsIFBpZUNvbnRyb2xsZXIsIFBvaW50RWxlbWVudCwgUG9sYXJBcmVhQ29udHJvbGxlciwgUmFkYXJDb250cm9sbGVyLCBSYWRpYWxMaW5lYXJTY2FsZSwgU2NhbGUsIFNjYXR0ZXJDb250cm9sbGVyLCBwbHVnaW5fc3VidGl0bGUgYXMgU3ViVGl0bGUsIFRpY2tzLCBUaW1lU2NhbGUsIFRpbWVTZXJpZXNTY2FsZSwgcGx1Z2luX3RpdGxlIGFzIFRpdGxlLCBwbHVnaW5fdG9vbHRpcCBhcyBUb29sdGlwLCBhZGFwdGVycyBhcyBfYWRhcHRlcnMsIF9kZXRlY3RQbGF0Zm9ybSwgYW5pbWF0b3IsIGNvbnRyb2xsZXJzLCBlbGVtZW50cywgbGF5b3V0cywgcGx1Z2lucywgcmVnaXN0ZXJhYmxlcywgcmVnaXN0cnksIHNjYWxlcyB9O1xuIiwiLyohXG4gKiBDaGFydC5qcyB2My45LjFcbiAqIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnXG4gKiAoYykgMjAyMiBDaGFydC5qcyBDb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5mdW5jdGlvbiBub29wKCkge31cbmNvbnN0IHVpZCA9IChmdW5jdGlvbigpIHtcbiAgbGV0IGlkID0gMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpZCsrO1xuICB9O1xufSgpKTtcbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWYodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5ICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh0eXBlLnNsaWNlKDAsIDcpID09PSAnW29iamVjdCcgJiYgdHlwZS5zbGljZSgtNikgPT09ICdBcnJheV0nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuY29uc3QgaXNOdW1iZXJGaW5pdGUgPSAodmFsdWUpID0+ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlIGluc3RhbmNlb2YgTnVtYmVyKSAmJiBpc0Zpbml0ZSgrdmFsdWUpO1xuZnVuY3Rpb24gZmluaXRlT3JEZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIGlzTnVtYmVyRmluaXRlKHZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufVxuZnVuY3Rpb24gdmFsdWVPckRlZmF1bHQodmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xufVxuY29uc3QgdG9QZXJjZW50YWdlID0gKHZhbHVlLCBkaW1lbnNpb24pID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZW5kc1dpdGgoJyUnKSA/XG4gICAgcGFyc2VGbG9hdCh2YWx1ZSkgLyAxMDBcbiAgICA6IHZhbHVlIC8gZGltZW5zaW9uO1xuY29uc3QgdG9EaW1lbnNpb24gPSAodmFsdWUsIGRpbWVuc2lvbikgPT5cbiAgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS5lbmRzV2l0aCgnJScpID9cbiAgICBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMCAqIGRpbWVuc2lvblxuICAgIDogK3ZhbHVlO1xuZnVuY3Rpb24gY2FsbGJhY2soZm4sIGFyZ3MsIHRoaXNBcmcpIHtcbiAgaWYgKGZuICYmIHR5cGVvZiBmbi5jYWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG59XG5mdW5jdGlvbiBlYWNoKGxvb3BhYmxlLCBmbiwgdGhpc0FyZywgcmV2ZXJzZSkge1xuICBsZXQgaSwgbGVuLCBrZXlzO1xuICBpZiAoaXNBcnJheShsb29wYWJsZSkpIHtcbiAgICBsZW4gPSBsb29wYWJsZS5sZW5ndGg7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGZuLmNhbGwodGhpc0FyZywgbG9vcGFibGVbaV0sIGkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgZm4uY2FsbCh0aGlzQXJnLCBsb29wYWJsZVtpXSwgaSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxvb3BhYmxlKSkge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyhsb29wYWJsZSk7XG4gICAgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBmbi5jYWxsKHRoaXNBcmcsIGxvb3BhYmxlW2tleXNbaV1dLCBrZXlzW2ldKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIF9lbGVtZW50c0VxdWFsKGEwLCBhMSkge1xuICBsZXQgaSwgaWxlbiwgdjAsIHYxO1xuICBpZiAoIWEwIHx8ICFhMSB8fCBhMC5sZW5ndGggIT09IGExLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGkgPSAwLCBpbGVuID0gYTAubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgdjAgPSBhMFtpXTtcbiAgICB2MSA9IGExW2ldO1xuICAgIGlmICh2MC5kYXRhc2V0SW5kZXggIT09IHYxLmRhdGFzZXRJbmRleCB8fCB2MC5pbmRleCAhPT0gdjEuaW5kZXgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBjbG9uZSQxKHNvdXJjZSkge1xuICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZS5tYXAoY2xvbmUkMSk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgIGNvbnN0IGtsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgayA9IDA7XG4gICAgZm9yICg7IGsgPCBrbGVuOyArK2spIHtcbiAgICAgIHRhcmdldFtrZXlzW2tdXSA9IGNsb25lJDEoc291cmNlW2tleXNba11dKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICByZXR1cm4gc291cmNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcbiAgcmV0dXJuIFsnX19wcm90b19fJywgJ3Byb3RvdHlwZScsICdjb25zdHJ1Y3RvciddLmluZGV4T2Yoa2V5KSA9PT0gLTE7XG59XG5mdW5jdGlvbiBfbWVyZ2VyKGtleSwgdGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgaWYgKCFpc1ZhbGlkS2V5KGtleSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdHZhbCA9IHRhcmdldFtrZXldO1xuICBjb25zdCBzdmFsID0gc291cmNlW2tleV07XG4gIGlmIChpc09iamVjdCh0dmFsKSAmJiBpc09iamVjdChzdmFsKSkge1xuICAgIG1lcmdlKHR2YWwsIHN2YWwsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHRhcmdldFtrZXldID0gY2xvbmUkMShzdmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc291cmNlcyA9IGlzQXJyYXkoc291cmNlKSA/IHNvdXJjZSA6IFtzb3VyY2VdO1xuICBjb25zdCBpbGVuID0gc291cmNlcy5sZW5ndGg7XG4gIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IG1lcmdlciA9IG9wdGlvbnMubWVyZ2VyIHx8IF9tZXJnZXI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgc291cmNlID0gc291cmNlc1tpXTtcbiAgICBpZiAoIWlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICBmb3IgKGxldCBrID0gMCwga2xlbiA9IGtleXMubGVuZ3RoOyBrIDwga2xlbjsgKytrKSB7XG4gICAgICBtZXJnZXIoa2V5c1trXSwgdGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gbWVyZ2VJZih0YXJnZXQsIHNvdXJjZSkge1xuICByZXR1cm4gbWVyZ2UodGFyZ2V0LCBzb3VyY2UsIHttZXJnZXI6IF9tZXJnZXJJZn0pO1xufVxuZnVuY3Rpb24gX21lcmdlcklmKGtleSwgdGFyZ2V0LCBzb3VyY2UpIHtcbiAgaWYgKCFpc1ZhbGlkS2V5KGtleSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdHZhbCA9IHRhcmdldFtrZXldO1xuICBjb25zdCBzdmFsID0gc291cmNlW2tleV07XG4gIGlmIChpc09iamVjdCh0dmFsKSAmJiBpc09iamVjdChzdmFsKSkge1xuICAgIG1lcmdlSWYodHZhbCwgc3ZhbCk7XG4gIH0gZWxzZSBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICB0YXJnZXRba2V5XSA9IGNsb25lJDEoc3ZhbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIF9kZXByZWNhdGVkKHNjb3BlLCB2YWx1ZSwgcHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oc2NvcGUgKyAnOiBcIicgKyBwcmV2aW91cyArXG5cdFx0XHQnXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcIicgKyBjdXJyZW50ICsgJ1wiIGluc3RlYWQnKTtcbiAgfVxufVxuY29uc3Qga2V5UmVzb2x2ZXJzID0ge1xuICAnJzogdiA9PiB2LFxuICB4OiBvID0+IG8ueCxcbiAgeTogbyA9PiBvLnlcbn07XG5mdW5jdGlvbiByZXNvbHZlT2JqZWN0S2V5KG9iaiwga2V5KSB7XG4gIGNvbnN0IHJlc29sdmVyID0ga2V5UmVzb2x2ZXJzW2tleV0gfHwgKGtleVJlc29sdmVyc1trZXldID0gX2dldEtleVJlc29sdmVyKGtleSkpO1xuICByZXR1cm4gcmVzb2x2ZXIob2JqKTtcbn1cbmZ1bmN0aW9uIF9nZXRLZXlSZXNvbHZlcihrZXkpIHtcbiAgY29uc3Qga2V5cyA9IF9zcGxpdEtleShrZXkpO1xuICByZXR1cm4gb2JqID0+IHtcbiAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykge1xuICAgICAgaWYgKGsgPT09ICcnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgb2JqID0gb2JqICYmIG9ialtrXTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcbn1cbmZ1bmN0aW9uIF9zcGxpdEtleShrZXkpIHtcbiAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgY29uc3Qga2V5cyA9IFtdO1xuICBsZXQgdG1wID0gJyc7XG4gIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykge1xuICAgIHRtcCArPSBwYXJ0O1xuICAgIGlmICh0bXAuZW5kc1dpdGgoJ1xcXFwnKSkge1xuICAgICAgdG1wID0gdG1wLnNsaWNlKDAsIC0xKSArICcuJztcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cy5wdXNoKHRtcCk7XG4gICAgICB0bXAgPSAnJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5mdW5jdGlvbiBfY2FwaXRhbGl6ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn1cbmNvbnN0IGRlZmluZWQgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBpc0Z1bmN0aW9uID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG5jb25zdCBzZXRzRXF1YWwgPSAoYSwgYikgPT4ge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBpdGVtIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKGl0ZW0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbmZ1bmN0aW9uIF9pc0NsaWNrRXZlbnQoZSkge1xuICByZXR1cm4gZS50eXBlID09PSAnbW91c2V1cCcgfHwgZS50eXBlID09PSAnY2xpY2snIHx8IGUudHlwZSA9PT0gJ2NvbnRleHRtZW51Jztcbn1cblxuY29uc3QgUEkgPSBNYXRoLlBJO1xuY29uc3QgVEFVID0gMiAqIFBJO1xuY29uc3QgUElUQVUgPSBUQVUgKyBQSTtcbmNvbnN0IElORklOSVRZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuY29uc3QgUkFEX1BFUl9ERUcgPSBQSSAvIDE4MDtcbmNvbnN0IEhBTEZfUEkgPSBQSSAvIDI7XG5jb25zdCBRVUFSVEVSX1BJID0gUEkgLyA0O1xuY29uc3QgVFdPX1RISVJEU19QSSA9IFBJICogMiAvIDM7XG5jb25zdCBsb2cxMCA9IE1hdGgubG9nMTA7XG5jb25zdCBzaWduID0gTWF0aC5zaWduO1xuZnVuY3Rpb24gbmljZU51bShyYW5nZSkge1xuICBjb25zdCByb3VuZGVkUmFuZ2UgPSBNYXRoLnJvdW5kKHJhbmdlKTtcbiAgcmFuZ2UgPSBhbG1vc3RFcXVhbHMocmFuZ2UsIHJvdW5kZWRSYW5nZSwgcmFuZ2UgLyAxMDAwKSA/IHJvdW5kZWRSYW5nZSA6IHJhbmdlO1xuICBjb25zdCBuaWNlUmFuZ2UgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihsb2cxMChyYW5nZSkpKTtcbiAgY29uc3QgZnJhY3Rpb24gPSByYW5nZSAvIG5pY2VSYW5nZTtcbiAgY29uc3QgbmljZUZyYWN0aW9uID0gZnJhY3Rpb24gPD0gMSA/IDEgOiBmcmFjdGlvbiA8PSAyID8gMiA6IGZyYWN0aW9uIDw9IDUgPyA1IDogMTA7XG4gIHJldHVybiBuaWNlRnJhY3Rpb24gKiBuaWNlUmFuZ2U7XG59XG5mdW5jdGlvbiBfZmFjdG9yaXplKHZhbHVlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCBzcXJ0ID0gTWF0aC5zcXJ0KHZhbHVlKTtcbiAgbGV0IGk7XG4gIGZvciAoaSA9IDE7IGkgPCBzcXJ0OyBpKyspIHtcbiAgICBpZiAodmFsdWUgJSBpID09PSAwKSB7XG4gICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlIC8gaSk7XG4gICAgfVxuICB9XG4gIGlmIChzcXJ0ID09PSAoc3FydCB8IDApKSB7XG4gICAgcmVzdWx0LnB1c2goc3FydCk7XG4gIH1cbiAgcmVzdWx0LnNvcnQoKGEsIGIpID0+IGEgLSBiKS5wb3AoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGlzTnVtYmVyKG4pIHtcbiAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cbmZ1bmN0aW9uIGFsbW9zdEVxdWFscyh4LCB5LCBlcHNpbG9uKSB7XG4gIHJldHVybiBNYXRoLmFicyh4IC0geSkgPCBlcHNpbG9uO1xufVxuZnVuY3Rpb24gYWxtb3N0V2hvbGUoeCwgZXBzaWxvbikge1xuICBjb25zdCByb3VuZGVkID0gTWF0aC5yb3VuZCh4KTtcbiAgcmV0dXJuICgocm91bmRlZCAtIGVwc2lsb24pIDw9IHgpICYmICgocm91bmRlZCArIGVwc2lsb24pID49IHgpO1xufVxuZnVuY3Rpb24gX3NldE1pbkFuZE1heEJ5S2V5KGFycmF5LCB0YXJnZXQsIHByb3BlcnR5KSB7XG4gIGxldCBpLCBpbGVuLCB2YWx1ZTtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgIHZhbHVlID0gYXJyYXlbaV1bcHJvcGVydHldO1xuICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICB0YXJnZXQubWluID0gTWF0aC5taW4odGFyZ2V0Lm1pbiwgdmFsdWUpO1xuICAgICAgdGFyZ2V0Lm1heCA9IE1hdGgubWF4KHRhcmdldC5tYXgsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRvUmFkaWFucyhkZWdyZWVzKSB7XG4gIHJldHVybiBkZWdyZWVzICogKFBJIC8gMTgwKTtcbn1cbmZ1bmN0aW9uIHRvRGVncmVlcyhyYWRpYW5zKSB7XG4gIHJldHVybiByYWRpYW5zICogKDE4MCAvIFBJKTtcbn1cbmZ1bmN0aW9uIF9kZWNpbWFsUGxhY2VzKHgpIHtcbiAgaWYgKCFpc051bWJlckZpbml0ZSh4KSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZSA9IDE7XG4gIGxldCBwID0gMDtcbiAgd2hpbGUgKE1hdGgucm91bmQoeCAqIGUpIC8gZSAhPT0geCkge1xuICAgIGUgKj0gMTA7XG4gICAgcCsrO1xuICB9XG4gIHJldHVybiBwO1xufVxuZnVuY3Rpb24gZ2V0QW5nbGVGcm9tUG9pbnQoY2VudHJlUG9pbnQsIGFuZ2xlUG9pbnQpIHtcbiAgY29uc3QgZGlzdGFuY2VGcm9tWENlbnRlciA9IGFuZ2xlUG9pbnQueCAtIGNlbnRyZVBvaW50Lng7XG4gIGNvbnN0IGRpc3RhbmNlRnJvbVlDZW50ZXIgPSBhbmdsZVBvaW50LnkgLSBjZW50cmVQb2ludC55O1xuICBjb25zdCByYWRpYWxEaXN0YW5jZUZyb21DZW50ZXIgPSBNYXRoLnNxcnQoZGlzdGFuY2VGcm9tWENlbnRlciAqIGRpc3RhbmNlRnJvbVhDZW50ZXIgKyBkaXN0YW5jZUZyb21ZQ2VudGVyICogZGlzdGFuY2VGcm9tWUNlbnRlcik7XG4gIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZGlzdGFuY2VGcm9tWUNlbnRlciwgZGlzdGFuY2VGcm9tWENlbnRlcik7XG4gIGlmIChhbmdsZSA8ICgtMC41ICogUEkpKSB7XG4gICAgYW5nbGUgKz0gVEFVO1xuICB9XG4gIHJldHVybiB7XG4gICAgYW5nbGUsXG4gICAgZGlzdGFuY2U6IHJhZGlhbERpc3RhbmNlRnJvbUNlbnRlclxuICB9O1xufVxuZnVuY3Rpb24gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKHB0MSwgcHQyKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3cocHQyLnggLSBwdDEueCwgMikgKyBNYXRoLnBvdyhwdDIueSAtIHB0MS55LCAyKSk7XG59XG5mdW5jdGlvbiBfYW5nbGVEaWZmKGEsIGIpIHtcbiAgcmV0dXJuIChhIC0gYiArIFBJVEFVKSAlIFRBVSAtIFBJO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZUFuZ2xlKGEpIHtcbiAgcmV0dXJuIChhICUgVEFVICsgVEFVKSAlIFRBVTtcbn1cbmZ1bmN0aW9uIF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0LCBlbmQsIHNhbWVBbmdsZUlzRnVsbENpcmNsZSkge1xuICBjb25zdCBhID0gX25vcm1hbGl6ZUFuZ2xlKGFuZ2xlKTtcbiAgY29uc3QgcyA9IF9ub3JtYWxpemVBbmdsZShzdGFydCk7XG4gIGNvbnN0IGUgPSBfbm9ybWFsaXplQW5nbGUoZW5kKTtcbiAgY29uc3QgYW5nbGVUb1N0YXJ0ID0gX25vcm1hbGl6ZUFuZ2xlKHMgLSBhKTtcbiAgY29uc3QgYW5nbGVUb0VuZCA9IF9ub3JtYWxpemVBbmdsZShlIC0gYSk7XG4gIGNvbnN0IHN0YXJ0VG9BbmdsZSA9IF9ub3JtYWxpemVBbmdsZShhIC0gcyk7XG4gIGNvbnN0IGVuZFRvQW5nbGUgPSBfbm9ybWFsaXplQW5nbGUoYSAtIGUpO1xuICByZXR1cm4gYSA9PT0gcyB8fCBhID09PSBlIHx8IChzYW1lQW5nbGVJc0Z1bGxDaXJjbGUgJiYgcyA9PT0gZSlcbiAgICB8fCAoYW5nbGVUb1N0YXJ0ID4gYW5nbGVUb0VuZCAmJiBzdGFydFRvQW5nbGUgPCBlbmRUb0FuZ2xlKTtcbn1cbmZ1bmN0aW9uIF9saW1pdFZhbHVlKHZhbHVlLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBfaW50MTZSYW5nZSh2YWx1ZSkge1xuICByZXR1cm4gX2xpbWl0VmFsdWUodmFsdWUsIC0zMjc2OCwgMzI3NjcpO1xufVxuZnVuY3Rpb24gX2lzQmV0d2Vlbih2YWx1ZSwgc3RhcnQsIGVuZCwgZXBzaWxvbiA9IDFlLTYpIHtcbiAgcmV0dXJuIHZhbHVlID49IE1hdGgubWluKHN0YXJ0LCBlbmQpIC0gZXBzaWxvbiAmJiB2YWx1ZSA8PSBNYXRoLm1heChzdGFydCwgZW5kKSArIGVwc2lsb247XG59XG5cbmZ1bmN0aW9uIF9sb29rdXAodGFibGUsIHZhbHVlLCBjbXApIHtcbiAgY21wID0gY21wIHx8ICgoaW5kZXgpID0+IHRhYmxlW2luZGV4XSA8IHZhbHVlKTtcbiAgbGV0IGhpID0gdGFibGUubGVuZ3RoIC0gMTtcbiAgbGV0IGxvID0gMDtcbiAgbGV0IG1pZDtcbiAgd2hpbGUgKGhpIC0gbG8gPiAxKSB7XG4gICAgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgaWYgKGNtcChtaWQpKSB7XG4gICAgICBsbyA9IG1pZDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGkgPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiB7bG8sIGhpfTtcbn1cbmNvbnN0IF9sb29rdXBCeUtleSA9ICh0YWJsZSwga2V5LCB2YWx1ZSwgbGFzdCkgPT5cbiAgX2xvb2t1cCh0YWJsZSwgdmFsdWUsIGxhc3RcbiAgICA/IGluZGV4ID0+IHRhYmxlW2luZGV4XVtrZXldIDw9IHZhbHVlXG4gICAgOiBpbmRleCA9PiB0YWJsZVtpbmRleF1ba2V5XSA8IHZhbHVlKTtcbmNvbnN0IF9ybG9va3VwQnlLZXkgPSAodGFibGUsIGtleSwgdmFsdWUpID0+XG4gIF9sb29rdXAodGFibGUsIHZhbHVlLCBpbmRleCA9PiB0YWJsZVtpbmRleF1ba2V5XSA+PSB2YWx1ZSk7XG5mdW5jdGlvbiBfZmlsdGVyQmV0d2Vlbih2YWx1ZXMsIG1pbiwgbWF4KSB7XG4gIGxldCBzdGFydCA9IDA7XG4gIGxldCBlbmQgPSB2YWx1ZXMubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQgJiYgdmFsdWVzW3N0YXJ0XSA8IG1pbikge1xuICAgIHN0YXJ0Kys7XG4gIH1cbiAgd2hpbGUgKGVuZCA+IHN0YXJ0ICYmIHZhbHVlc1tlbmQgLSAxXSA+IG1heCkge1xuICAgIGVuZC0tO1xuICB9XG4gIHJldHVybiBzdGFydCA+IDAgfHwgZW5kIDwgdmFsdWVzLmxlbmd0aFxuICAgID8gdmFsdWVzLnNsaWNlKHN0YXJ0LCBlbmQpXG4gICAgOiB2YWx1ZXM7XG59XG5jb25zdCBhcnJheUV2ZW50cyA9IFsncHVzaCcsICdwb3AnLCAnc2hpZnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXTtcbmZ1bmN0aW9uIGxpc3RlbkFycmF5RXZlbnRzKGFycmF5LCBsaXN0ZW5lcikge1xuICBpZiAoYXJyYXkuX2NoYXJ0anMpIHtcbiAgICBhcnJheS5fY2hhcnRqcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcnJheSwgJ19jaGFydGpzJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZToge1xuICAgICAgbGlzdGVuZXJzOiBbbGlzdGVuZXJdXG4gICAgfVxuICB9KTtcbiAgYXJyYXlFdmVudHMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgbWV0aG9kID0gJ19vbkRhdGEnICsgX2NhcGl0YWxpemUoa2V5KTtcbiAgICBjb25zdCBiYXNlID0gYXJyYXlba2V5XTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXJyYXksIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGJhc2UuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIGFycmF5Ll9jaGFydGpzLmxpc3RlbmVycy5mb3JFYWNoKChvYmplY3QpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvYmplY3RbbWV0aG9kXSguLi5hcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVubGlzdGVuQXJyYXlFdmVudHMoYXJyYXksIGxpc3RlbmVyKSB7XG4gIGNvbnN0IHN0dWIgPSBhcnJheS5fY2hhcnRqcztcbiAgaWYgKCFzdHViKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGxpc3RlbmVycyA9IHN0dWIubGlzdGVuZXJzO1xuICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG4gIGlmIChsaXN0ZW5lcnMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBhcnJheUV2ZW50cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBkZWxldGUgYXJyYXlba2V5XTtcbiAgfSk7XG4gIGRlbGV0ZSBhcnJheS5fY2hhcnRqcztcbn1cbmZ1bmN0aW9uIF9hcnJheVVuaXF1ZShpdGVtcykge1xuICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gIGxldCBpLCBpbGVuO1xuICBmb3IgKGkgPSAwLCBpbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgc2V0LmFkZChpdGVtc1tpXSk7XG4gIH1cbiAgaWYgKHNldC5zaXplID09PSBpbGVuKSB7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG4gIHJldHVybiBBcnJheS5mcm9tKHNldCk7XG59XG5cbmZ1bmN0aW9uIGZvbnRTdHJpbmcocGl4ZWxTaXplLCBmb250U3R5bGUsIGZvbnRGYW1pbHkpIHtcbiAgcmV0dXJuIGZvbnRTdHlsZSArICcgJyArIHBpeGVsU2l6ZSArICdweCAnICsgZm9udEZhbWlseTtcbn1cbmNvbnN0IHJlcXVlc3RBbmltRnJhbWUgPSAoZnVuY3Rpb24oKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbn0oKSk7XG5mdW5jdGlvbiB0aHJvdHRsZWQoZm4sIHRoaXNBcmcsIHVwZGF0ZUZuKSB7XG4gIGNvbnN0IHVwZGF0ZUFyZ3MgPSB1cGRhdGVGbiB8fCAoKGFyZ3MpID0+IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpKTtcbiAgbGV0IHRpY2tpbmcgPSBmYWxzZTtcbiAgbGV0IGFyZ3MgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLnJlc3QpIHtcbiAgICBhcmdzID0gdXBkYXRlQXJncyhyZXN0KTtcbiAgICBpZiAoIXRpY2tpbmcpIHtcbiAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdywgKCkgPT4ge1xuICAgICAgICB0aWNraW5nID0gZmFsc2U7XG4gICAgICAgIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIGRlbGF5KSB7XG4gIGxldCB0aW1lb3V0O1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmIChkZWxheSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZm4sIGRlbGF5LCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBkZWxheTtcbiAgfTtcbn1cbmNvbnN0IF90b0xlZnRSaWdodENlbnRlciA9IChhbGlnbikgPT4gYWxpZ24gPT09ICdzdGFydCcgPyAnbGVmdCcgOiBhbGlnbiA9PT0gJ2VuZCcgPyAncmlnaHQnIDogJ2NlbnRlcic7XG5jb25zdCBfYWxpZ25TdGFydEVuZCA9IChhbGlnbiwgc3RhcnQsIGVuZCkgPT4gYWxpZ24gPT09ICdzdGFydCcgPyBzdGFydCA6IGFsaWduID09PSAnZW5kJyA/IGVuZCA6IChzdGFydCArIGVuZCkgLyAyO1xuY29uc3QgX3RleHRYID0gKGFsaWduLCBsZWZ0LCByaWdodCwgcnRsKSA9PiB7XG4gIGNvbnN0IGNoZWNrID0gcnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgcmV0dXJuIGFsaWduID09PSBjaGVjayA/IHJpZ2h0IDogYWxpZ24gPT09ICdjZW50ZXInID8gKGxlZnQgKyByaWdodCkgLyAyIDogbGVmdDtcbn07XG5mdW5jdGlvbiBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyhtZXRhLCBwb2ludHMsIGFuaW1hdGlvbnNEaXNhYmxlZCkge1xuICBjb25zdCBwb2ludENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgbGV0IGNvdW50ID0gcG9pbnRDb3VudDtcbiAgaWYgKG1ldGEuX3NvcnRlZCkge1xuICAgIGNvbnN0IHtpU2NhbGUsIF9wYXJzZWR9ID0gbWV0YTtcbiAgICBjb25zdCBheGlzID0gaVNjYWxlLmF4aXM7XG4gICAgY29uc3Qge21pbiwgbWF4LCBtaW5EZWZpbmVkLCBtYXhEZWZpbmVkfSA9IGlTY2FsZS5nZXRVc2VyQm91bmRzKCk7XG4gICAgaWYgKG1pbkRlZmluZWQpIHtcbiAgICAgIHN0YXJ0ID0gX2xpbWl0VmFsdWUoTWF0aC5taW4oXG4gICAgICAgIF9sb29rdXBCeUtleShfcGFyc2VkLCBpU2NhbGUuYXhpcywgbWluKS5sbyxcbiAgICAgICAgYW5pbWF0aW9uc0Rpc2FibGVkID8gcG9pbnRDb3VudCA6IF9sb29rdXBCeUtleShwb2ludHMsIGF4aXMsIGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKG1pbikpLmxvKSxcbiAgICAgIDAsIHBvaW50Q291bnQgLSAxKTtcbiAgICB9XG4gICAgaWYgKG1heERlZmluZWQpIHtcbiAgICAgIGNvdW50ID0gX2xpbWl0VmFsdWUoTWF0aC5tYXgoXG4gICAgICAgIF9sb29rdXBCeUtleShfcGFyc2VkLCBpU2NhbGUuYXhpcywgbWF4LCB0cnVlKS5oaSArIDEsXG4gICAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCA/IDAgOiBfbG9va3VwQnlLZXkocG9pbnRzLCBheGlzLCBpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShtYXgpLCB0cnVlKS5oaSArIDEpLFxuICAgICAgc3RhcnQsIHBvaW50Q291bnQpIC0gc3RhcnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gcG9pbnRDb3VudCAtIHN0YXJ0O1xuICAgIH1cbiAgfVxuICByZXR1cm4ge3N0YXJ0LCBjb3VudH07XG59XG5mdW5jdGlvbiBfc2NhbGVSYW5nZXNDaGFuZ2VkKG1ldGEpIHtcbiAgY29uc3Qge3hTY2FsZSwgeVNjYWxlLCBfc2NhbGVSYW5nZXN9ID0gbWV0YTtcbiAgY29uc3QgbmV3UmFuZ2VzID0ge1xuICAgIHhtaW46IHhTY2FsZS5taW4sXG4gICAgeG1heDogeFNjYWxlLm1heCxcbiAgICB5bWluOiB5U2NhbGUubWluLFxuICAgIHltYXg6IHlTY2FsZS5tYXhcbiAgfTtcbiAgaWYgKCFfc2NhbGVSYW5nZXMpIHtcbiAgICBtZXRhLl9zY2FsZVJhbmdlcyA9IG5ld1JhbmdlcztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCBjaGFuZ2VkID0gX3NjYWxlUmFuZ2VzLnhtaW4gIT09IHhTY2FsZS5taW5cblx0XHR8fCBfc2NhbGVSYW5nZXMueG1heCAhPT0geFNjYWxlLm1heFxuXHRcdHx8IF9zY2FsZVJhbmdlcy55bWluICE9PSB5U2NhbGUubWluXG5cdFx0fHwgX3NjYWxlUmFuZ2VzLnltYXggIT09IHlTY2FsZS5tYXg7XG4gIE9iamVjdC5hc3NpZ24oX3NjYWxlUmFuZ2VzLCBuZXdSYW5nZXMpO1xuICByZXR1cm4gY2hhbmdlZDtcbn1cblxuY29uc3QgYXRFZGdlID0gKHQpID0+IHQgPT09IDAgfHwgdCA9PT0gMTtcbmNvbnN0IGVsYXN0aWNJbiA9ICh0LCBzLCBwKSA9PiAtKE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgLSBzKSAqIFRBVSAvIHApKTtcbmNvbnN0IGVsYXN0aWNPdXQgPSAodCwgcywgcCkgPT4gTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAtIHMpICogVEFVIC8gcCkgKyAxO1xuY29uc3QgZWZmZWN0cyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IC10ICogKHQgLSAyKSxcbiAgZWFzZUluT3V0UXVhZDogdCA9PiAoKHQgLz0gMC41KSA8IDEpXG4gICAgPyAwLjUgKiB0ICogdFxuICAgIDogLTAuNSAqICgoLS10KSAqICh0IC0gMikgLSAxKSxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gKHQgLT0gMSkgKiB0ICogdCArIDEsXG4gIGVhc2VJbk91dEN1YmljOiB0ID0+ICgodCAvPSAwLjUpIDwgMSlcbiAgICA/IDAuNSAqIHQgKiB0ICogdFxuICAgIDogMC41ICogKCh0IC09IDIpICogdCAqIHQgKyAyKSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IC0oKHQgLT0gMSkgKiB0ICogdCAqIHQgLSAxKSxcbiAgZWFzZUluT3V0UXVhcnQ6IHQgPT4gKCh0IC89IDAuNSkgPCAxKVxuICAgID8gMC41ICogdCAqIHQgKiB0ICogdFxuICAgIDogLTAuNSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpLFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+ICh0IC09IDEpICogdCAqIHQgKiB0ICogdCArIDEsXG4gIGVhc2VJbk91dFF1aW50OiB0ID0+ICgodCAvPSAwLjUpIDwgMSlcbiAgICA/IDAuNSAqIHQgKiB0ICogdCAqIHQgKiB0XG4gICAgOiAwLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMiksXG4gIGVhc2VJblNpbmU6IHQgPT4gLU1hdGguY29zKHQgKiBIQUxGX1BJKSArIDEsXG4gIGVhc2VPdXRTaW5lOiB0ID0+IE1hdGguc2luKHQgKiBIQUxGX1BJKSxcbiAgZWFzZUluT3V0U2luZTogdCA9PiAtMC41ICogKE1hdGguY29zKFBJICogdCkgLSAxKSxcbiAgZWFzZUluRXhwbzogdCA9PiAodCA9PT0gMCkgPyAwIDogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSxcbiAgZWFzZU91dEV4cG86IHQgPT4gKHQgPT09IDEpID8gMSA6IC1NYXRoLnBvdygyLCAtMTAgKiB0KSArIDEsXG4gIGVhc2VJbk91dEV4cG86IHQgPT4gYXRFZGdlKHQpID8gdCA6IHQgPCAwLjVcbiAgICA/IDAuNSAqIE1hdGgucG93KDIsIDEwICogKHQgKiAyIC0gMSkpXG4gICAgOiAwLjUgKiAoLU1hdGgucG93KDIsIC0xMCAqICh0ICogMiAtIDEpKSArIDIpLFxuICBlYXNlSW5DaXJjOiB0ID0+ICh0ID49IDEpID8gdCA6IC0oTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSxcbiAgZWFzZU91dENpcmM6IHQgPT4gTWF0aC5zcXJ0KDEgLSAodCAtPSAxKSAqIHQpLFxuICBlYXNlSW5PdXRDaXJjOiB0ID0+ICgodCAvPSAwLjUpIDwgMSlcbiAgICA/IC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKVxuICAgIDogMC41ICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpLFxuICBlYXNlSW5FbGFzdGljOiB0ID0+IGF0RWRnZSh0KSA/IHQgOiBlbGFzdGljSW4odCwgMC4wNzUsIDAuMyksXG4gIGVhc2VPdXRFbGFzdGljOiB0ID0+IGF0RWRnZSh0KSA/IHQgOiBlbGFzdGljT3V0KHQsIDAuMDc1LCAwLjMpLFxuICBlYXNlSW5PdXRFbGFzdGljKHQpIHtcbiAgICBjb25zdCBzID0gMC4xMTI1O1xuICAgIGNvbnN0IHAgPSAwLjQ1O1xuICAgIHJldHVybiBhdEVkZ2UodCkgPyB0IDpcbiAgICAgIHQgPCAwLjVcbiAgICAgICAgPyAwLjUgKiBlbGFzdGljSW4odCAqIDIsIHMsIHApXG4gICAgICAgIDogMC41ICsgMC41ICogZWxhc3RpY091dCh0ICogMiAtIDEsIHMsIHApO1xuICB9LFxuICBlYXNlSW5CYWNrKHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1ODtcbiAgICByZXR1cm4gdCAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKTtcbiAgfSxcbiAgZWFzZU91dEJhY2sodCkge1xuICAgIGNvbnN0IHMgPSAxLjcwMTU4O1xuICAgIHJldHVybiAodCAtPSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDE7XG4gIH0sXG4gIGVhc2VJbk91dEJhY2sodCkge1xuICAgIGxldCBzID0gMS43MDE1ODtcbiAgICBpZiAoKHQgLz0gMC41KSA8IDEpIHtcbiAgICAgIHJldHVybiAwLjUgKiAodCAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0IC0gcykpO1xuICAgIH1cbiAgICByZXR1cm4gMC41ICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgKyBzKSArIDIpO1xuICB9LFxuICBlYXNlSW5Cb3VuY2U6IHQgPT4gMSAtIGVmZmVjdHMuZWFzZU91dEJvdW5jZSgxIC0gdCksXG4gIGVhc2VPdXRCb3VuY2UodCkge1xuICAgIGNvbnN0IG0gPSA3LjU2MjU7XG4gICAgY29uc3QgZCA9IDIuNzU7XG4gICAgaWYgKHQgPCAoMSAvIGQpKSB7XG4gICAgICByZXR1cm4gbSAqIHQgKiB0O1xuICAgIH1cbiAgICBpZiAodCA8ICgyIC8gZCkpIHtcbiAgICAgIHJldHVybiBtICogKHQgLT0gKDEuNSAvIGQpKSAqIHQgKyAwLjc1O1xuICAgIH1cbiAgICBpZiAodCA8ICgyLjUgLyBkKSkge1xuICAgICAgcmV0dXJuIG0gKiAodCAtPSAoMi4yNSAvIGQpKSAqIHQgKyAwLjkzNzU7XG4gICAgfVxuICAgIHJldHVybiBtICogKHQgLT0gKDIuNjI1IC8gZCkpICogdCArIDAuOTg0Mzc1O1xuICB9LFxuICBlYXNlSW5PdXRCb3VuY2U6IHQgPT4gKHQgPCAwLjUpXG4gICAgPyBlZmZlY3RzLmVhc2VJbkJvdW5jZSh0ICogMikgKiAwLjVcbiAgICA6IGVmZmVjdHMuZWFzZU91dEJvdW5jZSh0ICogMiAtIDEpICogMC41ICsgMC41LFxufTtcblxuLyohXG4gKiBAa3Vya2xlL2NvbG9yIHYwLjIuMVxuICogaHR0cHM6Ly9naXRodWIuY29tL2t1cmtsZS9jb2xvciNyZWFkbWVcbiAqIChjKSAyMDIyIEp1a2thIEt1cmtlbGFcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5mdW5jdGlvbiByb3VuZCh2KSB7XG4gIHJldHVybiB2ICsgMC41IHwgMDtcbn1cbmNvbnN0IGxpbSA9ICh2LCBsLCBoKSA9PiBNYXRoLm1heChNYXRoLm1pbih2LCBoKSwgbCk7XG5mdW5jdGlvbiBwMmIodikge1xuICByZXR1cm4gbGltKHJvdW5kKHYgKiAyLjU1KSwgMCwgMjU1KTtcbn1cbmZ1bmN0aW9uIG4yYih2KSB7XG4gIHJldHVybiBsaW0ocm91bmQodiAqIDI1NSksIDAsIDI1NSk7XG59XG5mdW5jdGlvbiBiMm4odikge1xuICByZXR1cm4gbGltKHJvdW5kKHYgLyAyLjU1KSAvIDEwMCwgMCwgMSk7XG59XG5mdW5jdGlvbiBuMnAodikge1xuICByZXR1cm4gbGltKHJvdW5kKHYgKiAxMDApLCAwLCAxMDApO1xufVxuY29uc3QgbWFwJDEgPSB7MDogMCwgMTogMSwgMjogMiwgMzogMywgNDogNCwgNTogNSwgNjogNiwgNzogNywgODogOCwgOTogOSwgQTogMTAsIEI6IDExLCBDOiAxMiwgRDogMTMsIEU6IDE0LCBGOiAxNSwgYTogMTAsIGI6IDExLCBjOiAxMiwgZDogMTMsIGU6IDE0LCBmOiAxNX07XG5jb25zdCBoZXggPSBbLi4uJzAxMjM0NTY3ODlBQkNERUYnXTtcbmNvbnN0IGgxID0gYiA9PiBoZXhbYiAmIDB4Rl07XG5jb25zdCBoMiA9IGIgPT4gaGV4WyhiICYgMHhGMCkgPj4gNF0gKyBoZXhbYiAmIDB4Rl07XG5jb25zdCBlcSA9IGIgPT4gKChiICYgMHhGMCkgPj4gNCkgPT09IChiICYgMHhGKTtcbmNvbnN0IGlzU2hvcnQgPSB2ID0+IGVxKHYucikgJiYgZXEodi5nKSAmJiBlcSh2LmIpICYmIGVxKHYuYSk7XG5mdW5jdGlvbiBoZXhQYXJzZShzdHIpIHtcbiAgdmFyIGxlbiA9IHN0ci5sZW5ndGg7XG4gIHZhciByZXQ7XG4gIGlmIChzdHJbMF0gPT09ICcjJykge1xuICAgIGlmIChsZW4gPT09IDQgfHwgbGVuID09PSA1KSB7XG4gICAgICByZXQgPSB7XG4gICAgICAgIHI6IDI1NSAmIG1hcCQxW3N0clsxXV0gKiAxNyxcbiAgICAgICAgZzogMjU1ICYgbWFwJDFbc3RyWzJdXSAqIDE3LFxuICAgICAgICBiOiAyNTUgJiBtYXAkMVtzdHJbM11dICogMTcsXG4gICAgICAgIGE6IGxlbiA9PT0gNSA/IG1hcCQxW3N0cls0XV0gKiAxNyA6IDI1NVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGxlbiA9PT0gNyB8fCBsZW4gPT09IDkpIHtcbiAgICAgIHJldCA9IHtcbiAgICAgICAgcjogbWFwJDFbc3RyWzFdXSA8PCA0IHwgbWFwJDFbc3RyWzJdXSxcbiAgICAgICAgZzogbWFwJDFbc3RyWzNdXSA8PCA0IHwgbWFwJDFbc3RyWzRdXSxcbiAgICAgICAgYjogbWFwJDFbc3RyWzVdXSA8PCA0IHwgbWFwJDFbc3RyWzZdXSxcbiAgICAgICAgYTogbGVuID09PSA5ID8gKG1hcCQxW3N0cls3XV0gPDwgNCB8IG1hcCQxW3N0cls4XV0pIDogMjU1XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuY29uc3QgYWxwaGEgPSAoYSwgZikgPT4gYSA8IDI1NSA/IGYoYSkgOiAnJztcbmZ1bmN0aW9uIGhleFN0cmluZyh2KSB7XG4gIHZhciBmID0gaXNTaG9ydCh2KSA/IGgxIDogaDI7XG4gIHJldHVybiB2XG4gICAgPyAnIycgKyBmKHYucikgKyBmKHYuZykgKyBmKHYuYikgKyBhbHBoYSh2LmEsIGYpXG4gICAgOiB1bmRlZmluZWQ7XG59XG5jb25zdCBIVUVfUkUgPSAvXihoc2xhP3xod2J8aHN2KVxcKFxccyooWy0rLmVcXGRdKykoPzpkZWcpP1tcXHMsXSsoWy0rLmVcXGRdKyklW1xccyxdKyhbLSsuZVxcZF0rKSUoPzpbXFxzLF0rKFstKy5lXFxkXSspKCUpPyk/XFxzKlxcKSQvO1xuZnVuY3Rpb24gaHNsMnJnYm4oaCwgcywgbCkge1xuICBjb25zdCBhID0gcyAqIE1hdGgubWluKGwsIDEgLSBsKTtcbiAgY29uc3QgZiA9IChuLCBrID0gKG4gKyBoIC8gMzApICUgMTIpID0+IGwgLSBhICogTWF0aC5tYXgoTWF0aC5taW4oayAtIDMsIDkgLSBrLCAxKSwgLTEpO1xuICByZXR1cm4gW2YoMCksIGYoOCksIGYoNCldO1xufVxuZnVuY3Rpb24gaHN2MnJnYm4oaCwgcywgdikge1xuICBjb25zdCBmID0gKG4sIGsgPSAobiArIGggLyA2MCkgJSA2KSA9PiB2IC0gdiAqIHMgKiBNYXRoLm1heChNYXRoLm1pbihrLCA0IC0gaywgMSksIDApO1xuICByZXR1cm4gW2YoNSksIGYoMyksIGYoMSldO1xufVxuZnVuY3Rpb24gaHdiMnJnYm4oaCwgdywgYikge1xuICBjb25zdCByZ2IgPSBoc2wycmdibihoLCAxLCAwLjUpO1xuICBsZXQgaTtcbiAgaWYgKHcgKyBiID4gMSkge1xuICAgIGkgPSAxIC8gKHcgKyBiKTtcbiAgICB3ICo9IGk7XG4gICAgYiAqPSBpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICByZ2JbaV0gKj0gMSAtIHcgLSBiO1xuICAgIHJnYltpXSArPSB3O1xuICB9XG4gIHJldHVybiByZ2I7XG59XG5mdW5jdGlvbiBodWVWYWx1ZShyLCBnLCBiLCBkLCBtYXgpIHtcbiAgaWYgKHIgPT09IG1heCkge1xuICAgIHJldHVybiAoKGcgLSBiKSAvIGQpICsgKGcgPCBiID8gNiA6IDApO1xuICB9XG4gIGlmIChnID09PSBtYXgpIHtcbiAgICByZXR1cm4gKGIgLSByKSAvIGQgKyAyO1xuICB9XG4gIHJldHVybiAociAtIGcpIC8gZCArIDQ7XG59XG5mdW5jdGlvbiByZ2IyaHNsKHYpIHtcbiAgY29uc3QgcmFuZ2UgPSAyNTU7XG4gIGNvbnN0IHIgPSB2LnIgLyByYW5nZTtcbiAgY29uc3QgZyA9IHYuZyAvIHJhbmdlO1xuICBjb25zdCBiID0gdi5iIC8gcmFuZ2U7XG4gIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgbGV0IGgsIHMsIGQ7XG4gIGlmIChtYXggIT09IG1pbikge1xuICAgIGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgIGggPSBodWVWYWx1ZShyLCBnLCBiLCBkLCBtYXgpO1xuICAgIGggPSBoICogNjAgKyAwLjU7XG4gIH1cbiAgcmV0dXJuIFtoIHwgMCwgcyB8fCAwLCBsXTtcbn1cbmZ1bmN0aW9uIGNhbGxuKGYsIGEsIGIsIGMpIHtcbiAgcmV0dXJuIChcbiAgICBBcnJheS5pc0FycmF5KGEpXG4gICAgICA/IGYoYVswXSwgYVsxXSwgYVsyXSlcbiAgICAgIDogZihhLCBiLCBjKVxuICApLm1hcChuMmIpO1xufVxuZnVuY3Rpb24gaHNsMnJnYihoLCBzLCBsKSB7XG4gIHJldHVybiBjYWxsbihoc2wycmdibiwgaCwgcywgbCk7XG59XG5mdW5jdGlvbiBod2IycmdiKGgsIHcsIGIpIHtcbiAgcmV0dXJuIGNhbGxuKGh3YjJyZ2JuLCBoLCB3LCBiKTtcbn1cbmZ1bmN0aW9uIGhzdjJyZ2IoaCwgcywgdikge1xuICByZXR1cm4gY2FsbG4oaHN2MnJnYm4sIGgsIHMsIHYpO1xufVxuZnVuY3Rpb24gaHVlKGgpIHtcbiAgcmV0dXJuIChoICUgMzYwICsgMzYwKSAlIDM2MDtcbn1cbmZ1bmN0aW9uIGh1ZVBhcnNlKHN0cikge1xuICBjb25zdCBtID0gSFVFX1JFLmV4ZWMoc3RyKTtcbiAgbGV0IGEgPSAyNTU7XG4gIGxldCB2O1xuICBpZiAoIW0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1bNV0gIT09IHYpIHtcbiAgICBhID0gbVs2XSA/IHAyYigrbVs1XSkgOiBuMmIoK21bNV0pO1xuICB9XG4gIGNvbnN0IGggPSBodWUoK21bMl0pO1xuICBjb25zdCBwMSA9ICttWzNdIC8gMTAwO1xuICBjb25zdCBwMiA9ICttWzRdIC8gMTAwO1xuICBpZiAobVsxXSA9PT0gJ2h3YicpIHtcbiAgICB2ID0gaHdiMnJnYihoLCBwMSwgcDIpO1xuICB9IGVsc2UgaWYgKG1bMV0gPT09ICdoc3YnKSB7XG4gICAgdiA9IGhzdjJyZ2IoaCwgcDEsIHAyKTtcbiAgfSBlbHNlIHtcbiAgICB2ID0gaHNsMnJnYihoLCBwMSwgcDIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgcjogdlswXSxcbiAgICBnOiB2WzFdLFxuICAgIGI6IHZbMl0sXG4gICAgYTogYVxuICB9O1xufVxuZnVuY3Rpb24gcm90YXRlKHYsIGRlZykge1xuICB2YXIgaCA9IHJnYjJoc2wodik7XG4gIGhbMF0gPSBodWUoaFswXSArIGRlZyk7XG4gIGggPSBoc2wycmdiKGgpO1xuICB2LnIgPSBoWzBdO1xuICB2LmcgPSBoWzFdO1xuICB2LmIgPSBoWzJdO1xufVxuZnVuY3Rpb24gaHNsU3RyaW5nKHYpIHtcbiAgaWYgKCF2KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGEgPSByZ2IyaHNsKHYpO1xuICBjb25zdCBoID0gYVswXTtcbiAgY29uc3QgcyA9IG4ycChhWzFdKTtcbiAgY29uc3QgbCA9IG4ycChhWzJdKTtcbiAgcmV0dXJuIHYuYSA8IDI1NVxuICAgID8gYGhzbGEoJHtofSwgJHtzfSUsICR7bH0lLCAke2Iybih2LmEpfSlgXG4gICAgOiBgaHNsKCR7aH0sICR7c30lLCAke2x9JSlgO1xufVxuY29uc3QgbWFwID0ge1xuICB4OiAnZGFyaycsXG4gIFo6ICdsaWdodCcsXG4gIFk6ICdyZScsXG4gIFg6ICdibHUnLFxuICBXOiAnZ3InLFxuICBWOiAnbWVkaXVtJyxcbiAgVTogJ3NsYXRlJyxcbiAgQTogJ2VlJyxcbiAgVDogJ29sJyxcbiAgUzogJ29yJyxcbiAgQjogJ3JhJyxcbiAgQzogJ2xhdGVnJyxcbiAgRDogJ2lnaHRzJyxcbiAgUjogJ2luJyxcbiAgUTogJ3R1cnF1b2lzJyxcbiAgRTogJ2hpJyxcbiAgUDogJ3JvJyxcbiAgTzogJ2FsJyxcbiAgTjogJ2xlJyxcbiAgTTogJ2RlJyxcbiAgTDogJ3llbGxvJyxcbiAgRjogJ2VuJyxcbiAgSzogJ2NoJyxcbiAgRzogJ2Fya3MnLFxuICBIOiAnZWEnLFxuICBJOiAnaWdodGcnLFxuICBKOiAnd2gnXG59O1xuY29uc3QgbmFtZXMkMSA9IHtcbiAgT2ljZVhlOiAnZjBmOGZmJyxcbiAgYW50aXF1ZXdFdGU6ICdmYWViZDcnLFxuICBhcXVhOiAnZmZmZicsXG4gIGFxdWFtYXJSZTogJzdmZmZkNCcsXG4gIGF6dVk6ICdmMGZmZmYnLFxuICBiZWlnZTogJ2Y1ZjVkYycsXG4gIGJpc3F1ZTogJ2ZmZTRjNCcsXG4gIGJsYWNrOiAnMCcsXG4gIGJsYW5LZWRPbW9uZDogJ2ZmZWJjZCcsXG4gIFhlOiAnZmYnLFxuICBYZXZpVGV0OiAnOGEyYmUyJyxcbiAgYlB3bjogJ2E1MmEyYScsXG4gIGJ1cmx5d29vZDogJ2RlYjg4NycsXG4gIGNhTXRYZTogJzVmOWVhMCcsXG4gIEthcnRZdXNlOiAnN2ZmZjAwJyxcbiAgS29jVGF0ZTogJ2QyNjkxZScsXG4gIGNTTzogJ2ZmN2Y1MCcsXG4gIGNTbmZsb3dlclhlOiAnNjQ5NWVkJyxcbiAgY1Nuc2lsazogJ2ZmZjhkYycsXG4gIGNyaW1zb246ICdkYzE0M2MnLFxuICBjeWFuOiAnZmZmZicsXG4gIHhYZTogJzhiJyxcbiAgeGN5YW46ICc4YjhiJyxcbiAgeGdUTW5QZDogJ2I4ODYwYicsXG4gIHhXYXk6ICdhOWE5YTknLFxuICB4Z1lGOiAnNjQwMCcsXG4gIHhnWXk6ICdhOWE5YTknLFxuICB4a2hha2k6ICdiZGI3NmInLFxuICB4bWFnRnRhOiAnOGIwMDhiJyxcbiAgeFRpdmVnWUY6ICc1NTZiMmYnLFxuICB4U2FuZ2U6ICdmZjhjMDAnLFxuICB4U2NFZDogJzk5MzJjYycsXG4gIHhZZDogJzhiMDAwMCcsXG4gIHhzT21vbjogJ2U5OTY3YScsXG4gIHhzSGdZRjogJzhmYmM4ZicsXG4gIHhVWGU6ICc0ODNkOGInLFxuICB4VVdheTogJzJmNGY0ZicsXG4gIHhVZ1l5OiAnMmY0ZjRmJyxcbiAgeFFlOiAnY2VkMScsXG4gIHh2aVRldDogJzk0MDBkMycsXG4gIGRBcHBSazogJ2ZmMTQ5MycsXG4gIGRBcHNreVhlOiAnYmZmZicsXG4gIGRpbVdheTogJzY5Njk2OScsXG4gIGRpbWdZeTogJzY5Njk2OScsXG4gIGRvZGdlclhlOiAnMWU5MGZmJyxcbiAgZmlZYnJpY2s6ICdiMjIyMjInLFxuICBmbFNPd0V0ZTogJ2ZmZmFmMCcsXG4gIGZvWXN0V0FuOiAnMjI4YjIyJyxcbiAgZnVLc2lhOiAnZmYwMGZmJyxcbiAgZ2FSc2JTbzogJ2RjZGNkYycsXG4gIGdob3N0d0V0ZTogJ2Y4ZjhmZicsXG4gIGdUZDogJ2ZmZDcwMCcsXG4gIGdUTW5QZDogJ2RhYTUyMCcsXG4gIFdheTogJzgwODA4MCcsXG4gIGdZRjogJzgwMDAnLFxuICBnWUZMdzogJ2FkZmYyZicsXG4gIGdZeTogJzgwODA4MCcsXG4gIGhvbmV5TXc6ICdmMGZmZjAnLFxuICBob3RwUms6ICdmZjY5YjQnLFxuICBSZGlhbllkOiAnY2Q1YzVjJyxcbiAgUmRpZ286ICc0YjAwODInLFxuICBpdlN5OiAnZmZmZmYwJyxcbiAga2hha2k6ICdmMGU2OGMnLFxuICBsYXZGTXI6ICdlNmU2ZmEnLFxuICBsYXZGTXJYc2g6ICdmZmYwZjUnLFxuICBsYXduZ1lGOiAnN2NmYzAwJyxcbiAgTm1vbmNFZmZvbjogJ2ZmZmFjZCcsXG4gIFpYZTogJ2FkZDhlNicsXG4gIFpjU086ICdmMDgwODAnLFxuICBaY3lhbjogJ2UwZmZmZicsXG4gIFpnVE1uUGRMdzogJ2ZhZmFkMicsXG4gIFpXYXk6ICdkM2QzZDMnLFxuICBaZ1lGOiAnOTBlZTkwJyxcbiAgWmdZeTogJ2QzZDNkMycsXG4gIFpwUms6ICdmZmI2YzEnLFxuICBac09tb246ICdmZmEwN2EnLFxuICBac0hnWUY6ICcyMGIyYWEnLFxuICBac2t5WGU6ICc4N2NlZmEnLFxuICBaVVdheTogJzc3ODg5OScsXG4gIFpVZ1l5OiAnNzc4ODk5JyxcbiAgWnN0QWxYZTogJ2IwYzRkZScsXG4gIFpMdzogJ2ZmZmZlMCcsXG4gIGxpbWU6ICdmZjAwJyxcbiAgbGltZWdZRjogJzMyY2QzMicsXG4gIGxSRjogJ2ZhZjBlNicsXG4gIG1hZ0Z0YTogJ2ZmMDBmZicsXG4gIG1hUG9uOiAnODAwMDAwJyxcbiAgVmFxdWFtYXJSZTogJzY2Y2RhYScsXG4gIFZYZTogJ2NkJyxcbiAgVlNjRWQ6ICdiYTU1ZDMnLFxuICBWcHVycE46ICc5MzcwZGInLFxuICBWc0hnWUY6ICczY2IzNzEnLFxuICBWVVhlOiAnN2I2OGVlJyxcbiAgVnNwclJnZ1lGOiAnZmE5YScsXG4gIFZRZTogJzQ4ZDFjYycsXG4gIFZ2aVRldFlkOiAnYzcxNTg1JyxcbiAgbWlkbmlnaHRYZTogJzE5MTk3MCcsXG4gIG1SdGNZYW06ICdmNWZmZmEnLFxuICBtaXN0eVBzZTogJ2ZmZTRlMScsXG4gIG1vY2Nhc1I6ICdmZmU0YjUnLFxuICBuYXZham93RXRlOiAnZmZkZWFkJyxcbiAgbmF2eTogJzgwJyxcbiAgVGRsYWNlOiAnZmRmNWU2JyxcbiAgVGl2ZTogJzgwODAwMCcsXG4gIFRpdmVkQmI6ICc2YjhlMjMnLFxuICBTYW5nZTogJ2ZmYTUwMCcsXG4gIFNhbmdlWWQ6ICdmZjQ1MDAnLFxuICBTY0VkOiAnZGE3MGQ2JyxcbiAgcE9lZ1RNblBkOiAnZWVlOGFhJyxcbiAgcE9lZ1lGOiAnOThmYjk4JyxcbiAgcE9lUWU6ICdhZmVlZWUnLFxuICBwT2V2aVRldFlkOiAnZGI3MDkzJyxcbiAgcGFwYXlhd0VwOiAnZmZlZmQ1JyxcbiAgcEhLcHVmZjogJ2ZmZGFiOScsXG4gIHBlcnU6ICdjZDg1M2YnLFxuICBwUms6ICdmZmMwY2InLFxuICBwbHVtOiAnZGRhMGRkJyxcbiAgcG93TXJYZTogJ2IwZTBlNicsXG4gIHB1cnBOOiAnODAwMDgwJyxcbiAgWWJlY2NhcHVycE46ICc2NjMzOTknLFxuICBZZDogJ2ZmMDAwMCcsXG4gIFBzeWJyb3duOiAnYmM4ZjhmJyxcbiAgUHlPWGU6ICc0MTY5ZTEnLFxuICBzYWRkTmJQd246ICc4YjQ1MTMnLFxuICBzT21vbjogJ2ZhODA3MicsXG4gIHNhbmR5YlB3bjogJ2Y0YTQ2MCcsXG4gIHNIZ1lGOiAnMmU4YjU3JyxcbiAgc0hzaGVsbDogJ2ZmZjVlZScsXG4gIHNpRm5hOiAnYTA1MjJkJyxcbiAgc2lsdmVyOiAnYzBjMGMwJyxcbiAgc2t5WGU6ICc4N2NlZWInLFxuICBVWGU6ICc2YTVhY2QnLFxuICBVV2F5OiAnNzA4MDkwJyxcbiAgVWdZeTogJzcwODA5MCcsXG4gIHNub3c6ICdmZmZhZmEnLFxuICBzcHJSZ2dZRjogJ2ZmN2YnLFxuICBzdEFsWGU6ICc0NjgyYjQnLFxuICB0YW46ICdkMmI0OGMnLFxuICB0ZU86ICc4MDgwJyxcbiAgdEVzdE46ICdkOGJmZDgnLFxuICB0b21hdG86ICdmZjYzNDcnLFxuICBRZTogJzQwZTBkMCcsXG4gIHZpVGV0OiAnZWU4MmVlJyxcbiAgSkh0OiAnZjVkZWIzJyxcbiAgd0V0ZTogJ2ZmZmZmZicsXG4gIHdFdGVzbW9rZTogJ2Y1ZjVmNScsXG4gIEx3OiAnZmZmZjAwJyxcbiAgTHdnWUY6ICc5YWNkMzInXG59O1xuZnVuY3Rpb24gdW5wYWNrKCkge1xuICBjb25zdCB1bnBhY2tlZCA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobmFtZXMkMSk7XG4gIGNvbnN0IHRrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcbiAgbGV0IGksIGosIGssIG9rLCBuaztcbiAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBvayA9IG5rID0ga2V5c1tpXTtcbiAgICBmb3IgKGogPSAwOyBqIDwgdGtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGsgPSB0a2V5c1tqXTtcbiAgICAgIG5rID0gbmsucmVwbGFjZShrLCBtYXBba10pO1xuICAgIH1cbiAgICBrID0gcGFyc2VJbnQobmFtZXMkMVtva10sIDE2KTtcbiAgICB1bnBhY2tlZFtua10gPSBbayA+PiAxNiAmIDB4RkYsIGsgPj4gOCAmIDB4RkYsIGsgJiAweEZGXTtcbiAgfVxuICByZXR1cm4gdW5wYWNrZWQ7XG59XG5sZXQgbmFtZXM7XG5mdW5jdGlvbiBuYW1lUGFyc2Uoc3RyKSB7XG4gIGlmICghbmFtZXMpIHtcbiAgICBuYW1lcyA9IHVucGFjaygpO1xuICAgIG5hbWVzLnRyYW5zcGFyZW50ID0gWzAsIDAsIDAsIDBdO1xuICB9XG4gIGNvbnN0IGEgPSBuYW1lc1tzdHIudG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBhICYmIHtcbiAgICByOiBhWzBdLFxuICAgIGc6IGFbMV0sXG4gICAgYjogYVsyXSxcbiAgICBhOiBhLmxlbmd0aCA9PT0gNCA/IGFbM10gOiAyNTVcbiAgfTtcbn1cbmNvbnN0IFJHQl9SRSA9IC9ecmdiYT9cXChcXHMqKFstKy5cXGRdKykoJSk/W1xccyxdKyhbLSsuZVxcZF0rKSglKT9bXFxzLF0rKFstKy5lXFxkXSspKCUpPyg/OltcXHMsL10rKFstKy5lXFxkXSspKCUpPyk/XFxzKlxcKSQvO1xuZnVuY3Rpb24gcmdiUGFyc2Uoc3RyKSB7XG4gIGNvbnN0IG0gPSBSR0JfUkUuZXhlYyhzdHIpO1xuICBsZXQgYSA9IDI1NTtcbiAgbGV0IHIsIGcsIGI7XG4gIGlmICghbSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobVs3XSAhPT0gcikge1xuICAgIGNvbnN0IHYgPSArbVs3XTtcbiAgICBhID0gbVs4XSA/IHAyYih2KSA6IGxpbSh2ICogMjU1LCAwLCAyNTUpO1xuICB9XG4gIHIgPSArbVsxXTtcbiAgZyA9ICttWzNdO1xuICBiID0gK21bNV07XG4gIHIgPSAyNTUgJiAobVsyXSA/IHAyYihyKSA6IGxpbShyLCAwLCAyNTUpKTtcbiAgZyA9IDI1NSAmIChtWzRdID8gcDJiKGcpIDogbGltKGcsIDAsIDI1NSkpO1xuICBiID0gMjU1ICYgKG1bNl0gPyBwMmIoYikgOiBsaW0oYiwgMCwgMjU1KSk7XG4gIHJldHVybiB7XG4gICAgcjogcixcbiAgICBnOiBnLFxuICAgIGI6IGIsXG4gICAgYTogYVxuICB9O1xufVxuZnVuY3Rpb24gcmdiU3RyaW5nKHYpIHtcbiAgcmV0dXJuIHYgJiYgKFxuICAgIHYuYSA8IDI1NVxuICAgICAgPyBgcmdiYSgke3Yucn0sICR7di5nfSwgJHt2LmJ9LCAke2Iybih2LmEpfSlgXG4gICAgICA6IGByZ2IoJHt2LnJ9LCAke3YuZ30sICR7di5ifSlgXG4gICk7XG59XG5jb25zdCB0byA9IHYgPT4gdiA8PSAwLjAwMzEzMDggPyB2ICogMTIuOTIgOiBNYXRoLnBvdyh2LCAxLjAgLyAyLjQpICogMS4wNTUgLSAwLjA1NTtcbmNvbnN0IGZyb20gPSB2ID0+IHYgPD0gMC4wNDA0NSA/IHYgLyAxMi45MiA6IE1hdGgucG93KCh2ICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShyZ2IxLCByZ2IyLCB0KSB7XG4gIGNvbnN0IHIgPSBmcm9tKGIybihyZ2IxLnIpKTtcbiAgY29uc3QgZyA9IGZyb20oYjJuKHJnYjEuZykpO1xuICBjb25zdCBiID0gZnJvbShiMm4ocmdiMS5iKSk7XG4gIHJldHVybiB7XG4gICAgcjogbjJiKHRvKHIgKyB0ICogKGZyb20oYjJuKHJnYjIucikpIC0gcikpKSxcbiAgICBnOiBuMmIodG8oZyArIHQgKiAoZnJvbShiMm4ocmdiMi5nKSkgLSBnKSkpLFxuICAgIGI6IG4yYih0byhiICsgdCAqIChmcm9tKGIybihyZ2IyLmIpKSAtIGIpKSksXG4gICAgYTogcmdiMS5hICsgdCAqIChyZ2IyLmEgLSByZ2IxLmEpXG4gIH07XG59XG5mdW5jdGlvbiBtb2RIU0wodiwgaSwgcmF0aW8pIHtcbiAgaWYgKHYpIHtcbiAgICBsZXQgdG1wID0gcmdiMmhzbCh2KTtcbiAgICB0bXBbaV0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0bXBbaV0gKyB0bXBbaV0gKiByYXRpbywgaSA9PT0gMCA/IDM2MCA6IDEpKTtcbiAgICB0bXAgPSBoc2wycmdiKHRtcCk7XG4gICAgdi5yID0gdG1wWzBdO1xuICAgIHYuZyA9IHRtcFsxXTtcbiAgICB2LmIgPSB0bXBbMl07XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lKHYsIHByb3RvKSB7XG4gIHJldHVybiB2ID8gT2JqZWN0LmFzc2lnbihwcm90byB8fCB7fSwgdikgOiB2O1xufVxuZnVuY3Rpb24gZnJvbU9iamVjdChpbnB1dCkge1xuICB2YXIgdiA9IHtyOiAwLCBnOiAwLCBiOiAwLCBhOiAyNTV9O1xuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICBpZiAoaW5wdXQubGVuZ3RoID49IDMpIHtcbiAgICAgIHYgPSB7cjogaW5wdXRbMF0sIGc6IGlucHV0WzFdLCBiOiBpbnB1dFsyXSwgYTogMjU1fTtcbiAgICAgIGlmIChpbnB1dC5sZW5ndGggPiAzKSB7XG4gICAgICAgIHYuYSA9IG4yYihpbnB1dFszXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHYgPSBjbG9uZShpbnB1dCwge3I6IDAsIGc6IDAsIGI6IDAsIGE6IDF9KTtcbiAgICB2LmEgPSBuMmIodi5hKTtcbiAgfVxuICByZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIGZ1bmN0aW9uUGFyc2Uoc3RyKSB7XG4gIGlmIChzdHIuY2hhckF0KDApID09PSAncicpIHtcbiAgICByZXR1cm4gcmdiUGFyc2Uoc3RyKTtcbiAgfVxuICByZXR1cm4gaHVlUGFyc2Uoc3RyKTtcbn1cbmNsYXNzIENvbG9yIHtcbiAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBDb2xvcikge1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGlucHV0O1xuICAgIGxldCB2O1xuICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdiA9IGZyb21PYmplY3QoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHYgPSBoZXhQYXJzZShpbnB1dCkgfHwgbmFtZVBhcnNlKGlucHV0KSB8fCBmdW5jdGlvblBhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdGhpcy5fcmdiID0gdjtcbiAgICB0aGlzLl92YWxpZCA9ICEhdjtcbiAgfVxuICBnZXQgdmFsaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkO1xuICB9XG4gIGdldCByZ2IoKSB7XG4gICAgdmFyIHYgPSBjbG9uZSh0aGlzLl9yZ2IpO1xuICAgIGlmICh2KSB7XG4gICAgICB2LmEgPSBiMm4odi5hKTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG4gIH1cbiAgc2V0IHJnYihvYmopIHtcbiAgICB0aGlzLl9yZ2IgPSBmcm9tT2JqZWN0KG9iaik7XG4gIH1cbiAgcmdiU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZCA/IHJnYlN0cmluZyh0aGlzLl9yZ2IpIDogdW5kZWZpbmVkO1xuICB9XG4gIGhleFN0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWQgPyBoZXhTdHJpbmcodGhpcy5fcmdiKSA6IHVuZGVmaW5lZDtcbiAgfVxuICBoc2xTdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkID8gaHNsU3RyaW5nKHRoaXMuX3JnYikgOiB1bmRlZmluZWQ7XG4gIH1cbiAgbWl4KGNvbG9yLCB3ZWlnaHQpIHtcbiAgICBpZiAoY29sb3IpIHtcbiAgICAgIGNvbnN0IGMxID0gdGhpcy5yZ2I7XG4gICAgICBjb25zdCBjMiA9IGNvbG9yLnJnYjtcbiAgICAgIGxldCB3MjtcbiAgICAgIGNvbnN0IHAgPSB3ZWlnaHQgPT09IHcyID8gMC41IDogd2VpZ2h0O1xuICAgICAgY29uc3QgdyA9IDIgKiBwIC0gMTtcbiAgICAgIGNvbnN0IGEgPSBjMS5hIC0gYzIuYTtcbiAgICAgIGNvbnN0IHcxID0gKCh3ICogYSA9PT0gLTEgPyB3IDogKHcgKyBhKSAvICgxICsgdyAqIGEpKSArIDEpIC8gMi4wO1xuICAgICAgdzIgPSAxIC0gdzE7XG4gICAgICBjMS5yID0gMHhGRiAmIHcxICogYzEuciArIHcyICogYzIuciArIDAuNTtcbiAgICAgIGMxLmcgPSAweEZGICYgdzEgKiBjMS5nICsgdzIgKiBjMi5nICsgMC41O1xuICAgICAgYzEuYiA9IDB4RkYgJiB3MSAqIGMxLmIgKyB3MiAqIGMyLmIgKyAwLjU7XG4gICAgICBjMS5hID0gcCAqIGMxLmEgKyAoMSAtIHApICogYzIuYTtcbiAgICAgIHRoaXMucmdiID0gYzE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGludGVycG9sYXRlKGNvbG9yLCB0KSB7XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICB0aGlzLl9yZ2IgPSBpbnRlcnBvbGF0ZSh0aGlzLl9yZ2IsIGNvbG9yLl9yZ2IsIHQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IENvbG9yKHRoaXMucmdiKTtcbiAgfVxuICBhbHBoYShhKSB7XG4gICAgdGhpcy5fcmdiLmEgPSBuMmIoYSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2xlYXJlcihyYXRpbykge1xuICAgIGNvbnN0IHJnYiA9IHRoaXMuX3JnYjtcbiAgICByZ2IuYSAqPSAxIC0gcmF0aW87XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZ3JleXNjYWxlKCkge1xuICAgIGNvbnN0IHJnYiA9IHRoaXMuX3JnYjtcbiAgICBjb25zdCB2YWwgPSByb3VuZChyZ2IuciAqIDAuMyArIHJnYi5nICogMC41OSArIHJnYi5iICogMC4xMSk7XG4gICAgcmdiLnIgPSByZ2IuZyA9IHJnYi5iID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9wYXF1ZXIocmF0aW8pIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgcmdiLmEgKj0gMSArIHJhdGlvO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG5lZ2F0ZSgpIHtcbiAgICBjb25zdCB2ID0gdGhpcy5fcmdiO1xuICAgIHYuciA9IDI1NSAtIHYucjtcbiAgICB2LmcgPSAyNTUgLSB2Lmc7XG4gICAgdi5iID0gMjU1IC0gdi5iO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGxpZ2h0ZW4ocmF0aW8pIHtcbiAgICBtb2RIU0wodGhpcy5fcmdiLCAyLCByYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGFya2VuKHJhdGlvKSB7XG4gICAgbW9kSFNMKHRoaXMuX3JnYiwgMiwgLXJhdGlvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzYXR1cmF0ZShyYXRpbykge1xuICAgIG1vZEhTTCh0aGlzLl9yZ2IsIDEsIHJhdGlvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBkZXNhdHVyYXRlKHJhdGlvKSB7XG4gICAgbW9kSFNMKHRoaXMuX3JnYiwgMSwgLXJhdGlvKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByb3RhdGUoZGVnKSB7XG4gICAgcm90YXRlKHRoaXMuX3JnYiwgZGVnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuZnVuY3Rpb24gaW5kZXhfZXNtKGlucHV0KSB7XG4gIHJldHVybiBuZXcgQ29sb3IoaW5wdXQpO1xufVxuXG5mdW5jdGlvbiBpc1BhdHRlcm5PckdyYWRpZW50KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdbb2JqZWN0IENhbnZhc1BhdHRlcm5dJyB8fCB0eXBlID09PSAnW29iamVjdCBDYW52YXNHcmFkaWVudF0nO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNvbG9yKHZhbHVlKSB7XG4gIHJldHVybiBpc1BhdHRlcm5PckdyYWRpZW50KHZhbHVlKSA/IHZhbHVlIDogaW5kZXhfZXNtKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldEhvdmVyQ29sb3IodmFsdWUpIHtcbiAgcmV0dXJuIGlzUGF0dGVybk9yR3JhZGllbnQodmFsdWUpXG4gICAgPyB2YWx1ZVxuICAgIDogaW5kZXhfZXNtKHZhbHVlKS5zYXR1cmF0ZSgwLjUpLmRhcmtlbigwLjEpLmhleFN0cmluZygpO1xufVxuXG5jb25zdCBvdmVycmlkZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gZ2V0U2NvcGUkMShub2RlLCBrZXkpIHtcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBjb25zdCBrZXlzID0ga2V5LnNwbGl0KCcuJyk7XG4gIGZvciAobGV0IGkgPSAwLCBuID0ga2V5cy5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICBjb25zdCBrID0ga2V5c1tpXTtcbiAgICBub2RlID0gbm9kZVtrXSB8fCAobm9kZVtrXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuZnVuY3Rpb24gc2V0KHJvb3QsIHNjb3BlLCB2YWx1ZXMpIHtcbiAgaWYgKHR5cGVvZiBzY29wZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbWVyZ2UoZ2V0U2NvcGUkMShyb290LCBzY29wZSksIHZhbHVlcyk7XG4gIH1cbiAgcmV0dXJuIG1lcmdlKGdldFNjb3BlJDEocm9vdCwgJycpLCBzY29wZSk7XG59XG5jbGFzcyBEZWZhdWx0cyB7XG4gIGNvbnN0cnVjdG9yKF9kZXNjcmlwdG9ycykge1xuICAgIHRoaXMuYW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwwLDAsMC4xKSc7XG4gICAgdGhpcy5ib3JkZXJDb2xvciA9ICdyZ2JhKDAsMCwwLDAuMSknO1xuICAgIHRoaXMuY29sb3IgPSAnIzY2Nic7XG4gICAgdGhpcy5kYXRhc2V0cyA9IHt9O1xuICAgIHRoaXMuZGV2aWNlUGl4ZWxSYXRpbyA9IChjb250ZXh0KSA9PiBjb250ZXh0LmNoYXJ0LnBsYXRmb3JtLmdldERldmljZVBpeGVsUmF0aW8oKTtcbiAgICB0aGlzLmVsZW1lbnRzID0ge307XG4gICAgdGhpcy5ldmVudHMgPSBbXG4gICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICdtb3VzZW91dCcsXG4gICAgICAnY2xpY2snLFxuICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgJ3RvdWNobW92ZSdcbiAgICBdO1xuICAgIHRoaXMuZm9udCA9IHtcbiAgICAgIGZhbWlseTogXCInSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgc2Fucy1zZXJpZlwiLFxuICAgICAgc2l6ZTogMTIsXG4gICAgICBzdHlsZTogJ25vcm1hbCcsXG4gICAgICBsaW5lSGVpZ2h0OiAxLjIsXG4gICAgICB3ZWlnaHQ6IG51bGxcbiAgICB9O1xuICAgIHRoaXMuaG92ZXIgPSB7fTtcbiAgICB0aGlzLmhvdmVyQmFja2dyb3VuZENvbG9yID0gKGN0eCwgb3B0aW9ucykgPT4gZ2V0SG92ZXJDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvcik7XG4gICAgdGhpcy5ob3ZlckJvcmRlckNvbG9yID0gKGN0eCwgb3B0aW9ucykgPT4gZ2V0SG92ZXJDb2xvcihvcHRpb25zLmJvcmRlckNvbG9yKTtcbiAgICB0aGlzLmhvdmVyQ29sb3IgPSAoY3R4LCBvcHRpb25zKSA9PiBnZXRIb3ZlckNvbG9yKG9wdGlvbnMuY29sb3IpO1xuICAgIHRoaXMuaW5kZXhBeGlzID0gJ3gnO1xuICAgIHRoaXMuaW50ZXJhY3Rpb24gPSB7XG4gICAgICBtb2RlOiAnbmVhcmVzdCcsXG4gICAgICBpbnRlcnNlY3Q6IHRydWUsXG4gICAgICBpbmNsdWRlSW52aXNpYmxlOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5tYWludGFpbkFzcGVjdFJhdGlvID0gdHJ1ZTtcbiAgICB0aGlzLm9uSG92ZXIgPSBudWxsO1xuICAgIHRoaXMub25DbGljayA9IG51bGw7XG4gICAgdGhpcy5wYXJzaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICB0aGlzLnJlc3BvbnNpdmUgPSB0cnVlO1xuICAgIHRoaXMuc2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5zY2FsZXMgPSB7fTtcbiAgICB0aGlzLnNob3dMaW5lID0gdHJ1ZTtcbiAgICB0aGlzLmRyYXdBY3RpdmVFbGVtZW50c09uVG9wID0gdHJ1ZTtcbiAgICB0aGlzLmRlc2NyaWJlKF9kZXNjcmlwdG9ycyk7XG4gIH1cbiAgc2V0KHNjb3BlLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gc2V0KHRoaXMsIHNjb3BlLCB2YWx1ZXMpO1xuICB9XG4gIGdldChzY29wZSkge1xuICAgIHJldHVybiBnZXRTY29wZSQxKHRoaXMsIHNjb3BlKTtcbiAgfVxuICBkZXNjcmliZShzY29wZSwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHNldChkZXNjcmlwdG9ycywgc2NvcGUsIHZhbHVlcyk7XG4gIH1cbiAgb3ZlcnJpZGUoc2NvcGUsIHZhbHVlcykge1xuICAgIHJldHVybiBzZXQob3ZlcnJpZGVzLCBzY29wZSwgdmFsdWVzKTtcbiAgfVxuICByb3V0ZShzY29wZSwgbmFtZSwgdGFyZ2V0U2NvcGUsIHRhcmdldE5hbWUpIHtcbiAgICBjb25zdCBzY29wZU9iamVjdCA9IGdldFNjb3BlJDEodGhpcywgc2NvcGUpO1xuICAgIGNvbnN0IHRhcmdldFNjb3BlT2JqZWN0ID0gZ2V0U2NvcGUkMSh0aGlzLCB0YXJnZXRTY29wZSk7XG4gICAgY29uc3QgcHJpdmF0ZU5hbWUgPSAnXycgKyBuYW1lO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjb3BlT2JqZWN0LCB7XG4gICAgICBbcHJpdmF0ZU5hbWVdOiB7XG4gICAgICAgIHZhbHVlOiBzY29wZU9iamVjdFtuYW1lXSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBbbmFtZV06IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIGNvbnN0IGxvY2FsID0gdGhpc1twcml2YXRlTmFtZV07XG4gICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGFyZ2V0U2NvcGVPYmplY3RbdGFyZ2V0TmFtZV07XG4gICAgICAgICAgaWYgKGlzT2JqZWN0KGxvY2FsKSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRhcmdldCwgbG9jYWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWVPckRlZmF1bHQobG9jYWwsIHRhcmdldCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgIHRoaXNbcHJpdmF0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxudmFyIGRlZmF1bHRzID0gbmV3IERlZmF1bHRzKHtcbiAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiAhbmFtZS5zdGFydHNXaXRoKCdvbicpLFxuICBfaW5kZXhhYmxlOiAobmFtZSkgPT4gbmFtZSAhPT0gJ2V2ZW50cycsXG4gIGhvdmVyOiB7XG4gICAgX2ZhbGxiYWNrOiAnaW50ZXJhY3Rpb24nXG4gIH0sXG4gIGludGVyYWN0aW9uOiB7XG4gICAgX3NjcmlwdGFibGU6IGZhbHNlLFxuICAgIF9pbmRleGFibGU6IGZhbHNlLFxuICB9XG59KTtcblxuZnVuY3Rpb24gdG9Gb250U3RyaW5nKGZvbnQpIHtcbiAgaWYgKCFmb250IHx8IGlzTnVsbE9yVW5kZWYoZm9udC5zaXplKSB8fCBpc051bGxPclVuZGVmKGZvbnQuZmFtaWx5KSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAoZm9udC5zdHlsZSA/IGZvbnQuc3R5bGUgKyAnICcgOiAnJylcblx0XHQrIChmb250LndlaWdodCA/IGZvbnQud2VpZ2h0ICsgJyAnIDogJycpXG5cdFx0KyBmb250LnNpemUgKyAncHggJ1xuXHRcdCsgZm9udC5mYW1pbHk7XG59XG5mdW5jdGlvbiBfbWVhc3VyZVRleHQoY3R4LCBkYXRhLCBnYywgbG9uZ2VzdCwgc3RyaW5nKSB7XG4gIGxldCB0ZXh0V2lkdGggPSBkYXRhW3N0cmluZ107XG4gIGlmICghdGV4dFdpZHRoKSB7XG4gICAgdGV4dFdpZHRoID0gZGF0YVtzdHJpbmddID0gY3R4Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XG4gICAgZ2MucHVzaChzdHJpbmcpO1xuICB9XG4gIGlmICh0ZXh0V2lkdGggPiBsb25nZXN0KSB7XG4gICAgbG9uZ2VzdCA9IHRleHRXaWR0aDtcbiAgfVxuICByZXR1cm4gbG9uZ2VzdDtcbn1cbmZ1bmN0aW9uIF9sb25nZXN0VGV4dChjdHgsIGZvbnQsIGFycmF5T2ZUaGluZ3MsIGNhY2hlKSB7XG4gIGNhY2hlID0gY2FjaGUgfHwge307XG4gIGxldCBkYXRhID0gY2FjaGUuZGF0YSA9IGNhY2hlLmRhdGEgfHwge307XG4gIGxldCBnYyA9IGNhY2hlLmdhcmJhZ2VDb2xsZWN0ID0gY2FjaGUuZ2FyYmFnZUNvbGxlY3QgfHwgW107XG4gIGlmIChjYWNoZS5mb250ICE9PSBmb250KSB7XG4gICAgZGF0YSA9IGNhY2hlLmRhdGEgPSB7fTtcbiAgICBnYyA9IGNhY2hlLmdhcmJhZ2VDb2xsZWN0ID0gW107XG4gICAgY2FjaGUuZm9udCA9IGZvbnQ7XG4gIH1cbiAgY3R4LnNhdmUoKTtcbiAgY3R4LmZvbnQgPSBmb250O1xuICBsZXQgbG9uZ2VzdCA9IDA7XG4gIGNvbnN0IGlsZW4gPSBhcnJheU9mVGhpbmdzLmxlbmd0aDtcbiAgbGV0IGksIGosIGpsZW4sIHRoaW5nLCBuZXN0ZWRUaGluZztcbiAgZm9yIChpID0gMDsgaSA8IGlsZW47IGkrKykge1xuICAgIHRoaW5nID0gYXJyYXlPZlRoaW5nc1tpXTtcbiAgICBpZiAodGhpbmcgIT09IHVuZGVmaW5lZCAmJiB0aGluZyAhPT0gbnVsbCAmJiBpc0FycmF5KHRoaW5nKSAhPT0gdHJ1ZSkge1xuICAgICAgbG9uZ2VzdCA9IF9tZWFzdXJlVGV4dChjdHgsIGRhdGEsIGdjLCBsb25nZXN0LCB0aGluZyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHRoaW5nKSkge1xuICAgICAgZm9yIChqID0gMCwgamxlbiA9IHRoaW5nLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICBuZXN0ZWRUaGluZyA9IHRoaW5nW2pdO1xuICAgICAgICBpZiAobmVzdGVkVGhpbmcgIT09IHVuZGVmaW5lZCAmJiBuZXN0ZWRUaGluZyAhPT0gbnVsbCAmJiAhaXNBcnJheShuZXN0ZWRUaGluZykpIHtcbiAgICAgICAgICBsb25nZXN0ID0gX21lYXN1cmVUZXh0KGN0eCwgZGF0YSwgZ2MsIGxvbmdlc3QsIG5lc3RlZFRoaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjdHgucmVzdG9yZSgpO1xuICBjb25zdCBnY0xlbiA9IGdjLmxlbmd0aCAvIDI7XG4gIGlmIChnY0xlbiA+IGFycmF5T2ZUaGluZ3MubGVuZ3RoKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IGdjTGVuOyBpKyspIHtcbiAgICAgIGRlbGV0ZSBkYXRhW2djW2ldXTtcbiAgICB9XG4gICAgZ2Muc3BsaWNlKDAsIGdjTGVuKTtcbiAgfVxuICByZXR1cm4gbG9uZ2VzdDtcbn1cbmZ1bmN0aW9uIF9hbGlnblBpeGVsKGNoYXJ0LCBwaXhlbCwgd2lkdGgpIHtcbiAgY29uc3QgZGV2aWNlUGl4ZWxSYXRpbyA9IGNoYXJ0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvO1xuICBjb25zdCBoYWxmV2lkdGggPSB3aWR0aCAhPT0gMCA/IE1hdGgubWF4KHdpZHRoIC8gMiwgMC41KSA6IDA7XG4gIHJldHVybiBNYXRoLnJvdW5kKChwaXhlbCAtIGhhbGZXaWR0aCkgKiBkZXZpY2VQaXhlbFJhdGlvKSAvIGRldmljZVBpeGVsUmF0aW8gKyBoYWxmV2lkdGg7XG59XG5mdW5jdGlvbiBjbGVhckNhbnZhcyhjYW52YXMsIGN0eCkge1xuICBjdHggPSBjdHggfHwgY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5yZXNldFRyYW5zZm9ybSgpO1xuICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5mdW5jdGlvbiBkcmF3UG9pbnQoY3R4LCBvcHRpb25zLCB4LCB5KSB7XG4gIGRyYXdQb2ludExlZ2VuZChjdHgsIG9wdGlvbnMsIHgsIHksIG51bGwpO1xufVxuZnVuY3Rpb24gZHJhd1BvaW50TGVnZW5kKGN0eCwgb3B0aW9ucywgeCwgeSwgdykge1xuICBsZXQgdHlwZSwgeE9mZnNldCwgeU9mZnNldCwgc2l6ZSwgY29ybmVyUmFkaXVzLCB3aWR0aDtcbiAgY29uc3Qgc3R5bGUgPSBvcHRpb25zLnBvaW50U3R5bGU7XG4gIGNvbnN0IHJvdGF0aW9uID0gb3B0aW9ucy5yb3RhdGlvbjtcbiAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXM7XG4gIGxldCByYWQgPSAocm90YXRpb24gfHwgMCkgKiBSQURfUEVSX0RFRztcbiAgaWYgKHN0eWxlICYmIHR5cGVvZiBzdHlsZSA9PT0gJ29iamVjdCcpIHtcbiAgICB0eXBlID0gc3R5bGUudG9TdHJpbmcoKTtcbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgSFRNTEltYWdlRWxlbWVudF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDYW52YXNFbGVtZW50XScpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgY3R4LnJvdGF0ZShyYWQpO1xuICAgICAgY3R4LmRyYXdJbWFnZShzdHlsZSwgLXN0eWxlLndpZHRoIC8gMiwgLXN0eWxlLmhlaWdodCAvIDIsIHN0eWxlLndpZHRoLCBzdHlsZS5oZWlnaHQpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTmFOKHJhZGl1cykgfHwgcmFkaXVzIDw9IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBzd2l0Y2ggKHN0eWxlKSB7XG4gIGRlZmF1bHQ6XG4gICAgaWYgKHcpIHtcbiAgICAgIGN0eC5lbGxpcHNlKHgsIHksIHcgLyAyLCByYWRpdXMsIDAsIDAsIFRBVSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBUQVUpO1xuICAgIH1cbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3RyaWFuZ2xlJzpcbiAgICBjdHgubW92ZVRvKHggKyBNYXRoLnNpbihyYWQpICogcmFkaXVzLCB5IC0gTWF0aC5jb3MocmFkKSAqIHJhZGl1cyk7XG4gICAgcmFkICs9IFRXT19USElSRFNfUEk7XG4gICAgY3R4LmxpbmVUbyh4ICsgTWF0aC5zaW4ocmFkKSAqIHJhZGl1cywgeSAtIE1hdGguY29zKHJhZCkgKiByYWRpdXMpO1xuICAgIHJhZCArPSBUV09fVEhJUkRTX1BJO1xuICAgIGN0eC5saW5lVG8oeCArIE1hdGguc2luKHJhZCkgKiByYWRpdXMsIHkgLSBNYXRoLmNvcyhyYWQpICogcmFkaXVzKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3JlY3RSb3VuZGVkJzpcbiAgICBjb3JuZXJSYWRpdXMgPSByYWRpdXMgKiAwLjUxNjtcbiAgICBzaXplID0gcmFkaXVzIC0gY29ybmVyUmFkaXVzO1xuICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQgKyBRVUFSVEVSX1BJKSAqIHNpemU7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCArIFFVQVJURVJfUEkpICogc2l6ZTtcbiAgICBjdHguYXJjKHggLSB4T2Zmc2V0LCB5IC0geU9mZnNldCwgY29ybmVyUmFkaXVzLCByYWQgLSBQSSwgcmFkIC0gSEFMRl9QSSk7XG4gICAgY3R4LmFyYyh4ICsgeU9mZnNldCwgeSAtIHhPZmZzZXQsIGNvcm5lclJhZGl1cywgcmFkIC0gSEFMRl9QSSwgcmFkKTtcbiAgICBjdHguYXJjKHggKyB4T2Zmc2V0LCB5ICsgeU9mZnNldCwgY29ybmVyUmFkaXVzLCByYWQsIHJhZCArIEhBTEZfUEkpO1xuICAgIGN0eC5hcmMoeCAtIHlPZmZzZXQsIHkgKyB4T2Zmc2V0LCBjb3JuZXJSYWRpdXMsIHJhZCArIEhBTEZfUEksIHJhZCArIFBJKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3JlY3QnOlxuICAgIGlmICghcm90YXRpb24pIHtcbiAgICAgIHNpemUgPSBNYXRoLlNRUlQxXzIgKiByYWRpdXM7XG4gICAgICB3aWR0aCA9IHcgPyB3IC8gMiA6IHNpemU7XG4gICAgICBjdHgucmVjdCh4IC0gd2lkdGgsIHkgLSBzaXplLCAyICogd2lkdGgsIDIgKiBzaXplKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByYWQgKz0gUVVBUlRFUl9QSTtcbiAgY2FzZSAncmVjdFJvdCc6XG4gICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCArIHlPZmZzZXQsIHkgLSB4T2Zmc2V0KTtcbiAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0LCB5ICsgeU9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldCwgeSArIHhPZmZzZXQpO1xuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBicmVhaztcbiAgY2FzZSAnY3Jvc3NSb3QnOlxuICAgIHJhZCArPSBRVUFSVEVSX1BJO1xuICBjYXNlICdjcm9zcyc6XG4gICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCArIHhPZmZzZXQsIHkgKyB5T2Zmc2V0KTtcbiAgICBjdHgubW92ZVRvKHggKyB5T2Zmc2V0LCB5IC0geE9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldCwgeSArIHhPZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlICdzdGFyJzpcbiAgICB4T2Zmc2V0ID0gTWF0aC5jb3MocmFkKSAqIHJhZGl1cztcbiAgICB5T2Zmc2V0ID0gTWF0aC5zaW4ocmFkKSAqIHJhZGl1cztcbiAgICBjdHgubW92ZVRvKHggLSB4T2Zmc2V0LCB5IC0geU9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4ICsgeE9mZnNldCwgeSArIHlPZmZzZXQpO1xuICAgIGN0eC5tb3ZlVG8oeCArIHlPZmZzZXQsIHkgLSB4T2Zmc2V0KTtcbiAgICBjdHgubGluZVRvKHggLSB5T2Zmc2V0LCB5ICsgeE9mZnNldCk7XG4gICAgcmFkICs9IFFVQVJURVJfUEk7XG4gICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCArIHhPZmZzZXQsIHkgKyB5T2Zmc2V0KTtcbiAgICBjdHgubW92ZVRvKHggKyB5T2Zmc2V0LCB5IC0geE9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldCwgeSArIHhPZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlICdsaW5lJzpcbiAgICB4T2Zmc2V0ID0gdyA/IHcgLyAyIDogTWF0aC5jb3MocmFkKSAqIHJhZGl1cztcbiAgICB5T2Zmc2V0ID0gTWF0aC5zaW4ocmFkKSAqIHJhZGl1cztcbiAgICBjdHgubW92ZVRvKHggLSB4T2Zmc2V0LCB5IC0geU9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4ICsgeE9mZnNldCwgeSArIHlPZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlICdkYXNoJzpcbiAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgIGN0eC5saW5lVG8oeCArIE1hdGguY29zKHJhZCkgKiByYWRpdXMsIHkgKyBNYXRoLnNpbihyYWQpICogcmFkaXVzKTtcbiAgICBicmVhaztcbiAgfVxuICBjdHguZmlsbCgpO1xuICBpZiAob3B0aW9ucy5ib3JkZXJXaWR0aCA+IDApIHtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIF9pc1BvaW50SW5BcmVhKHBvaW50LCBhcmVhLCBtYXJnaW4pIHtcbiAgbWFyZ2luID0gbWFyZ2luIHx8IDAuNTtcbiAgcmV0dXJuICFhcmVhIHx8IChwb2ludCAmJiBwb2ludC54ID4gYXJlYS5sZWZ0IC0gbWFyZ2luICYmIHBvaW50LnggPCBhcmVhLnJpZ2h0ICsgbWFyZ2luICYmXG5cdFx0cG9pbnQueSA+IGFyZWEudG9wIC0gbWFyZ2luICYmIHBvaW50LnkgPCBhcmVhLmJvdHRvbSArIG1hcmdpbik7XG59XG5mdW5jdGlvbiBjbGlwQXJlYShjdHgsIGFyZWEpIHtcbiAgY3R4LnNhdmUoKTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgucmVjdChhcmVhLmxlZnQsIGFyZWEudG9wLCBhcmVhLnJpZ2h0IC0gYXJlYS5sZWZ0LCBhcmVhLmJvdHRvbSAtIGFyZWEudG9wKTtcbiAgY3R4LmNsaXAoKTtcbn1cbmZ1bmN0aW9uIHVuY2xpcEFyZWEoY3R4KSB7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5mdW5jdGlvbiBfc3RlcHBlZExpbmVUbyhjdHgsIHByZXZpb3VzLCB0YXJnZXQsIGZsaXAsIG1vZGUpIHtcbiAgaWYgKCFwcmV2aW91cykge1xuICAgIHJldHVybiBjdHgubGluZVRvKHRhcmdldC54LCB0YXJnZXQueSk7XG4gIH1cbiAgaWYgKG1vZGUgPT09ICdtaWRkbGUnKSB7XG4gICAgY29uc3QgbWlkcG9pbnQgPSAocHJldmlvdXMueCArIHRhcmdldC54KSAvIDIuMDtcbiAgICBjdHgubGluZVRvKG1pZHBvaW50LCBwcmV2aW91cy55KTtcbiAgICBjdHgubGluZVRvKG1pZHBvaW50LCB0YXJnZXQueSk7XG4gIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2FmdGVyJyAhPT0gISFmbGlwKSB7XG4gICAgY3R4LmxpbmVUbyhwcmV2aW91cy54LCB0YXJnZXQueSk7XG4gIH0gZWxzZSB7XG4gICAgY3R4LmxpbmVUbyh0YXJnZXQueCwgcHJldmlvdXMueSk7XG4gIH1cbiAgY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xufVxuZnVuY3Rpb24gX2JlemllckN1cnZlVG8oY3R4LCBwcmV2aW91cywgdGFyZ2V0LCBmbGlwKSB7XG4gIGlmICghcHJldmlvdXMpIHtcbiAgICByZXR1cm4gY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xuICB9XG4gIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgIGZsaXAgPyBwcmV2aW91cy5jcDF4IDogcHJldmlvdXMuY3AyeCxcbiAgICBmbGlwID8gcHJldmlvdXMuY3AxeSA6IHByZXZpb3VzLmNwMnksXG4gICAgZmxpcCA/IHRhcmdldC5jcDJ4IDogdGFyZ2V0LmNwMXgsXG4gICAgZmxpcCA/IHRhcmdldC5jcDJ5IDogdGFyZ2V0LmNwMXksXG4gICAgdGFyZ2V0LngsXG4gICAgdGFyZ2V0LnkpO1xufVxuZnVuY3Rpb24gcmVuZGVyVGV4dChjdHgsIHRleHQsIHgsIHksIGZvbnQsIG9wdHMgPSB7fSkge1xuICBjb25zdCBsaW5lcyA9IGlzQXJyYXkodGV4dCkgPyB0ZXh0IDogW3RleHRdO1xuICBjb25zdCBzdHJva2UgPSBvcHRzLnN0cm9rZVdpZHRoID4gMCAmJiBvcHRzLnN0cm9rZUNvbG9yICE9PSAnJztcbiAgbGV0IGksIGxpbmU7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gZm9udC5zdHJpbmc7XG4gIHNldFJlbmRlck9wdHMoY3R4LCBvcHRzKTtcbiAgZm9yIChpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgbGluZSA9IGxpbmVzW2ldO1xuICAgIGlmIChzdHJva2UpIHtcbiAgICAgIGlmIChvcHRzLnN0cm9rZUNvbG9yKSB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG9wdHMuc3Ryb2tlQ29sb3I7XG4gICAgICB9XG4gICAgICBpZiAoIWlzTnVsbE9yVW5kZWYob3B0cy5zdHJva2VXaWR0aCkpIHtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IG9wdHMuc3Ryb2tlV2lkdGg7XG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlVGV4dChsaW5lLCB4LCB5LCBvcHRzLm1heFdpZHRoKTtcbiAgICB9XG4gICAgY3R4LmZpbGxUZXh0KGxpbmUsIHgsIHksIG9wdHMubWF4V2lkdGgpO1xuICAgIGRlY29yYXRlVGV4dChjdHgsIHgsIHksIGxpbmUsIG9wdHMpO1xuICAgIHkgKz0gZm9udC5saW5lSGVpZ2h0O1xuICB9XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5mdW5jdGlvbiBzZXRSZW5kZXJPcHRzKGN0eCwgb3B0cykge1xuICBpZiAob3B0cy50cmFuc2xhdGlvbikge1xuICAgIGN0eC50cmFuc2xhdGUob3B0cy50cmFuc2xhdGlvblswXSwgb3B0cy50cmFuc2xhdGlvblsxXSk7XG4gIH1cbiAgaWYgKCFpc051bGxPclVuZGVmKG9wdHMucm90YXRpb24pKSB7XG4gICAgY3R4LnJvdGF0ZShvcHRzLnJvdGF0aW9uKTtcbiAgfVxuICBpZiAob3B0cy5jb2xvcikge1xuICAgIGN0eC5maWxsU3R5bGUgPSBvcHRzLmNvbG9yO1xuICB9XG4gIGlmIChvcHRzLnRleHRBbGlnbikge1xuICAgIGN0eC50ZXh0QWxpZ24gPSBvcHRzLnRleHRBbGlnbjtcbiAgfVxuICBpZiAob3B0cy50ZXh0QmFzZWxpbmUpIHtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gb3B0cy50ZXh0QmFzZWxpbmU7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlY29yYXRlVGV4dChjdHgsIHgsIHksIGxpbmUsIG9wdHMpIHtcbiAgaWYgKG9wdHMuc3RyaWtldGhyb3VnaCB8fCBvcHRzLnVuZGVybGluZSkge1xuICAgIGNvbnN0IG1ldHJpY3MgPSBjdHgubWVhc3VyZVRleHQobGluZSk7XG4gICAgY29uc3QgbGVmdCA9IHggLSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdDtcbiAgICBjb25zdCByaWdodCA9IHggKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94UmlnaHQ7XG4gICAgY29uc3QgdG9wID0geSAtIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ7XG4gICAgY29uc3QgYm90dG9tID0geSArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50O1xuICAgIGNvbnN0IHlEZWNvcmF0aW9uID0gb3B0cy5zdHJpa2V0aHJvdWdoID8gKHRvcCArIGJvdHRvbSkgLyAyIDogYm90dG9tO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGN0eC5maWxsU3R5bGU7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSBvcHRzLmRlY29yYXRpb25XaWR0aCB8fCAyO1xuICAgIGN0eC5tb3ZlVG8obGVmdCwgeURlY29yYXRpb24pO1xuICAgIGN0eC5saW5lVG8ocmlnaHQsIHlEZWNvcmF0aW9uKTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGFkZFJvdW5kZWRSZWN0UGF0aChjdHgsIHJlY3QpIHtcbiAgY29uc3Qge3gsIHksIHcsIGgsIHJhZGl1c30gPSByZWN0O1xuICBjdHguYXJjKHggKyByYWRpdXMudG9wTGVmdCwgeSArIHJhZGl1cy50b3BMZWZ0LCByYWRpdXMudG9wTGVmdCwgLUhBTEZfUEksIFBJLCB0cnVlKTtcbiAgY3R4LmxpbmVUbyh4LCB5ICsgaCAtIHJhZGl1cy5ib3R0b21MZWZ0KTtcbiAgY3R4LmFyYyh4ICsgcmFkaXVzLmJvdHRvbUxlZnQsIHkgKyBoIC0gcmFkaXVzLmJvdHRvbUxlZnQsIHJhZGl1cy5ib3R0b21MZWZ0LCBQSSwgSEFMRl9QSSwgdHJ1ZSk7XG4gIGN0eC5saW5lVG8oeCArIHcgLSByYWRpdXMuYm90dG9tUmlnaHQsIHkgKyBoKTtcbiAgY3R4LmFyYyh4ICsgdyAtIHJhZGl1cy5ib3R0b21SaWdodCwgeSArIGggLSByYWRpdXMuYm90dG9tUmlnaHQsIHJhZGl1cy5ib3R0b21SaWdodCwgSEFMRl9QSSwgMCwgdHJ1ZSk7XG4gIGN0eC5saW5lVG8oeCArIHcsIHkgKyByYWRpdXMudG9wUmlnaHQpO1xuICBjdHguYXJjKHggKyB3IC0gcmFkaXVzLnRvcFJpZ2h0LCB5ICsgcmFkaXVzLnRvcFJpZ2h0LCByYWRpdXMudG9wUmlnaHQsIDAsIC1IQUxGX1BJLCB0cnVlKTtcbiAgY3R4LmxpbmVUbyh4ICsgcmFkaXVzLnRvcExlZnQsIHkpO1xufVxuXG5jb25zdCBMSU5FX0hFSUdIVCA9IG5ldyBSZWdFeHAoL14obm9ybWFsfChcXGQrKD86XFwuXFxkKyk/KShweHxlbXwlKT8pJC8pO1xuY29uc3QgRk9OVF9TVFlMRSA9IG5ldyBSZWdFeHAoL14obm9ybWFsfGl0YWxpY3xpbml0aWFsfGluaGVyaXR8dW5zZXR8KG9ibGlxdWUoIC0/WzAtOV0/WzAtOV1kZWcpPykpJC8pO1xuZnVuY3Rpb24gdG9MaW5lSGVpZ2h0KHZhbHVlLCBzaXplKSB7XG4gIGNvbnN0IG1hdGNoZXMgPSAoJycgKyB2YWx1ZSkubWF0Y2goTElORV9IRUlHSFQpO1xuICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlc1sxXSA9PT0gJ25vcm1hbCcpIHtcbiAgICByZXR1cm4gc2l6ZSAqIDEuMjtcbiAgfVxuICB2YWx1ZSA9ICttYXRjaGVzWzJdO1xuICBzd2l0Y2ggKG1hdGNoZXNbM10pIHtcbiAgY2FzZSAncHgnOlxuICAgIHJldHVybiB2YWx1ZTtcbiAgY2FzZSAnJSc6XG4gICAgdmFsdWUgLz0gMTAwO1xuICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBzaXplICogdmFsdWU7XG59XG5jb25zdCBudW1iZXJPclplcm8gPSB2ID0+ICt2IHx8IDA7XG5mdW5jdGlvbiBfcmVhZFZhbHVlVG9Qcm9wcyh2YWx1ZSwgcHJvcHMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNvbnN0IG9ialByb3BzID0gaXNPYmplY3QocHJvcHMpO1xuICBjb25zdCBrZXlzID0gb2JqUHJvcHMgPyBPYmplY3Qua2V5cyhwcm9wcykgOiBwcm9wcztcbiAgY29uc3QgcmVhZCA9IGlzT2JqZWN0KHZhbHVlKVxuICAgID8gb2JqUHJvcHNcbiAgICAgID8gcHJvcCA9PiB2YWx1ZU9yRGVmYXVsdCh2YWx1ZVtwcm9wXSwgdmFsdWVbcHJvcHNbcHJvcF1dKVxuICAgICAgOiBwcm9wID0+IHZhbHVlW3Byb3BdXG4gICAgOiAoKSA9PiB2YWx1ZTtcbiAgZm9yIChjb25zdCBwcm9wIG9mIGtleXMpIHtcbiAgICByZXRbcHJvcF0gPSBudW1iZXJPclplcm8ocmVhZChwcm9wKSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHRvVFJCTCh2YWx1ZSkge1xuICByZXR1cm4gX3JlYWRWYWx1ZVRvUHJvcHModmFsdWUsIHt0b3A6ICd5JywgcmlnaHQ6ICd4JywgYm90dG9tOiAneScsIGxlZnQ6ICd4J30pO1xufVxuZnVuY3Rpb24gdG9UUkJMQ29ybmVycyh2YWx1ZSkge1xuICByZXR1cm4gX3JlYWRWYWx1ZVRvUHJvcHModmFsdWUsIFsndG9wTGVmdCcsICd0b3BSaWdodCcsICdib3R0b21MZWZ0JywgJ2JvdHRvbVJpZ2h0J10pO1xufVxuZnVuY3Rpb24gdG9QYWRkaW5nKHZhbHVlKSB7XG4gIGNvbnN0IG9iaiA9IHRvVFJCTCh2YWx1ZSk7XG4gIG9iai53aWR0aCA9IG9iai5sZWZ0ICsgb2JqLnJpZ2h0O1xuICBvYmouaGVpZ2h0ID0gb2JqLnRvcCArIG9iai5ib3R0b207XG4gIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiB0b0ZvbnQob3B0aW9ucywgZmFsbGJhY2spIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGZhbGxiYWNrID0gZmFsbGJhY2sgfHwgZGVmYXVsdHMuZm9udDtcbiAgbGV0IHNpemUgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnNpemUsIGZhbGxiYWNrLnNpemUpO1xuICBpZiAodHlwZW9mIHNpemUgPT09ICdzdHJpbmcnKSB7XG4gICAgc2l6ZSA9IHBhcnNlSW50KHNpemUsIDEwKTtcbiAgfVxuICBsZXQgc3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnN0eWxlLCBmYWxsYmFjay5zdHlsZSk7XG4gIGlmIChzdHlsZSAmJiAhKCcnICsgc3R5bGUpLm1hdGNoKEZPTlRfU1RZTEUpKSB7XG4gICAgY29uc29sZS53YXJuKCdJbnZhbGlkIGZvbnQgc3R5bGUgc3BlY2lmaWVkOiBcIicgKyBzdHlsZSArICdcIicpO1xuICAgIHN0eWxlID0gJyc7XG4gIH1cbiAgY29uc3QgZm9udCA9IHtcbiAgICBmYW1pbHk6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuZmFtaWx5LCBmYWxsYmFjay5mYW1pbHkpLFxuICAgIGxpbmVIZWlnaHQ6IHRvTGluZUhlaWdodCh2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmxpbmVIZWlnaHQsIGZhbGxiYWNrLmxpbmVIZWlnaHQpLCBzaXplKSxcbiAgICBzaXplLFxuICAgIHN0eWxlLFxuICAgIHdlaWdodDogdmFsdWVPckRlZmF1bHQob3B0aW9ucy53ZWlnaHQsIGZhbGxiYWNrLndlaWdodCksXG4gICAgc3RyaW5nOiAnJ1xuICB9O1xuICBmb250LnN0cmluZyA9IHRvRm9udFN0cmluZyhmb250KTtcbiAgcmV0dXJuIGZvbnQ7XG59XG5mdW5jdGlvbiByZXNvbHZlKGlucHV0cywgY29udGV4dCwgaW5kZXgsIGluZm8pIHtcbiAgbGV0IGNhY2hlYWJsZSA9IHRydWU7XG4gIGxldCBpLCBpbGVuLCB2YWx1ZTtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGlucHV0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICB2YWx1ZSA9IGlucHV0c1tpXTtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlKGNvbnRleHQpO1xuICAgICAgY2FjaGVhYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlW2luZGV4ICUgdmFsdWUubGVuZ3RoXTtcbiAgICAgIGNhY2hlYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGluZm8gJiYgIWNhY2hlYWJsZSkge1xuICAgICAgICBpbmZvLmNhY2hlYWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gX2FkZEdyYWNlKG1pbm1heCwgZ3JhY2UsIGJlZ2luQXRaZXJvKSB7XG4gIGNvbnN0IHttaW4sIG1heH0gPSBtaW5tYXg7XG4gIGNvbnN0IGNoYW5nZSA9IHRvRGltZW5zaW9uKGdyYWNlLCAobWF4IC0gbWluKSAvIDIpO1xuICBjb25zdCBrZWVwWmVybyA9ICh2YWx1ZSwgYWRkKSA9PiBiZWdpbkF0WmVybyAmJiB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZSArIGFkZDtcbiAgcmV0dXJuIHtcbiAgICBtaW46IGtlZXBaZXJvKG1pbiwgLU1hdGguYWJzKGNoYW5nZSkpLFxuICAgIG1heDoga2VlcFplcm8obWF4LCBjaGFuZ2UpXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KHBhcmVudENvbnRleHQsIGNvbnRleHQpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZShwYXJlbnRDb250ZXh0KSwgY29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVSZXNvbHZlcihzY29wZXMsIHByZWZpeGVzID0gWycnXSwgcm9vdFNjb3BlcyA9IHNjb3BlcywgZmFsbGJhY2ssIGdldFRhcmdldCA9ICgpID0+IHNjb3Blc1swXSkge1xuICBpZiAoIWRlZmluZWQoZmFsbGJhY2spKSB7XG4gICAgZmFsbGJhY2sgPSBfcmVzb2x2ZSgnX2ZhbGxiYWNrJywgc2NvcGVzKTtcbiAgfVxuICBjb25zdCBjYWNoZSA9IHtcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ09iamVjdCcsXG4gICAgX2NhY2hlYWJsZTogdHJ1ZSxcbiAgICBfc2NvcGVzOiBzY29wZXMsXG4gICAgX3Jvb3RTY29wZXM6IHJvb3RTY29wZXMsXG4gICAgX2ZhbGxiYWNrOiBmYWxsYmFjayxcbiAgICBfZ2V0VGFyZ2V0OiBnZXRUYXJnZXQsXG4gICAgb3ZlcnJpZGU6IChzY29wZSkgPT4gX2NyZWF0ZVJlc29sdmVyKFtzY29wZSwgLi4uc2NvcGVzXSwgcHJlZml4ZXMsIHJvb3RTY29wZXMsIGZhbGxiYWNrKSxcbiAgfTtcbiAgcmV0dXJuIG5ldyBQcm94eShjYWNoZSwge1xuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuX2tleXM7XG4gICAgICBkZWxldGUgc2NvcGVzWzBdW3Byb3BdO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgICByZXR1cm4gX2NhY2hlZCh0YXJnZXQsIHByb3AsXG4gICAgICAgICgpID0+IF9yZXNvbHZlV2l0aFByZWZpeGVzKHByb3AsIHByZWZpeGVzLCBzY29wZXMsIHRhcmdldCkpO1xuICAgIH0sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldC5fc2NvcGVzWzBdLCBwcm9wKTtcbiAgICB9LFxuICAgIGdldFByb3RvdHlwZU9mKCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0UHJvdG90eXBlT2Yoc2NvcGVzWzBdKTtcbiAgICB9LFxuICAgIGhhcyh0YXJnZXQsIHByb3ApIHtcbiAgICAgIHJldHVybiBnZXRLZXlzRnJvbUFsbFNjb3Blcyh0YXJnZXQpLmluY2x1ZGVzKHByb3ApO1xuICAgIH0sXG4gICAgb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgIHJldHVybiBnZXRLZXlzRnJvbUFsbFNjb3Blcyh0YXJnZXQpO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0YXJnZXQuX3N0b3JhZ2UgfHwgKHRhcmdldC5fc3RvcmFnZSA9IGdldFRhcmdldCgpKTtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHN0b3JhZ2VbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSB0YXJnZXQuX2tleXM7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gX2F0dGFjaENvbnRleHQocHJveHksIGNvbnRleHQsIHN1YlByb3h5LCBkZXNjcmlwdG9yRGVmYXVsdHMpIHtcbiAgY29uc3QgY2FjaGUgPSB7XG4gICAgX2NhY2hlYWJsZTogZmFsc2UsXG4gICAgX3Byb3h5OiBwcm94eSxcbiAgICBfY29udGV4dDogY29udGV4dCxcbiAgICBfc3ViUHJveHk6IHN1YlByb3h5LFxuICAgIF9zdGFjazogbmV3IFNldCgpLFxuICAgIF9kZXNjcmlwdG9yczogX2Rlc2NyaXB0b3JzKHByb3h5LCBkZXNjcmlwdG9yRGVmYXVsdHMpLFxuICAgIHNldENvbnRleHQ6IChjdHgpID0+IF9hdHRhY2hDb250ZXh0KHByb3h5LCBjdHgsIHN1YlByb3h5LCBkZXNjcmlwdG9yRGVmYXVsdHMpLFxuICAgIG92ZXJyaWRlOiAoc2NvcGUpID0+IF9hdHRhY2hDb250ZXh0KHByb3h5Lm92ZXJyaWRlKHNjb3BlKSwgY29udGV4dCwgc3ViUHJveHksIGRlc2NyaXB0b3JEZWZhdWx0cylcbiAgfTtcbiAgcmV0dXJuIG5ldyBQcm94eShjYWNoZSwge1xuICAgIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwgcHJvcCkge1xuICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTtcbiAgICAgIGRlbGV0ZSBwcm94eVtwcm9wXTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBfY2FjaGVkKHRhcmdldCwgcHJvcCxcbiAgICAgICAgKCkgPT4gX3Jlc29sdmVXaXRoQ29udGV4dCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSk7XG4gICAgfSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBwcm9wKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0Ll9kZXNjcmlwdG9ycy5hbGxLZXlzXG4gICAgICAgID8gUmVmbGVjdC5oYXMocHJveHksIHByb3ApID8ge2VudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0gOiB1bmRlZmluZWRcbiAgICAgICAgOiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm94eSwgcHJvcCk7XG4gICAgfSxcbiAgICBnZXRQcm90b3R5cGVPZigpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHByb3h5KTtcbiAgICB9LFxuICAgIGhhcyh0YXJnZXQsIHByb3ApIHtcbiAgICAgIHJldHVybiBSZWZsZWN0Lmhhcyhwcm94eSwgcHJvcCk7XG4gICAgfSxcbiAgICBvd25LZXlzKCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhwcm94eSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgcHJveHlbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSB0YXJnZXRbcHJvcF07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gX2Rlc2NyaXB0b3JzKHByb3h5LCBkZWZhdWx0cyA9IHtzY3JpcHRhYmxlOiB0cnVlLCBpbmRleGFibGU6IHRydWV9KSB7XG4gIGNvbnN0IHtfc2NyaXB0YWJsZSA9IGRlZmF1bHRzLnNjcmlwdGFibGUsIF9pbmRleGFibGUgPSBkZWZhdWx0cy5pbmRleGFibGUsIF9hbGxLZXlzID0gZGVmYXVsdHMuYWxsS2V5c30gPSBwcm94eTtcbiAgcmV0dXJuIHtcbiAgICBhbGxLZXlzOiBfYWxsS2V5cyxcbiAgICBzY3JpcHRhYmxlOiBfc2NyaXB0YWJsZSxcbiAgICBpbmRleGFibGU6IF9pbmRleGFibGUsXG4gICAgaXNTY3JpcHRhYmxlOiBpc0Z1bmN0aW9uKF9zY3JpcHRhYmxlKSA/IF9zY3JpcHRhYmxlIDogKCkgPT4gX3NjcmlwdGFibGUsXG4gICAgaXNJbmRleGFibGU6IGlzRnVuY3Rpb24oX2luZGV4YWJsZSkgPyBfaW5kZXhhYmxlIDogKCkgPT4gX2luZGV4YWJsZVxuICB9O1xufVxuY29uc3QgcmVhZEtleSA9IChwcmVmaXgsIG5hbWUpID0+IHByZWZpeCA/IHByZWZpeCArIF9jYXBpdGFsaXplKG5hbWUpIDogbmFtZTtcbmNvbnN0IG5lZWRzU3ViUmVzb2x2ZXIgPSAocHJvcCwgdmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSAmJiBwcm9wICE9PSAnYWRhcHRlcnMnICYmXG4gIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpID09PSBudWxsIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpO1xuZnVuY3Rpb24gX2NhY2hlZCh0YXJnZXQsIHByb3AsIHJlc29sdmUpIHtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHByb3ApKSB7XG4gICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgfVxuICBjb25zdCB2YWx1ZSA9IHJlc29sdmUoKTtcbiAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIF9yZXNvbHZlV2l0aENvbnRleHQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICBjb25zdCB7X3Byb3h5LCBfY29udGV4dCwgX3N1YlByb3h5LCBfZGVzY3JpcHRvcnM6IGRlc2NyaXB0b3JzfSA9IHRhcmdldDtcbiAgbGV0IHZhbHVlID0gX3Byb3h5W3Byb3BdO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkgJiYgZGVzY3JpcHRvcnMuaXNTY3JpcHRhYmxlKHByb3ApKSB7XG4gICAgdmFsdWUgPSBfcmVzb2x2ZVNjcmlwdGFibGUocHJvcCwgdmFsdWUsIHRhcmdldCwgcmVjZWl2ZXIpO1xuICB9XG4gIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICB2YWx1ZSA9IF9yZXNvbHZlQXJyYXkocHJvcCwgdmFsdWUsIHRhcmdldCwgZGVzY3JpcHRvcnMuaXNJbmRleGFibGUpO1xuICB9XG4gIGlmIChuZWVkc1N1YlJlc29sdmVyKHByb3AsIHZhbHVlKSkge1xuICAgIHZhbHVlID0gX2F0dGFjaENvbnRleHQodmFsdWUsIF9jb250ZXh0LCBfc3ViUHJveHkgJiYgX3N1YlByb3h5W3Byb3BdLCBkZXNjcmlwdG9ycyk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gX3Jlc29sdmVTY3JpcHRhYmxlKHByb3AsIHZhbHVlLCB0YXJnZXQsIHJlY2VpdmVyKSB7XG4gIGNvbnN0IHtfcHJveHksIF9jb250ZXh0LCBfc3ViUHJveHksIF9zdGFja30gPSB0YXJnZXQ7XG4gIGlmIChfc3RhY2suaGFzKHByb3ApKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZWN1cnNpb24gZGV0ZWN0ZWQ6ICcgKyBBcnJheS5mcm9tKF9zdGFjaykuam9pbignLT4nKSArICctPicgKyBwcm9wKTtcbiAgfVxuICBfc3RhY2suYWRkKHByb3ApO1xuICB2YWx1ZSA9IHZhbHVlKF9jb250ZXh0LCBfc3ViUHJveHkgfHwgcmVjZWl2ZXIpO1xuICBfc3RhY2suZGVsZXRlKHByb3ApO1xuICBpZiAobmVlZHNTdWJSZXNvbHZlcihwcm9wLCB2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGNyZWF0ZVN1YlJlc29sdmVyKF9wcm94eS5fc2NvcGVzLCBfcHJveHksIHByb3AsIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZUFycmF5KHByb3AsIHZhbHVlLCB0YXJnZXQsIGlzSW5kZXhhYmxlKSB7XG4gIGNvbnN0IHtfcHJveHksIF9jb250ZXh0LCBfc3ViUHJveHksIF9kZXNjcmlwdG9yczogZGVzY3JpcHRvcnN9ID0gdGFyZ2V0O1xuICBpZiAoZGVmaW5lZChfY29udGV4dC5pbmRleCkgJiYgaXNJbmRleGFibGUocHJvcCkpIHtcbiAgICB2YWx1ZSA9IHZhbHVlW19jb250ZXh0LmluZGV4ICUgdmFsdWUubGVuZ3RoXTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZVswXSkpIHtcbiAgICBjb25zdCBhcnIgPSB2YWx1ZTtcbiAgICBjb25zdCBzY29wZXMgPSBfcHJveHkuX3Njb3Blcy5maWx0ZXIocyA9PiBzICE9PSBhcnIpO1xuICAgIHZhbHVlID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgY29uc3QgcmVzb2x2ZXIgPSBjcmVhdGVTdWJSZXNvbHZlcihzY29wZXMsIF9wcm94eSwgcHJvcCwgaXRlbSk7XG4gICAgICB2YWx1ZS5wdXNoKF9hdHRhY2hDb250ZXh0KHJlc29sdmVyLCBfY29udGV4dCwgX3N1YlByb3h5ICYmIF9zdWJQcm94eVtwcm9wXSwgZGVzY3JpcHRvcnMpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUZhbGxiYWNrKGZhbGxiYWNrLCBwcm9wLCB2YWx1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihmYWxsYmFjaykgPyBmYWxsYmFjayhwcm9wLCB2YWx1ZSkgOiBmYWxsYmFjaztcbn1cbmNvbnN0IGdldFNjb3BlID0gKGtleSwgcGFyZW50KSA9PiBrZXkgPT09IHRydWUgPyBwYXJlbnRcbiAgOiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyA/IHJlc29sdmVPYmplY3RLZXkocGFyZW50LCBrZXkpIDogdW5kZWZpbmVkO1xuZnVuY3Rpb24gYWRkU2NvcGVzKHNldCwgcGFyZW50U2NvcGVzLCBrZXksIHBhcmVudEZhbGxiYWNrLCB2YWx1ZSkge1xuICBmb3IgKGNvbnN0IHBhcmVudCBvZiBwYXJlbnRTY29wZXMpIHtcbiAgICBjb25zdCBzY29wZSA9IGdldFNjb3BlKGtleSwgcGFyZW50KTtcbiAgICBpZiAoc2NvcGUpIHtcbiAgICAgIHNldC5hZGQoc2NvcGUpO1xuICAgICAgY29uc3QgZmFsbGJhY2sgPSByZXNvbHZlRmFsbGJhY2soc2NvcGUuX2ZhbGxiYWNrLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmIChkZWZpbmVkKGZhbGxiYWNrKSAmJiBmYWxsYmFjayAhPT0ga2V5ICYmIGZhbGxiYWNrICE9PSBwYXJlbnRGYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzY29wZSA9PT0gZmFsc2UgJiYgZGVmaW5lZChwYXJlbnRGYWxsYmFjaykgJiYga2V5ICE9PSBwYXJlbnRGYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN1YlJlc29sdmVyKHBhcmVudFNjb3BlcywgcmVzb2x2ZXIsIHByb3AsIHZhbHVlKSB7XG4gIGNvbnN0IHJvb3RTY29wZXMgPSByZXNvbHZlci5fcm9vdFNjb3BlcztcbiAgY29uc3QgZmFsbGJhY2sgPSByZXNvbHZlRmFsbGJhY2socmVzb2x2ZXIuX2ZhbGxiYWNrLCBwcm9wLCB2YWx1ZSk7XG4gIGNvbnN0IGFsbFNjb3BlcyA9IFsuLi5wYXJlbnRTY29wZXMsIC4uLnJvb3RTY29wZXNdO1xuICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gIHNldC5hZGQodmFsdWUpO1xuICBsZXQga2V5ID0gYWRkU2NvcGVzRnJvbUtleShzZXQsIGFsbFNjb3BlcywgcHJvcCwgZmFsbGJhY2sgfHwgcHJvcCwgdmFsdWUpO1xuICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChkZWZpbmVkKGZhbGxiYWNrKSAmJiBmYWxsYmFjayAhPT0gcHJvcCkge1xuICAgIGtleSA9IGFkZFNjb3Blc0Zyb21LZXkoc2V0LCBhbGxTY29wZXMsIGZhbGxiYWNrLCBrZXksIHZhbHVlKTtcbiAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBfY3JlYXRlUmVzb2x2ZXIoQXJyYXkuZnJvbShzZXQpLCBbJyddLCByb290U2NvcGVzLCBmYWxsYmFjayxcbiAgICAoKSA9PiBzdWJHZXRUYXJnZXQocmVzb2x2ZXIsIHByb3AsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBhZGRTY29wZXNGcm9tS2V5KHNldCwgYWxsU2NvcGVzLCBrZXksIGZhbGxiYWNrLCBpdGVtKSB7XG4gIHdoaWxlIChrZXkpIHtcbiAgICBrZXkgPSBhZGRTY29wZXMoc2V0LCBhbGxTY29wZXMsIGtleSwgZmFsbGJhY2ssIGl0ZW0pO1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiBzdWJHZXRUYXJnZXQocmVzb2x2ZXIsIHByb3AsIHZhbHVlKSB7XG4gIGNvbnN0IHBhcmVudCA9IHJlc29sdmVyLl9nZXRUYXJnZXQoKTtcbiAgaWYgKCEocHJvcCBpbiBwYXJlbnQpKSB7XG4gICAgcGFyZW50W3Byb3BdID0ge307XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gcGFyZW50W3Byb3BdO1xuICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gX3Jlc29sdmVXaXRoUHJlZml4ZXMocHJvcCwgcHJlZml4ZXMsIHNjb3BlcywgcHJveHkpIHtcbiAgbGV0IHZhbHVlO1xuICBmb3IgKGNvbnN0IHByZWZpeCBvZiBwcmVmaXhlcykge1xuICAgIHZhbHVlID0gX3Jlc29sdmUocmVhZEtleShwcmVmaXgsIHByb3ApLCBzY29wZXMpO1xuICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIG5lZWRzU3ViUmVzb2x2ZXIocHJvcCwgdmFsdWUpXG4gICAgICAgID8gY3JlYXRlU3ViUmVzb2x2ZXIoc2NvcGVzLCBwcm94eSwgcHJvcCwgdmFsdWUpXG4gICAgICAgIDogdmFsdWU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBfcmVzb2x2ZShrZXksIHNjb3Blcykge1xuICBmb3IgKGNvbnN0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgIGlmICghc2NvcGUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHNjb3BlW2tleV07XG4gICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBnZXRLZXlzRnJvbUFsbFNjb3Blcyh0YXJnZXQpIHtcbiAgbGV0IGtleXMgPSB0YXJnZXQuX2tleXM7XG4gIGlmICgha2V5cykge1xuICAgIGtleXMgPSB0YXJnZXQuX2tleXMgPSByZXNvbHZlS2V5c0Zyb21BbGxTY29wZXModGFyZ2V0Ll9zY29wZXMpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUtleXNGcm9tQWxsU2NvcGVzKHNjb3Blcykge1xuICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gIGZvciAoY29uc3Qgc2NvcGUgb2Ygc2NvcGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NvcGUpLmZpbHRlcihrID0+ICFrLnN0YXJ0c1dpdGgoJ18nKSkpIHtcbiAgICAgIHNldC5hZGQoa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIEFycmF5LmZyb20oc2V0KTtcbn1cbmZ1bmN0aW9uIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgY29uc3Qge2lTY2FsZX0gPSBtZXRhO1xuICBjb25zdCB7a2V5ID0gJ3InfSA9IHRoaXMuX3BhcnNpbmc7XG4gIGNvbnN0IHBhcnNlZCA9IG5ldyBBcnJheShjb3VudCk7XG4gIGxldCBpLCBpbGVuLCBpbmRleCwgaXRlbTtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGNvdW50OyBpIDwgaWxlbjsgKytpKSB7XG4gICAgaW5kZXggPSBpICsgc3RhcnQ7XG4gICAgaXRlbSA9IGRhdGFbaW5kZXhdO1xuICAgIHBhcnNlZFtpXSA9IHtcbiAgICAgIHI6IGlTY2FsZS5wYXJzZShyZXNvbHZlT2JqZWN0S2V5KGl0ZW0sIGtleSksIGluZGV4KVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cblxuY29uc3QgRVBTSUxPTiA9IE51bWJlci5FUFNJTE9OIHx8IDFlLTE0O1xuY29uc3QgZ2V0UG9pbnQgPSAocG9pbnRzLCBpKSA9PiBpIDwgcG9pbnRzLmxlbmd0aCAmJiAhcG9pbnRzW2ldLnNraXAgJiYgcG9pbnRzW2ldO1xuY29uc3QgZ2V0VmFsdWVBeGlzID0gKGluZGV4QXhpcykgPT4gaW5kZXhBeGlzID09PSAneCcgPyAneScgOiAneCc7XG5mdW5jdGlvbiBzcGxpbmVDdXJ2ZShmaXJzdFBvaW50LCBtaWRkbGVQb2ludCwgYWZ0ZXJQb2ludCwgdCkge1xuICBjb25zdCBwcmV2aW91cyA9IGZpcnN0UG9pbnQuc2tpcCA/IG1pZGRsZVBvaW50IDogZmlyc3RQb2ludDtcbiAgY29uc3QgY3VycmVudCA9IG1pZGRsZVBvaW50O1xuICBjb25zdCBuZXh0ID0gYWZ0ZXJQb2ludC5za2lwID8gbWlkZGxlUG9pbnQgOiBhZnRlclBvaW50O1xuICBjb25zdCBkMDEgPSBkaXN0YW5jZUJldHdlZW5Qb2ludHMoY3VycmVudCwgcHJldmlvdXMpO1xuICBjb25zdCBkMTIgPSBkaXN0YW5jZUJldHdlZW5Qb2ludHMobmV4dCwgY3VycmVudCk7XG4gIGxldCBzMDEgPSBkMDEgLyAoZDAxICsgZDEyKTtcbiAgbGV0IHMxMiA9IGQxMiAvIChkMDEgKyBkMTIpO1xuICBzMDEgPSBpc05hTihzMDEpID8gMCA6IHMwMTtcbiAgczEyID0gaXNOYU4oczEyKSA/IDAgOiBzMTI7XG4gIGNvbnN0IGZhID0gdCAqIHMwMTtcbiAgY29uc3QgZmIgPSB0ICogczEyO1xuICByZXR1cm4ge1xuICAgIHByZXZpb3VzOiB7XG4gICAgICB4OiBjdXJyZW50LnggLSBmYSAqIChuZXh0LnggLSBwcmV2aW91cy54KSxcbiAgICAgIHk6IGN1cnJlbnQueSAtIGZhICogKG5leHQueSAtIHByZXZpb3VzLnkpXG4gICAgfSxcbiAgICBuZXh0OiB7XG4gICAgICB4OiBjdXJyZW50LnggKyBmYiAqIChuZXh0LnggLSBwcmV2aW91cy54KSxcbiAgICAgIHk6IGN1cnJlbnQueSArIGZiICogKG5leHQueSAtIHByZXZpb3VzLnkpXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gbW9ub3RvbmVBZGp1c3QocG9pbnRzLCBkZWx0YUssIG1LKSB7XG4gIGNvbnN0IHBvaW50c0xlbiA9IHBvaW50cy5sZW5ndGg7XG4gIGxldCBhbHBoYUssIGJldGFLLCB0YXVLLCBzcXVhcmVkTWFnbml0dWRlLCBwb2ludEN1cnJlbnQ7XG4gIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHNMZW4gLSAxOyArK2kpIHtcbiAgICBwb2ludEN1cnJlbnQgPSBwb2ludEFmdGVyO1xuICAgIHBvaW50QWZ0ZXIgPSBnZXRQb2ludChwb2ludHMsIGkgKyAxKTtcbiAgICBpZiAoIXBvaW50Q3VycmVudCB8fCAhcG9pbnRBZnRlcikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbG1vc3RFcXVhbHMoZGVsdGFLW2ldLCAwLCBFUFNJTE9OKSkge1xuICAgICAgbUtbaV0gPSBtS1tpICsgMV0gPSAwO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGFscGhhSyA9IG1LW2ldIC8gZGVsdGFLW2ldO1xuICAgIGJldGFLID0gbUtbaSArIDFdIC8gZGVsdGFLW2ldO1xuICAgIHNxdWFyZWRNYWduaXR1ZGUgPSBNYXRoLnBvdyhhbHBoYUssIDIpICsgTWF0aC5wb3coYmV0YUssIDIpO1xuICAgIGlmIChzcXVhcmVkTWFnbml0dWRlIDw9IDkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB0YXVLID0gMyAvIE1hdGguc3FydChzcXVhcmVkTWFnbml0dWRlKTtcbiAgICBtS1tpXSA9IGFscGhhSyAqIHRhdUsgKiBkZWx0YUtbaV07XG4gICAgbUtbaSArIDFdID0gYmV0YUsgKiB0YXVLICogZGVsdGFLW2ldO1xuICB9XG59XG5mdW5jdGlvbiBtb25vdG9uZUNvbXB1dGUocG9pbnRzLCBtSywgaW5kZXhBeGlzID0gJ3gnKSB7XG4gIGNvbnN0IHZhbHVlQXhpcyA9IGdldFZhbHVlQXhpcyhpbmRleEF4aXMpO1xuICBjb25zdCBwb2ludHNMZW4gPSBwb2ludHMubGVuZ3RoO1xuICBsZXQgZGVsdGEsIHBvaW50QmVmb3JlLCBwb2ludEN1cnJlbnQ7XG4gIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHNMZW47ICsraSkge1xuICAgIHBvaW50QmVmb3JlID0gcG9pbnRDdXJyZW50O1xuICAgIHBvaW50Q3VycmVudCA9IHBvaW50QWZ0ZXI7XG4gICAgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgaSArIDEpO1xuICAgIGlmICghcG9pbnRDdXJyZW50KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgaVBpeGVsID0gcG9pbnRDdXJyZW50W2luZGV4QXhpc107XG4gICAgY29uc3QgdlBpeGVsID0gcG9pbnRDdXJyZW50W3ZhbHVlQXhpc107XG4gICAgaWYgKHBvaW50QmVmb3JlKSB7XG4gICAgICBkZWx0YSA9IChpUGl4ZWwgLSBwb2ludEJlZm9yZVtpbmRleEF4aXNdKSAvIDM7XG4gICAgICBwb2ludEN1cnJlbnRbYGNwMSR7aW5kZXhBeGlzfWBdID0gaVBpeGVsIC0gZGVsdGE7XG4gICAgICBwb2ludEN1cnJlbnRbYGNwMSR7dmFsdWVBeGlzfWBdID0gdlBpeGVsIC0gZGVsdGEgKiBtS1tpXTtcbiAgICB9XG4gICAgaWYgKHBvaW50QWZ0ZXIpIHtcbiAgICAgIGRlbHRhID0gKHBvaW50QWZ0ZXJbaW5kZXhBeGlzXSAtIGlQaXhlbCkgLyAzO1xuICAgICAgcG9pbnRDdXJyZW50W2BjcDIke2luZGV4QXhpc31gXSA9IGlQaXhlbCArIGRlbHRhO1xuICAgICAgcG9pbnRDdXJyZW50W2BjcDIke3ZhbHVlQXhpc31gXSA9IHZQaXhlbCArIGRlbHRhICogbUtbaV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzcGxpbmVDdXJ2ZU1vbm90b25lKHBvaW50cywgaW5kZXhBeGlzID0gJ3gnKSB7XG4gIGNvbnN0IHZhbHVlQXhpcyA9IGdldFZhbHVlQXhpcyhpbmRleEF4aXMpO1xuICBjb25zdCBwb2ludHNMZW4gPSBwb2ludHMubGVuZ3RoO1xuICBjb25zdCBkZWx0YUsgPSBBcnJheShwb2ludHNMZW4pLmZpbGwoMCk7XG4gIGNvbnN0IG1LID0gQXJyYXkocG9pbnRzTGVuKTtcbiAgbGV0IGksIHBvaW50QmVmb3JlLCBwb2ludEN1cnJlbnQ7XG4gIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgZm9yIChpID0gMDsgaSA8IHBvaW50c0xlbjsgKytpKSB7XG4gICAgcG9pbnRCZWZvcmUgPSBwb2ludEN1cnJlbnQ7XG4gICAgcG9pbnRDdXJyZW50ID0gcG9pbnRBZnRlcjtcbiAgICBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCBpICsgMSk7XG4gICAgaWYgKCFwb2ludEN1cnJlbnQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocG9pbnRBZnRlcikge1xuICAgICAgY29uc3Qgc2xvcGVEZWx0YSA9IHBvaW50QWZ0ZXJbaW5kZXhBeGlzXSAtIHBvaW50Q3VycmVudFtpbmRleEF4aXNdO1xuICAgICAgZGVsdGFLW2ldID0gc2xvcGVEZWx0YSAhPT0gMCA/IChwb2ludEFmdGVyW3ZhbHVlQXhpc10gLSBwb2ludEN1cnJlbnRbdmFsdWVBeGlzXSkgLyBzbG9wZURlbHRhIDogMDtcbiAgICB9XG4gICAgbUtbaV0gPSAhcG9pbnRCZWZvcmUgPyBkZWx0YUtbaV1cbiAgICAgIDogIXBvaW50QWZ0ZXIgPyBkZWx0YUtbaSAtIDFdXG4gICAgICA6IChzaWduKGRlbHRhS1tpIC0gMV0pICE9PSBzaWduKGRlbHRhS1tpXSkpID8gMFxuICAgICAgOiAoZGVsdGFLW2kgLSAxXSArIGRlbHRhS1tpXSkgLyAyO1xuICB9XG4gIG1vbm90b25lQWRqdXN0KHBvaW50cywgZGVsdGFLLCBtSyk7XG4gIG1vbm90b25lQ29tcHV0ZShwb2ludHMsIG1LLCBpbmRleEF4aXMpO1xufVxuZnVuY3Rpb24gY2FwQ29udHJvbFBvaW50KHB0LCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4ocHQsIG1heCksIG1pbik7XG59XG5mdW5jdGlvbiBjYXBCZXppZXJQb2ludHMocG9pbnRzLCBhcmVhKSB7XG4gIGxldCBpLCBpbGVuLCBwb2ludCwgaW5BcmVhLCBpbkFyZWFQcmV2O1xuICBsZXQgaW5BcmVhTmV4dCA9IF9pc1BvaW50SW5BcmVhKHBvaW50c1swXSwgYXJlYSk7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgaW5BcmVhUHJldiA9IGluQXJlYTtcbiAgICBpbkFyZWEgPSBpbkFyZWFOZXh0O1xuICAgIGluQXJlYU5leHQgPSBpIDwgaWxlbiAtIDEgJiYgX2lzUG9pbnRJbkFyZWEocG9pbnRzW2kgKyAxXSwgYXJlYSk7XG4gICAgaWYgKCFpbkFyZWEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwb2ludCA9IHBvaW50c1tpXTtcbiAgICBpZiAoaW5BcmVhUHJldikge1xuICAgICAgcG9pbnQuY3AxeCA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDF4LCBhcmVhLmxlZnQsIGFyZWEucmlnaHQpO1xuICAgICAgcG9pbnQuY3AxeSA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDF5LCBhcmVhLnRvcCwgYXJlYS5ib3R0b20pO1xuICAgIH1cbiAgICBpZiAoaW5BcmVhTmV4dCkge1xuICAgICAgcG9pbnQuY3AyeCA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDJ4LCBhcmVhLmxlZnQsIGFyZWEucmlnaHQpO1xuICAgICAgcG9pbnQuY3AyeSA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDJ5LCBhcmVhLnRvcCwgYXJlYS5ib3R0b20pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHMocG9pbnRzLCBvcHRpb25zLCBhcmVhLCBsb29wLCBpbmRleEF4aXMpIHtcbiAgbGV0IGksIGlsZW4sIHBvaW50LCBjb250cm9sUG9pbnRzO1xuICBpZiAob3B0aW9ucy5zcGFuR2Fwcykge1xuICAgIHBvaW50cyA9IHBvaW50cy5maWx0ZXIoKHB0KSA9PiAhcHQuc2tpcCk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykge1xuICAgIHNwbGluZUN1cnZlTW9ub3RvbmUocG9pbnRzLCBpbmRleEF4aXMpO1xuICB9IGVsc2Uge1xuICAgIGxldCBwcmV2ID0gbG9vcCA/IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gOiBwb2ludHNbMF07XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHBvaW50cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgY29udHJvbFBvaW50cyA9IHNwbGluZUN1cnZlKFxuICAgICAgICBwcmV2LFxuICAgICAgICBwb2ludCxcbiAgICAgICAgcG9pbnRzW01hdGgubWluKGkgKyAxLCBpbGVuIC0gKGxvb3AgPyAwIDogMSkpICUgaWxlbl0sXG4gICAgICAgIG9wdGlvbnMudGVuc2lvblxuICAgICAgKTtcbiAgICAgIHBvaW50LmNwMXggPSBjb250cm9sUG9pbnRzLnByZXZpb3VzLng7XG4gICAgICBwb2ludC5jcDF5ID0gY29udHJvbFBvaW50cy5wcmV2aW91cy55O1xuICAgICAgcG9pbnQuY3AyeCA9IGNvbnRyb2xQb2ludHMubmV4dC54O1xuICAgICAgcG9pbnQuY3AyeSA9IGNvbnRyb2xQb2ludHMubmV4dC55O1xuICAgICAgcHJldiA9IHBvaW50O1xuICAgIH1cbiAgfVxuICBpZiAob3B0aW9ucy5jYXBCZXppZXJQb2ludHMpIHtcbiAgICBjYXBCZXppZXJQb2ludHMocG9pbnRzLCBhcmVhKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfaXNEb21TdXBwb3J0ZWQoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gX2dldFBhcmVudE5vZGUoZG9tTm9kZSkge1xuICBsZXQgcGFyZW50ID0gZG9tTm9kZS5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50ICYmIHBhcmVudC50b1N0cmluZygpID09PSAnW29iamVjdCBTaGFkb3dSb290XScpIHtcbiAgICBwYXJlbnQgPSBwYXJlbnQuaG9zdDtcbiAgfVxuICByZXR1cm4gcGFyZW50O1xufVxuZnVuY3Rpb24gcGFyc2VNYXhTdHlsZShzdHlsZVZhbHVlLCBub2RlLCBwYXJlbnRQcm9wZXJ0eSkge1xuICBsZXQgdmFsdWVJblBpeGVscztcbiAgaWYgKHR5cGVvZiBzdHlsZVZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHZhbHVlSW5QaXhlbHMgPSBwYXJzZUludChzdHlsZVZhbHVlLCAxMCk7XG4gICAgaWYgKHN0eWxlVmFsdWUuaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgICAgdmFsdWVJblBpeGVscyA9IHZhbHVlSW5QaXhlbHMgLyAxMDAgKiBub2RlLnBhcmVudE5vZGVbcGFyZW50UHJvcGVydHldO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YWx1ZUluUGl4ZWxzID0gc3R5bGVWYWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWVJblBpeGVscztcbn1cbmNvbnN0IGdldENvbXB1dGVkU3R5bGUgPSAoZWxlbWVudCkgPT4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG5mdW5jdGlvbiBnZXRTdHlsZShlbCwgcHJvcGVydHkpIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xufVxuY29uc3QgcG9zaXRpb25zID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbmZ1bmN0aW9uIGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZXMsIHN0eWxlLCBzdWZmaXgpIHtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIHN1ZmZpeCA9IHN1ZmZpeCA/ICctJyArIHN1ZmZpeCA6ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uc1tpXTtcbiAgICByZXN1bHRbcG9zXSA9IHBhcnNlRmxvYXQoc3R5bGVzW3N0eWxlICsgJy0nICsgcG9zICsgc3VmZml4XSkgfHwgMDtcbiAgfVxuICByZXN1bHQud2lkdGggPSByZXN1bHQubGVmdCArIHJlc3VsdC5yaWdodDtcbiAgcmVzdWx0LmhlaWdodCA9IHJlc3VsdC50b3AgKyByZXN1bHQuYm90dG9tO1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgdXNlT2Zmc2V0UG9zID0gKHgsIHksIHRhcmdldCkgPT4gKHggPiAwIHx8IHkgPiAwKSAmJiAoIXRhcmdldCB8fCAhdGFyZ2V0LnNoYWRvd1Jvb3QpO1xuZnVuY3Rpb24gZ2V0Q2FudmFzUG9zaXRpb24oZSwgY2FudmFzKSB7XG4gIGNvbnN0IHRvdWNoZXMgPSBlLnRvdWNoZXM7XG4gIGNvbnN0IHNvdXJjZSA9IHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPyB0b3VjaGVzWzBdIDogZTtcbiAgY29uc3Qge29mZnNldFgsIG9mZnNldFl9ID0gc291cmNlO1xuICBsZXQgYm94ID0gZmFsc2U7XG4gIGxldCB4LCB5O1xuICBpZiAodXNlT2Zmc2V0UG9zKG9mZnNldFgsIG9mZnNldFksIGUudGFyZ2V0KSkge1xuICAgIHggPSBvZmZzZXRYO1xuICAgIHkgPSBvZmZzZXRZO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgeCA9IHNvdXJjZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgIHkgPSBzb3VyY2UuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIGJveCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHt4LCB5LCBib3h9O1xufVxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVQb3NpdGlvbihldnQsIGNoYXJ0KSB7XG4gIGlmICgnbmF0aXZlJyBpbiBldnQpIHtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG4gIGNvbnN0IHtjYW52YXMsIGN1cnJlbnREZXZpY2VQaXhlbFJhdGlvfSA9IGNoYXJ0O1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY2FudmFzKTtcbiAgY29uc3QgYm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCc7XG4gIGNvbnN0IHBhZGRpbmdzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAncGFkZGluZycpO1xuICBjb25zdCBib3JkZXJzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAnYm9yZGVyJywgJ3dpZHRoJyk7XG4gIGNvbnN0IHt4LCB5LCBib3h9ID0gZ2V0Q2FudmFzUG9zaXRpb24oZXZ0LCBjYW52YXMpO1xuICBjb25zdCB4T2Zmc2V0ID0gcGFkZGluZ3MubGVmdCArIChib3ggJiYgYm9yZGVycy5sZWZ0KTtcbiAgY29uc3QgeU9mZnNldCA9IHBhZGRpbmdzLnRvcCArIChib3ggJiYgYm9yZGVycy50b3ApO1xuICBsZXQge3dpZHRoLCBoZWlnaHR9ID0gY2hhcnQ7XG4gIGlmIChib3JkZXJCb3gpIHtcbiAgICB3aWR0aCAtPSBwYWRkaW5ncy53aWR0aCArIGJvcmRlcnMud2lkdGg7XG4gICAgaGVpZ2h0IC09IHBhZGRpbmdzLmhlaWdodCArIGJvcmRlcnMuaGVpZ2h0O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogTWF0aC5yb3VuZCgoeCAtIHhPZmZzZXQpIC8gd2lkdGggKiBjYW52YXMud2lkdGggLyBjdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyksXG4gICAgeTogTWF0aC5yb3VuZCgoeSAtIHlPZmZzZXQpIC8gaGVpZ2h0ICogY2FudmFzLmhlaWdodCAvIGN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgbGV0IG1heFdpZHRoLCBtYXhIZWlnaHQ7XG4gIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gX2dldFBhcmVudE5vZGUoY2FudmFzKTtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgd2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICBoZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgY29udGFpbmVyU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lcik7XG4gICAgICBjb25zdCBjb250YWluZXJCb3JkZXIgPSBnZXRQb3NpdGlvbmVkU3R5bGUoY29udGFpbmVyU3R5bGUsICdib3JkZXInLCAnd2lkdGgnKTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclBhZGRpbmcgPSBnZXRQb3NpdGlvbmVkU3R5bGUoY29udGFpbmVyU3R5bGUsICdwYWRkaW5nJyk7XG4gICAgICB3aWR0aCA9IHJlY3Qud2lkdGggLSBjb250YWluZXJQYWRkaW5nLndpZHRoIC0gY29udGFpbmVyQm9yZGVyLndpZHRoO1xuICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQgLSBjb250YWluZXJQYWRkaW5nLmhlaWdodCAtIGNvbnRhaW5lckJvcmRlci5oZWlnaHQ7XG4gICAgICBtYXhXaWR0aCA9IHBhcnNlTWF4U3R5bGUoY29udGFpbmVyU3R5bGUubWF4V2lkdGgsIGNvbnRhaW5lciwgJ2NsaWVudFdpZHRoJyk7XG4gICAgICBtYXhIZWlnaHQgPSBwYXJzZU1heFN0eWxlKGNvbnRhaW5lclN0eWxlLm1heEhlaWdodCwgY29udGFpbmVyLCAnY2xpZW50SGVpZ2h0Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIG1heFdpZHRoOiBtYXhXaWR0aCB8fCBJTkZJTklUWSxcbiAgICBtYXhIZWlnaHQ6IG1heEhlaWdodCB8fCBJTkZJTklUWVxuICB9O1xufVxuY29uc3Qgcm91bmQxID0gdiA9PiBNYXRoLnJvdW5kKHYgKiAxMCkgLyAxMDtcbmZ1bmN0aW9uIGdldE1heGltdW1TaXplKGNhbnZhcywgYmJXaWR0aCwgYmJIZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShjYW52YXMpO1xuICBjb25zdCBtYXJnaW5zID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAnbWFyZ2luJyk7XG4gIGNvbnN0IG1heFdpZHRoID0gcGFyc2VNYXhTdHlsZShzdHlsZS5tYXhXaWR0aCwgY2FudmFzLCAnY2xpZW50V2lkdGgnKSB8fCBJTkZJTklUWTtcbiAgY29uc3QgbWF4SGVpZ2h0ID0gcGFyc2VNYXhTdHlsZShzdHlsZS5tYXhIZWlnaHQsIGNhbnZhcywgJ2NsaWVudEhlaWdodCcpIHx8IElORklOSVRZO1xuICBjb25zdCBjb250YWluZXJTaXplID0gZ2V0Q29udGFpbmVyU2l6ZShjYW52YXMsIGJiV2lkdGgsIGJiSGVpZ2h0KTtcbiAgbGV0IHt3aWR0aCwgaGVpZ2h0fSA9IGNvbnRhaW5lclNpemU7XG4gIGlmIChzdHlsZS5ib3hTaXppbmcgPT09ICdjb250ZW50LWJveCcpIHtcbiAgICBjb25zdCBib3JkZXJzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAnYm9yZGVyJywgJ3dpZHRoJyk7XG4gICAgY29uc3QgcGFkZGluZ3MgPSBnZXRQb3NpdGlvbmVkU3R5bGUoc3R5bGUsICdwYWRkaW5nJyk7XG4gICAgd2lkdGggLT0gcGFkZGluZ3Mud2lkdGggKyBib3JkZXJzLndpZHRoO1xuICAgIGhlaWdodCAtPSBwYWRkaW5ncy5oZWlnaHQgKyBib3JkZXJzLmhlaWdodDtcbiAgfVxuICB3aWR0aCA9IE1hdGgubWF4KDAsIHdpZHRoIC0gbWFyZ2lucy53aWR0aCk7XG4gIGhlaWdodCA9IE1hdGgubWF4KDAsIGFzcGVjdFJhdGlvID8gTWF0aC5mbG9vcih3aWR0aCAvIGFzcGVjdFJhdGlvKSA6IGhlaWdodCAtIG1hcmdpbnMuaGVpZ2h0KTtcbiAgd2lkdGggPSByb3VuZDEoTWF0aC5taW4od2lkdGgsIG1heFdpZHRoLCBjb250YWluZXJTaXplLm1heFdpZHRoKSk7XG4gIGhlaWdodCA9IHJvdW5kMShNYXRoLm1pbihoZWlnaHQsIG1heEhlaWdodCwgY29udGFpbmVyU2l6ZS5tYXhIZWlnaHQpKTtcbiAgaWYgKHdpZHRoICYmICFoZWlnaHQpIHtcbiAgICBoZWlnaHQgPSByb3VuZDEod2lkdGggLyAyKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodFxuICB9O1xufVxuZnVuY3Rpb24gcmV0aW5hU2NhbGUoY2hhcnQsIGZvcmNlUmF0aW8sIGZvcmNlU3R5bGUpIHtcbiAgY29uc3QgcGl4ZWxSYXRpbyA9IGZvcmNlUmF0aW8gfHwgMTtcbiAgY29uc3QgZGV2aWNlSGVpZ2h0ID0gTWF0aC5mbG9vcihjaGFydC5oZWlnaHQgKiBwaXhlbFJhdGlvKTtcbiAgY29uc3QgZGV2aWNlV2lkdGggPSBNYXRoLmZsb29yKGNoYXJ0LndpZHRoICogcGl4ZWxSYXRpbyk7XG4gIGNoYXJ0LmhlaWdodCA9IGRldmljZUhlaWdodCAvIHBpeGVsUmF0aW87XG4gIGNoYXJ0LndpZHRoID0gZGV2aWNlV2lkdGggLyBwaXhlbFJhdGlvO1xuICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIGlmIChjYW52YXMuc3R5bGUgJiYgKGZvcmNlU3R5bGUgfHwgKCFjYW52YXMuc3R5bGUuaGVpZ2h0ICYmICFjYW52YXMuc3R5bGUud2lkdGgpKSkge1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtjaGFydC5oZWlnaHR9cHhgO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IGAke2NoYXJ0LndpZHRofXB4YDtcbiAgfVxuICBpZiAoY2hhcnQuY3VycmVudERldmljZVBpeGVsUmF0aW8gIT09IHBpeGVsUmF0aW9cbiAgICAgIHx8IGNhbnZhcy5oZWlnaHQgIT09IGRldmljZUhlaWdodFxuICAgICAgfHwgY2FudmFzLndpZHRoICE9PSBkZXZpY2VXaWR0aCkge1xuICAgIGNoYXJ0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvID0gcGl4ZWxSYXRpbztcbiAgICBjYW52YXMuaGVpZ2h0ID0gZGV2aWNlSGVpZ2h0O1xuICAgIGNhbnZhcy53aWR0aCA9IGRldmljZVdpZHRoO1xuICAgIGNoYXJ0LmN0eC5zZXRUcmFuc2Zvcm0ocGl4ZWxSYXRpbywgMCwgMCwgcGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuY29uc3Qgc3VwcG9ydHNFdmVudExpc3RlbmVyT3B0aW9ucyA9IChmdW5jdGlvbigpIHtcbiAgbGV0IHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdGlvbnMpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0aW9ucyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZDtcbn0oKSk7XG5mdW5jdGlvbiByZWFkVXNlZFNpemUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgY29uc3QgdmFsdWUgPSBnZXRTdHlsZShlbGVtZW50LCBwcm9wZXJ0eSk7XG4gIGNvbnN0IG1hdGNoZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCgvXihcXGQrKShcXC5cXGQrKT9weCQvKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyArbWF0Y2hlc1sxXSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gX3BvaW50SW5MaW5lKHAxLCBwMiwgdCwgbW9kZSkge1xuICByZXR1cm4ge1xuICAgIHg6IHAxLnggKyB0ICogKHAyLnggLSBwMS54KSxcbiAgICB5OiBwMS55ICsgdCAqIChwMi55IC0gcDEueSlcbiAgfTtcbn1cbmZ1bmN0aW9uIF9zdGVwcGVkSW50ZXJwb2xhdGlvbihwMSwgcDIsIHQsIG1vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBwMS54ICsgdCAqIChwMi54IC0gcDEueCksXG4gICAgeTogbW9kZSA9PT0gJ21pZGRsZScgPyB0IDwgMC41ID8gcDEueSA6IHAyLnlcbiAgICA6IG1vZGUgPT09ICdhZnRlcicgPyB0IDwgMSA/IHAxLnkgOiBwMi55XG4gICAgOiB0ID4gMCA/IHAyLnkgOiBwMS55XG4gIH07XG59XG5mdW5jdGlvbiBfYmV6aWVySW50ZXJwb2xhdGlvbihwMSwgcDIsIHQsIG1vZGUpIHtcbiAgY29uc3QgY3AxID0ge3g6IHAxLmNwMngsIHk6IHAxLmNwMnl9O1xuICBjb25zdCBjcDIgPSB7eDogcDIuY3AxeCwgeTogcDIuY3AxeX07XG4gIGNvbnN0IGEgPSBfcG9pbnRJbkxpbmUocDEsIGNwMSwgdCk7XG4gIGNvbnN0IGIgPSBfcG9pbnRJbkxpbmUoY3AxLCBjcDIsIHQpO1xuICBjb25zdCBjID0gX3BvaW50SW5MaW5lKGNwMiwgcDIsIHQpO1xuICBjb25zdCBkID0gX3BvaW50SW5MaW5lKGEsIGIsIHQpO1xuICBjb25zdCBlID0gX3BvaW50SW5MaW5lKGIsIGMsIHQpO1xuICByZXR1cm4gX3BvaW50SW5MaW5lKGQsIGUsIHQpO1xufVxuXG5jb25zdCBpbnRsQ2FjaGUgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXROdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBjYWNoZUtleSA9IGxvY2FsZSArIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICBsZXQgZm9ybWF0dGVyID0gaW50bENhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmICghZm9ybWF0dGVyKSB7XG4gICAgZm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucyk7XG4gICAgaW50bENhY2hlLnNldChjYWNoZUtleSwgZm9ybWF0dGVyKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGVyO1xufVxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bSwgbG9jYWxlLCBvcHRpb25zKSB7XG4gIHJldHVybiBnZXROdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zKS5mb3JtYXQobnVtKTtcbn1cblxuY29uc3QgZ2V0UmlnaHRUb0xlZnRBZGFwdGVyID0gZnVuY3Rpb24ocmVjdFgsIHdpZHRoKSB7XG4gIHJldHVybiB7XG4gICAgeCh4KSB7XG4gICAgICByZXR1cm4gcmVjdFggKyByZWN0WCArIHdpZHRoIC0geDtcbiAgICB9LFxuICAgIHNldFdpZHRoKHcpIHtcbiAgICAgIHdpZHRoID0gdztcbiAgICB9LFxuICAgIHRleHRBbGlnbihhbGlnbikge1xuICAgICAgaWYgKGFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICByZXR1cm4gYWxpZ247XG4gICAgICB9XG4gICAgICByZXR1cm4gYWxpZ24gPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIH0sXG4gICAgeFBsdXMoeCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB4IC0gdmFsdWU7XG4gICAgfSxcbiAgICBsZWZ0Rm9yTHRyKHgsIGl0ZW1XaWR0aCkge1xuICAgICAgcmV0dXJuIHggLSBpdGVtV2lkdGg7XG4gICAgfSxcbiAgfTtcbn07XG5jb25zdCBnZXRMZWZ0VG9SaWdodEFkYXB0ZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB4KHgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gICAgc2V0V2lkdGgodykge1xuICAgIH0sXG4gICAgdGV4dEFsaWduKGFsaWduKSB7XG4gICAgICByZXR1cm4gYWxpZ247XG4gICAgfSxcbiAgICB4UGx1cyh4LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHggKyB2YWx1ZTtcbiAgICB9LFxuICAgIGxlZnRGb3JMdHIoeCwgX2l0ZW1XaWR0aCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgfTtcbn07XG5mdW5jdGlvbiBnZXRSdGxBZGFwdGVyKHJ0bCwgcmVjdFgsIHdpZHRoKSB7XG4gIHJldHVybiBydGwgPyBnZXRSaWdodFRvTGVmdEFkYXB0ZXIocmVjdFgsIHdpZHRoKSA6IGdldExlZnRUb1JpZ2h0QWRhcHRlcigpO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVUZXh0RGlyZWN0aW9uKGN0eCwgZGlyZWN0aW9uKSB7XG4gIGxldCBzdHlsZSwgb3JpZ2luYWw7XG4gIGlmIChkaXJlY3Rpb24gPT09ICdsdHInIHx8IGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICBzdHlsZSA9IGN0eC5jYW52YXMuc3R5bGU7XG4gICAgb3JpZ2luYWwgPSBbXG4gICAgICBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSxcbiAgICAgIHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkoJ2RpcmVjdGlvbicpLFxuICAgIF07XG4gICAgc3R5bGUuc2V0UHJvcGVydHkoJ2RpcmVjdGlvbicsIGRpcmVjdGlvbiwgJ2ltcG9ydGFudCcpO1xuICAgIGN0eC5wcmV2VGV4dERpcmVjdGlvbiA9IG9yaWdpbmFsO1xuICB9XG59XG5mdW5jdGlvbiByZXN0b3JlVGV4dERpcmVjdGlvbihjdHgsIG9yaWdpbmFsKSB7XG4gIGlmIChvcmlnaW5hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZGVsZXRlIGN0eC5wcmV2VGV4dERpcmVjdGlvbjtcbiAgICBjdHguY2FudmFzLnN0eWxlLnNldFByb3BlcnR5KCdkaXJlY3Rpb24nLCBvcmlnaW5hbFswXSwgb3JpZ2luYWxbMV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb3BlcnR5Rm4ocHJvcGVydHkpIHtcbiAgaWYgKHByb3BlcnR5ID09PSAnYW5nbGUnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJldHdlZW46IF9hbmdsZUJldHdlZW4sXG4gICAgICBjb21wYXJlOiBfYW5nbGVEaWZmLFxuICAgICAgbm9ybWFsaXplOiBfbm9ybWFsaXplQW5nbGUsXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGJldHdlZW46IF9pc0JldHdlZW4sXG4gICAgY29tcGFyZTogKGEsIGIpID0+IGEgLSBiLFxuICAgIG5vcm1hbGl6ZTogeCA9PiB4XG4gIH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVTZWdtZW50KHtzdGFydCwgZW5kLCBjb3VudCwgbG9vcCwgc3R5bGV9KSB7XG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0ICUgY291bnQsXG4gICAgZW5kOiBlbmQgJSBjb3VudCxcbiAgICBsb29wOiBsb29wICYmIChlbmQgLSBzdGFydCArIDEpICUgY291bnQgPT09IDAsXG4gICAgc3R5bGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFNlZ21lbnQoc2VnbWVudCwgcG9pbnRzLCBib3VuZHMpIHtcbiAgY29uc3Qge3Byb3BlcnR5LCBzdGFydDogc3RhcnRCb3VuZCwgZW5kOiBlbmRCb3VuZH0gPSBib3VuZHM7XG4gIGNvbnN0IHtiZXR3ZWVuLCBub3JtYWxpemV9ID0gcHJvcGVydHlGbihwcm9wZXJ0eSk7XG4gIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgbGV0IHtzdGFydCwgZW5kLCBsb29wfSA9IHNlZ21lbnQ7XG4gIGxldCBpLCBpbGVuO1xuICBpZiAobG9vcCkge1xuICAgIHN0YXJ0ICs9IGNvdW50O1xuICAgIGVuZCArPSBjb3VudDtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGlmICghYmV0d2Vlbihub3JtYWxpemUocG9pbnRzW3N0YXJ0ICUgY291bnRdW3Byb3BlcnR5XSksIHN0YXJ0Qm91bmQsIGVuZEJvdW5kKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHN0YXJ0LS07XG4gICAgICBlbmQtLTtcbiAgICB9XG4gICAgc3RhcnQgJT0gY291bnQ7XG4gICAgZW5kICU9IGNvdW50O1xuICB9XG4gIGlmIChlbmQgPCBzdGFydCkge1xuICAgIGVuZCArPSBjb3VudDtcbiAgfVxuICByZXR1cm4ge3N0YXJ0LCBlbmQsIGxvb3AsIHN0eWxlOiBzZWdtZW50LnN0eWxlfTtcbn1cbmZ1bmN0aW9uIF9ib3VuZFNlZ21lbnQoc2VnbWVudCwgcG9pbnRzLCBib3VuZHMpIHtcbiAgaWYgKCFib3VuZHMpIHtcbiAgICByZXR1cm4gW3NlZ21lbnRdO1xuICB9XG4gIGNvbnN0IHtwcm9wZXJ0eSwgc3RhcnQ6IHN0YXJ0Qm91bmQsIGVuZDogZW5kQm91bmR9ID0gYm91bmRzO1xuICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGNvbnN0IHtjb21wYXJlLCBiZXR3ZWVuLCBub3JtYWxpemV9ID0gcHJvcGVydHlGbihwcm9wZXJ0eSk7XG4gIGNvbnN0IHtzdGFydCwgZW5kLCBsb29wLCBzdHlsZX0gPSBnZXRTZWdtZW50KHNlZ21lbnQsIHBvaW50cywgYm91bmRzKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgbGV0IHN1YlN0YXJ0ID0gbnVsbDtcbiAgbGV0IHZhbHVlLCBwb2ludCwgcHJldlZhbHVlO1xuICBjb25zdCBzdGFydElzQmVmb3JlID0gKCkgPT4gYmV0d2VlbihzdGFydEJvdW5kLCBwcmV2VmFsdWUsIHZhbHVlKSAmJiBjb21wYXJlKHN0YXJ0Qm91bmQsIHByZXZWYWx1ZSkgIT09IDA7XG4gIGNvbnN0IGVuZElzQmVmb3JlID0gKCkgPT4gY29tcGFyZShlbmRCb3VuZCwgdmFsdWUpID09PSAwIHx8IGJldHdlZW4oZW5kQm91bmQsIHByZXZWYWx1ZSwgdmFsdWUpO1xuICBjb25zdCBzaG91bGRTdGFydCA9ICgpID0+IGluc2lkZSB8fCBzdGFydElzQmVmb3JlKCk7XG4gIGNvbnN0IHNob3VsZFN0b3AgPSAoKSA9PiAhaW5zaWRlIHx8IGVuZElzQmVmb3JlKCk7XG4gIGZvciAobGV0IGkgPSBzdGFydCwgcHJldiA9IHN0YXJ0OyBpIDw9IGVuZDsgKytpKSB7XG4gICAgcG9pbnQgPSBwb2ludHNbaSAlIGNvdW50XTtcbiAgICBpZiAocG9pbnQuc2tpcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhbHVlID0gbm9ybWFsaXplKHBvaW50W3Byb3BlcnR5XSk7XG4gICAgaWYgKHZhbHVlID09PSBwcmV2VmFsdWUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpbnNpZGUgPSBiZXR3ZWVuKHZhbHVlLCBzdGFydEJvdW5kLCBlbmRCb3VuZCk7XG4gICAgaWYgKHN1YlN0YXJ0ID09PSBudWxsICYmIHNob3VsZFN0YXJ0KCkpIHtcbiAgICAgIHN1YlN0YXJ0ID0gY29tcGFyZSh2YWx1ZSwgc3RhcnRCb3VuZCkgPT09IDAgPyBpIDogcHJldjtcbiAgICB9XG4gICAgaWYgKHN1YlN0YXJ0ICE9PSBudWxsICYmIHNob3VsZFN0b3AoKSkge1xuICAgICAgcmVzdWx0LnB1c2gobm9ybWFsaXplU2VnbWVudCh7c3RhcnQ6IHN1YlN0YXJ0LCBlbmQ6IGksIGxvb3AsIGNvdW50LCBzdHlsZX0pKTtcbiAgICAgIHN1YlN0YXJ0ID0gbnVsbDtcbiAgICB9XG4gICAgcHJldiA9IGk7XG4gICAgcHJldlZhbHVlID0gdmFsdWU7XG4gIH1cbiAgaWYgKHN1YlN0YXJ0ICE9PSBudWxsKSB7XG4gICAgcmVzdWx0LnB1c2gobm9ybWFsaXplU2VnbWVudCh7c3RhcnQ6IHN1YlN0YXJ0LCBlbmQsIGxvb3AsIGNvdW50LCBzdHlsZX0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gX2JvdW5kU2VnbWVudHMobGluZSwgYm91bmRzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdWIgPSBfYm91bmRTZWdtZW50KHNlZ21lbnRzW2ldLCBsaW5lLnBvaW50cywgYm91bmRzKTtcbiAgICBpZiAoc3ViLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goLi4uc3ViKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZpbmRTdGFydEFuZEVuZChwb2ludHMsIGNvdW50LCBsb29wLCBzcGFuR2Fwcykge1xuICBsZXQgc3RhcnQgPSAwO1xuICBsZXQgZW5kID0gY291bnQgLSAxO1xuICBpZiAobG9vcCAmJiAhc3BhbkdhcHMpIHtcbiAgICB3aGlsZSAoc3RhcnQgPCBjb3VudCAmJiAhcG9pbnRzW3N0YXJ0XS5za2lwKSB7XG4gICAgICBzdGFydCsrO1xuICAgIH1cbiAgfVxuICB3aGlsZSAoc3RhcnQgPCBjb3VudCAmJiBwb2ludHNbc3RhcnRdLnNraXApIHtcbiAgICBzdGFydCsrO1xuICB9XG4gIHN0YXJ0ICU9IGNvdW50O1xuICBpZiAobG9vcCkge1xuICAgIGVuZCArPSBzdGFydDtcbiAgfVxuICB3aGlsZSAoZW5kID4gc3RhcnQgJiYgcG9pbnRzW2VuZCAlIGNvdW50XS5za2lwKSB7XG4gICAgZW5kLS07XG4gIH1cbiAgZW5kICU9IGNvdW50O1xuICByZXR1cm4ge3N0YXJ0LCBlbmR9O1xufVxuZnVuY3Rpb24gc29saWRTZWdtZW50cyhwb2ludHMsIHN0YXJ0LCBtYXgsIGxvb3ApIHtcbiAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgbGV0IGxhc3QgPSBzdGFydDtcbiAgbGV0IHByZXYgPSBwb2ludHNbc3RhcnRdO1xuICBsZXQgZW5kO1xuICBmb3IgKGVuZCA9IHN0YXJ0ICsgMTsgZW5kIDw9IG1heDsgKytlbmQpIHtcbiAgICBjb25zdCBjdXIgPSBwb2ludHNbZW5kICUgY291bnRdO1xuICAgIGlmIChjdXIuc2tpcCB8fCBjdXIuc3RvcCkge1xuICAgICAgaWYgKCFwcmV2LnNraXApIHtcbiAgICAgICAgbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXN1bHQucHVzaCh7c3RhcnQ6IHN0YXJ0ICUgY291bnQsIGVuZDogKGVuZCAtIDEpICUgY291bnQsIGxvb3B9KTtcbiAgICAgICAgc3RhcnQgPSBsYXN0ID0gY3VyLnN0b3AgPyBlbmQgOiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0ID0gZW5kO1xuICAgICAgaWYgKHByZXYuc2tpcCkge1xuICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJldiA9IGN1cjtcbiAgfVxuICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgIHJlc3VsdC5wdXNoKHtzdGFydDogc3RhcnQgJSBjb3VudCwgZW5kOiBsYXN0ICUgY291bnQsIGxvb3B9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gX2NvbXB1dGVTZWdtZW50cyhsaW5lLCBzZWdtZW50T3B0aW9ucykge1xuICBjb25zdCBwb2ludHMgPSBsaW5lLnBvaW50cztcbiAgY29uc3Qgc3BhbkdhcHMgPSBsaW5lLm9wdGlvbnMuc3BhbkdhcHM7XG4gIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgaWYgKCFjb3VudCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBsb29wID0gISFsaW5lLl9sb29wO1xuICBjb25zdCB7c3RhcnQsIGVuZH0gPSBmaW5kU3RhcnRBbmRFbmQocG9pbnRzLCBjb3VudCwgbG9vcCwgc3BhbkdhcHMpO1xuICBpZiAoc3BhbkdhcHMgPT09IHRydWUpIHtcbiAgICByZXR1cm4gc3BsaXRCeVN0eWxlcyhsaW5lLCBbe3N0YXJ0LCBlbmQsIGxvb3B9XSwgcG9pbnRzLCBzZWdtZW50T3B0aW9ucyk7XG4gIH1cbiAgY29uc3QgbWF4ID0gZW5kIDwgc3RhcnQgPyBlbmQgKyBjb3VudCA6IGVuZDtcbiAgY29uc3QgY29tcGxldGVMb29wID0gISFsaW5lLl9mdWxsTG9vcCAmJiBzdGFydCA9PT0gMCAmJiBlbmQgPT09IGNvdW50IC0gMTtcbiAgcmV0dXJuIHNwbGl0QnlTdHlsZXMobGluZSwgc29saWRTZWdtZW50cyhwb2ludHMsIHN0YXJ0LCBtYXgsIGNvbXBsZXRlTG9vcCksIHBvaW50cywgc2VnbWVudE9wdGlvbnMpO1xufVxuZnVuY3Rpb24gc3BsaXRCeVN0eWxlcyhsaW5lLCBzZWdtZW50cywgcG9pbnRzLCBzZWdtZW50T3B0aW9ucykge1xuICBpZiAoIXNlZ21lbnRPcHRpb25zIHx8ICFzZWdtZW50T3B0aW9ucy5zZXRDb250ZXh0IHx8ICFwb2ludHMpIHtcbiAgICByZXR1cm4gc2VnbWVudHM7XG4gIH1cbiAgcmV0dXJuIGRvU3BsaXRCeVN0eWxlcyhsaW5lLCBzZWdtZW50cywgcG9pbnRzLCBzZWdtZW50T3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1NwbGl0QnlTdHlsZXMobGluZSwgc2VnbWVudHMsIHBvaW50cywgc2VnbWVudE9wdGlvbnMpIHtcbiAgY29uc3QgY2hhcnRDb250ZXh0ID0gbGluZS5fY2hhcnQuZ2V0Q29udGV4dCgpO1xuICBjb25zdCBiYXNlU3R5bGUgPSByZWFkU3R5bGUobGluZS5vcHRpb25zKTtcbiAgY29uc3Qge19kYXRhc2V0SW5kZXg6IGRhdGFzZXRJbmRleCwgb3B0aW9uczoge3NwYW5HYXBzfX0gPSBsaW5lO1xuICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsZXQgcHJldlN0eWxlID0gYmFzZVN0eWxlO1xuICBsZXQgc3RhcnQgPSBzZWdtZW50c1swXS5zdGFydDtcbiAgbGV0IGkgPSBzdGFydDtcbiAgZnVuY3Rpb24gYWRkU3R5bGUocywgZSwgbCwgc3QpIHtcbiAgICBjb25zdCBkaXIgPSBzcGFuR2FwcyA/IC0xIDogMTtcbiAgICBpZiAocyA9PT0gZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzICs9IGNvdW50O1xuICAgIHdoaWxlIChwb2ludHNbcyAlIGNvdW50XS5za2lwKSB7XG4gICAgICBzIC09IGRpcjtcbiAgICB9XG4gICAgd2hpbGUgKHBvaW50c1tlICUgY291bnRdLnNraXApIHtcbiAgICAgIGUgKz0gZGlyO1xuICAgIH1cbiAgICBpZiAocyAlIGNvdW50ICE9PSBlICUgY291bnQpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHtzdGFydDogcyAlIGNvdW50LCBlbmQ6IGUgJSBjb3VudCwgbG9vcDogbCwgc3R5bGU6IHN0fSk7XG4gICAgICBwcmV2U3R5bGUgPSBzdDtcbiAgICAgIHN0YXJ0ID0gZSAlIGNvdW50O1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICBzdGFydCA9IHNwYW5HYXBzID8gc3RhcnQgOiBzZWdtZW50LnN0YXJ0O1xuICAgIGxldCBwcmV2ID0gcG9pbnRzW3N0YXJ0ICUgY291bnRdO1xuICAgIGxldCBzdHlsZTtcbiAgICBmb3IgKGkgPSBzdGFydCArIDE7IGkgPD0gc2VnbWVudC5lbmQ7IGkrKykge1xuICAgICAgY29uc3QgcHQgPSBwb2ludHNbaSAlIGNvdW50XTtcbiAgICAgIHN0eWxlID0gcmVhZFN0eWxlKHNlZ21lbnRPcHRpb25zLnNldENvbnRleHQoY3JlYXRlQ29udGV4dChjaGFydENvbnRleHQsIHtcbiAgICAgICAgdHlwZTogJ3NlZ21lbnQnLFxuICAgICAgICBwMDogcHJldixcbiAgICAgICAgcDE6IHB0LFxuICAgICAgICBwMERhdGFJbmRleDogKGkgLSAxKSAlIGNvdW50LFxuICAgICAgICBwMURhdGFJbmRleDogaSAlIGNvdW50LFxuICAgICAgICBkYXRhc2V0SW5kZXhcbiAgICAgIH0pKSk7XG4gICAgICBpZiAoc3R5bGVDaGFuZ2VkKHN0eWxlLCBwcmV2U3R5bGUpKSB7XG4gICAgICAgIGFkZFN0eWxlKHN0YXJ0LCBpIC0gMSwgc2VnbWVudC5sb29wLCBwcmV2U3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJldiA9IHB0O1xuICAgICAgcHJldlN0eWxlID0gc3R5bGU7XG4gICAgfVxuICAgIGlmIChzdGFydCA8IGkgLSAxKSB7XG4gICAgICBhZGRTdHlsZShzdGFydCwgaSAtIDEsIHNlZ21lbnQubG9vcCwgcHJldlN0eWxlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlYWRTdHlsZShvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmJhY2tncm91bmRDb2xvcixcbiAgICBib3JkZXJDYXBTdHlsZTogb3B0aW9ucy5ib3JkZXJDYXBTdHlsZSxcbiAgICBib3JkZXJEYXNoOiBvcHRpb25zLmJvcmRlckRhc2gsXG4gICAgYm9yZGVyRGFzaE9mZnNldDogb3B0aW9ucy5ib3JkZXJEYXNoT2Zmc2V0LFxuICAgIGJvcmRlckpvaW5TdHlsZTogb3B0aW9ucy5ib3JkZXJKb2luU3R5bGUsXG4gICAgYm9yZGVyV2lkdGg6IG9wdGlvbnMuYm9yZGVyV2lkdGgsXG4gICAgYm9yZGVyQ29sb3I6IG9wdGlvbnMuYm9yZGVyQ29sb3JcbiAgfTtcbn1cbmZ1bmN0aW9uIHN0eWxlQ2hhbmdlZChzdHlsZSwgcHJldlN0eWxlKSB7XG4gIHJldHVybiBwcmV2U3R5bGUgJiYgSlNPTi5zdHJpbmdpZnkoc3R5bGUpICE9PSBKU09OLnN0cmluZ2lmeShwcmV2U3R5bGUpO1xufVxuXG5leHBvcnQgeyBfaXNQb2ludEluQXJlYSBhcyAkLCBfZmFjdG9yaXplIGFzIEEsIGZpbml0ZU9yRGVmYXVsdCBhcyBCLCBjYWxsYmFjayBhcyBDLCBfYWRkR3JhY2UgYXMgRCwgX2xpbWl0VmFsdWUgYXMgRSwgdG9EZWdyZWVzIGFzIEYsIF9tZWFzdXJlVGV4dCBhcyBHLCBIQUxGX1BJIGFzIEgsIF9pbnQxNlJhbmdlIGFzIEksIF9hbGlnblBpeGVsIGFzIEosIHRvUGFkZGluZyBhcyBLLCBjbGlwQXJlYSBhcyBMLCByZW5kZXJUZXh0IGFzIE0sIHVuY2xpcEFyZWEgYXMgTiwgdG9Gb250IGFzIE8sIFBJIGFzIFAsIGVhY2ggYXMgUSwgX3RvTGVmdFJpZ2h0Q2VudGVyIGFzIFIsIF9hbGlnblN0YXJ0RW5kIGFzIFMsIFRBVSBhcyBULCBvdmVycmlkZXMgYXMgVSwgbWVyZ2UgYXMgViwgX2NhcGl0YWxpemUgYXMgVywgZ2V0UmVsYXRpdmVQb3NpdGlvbiBhcyBYLCBfcmxvb2t1cEJ5S2V5IGFzIFksIF9sb29rdXBCeUtleSBhcyBaLCBfYXJyYXlVbmlxdWUgYXMgXywgcmVzb2x2ZSBhcyBhLCB0b0xpbmVIZWlnaHQgYXMgYSQsIGdldEFuZ2xlRnJvbVBvaW50IGFzIGEwLCBnZXRNYXhpbXVtU2l6ZSBhcyBhMSwgX2dldFBhcmVudE5vZGUgYXMgYTIsIHJlYWRVc2VkU2l6ZSBhcyBhMywgdGhyb3R0bGVkIGFzIGE0LCBzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zIGFzIGE1LCBfaXNEb21TdXBwb3J0ZWQgYXMgYTYsIGRlc2NyaXB0b3JzIGFzIGE3LCBpc0Z1bmN0aW9uIGFzIGE4LCBfYXR0YWNoQ29udGV4dCBhcyBhOSwgZ2V0UnRsQWRhcHRlciBhcyBhQSwgb3ZlcnJpZGVUZXh0RGlyZWN0aW9uIGFzIGFCLCBfdGV4dFggYXMgYUMsIHJlc3RvcmVUZXh0RGlyZWN0aW9uIGFzIGFELCBkcmF3UG9pbnRMZWdlbmQgYXMgYUUsIG5vb3AgYXMgYUYsIGRpc3RhbmNlQmV0d2VlblBvaW50cyBhcyBhRywgX3NldE1pbkFuZE1heEJ5S2V5IGFzIGFILCBuaWNlTnVtIGFzIGFJLCBhbG1vc3RXaG9sZSBhcyBhSiwgYWxtb3N0RXF1YWxzIGFzIGFLLCBfZGVjaW1hbFBsYWNlcyBhcyBhTCwgX2xvbmdlc3RUZXh0IGFzIGFNLCBfZmlsdGVyQmV0d2VlbiBhcyBhTiwgX2xvb2t1cCBhcyBhTywgaXNQYXR0ZXJuT3JHcmFkaWVudCBhcyBhUCwgZ2V0SG92ZXJDb2xvciBhcyBhUSwgY2xvbmUkMSBhcyBhUiwgX21lcmdlciBhcyBhUywgX21lcmdlcklmIGFzIGFULCBfZGVwcmVjYXRlZCBhcyBhVSwgX3NwbGl0S2V5IGFzIGFWLCB0b0ZvbnRTdHJpbmcgYXMgYVcsIHNwbGluZUN1cnZlIGFzIGFYLCBzcGxpbmVDdXJ2ZU1vbm90b25lIGFzIGFZLCBnZXRTdHlsZSBhcyBhWiwgZm9udFN0cmluZyBhcyBhXywgX2NyZWF0ZVJlc29sdmVyIGFzIGFhLCBfZGVzY3JpcHRvcnMgYXMgYWIsIG1lcmdlSWYgYXMgYWMsIHVpZCBhcyBhZCwgZGVib3VuY2UgYXMgYWUsIHJldGluYVNjYWxlIGFzIGFmLCBjbGVhckNhbnZhcyBhcyBhZywgc2V0c0VxdWFsIGFzIGFoLCBfZWxlbWVudHNFcXVhbCBhcyBhaSwgX2lzQ2xpY2tFdmVudCBhcyBhaiwgX2lzQmV0d2VlbiBhcyBhaywgX3JlYWRWYWx1ZVRvUHJvcHMgYXMgYWwsIF91cGRhdGVCZXppZXJDb250cm9sUG9pbnRzIGFzIGFtLCBfY29tcHV0ZVNlZ21lbnRzIGFzIGFuLCBfYm91bmRTZWdtZW50cyBhcyBhbywgX3N0ZXBwZWRJbnRlcnBvbGF0aW9uIGFzIGFwLCBfYmV6aWVySW50ZXJwb2xhdGlvbiBhcyBhcSwgX3BvaW50SW5MaW5lIGFzIGFyLCBfc3RlcHBlZExpbmVUbyBhcyBhcywgX2JlemllckN1cnZlVG8gYXMgYXQsIGRyYXdQb2ludCBhcyBhdSwgYWRkUm91bmRlZFJlY3RQYXRoIGFzIGF2LCB0b1RSQkwgYXMgYXcsIHRvVFJCTENvcm5lcnMgYXMgYXgsIF9ib3VuZFNlZ21lbnQgYXMgYXksIF9ub3JtYWxpemVBbmdsZSBhcyBheiwgaXNBcnJheSBhcyBiLCBQSVRBVSBhcyBiMCwgSU5GSU5JVFkgYXMgYjEsIFJBRF9QRVJfREVHIGFzIGIyLCBRVUFSVEVSX1BJIGFzIGIzLCBUV09fVEhJUkRTX1BJIGFzIGI0LCBfYW5nbGVEaWZmIGFzIGI1LCBjb2xvciBhcyBjLCBkZWZhdWx0cyBhcyBkLCBlZmZlY3RzIGFzIGUsIHJlc29sdmVPYmplY3RLZXkgYXMgZiwgaXNOdW1iZXJGaW5pdGUgYXMgZywgY3JlYXRlQ29udGV4dCBhcyBoLCBpc09iamVjdCBhcyBpLCBkZWZpbmVkIGFzIGosIGlzTnVsbE9yVW5kZWYgYXMgaywgbGlzdGVuQXJyYXlFdmVudHMgYXMgbCwgdG9QZXJjZW50YWdlIGFzIG0sIHRvRGltZW5zaW9uIGFzIG4sIGZvcm1hdE51bWJlciBhcyBvLCBfYW5nbGVCZXR3ZWVuIGFzIHAsIF9nZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzIGFzIHEsIHJlcXVlc3RBbmltRnJhbWUgYXMgciwgc2lnbiBhcyBzLCB0b1JhZGlhbnMgYXMgdCwgdW5saXN0ZW5BcnJheUV2ZW50cyBhcyB1LCB2YWx1ZU9yRGVmYXVsdCBhcyB2LCBfc2NhbGVSYW5nZXNDaGFuZ2VkIGFzIHcsIGlzTnVtYmVyIGFzIHgsIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZSBhcyB5LCBsb2cxMCBhcyB6IH07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgR2xvYl9mbiBmcm9tICcuL0dsb2JhbCdcclxuaW1wb3J0IHtcclxuICBpbml0TG9naW5fcGFnZSwgaW5pdExvZ2luX2luaXRRdWlyQnRuXHJcbn0gZnJvbSAnLi9Mb2dpbidcclxuaW1wb3J0IHtcclxuICBpbml0U3lzdGVtX2dldEFsbENvbnN1bWVyLCBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbF9uZXcsIGluaXRTeXN0ZW1fc3lzdGVtUXVlcnlCaWxsRGV0YWlsc19uZXcsXHJcbiAgaW5pdFN5c3RlbV9nZXRBbGxEaXNjb3VudFBvbGljeSwgaW5pdFN5c3RlbV9nZXREaXNjb3VudFBvbGljeSwgaW5pdFN5c3RlbV9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMsXHJcbiAgaW5pdFN5c3RlbV9iYXNlRGF0YVxyXG59IGZyb20gJy4vU3lzdGVtUGFnZXMnXHJcbmltcG9ydCB7XHJcbiAgaW5pdEFnZW50X3VzZXJOYW1lLCBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxfbmV3LFxyXG4gIGluaXRBZ2VudF9jb25zdW1lclF1ZXJ5QmlsbERldGFpbHNfbmV3LCBpbml0QWdlbnRfZ2V0QmluZENvbnN1bWVyXHJcbn0gZnJvbSAnLi9BZ2VudFBhZ2VzJ1xyXG5pbXBvcnQge1xyXG4gIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3LCBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXcsXHJcbiAgaW5pdFN0YXRpb25fZ2V0U3RhdGlvbkFsbENvbnN1bWVyLCBpbml0U3RhdGlvbl9nZXRBbGxEaXNjb3VudFBvbGljeSxcclxuICBpbml0U3RhdGlvbl9iYXNlRGF0YSwgaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nLCBpbml0U3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZSwgaW5pdFN0YXRpb25fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzLFxyXG59IGZyb20gJy4vU3RhdGlvblBhZ2VzJ1xyXG5pbXBvcnQge1xyXG4gIGluaXRTdGF0aW9uX2luaXRUYWJzLCBpbml0U3RhdGlvbl9kaXNjb3VudFBvbGljaWVzTWFuYWdlbWVudERldGFpbHNcclxufSBmcm9tICcuL0Rpc2NvdW50UGFnZXMnXHJcbmltcG9ydCAqIGFzIGRhdGFTdGF0aXN0aWMgZnJvbSAnLi9kYXRhU3RhdGlzdGljJ1xyXG5pbXBvcnQgJy4vaW5pdEpxdWVyeUFqYXgnXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICB0cnkge1xyXG4gICAgRW50cnlKUygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIEVudHJ5SlMoKSB7XHJcblxyXG4gIC8vIHJlYWRvbmx556aB55SoYmFja3NwYWNlOlxyXG4gIGRvY3VtZW50Lm9ua2V5ZG93biA9IEdsb2JfZm4uYmFuQmFja1NwYWNlO1xyXG5cclxuICAvLyBMb2dpbiBwYWdlOlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1kb3ZlcGF5LWZyZWlnaHRfbG9naW5dJykpIHtcclxuICAgIGluaXRMb2dpbl9wYWdlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0IE1haW46XHJcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcGZNYWluJykpIHtcclxuICAgIEdsb2JfZm4uaW5pdE1haW4oKTtcclxuICB9XHJcblxyXG4gIC8vIEluaXQgbmF2YmFyOlxyXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHBmTmF2JykpIHtcclxuICAgIEdsb2JfZm4uaW5pdE5hdigpO1xyXG4gIH1cclxuICBcclxuICAvLyBJbml0IGhlYWRlcjpcclxuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RwZkhlYWRlcicpKSB7XHJcbiAgICBpbml0TG9naW5faW5pdFF1aXJCdG4oKTtcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWdlbnROYW1lSW5IZWFkZXInKSkgaW5pdEFnZW50X3VzZXJOYW1lKCk7XHJcbiAgfVxyXG5cclxuICAvLyDliJ3lp4vljJbns7vnu5/llYbvvJrnlKjmiLfmn6Xor6LvvJpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX2dldEFsbENvbnN1bWVyXScpKSB7XHJcbiAgICBpbml0U3lzdGVtX2dldEFsbENvbnN1bWVyKCk7XHJcbiAgfVxyXG4gICAgICAvLyDliJ3lp4vljJbns7vnu5/llYbvvJrotKbljZXmn6Xor6LvvJpcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxdJykpIHtcclxuICAgICAgLy8gICBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbCgpO1xyXG4gICAgICAvLyB9XHJcbiAgLy8g5Yid5aeL5YyW57O757uf5ZWG77ya5p+l6K+i6LSm5Y2V77ya5paw6ZyA5rGCXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxfbmV3XScpKSB7XHJcbiAgICBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbF9uZXcoKTtcclxuICB9XHJcbiAgICAgIC8vIOWIneWni+WMluezu+e7n+WVhu+8mui0puWNleivpuaDheafpeivou+8mlxyXG4gICAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHNdJykpIHtcclxuICAgICAgLy8gICBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHMoKTtcclxuICAgICAgLy8gfVxyXG4gIC8vIOWIneWni+WMluezu+e7n+WVhu+8muafpeivoui0puWNleivpuaDhe+8muaWsOmcgOaxglxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zeXN0ZW1fc3lzdGVtUXVlcnlCaWxsRGV0YWlsc19uZXddJykpIHtcclxuICAgIGluaXRTeXN0ZW1fc3lzdGVtUXVlcnlCaWxsRGV0YWlsc19uZXcoKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyW57O757uf5ZWG77ya5LyY5oOg5pS/562W566h55CG77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9nZXRBbGxEaXNjb3VudFBvbGljeV0nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9nZXRBbGxEaXNjb3VudFBvbGljeSgpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJbns7vnu5/llYbvvJrkvJjmg6DmlL/nrZbor6bmg4XvvJpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX2dldERpc2NvdW50UG9saWN5XScpKSB7XHJcbiAgICBpbml0U3lzdGVtX2dldERpc2NvdW50UG9saWN5KCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMluezu+e7n+WVhjog6LSm5Y2V5rGH5oC75p+l6K+iOlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zeXN0ZW1fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzXScpKSB7XHJcbiAgICBpbml0U3lzdGVtX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJbns7vnu5/llYY6IOWfuuehgOaVsOaNrumhtemdojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX2Jhc2VEYXRhXScpKSB7XHJcbiAgICBpbml0U3lzdGVtX2Jhc2VEYXRhKCk7XHJcbiAgfVxyXG5cclxuICAgICAgLy8g5Yid5aeL5YyWYWdlbnTvvJrmn6Xor6LotKbljZUo5pen6ZyA5rGCKe+8mlxyXG4gICAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9Y29uc3VtZXJfY29uc3VtZXJRdWVyeUJpbGxdJykpIHtcclxuICAgICAgLy8gICBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGwoKTtcclxuICAgICAgLy8gfVxyXG4gIC8vIOWIneWni+WMlmFnZW5077ya5p+l6K+i6LSm5Y2VKOaWsOmcgOaxginvvJpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9YWdlbnRfYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzXScpKSB7XHJcbiAgICBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxfbmV3KCk7XHJcbiAgfVxyXG4gICAgICAvLyDliJ3lp4vljJZhZ2VudO+8muafpeivoui0puWNleivpuaDhSjml6fpnIDmsYIp77yaXHJcbiAgICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1jb25zdW1lcl9jb25zdW1lclF1ZXJ5QmlsbERldGFpbHNdJykpIHtcclxuICAgICAgLy8gICBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzKCk7XHJcbiAgICAgIC8vIH1cclxuICAvLyDliJ3lp4vljJZhZ2VudO+8muafpeivoui0puWNleivpuaDhSjmlrDpnIDmsYIp77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWNvbnN1bWVyX2NvbnN1bWVyUXVlcnlCaWxsRGV0YWlsc19uZXddJykpIHtcclxuICAgIGluaXRBZ2VudF9jb25zdW1lclF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlmFnZW5077ya57uR5a6a6LSm5oi377yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWNvbnN1bWVyX2dldEJpbmRDb25zdW1lcl0nKSkge1xyXG4gICAgaW5pdEFnZW50X2dldEJpbmRDb25zdW1lcigpO1xyXG4gIH1cclxuXHJcbiAgICAgIC8vIOWIneWni+WMlnN0YXRpb27vvJrmn6Xor6LotKbljZXvvJrml6fpnIDmsYJcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF0nKSkge1xyXG4gICAgICAvLyAgIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGwoKTtcclxuICAgICAgLy8gfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb27vvJrmn6Xor6LotKbljZXvvJrmlrDpnIDmsYJcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ld10nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF9uZXcoKTtcclxuICB9XHJcbiAgICAgIC8vIOWIneWni+WMlnN0YXRpb27vvJrmn6Xor6LotKbljZXor6bmg4XvvJrml6fpnIDmsYJcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNdJykpIHtcclxuICAgICAgLy8gICBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlscygpO1xyXG4gICAgICAvLyB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbu+8muafpeivoui0puWNleivpuaDhe+8muaWsOmcgOaxglxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxEZXRhaWxzX25ld10nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb27vvJrnlKjmiLfkv6Hmga/nrqHnkIbvvJpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9nZXRTdGF0aW9uQWxsQ29uc3VtZXJdJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2dldFN0YXRpb25BbGxDb25zdW1lcigpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOiDkvJjmg6DmlL/nrZbnrqHnkIbvvJpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9nZXRBbGxEaXNjb3VudFBvbGljeV0nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fZ2V0QWxsRGlzY291bnRQb2xpY3koKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbjrkvJjmg6A6IOiuvue9rumhtemdoumAiemhueWNoVxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX2NyZWF0ZURpc2NvdW50UG9saWN5XScpKSB7XHJcbiAgICBpbml0U3RhdGlvbl9pbml0VGFicygpOyAgXHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb2465LyY5oOg77ya5pS/562W5ZCN57uG6aG16Z2i77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWRpc2NvdW50UG9saWNpZXNNYW5hZ2VtZW50RGV0YWlsc10nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnREZXRhaWxzKCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb246IOWfuuehgOaVsOaNrumhtemdojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9iYXNlRGF0YV0nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fYmFzZURhdGEoKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbjog6LSm5Y2V6KeE5YiZ5p+l6K+i6aG16Z2iOlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX2JpbGxzU2V0dGluZ10nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nKCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb246IOaWsOWinui0puWNleinhOWImemhtemdojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZV0nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUoKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbjog6LSm5Y2V5rGH5oC75p+l6K+iOlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxsc10nKSkge1xyXG4gICAgaW5pdFN0YXRpb25fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzKCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb246IOaVsOaNrue7n+iuoTpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9ZGF0YVN0YXRpc3RpY0luZGV4XScpKSB7XHJcbiAgICBkYXRhU3RhdGlzdGljLmRzSW5kZXgoKVxyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOiDmlbDmja7nu5/orqHmmI7nu4Y6XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWRhdGFTdGF0aXN0aWNEZXRhaWxzXScpKSB7XHJcbiAgICBkYXRhU3RhdGlzdGljLmRzRGV0YWlscygpXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3IiwiaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3IiwiZmV0Y2hEYXRhIiwiZmV0Y2hfYWdlX2dldEJpbmRDb25zdW1lciIsImZldGNoX2FnZV9iaW5kQ29uc3VtZXIiLCJmbl9nZXRNZXMiLCJmbl9yZW1NZXMiLCJpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxfbmV3IiwiaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsRGV0YWlsc19uZXciLCJpbml0QWdlbnRfdXNlck5hbWUiLCJzcGFuIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZSIsInNldFVzZXJOYW1lIiwicmVzIiwiaW5uZXJIVE1MIiwiZGF0YSIsImN1c3RvbWVyTmFtZUNobiIsImluaXRBZ2VudF9nZXRCaW5kQ29uc3VtZXIiLCJ1cmwiLCJBZ2VfdGFibGUiLCJwcm90b3R5cGUiLCJnZXRQYWdlX2JpbmRpbmciLCJuYW1lIiwic3RhdHVzIiwiY3VzdG9tZXJJZCIsImN1c3RvbWVySWRMaXN0IiwiZm9ybSIsImlucF9jdXMiLCJpbnBfc3RhIiwiaW5wX25hbSIsImJ0bl9iaW4iLCJvbGRtZXNOb2RlIiwibWVzIiwiaW5uZXJUZXh0Iiwic3R5bGUiLCJjbG9zZSIsIiQiLCJpbnNlcnRCZWZvcmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIlVJa2l0IiwibW9kYWwiLCJjb25maXJtIiwidGhlbiIsIkdsb2JfZm4iLCJMaXN0Ym94IiwiU3RhX3RhYmxlIiwiU3lzX3RhYmxlIiwiY2hlY2tSZXMiLCJjYWxsYmFjayIsImNvZGUiLCJlcnJtc2ciLCJtc2ciLCJlcnJvckhhbmRsZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJmbl9pbml0U3VibWl0QnRuIiwicGFnZU51bWJlciIsInBhZ2VTaXplIiwiZmV0Y2hGbiIsInBvc3REYXRhSGFuZGxlciIsImNvbmZpZyIsInN1Ym1pdEJ0biIsIiR0aGlzIiwicG9zdERhdGEiLCJjbG9zZXN0Iiwic2VyaWFsaXplT2JqZWN0IiwiY2FsbCIsImluZGV4UGFnZSIsImNvdW50UGFnZSIsIlRhYmxlIiwiaGlkZVRhYmxlIiwiY2xpY2siLCJmbl9pbml0RXhwb3J0QnRuIiwiZXhwb0J0biIsImZldGNoX2V4cG9ydEV4Y2VsIiwiSlNPTiIsInN0cmluZ2lmeSIsImZpbGVOYW1lIiwiYWpheCIsImRhdGFUeXBlIiwieGhyRmllbGRzIiwicmVzcG9uc2VUeXBlIiwic3VjY2VzcyIsInhociIsInN0YXR1c1RleHQiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwibXNTYXZlQmxvYiIsImRvd25sb2FkTGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInJhd0RhdGEiLCJpc0pTT04iLCJwYXJzZSIsIl90eXBlb2YiLCJFcnJvciIsImNoZWNrUmVzQ2FsbGJhY2siLCJhamF4Q29uZmlnIiwia2V5IiwiZ2xvYmFsIiwiZmV0Y2hfc3lzX2dldEFsbENvbnN1bWVyIiwidGFibGUiLCJnZXRUYWJsZV91c2VySW5mbyIsImVyciIsImZldGNoX3N5c19xdWVyeURpc2NvdW50Q3VzdG9tZXIiLCJnZXRUYWJsZV9pbk1vZGFsIiwiZmV0Y2hfc3lzX2dldEFsbERpc2NvdW50UG9saWN5IiwibG9nIiwiZ2V0VGFibGVfcXVlcnlQb2xpY2llcyIsImZldGNoX2FnZV90b1BheSIsInBheVVybCIsInBheURhdGEiLCJzdWJtVmlydEZvcm0iLCJvbGRNZXMiLCJhbGVydCIsImxvY2F0aW9uIiwicmVsb2FkIiwiZmV0Y2hfc3RhX3VwZGF0ZUZlZSIsImZldGNoX3N0YV9zdGF0aW9uQmlsbFB1c2giLCJlIiwiZmV0Y2hfc3RhX2dldFN0YXRpb25BbGxDb25zdW1lciIsImdldFRhYmxlX2dldFN0YXRpb25BbGxDb25zdW1lciIsImZldGNoX3N0YV9xdWVyeURpc2NvdW50UG9saWN5IiwiZWxlbWVudCIsImxpc3Rib3giLCJnZXRPcHRpb25zX2Rpc2NvdW50TmFtZSIsInNob3ciLCJmZXRjaF9zdGFfYWRkRGlzY291bnRDdXN0b21lciIsImZldGNoX3N0YV9xdWVyeURpc2NvdW50Q3VzdG9tZXIiLCJ0YWIiLCJ0Ym9keSIsImdldFRhYmxlX3F1ZXJ5RGlzY291bnRDdXN0b21lciIsImJvZHlzIiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJmZXRjaF9zdGFfY2hhbmdlQ3VzdG9tZXJEaXNjb3VudFN0YXR1cyIsImZldGNoX3N0YV9nZXRBbGxEaXNjb3VudFBvbGljeSIsImdldFRhYmxlX2dldEFsbERpc2NvdW50UG9saWN5IiwiZmV0Y2hfc3RhX2NoYW5nZURpc2NvdW50U3RhdHVzIiwiZmV0Y2hfc3RhX2dldERpc2NvdW50UG9saWN5IiwiaW5pdERpc2NvdW50RGV0YWlscyIsImJ0biIsInN0YXR1c19jaGFuZ2VUb1RoaXMiLCJkaXNjb3VudFBvbGljeUlkIiwiZmV0Y2hfc3RhX3F1ZXJ5Q2FyZ28iLCJyZXN1bHRDb250YWluZXIiLCJjYXJnb05tIiwiZ2V0T3B0aW9uc19jYXJnb05hbWUiLCJmZXRjaF9zdGFfc3VibWl0RGlzY291bnRQYWdlIiwiZm5fcXVlcnlEaWN0IiwiaW5pdExpc3RCb3giLCJpbml0U3RhdGlvbl9kaXNjb3VudFBvbGljaWVzTWFuYWdlbWVudERldGFpbHMiLCJpbml0U3RhdGlvbl9pbml0VGFicyIsInF1ZXJ5VHlwZSIsInRleHRzIiwiY29udGVudCIsImNyZWF0ZU5vZGVzIiwic3dpdGNoUGFnZSIsIm51bSIsImxpIiwiYSIsInNldEF0dHJpYnV0ZSIsInR5cGUiLCJjb250YWluZXIiLCJpbml0UGFnZSIsImh0bWwiLCJpbml0UGFnZV8xIiwiTnVtYmVyIiwiaGVhZGVycyIsIldkYXRlSW5pdCIsInNlbCIsIm9wIiwic2VsVG9MaXN0Ym94Iiwib3B0aW9ucyIsInNlbGVjdGVkSW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJkaXNwbGF5IiwiZGVwYXJ0dXJlSW5mbyIsIkRlcGFydHVyZUluZm8iLCJhZGQiLCJhaXJsaW5lTnVtIiwiQWlybGluZU51bSIsImZlZURpc2NvdW50SXRlbSIsIkZlZURpc2NvdW50SXRlbSIsInN1Ym1pdERpc2NvdW50UGFnZSIsInBhZ2VOdW0iLCJzdWJtaXQiLCJEaXNjb3VudFBhZ2VzU3VibWl0IiwiZ2V0UDFQb3N0RGF0YSIsImdldFAyUG9zdERhdGEiLCJnZXRQM1Bvc3REYXRhIiwiaW5wdXROYW1lIiwicGFyZW50Tm9kZSIsImFzc2V0IiwiZ2V0SW5wdXRBc3NldCIsIndyYXBEaXYiLCJhTGFiZWwiLCJmb3JtQ29udHJvbERpdiIsImFJbnB1dCIsImNyZWF0ZUFkZEJ0biIsInBsdXNCdG5fY29udGVudCIsInBsdXNCdG4iLCJjaGlsZCIsIm1pbnVzQnRuX2NvbnRlbnQiLCJtaW51c0J0biIsInByZVdyYXBEaXYiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibmV4dFdyYXBEaXYiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwcmVGb3JtQ29udHJvbERpdiIsImdldEFzc2V0IiwiZmxleERpdjEiLCJsYWJlbF8xIiwiaW5wdXRfMSIsImZsZXhEaXYyIiwibGFiZWxfMiIsImlucHV0XzIiLCJidG5fcGx1cyIsImJ0bl9wbHVzX2ljb24iLCJidG5fbWludXMiLCJidG5fbWludXNfaWNvbiIsImZlZUl0ZW0iLCJmZWVUeXBlIiwiZmVlSXRlbURhdGEiLCJmZWVUeXBlRGF0YSIsImZlZUl0ZW1EaXYiLCJmZWVJdGVtTGFiZWwiLCJmZWVJdGVtQXNzZXQiLCJjbGFzc0xpc3QiLCJmZWVJdGVtaW5wdXQiLCJ0ZXh0T3ZlcmZsb3ciLCJmZWVJdGVtQnV0dG9uIiwiZmVlSXRlbUJ1dHRvbk1vZGFsIiwiY2FyZEZyYW1lIiwiZmVlSXRlbUJ1dHRvbk1vZGFsQm9keSIsImZlZUl0ZW1CdXR0b25Nb2RhbEJvZHlVbCIsImZvckVhY2giLCJjYiIsImNhcmRGb290ZXIiLCJmb290ZXJCdG4iLCJjYkxpc3QiLCJjaGVja2VkVmFsdWUiLCJjaGVja2VkIiwicHVzaCIsImRyb3AiLCJoaWRlIiwiZmVlVHlwZURpdiIsImZlZVR5cGVMYWJlbCIsImZsZXhEaXYiLCJmZWVUeXBlU2VsZWN0IiwiZmVlSW5wdXQiLCJ2YWwiLCJkaXNjclNwYW4iLCJtaW51c0ljb24iLCJwbHVzSWNvbiIsImNoZWNrRmVlVHlwZSIsInNlbGVjdE5vZGUiLCJpbmRleCIsInJlbW92ZUF0dHJpYnV0ZSIsImRpc2NvdW50UG9saWN5TmFtZSIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJkaXNjb3VudFR5cGUiLCJkaXNjb3VudFZhbHVlIiwiZ2V0RGlzY291bnRWYWx1ZUFpcmxpbmUiLCJtaW5DaGFyZ2UiLCJjYXJnb05vIiwiZ2V0Q2FyZ29ObyIsImRpc2NvdW50RmVlUmVxdWVzdExpc3QiLCJnZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0IiwiZ2V0RGlzY291bnRWYWx1ZUFpcmRvdCIsImdldERpc2NvdW50VmFsdWVGcm9tU2VsZWN0IiwicmVzdWx0IiwiaW5wdXRBcnIiLCJ0cmltIiwic2VsZWN0Iiwib3BzIiwibGlzdEFyciIsImtleUNoZWNrYm94TGlzdCIsInR5cGVTZWxlY3QiLCJkaXNjb3VudEZlZVR5cGUiLCJkaXNjb3VudEZlZVZhbHVlIiwiZGlzY291bnRGZWVLZXkiLCJkaXNjb3VudEZlZUtleU5hbWUiLCJpbnB1dEZlZXJhdGUiLCJGb3JtVmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJtYXJrIiwic3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZSIsImlucF9iaWxsTmFtZSIsImlucF9iaWxsTmFtZV9tYXhXb3JkcyIsImlucF9iaWxsTmFtZV9tYXhXb3Jkc1RleHQiLCJiaW5kRm9ybUl0ZW1zIiwiaW5wIiwibWF4V29yZHMiLCJtYXhXb3Jkc1RleHQiLCJmb2N1cyIsImlucF9jaGVja051bGwiLCJpbnBfbGltaXRMZW5ndGgiLCJjaGVja0NoZWNrYm94ZXMiLCJib28iLCJjaGVja2JveGVzIiwiY2hlY2tib3giLCJub3RpZmljYXRpb24iLCJzdWJtaXRCb28iLCJib29zIiwicGFzc1RvU3VibWl0Iiwib3JpZ2luVGV4dCIsImNoYW5nZVRleHQiLCJ0b29sdGlwIiwicmVtb3ZlIiwibWF4bGVuIiwidHJpbVZhbHVlIiwic2xpY2UiLCJib29zQXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJnIiwiT2JqZWN0IiwidG9TdHJpbmciLCJlcnJNc2ciLCJzdGFjayIsImluaGVyaXRQcm90b3R5cGUiLCJzdXBlclR5cGUiLCJzdWJUeXBlIiwiY29uc3RydWN0b3IiLCJzdHIiLCJvYmplY3QiLCJpc0RPTSIsIml0ZW0iLCJIVE1MRWxlbWVudCIsIm5vZGVUeXBlIiwibm9kZU5hbWUiLCJpbml0TWFpbiIsIm1haW4iLCJoZWFkZXJIIiwibmF2SCIsImZvb3RlckgiLCJicm93c2VyVmlzaWJsZUgiLCJpbm5lckhlaWdodCIsImRIIiwiaW5pdE5hdiIsImJ0bnMiLCJzdG9wUHJvcGFnYXRpb24iLCJ0aGlzQnRuQ2xzIiwiZHJvcGRvd24iLCJjb250YWlucyIsImoiLCJibHVyIiwibG9hZGluZyIsImRpdiIsInBvc2l0aW9uIiwiY2hlY2tib3hBbmRSYWRpbyIsImdldEJpbmRpbmdMYWJlbCIsImNoaWxkTm9kZSIsImxhYmVsIiwibWF4Q291bnQiLCJ0YWdOYW1lIiwic2V0QmluZGluZ0xhYmVscyIsInJhZGlvU2V0IiwicGFyZW50UHJvcCIsInJhZGlvIiwicmFkaW8yIiwiaW5pdEFjdGl2ZUxhYmVsIiwiaGFzQXR0cmlidXRlIiwiZ2V0UmFkaW9WYWx1ZSIsInN0YXJ0VGltZUlkIiwiZW5kVGltZUlkIiwiYXJncyIsInN0YSIsImVuZCIsImRhdGVGbXQiLCJzZXRWZWxJbnAiLCJtaW5EYXRlIiwibWF4RGF0ZSIsImNvbmZpZ19zIiwidmVsIiwicmVhbERhdGVGbXQiLCJXZGF0ZVBpY2tlciIsImNvbmZpZ19lIiwic2V0UmVzZXRCdXR0b24iLCJpbnB1dCIsImlkIiwic3JjIiwic3JjTmFtZSIsImJhbkJhY2tTcGFjZSIsImV2Iiwib2JqIiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsInQiLCJ2UmVhZE9ubHkiLCJmbGFnMSIsImtleUNvZGUiLCJ1bmRlZmluZWQiLCJmbGFnMiIsIm1ldGhvZCIsImFjdGlvbiIsImluaXREaXNjb3V0VHlwZVNlbCIsImRhdGFMaXN0IiwicGFyZW50U2VsZWN0Iiwib3AwIiwiaW5pdFN1cHBsaWVyU2VsIiwic3VwcGxpZXJJZCIsInN1cHBsaWVyTmFtZUNobiIsInN0YXR1c0Rlc2MiLCJkaXNjb3VudFR5cGVEZXNjIiwiZ2V0RmVlcmF0ZSIsImxpc3QiLCJjYXJnb05hbWVXcmFwIiwiY2FyZ29OYW1lIiwiZGlzY291bnRWYWx1ZVdyYXAiLCJnZXRUYm9keSIsInRyIiwidGQxIiwidGQyIiwiZGlzY291bnRGZWVUeXBlRGVzYyIsInRkMyIsInNob3dOb0RhdGEiLCJjb2xzcGFuIiwidHIwIiwidGQwIiwicGFnIiwiZ2V0VGhUciIsInRoZWFkIiwidHJJblRoZWFkIiwic2V0VGgiLCJwYXJlbnRUciIsInNob3dCb28iLCJ0aCIsInNldFRkIiwicmVwbGFjZVN0ciIsInRkIiwicmVwbGFjZSIsInNldE5vRGF0YSIsInNldFRkU2VyaWFsIiwibnVtYmVyIiwidGRTZXJpYWwiLCJoaWRlU29tZSIsIndpZHRoIiwibWF4VyIsImNvbXB1dGVkV2lkdGgiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImN1cnJlbnRTdHlsZSIsIm92ZXJmbG93IiwibWF4V2lkdGgiLCJjdXJzb3IiLCJ0ckhpZGVTb21lIiwibWF4IiwidGRzIiwidGJvZHlIaWRlU29tZSIsInByb3AiLCJzaXplIiwiaXNOYU4iLCJ0cnMiLCJidWlsZEFqYXhUaXRsZSIsInRpdGxlRGF0YSIsImNvbENvdW50IiwiZmVlU2hvcnRObSIsInRoMCIsImdldEFqYXhUaXRsZVZhbHVlIiwiYXJyIiwibWF0Y2giLCJnZXRBamF4VGl0bGVEYXRhIiwidGl0bGUiLCJmZWVJZEFyciIsImZlZUlkR3JvdXAiLCJ0aXRsZUZlZUlkIiwiayIsImxpc3RGZWVJZCIsImZlZUlkIiwibGlzdFZhbHVlIiwiZmVlIiwibGlzdFJhdGUiLCJmZWVyYXRlIiwibGlzdFJhdGVGbGFnIiwiZmVlU2hvcnROTSIsInBvcCIsImdldEFqYXhUaXRsZU9iamVjdCIsImJ1aWxkVmFsdWVXaXRoQWpheFRpdGxlIiwibGluZWRhdGEiLCJpc0FyciIsImhpZGVVbnZhbHVlZCIsInBvaW50ZWRUYWJsZSIsImNoZWNrVmFsdWUiLCJmbGFnIiwidGhzIiwiY29sdW1uIiwidW52YWx1ZWRDb2wiLCJjaGVja1NpemUiLCJ0YWJ3aWR0aCIsImRpdndpZHRoIiwiZ2V0Q2hlY2tib3giLCJpZkFsbCIsImxhYiIsImNoYiIsImxpbmtDaGVja2JveGVzIiwic2VsQWxsIiwic2VsQ2hpbGRyZW4iLCJhZGRDaGVja2VkVG9MaXN0Iiwic2hvd1RhYmxlIiwiZ2V0RGljdEFyZ19mb3JRdWVyeUJpbGxzIiwidFR5cGUiLCJzZXRTZWxEZWZhdWx0T3B0aW9uIiwidGV4dCIsIm9wdGlvbjAiLCJzZXRTZWxGcm9tRGljdCIsIm9wdGlvbiIsInNldEluQW5kT3V0Iiwic2V0T3BlZGVwYXJ0SWQiLCJnZXRPcmRlclRpbWUiLCJvcmRlclRpbWVTdGFydCIsIm9yZGVyVGltZUVuZCIsInNldFBvc3RMaW5rIiwibGlua3MiLCJidG5MMlIiLCJidG5SMkwiLCJzZWxlY3RMIiwic2VsZWN0UiIsImxpc3Rib3hNb3ZlYWNyb3NzIiwic291cmNlSUQiLCJkZXN0SUQiLCJkZXN0IiwiY291bnQiLCJzZWxlY3RlZCIsImF0dHJzIiwiYXR0cmlidXRlcyIsIm5ld09wdGlvbiIsImlkMSIsImRlc3RvcHRpb25zIiwiaWQyIiwicmVzcG9uc2UiLCJsaXN0Ym94RWwiLCJzZWxfc291Iiwic2VsX2RlcyIsIm9wdGlvbkFyciIsInBvc3REYXRhX2Rpc2NvdW50TmFtZSIsImRpc2NvdW50UG9saWN5SWRzIiwiaW5pdExvZ2luX3BhZ2UiLCJpbml0TG9naW5fY292ZXJQYWdlIiwicGFnZUZvciIsInNlbF90eXBlIiwiaW5wX2FjY291bnRJZCIsImlucF91c2VySWQiLCJmZXRjaExvZ2luRGF0YSIsIlBhZ2VfbG9naW4iLCJzZXRSb2xlIiwidGV4dFN0YXR1cyIsImluaXRMb2dpbl9sb2dpbkZhaWxlZCIsImluaXRMb2dpbl9pbml0UXVpckJ0biIsInF1aXRCdG4iLCJxdWl0IiwidXNlclR5cGUiLCJyZWRpcmVjdCIsInNwYW4yIiwiYWNjb3VudElkIiwiTWVzc2FnZSIsImNsb3NiIiwibWVzc2FnZSIsImNyZWF0ZSIsImhlYWR0eHQiLCJtYWludHh0IiwiY29udCIsImhlYWQiLCJjbG9zIiwibSIsIm5vZGUiLCJwYXIiLCJmbl9pbml0UGFnaW5hdGUiLCJ0b3RhbFBhZ2UiLCJwIiwiUGFnaW5hdGUiLCJzaG93UGFnbml0aW9uIiwid3JhcCIsImxpbmtfcHJlIiwiZ2V0UGFnaV9saVByZSIsImdldFBvc3REYXRhIiwiZ2V0UGFnaV9saUFjdGl2ZSIsImdldFBhZ2lfbGlOb3JtYWwiLCJsaW5rIiwibGlua19uZXgiLCJnZXRQYWdpX2xpTmV4dCIsImdldFBhZ2lfaGlkZVBhZ2UiLCJwYXJlbnRVbCIsImxpX3ByZSIsInNwYW5fcHJlIiwibGlfbmV4Iiwic3Bhbl9uZXgiLCJzaG93TnVtYmVyIiwic2hvd1BhZ2VzIiwibGlBcnIiLCJRdWVyeURpY3QiLCJhcGkiLCJxdWVyeSIsInFkIiwicm9sZSIsImdldFJvbGUiLCJpbml0U3RhdGlvbl9iYXNlRGF0YSIsImVudHJ5IiwiZmV0Y2hFeHBJbXAiLCJmZXRjaERpY3RFcnJIYW5kbGVyIiwic2V0T3B0aW9ucyIsInNlbE5hbWUiLCJmZXRjaERvbUludCIsImZldGNoUGF5TW9kZSIsImZldGNoRWZmZWN0aXZlQmlsbFJ1bGVzIiwiY3JlYXRlRWZmZWN0aXZlQmlsbFJ1bGVzIiwiZGF0ZSIsImNyZWF0ZUJpbGxSdWxlQnV0dG9ucyIsInJlbmRlckVmZmVjdGl2ZUJpbGxSdWxlcyIsInJ1bGUiLCJiaWxsUnVsZSIsImRlc2MiLCJiaWxsUnVsZURlc2MiLCJiaWxsUnVsZUlkIiwiYmlsbFJ1bGVOYW1lIiwiZ2V0TGFiZWwiLCJnZXREcm9wIiwiZ2V0Q2FyZEhlYWRlciIsImdldENhcmRCb2R5IiwiaGVhZGVyIiwiaCIsImFycmF5IiwiaW5kZXhPZiIsInNwbGl0IiwicnVsZVNldHNXcmFwRGl2IiwicnVsZVJhZGlvcyIsInJ1bGVMYWJlbHMiLCJmdW5jIiwicmVzZXRCdG4iLCJkZWZhdWx0UmFkaW8iLCJnZXRUYWJsZV9xdWVyeU9yaWdpbmFsV2F5YmlsbCIsInRpbWVvdXQiLCJpbml0U3RhdGlvbl9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMiLCJnZXRUYWJsZV9xdWVyeVN1bUJpbGxCeVJ1bGUiLCJpbml0TmV3UGFnZSIsImdldFRhYmxlX3F1ZXJ5QmlsbF9uZXciLCJzZXRNdWx0aVB1c2hCdXR0b24iLCJtdWx0aUJ0biIsIm9yZGVyTm9MaXN0IiwiaW5pdFRoaXNQYWdlIiwiZ2V0VGFibGVfcXVlcnlEZXRhaWxzX25ldyIsImluaXRTdGF0aW9uX2dldFN0YXRpb25BbGxDb25zdW1lciIsInNob3dMaXN0Qm94IiwibGlzdEJveFN1Ym1pdEJ1dHRvbiIsImluaXRTdGF0aW9uX2dldEFsbERpc2NvdW50UG9saWN5IiwiRElTQ09VTlRfVFlQRSIsInNlbGVjdFR5cGUiLCJuZXdCdG4iLCJpbml0U3RhdGlvbl9iaWxsc1NldHRpbmciLCJiaW5kQWRkUnVsZUJ0biIsImdldFRhYmxlX3F1ZXJ5QmlsbFJ1bGVCeVBhZ2UiLCJpbml0U3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZSIsInZsZCIsImZldGNoQmlsbFJ1bGUiLCJzaG93VmFsdWVGcm9tIiwiZmV0Y2hWYWx1ZSIsInJhZGlvc0hlYWRpbmciLCJjaGVja2JveGVzSGVhZGluZyIsImNoZWNrQWxsV3JhcCIsImNoZWNrYm94ZXNDb3VudCIsInJ1bGVQcm9wcyIsImNoZWNrQm94Iiwic2V0UnVsZSIsImZyYW1lIiwiZ2V0RnJhbWUiLCJjb250ZW50RGl2IiwiZ2V0Q29udGVudERpdiIsImdldENvbnRlbnQiLCJjb250ZW50V3JhcCIsImJpbmRBbGxSYWRpb3MiLCJ3cmFwcyIsImJpbmRSYWRpb3MiLCJyYWRpb3MiLCJjYnhfYWxsIiwiY2J4cyIsImNieExpbmtMYWJlbCIsImNieCIsImNoYW5nZVN0eWxlIiwiY29tcGx5Q2hlY2tBbGwiLCJzZXRBbGxDaGVja2VkIiwibGFiQ2xhc3NlcyIsInRvZ2dsZSIsInN1Ym1pdEFkZFJ1bGUiLCJub3QiLCJwb3N0VXJsIiwic3VjY2Vzc0NhbGxiYWNrIiwiZ2V0TmFtZSIsImdldFJ1bGUiLCJycyIsImNzIiwiY2hlY2tlZElucHV0cyIsImdldENoZWNrZWRJbnB1dHMiLCJydWxlc0luZm8iLCJnZXRSdWxlc0luZm8iLCJnZXRSZXN1bHRzIiwicHV0Q2hlY2tlZElucEluIiwiaW5wdXRzIiwicmF3QXJyYXkiLCJ0bXBOYW1lIiwicGFyc2VEZXNjIiwidXRpbCIsIm9uIiwiZ2V0RmVlSXRlbSIsImNyZWF0ZVRhYmxlIiwiZmVlSXRlbXMiLCJzZXRDYXB0aW9uIiwic2V0VGhlYWQiLCJzZXRUYm9keSIsImNhcHRpb24iLCJ0b3RhbENvdW50IiwiYWpheFRpdGxlIiwiZmVlTGlzdCIsImZlZVJlY0lkIiwic3RvY2tQcmUiLCJzdG9ja05vIiwic0FpcnBvcnREc2MiLCJlQWlycG9ydERzYyIsImZsaWdodCIsInBjcyIsIndlaWdodCIsImZlZVd0IiwiY3J0b3BlVGltZVN0ciIsIm9wZWRlcGFydElkIiwib3BlZGVwYXJ0U3RyIiwiYWpheERhdGEiLCJmZWVJdGVtTGlzdCIsInRvdGFsRmVlU3RyIiwiYmlsbExpc3QiLCJhY2NvdW50T3BlbmluZ1RpbWUiLCJvcmRlclRpbWUiLCJjb3N0Q2VudGVyIiwidG90YWxGZWUiLCJnZXRMaW5rIiwiY2hlY2tBbGwiLCJzZXRBZ2VudFRoZWFkIiwic2V0Q2hlY2tBbGwiLCJnZXRDYXB0aW9uRGF0YSIsInRvdGFsQW1vdW50IiwicHJlZmVyZW50aWFsVG90YWxBbW91bnQiLCJ0b3RhbFdlaWdodCIsInN1bW1hcnlMaXN0IiwidGRDaGVja2JveCIsIm9yZGVyTm8iLCJjcmVhdGVUaW1lU3RyIiwicmVhbFRvdGFsRmVlU3RyIiwic3RhdHVzU3RyIiwicGF5Tm8iLCJnZXRBZ2VudExpbmtzIiwiY3VzdG9tZXJOYW1lIiwiYmluZGluZ1N0YXR1cyIsImdldExpbmtzIiwiZ2V0RGV0YWlsTGluayIsInB1c2hsaW5rIiwiZ2V0UHVzaExpbmsiLCJtb2RpZnkiLCJkZXRhaWxMaW5rIiwicGF5TGluayIsInBhZ2VVcmwiLCJzZXRDaGlsZHJlbiIsImNoaWxkcmVuIiwicmVhbFRvdGFsRmVlIiwidHJBZGQiLCJsMURhdGEiLCJsMkRhdGEiLCJyZWFsRmVlSXRlbUxpc3QiLCJsaW5lMk9iamVjdCIsImdldEFjdGlvbiIsImxpbmtNb2RIaXMiLCJjcmVhdGVNb2RIaXMiLCJsaW5rbW9kaWZ5IiwiZm5fZ2V0TW9kYWwiLCJjcmVhdGVOYW1lIiwiY3JlYXRlVGltZSIsInJlbWFyayIsImNyZWF0ZVRoZWFkIiwiY3JlYXRlVGJvZHkiLCJxdWVyeUJpbGxSdWxlTGlzdCIsInNldFRkRnJvbUFycmF5Iiwic2V0VGltZSIsImdldFRkQWN0aW9uIiwiZ2V0VmFsdWUiLCJydWxlVHlwZSIsImRlbGV0ZUxpbmsiLCJ0aGlzQnRuIiwiZ2V0VXJsIiwidHJpZ2dlciIsImNvbnN1bWVyTGlzdCIsInRkNCIsInRkNSIsInRkNiIsImxpbmtTZXQiLCJsaW5rU2hvdyIsImZlZVdheUlkIiwiY2FuWWVzIiwidGV4dEFsaWduIiwic3BhbjEiLCJnZXRBY3Rpb25UZXh0IiwicGFyVGQiLCJkaXNjb3VudFBvbGljeUxpc3QiLCJzcGFuSW5UZDNfMSIsInNwYW5JblRkM18yIiwic3BhbkluVGQzXzMiLCJ0b0RldGFpbHNBIiwicGF0aG5hbWUiLCJ0b2dnbGVBIiwiTW9kYWwiLCJ0aXRsZVRleHQiLCJtb2RhbElkIiwiZGlhbG9nIiwibWhlYWRlciIsIm10aXRsZSIsIm1ib2R5IiwibWZvcm0iLCJlbHMiLCJjcmVhdGVJbnBMaXN0IiwidG90YWxGZWVJbnB1dCIsImdldFRvdGFsRmVlSW5wdXQiLCJkZXNjVGV4dGFyZWEiLCJnZXREZXNjVGV4dGFyZWEiLCJidXR0b25TZWN0aW9uIiwiZ2V0QnV0dG9uU2VjdGlvbiIsInNldElucExpbmtzIiwiaW5wX2ZlZUl0ZW1MaXN0IiwiaW5wX3RvdGFsZmVlIiwiaW5wX3NwZWMiLCJpbnBfcmF0ZSIsIm9sZFZhbHVlIiwiZ2V0U3BlY0ZlZSIsImdldFRvdGFsRmVlIiwiTWF0aCIsInJvdW5kIiwiZmVlSXRlbUxpc3ROb2RlIiwiZmVlcmF0ZU5vZGUiLCJtU2VjdGlvbiIsIm1TdWJtaXRCdG4iLCJtQ2FuY2VsQnRuIiwibWFyZ2luUmlnaHQiLCJtRGl2IiwibUxhYmVsIiwibVRleHRhcmVhIiwibUlucHV0IiwiZWwxIiwiY3JlYXRlSW5wIiwiZWwyIiwiZWwiLCJmb3JtSXRlbSIsImlucE1heExlbmd0aCIsIm1vZCIsImluaXRTeXN0ZW1fYmFzZURhdGEiLCJpbml0U3lzdGVtX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscyIsImluaXRTeXN0ZW1fc3lzdGVtUXVlcnlCaWxsX25ldyIsImluaXRTeXN0ZW1fc3lzdGVtUXVlcnlCaWxsRGV0YWlsc19uZXciLCJpbml0U3lzdGVtX2dldEFsbENvbnN1bWVyIiwiaW5pdFN5c3RlbV9nZXRBbGxEaXNjb3VudFBvbGljeSIsImFwaV9nZXRBbGxTdXBwbGllcl91cmwiLCJpbml0U3lzdGVtX2dldERpc2NvdW50UG9saWN5IiwidG9EaXNjb3VudFBvbGljaWVzQSIsInNwYW5TdGFydCIsInNwYW5UZXh0Iiwic3BhbkVuZCIsInN5c3RlbURpc2NvdW50UG9saWN5TGlzdCIsInNwYW5TdGEiLCJzcGFuVGV4IiwidGQ3IiwiQ2hhcnQiLCJDYW52YXMiLCJzZWxlY3RvciIsInJvb3REb2N1bWVudCIsImlmcmFtZU5vZGUiLCJjb250ZW50RG9jdW1lbnQiLCJjdnMiLCJjdHgiLCJnZXRDb250ZXh0IiwiaGVpZ2h0Iiwic2V0U2l6ZSIsInJhdGlvIiwiY2FudmFzTm9kZSIsInBhcmVudCIsInBhcmVudFdpZHRoIiwicGFyc2VJbnQiLCJjYW52YXNSYXRpbyIsImNhbnZhc0hlaWdodCIsImJ1aWxkQ2hhcnQiLCJjaGFydGpzQ29uZmlnIiwiZGVmYXVsdHMiLCJmb250IiwiY2hhcnQiLCJjaGFydENvbmZpZyIsImRzSW5kZXgiLCJpbml0V2RhdGVQaWNrZXIiLCJxdWVyeUJpbGxSdWxlIiwic2V0QmlsbFJ1bGUiLCJiaW5kQnV0dG9ucyIsImxvYWREYXRhIiwic2F2ZUJpbGxSdWxlSWQiLCJjYXRjaCIsImRzRGV0YWlscyIsInNldFBhcmVudExpbmsiLCJzZXRCaWxsUnVsZVRleHQiLCJsb2FkRGF0YURldGFpbHMiLCJoaXN0b3J5IiwiYmFjayIsImJpbGxUaW1lSW5wIiwiUHJvbWlzZSIsInJlaiIsInJlc29sdmUiLCJiaWxsUnVsZUlkU2VsIiwiZGF0YUFyciIsInNvbWUiLCJkYXRhSGFuZGxlciIsInNldCIsInRleHRBcnIiLCJsaW5lIiwicHJvcEFyciIsInRkQWN0aW9uIiwidGRBY3Rpb25MaW5rIiwiZGF0YXNldCIsInRvRGV0YWlscyIsImxvYyIsImNvbmNhdCIsInByb3RvY29sIiwiaG9zdCIsImNoYXJ0SGFuZGxlciIsImNvbG9yIiwiYmx1ZSIsInllbGxvdyIsImxlZ2VuZExhYmVsIiwibGF5b3V0IiwicGFkZGluZyIsImF4aXNEYXRhIiwiZ2V0QXhpc0RhdGEiLCJnZXREYXRhIiwiYmlsbFRpbWUiLCJzb3J0IiwiZmlyc3RJdGVtIiwic2Vjb25kSXRlbSIsImxhYmVscyIsImdldExhYmVscyIsImRhdGFzZXRzIiwiZ2V0SW5kZXgiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsIm1heEJhclRoaWNrbmVzcyIsImFqYXhTZXR1cCIsInVzZXJJZCIsImNvbnRlbnRUeXBlIiwiYWpheEVycm9yIiwic2V0dGluZ3MiLCJyZXFVcmwiLCJyZXFEYXRhIiwiZ2V0U3RhdHVzVGV4dCIsImFqYXhTdGFydCIsImFqYXhTdG9wIiwiZm4iLCJvIiwic2VyaWFsaXplQXJyYXkiLCJlYWNoIiwiZGF0YVN0YXRpc3RpYyIsInJlYWR5IiwiRW50cnlKUyIsIm9ua2V5ZG93biJdLCJzb3VyY2VSb290IjoiIn0=