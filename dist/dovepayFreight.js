/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js":
/*!*****************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\AgentPages.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Age_table": () => (/* binding */ Age_table),
/* harmony export */   "initAgent_consumerQueryBillDetails_new": () => (/* binding */ initAgent_consumerQueryBillDetails_new),
/* harmony export */   "initAgent_consumerQueryBill_new": () => (/* binding */ initAgent_consumerQueryBill_new),
/* harmony export */   "initAgent_getBindConsumer": () => (/* binding */ initAgent_getBindConsumer),
/* harmony export */   "initAgent_userName": () => (/* binding */ initAgent_userName)
/* harmony export */ });
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Message */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js");



function initAgent_consumerQueryBill_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_0__.initStation_stationQueryBill_new)();
}
function initAgent_consumerQueryBillDetails_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_0__.initStation_stationQueryBillDetails_new)();
}
function initAgent_userName() {
  var span = document.getElementById('agentNameInHeader');
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(document.querySelector('input[name=api_getAgentName]').value, '', setUserName, false);
  function setUserName(res) {
    span.innerHTML = '&nbsp;' + res.data.customerNameChn;
  }
}
function initAgent_getBindConsumer() {
  // var form = document.getElementById('form_consumer_getBindConsumer');
  var url = document.querySelector('input[name=api_getBindConsumer]').value;
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_getBindConsumer)(url);
}
function Age_table() {}
Age_table.prototype.getPage_binding = function (res) {
  var data = res.data,
    name = data.customerNameChn,
    // 商户名称
    status = data.status,
    // 绑定状态
    // statusDesc = data.statusDesc, 
    customerId = data.customerIdList,
    form = document.getElementById('form_consumer_getBindConsumer'),
    inp_cus = form.querySelector('input[name=customerId]'),
    inp_sta = form.querySelector('input[name=status]'),
    inp_nam = form.querySelector('input[name=customerNameChn]'),
    btn_bin = document.getElementById('setBindBtn');
  inp_cus.value = customerId;
  inp_sta.value = status;
  inp_nam.value = name;
  var oldmesNode, mes;
  if (status == 0) {
    // 未绑定
    btn_bin.innerText = '绑定账户';
    oldmesNode = document.querySelector('div.uk-alert');
    if (oldmesNode) (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_remMes)(oldmesNode);
    mes = (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_getMes)('您尚未绑定账户', {
      style: 'warning',
      close: true
    });
    $(mes).insertBefore(form);
    btn_bin.addEventListener('click', function (event) {
      event.preventDefault();
      var url = document.querySelector('input[name=api_bindConsumer]').value;
      var data = {
        customerIdList: customerId,
        status: '1'
      };
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_bindConsumer)(url, data);
    });
  }
  if (status == 1) {
    // 已绑定
    btn_bin.innerText = '解绑账户';
    oldmesNode = document.querySelector('div.uk-alert');
    if (oldmesNode) (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_remMes)(oldmesNode);
    mes = (0,_Message__WEBPACK_IMPORTED_MODULE_2__.fn_getMes)('您已绑定账户', {
      style: 'primary',
      close: true
    });
    $(mes).insertBefore(form);
    btn_bin.addEventListener('click', function (event) {
      event.preventDefault();
      var url = document.querySelector('input[name=api_bindConsumer]').value;
      var data = {
        customerIdList: customerId,
        status: '0'
      };
      // var $this = $(this);
      UIkit.modal.confirm('解除绑定之后将不能继续接收账单, 确认继续?').then(function () {
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetch_age_bindConsumer)(url, data);
      }, function () {
        return;
      });
    });
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js":
/*!******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\AjaxManager.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "checkRes": () => (/* binding */ checkRes),
/* harmony export */   "fetchData": () => (/* binding */ fetchData),
/* harmony export */   "fetch_age_bindConsumer": () => (/* binding */ fetch_age_bindConsumer),
/* harmony export */   "fetch_age_getBindConsumer": () => (/* binding */ fetch_age_getBindConsumer),
/* harmony export */   "fetch_age_toPay": () => (/* binding */ fetch_age_toPay),
/* harmony export */   "fetch_exportExcel": () => (/* binding */ fetch_exportExcel),
/* harmony export */   "fetch_sta_addDiscountCustomer": () => (/* binding */ fetch_sta_addDiscountCustomer),
/* harmony export */   "fetch_sta_changeCustomerDiscountStatus": () => (/* binding */ fetch_sta_changeCustomerDiscountStatus),
/* harmony export */   "fetch_sta_changeDiscountStatus": () => (/* binding */ fetch_sta_changeDiscountStatus),
/* harmony export */   "fetch_sta_getAllDiscountPolicy": () => (/* binding */ fetch_sta_getAllDiscountPolicy),
/* harmony export */   "fetch_sta_getDiscountPolicy": () => (/* binding */ fetch_sta_getDiscountPolicy),
/* harmony export */   "fetch_sta_getStationAllConsumer": () => (/* binding */ fetch_sta_getStationAllConsumer),
/* harmony export */   "fetch_sta_queryCargo": () => (/* binding */ fetch_sta_queryCargo),
/* harmony export */   "fetch_sta_queryDiscountCustomer": () => (/* binding */ fetch_sta_queryDiscountCustomer),
/* harmony export */   "fetch_sta_queryDiscountPolicy": () => (/* binding */ fetch_sta_queryDiscountPolicy),
/* harmony export */   "fetch_sta_stationBillPush": () => (/* binding */ fetch_sta_stationBillPush),
/* harmony export */   "fetch_sta_submitDiscountPage": () => (/* binding */ fetch_sta_submitDiscountPage),
/* harmony export */   "fetch_sta_updateFee": () => (/* binding */ fetch_sta_updateFee),
/* harmony export */   "fetch_sys_getAllConsumer": () => (/* binding */ fetch_sys_getAllConsumer),
/* harmony export */   "fetch_sys_getAllDiscountPolicy": () => (/* binding */ fetch_sys_getAllDiscountPolicy),
/* harmony export */   "fetch_sys_queryDiscountCustomer": () => (/* binding */ fetch_sys_queryDiscountCustomer),
/* harmony export */   "fn_initExportBtn": () => (/* binding */ fn_initExportBtn),
/* harmony export */   "fn_initSubmitBtn": () => (/* binding */ fn_initSubmitBtn)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.url.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.js");
/* harmony import */ var core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.url-search-params.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.js");
/* harmony import */ var core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_url_search_params_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Message__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Message */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _SystemPages__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./SystemPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js");
/* harmony import */ var _AgentPages__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./AgentPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js");
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
















// 检查response：
function checkRes(res, callback) {
  if (res.code != '200') {
    var errmsg = '返回数据结果错误! ' + res.code + ': ' + res.msg;
    _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(errmsg, callback);
    if (console) {
      console.error('response: ', res);
    }
    return false;
  }
}
// Init submit button:
function fn_initSubmitBtn(pageNumber, pageSize, fetchFn, callback, postDataHandler, config) {
  var submitBtn = document.getElementById('submitBtn');
  submitBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var $this = $(this);
    var url = document.querySelector('input[name=api_forTable]').value;
    var postData = $this.closest('form').serializeObject();
    if (typeof postDataHandler === 'function') postDataHandler.call(this, postData);
    postData.pageNumber = pageNumber;
    postData.indexPage = pageNumber;
    postData.pageSize = pageSize;
    postData.countPage = pageSize;
    _Global__WEBPACK_IMPORTED_MODULE_9__["default"].Table.hideTable();
    if (typeof callback === 'function') {
      fetchFn.call(this, url, postData, callback, config);
    } else {
      fetchFn.call(this, url, postData);
    }
  });
  submitBtn.click();
}
// Init export button:
function fn_initExportBtn(fetchFn) {
  var expoBtn = document.getElementById('exportBtn');
  if (!expoBtn) return;
  expoBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var $this = $(this);
    var url = document.querySelector('input[name=api_forExport]').value;
    if (!url) return;
    var postData = $this.closest('form').serializeObject();
    fetchFn.call(this, url, postData);
  });
}
// Export function:
function fetch_exportExcel(url, data) {
  var postData = JSON.stringify(data);
  var fileName = '导出数据.xls';
  // console.log(url, postData);
  $.ajax({
    dataType: '',
    xhrFields: {
      responseType: 'blob'
    },
    url: url,
    data: postData,
    success: function success(res, status, xhr) {
      // console.log(status, xhr);
      if (xhr.status != 200) {
        var errmsg = '导出错误! ' + xhr.status + ': ' + xhr.statusText;
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(errmsg);
        return;
      }
      if (window.navigator.msSaveOrOpenBlob) {
        window.navigator.msSaveBlob(res, fileName);
      } else {
        var downloadLink = window.document.createElement('a');
        downloadLink.href = window.URL.createObjectURL(res);
        downloadLink.download = fileName;
        document.body.appendChild(downloadLink);
        downloadLink.click();
        document.body.removeChild(downloadLink);
      }
    }
  });
}
// 提交数据并处理返回基本功能函数:
function fetchData(url, data, callback, config) {
  var postData = '';
  if (data) {
    try {
      var rawData = _Global__WEBPACK_IMPORTED_MODULE_9__["default"].isJSON(data) ? JSON.parse(data) : data;
      if (!rawData || _typeof(rawData) !== 'object') throw new Error('传入的data参数不合法');
      postData = _Global__WEBPACK_IMPORTED_MODULE_9__["default"].isJSON(data) ? data : JSON.stringify(data);
    } catch (error) {
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(error);
      return;
    }
  }
  var checkResCallback;
  if (config && typeof config === 'function') {
    checkResCallback = config;
  }
  var ajaxConfig = {
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res, checkResCallback) === false) return;
      if (res.msg == 'success') {
        try {
          if (rawData && rawData.pageNumber) {
            callback.call(this, res, rawData.pageNumber, rawData.pageSize);
          } else {
            callback.call(this, res);
          }
        } catch (error) {
          _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(error);
          return;
        }
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
        return;
      }
    }
  };
  if (config && _typeof(config) === 'object') {
    for (var key in config) {
      ajaxConfig[key] = config[key];
    }
  } else if (config === false) {
    ajaxConfig.global = false;
  }
  $.ajax(ajaxConfig);
}

// sys:
function fetch_sys_getAllConsumer(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  // console.log(url, postData)
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_userInfo(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
function fetch_sys_queryDiscountCustomer(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_inModal(res);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
function fetch_sys_getAllDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      console.log(res);
      var table = new _SystemPages__WEBPACK_IMPORTED_MODULE_13__.Sys_table();
      try {
        table.getTable_queryPolicies(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}

// agent:
// 提交支付：
function fetch_age_toPay(url, data) {
  // 去收银台
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      // console.log(res)
      // debugger
      if (checkRes(res) === false) return;
      var data = res.data,
        payUrl = data.payUrl,
        payData = data.payData;
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].submVirtForm(payUrl, payData);
    }
  });
}
// 获取账户绑定数据：
function fetch_age_getBindConsumer(url) {
  // 获取绑定信息
  $.ajax({
    url: url,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _AgentPages__WEBPACK_IMPORTED_MODULE_14__.Age_table();
      try {
        table.getPage_binding(res);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 提交绑定：
function fetch_age_bindConsumer(url, data) {
  // 绑定商户
  var postData = JSON.stringify(data);
  var status = data.status;
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (res.code == '200') {
        var oldMes;
        if (status == '0') {
          oldMes = document.querySelector('div.uk-alert');
          (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_remMes)(oldMes);
          UIkit.modal.alert('账户解绑成功').then(function () {
            location.reload();
          });
        }
        if (status == '1') {
          oldMes = document.querySelector('div.uk-alert');
          (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_remMes)(oldMes);
          UIkit.modal.alert('账户绑定成功').then(function () {
            location.reload();
          });
        }
      } else {
        var mes = (0,_Message__WEBPACK_IMPORTED_MODULE_10__.fn_getMes)('绑定/解绑失败', {
          style: 'danger',
          close: true
        });
        $(mes).insertBefore(document.querySelector('form'));
      }
    }
  });
}

// Station:
// 调账：
function fetch_sta_updateFee(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      if (res.msg == 'success') {
        UIkit.modal.alert('修改成功').then(function () {
          document.getElementById('submitBtn').click();
        });
      }
    }
  });
}
// 用户信息管理：推送账单
function fetch_sta_stationBillPush(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      try {
        if (res.msg == 'success') {
          UIkit.modal.alert('推送成功').then(function () {
            document.getElementById('submitBtn').click();
          });
        }
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：获取用户信息:
function fetch_sta_getStationAllConsumer(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var table = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
      try {
        table.getTable_getStationAllConsumer(res, pageNumber, pageSize);
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 用户信息管理：设置优惠（获取）
function fetch_sta_queryDiscountPolicy(url, customerId) {
  $.ajax({
    url: url,
    data: '',
    success: function success(res) {
      if (checkRes(res) === false) return;
      var element = document.querySelector('#discountSetting');
      var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_11__.Listbox();
      try {
        listbox.getOptions_discountName(res, element, customerId);
        UIkit.modal(element).show();
      } catch (err) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(err);
      }
    }
  });
}
// 用户信息管理：设置优惠（添加）
function fetch_sta_addDiscountCustomer(url, data) {
  if (data === null) {
    UIkit.modal.alert('请选择至少一项优惠政策');
    return;
  }
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(postData, url, res);
      try {
        if (res.msg == 'success') {
          UIkit.modal.alert('添加成功!');
        } else {
          UIkit.modal.alert(res.msg);
        }
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：查看优惠（获取）
function fetch_sta_queryDiscountCustomer(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      try {
        var element = document.querySelector('#discountShowing');
        var table = element.querySelector('table');
        var tab = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
        var tbody = tab.getTable_queryDiscountCustomer(res);
        var bodys = table.querySelectorAll('tbody');
        for (var i = 0; i < bodys.length; i++) {
          table.removeChild(bodys[i]);
        }
        table.appendChild(tbody);
        UIkit.modal(element).show();
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 用户信息管理：查看优惠（更改）
function fetch_sta_changeCustomerDiscountStatus(url, data) {
  var postData = JSON.stringify(data);
  // console.log(postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (res.msg == 'success') {
        UIkit.modal.alert('更改成功!');
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
      }
    }
  });
}
// 优惠政策管理：查看所有优惠政策
function fetch_sta_getAllDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  var pageNumber = data.pageNumber;
  var pageSize = data.pageSize;
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var tab = new _StationPages__WEBPACK_IMPORTED_MODULE_12__.Sta_table();
      tab.getTable_getAllDiscountPolicy(res, pageNumber, pageSize);
    }
  });
}
// 优惠政策管理： 启动、停止优惠
function fetch_sta_changeDiscountStatus(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res)
      if (res.msg == 'success') {
        UIkit.modal.alert('操作成功').then(function () {
          location.reload();
        });
      }
    }
  });
}
// 优惠政策管理：优惠政策详情
function fetch_sta_getDiscountPolicy(url, data) {
  var postData = JSON.stringify(data);
  // console.log(url, postData);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      // console.log(res);
      var data = res.data;
      if (data.length < 1) {
        UIkit.modal.alert('无数据');
      }
      _Global__WEBPACK_IMPORTED_MODULE_9__["default"].initDiscountDetails(data);
      var btn = document.getElementById('btnAction');
      var status_changeToThis = null;
      if (data.status == '1') {
        btn.innerText = '作废';
        status_changeToThis = 2;
      } else {
        btn.innerText = '启用';
        status_changeToThis = 1;
      }
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_changeDiscountStatus]').value;
        var postData = {
          discountPolicyId: data.discountPolicyId,
          status: status_changeToThis
        };
        fetch_sta_changeDiscountStatus(url, postData);
      });
    }
  });
}
// 新增优惠：获取品名
function fetch_sta_queryCargo(url, data, resultContainer) {
  var postData = JSON.stringify({
    cargoNm: data
  });
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_11__.Listbox();
      try {
        listbox.getOptions_cargoName(res, resultContainer);
      } catch (e) {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(e);
      }
    }
  });
}
// 新增优惠：提交优惠
function fetch_sta_submitDiscountPage(url, data) {
  var postData = JSON.stringify(data);
  $.ajax({
    url: url,
    data: postData,
    success: function success(res) {
      if (checkRes(res) === false) return;
      if (res.msg == 'success') {
        UIkit.modal.alert('创建成功').then(function () {
          window.location.href = 'discountPoliciesManagement';
        });
      } else {
        _Global__WEBPACK_IMPORTED_MODULE_9__["default"].errorHandler(res.msg);
      }
    }
  });
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\DiscountPages.js":
/*!********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\DiscountPages.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "initStation_discountPoliciesManagementDetails": () => (/* binding */ initStation_discountPoliciesManagementDetails),
/* harmony export */   "initStation_initTabs": () => (/* binding */ initStation_initTabs)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");









function initStation_discountPoliciesManagementDetails() {
  var discountPolicyId = document.querySelector('input[name=discountPolicyId]').value;
  var url = document.querySelector('input[name=api_getDiscountPolicy]').value;
  var data = {
    discountPolicyId: discountPolicyId
  };
  //输出详情数据, 绑定启用/作废button
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_getDiscountPolicy)(url, data);
  // 绑定返回button
  document.getElementById('btnBack').addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=url_discountPoliciesManagement]').value;
    window.location.href = url;
  });
}
function initStation_initTabs() {
  var queryType = document.querySelector('input[name=dict_api_queryType]').value;
  if (!queryType) return;
  var callback = function callback(res) {
    if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.checkRes)(res) === false) return;
    var texts = res.data,
      content = document.querySelector('#discountType');
    for (var i = 0; i < texts.length; i++) {
      createNodes(content, texts[i], i);
    }
    switchPage(0);
  };
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])(queryType, callback);
  function createNodes(content, data, num) {
    var li = document.createElement('li'),
      a = document.createElement('a');
    a.setAttribute('href', '#');
    a.innerText = data.value;
    a.setAttribute('data-type', data.type);
    a.setAttribute('data-key', data.key);
    a.addEventListener('click', function (event) {
      event.preventDefault();
      switchPage(num);
    });
    li.appendChild(a);
    content.appendChild(li);
  }
  function switchPage(num) {
    var container = document.querySelector('section#form-container');
    var initPage = function initPage(res) {
      $(container).html(res);
      initPage_1();
    };
    $.ajax({
      url: 'discountPolicies/' + (Number(num) + 1),
      headers: '',
      type: 'GET',
      dataType: 'html',
      success: initPage
    });
  }
  function initPage_1() {
    // init Wdate:
    _Global__WEBPACK_IMPORTED_MODULE_5__["default"].WdateInit('startTime', 'endTime');

    // 普通优惠，查询字典接口加载select的option:
    if (document.getElementById('normal_discount_type_select')) {
      (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])('DISCOUNT_SUPPORT', function (res) {
        if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.checkRes)(res) === false) return;
        if (res.data.length < 1) {
          UIkit.alert('字典接口无数据').then(function () {
            console.error(res);
            return;
          });
        }
        var sel = document.getElementById('normal_discount_type_select');
        var data = res.data;
        for (var i = 0; i < data.length; i++) {
          var op = document.createElement('option');
          for (var key in data[i]) {
            if (key == 'value') {
              op.innerText = data[i][key];
            } else {
              op.setAttribute('data-' + key, data[i][key]);
            }
          }
          sel.appendChild(op);
        }

        // 绑定select关联listbox：
        var listbox = document.getElementById('specialCargoNameListbox');
        selToListbox();
        sel.addEventListener('change', function (event) {
          event.preventDefault();
          selToListbox('onchange');
        });
        function selToListbox(type) {
          if (sel.options[sel.selectedIndex].getAttribute('data-key') == 'N_GA_D_E') {
            listbox.style.display = '';
            if (type) {
              document.getElementById('fn_queryCargoNmBtn').click();
            }
          } else {
            listbox.style.display = 'none';
            document.getElementById('destSelect').innerHTML = '';
          }
        }
      });
    }

    // 航点优惠，初始化航点信息：
    if (document.getElementById('departureInfo')) {
      var departureInfo = new DepartureInfo();
      departureInfo.add('init');
    }

    // 优惠政策设置页面，初始化增加航班号组件
    if (document.querySelector('#inputAssets')) {
      var airlineNum = new AirlineNum();
      airlineNum.add('airlineNum', 'init');
    }

    // 加载品名listbox：
    if (document.querySelector('#cargoNameListbox') || document.getElementById('specialCargoNameListbox')) {
      (0,_Listbox__WEBPACK_IMPORTED_MODULE_7__.initListBox)();
    }

    // 品名查询：
    if (document.querySelector('#fn_queryCargoNmBtn')) {
      var btn = document.querySelector('#fn_queryCargoNmBtn');
      var url = document.querySelector('input[name=api_queryCargo]').value;
      var resultContainer = document.querySelector('select#sourceSelect');
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        var postData = document.querySelector('input[name=cargoNm]').value;
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_queryCargo)(url, postData, resultContainer);
      });
      // 默认执行一次查询：
      btn.click();
    }

    // 初始化费用表单
    if (document.querySelector('#wrap_feeDiscount_assets')) {
      var feeDiscountItem = new FeeDiscountItem();
      feeDiscountItem.add('init');
    }

    // 绑定submit：
    if (document.querySelector('#fn_submitDiscountPage_1')) {
      submitDiscountPage('1');
    }
    if (document.querySelector('#fn_submitDiscountPage_2')) {
      submitDiscountPage('2');
    }
    if (document.querySelector('#fn_submitDiscountPage_3')) {
      submitDiscountPage('3');
    }
    function submitDiscountPage(pageNum) {
      var submitBtn = document.querySelector('.fn_submit-discountPage');
      submitBtn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_createDiscountPolicy]').value;
        var submit = new DiscountPagesSubmit();
        var postData = {};
        if (pageNum == '1') postData = submit.getP1PostData();
        if (pageNum == '2') postData = submit.getP2PostData();
        if (pageNum == '3') postData = submit.getP3PostData();
        // console.log(url, postData);
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_sta_submitDiscountPage)(url, postData);
      });
    }
  }
}
function AirlineNum() {}
AirlineNum.prototype.add = function (inputName, type) {
  var parentNode = document.querySelector('#inputAssets');
  var asset = AirlineNum.getInputAsset(inputName, type);
  if (!parentNode) {
    throw new Error('without #inputAssets');
  }
  parentNode.appendChild(asset);
};
AirlineNum.getInputAsset = function (inputName, type) {
  // 初始化wrap：
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-width-1-4');

  // 初始化label:
  var aLabel = document.createElement('label');
  aLabel.setAttribute('class', 'uk-form-label');
  aLabel.setAttribute('for', inputName);
  aLabel.innerText = '航班号';
  wrapDiv.appendChild(aLabel);

  // 初始化控件组：
  var formControlDiv = document.createElement('div');
  formControlDiv.setAttribute('class', 'uk-form-controls uk-flex uk-flex-bottom');
  wrapDiv.appendChild(formControlDiv);

  // 初始化input:
  var aInput = document.createElement('input');
  aInput.setAttribute('class', 'uk-input');
  aInput.setAttribute('type', 'text');
  aInput.setAttribute('name', inputName);
  formControlDiv.appendChild(aInput);

  // 初始化add图标 - button：
  createAddBtn(formControlDiv);
  function createAddBtn(parentNode, type) {
    var plusBtn_content = document.createElement('i');
    plusBtn_content.setAttribute('class', 'fa fa-plus');
    plusBtn_content.setAttribute('aria-hidden', 'true');
    var plusBtn = document.createElement('button');
    plusBtn.setAttribute('class', 'button button-primary button-square');
    plusBtn.setAttribute('id', 'addAsset');
    plusBtn.appendChild(plusBtn_content);
    if (!type) {
      parentNode.appendChild(plusBtn);
    } else {
      var child = parentNode.querySelector('button');
      if (child) {
        parentNode.insertBefore(plusBtn, child);
      } else {
        parentNode.appendChild(plusBtn);
      }
    }
    plusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var airlineNum = new AirlineNum();
      airlineNum.add('airlineNum');
    });
  }

  // 初始化minus图标 - button：
  if (!type) {
    var minusBtn_content = document.createElement('i');
    minusBtn_content.setAttribute('class', 'fa fa-minus');
    minusBtn_content.setAttribute('aria-hidden', 'true');
    var minusBtn = document.createElement('button');
    minusBtn.setAttribute('class', 'button button-highlight button-square');
    minusBtn.appendChild(minusBtn_content);
    formControlDiv.appendChild(minusBtn);
    minusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      var preFormControlDiv = preWrapDiv.querySelector('.uk-form-controls');
      if (!!preFormControlDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preFormControlDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }
  return wrapDiv;
};
function DepartureInfo() {}
DepartureInfo.prototype.add = function (type) {
  var parentNode = document.getElementById('departureInfo');
  var asset = DepartureInfo.getAsset(type);
  if (!parentNode) {
    throw new Error('without #departureInfo');
  }
  parentNode.appendChild(asset);
};
DepartureInfo.getAsset = function (type) {
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-flex uk-flex-bottom fn_departureInfo_wrap uk-width-1-2');
  var flexDiv1 = document.createElement('div');
  flexDiv1.setAttribute('class', 'fn_departureInfo_1');
  wrapDiv.appendChild(flexDiv1);
  var label_1 = document.createElement('label');
  label_1.setAttribute('class', 'uk-form-label');
  label_1.innerText = '起点站';
  flexDiv1.appendChild(label_1);
  var input_1 = document.createElement('input');
  input_1.setAttribute('class', 'uk-input');
  input_1.setAttribute('type', 'text');
  flexDiv1.appendChild(input_1);
  var flexDiv2 = document.createElement('div');
  flexDiv2.setAttribute('class', 'fn_departureInfo_2 uk-margin-small-left uk-margin-small-right');
  wrapDiv.appendChild(flexDiv2);
  var label_2 = document.createElement('label');
  label_2.setAttribute('class', 'uk-form-label');
  label_2.setAttribute('for', 'discountValue');
  label_2.innerText = '起点站三字码';
  flexDiv2.appendChild(label_2);
  var input_2 = document.createElement('input');
  input_2.setAttribute('class', 'uk-input');
  input_2.setAttribute('type', 'text');
  input_2.setAttribute('name', 'discountValue');
  flexDiv2.appendChild(input_2);
  createAddBtn(wrapDiv);
  function createAddBtn(wrapDiv, type) {
    var btn_plus = document.createElement('button');
    btn_plus.setAttribute('class', 'button button-primary button-square');
    if (!type) {
      wrapDiv.appendChild(btn_plus);
    } else {
      var child = wrapDiv.querySelector('button');
      if (child) {
        wrapDiv.insertBefore(btn_plus, child);
      } else {
        wrapDiv.appendChild(btn_plus);
      }
    }
    var btn_plus_icon = document.createElement('i');
    btn_plus_icon.setAttribute('class', 'fa fa-plus');
    btn_plus_icon.setAttribute('aria-hidden', 'true');
    btn_plus.appendChild(btn_plus_icon);
    btn_plus.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var departureInfo = new DepartureInfo();
      departureInfo.add();
    });
  }
  if (!type) {
    var btn_minus = document.createElement('button');
    btn_minus.setAttribute('class', 'button button-highlight button-square');
    wrapDiv.appendChild(btn_minus);
    var btn_minus_icon = document.createElement('i');
    btn_minus_icon.setAttribute('class', 'fa fa-minus');
    btn_minus_icon.setAttribute('aria-hidden', 'true');
    btn_minus.appendChild(btn_minus_icon);
    btn_minus.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      if (!!preWrapDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preWrapDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }
  return wrapDiv;
};
function FeeDiscountItem() {}
FeeDiscountItem.prototype.add = function (type) {
  $.ajax({
    url: document.querySelector('input[name=api_queryFeeItem]').value,
    data: '',
    success: function success(feeItem) {
      if (feeItem.code != '200') {
        UIkit.modal.alert(feeItem.msg);
      }
      (0,_QueryDict__WEBPACK_IMPORTED_MODULE_6__["default"])('DISCOUNT_FEE_TYPE', function (feeType) {
        if (feeType.code != '200') {
          UIkit.modal.alert(feeType.msg);
        }
        try {
          var asset = FeeDiscountItem.getAsset(feeItem.data, feeType.data, type);
          var parentNode = document.querySelector('#wrap_feeDiscount_assets');
          parentNode.appendChild(asset);
        } catch (e) {
          alert(e);
          console.error(e);
        }
      });
    }
  });
};
FeeDiscountItem.getAsset = function (feeItemData, feeTypeData, type) {
  // wrap:
  var wrapDiv = document.createElement('div');
  wrapDiv.setAttribute('class', 'uk-flex uk-flex-middle uk-margin fn_getDiscountFeeRequestList');

  // 费用减免项：
  var feeItemDiv = document.createElement('div');
  feeItemDiv.setAttribute('class', 'uk-width-medium');
  wrapDiv.appendChild(feeItemDiv);
  var feeItemLabel = document.createElement('label');
  feeItemLabel.setAttribute('class', 'uk-form-label');
  feeItemLabel.setAttribute('for', 'discountFeeKey');
  feeItemLabel.innerText = '费用减免项';
  feeItemDiv.appendChild(feeItemLabel);

  /* 由单选: */
  // var feeItemSelect = document.createElement('select');
  // feeItemSelect.setAttribute('class', 'uk-select');
  // feeItemSelect.setAttribute('name', 'discountFeeKey');
  // feeItemDiv.appendChild(feeItemSelect);
  // for (let i = 0; i < feeItemData.length; i++) {
  //   let op = document.createElement('option');
  //   for ( let key in feeItemData[i]) {
  //     if (key == 'feeShortNm') {
  //       op.innerText = feeItemData[i][key];
  //     }
  //     op.setAttribute('data-' + key, feeItemData[i][key]);
  //   }
  //   feeItemSelect.appendChild(op);
  // }

  /* 改为多选: */
  /* 组件结构: 
    feeItemAsset
      feeItemButton
      feeItemButtonModal
  */
  var feeItemAsset = document.createElement('div');
  feeItemDiv.appendChild(feeItemAsset);
  feeItemAsset.classList.add('uk-flex', 'discountFeeKey');
  var feeIteminput = document.createElement('input');
  feeItemAsset.appendChild(feeIteminput);
  feeIteminput.classList.add('uk-input');
  feeIteminput.style.textOverflow = 'ellipsis';
  feeIteminput.setAttribute('placeholder', '请选择减免项');
  feeIteminput.setAttribute('readonly', 'readonly');
  var feeItemButton = document.createElement('button');
  feeItemAsset.appendChild(feeItemButton);
  var feeItemButtonModal = document.createElement('div');
  feeItemAsset.appendChild(feeItemButtonModal);

  /* feeItemButton: */
  feeItemButton.innerHTML = '<i class="fa fa-caret-right" aria-hidden="true"></i>';
  feeItemButton.classList.add('uk-button', 'uk-button-primary');
  feeItemButton.setAttribute('type', 'button');

  /* feeItemButtonModal: */
  feeItemButtonModal.setAttribute('uk-drop', 'mode: click; pos: right-bottom');
  var cardFrame = document.createElement('div');
  feeItemButtonModal.appendChild(cardFrame);
  cardFrame.classList.add('uk-card', 'uk-card-default');
  var feeItemButtonModalBody = document.createElement('div');
  cardFrame.appendChild(feeItemButtonModalBody);
  feeItemButtonModalBody.classList.add('uk-card-body', 'uk-height-large', 'uk-overflow-auto');
  var feeItemButtonModalBodyUl = document.createElement('ul');
  feeItemButtonModalBody.appendChild(feeItemButtonModalBodyUl);
  feeItemButtonModalBodyUl.classList.add('uk-list', 'uk-list-divider');
  feeItemData.forEach(function (data) {
    if (data['feeShortNm']) {
      var li = document.createElement('li');
      feeItemButtonModalBodyUl.appendChild(li);
      var cb = document.createElement('input');
      li.appendChild(cb);
      cb.type = 'checkbox';
      cb.classList.add('uk-checkbox', 'uk-margin-small-right');
      cb.setAttribute('data-feeShortNm', data['feeShortNm']);
      cb.setAttribute('data-feeId', data['feeId'] ? data['feeId'] : '');
      var span = document.createElement('span');
      li.appendChild(span);
      span.innerText = data['feeShortNm'];
    }
  });
  var cardFooter = document.createElement('div');
  cardFrame.appendChild(cardFooter);
  cardFooter.classList.add('uk-card-footer');
  var footerBtn = document.createElement('button');
  cardFooter.appendChild(footerBtn);
  footerBtn.classList.add('uk-button', 'uk-button-primary', 'uk-align-center');
  footerBtn.innerText = '确认';
  footerBtn.setAttribute('type', 'button');
  footerBtn.addEventListener('click', function () {
    var cbList = feeItemButtonModalBodyUl.querySelectorAll('input[type="checkbox"]');
    var checkedValue = [];
    cbList.forEach(function (cb) {
      if (cb.checked) {
        checkedValue.push(cb.getAttribute('data-feeShortNm'));
      }
    });
    console.log(checkedValue);
    feeIteminput.value = checkedValue;
    UIkit.drop(feeItemButtonModal).hide(false);
  });

  // 费用减免类型：
  var feeTypeDiv = document.createElement('div');
  feeTypeDiv.setAttribute('class', 'uk-margin-small-left');
  wrapDiv.appendChild(feeTypeDiv);
  var feeTypeLabel = document.createElement('label');
  feeTypeLabel.setAttribute('class', 'uk-form-label');
  feeTypeLabel.setAttribute('for', 'discountFeeType');
  feeTypeLabel.innerText = '减免类型';
  feeTypeDiv.appendChild(feeTypeLabel);
  var flexDiv = document.createElement('div');
  flexDiv.setAttribute('class', 'uk-flex uk-flex-middle uk-form-controls');
  feeTypeDiv.appendChild(flexDiv);
  var feeTypeSelect = document.createElement('select');
  feeTypeSelect.setAttribute('class', 'uk-select uk-width-small');
  feeTypeSelect.setAttribute('name', 'discountFeeType');
  flexDiv.appendChild(feeTypeSelect);
  for (var i = 0; i < feeTypeData.length; i++) {
    var op = document.createElement('option');
    for (var key in feeTypeData[i]) {
      if (key == 'value') {
        op.innerText = feeTypeData[i][key];
      }
      op.setAttribute('data-' + key, feeTypeData[i][key]);
    }
    feeTypeSelect.appendChild(op);
  }

  // 费用数值：
  var feeInput = document.createElement('input');
  feeInput.setAttribute('class', 'uk-input uk-margin-small-left uk-width-small');
  feeInput.setAttribute('type', 'number');
  feeInput.setAttribute('name', 'discountFeeValue');
  var val = feeTypeSelect.getAttribute('data-key');
  if (val == 'free') {
    feeInput.setAttribute('disabled', '');
  }
  flexDiv.appendChild(feeInput);
  var discrSpan = document.createElement('span');
  discrSpan.setAttribute('class', 'uk-margin-small-left uk-margin-small-right uk-text-nowrap');
  discrSpan.innerText = '元/折';
  flexDiv.appendChild(discrSpan);
  if (!type) {
    var minusBtn = document.createElement('button');
    minusBtn.setAttribute('class', 'button button-highlight button-square');
    flexDiv.appendChild(minusBtn);
    var minusIcon = document.createElement('i');
    minusIcon.setAttribute('class', 'fa fa-minus');
    minusIcon.setAttribute('aria-hidden', 'true');
    minusBtn.appendChild(minusIcon);
    minusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      var preWrapDiv = wrapDiv.previousElementSibling;
      var nextWrapDiv = wrapDiv.nextElementSibling;
      var preFormControlDiv = preWrapDiv.querySelector('.uk-form-controls');
      if (!!preFormControlDiv && !nextWrapDiv)
        // 如果是最后一个
        createAddBtn(preFormControlDiv, 'insertBefore');
      wrapDiv.parentNode.removeChild(wrapDiv);
    });
  }

  // 按钮：
  createAddBtn(flexDiv, type);
  function createAddBtn(parentNode) {
    var plusBtn = document.createElement('button');
    plusBtn.setAttribute('class', 'button button-primary button-square');
    parentNode.appendChild(plusBtn);
    var plusIcon = document.createElement('i');
    plusIcon.setAttribute('class', 'fa fa-plus');
    plusIcon.setAttribute('aria-hidden', 'true');
    plusBtn.appendChild(plusIcon);
    plusBtn.addEventListener('click', function (event) {
      event.preventDefault();
      this.parentNode.removeChild(this);
      var feeDiscountItem = new FeeDiscountItem();
      feeDiscountItem.add();
    });
  }

  // listen select:
  checkFeeType(feeTypeSelect); // check after building
  feeTypeSelect.addEventListener('change', function () {
    checkFeeType(this);
  });
  function checkFeeType(selectNode) {
    var index = selectNode.selectedIndex;
    var val = selectNode.options[index].getAttribute('data-key');
    if (val == 'free') {
      feeInput.value = '';
      feeInput.innerHTML = '';
      feeInput.setAttribute('disabled', 'true');
    } else {
      if (feeInput.getAttribute('disabled') === 'true') {
        feeInput.removeAttribute('disabled');
      }
    }
  }
  return wrapDiv;
};
function DiscountPagesSubmit() {}
DiscountPagesSubmit.prototype.getP1PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueAirline();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var cargoNo = DiscountPagesSubmit.getCargoNo();
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.cargoNo = cargoNo;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.prototype.getP2PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueAirdot();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.prototype.getP3PostData = function () {
  var data = {};
  var discountPolicyName = document.querySelector('input[name=discountPolicyName]').value;
  var startTime = document.querySelector('input[name=startTime]').value;
  var endTime = document.querySelector('input[name=endTime]').value;
  var discountType = document.querySelector('#discountType .uk-active a').getAttribute('data-key');
  var discountValue = DiscountPagesSubmit.getDiscountValueFromSelect();
  var minCharge = document.querySelector('input[name=minCharge]').value;
  var cargoNo = DiscountPagesSubmit.getCargoNo();
  var discountFeeRequestList = DiscountPagesSubmit.getDiscountFeeRequestList();
  data.discountPolicyName = discountPolicyName;
  data.startTime = startTime;
  data.endTime = endTime;
  data.discountType = discountType;
  data.discountValue = discountValue;
  data.minCharge = minCharge;
  data.cargoNo = cargoNo;
  data.discountFeeRequestList = discountFeeRequestList;
  return data;
};
DiscountPagesSubmit.getDiscountValueAirline = function () {
  var result = '';
  var inputArr = document.querySelectorAll('input[name=airlineNum]');
  if (inputArr.length < 1) {
    throw new Error('没有flightNumber字段');
  }
  for (var i = 0; i < inputArr.length; i++) {
    var value = $.trim(inputArr[i].value);
    if (value == '') {
      continue;
    }
    if (i > 0) {
      result += ',';
    }
    result += value;
  }
  return result;
};
DiscountPagesSubmit.getDiscountValueAirdot = function () {
  var result = '';
  var inputArr = document.querySelectorAll('input[name=discountValue]');
  if (inputArr.length < 1) {
    throw new Error('没有三字码字段');
  }
  for (var i = 0; i < inputArr.length; i++) {
    var value = $.trim(inputArr[i].value);
    if (value == '') {
      continue;
    }
    if (i > 0) {
      result += ',';
    }
    result += value;
  }
  return result;
};
DiscountPagesSubmit.getDiscountValueFromSelect = function () {
  var select = document.querySelector('select[name=discountValue]');
  var value = select.options[select.selectedIndex].getAttribute('data-key');
  return value;
};
DiscountPagesSubmit.getCargoNo = function () {
  var result = '';
  var select = document.querySelector('#destSelect');
  var ops = select.querySelectorAll('option');
  // if (ops.length < 1) {
  //   UIkit.modal.alert('没有添加优惠品名');
  //   return;
  // }
  for (var i = 0; i < ops.length; i++) {
    var cargoNo = ops[i].getAttribute('data-cargoNo');
    if (i > 0) {
      result += ',';
    }
    if (cargoNo === null || cargoNo === '') {
      continue;
    }
    result += cargoNo;
  }
  return result;
};
DiscountPagesSubmit.getDiscountFeeRequestList = function () {
  var result = [];
  var listArr = document.querySelectorAll('.fn_getDiscountFeeRequestList');
  if (listArr.length < 1) {
    return null;
  }
  for (var i = 0; i < listArr.length; i++) {
    // var child = {};

    /* select */
    // var keySelect = listArr[i].querySelector('select[name=discountFeeKey]');

    /* 改成checkbox */
    var keyCheckboxList = listArr[i].querySelectorAll('div.discountFeeKey input[type="checkbox"]');
    var typeSelect = listArr[i].querySelector('select[name=discountFeeType]');
    var discountFeeType = typeSelect.options[typeSelect.selectedIndex].getAttribute('data-key');
    var discountFeeValue = listArr[i].querySelector('input[name=discountFeeValue]').value;

    /* select prop: */
    // var discountFeeKey = keySelect.options[keySelect.selectedIndex].getAttribute('data-feeId');
    // var discountFeeKeyName = listArr[i].querySelector('select[name=discountFeeKey]').value;
    // child.discountFeeType = discountFeeType;
    // child.discountFeeKey = discountFeeKey;
    // child.discountFeeKeyName = discountFeeKeyName;
    // child.discountFeeValue = discountFeeValue;
    // result.push(child);

    /* 改成checkbox prop: */
    keyCheckboxList.forEach(function (cb) {
      if (cb.checked) {
        var data = {};
        data.discountFeeType = discountFeeType;
        data.discountFeeKey = cb.getAttribute('data-feeid');
        data.discountFeeKeyName = cb.getAttribute('data-feeshortnm');
        data.discountFeeValue = discountFeeValue;
        result.push(data);
      }
    });
  }
  var inputFeerate = document.querySelector('input[name=feerate]').value;
  if (inputFeerate) {
    result.push({
      discountFeeType: 'rate',
      discountFeeValue: $.trim(inputFeerate)
    });
  }
  return result;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\FormValidate.js":
/*!*******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\FormValidate.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ FormValidate)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__);


function FormValidate() {}
FormValidate.prototype.validator = function () {
  var form = document.getElementById('dataForm');
  var mark = form.getAttribute('data-vld');
  switch (mark) {
    default:
      throw new Error('form参数没有合适的data-vld属性');
    case 'station_billsSetting_addRule':
      return FormValidate.station_billsSetting_addRule();
    // break;
    case 'another':
      return function () {
        console.log('111');
      };
  }
};
FormValidate.station_billsSetting_addRule = function () {
  var inp_billName = document.getElementById('billName');
  var inp_billName_maxWords = 20;
  var inp_billName_maxWordsText = '最多输入' + inp_billName_maxWords + '字';
  return {
    bindFormItems: function bindFormItems() {
      var inp = inp_billName;
      var maxWords = inp_billName_maxWords;
      var maxWordsText = inp_billName_maxWordsText;
      if (!inp) return;
      inp.setAttribute('maxlength', maxWords);
      inp.setAttribute('placeholder', maxWordsText);
      inp.setAttribute('uk-tooltip', 'title:' + maxWordsText + '; pos: top-right');
      inp.setAttribute('autofocus', 'autofocus');
      inp.focus();
      // UIkit.tooltip(inp).show();
      inp.addEventListener('blur', function () {
        FormValidate.inp_checkNull(this, maxWordsText);
      });
      inp.addEventListener('change', function () {
        FormValidate.inp_limitLength(this, maxWords);
      });
    },
    checkCheckboxes: function checkCheckboxes() {
      var boo = false;
      var checkboxes = document.querySelectorAll('input[type=checkbox].linkLabel');
      for (var i = 0; i < checkboxes.length; i++) {
        var checkbox = checkboxes[i];
        if (checkbox.checked) {
          boo = true;
          break;
        }
      }
      if (!boo) UIkit.notification("请在多选项目中选择至少一个类型", 'warning');
      return boo;
    },
    submitBoo: function submitBoo() {
      FormValidate.inp_limitLength(inp_billName, inp_billName_maxWords);
      var boos = [];
      boos.push(FormValidate.inp_checkNull(inp_billName, inp_billName_maxWordsText));
      boos.push(this.checkCheckboxes());
      return FormValidate.passToSubmit(boos);
    }
  };
};
FormValidate.inp_checkNull = function (inp, originText) {
  var changeText = '此项不能为空';
  if (!inp.value) {
    inp.classList.add('uk-form-danger');
    inp.setAttribute('placeholder', changeText);
    inp.setAttribute('uk-tooltip', 'title:' + changeText + '; pos: top-right');
    UIkit.tooltip(inp).show();
    return false;
  } else {
    inp.classList.remove('uk-form-danger');
    inp.setAttribute('uk-tooltip', 'title:' + originText + '; pos: top-right');
    return true;
  }
};
FormValidate.inp_limitLength = function (inp, maxlen) {
  var trimValue = $.trim(inp.value);
  if (trimValue.length > maxlen) {
    inp.value = trimValue.slice(0, maxlen);
  } else {
    inp.value = trimValue;
  }
};
FormValidate.passToSubmit = function (boosArr) {
  for (var i = 0; i < boosArr.length; i++) {
    var boo = boosArr[i];
    if (!boo) {
      return boo;
    } else {
      continue;
    }
  }
  return true;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js":
/*!*************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Global.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js");
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_13__);
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }














// Polyfill:
if (!Array.isArray) {
  Array.isArray = function (arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
  };
}
var Glob_fn = {
  errorHandler: function errorHandler(error, callback) {
    var errMsg = error ? error : '未知错误';
    if (console) {
      console.error('错误信息IN_CONSOLE: ', errMsg);
    }
    if (UIkit) {
      try {
        UIkit.modal.alert(errMsg).then(callback);
      } catch (e) {
        alert(errMsg);
      }
    } else {
      alert(errMsg);
    }
  },
  inheritPrototype: function inheritPrototype(superType, subType) {
    // 继承函数：
    var prototype = Object(superType.prototype); //创建对象
    prototype.constructor = subType; //增强对象
    subType.prototype = prototype; //指定对象
  },

  isJSON: function isJSON(str) {
    if (typeof str !== "string") return false;
    try {
      var object = JSON.parse(str);
      if (object && _typeof(object) === "object") {
        return true;
      } else {
        return false;
      }
    } catch (e) {
      /* 不处理 */
    }
  },
  isDOM: function isDOM(item) {
    return typeof HTMLElement === 'function' ? item instanceof HTMLElement : item && _typeof(item) === 'object' && item.nodeType === 1 && typeof item.nodeName === 'string';
  },
  initMain: function initMain() {
    var main = document.getElementById('dpfMain');
    var headerH = 73;
    var navH = 40;
    var footerH = 90;
    // var browserH = window.outerHeight
    var browserVisibleH = window.innerHeight;
    // console.log(browserH, browserVisibleH)
    var dH = browserVisibleH - headerH - navH - footerH;
    main.setAttribute("style", "min-height:" + dH + "px");
  },
  initNav: function initNav() {
    var btns = document.querySelectorAll('#dpfNav button');
    for (var i = 0; i < btns.length; i++) {
      btns[i].addEventListener('click', function () {
        event.stopPropagation();
        var thisBtnCls = this.querySelector('i').classList;
        var dropdown = this.nextElementSibling;
        if (thisBtnCls.contains('fa-caret-down')) {
          for (var j = 0; j < btns.length; j++) {
            btns[j].querySelector('i').setAttribute('class', 'fa fa-caret-down');
            btns[j].nextElementSibling.setAttribute('style', 'display:none');
          }
          thisBtnCls.remove('fa-caret-down');
          thisBtnCls.add('fa-caret-up');
          dropdown.setAttribute('style', 'display:block');
        } else {
          this.blur();
          thisBtnCls.remove('fa-caret-up');
          thisBtnCls.add('fa-caret-down');
          dropdown.setAttribute('style', 'display:none');
        }
      }, false);
    }
    document.addEventListener('click', function () {
      for (var i = 0; i < btns.length; i++) {
        btns[i].nextElementSibling.setAttribute('style', 'display:none');
        btns[i].querySelector('i').setAttribute('class', 'fa fa-caret-down');
      }
    });
  },
  loading: {
    show: function show() {
      if (document.getElementById('loadingOverlay')) return;
      var body = document.querySelector('body');
      var main = document.querySelector('main');
      var parentNode = main ? main : body;
      var div = document.createElement('div');
      div.setAttribute('id', 'loadingOverlay');
      // div.setAttribute('uk-sticky', '');
      div.style.position = 'fixed';
      div.setAttribute('class', 'uk-position-cover uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle');
      div.innerHTML = '<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i><span class="sr-only">Loading...</span>';
      parentNode.appendChild(div);
      return div;
    },
    hide: function hide() {
      var div = document.querySelectorAll('#loadingOverlay');
      if (!div || div.length === 0) {
        throw new Error('没有loading遮罩');
      }
      if (div.length > 1) {
        throw new Error('存在多个loading遮罩');
      }
      for (var i = 0; i < div.length; i++) {
        div[i].parentNode.removeChild(div[i]);
      }
    }
  },
  checkboxAndRadio: {
    getBindingLabel: function getBindingLabel(childNode) {
      var label = null;
      var child = childNode;
      var maxCount = 5;
      do {
        label = child.parentNode;
        child = label;
        maxCount--;
      } while (label.tagName !== 'LABEL' && maxCount > 0);
      if (label.tagName !== 'LABEL') {
        throw new Error('没有label节点');
      }
      return label;
    },
    setBindingLabels: function setBindingLabels(radioSet) {
      var parentProp = this;
      // var labels = labelSet? labelSet: getLabelSet(radioSet);
      return function () {
        for (var i = 0; i < radioSet.length; i++) {
          var radio = radioSet[i];
          var label = parentProp.getBindingLabel(radio);
          label.classList.remove('button-primary');
        }
        for (var _i = 0; _i < radioSet.length; _i++) {
          var radio2 = radioSet[_i];
          if (radio2.checked) {
            parentProp.getBindingLabel(radio2).classList.add('button-primary');
          }
        }
        // console.log(this.getRadioValue(radioSet))
      };
    },

    initActiveLabel: function initActiveLabel(radio) {
      var parentProp = this;
      if (radio.hasAttribute('checked')) {
        parentProp.getBindingLabel(radio).classList.add('button-primary');
      } else {
        parentProp.getBindingLabel(radio).classList.remove('button-primary');
      }
    },
    getRadioValue: function getRadioValue(radioSet) {
      var value = null;
      for (var i = 0; i < radioSet.length; i++) {
        var radio = radioSet[i];
        if (radio.checked) {
          value = radio.value;
        }
      }
      return value;
    }
  },
  WdateInit: function WdateInit(startTimeId, endTimeId, args) {
    var sta = document.getElementById(startTimeId);
    var end = document.getElementById(endTimeId);
    var dateFmt = args && args.dateFmt ? args.dateFmt : 'yyyy-MM-dd';
    if (dateFmt === 'yyyy年MM月') {
      setVelInp(startTimeId);
      setVelInp(endTimeId);
    }
    var minDate = args && args.minDate ? args.minDate : false;
    var maxDate = args && args.maxDate ? args.maxDate : false;
    sta.addEventListener('click', function () {
      var config_s = {
        dateFmt: dateFmt,
        maxDate: '#F{$dp.$D(\'' + endTimeId + '\')}'
      };
      if (dateFmt === 'yyyy年MM月') {
        config_s.vel = startTimeId + '_2';
        config_s.realDateFmt = args.realDateFmt ? args.realDateFmt : 'yyyyMMdd';
      }
      if (minDate) config_s.minDate = minDate;
      if (maxDate === 'today') config_s.maxDate = '#F{$dp.$D(\'' + endTimeId + '\') || \'%y-%M-%d\'}';
      WdatePicker(config_s);
    });
    end.addEventListener('click', function () {
      var config_e = {
        dateFmt: dateFmt,
        minDate: '#F{$dp.$D(\'' + startTimeId + '\')}'
      };
      if (dateFmt === 'yyyy年MM月') {
        config_e.vel = endTimeId + '_2';
        config_e.realDateFmt = args.realDateFmt ? args.realDateFmt : 'yyyyMMdd';
      }
      if (minDate) config_e.minDate = '#F{$dp.$D(\'' + startTimeId + '\') || \'' + minDate + '\'}';
      if (maxDate === 'today') config_e.maxDate = '%y-%M-%d';
      WdatePicker(config_e);
    });
    function setResetButton(input) {
      var btn = document.querySelector('form input[type=reset]');
      if (!btn) return;
      btn.addEventListener('click', function () {
        input.value = '';
      });
    }
    function setVelInp(id) {
      var inp = document.createElement('input');
      var src = document.getElementById(id);
      var srcName = src.getAttribute('name');
      var data = src.getAttribute('data-value');
      src.removeAttribute('name');
      inp.setAttribute('name', srcName);
      inp.setAttribute('id', id + '_2');
      inp.setAttribute('type', 'hidden');
      if (data) {
        inp.setAttribute('value', data);
        src.setAttribute('value', data.slice(0, 4) + '年' + data.slice(4, 6) + '月');
      }
      document.getElementById(id).parentNode.appendChild(inp);
      setResetButton(inp);
      return inp;
    }
  },
  banBackSpace: function banBackSpace(event) {
    var ev = event || window.event;
    var obj = ev.target || ev.srcElement;
    var t = obj.type || obj.getAttribute('type');
    var vReadOnly = obj.getAttribute('readonly');
    vReadOnly = vReadOnly == '' ? false : vReadOnly;
    var flag1 = ev.keyCode == 8 && (t == 'password' || t == 'text' || t == 'number' || t == 'textarea') && vReadOnly != undefined ? true : false;
    var flag2 = ev.keyCode == 8 && t != 'password' && t != 'text' && t != 'number' && t != 'textarea' ? true : false;
    if (flag2) {
      return false;
    }
    if (flag1) {
      return false;
    }
  },
  submVirtForm: function submVirtForm(url, obj) {
    var form = document.createElement('form');
    form.style.display = 'none';
    form.method = 'post';
    form.action = url;
    for (var key in obj) {
      var inp = document.createElement('input');
      inp.type = 'hidden';
      inp.name = key;
      inp.value = obj[key];
      form.appendChild(inp);
    }
    document.body.appendChild(form);
    form.submit();
    document.body.removeChild(form);
  },
  initDiscoutTypeSel: function initDiscoutTypeSel(dataList, parentSelect) {
    var op0 = document.createElement('option');
    op0.setAttribute('value', 'TYPE');
    op0.innerText = '全部';
    parentSelect.appendChild(op0);
    for (var i = 0; i < dataList.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', dataList[i].key);
      op.innerText = dataList[i].value;
      parentSelect.appendChild(op);
    }
  },
  initSupplierSel: function initSupplierSel(dataList, parentSelect) {
    var op0 = document.createElement('option');
    op0.setAttribute('value', '');
    op0.innerText = '全部';
    parentSelect.appendChild(op0);
    for (var i = 0; i < dataList.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', dataList[i].supplierId);
      op.innerText = dataList[i].supplierNameChn;
      parentSelect.appendChild(op);
    }
  },
  initDiscountDetails: function initDiscountDetails(data) {
    document.getElementById('discountPolicyName').value = data.discountPolicyName;
    document.getElementById('status').value = data.statusDesc;
    document.getElementById('startTime').value = data.startTime;
    document.getElementById('endTime').value = data.endTime;
    document.getElementById('discountType').value = data.discountTypeDesc;
    document.getElementById('minCharge').value = data.minCharge;
    document.getElementById('feerateValue').value = getFeerate();
    function getFeerate() {
      var list = data.discountFeeRequestList;
      if (list.length < 1) return null;
      var result = '';
      for (var i = 0; i < list.length; i++) {
        if (list[i].discountFeeType == 'rate') {
          result = list[i].discountFeeValue;
        }
      }
      return result;
    }
    // 输出品名：
    var cargoNameWrap = document.getElementById('cargoName');
    if (data.cargoName) {
      var label = document.createElement('label');
      label.innerText = '优惠品名项';
      cargoNameWrap.appendChild(label);
      var div = document.createElement('div');
      div.setAttribute('class', 'uk-margin-small uk-margin-small-left');
      div.innerText = data.cargoName;
      cargoNameWrap.appendChild(div);
    } else if (cargoNameWrap.innerHTML) {
      cargoNameWrap.innerHTML = '';
    }
    // 输出discountValue：
    var discountValueWrap = document.getElementById('discountValue');
    if (data.discountValue) {
      var _label = document.createElement('label');
      if (data.discountType == 'F') _label.innerText = '优惠航班';else if (data.discountType == 'WP') _label.innerText = '优惠航点';else if (data.discountType == 'G') _label.innerText = '优惠支持方式';else _label.innerText = '优惠值';
      discountValueWrap.appendChild(_label);
      var _div = document.createElement('div');
      _div.setAttribute('class', 'uk-margin-small uk-margin-small-left');
      _div.innerText = data.discountValue;
      discountValueWrap.appendChild(_div);
    } else if (discountValueWrap.innerHTML) {
      discountValueWrap.innerHTML = '';
    }
    var table = document.getElementById('discountFeeRequestList');
    var tbody = getTbody();
    table.appendChild(tbody);
    function getTbody() {
      var tbody = document.createElement('tbody');
      var list = data.discountFeeRequestList;
      for (var i = 0; i < list.length; i++) {
        var tr = document.createElement('tr');
        if (list[i].discountFeeType == 'rate') {
          continue;
        } else {
          var td1 = document.createElement('td');
          td1.innerText = list[i].discountFeeKeyName;
          var td2 = document.createElement('td');
          td2.innerText = list[i].discountFeeTypeDesc;
          var td3 = document.createElement('td');
          td3.innerText = list[i].discountFeeValue;
          tr.appendChild(td1);
          tr.appendChild(td2);
          tr.appendChild(td3);
          tbody.appendChild(tr);
        }
      }
      return tbody;
    }
  },
  Table: {
    showNoData: function showNoData(colspan) {
      var tr0 = document.createElement('tr');
      var td0 = document.createElement('td');
      td0.innerText = '无数据';
      td0.setAttribute('colspan', colspan);
      td0.setAttribute('class', 'uk-text-center');
      tr0.appendChild(td0);
      // 清空分页组件：
      var pag = document.querySelector('ul[data-for=dataTable]');
      pag.innerHTML = '';
      return tr0;
    },
    getThTr: function getThTr(table) {
      var thead = table.querySelector('thead');
      thead.innerHTML = '';
      var trInThead = document.createElement('tr');
      thead.appendChild(trInThead);
      // thead.style.backgroundColor = 'white';
      // thead.setAttribute('uk-sticky', '');
      return trInThead;
    },
    setTh: function setTh(parentTr, content, showBoo) {
      var th = document.createElement('th');
      var show = showBoo === undefined ? true : showBoo;
      if (_typeof(content) == 'object') {
        th.appendChild(content);
      } else {
        th.innerText = content;
      }
      if (!show) th.setAttribute('hidden', '');
      parentTr.appendChild(th);
      return th;
    },
    setTd: function setTd(parentTr, data, showBoo, replaceStr) {
      var td = document.createElement('td');
      var show = showBoo === undefined ? true : showBoo;
      var replace = replaceStr ? replaceStr : '-';
      if (typeof data === 'string' || typeof data === 'number') {
        if (data) {
          var span = document.createElement('span');
          span.style.display = 'inline-block';
          span.innerHTML = data;
          td.appendChild(span);
        } else {
          setNoData(td, replace);
        }
      } else if (Glob_fn.isDOM(data)) {
        td.appendChild(data);
      } else if (Array.isArray(data)) {
        if (data.length < 1) {
          setNoData(td, replace);
        } else {
          for (var i = 0; i < data.length; i++) {
            td.appendChild(data[i]);
          }
        }
      } else {
        setNoData(td, replace);
      }
      if (!show) td.setAttribute('hidden', '');
      parentTr.appendChild(td);
      return td;
      function setNoData(td, replace) {
        td.innerHTML = replace;
        td.setAttribute('class', 'uk-text-center');
      }
    },
    setTdSerial: function setTdSerial(parentTr, number, pageNumber, pageSize) {
      var tdSerial = document.createElement('td');
      parentTr.appendChild(tdSerial);
      tdSerial.innerText = number + 1 + (Number(pageNumber) - 1) * Number(pageSize);
      return tdSerial;
    },
    hideSome: function hideSome(td, width) {
      var span = td.querySelector('span');
      if (!span) return;
      var maxW = width ? width : 200;
      // var byteLength = td.innerText.byteLength();
      var computedWidth = window.getComputedStyle ? window.getComputedStyle(span, null).getPropertyValue('width').slice(0, -2) : span.currentStyle.getPropertyValue('width').slice(0, -2);
      if (Number(computedWidth) < maxW) return td;
      td.style.overflow = 'hidden';
      td.style.textOverflow = 'ellipsis';
      td.style.maxWidth = maxW + 'px';
      td.style.cursor = 'pointer';
      td.innerText = span.innerText;
      td.setAttribute('uk-tooltip', td.innerText);
      return td;
    },
    trHideSome: function trHideSome(tr, max) {
      var tds = tr.querySelectorAll('td');
      for (var i = 0; i < tds.length; i++) {
        var td = tds[i];
        this.hideSome(td, max);
      }
      return tr;
    },
    tbodyHideSome: function tbodyHideSome() {
      var table = document.getElementById('dataTable');
      if (!table) return;
      if (!table.hasAttribute('data-hideSome')) return;
      var prop = table.getAttribute('data-hideSome');
      var size = isNaN(Number(prop)) ? null : Number(prop);
      var tbody = table.querySelector('tbody');
      var trs = tbody.querySelectorAll('tr');
      if (trs.length < 1) return;
      for (var i = 0; i < trs.length; i++) {
        var tr = trs[i];
        this.trHideSome(tr, size);
      }
      return tbody;
    },
    buildAjaxTitle: function buildAjaxTitle(titleData, parentNode) {
      var colCount = 0;
      for (var i = 0; i < titleData.length; i++) {
        var list = titleData[i];
        if (list.feeShortNm === '处置费') {
          var th0 = document.createElement('th');
          th0.innerText = '地面费率';
          th0.setAttribute('data-col', colCount);
          th0.setAttribute('class', 'feeItemTitle');
          colCount++;
          parentNode.appendChild(th0);
        }
        var th = document.createElement('th');
        th.innerText = list.feeShortNm;
        th.setAttribute('data-col', colCount);
        colCount++;
        th.setAttribute('class', 'feeItemTitle');
        parentNode.appendChild(th);
      }
    },
    getAjaxTitleValue: function getAjaxTitleValue(data, key) {
      var arr = [];
      for (var i = 0; i < data.length; i++) {
        var value = data[i][key].toString().replace(/-/g, '#').match(/-?([1-9]\d*(\.\d*)*|0\.[1-9]\d*)/g);
        if (data[i].feeShortNm === '处置费') {
          arr.push(['specialPos']);
        }
        arr.push(value);
      }
      return arr;
    },
    getAjaxTitleData: function getAjaxTitleData(title, feeIdArr, dataList) {
      var arr = title ? [title] : [];
      for (var i = 0; i < feeIdArr.length; i++) {
        var data = '-';
        var feeIdGroup = feeIdArr[i];
        for (var j = 0; j < feeIdGroup.length; j++) {
          var titleFeeId = feeIdGroup[j];
          for (var k = 0; k < dataList.length; k++) {
            var listFeeId = dataList[k].feeId;
            var listValue = dataList[k].fee === null ? '-' : dataList[k].fee;
            var listRate = dataList[k].feerate;
            var listRateFlag = dataList[k].feeShortNM === '处置费';
            if (titleFeeId == listFeeId) {
              if (listRateFlag) {
                arr.pop();
                arr.push(listRate);
              }
              data = listValue;
            }
          }
        }
        arr.push(data);
      }
      if (title) {
        return arr;
      } else {
        return {
          data: arr,
          title: false
        };
      }
    },
    getAjaxTitleObject: function getAjaxTitleObject(feeIdArr, dataList) {
      var arr = [];
      for (var i = 0; i < feeIdArr.length; i++) {
        var feeIdGroup = feeIdArr[i];
        for (var j = 0; j < feeIdGroup.length; j++) {
          var titleFeeId = feeIdGroup[j];
          for (var k = 0; k < dataList.length; k++) {
            var listFeeId = dataList[k].feeId;
            if (titleFeeId == listFeeId) {
              var obj = dataList[k];
            }
          }
        }
        if (obj !== null && obj !== undefined) {
          arr.push(obj);
          obj = null;
        }
      }
      return arr;
    },
    buildValueWithAjaxTitle: function buildValueWithAjaxTitle(linedata, parentNode) {
      var isArr = Array.isArray(linedata);
      var data = isArr ? linedata : linedata.data;
      for (var i = 0; i < data.length; i++) {
        var td = document.createElement('td');
        td.innerText = data[i];
        if (!isArr) {
          td.setAttribute('data-col', i);
        } else {
          if (i >= 1) td.setAttribute('data-col', i - 1);
        }
        parentNode.appendChild(td);
      }
    },
    hideUnvalued: function hideUnvalued(pointedTable, checkValue) {
      try {
        var table = pointedTable ? pointedTable : document.getElementById('dataTable');
        var flag = checkValue ? checkValue : '-';
        var ths = table.querySelectorAll('th.feeItemTitle');
        if (!ths) return;
        var colCount = ths.length;
        for (var i = 0; i < colCount; i++) {
          var column = table.querySelectorAll('td[data-col="' + i + '"]');
          var unvaluedCol = '';
          for (var j = 0; j < column.length; j++) {
            unvaluedCol = true;
            if (column[j].innerText !== flag) {
              unvaluedCol = false;
              break;
            }
          }
          if (unvaluedCol) {
            for (var k = 0; k < column.length; k++) {
              column[k].setAttribute('hidden', '');
            }
            table.querySelector('th[data-col="' + i + '"]').setAttribute('hidden', '');
          }
        }
      } catch (error) {
        console.error(error);
        return;
      }
    },
    checkSize: function checkSize(pointedTable) {
      try {
        var table = pointedTable ? pointedTable : document.getElementById('dataTable');
        var div = table.parentNode;
        var container = document.querySelector('.maincontent');
        var tabwidth = window.getComputedStyle(table, null).getPropertyValue('width').slice(0, -2);
        var divwidth = window.getComputedStyle(div, null).getPropertyValue('width').slice(0, -2);
        if (Number(tabwidth) > Number(divwidth)) {
          container.classList.remove('normalWidth');
          container.classList.add('largeWidth');
        }
      } catch (error) {
        console.error(error);
        return;
      }
    },
    getCheckbox: function getCheckbox(ifAll) {
      var lab = document.createElement('label');
      lab.setAttribute('class', 'void');
      var chb = document.createElement('input');
      lab.appendChild(chb);
      chb.setAttribute('type', 'checkbox');
      chb.setAttribute('class', 'uk-checkbox');
      if (ifAll) {
        chb.setAttribute('id', 'selectAll');
        chb.setAttribute('disabled', '');
      } else {
        chb.setAttribute('class', 'cb_child');
      }
      chb.addEventListener('click', function () {
        var btn = document.getElementById('multiBtn');
        if (!btn) {
          throw new Error('没有对应按键');
        }
        if (this.checked) {
          btn.removeAttribute('disabled');
        } else {
          btn.setAttribute('disabled', '');
        }
      });
      return lab;
    },
    linkCheckboxes: function linkCheckboxes(selAll, selChildren) {
      selAll.addEventListener('click', function () {
        if (selAll.checked) {
          for (var i = 0; i < selChildren.length; i++) {
            if (!selChildren[i].checked) {
              selChildren[i].click();
            }
          }
        } else {
          for (var _i2 = 0; _i2 < selChildren.length; _i2++) {
            if (selChildren[_i2].checked) {
              selChildren[_i2].click();
            }
          }
        }
      });
    },
    addCheckedToList: function addCheckedToList(chb, list) {
      for (var i = 0; i < chb.length; i++) {
        if (chb[i].checked) {
          var data = chb[i].getAttribute('data-checked');
          list.push(data);
        } else {
          continue;
        }
      }
    },
    hideTable: function hideTable() {
      var tab = document.getElementById('dataTable');
      if (!tab) return;
      tab.setAttribute('hidden', '');
    },
    showTable: function showTable() {
      var tab = document.getElementById('dataTable');
      if (!tab) return;
      tab.removeAttribute('hidden');
    }
  },
  getDictArg_forQueryBills: function getDictArg_forQueryBills() {
    var tType = document.querySelector('input[name=type]').value;
    if (!tType) {
      throw new Error('没有type参数');
    }
    if (tType == '1' || tType == '2') {
      // 直达时货运类型查询
      return 'EXPIMP';
    } else if (tType == '3') {
      // 中转时货运类型
      return 'TRANSFERTYPE';
    } else if (tType == '4') {
      // 快件货运类型
      return 'EXPMAIL';
    }
  },
  setSelDefaultOption: function setSelDefaultOption(select, text, value) {
    var option0 = document.createElement('option');
    option0.setAttribute('value', value);
    option0.innerText = text;
    select.appendChild(option0);
  },
  setSelFromDict: function setSelFromDict(select, data) {
    for (var i = 0; i < data.length; i++) {
      var option = document.createElement('option');
      option.innerText = data[i].value;
      option.value = data[i].key;
      select.appendChild(option);
    }
  },
  setInAndOut: function setInAndOut(res) {
    var data = res.data;
    if (data == null || data.length == 0) {
      throw new Error('字典接口无数据');
    }
    var select = document.querySelector('select[name=inAndOut]');
    this.setSelDefaultOption(select, '全部', '-1');
    try {
      this.setSelFromDict(select, data);
    } catch (e) {
      throw new Error(e);
    }
  },
  setOpedepartId: function setOpedepartId(res) {
    var data = res.data;
    if (data == null || data.length == 0) {
      throw new Error('字典接口无数据');
    }
    var select = document.querySelector('select[name=opedepartId]');
    this.setSelDefaultOption(select, '全部', '-1');
    try {
      this.setSelFromDict(select, data);
    } catch (e) {
      throw new Error(e);
    }
  },
  getOrderTime: function getOrderTime() {
    // 账单查看界面获取账期
    try {
      return {
        orderTimeStart: document.querySelector('input[name=orderTimeStart]').value,
        orderTimeEnd: document.querySelector('input[name=orderTimeEnd]').value
      };
    } catch (error) {
      if (console) console.error(error);
      return {
        orderTimeStart: '',
        orderTimeEnd: ''
      };
    }
  },
  setPostLink: function setPostLink(links, postData) {
    try {
      if (!this.isDOM(links) && links.length) {
        for (var i = 0; i < links.length; i++) {
          links[i].addEventListener('click', callback);
        }
      } else {
        links.addEventListener('click', callback);
      }
    } catch (error) {
      return;
    }
    function callback(event) {
      event.preventDefault();
      var url = this.getAttribute('href');
      Glob_fn.submVirtForm(url, postData);
    }
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Glob_fn);

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js":
/*!**************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Listbox.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Listbox": () => (/* binding */ Listbox),
/* harmony export */   "initListBox": () => (/* binding */ initListBox)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);

function initListBox() {
  var btnL2R = document.querySelector('#listboxL2R');
  var btnR2L = document.querySelector('#listboxR2L');
  var selectL = document.querySelector('#sourceSelect');
  var selectR = document.querySelector('#destSelect');
  if (selectL && selectR && btnL2R && btnR2L) {
    btnL2R.addEventListener('click', function (e) {
      e.preventDefault();
      listboxMoveacross('sourceSelect', 'destSelect', 'norepeat');
    });
    btnR2L.addEventListener('click', function (e) {
      e.preventDefault();
      listboxMoveacross('destSelect', 'sourceSelect');
    });
  }
  function listboxMoveacross(sourceID, destID, type) {
    var src = document.getElementById(sourceID);
    var dest = document.getElementById(destID);
    for (var count = 0; count < src.options.length; count++) {
      if (src.options[count].selected == true) {
        var option = src.options[count];
        var attrs = option.attributes;
        var newOption = document.createElement("option");
        for (var i = 0; i < attrs.length; i++) {
          newOption.setAttribute(attrs[i].name, attrs[i].value);
        }
        newOption.value = option.value;
        newOption.text = option.text;
        newOption.selected = true;
        // 品名查询时(左至右)：
        if (document.querySelector('#cargoNameListbox') || document.getElementById('specialCargoNameListbox')) {
          var id1 = newOption.getAttribute('data-cargoNo');
          var destoptions = dest.querySelectorAll('option');
          if (destoptions.length > 0) {
            for (var j = 0; j < destoptions.length; j++) {
              var id2 = destoptions[j].getAttribute('data-cargoNo');
              if (type) {
                if (id1 === id2) {
                  UIkit.modal.alert('选择项在优惠品名列表中已存在');
                  return;
                }
              }
            }
          }
        }
        try {
          dest.add(newOption, null); //Standard
          src.remove(count, null);
        } catch (error) {
          dest.add(newOption); // IE only
          src.remove(count);
        }
        count--;
      }
    }
  }
}
function Listbox() {}
Listbox.prototype.getOptions_cargoName = function (response, container) {
  try {
    var data = response.data;
    if (data.length < 1) {
      UIkit.modal.alert('没有相关的品名');
      return;
    }
    container.innerHTML = '';
    for (var i = 0; i < data.length; i++) {
      var op = document.createElement('option');
      for (var key in data[i]) {
        if (key == 'cargoNm') {
          op.innerText = data[i][key];
          op.setAttribute('data-' + key, data[i][key]);
        }
        op.setAttribute('data-' + key, data[i][key]);
      }
      container.appendChild(op);
    }
  } catch (err) {
    alert(err);
    console.error(err);
  }
};
Listbox.prototype.getOptions_discountName = function (response, listboxEl, customerId) {
  var sel_sou = listboxEl.querySelector('#sourceSelect');
  var sel_des = listboxEl.querySelector('#destSelect');
  sel_sou.innerHTML = '';
  sel_des.innerHTML = '';
  sel_des.setAttribute('data-customerId', customerId);
  var data = response.data;
  if (data.length < 1) {
    return;
  }
  var optionArr = [];
  for (var i = 0; i < data.length; i++) {
    var op = document.createElement('option');
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        op.innerText = data[i][key];
      } else {
        op.setAttribute('data-' + key, data[i][key]);
      }
    }
    optionArr.push[op];
    sel_sou.appendChild(op);
  }
  return optionArr;
};
Listbox.prototype.postData_discountName = function () {
  // var sel_sou = document.querySelector('#sourceSelect');
  var sel_des = document.querySelector('#destSelect');
  var customerId = sel_des.getAttribute('data-customerId');
  var postData = {
    customerId: customerId
  };
  var discountPolicyIds = [];
  var ops = sel_des.querySelectorAll('option');
  if (ops.length < 1) {
    return null;
  }
  for (var i = 0; i < ops.length; i++) {
    var discountPolicyId = ops[i].getAttribute('data-discountPolicyId');
    discountPolicyIds.push(discountPolicyId);
  }
  postData.discountPolicyIds = discountPolicyIds;
  return postData;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Login.js":
/*!************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Login.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Page_login": () => (/* binding */ Page_login),
/* harmony export */   "initLogin_coverPage": () => (/* binding */ initLogin_coverPage),
/* harmony export */   "initLogin_initQuirBtn": () => (/* binding */ initLogin_initQuirBtn),
/* harmony export */   "initLogin_loginFailed": () => (/* binding */ initLogin_loginFailed),
/* harmony export */   "initLogin_page": () => (/* binding */ initLogin_page)
/* harmony export */ });
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");


function initLogin_page() {
  try {
    initPage();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    window.location.href = 'https://www.dovepay.com';
  }
  function initPage() {
    initLogin_coverPage();
    var pageFor = document.querySelector('input[name=pagefor]').value;
    var sel_type = document.querySelector('select[name=userType]');
    var inp_accountId = document.querySelector('input[name=accountId]');
    var form = document.getElementById('form_login');
    var inp_userId = document.querySelector('input[name=userId]');
    if (pageFor === 'system') {
      inp_accountId.value = 'system';
      sel_type.value = 'system';
      form.submit();
    } else {
      var url = document.querySelector('input[name=api_role]').value;
      inp_userId.addEventListener('change', function (event) {
        event.preventDefault();
        fetchLoginData();
      });
      fetchLoginData();
    }
    function fetchLoginData() {
      var data = {
        'userId': inp_userId.value
      };
      var inp_accountId = document.querySelector('input[name=accountId]');
      inp_accountId.value = '';
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(url, data, new Page_login().setRole, {
        global: false,
        error: function error(xhr, textStatus /*, error*/) {
          if (console) console.error(textStatus);
          UIkit.modal.alert('发生错误: ' + textStatus).then(initLogin_loginFailed);
        }
      });
    }
  }
}
function initLogin_initQuirBtn() {
  try {
    initPage();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    return;
  }
  function initPage() {
    var quitBtn = document.getElementById('quitBtn');
    quitBtn.addEventListener('click', function () {
      var btn = this;
      UIkit.modal.confirm('确定退出系统?').then(function () {
        try {
          quit(btn);
        } catch (error) {
          _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
          return;
        }
      });
      function quit(btn) {
        initLogin_coverPage();
        var url = btn.getAttribute('data-url');
        var userType = document.getElementById('userType').value;
        var data = {
          userType: userType
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_1__.fetchData)(url, data, function (res) {
          try {
            var redirect = res.data.redirect;
            window.location.href = redirect;
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
            return;
          }
        });
      }
    });
  }
}
function initLogin_coverPage() {
  var div = document.createElement('div');
  div.setAttribute('class', 'uk-position-cover uk-background-muted uk-overlay uk-overlay-default uk-flex uk-flex-center uk-flex-middle');
  var i = document.createElement('i');
  i.setAttribute('class', 'fa fa-circle-o-notch fa-spin fa-3x fa-fw');
  div.appendChild(i);
  var span = document.createElement('span');
  span.setAttribute('class', 'sr-only');
  span.innerText = 'Loading...';
  div.appendChild(span);
  var span2 = document.createElement('span');
  span2.innerText = '正在跳转';
  div.appendChild(span2);
  document.body.appendChild(div);
  return div;
}
function initLogin_loginFailed() {
  try {
    var pageFor = document.querySelector('input[name=pagefor]').value;
    window.location.href = pageFor === 'system' ? document.querySelector('input[name=url_dovemgr]').value : document.querySelector('input[name=url_dovepay]').value;
  } catch (error) {
    window.location.href = 'https://www.dovepay.com';
  }
}
function Page_login() {}
Page_login.prototype.setRole = function (res) {
  try {
    var data = res.data;
    var accountId = data.accountId;
    var type = data.type;
    var inp_accountId = document.querySelector('input[name=accountId]');
    var sel_type = document.querySelector('select[name=userType]');
    var form = document.getElementById('form_login');
    inp_accountId.value = accountId;
    sel_type.value = type;
    if (!!inp_accountId.value && !!sel_type.value) {
      form.submit();
    } else {
      UIkit.modal.alert('参数错误: accountId=' + accountId + ', type=' + type).then(initLogin_loginFailed);
    }
  } catch (error) {
    UIkit.modal.alert('发生错误: ' + error).then(initLogin_loginFailed);
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Message.js":
/*!**************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Message.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "fn_getMes": () => (/* binding */ fn_getMes),
/* harmony export */   "fn_remMes": () => (/* binding */ fn_remMes)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.symbol.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js");
/* harmony import */ var core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.symbol.description.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js");
/* harmony import */ var core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.symbol.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js");
/* harmony import */ var core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
/* harmony import */ var core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.string.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
/* harmony import */ var core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js");
/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_6__);







function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function Message(mes, args) {
  // ('My Message is ...', {style: 'primary'})
  this.mes = mes;
  this.style = null; // primary, success, warning, danger
  this.closb = '';
  this.message = '';
  if (args) {
    this.style = args.style;
    this.closb = args.close;
  }
}
Message.prototype.create = function () {
  var headtxt = '',
    maintxt = '',
    mes = this.mes,
    style = this.style,
    closb = this.closb ? this.closb : false,
    cont = document.createElement('div'),
    head = document.createElement('h3'),
    main = document.createElement('p'),
    clos = document.createElement('a');
  if (typeof mes == 'string') {
    maintxt = mes;
    if (style == 'primary') {
      headtxt = '提示';
    }
    if (style == 'success') {
      headtxt = '成功';
    }
    if (style == 'warning') {
      headtxt = '注意';
    }
    if (style == 'danger') {
      headtxt = '警告';
    }
  }
  if (_typeof(mes) == 'object') {
    maintxt = mes.text;
    headtxt = mes.title;
    head.innerHTML = headtxt;
  }
  cont.setAttribute('uk-alert', '');
  clos.setAttribute('class', 'uk-alert-close');
  clos.setAttribute('uk-close', '');
  if (style) {
    cont.setAttribute('class', 'uk-alert-' + style);
  }
  head.innerHTML = headtxt;
  main.innerHTML = maintxt;
  if (!closb) {
    cont.appendChild(clos);
  }
  cont.appendChild(head);
  cont.appendChild(main);
  this.message = cont;
  return cont;
};
function fn_getMes(mes, args) {
  var m = new Message(mes, args),
    message = m.create();
  return message;
}
function fn_remMes(node) {
  if (!node) {
    return false;
  } else {
    var par = node.parentNode;
    if (par) par.removeChild(node);else return false;
  }
}
// fn_getMes({title: '信息标题', text: '信息主体'}, {style: 'primary', close: false}*);
// fn_getMes('信息主体', {style: 'primary'});

// TEST:
// var mes1 = fn_getMes({title: '信息标题', text: '信息主体'}, {style: 'primary', close: true}),
//     mes2 = fn_getMes('信息主体', {style: 'primary'}),
//     mes3 = fn_getMes('信息主体', {style: 'success'}),
//     mes4 = fn_getMes('信息主体', {style: 'warning'}),
//     mes5 = fn_getMes('信息主体', {style: 'danger'});
//   document.querySelector('.maincontent').appendChild(mes1);
//   // fn_remove(mes1);
//   document.querySelector('.maincontent').appendChild(mes2);
//   document.querySelector('.maincontent').appendChild(mes3);
//   document.querySelector('.maincontent').appendChild(mes4);
//   document.querySelector('.maincontent').appendChild(mes5);

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js":
/*!***************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Paginate.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fn_initPaginate)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.string.link.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.link.js");
/* harmony import */ var core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_link_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");



function fn_initPaginate(res, pageNumber, pageSize, fetchFn, callback, postDataHandler) {
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.hideUnvalued();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.showTable();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.checkSize();
  _Global__WEBPACK_IMPORTED_MODULE_2__["default"].Table.tbodyHideSome();
  if (res.data.totalPage > 1) {
    var p = new Paginate();
    p.showPagnition(res.data.totalPage, pageNumber, pageSize, fetchFn, callback, postDataHandler);
  } else {
    var wrap = document.querySelector('ul[data-for=dataTable]');
    if (wrap) wrap.innerHTML = '';
  }
}
function Paginate() {}
Paginate.prototype.showPagnition = function (totalPage, pageNumber, pageSize, fetchFn, callback, postDataHandler) {
  totalPage = Number(totalPage);
  pageNumber = Number(pageNumber);
  pageSize = Number(pageSize);
  var wrap = document.querySelector('ul[data-for=dataTable]');
  wrap.innerHTML = '';
  var url = document.querySelector('input[name=api_forTable]').value;
  if (pageNumber > 1) {
    var link_pre = Paginate.getPagi_liPre(wrap);
    link_pre.addEventListener('click', function (event) {
      event.preventDefault();
      var data = getPostData(pageNumber - 1, postDataHandler);
      fetchFn.call(this, url, data, callback);
    });
  }
  for (var i = 0; i < totalPage; i++) {
    var li = void 0;
    if (i == pageNumber - 1) {
      li = Paginate.getPagi_liActive(pageNumber);
    } else {
      var obj = Paginate.getPagi_liNormal(i + 1);
      var link = obj.link;
      li = obj.li;
      link.addEventListener('click', function (event) {
        event.preventDefault();
        var data = getPostData(this.innerText, postDataHandler);
        fetchFn.call(this, url, data, callback);
      });
    }
    wrap.appendChild(li);
  }
  if (pageNumber < totalPage) {
    var link_nex = Paginate.getPagi_liNext(wrap);
    link_nex.addEventListener('click', function (event) {
      event.preventDefault();
      var data = getPostData(pageNumber + 1, postDataHandler);
      fetchFn.call(this, url, data, callback);
    });
  }
  Paginate.getPagi_hidePage(10, wrap, pageNumber, totalPage);
  function getPostData(pageNumber, postDataHandler) {
    var data = {};
    var form = document.getElementById('dataForm');
    data = $(form).serializeObject();
    if (typeof postDataHandler === 'function') postDataHandler.call(this, data);
    data.pageNumber = pageNumber;
    data.indexPage = pageNumber;
    data.pageSize = pageSize;
    data.countPage = pageSize;
    return data;
  }
};
Paginate.getPagi_liPre = function (parentUl) {
  var li_pre = document.createElement('li');
  li_pre.setAttribute('class', 'function');
  parentUl.appendChild(li_pre);
  var link_pre = document.createElement('a');
  li_pre.appendChild(link_pre);
  var span_pre = document.createElement('span');
  span_pre.setAttribute('uk-pagination-previous', '');
  link_pre.appendChild(span_pre);
  return link_pre;
};
Paginate.getPagi_liNext = function (parentUl) {
  var li_nex = document.createElement('li');
  li_nex.setAttribute('class', 'function');
  parentUl.appendChild(li_nex);
  var link_nex = document.createElement('a');
  li_nex.appendChild(link_nex);
  var span_nex = document.createElement('span');
  span_nex.setAttribute('uk-pagination-next', '');
  link_nex.appendChild(span_nex);
  return link_nex;
};
Paginate.getPagi_liActive = function (innerText) {
  var li = document.createElement('li');
  var span = document.createElement('span');
  span.innerText = innerText;
  li.setAttribute('class', 'uk-active');
  li.appendChild(span);
  return li;
};
Paginate.getPagi_liNormal = function (innerText) {
  var li = document.createElement('li');
  var link = document.createElement('a');
  link.innerText = innerText;
  li.appendChild(link);
  return {
    li: li,
    link: link
  };
};
Paginate.getPagi_hidePage = function (showNumber, parentNode, pageNumber, totalPage) {
  var showPages = showNumber;
  var liArr = parentNode.querySelectorAll('li:not(.function)');
  var li;
  if (Number(pageNumber) > showPages + 2) {
    for (var i = 1; i < Number(pageNumber) - showPages - 1; i++) {
      liArr[i].style.display = 'none';
    }
    li = this.getPagi_liActive('...');
    parentNode.insertBefore(li, liArr[1]);
  }
  if (totalPage - pageNumber > showPages + 1) {
    for (var _i = Number(pageNumber) + showPages; _i < totalPage - 1; _i++) {
      liArr[_i].style.display = 'none';
    }
    li = this.getPagi_liActive('...');
    parentNode.insertBefore(li, liArr[totalPage - 1]);
  }
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js":
/*!****************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\QueryDict.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ fn_queryDict)
/* harmony export */ });
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");

function QueryDict() {
  this.api = document.querySelector('input[name=dict_api]').value;
}
QueryDict.prototype.query = function (name, cb) {
  // console.log(this.api, JSON.stringify({type: name}))
  $.ajax({
    url: this.api,
    data: JSON.stringify({
      type: name
    }),
    success: cb
  });
};
function fn_queryDict(name, cb) {
  var qd = new QueryDict();
  try {
    qd.query(name, cb);
  } catch (err) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(err);
  }
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js":
/*!*******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\StationPages.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sta_table": () => (/* binding */ Sta_table),
/* harmony export */   "initStation_baseData": () => (/* binding */ initStation_baseData),
/* harmony export */   "initStation_billMangement_queryBills": () => (/* binding */ initStation_billMangement_queryBills),
/* harmony export */   "initStation_billsSetting": () => (/* binding */ initStation_billsSetting),
/* harmony export */   "initStation_billsSetting_addRule": () => (/* binding */ initStation_billsSetting_addRule),
/* harmony export */   "initStation_getAllDiscountPolicy": () => (/* binding */ initStation_getAllDiscountPolicy),
/* harmony export */   "initStation_getStationAllConsumer": () => (/* binding */ initStation_getStationAllConsumer),
/* harmony export */   "initStation_stationQueryBillDetails_new": () => (/* binding */ initStation_stationQueryBillDetails_new),
/* harmony export */   "initStation_stationQueryBill_new": () => (/* binding */ initStation_stationQueryBill_new)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.string.trim.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js");
/* harmony import */ var core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.regexp.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js");
/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.string.replace.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js");
/* harmony import */ var core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.array.slice.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js");
/* harmony import */ var core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js");
/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Listbox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Listbox */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Listbox.js");
/* harmony import */ var _FormValidate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./FormValidate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\FormValidate.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
















var role = getRole();
function getRole() {
  try {
    return document.getElementById('userType').value;
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
    return;
  }
}
function initStation_baseData() {
  // var form = document.getElementById('dataForm');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    dateFmt: 'yyyy年MM月',
    // minDate: '{%y-1}-{%M+9}-%d',
    maxDate: 'today'
  });
  entry(); // 异步函数调用入口
  function entry() {
    fetchExpImp();
  }
  function fetchDictErrHandler(res) {
    if (res.data === undefined) throw new Error('远程数据非法: 字典接口返回值未定义');
    if (!Array.isArray(res.data)) throw new Error('远程数据非法: 字典接口返回值格式错误');
    if (res.data.length < 1) throw new Error('远程数据非法: 字典接口返回值为空值');
  }
  function setOptions(arr, selName) {
    var sel = document.querySelector('select[name=' + selName + ']');
    if (!sel) return;
    for (var i = 0; i < arr.length; i++) {
      var op = document.createElement('option');
      op.setAttribute('value', arr[i].key);
      op.innerText = arr[i].value;
      sel.appendChild(op);
    }
  }
  function fetchExpImp() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('EXP_IMP', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'expImp');
        fetchDomInt();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchDomInt() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('DOM_INT', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'domInt');
        fetchPayMode();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchPayMode() {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('PAY_MODE', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        fetchDictErrHandler(res);
        setOptions(res.data, 'payMode');
        if (role === 'system') {
          initPage();
          return;
        }
        fetchEffectiveBillRules();
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
    });
  }
  function fetchEffectiveBillRules() {
    var api = document.querySelector('input[name=api_queryEffectiveBillRule');
    var url = api.value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createEffectiveBillRules);
  }
  function createEffectiveBillRules(res) {
    var data = res.data || res.date;
    try {
      if (data === undefined) throw new Error('远程数据格式非法: 没有data属性');
      if (!Array.isArray(data)) throw new Error('远程数据格式非法: data属性不是数组');
      if (data.length < 1) throw new Error('没有已生效的账单规则(此功能可选)');
    } catch (err) {
      // Glob_fn.errorHandler(err, initPage); // 显示异常
      initPage(); // 不处理异常
    }

    for (var i = 0; i < data.length; i++) {
      createBillRuleButtons(data[i]);
    }
    try {
      renderEffectiveBillRules();
      initPage();
    } catch (error) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
      return;
    }
    function createBillRuleButtons(data) {
      var rule = data.billRule ? data.billRule : 'NULL';
      var desc = data.billRuleDesc ? data.billRuleDesc : 'NULL';
      var id = data.billRuleId ? data.billRuleId : 'NULL';
      var name = data.billRuleName ? data.billRuleName : 'NULL';
      var position = document.getElementById('ruleSetsWrap');
      var wrap = document.createElement('div');
      position.appendChild(wrap);
      wrap.appendChild(getLabel());
      wrap.appendChild(getDrop());
      function getLabel() {
        var label = document.createElement('label');
        label.setAttribute('class', 'void button');
        label.innerText = name;
        var input = document.createElement('input');
        label.appendChild(input);
        input.setAttribute('type', 'radio');
        input.setAttribute('name', 'billRule');
        input.setAttribute('hidden', '');
        input.setAttribute('value', rule);
        input.setAttribute('id', id);
        return label;
      }
      function getDrop() {
        var drop = document.createElement('div');
        drop.setAttribute('uk-drop', 'delay-hide:0');
        var cardFrame = document.createElement('div');
        drop.appendChild(cardFrame);
        cardFrame.setAttribute('class', 'uk-card uk-card-small uk-card-default');
        cardFrame.appendChild(getCardHeader());
        cardFrame.appendChild(getCardBody());
        return drop;
        function getCardHeader() {
          var header = document.createElement('div');
          header.setAttribute('class', 'uk-card-header');
          var title = document.createElement('div');
          title.setAttribute('class', 'uk-card-title');
          header.appendChild(title);
          var h = document.createElement('h5');
          title.appendChild(h);
          h.innerText = name;
          return header;
        }
        function getCardBody() {
          var div = document.createElement('div');
          div.setAttribute('class', 'uk-card-body uk-container uk-container-xsmall');
          if (desc === 'NULL') {
            div.innerText = '无数据';
          }
          try {
            var array = [];
            if (desc.indexOf(',') !== -1) array = desc.split(',');else if (desc.indexOf('，') !== -1) array = desc.split('，');
            if (array.length < 1) div.innerText('无数据');
            for (var j = 0; j < array.length; j++) {
              var span = document.createElement('span');
              span.setAttribute('class', 'uk-label uk-margin-small-bottom uk-margin-small-right');
              span.innerText = $.trim(array[j]);
              div.appendChild(span);
            }
          } catch (error) {
            div.innerText = error;
          }
          return div;
        }
      }
    }
  }
  function renderEffectiveBillRules() {
    var ruleSetsWrapDiv = document.getElementById('ruleSetsWrap');
    var ruleRadios = ruleSetsWrapDiv.querySelectorAll('input[type=radio]');
    var ruleLabels = ruleSetsWrapDiv.querySelectorAll('label');
    // Bind radios:
    for (var i = 0; i < ruleRadios.length; i++) {
      var radio = ruleRadios[i];
      var func = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio;
      func.initActiveLabel(radio);
      radio.addEventListener('change', func.setBindingLabels(ruleRadios));
      radio.addEventListener('click', function (event) {
        event.stopPropagation(); // 阻止事件上升到label
      });
    }
    // Bind labels: 
    for (var _i = 1; _i < ruleLabels.length; _i++) {
      var label = ruleLabels[_i];
      label.addEventListener('mousedown', function (event) {
        event.preventDefault(); // 抵消drop控件副作用
      });
    }
    // Bind reset button:
    var resetBtn = document.querySelector('input[type=reset]');
    var defaultRadio = ruleRadios[0];
    resetBtn.addEventListener('click', function () {
      defaultRadio.click(); // 重置为全部
    });
  }

  function initPage() {
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryOriginalWaybill, function (data) {
      if (data.billRule === '') data.billRule = null;
    }, {
      timeout: 20000
    });
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
  }
}
function initStation_billMangement_queryBills() {
  // var form = document.getElementById('dataForm');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    dateFmt: 'yyyy年MM月',
    // minDate: '{%y-3}-%M-%d',
    maxDate: 'today',
    realDateFmt: 'yyyyMM'
  });
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_querySumBillByRule);
}
function initStation_stationQueryBill_new() {
  if (role === 'agent') {
    initPage();
  } else {
    initNewPage();
  }
  function initPage() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
      dateFmt: 'yyyy年MM月',
      minDate: '{%y-3}-%M-%d',
      maxDate: 'today',
      realDateFmt: 'yyyyMM'
    });
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
  }
  function initNewPage() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setPostLink(document.querySelectorAll('.postDataLink'), _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
    if (role === 'system') return;
    if (role === 'station') setMultiPushButton();
    function setMultiPushButton() {
      var multiBtn = document.getElementById('multiBtn');
      multiBtn.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_stationBillPush]').value;
        var chb = document.querySelectorAll('.cb_child');
        var list = [];
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.addCheckedToList(chb, list);
        if (list.length == 0) {
          UIkit.modal.alert('请选择至少一项');
          return;
        }
        var postData = {
          orderNoList: list
        };
        // console.log(url, postData);
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_stationBillPush)(url, postData);
      });
    }
  }
}
function initStation_stationQueryBillDetails_new() {
  if (role === 'agent') {
    initThisPage();
    return;
  }
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('OPEDEPART', function (res) {
    if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setOpedepartId(res);
    initThisPage();
  });
  function initThisPage() {
    if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].setPostLink(document.querySelectorAll('.postDataLink'), _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
    // bind submit button:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 5, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryDetails_new);
    // bind export button:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);
  }
}
function initStation_getStationAllConsumer() {
  // bind submit button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getStationAllConsumer);
  // bind export button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_exportExcel);

  // 初始化Listbox：
  var showListBox = document.querySelector('#discountSetting'); // userInfo
  if (showListBox) {
    (0,_Listbox__WEBPACK_IMPORTED_MODULE_12__.initListBox)();
  }
  // 优惠设置提交按钮绑定：
  var listBoxSubmitButton = document.querySelector('#fn_discSettle');
  listBoxSubmitButton.addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=api_forDiscSettle]').value;
    var listbox = new _Listbox__WEBPACK_IMPORTED_MODULE_12__.Listbox();
    var data = listbox.postData_discountName();
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_addDiscountCustomer)(url, data);
  });
}
function initStation_getAllDiscountPolicy() {
  // get select options:
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('DISCOUNT_TYPE', function (res) {
    // set options:
    if (!res.data || res.data.length < 1) {
      throw new Error('字典接口错误');
    }
    var DISCOUNT_TYPE = res.data;
    var form = document.getElementById('dataForm');
    var selectType = form.querySelector('select[name=discountType]');
    var op0 = document.createElement('option');
    op0.value = 'TYPE';
    op0.innerText = '全部';
    selectType.appendChild(op0);
    for (var i = 0; i < DISCOUNT_TYPE.length; i++) {
      var op = document.createElement('option');
      for (var key in DISCOUNT_TYPE[i]) {
        if (key == 'value') {
          op.innerText = DISCOUNT_TYPE[i][key];
        }
        if (key == 'key') {
          op.setAttribute('value', DISCOUNT_TYPE[i][key]);
        }
        op.setAttribute('data-' + key, DISCOUNT_TYPE[i][key]);
        selectType.appendChild(op);
      }
    }

    // init Wdate:
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('setStartTime', 'setEndTime');

    // bind submit:
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getAllDiscountPolicy);

    // bind add new:
    var newBtn = document.querySelector('#toDiscountPolicies');
    newBtn.addEventListener('click', function (event) {
      event.preventDefault();
      window.location.href = 'discountPolicies';
    });
  });
}
function initStation_billsSetting() {
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].WdateInit('startTime', 'endTime', {
    // dateFmt: 'yyyy年MM月',
    // minDate: '{%y-1}-{%M+9}-%d',
    // maxDate: 'today',
  });
  // Bind Add rule Button:
  bindAddRuleBtn();
  function bindAddRuleBtn() {
    var btn = document.getElementById('addRule');
    btn.addEventListener('click', function (event) {
      event.preventDefault();
      window.location.href = 'billsSetting/addRule';
    });
  }
  // Bind Submit:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBillRuleByPage);
}
function initStation_billsSetting_addRule() {
  var form = document.getElementById('dataForm');
  var vld = new _FormValidate__WEBPACK_IMPORTED_MODULE_13__["default"]();
  var validator = vld.validator();
  // fetch data:
  fetchBillRule();
  function fetchBillRule( /*data*/
  ) {
    (0,_QueryDict__WEBPACK_IMPORTED_MODULE_11__["default"])('BILL_RULE', function (res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.checkRes)(res) === false) return;
      try {
        if (res.data === undefined) throw new Error('远程数据非法: 数据没有data属性');
        if (!Array.isArray(res.data)) throw new Error('远程数据非法: data属性不是数组');
        if (res.data.length != 1) throw new Error('远程数据非法: data数组长度不为1');
        if (!_Global__WEBPACK_IMPORTED_MODULE_10__["default"].isJSON(res.data[0].value)) throw new Error('远程数据非法: 数据不是JSON格式');
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
      showValueFrom(JSON.parse(res.data[0].value));
      initPage();
    });
  }
  function showValueFrom(fetchValue) {
    if (!Array.isArray(fetchValue)) throw new Error('远程数据非法: JSON数据不是数组');
    if (fetchValue.length < 1) throw new Error('无规则可选');
    var radiosHeading = document.getElementById('radiosHeading');
    var checkboxesHeading = document.getElementById('checkboxesHeading');
    var checkAllWrap = document.getElementById('checkAllWrap');
    var checkboxesCount = 0;
    for (var i = 0; i < fetchValue.length; i++) {
      var ruleProps = fetchValue[i];
      if (ruleProps.checkBox) {
        if (checkboxesHeading.hasAttribute('hidden')) {
          checkboxesHeading.removeAttribute('hidden');
        }
        checkboxesCount++;
      } else {
        if (radiosHeading.hasAttribute('hidden')) {
          radiosHeading.removeAttribute('hidden');
        }
      }
      setRule(ruleProps);
    }
    if (checkboxesCount > 1 && checkAllWrap.hasAttribute('hidden')) {
      checkAllWrap.removeAttribute('hidden');
    }
    function setRule(data) {
      try {
        console.log(data);
        var name = data.name ? data.name : 'NULL';
        var type = data.type ? data.type : 'NULL';
        var wrap = data.checkBox ? document.getElementById('checkboxesWrap') : document.getElementById('radiosWrap');
        var frame = getFrame(data);
        wrap.appendChild(frame);
        var label = getLabel(name);
        var contentDiv = getContentDiv();
        frame.appendChild(label);
        frame.appendChild(contentDiv);
        if (!Array.isArray(data.content)) throw new Error('远程数据非法: content不是数组');
        if (data.content.length < 1) throw new Error(data.name + '类型下无数据');
        for (var j = 0; j < data.content.length; j++) {
          var key = data.content[j].key ? data.content[j].key : '';
          var value = data.content[j].value ? data.content[j].value : 'NULL';
          var content = getContent(key, value);
          contentDiv.appendChild(content);
        }
        return;
      } catch (error) {
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
        return;
      }
      function getFrame(data) {
        var frame = document.createElement('div');
        frame.setAttribute('class', 'uk-margin');
        if (!data.checkBox) frame.classList.add('radioWrap');
        return frame;
      }
      function getLabel(name) {
        var label = document.createElement('label');
        label.setAttribute('class', 'uk-form-label');
        label.setAttribute('data-ruleType', type);
        label.setAttribute('data-ruleName', name);
        label.innerText = name;
        return label;
      }
      function getContentDiv() {
        var contentWrap = document.createElement('div');
        contentWrap.setAttribute('class', 'uk-form-controls uk-grid-small');
        contentWrap.setAttribute('uk-grid', '');
        return contentWrap;
      }
      function getContent(key, value) {
        var div = document.createElement('div');
        var label = document.createElement('label');
        label.setAttribute('class', 'void button');
        div.appendChild(label);
        var input = document.createElement('input');
        input.setAttribute('type', data.checkBox ? 'checkbox' : 'radio');
        input.setAttribute('class', data.checkBox ? 'linkLabel' : '');
        input.setAttribute('name', type);
        input.setAttribute('hidden', '');
        input.setAttribute('value', key);
        input.setAttribute('data-ruleDesc', value);
        if (input.getAttribute('type') === 'radio' && input.value === 'MP') input.setAttribute('checked', '');
        label.appendChild(input);
        var span = document.createElement('span');
        span.innerText = value;
        label.appendChild(span);
        return div;
      }
    }
  }
  function initPage() {
    // set default input:
    document.querySelectorAll('.radioWrap').forEach(function (div) {
      div.querySelectorAll('input[type="radio"]').forEach(function (input, index) {
        if (input.name !== 'PAY_MODE' && index === 0) {
          input.setAttribute('checked', '');
        }
      });
    });
    // vld: bindItems:
    validator.bindFormItems();
    // UI: Bind Radios:
    bindAllRadios();
    function bindAllRadios() {
      var wraps = form.querySelectorAll('.radioWrap');
      if (wraps.length < 1) {
        throw new Error('没有定义div.radioWrap');
      }
      for (var j = 0; j < wraps.length; j++) {
        var wrap = wraps[j];
        bindRadios(wrap);
      }
      function bindRadios(wrap) {
        var radios = wrap.querySelectorAll('input[type=radio]');
        if (radios.length < 1) {
          return;
        }
        for (var i = 0; i < radios.length; i++) {
          var radio = radios[i];
          var func = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio;
          func.initActiveLabel(radio);
          radio.addEventListener('change', func.setBindingLabels(radios));
        }
      }
    }
    // UI: Checkboxes:
    checkboxes();
    function checkboxes() {
      var cbx_all = document.getElementById('checkAllRules');
      var cbxs = form.querySelectorAll('input[type=checkbox].linkLabel');
      // UI: checkbox绑定样式:
      cbxLinkLabel();
      function cbxLinkLabel() {
        if (cbxs.length < 1) {
          return;
        }
        for (var i = 0; i < cbxs.length; i++) {
          var cbx = cbxs[i];
          cbx.addEventListener('change', function () {
            changeStyle(this);
            if (cbx_all.checked) {
              cbx_all.checked = false;
            }
          });
        }
      }
      // UI: 全选功能实现:
      complyCheckAll();
      function complyCheckAll() {
        if (!cbx_all) {
          return;
        }
        if (cbxs.length < 1) {
          return;
        }
        cbx_all.addEventListener('change', function () {
          if (this.checked) {
            // 全选
            setAllChecked(cbxs, true);
          } else {
            // 全不选
            setAllChecked(cbxs, false);
          }
        });
        function setAllChecked(checkboxes, boo) {
          if (!checkboxes || checkboxes.length < 1) {
            throw new Error('没有找到将要对应的checkbox');
          }
          for (var i = 0; i < checkboxes.length; i++) {
            var checkbox = checkboxes[i];
            if (boo && checkbox.checked) {
              // 不处理
            } else {
              checkbox.checked = boo;
              changeStyle(checkbox);
            }
          }
        }
      }
      // UI: checkbox按钮样式规则:
      function changeStyle(checkbox) {
        var labClasses = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].checkboxAndRadio.getBindingLabel(checkbox).classList;
        if (labClasses.contains('newMonth')) {
          labClasses.toggle('button-highlight');
          labClasses.toggle('uk-text-warning');
        } else {
          labClasses.toggle('button-primary');
        }
      }
    }
    // Submit Binding:
    submitAddRule();
    function submitAddRule() {
      var btn = document.getElementById('createBill');
      var url = document.querySelector('input[name=url_station_billSetting]').value;
      var not = "<span id='notification' uk-icon='icon: check'></span> 提交成功";
      btn.addEventListener('click', function (event) {
        event.preventDefault();
        if (!validator.submitBoo()) {
          return;
        }
        UIkit.modal.confirm('确定提交信息并生成账单规则?').then(function () {
          try {
            var postData = getPostData();
            var postUrl = document.querySelector('input[name=api_stationCreateBillRule]').value;
            // console.log(postData);
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(postUrl, postData, successCallback);
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      });
      function getPostData() {
        return JSON.stringify({
          billRuleName: getName(),
          billRule: getRule().rule,
          billRuleDesc: getRule().desc
        });
      }
      function getName() {
        var name = document.getElementById('billName').value;
        if (!name) throw new Error('表单错误: 请重新填写账单规则名称');
        return name;
      }
      function getRule() {
        try {
          var rs = document.getElementById('radiosWrap').querySelectorAll('input[type=radio]');
          var cs = document.getElementById('checkboxesWrap').querySelectorAll('input[type=checkbox]');
          var checkedInputs = getCheckedInputs();
          if (checkedInputs.length < 1) throw new Error('表单错误: 未选择规则');
          var rulesInfo = getRulesInfo(checkedInputs);
          return {
            rule: getResults(rulesInfo).rule,
            desc: getResults(rulesInfo).desc
          };
        } catch (error) {
          throw new Error(error);
        }
        function getCheckedInputs() {
          var array = [];
          putCheckedInpIn(rs, array);
          putCheckedInpIn(cs, array);
          return array;
        }
        function putCheckedInpIn(inputs, array) {
          for (var i = 0; i < inputs.length; i++) {
            if (inputs[i].checked) array.push(inputs[i]);
          }
        }
        function getRulesInfo(inputs) {
          var array = [];
          for (var i = 0; i < inputs.length; i++) {
            var inp = inputs[i];
            array.push({
              name: inp.name,
              value: inp.value,
              desc: inp.getAttribute('data-ruleDesc')
            });
          }
          return array;
        }
        function getResults(rawArray) {
          var result = {};
          var desc = [];
          var tmpName = '';
          for (var i = 0; i < rawArray.length; i++) {
            if (rawArray[i].name === tmpName) {
              result[rawArray[i].name].push(rawArray[i].value);
            } else {
              result[rawArray[i].name] = [rawArray[i].value];
              tmpName = rawArray[i].name;
            }
            desc.push(rawArray[i].desc);
          }
          return {
            rule: JSON.stringify(result),
            desc: parseDesc(desc)
          };
          function parseDesc(array) {
            var result = '';
            for (var i = 0; i < array.length; i++) {
              result += array[i].toString();
              if (i < array.length - 1) result += ', ';
            }
            return result;
          }
        }
      }
      function successCallback() {
        // alert(JSON.stringify(res))
        UIkit.notification(not, {
          status: 'success',
          timeout: 1000
        });
        UIkit.util.on('.uk-notification', 'close', function () {
          window.location.href = url;
        });
      }
    }
  }
}
function Sta_table() {}
// 生成基础数据展示表格（新需求）:
Sta_table.prototype.getTable_queryOriginalWaybill = function (res, pageNumber, pageSize) {
  getFeeItem();
  function getFeeItem() {
    var url = document.querySelector('input[name=api_queryFeeItem]').value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createTable);
  }
  function createTable(feeItems) {
    try {
      var table = document.getElementById('dataTable');
      if (!feeItems.data) throw new Error('远程数据非法: 费用列表项未定义');
      var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
      setCaption(res.data);
      setThead(feeItems.data);
      setTbody(res, feeItems.data);
      (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryOriginalWaybill, function (data) {
        if (data.billRule === '') data.billRule = null;
      });
    } catch (error) {
      throw new Error(error);
    }
    function setCaption(data) {
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.setAttribute('hidden', '');
      if (data.totalCount !== undefined) {
        caption.querySelector('span.totalCount').innerText = data.totalCount;
        caption.removeAttribute('hidden');
      }
    }
    function setThead(data) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '费用记录号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单前缀');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '品名');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '始发站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '目的站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '航班号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '件数');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildAjaxTitle(data, trInThead);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
    }
    function setTbody(rawData, ajaxTitle) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '');
      tbody.innerHTML = '';
      var data = rawData.data.feeList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        var tdSerial = document.createElement('td');
        tr.appendChild(tdSerial);
        tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeRecId);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockPre);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockNo);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].cargoNm);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].sAirportDsc);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].eAirportDsc);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].flight);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].pcs);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].weight);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeWt);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].crtopeTimeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartId);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartStr);
        var feeIdArr = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleValue(ajaxTitle, 'feeId');
        var ajaxData = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData(null, feeIdArr, JSON.parse(data[i].feeItemList));
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(ajaxData, tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
        // Glob_fn.Table.trHideSome(tr);
      }
    }
  }
};
// 生成账单汇总查询表格（新需求）:
Sta_table.prototype.getTable_querySumBillByRule = function (res, pageNumber, pageSize) {
  try {
    createTable(res);
  } catch (error) {
    throw new Error(error);
  }
  function createTable(res) {
    var table = document.getElementById('dataTable');
    if (!res.data) throw new Error('远程数据非法: data未定义');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    setThead();
    setTbody(res);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_querySumBillByRule);
    function setThead() {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
    }
    function setTbody(res) {
      var tbody = table.querySelector('tbody');
      tbody.innerHTML = '';
      var data = res.data.billList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].accountOpeningTime);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderTime);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].costCenter);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFee);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getLink(data[i].billRuleId));
      }
      function getLink(id) {
        if (id === undefined) throw new Error('远程数据非法: summaryList.billRule未定义');
        var link = document.createElement('a');
        link.innerText = '查看账单';
        link.setAttribute('data-billRuleId', id);
        link.setAttribute('uk-tooltip', '点击查看');
        link.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=url_forNext]').value + '/' + id;
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].submVirtForm(url, _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime());
        });
        return link;
      }
    }
  }
};
// 账单查看主表(新需求)：
Sta_table.prototype.getTable_queryBill_new = function (res, pageNumber, pageSize) {
  try {
    createTable(res);
  } catch (error) {
    throw new Error(error);
  }
  function createTable(res) {
    var table = document.getElementById('dataTable');
    if (!res.data) throw new Error('远程数据非法: data未定义');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    var checkAll = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getCheckbox('all');
    trInThead = role === 'agent' ? setAgentThead() : setThead();
    getCaptionData();
    setTbody(res);
    if (role === 'station') setCheckAll(checkAll);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBill_new);
    function getCaptionData() {
      var inp = document.querySelector('input[name=api_queryBillSum]');
      if (!inp) return;
      var url = inp.value;
      if (!url) return;
      var postData = JSON.stringify($(document.getElementById('dataForm')).serializeObject());
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, setCaption);
    }
    function setCaption(res) {
      var data = res.data;
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.querySelector('span.totalFee').innerText = data.totalAmount ? data.totalAmount : '无数据';
      caption.querySelector('span.realTotalFee').innerText = data.preferentialTotalAmount ? data.preferentialTotalAmount : '无数据';
      caption.querySelector('span.totalWeight').innerText = data.totalWeight ? data.totalWeight : '无数据';
      caption.removeAttribute('hidden');
    }
    function setThead() {
      if (role === 'station') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, checkAll);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型', false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '总金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '平台订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '交易流水号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算客户编码');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算客户名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, 'bindingStatus', false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
      return trInThead;
    }
    function setAgentThead() {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '开账时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账期');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '平台订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '总金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠后金额');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '付款状态');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '支付订单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
      return trInThead;
    }
    function setTbody(res) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '400');
      tbody.innerHTML = '';
      var data = res.data.summaryList;
      if (data === undefined) throw new Error('远程数据非法: data.summaryList未定义');
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        if (role === 'station') {
          var tdCheckbox = document.createElement('td');
          tr.appendChild(tdCheckbox);
          var checkbox = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getCheckbox();
          checkbox.querySelector('input').setAttribute('data-checked', data[i].orderNo);
        }
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].createTimeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderTime);
        if (role === 'agent') {
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].realTotalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].payNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getAgentLinks(data[i]));
        } else {
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type, false);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].realTotalFeeStr);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].costCenter);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].orderNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].payNo);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].customerId);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].customerName);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].bindingStatus, false);
          _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, getLinks(data[i]));
        }
        // Glob_fn.Table.trHideSome(tr);
      }

      return tbody;
      function getLinks(data) {
        var orderNo = data.orderNo;
        if (orderNo === undefined) throw new Error('远程数据非法: orderNo未定义');
        var links = [];
        links.push(getDetailLink());
        if (role === 'station') {
          var pushlink = getPushLink();
          if (pushlink) links.push(getPushLink());
        }
        return links;
        function getDetailLink() {
          var link = document.createElement('a');
          link.innerText = '查看详情';
          link.setAttribute('data-orderNo', orderNo);
          var url = document.querySelector('input[name=url_forQueryDetails]').value + '/' + orderNo;
          var postData = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].getOrderTime();
          if (role === 'station') postData.modify = Number(data.status) === 0 && Number(data.confirm) === 0;
          link.addEventListener('click', function (event) {
            event.preventDefault();
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].submVirtForm(url, postData);
          });
          return link;
        }
        function getPushLink() {
          if (Number(data.confirm) !== 0) return false;
          if (checkAll.querySelector('input').getAttribute('disabled') === '') {
            checkAll.querySelector('input').removeAttribute('disabled');
          }
          tdCheckbox.appendChild(checkbox);
          var pushlink = document.createElement('a');
          pushlink.innerText = '推送';
          pushlink.setAttribute('class', 'uk-margin-small-left');
          pushlink.setAttribute('data-orderNo', orderNo);
          pushlink.addEventListener('click', function (event) {
            event.preventDefault();
            var url = document.querySelector('input[name=api_stationBillPush]').value;
            var orderNo = this.getAttribute('data-orderNo');
            var orderNoList = [];
            orderNoList.push(orderNo);
            var data = {
              orderNoList: orderNoList
            };
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_stationBillPush)(url, data);
          });
          return pushlink;
        }
      }
      function getAgentLinks(data) {
        var result = [];
        var detailLink = document.createElement('a');
        detailLink.innerText = '查看详情';
        detailLink.setAttribute('href', document.querySelector('input[name=url_forNext]').value + '/' + data.orderNo);
        result.push(detailLink);
        if (Number(data.status) === 2) return result; // 已支付
        var payLink = document.createElement('a');
        payLink.setAttribute('class', 'uk-margin-small-left');
        payLink.innerText = '付款';
        payLink.setAttribute('data-orderNo', data.orderNo);
        payLink.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=api_pay]').value;
          var pageUrl = document.querySelector('input[name=pageUrl]').value;
          var orderNo = this.getAttribute('data-orderNo');
          var data = {
            orderNo: orderNo,
            pageUrl: pageUrl
          };
          // console.info(url, data)
          // debugger
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_age_toPay)(url, data);
        });
        result.push(payLink);
        return result;
      }
    }
    function setCheckAll(checkAll) {
      checkAll.addEventListener('click', function () {
        // var children = document.querySelector('input.cb_child');
        if (this.querySelector('input').checked) setChildren(true);else setChildren(false);
      });
      function setChildren(status) {
        var children = document.querySelectorAll('input.cb_child');
        for (var i = 0; i < children.length; i++) {
          if (children[i].checked === !status) children[i].click();
        }
      }
    }
  }
};
// 账单明细主表(新需求)：
Sta_table.prototype.getTable_queryDetails_new = function (res, pageNumber, pageSize) {
  getFeeItem();
  function getFeeItem() {
    var url = document.querySelector('input[name=api_queryFeeItem]').value;
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, '', createTable);
  }
  function createTable(feeItems) {
    try {
      var table = document.getElementById('dataTable');
      if (!feeItems.data) throw new Error('远程数据非法: 费用列表项未定义');
      var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
      getCaptionData();
      setThead(feeItems.data);
      setTbody(res, feeItems.data);
      (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryDetails_new);
    } catch (error) {
      throw new Error(error);
    }
    function getCaptionData() {
      var inp = document.querySelector('input[name=api_queryBillDetailsSum]');
      if (!inp) return;
      var url = inp.value;
      if (!url) return;
      var postData = JSON.stringify($(document.getElementById('dataForm')).serializeObject());
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, setCaption);
    }
    function setCaption(res) {
      var data = res.data;
      var caption = table.querySelector('caption');
      if (!caption) return;
      caption.querySelector('span.totalCount').innerText = data.totalCount ? data.totalCount : '无数据';
      caption.querySelector('span.totalFee').innerText = data.totalFee ? data.totalFee : '无数据';
      caption.querySelector('span.totalWeight').innerText = data.totalWeight ? data.totalWeight : '无数据';
      caption.querySelector('span.realTotalFee').innerText = data.realTotalFee ? data.realTotalFee : '无数据';
      caption.removeAttribute('hidden');
    }
    function setThead(data) {
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '费用记录号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单前缀');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '品名');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '始发站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '目的站');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '航班号');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '件数');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费重量');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费时间');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '计费营业点名称');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单类型');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildAjaxTitle(data, trInThead);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '金额');
      if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
    }
    function setTbody(rawData, ajaxTitle) {
      var tbody = table.querySelector('tbody');
      table.setAttribute('data-hideSome', '');
      tbody.innerHTML = '';
      var data = rawData.data.feeList;
      if (!data || data.length < 1) {
        var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
        tbody.appendChild(tr0);
        return;
      }
      for (var i = 0; i < data.length; i++) {
        var tr = document.createElement('tr');
        tbody.appendChild(tr);
        var trAdd = document.createElement('tr');
        tbody.appendChild(trAdd);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTdSerial(tr, i, pageNumber, pageSize).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeRecId).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockPre).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].stockNo).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].cargoNm).setAttribute('rowspan', 2);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].type).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].sAirportDsc).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].eAirportDsc).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].flight).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].pcs).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].weight).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].feeWt).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].crtopeTimeStr).setAttribute('rowspan', 2);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartId).setAttribute('rowspan', 2);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].opedepartStr).setAttribute('rowspan', 2);
        var feeIdArr = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleValue(ajaxTitle, 'feeId');
        var l1Data = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData('原始账单', feeIdArr, JSON.parse(data[i].feeItemList));
        var l2Data = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleData('开账账单', feeIdArr, JSON.parse(data[i].realFeeItemList));
        if (role === 'station') var line2Object = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getAjaxTitleObject(feeIdArr, JSON.parse(data[i].realFeeItemList));
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(l1Data, tr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.buildValueWithAjaxTitle(l2Data, trAdd);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].totalFeeStr);
        _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(trAdd, data[i].realTotalFeeStr);
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, '-').setAttribute('class', 'uk-text-center');
        if (role !== 'agent') _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(trAdd, getAction(data[i], line2Object));
        // Glob_fn.Table.trHideSome(tr);
      }

      function getAction(data, line2Object) {
        var linkModHis = document.createElement('a');
        linkModHis.innerText = '修改记录';
        linkModHis.setAttribute('data-stockNo', data.stockNo);
        linkModHis.setAttribute('class', 'uk-margin-small-left');
        linkModHis.addEventListener('click', function (event) {
          event.preventDefault();
          var postData = JSON.stringify({
            stockNo: this.getAttribute('data-stockNo')
          });
          var url = document.querySelector('input[name=api_queryModifyLog]').value;
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(url, postData, createModHis);
        });
        if (role === 'system') return linkModHis;
        if (role === 'station') {
          if (!document.querySelector('input[name=modify]').value) return false;
          var linkmodify = document.createElement('a');
          linkmodify.innerText = '修改';
          linkmodify.setAttribute('data-feeItemList', JSON.stringify(line2Object));
          linkmodify.setAttribute('data-stockNo', data.stockNo);
          linkmodify.setAttribute('data-feeWt', data.feeWt);
          linkmodify.setAttribute('data-totalFeeStr', data.totalFeeStr);
          linkmodify.setAttribute('data-totalFee', data.totalFee);
          linkmodify.addEventListener('click', function (event) {
            event.preventDefault();
            var postData = {
              "stockNo": this.getAttribute('data-stockNo'),
              "totalFee": this.getAttribute('data-totalFee'),
              "totalFeeStr": this.getAttribute('data-totalFeeStr'),
              "feeWt": this.getAttribute('data-feeWt'),
              "feeItemList": this.getAttribute('data-feeItemList')
            };
            var element = fn_getModal(postData, '账单收费项');
            UIkit.modal(element).show();
          });
          return [linkmodify, linkModHis];
        }
      }
    }
  }
  function createModHis(res) {
    var data = res.data;
    if (res.data === undefined) throw new Error('远程数据非法: data未定义');
    if (res.data === null || data.length < 1) {
      UIkit.modal.alert('没有或不可查询该笔订单的修改记录');
      return;
    }
    if (!Array.isArray(res.data)) throw new Error('远程数据非法: data属性不是数组');
    var modal = document.getElementById('modifiedHistory');
    var table = document.getElementById('modifiedHistoryTable');
    var thead = table.querySelector('thead');
    thead.innerHTML = '';
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户名');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '修改时间');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '备注');
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    for (var i = 0; i < res.data.length; i++) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].createName);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].createTime);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, res.data[i].remark);
    }
    UIkit.modal(modal).show();
  }
};
// 生成账单规则汇总表格（新需求）:
Sta_table.prototype.getTable_queryBillRuleByPage = function (res, pageNumber, pageSize) {
  try {
    var table = document.querySelector('#dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
    createThead();
    createTbody();
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData, new Sta_table().getTable_queryBillRuleByPage);
  } catch (error) {
    throw new Error(error);
  }
  function createThead() {
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单ID', false);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '账单名称');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '营业点');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地区');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '进/出港类型');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '运单类型');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '是否为快件');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '地服成本中心');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户名');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态码', false);
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '设置时间');
    _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  }
  function createTbody() {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data.queryBillRuleList;
    if (!data || data.length < 1) {
      var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    for (var i = 0; i < data.length; i++) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      var tdSerial = document.createElement('td');
      tr.appendChild(tdSerial);
      tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleId, false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].billRuleName);
      setTdFromArray(tr, data[i].billRule, 'OPEDEPART');
      setTdFromArray(tr, data[i].billRule, 'DOM_INT');
      setTdFromArray(tr, data[i].billRule, 'EXP_IMP');
      setTdFromArray(tr, data[i].billRule, 'TRANSFER_TYPE');
      setTdFromArray(tr, data[i].billRule, 'EXP_MAIL');
      setTdFromArray(tr, data[i].billRule, 'COST_C');
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].createName);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].statusStr);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].status, false);
      _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTd(tr, data[i].setTime);
      tr.appendChild(getTdAction(data[i].billRuleId));
    }
    function setTdFromArray(parentTr, array, name, showBoo) {
      var show = showBoo === undefined ? true : showBoo;
      var td = document.createElement('td');
      parentTr.appendChild(td);
      td.innerText = getValue().text;
      td.setAttribute('data-billRuleType', getValue().type);
      if (!show) td.setAttribute('hidden', '');
      return td;
      function getValue() {
        if (!Array.isArray(array)) throw new Error('billRule属性不是数组');
        var text = '-';
        var ruleType = '';
        for (var j = 0; j < array.length; j++) {
          var type = array[j].type;
          if (type === name) {
            text = array[j].content ? array[j].content : text;
            ruleType = type;
          }
        }
        return {
          text: text,
          type: ruleType
        };
      }
    }
    function getTdAction(billRuleId) {
      var td = document.createElement('td');
      td.setAttribute('class', 'uk-table-link');
      var deleteLink = document.createElement('a');
      td.appendChild(deleteLink);
      deleteLink.setAttribute('class', 'deleteTr');
      deleteLink.setAttribute('title', '删除此账单');
      deleteLink.setAttribute('data-billRuleId', billRuleId);
      deleteLink.innerText = '删除';
      deleteLink.addEventListener('click', function (event) {
        event.preventDefault();
        var thisBtn = this;
        UIkit.modal.confirm('删除后不可恢复，确认删除吗？').then(function () {
          try {
            (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetchData)(getUrl(), getPostData(thisBtn), successCallback);
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      });
      return td;
      function getUrl() {
        return document.querySelector('input[name=api_deleteRule]').value;
      }
      function getPostData(trigger) {
        var billRuleId = trigger.getAttribute('data-billRuleId');
        if (billRuleId === undefined) throw new Error('billRuleId未定义');
        return JSON.stringify({
          'billRuleId': billRuleId
        });
      }
      function successCallback() {
        UIkit.modal.alert('删除成功').then(function () {
          try {
            document.getElementById('submitBtn').click();
          } catch (error) {
            _Global__WEBPACK_IMPORTED_MODULE_10__["default"].errorHandler(error);
            return;
          }
        });
      }
    }
  }
};
// 用户管理主表：
Sta_table.prototype.getTable_getStationAllConsumer = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '客户代码');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '货运公司全称');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '用户状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '结算方式');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.consumerList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    tbody.appendChild(tr);
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var linkSet = document.createElement('a');
    var linkShow = document.createElement('a');
    for (var key in data[i]) {
      if (key == 'customerId') {
        td1.innerText = data[i][key] === null ? '-' : data[i][key];
        linkSet.setAttribute('data-' + key, data[i][key]);
        linkShow.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'customerNameChn') td2.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'statusDesc') td3.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'canYesDesc') td4.innerText = data[i][key] === null ? '-' : data[i][key];
      if (key == 'feeWayDesc') td5.innerText = data[i][key] === null ? '-' : data[i][key];
    }
    var list = data[i];
    // 如果现结或未注册：
    if (list.feeWayId == 'CS' || list.status == '0') {
      td6.innerText = '-';
    } else if (list.feeWayId != 'CS') {
      // 如果是非现结
      if (list.canYes == '0') {
        // 且在使用中
        linkSet.innerText = '优惠设置';
        td6.appendChild(linkSet);
        linkSet.addEventListener('click', function (event) {
          event.preventDefault();
          var url = document.querySelector('input[name=api_forDiscSet]').value;
          var customerId = this.getAttribute('data-customerId');
          (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_queryDiscountPolicy)(url, customerId);
        });
      }
      linkShow.innerText = '优惠政策查看';
      linkShow.setAttribute('class', 'uk-margin-small-left');
      linkShow.addEventListener('click', function (event) {
        event.preventDefault();
        var url = document.querySelector('input[name=api_forDiscShow]').value;
        var customerId = this.getAttribute('data-customerId');
        var data = {
          customerId: customerId
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_queryDiscountCustomer)(url, data);
      });
      td6.appendChild(linkShow);
    }
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getStationAllConsumer);
};
// 用户优惠查看主表：
Sta_table.prototype.getTable_queryDiscountCustomer = function (res) {
  var tbody = document.createElement('tbody');
  var data = res.data;
  if (data.length < 1 || data === null) {
    var tr0 = document.createElement('tr');
    var td0 = document.createElement('td');
    td0.setAttribute('colspan', '3');
    td0.innerText = '无数据';
    td0.style.textAlign = 'center';
    tr0.appendChild(td0);
    tbody.appendChild(tr0);
    return tbody;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var td1 = document.createElement('td'),
      td2 = document.createElement('td'),
      span1 = document.createElement('span'),
      span2 = document.createElement('span'),
      td3 = document.createElement('td');
    var link = document.createElement('a');
    td3.appendChild(link);
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        td1.setAttribute('data-arg', key);
        td1.innerText = data[i][key];
      } else if (key == 'startTimeStr') {
        span1.setAttribute('data-arg', key);
        span1.innerText = data[i][key];
      } else if (key == 'endTimeStr') {
        span2.setAttribute('data-arg', key);
        span2.innerText = data[i][key];
      } else if (key == 'status') {
        td3.setAttribute('data-arg', key);
        getActionText(data[i][key], link);
      } else if (key == 'discountPolicyId') {
        link.setAttribute('data-' + key, data[i][key]);
      } else if (key == 'customerId') {
        link.setAttribute('data-' + key, data[i][key]);
      } else {
        var td = document.createElement('td');
        td.setAttribute('data-arg', key);
        td.innerText = data[i][key];
        td.style.display = 'none';
        tr.appendChild(td);
      }
    }
    td2.appendChild(span1);
    td2.appendChild(span2);
    tr.appendChild(td1);
    tr.appendChild(td2);
    tr.appendChild(td3);
    link.addEventListener('click', function (event) {
      event.preventDefault();
      var discountPolicyId = this.getAttribute('data-discountPolicyId');
      var customerId = this.getAttribute('data-customerId');
      var status = this.getAttribute('data-status');
      var postData = {
        discountPolicyId: discountPolicyId,
        customerId: customerId,
        status: status
      };
      var url = document.querySelector('input[name=api_forDiscSorS]').value;
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_changeCustomerDiscountStatus)(url, postData);
      var parTd = this.parentNode;
      if (status == '1') {
        parTd.removeChild(this);
        parTd.innerText = '已暂停';
      }
      if (status == '0') {
        parTd.removeChild(this);
        parTd.innerText = '已启用';
      }
    });
    tbody.appendChild(tr);
  }
  return tbody;
  function getActionText(status, link) {
    if (status == '0') {
      // 启用状态，设置暂停
      link.setAttribute('data-status', '1');
      link.innerText = '暂停';
    }
    if (status == '1') {
      // 暂停状态，设置启用
      link.setAttribute('data-status', '0');
      link.innerText = '启用';
    }
  }
};
// 优惠设置页面表格：
Sta_table.prototype.getTable_getAllDiscountPolicy = function (res, pageNumber, pageSize) {
  var table = document.getElementById('dataTable');
  var trInThead = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.getThTr(table);
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠政策名称');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '优惠类型');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '有效期');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '设置时间');
  _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.discountPolicyList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_10__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var spanInTd3_1 = document.createElement('span');
    td3.appendChild(spanInTd3_1);
    var spanInTd3_2 = document.createElement('span');
    spanInTd3_2.innerText = '至';
    td3.appendChild(spanInTd3_2);
    var spanInTd3_3 = document.createElement('span');
    td3.appendChild(spanInTd3_3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var toDetailsA = document.createElement('a');
    toDetailsA.innerText = '查看详情';
    toDetailsA.href = location.pathname + '/details/' + data[i].discountPolicyId;
    td6.appendChild(toDetailsA);
    var toggleA = document.createElement('a');
    toggleA.setAttribute('class', 'uk-margin-small-left');
    // var status_changeToThis = '';
    for (var key in data[i]) {
      if (key == 'discountPolicyId') {
        toggleA.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'discountPolicyName') {
        td1.innerText = data[i][key];
      }
      if (key == 'discountTypeDesc') {
        td2.innerText = data[i][key];
        td2.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'startTime') {
        spanInTd3_1.innerText = data[i][key];
      }
      if (key == 'endTime') {
        spanInTd3_3.innerText = data[i][key];
      }
      if (key == 'statusDesc') {
        td4.innerText = data[i][key];
      }
      if (key == 'status') {
        if (data[i][key] == '1') {
          toggleA.innerText = '作废';
          toggleA.setAttribute('data-status', '2');
          td6.appendChild(toggleA);
        }
        if (data[i][key] == '0' || data[i][key] == '2') {
          toggleA.innerText = '启用';
          toggleA.setAttribute('data-status', '1');
          td6.appendChild(toggleA);
        }
      }
      if (key == 'setTime') {
        td5.innerText = data[i][key];
      }
    }
    toggleA.addEventListener('click', function (event) {
      event.preventDefault();
      var link = this;
      var url = document.querySelector('input[name=api_changeDiscountStatus]').value;
      var postData = {
        discountPolicyId: link.getAttribute('data-discountPolicyId'),
        status: link.getAttribute('data-status')
      };
      // console.log(url, postData)
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_changeDiscountStatus)(url, postData);
    });
    tbody.appendChild(tr);
  }
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_14__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_getAllDiscountPolicy);
};

// 调账模态：
function Modal(data, title, id) {
  this.data = data;
  this.title = title;
  this.id = id ? id : null;
}
Modal.prototype.create = function () {
  var data = this.data,
    titleText = this.title,
    modalId = this.id,
    modal = document.createElement('div'),
    dialog = document.createElement('div'),
    mheader = document.createElement('div'),
    mtitle = document.createElement('h2'),
    mbody = document.createElement('div'),
    mform = document.createElement('form');
  modal.setAttribute('id', modalId);
  modal.setAttribute('uk-modal', '');
  dialog.setAttribute('class', 'uk-modal-dialog');
  mheader.setAttribute('class', 'uk-modal-header');
  mtitle.setAttribute('class', 'uk-modal-title');
  mtitle.innerText = titleText;
  mbody.setAttribute('class', 'uk-modal-body');
  mbody.setAttribute('uk-overflow-auto', '');
  mform.setAttribute('class', 'uk-grid-small');
  mform.setAttribute('uk-grid', '');
  mform.setAttribute('data-stockNo', data.stockNo);
  mheader.appendChild(mtitle);
  var feeItemList = JSON.parse(data.feeItemList);
  // console.log(feeItemList);
  for (var i = 0; i < feeItemList.length; i++) {
    var els = Modal.createInpList(feeItemList[i]);
    for (var j = 0; j < els.length; j++) {
      mform.appendChild(els[j]);
    }
  }
  var totalFeeInput = Modal.getTotalFeeInput(data, 'totalFee', '总金额');
  var descTextarea = Modal.getDescTextarea('description', '备注');
  var buttonSection = Modal.getButtonSection(mform);
  mform.appendChild(totalFeeInput);
  mform.appendChild(descTextarea);
  mform.appendChild(buttonSection);
  Modal.setInpLinks(mform, data.feeWt);
  mbody.appendChild(mform);
  dialog.appendChild(mheader);
  dialog.appendChild(mbody);
  modal.appendChild(dialog);
  return modal;
};
Modal.setInpLinks = function (form, feeWt) {
  var inp_feeItemList = form.querySelectorAll('input[data-feeItemList]'),
    inp_totalfee = form.querySelector('input[name=totalFee]');
  var inp_spec = form.querySelector('input[data-fee=spec]'),
    inp_rate = null;
  if (inp_spec) {
    inp_rate = form.querySelector('input[name=feerate]');
    inp_rate.addEventListener('blur', function (event) {
      event.preventDefault();
      var oldValue = this.value;
      inp_spec.setAttribute('value', getSpecFee(feeWt, oldValue));
      inp_totalfee.setAttribute('value', getTotalFee());
    });
  }
  for (var i = 0; i < inp_feeItemList.length; i++) {
    var list = inp_feeItemList[i];
    if (list.name != 'feerate' && list.getAttribute('data-fee') != 'spec') {
      list.addEventListener('blur', function (event) {
        event.preventDefault();
        inp_totalfee.setAttribute('value', getTotalFee());
      });
    }
  }
  function getTotalFee() {
    var result = 0;
    for (var i = 0; i < inp_feeItemList.length; i++) {
      var list = inp_feeItemList[i];
      if (list.name != 'feerate' || list.getAttribute('data-fee') != 'spec') {
        result += Number(list.value);
      }
    }
    return result;
  }
  function getSpecFee(feeWt, oldValue) {
    var result = 0;
    result = Number(feeWt) * Number(oldValue);
    return Math.round(result);
  }
};
Modal.getPostData = function (form) {
  var postData = {
    stockNo: '',
    totalFee: '',
    feeItemList: [],
    remark: ''
  };
  var feeItemListNode = form.querySelectorAll('input[data-feeItemList]'),
    feerateNode = form.querySelector('input[name=feerate]');
  postData.stockNo = form.getAttribute('data-stockNo');
  postData.totalFee = form.querySelector('input[name=totalFee]').value;
  postData.remark = form.querySelector('textarea[name=description]').value;
  for (var i = 0; i < feeItemListNode.length; i++) {
    var obj = {};
    obj.feeId = feeItemListNode[i].name;
    if (feeItemListNode[i].getAttribute('data-fee') === 'spec') {
      obj.feerate = feerateNode.value;
    }
    obj.fee = feeItemListNode[i].value;
    obj.feeShortNM = feeItemListNode[i].getAttribute('data-feeShortNM');
    postData.feeItemList.push(obj);
  }
  return postData;
};
Modal.getButtonSection = function (form) {
  var mSection = document.createElement('section'),
    mSubmitBtn = document.createElement('button'),
    mCancelBtn = document.createElement('button');
  mSection.setAttribute('class', 'action-buttons');
  mSubmitBtn.setAttribute('class', 'button button-primary button-rounded uk-modal-close');
  mSubmitBtn.innerText = '确定';
  mSubmitBtn.style.marginRight = '5px';
  mSubmitBtn.addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=api_stationFeeUpdate]').value;
    var data = Modal.getPostData(form);
    // console.log(url, data);
    (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_15__.fetch_sta_updateFee)(url, data);
  });
  mCancelBtn.setAttribute('class', 'button button-rounded uk-modal-close');
  mCancelBtn.innerText = '取消';
  mSection.appendChild(mSubmitBtn);
  mSection.appendChild(mCancelBtn);
  return mSection;
};
Modal.getDescTextarea = function (name, text) {
  var mDiv = document.createElement('div'),
    mLabel = document.createElement('label'),
    mTextarea = document.createElement('textarea');
  mDiv.setAttribute('class', 'uk-width-1-1');
  mLabel.setAttribute('class', 'uk-form-label');
  mLabel.innerText = text;
  mLabel.setAttribute('for', name);
  mTextarea.setAttribute('class', 'uk-textarea');
  mTextarea.setAttribute('name', name);
  mTextarea.setAttribute('rows', 4);
  mTextarea.setAttribute('placeholder', '备注信息最多可输入100字');
  mTextarea.setAttribute('maxlength', 100);
  mTextarea.setAttribute('style', 'resize: none');
  mDiv.appendChild(mLabel);
  mDiv.appendChild(mTextarea);
  return mDiv;
};
Modal.getTotalFeeInput = function (data, name, text) {
  var mDiv = document.createElement('div'),
    mLabel = document.createElement('label'),
    mInput = document.createElement('input'),
    feeItemList = JSON.parse(data.feeItemList),
    totalFee = 0;
  mDiv.setAttribute('class', 'uk-width-1-1');
  mLabel.setAttribute('class', 'uk-form-label');
  mLabel.innerText = text;
  mLabel.setAttribute('for', name);
  mInput.setAttribute('class', 'uk-input');
  mInput.setAttribute('type', 'number');
  mInput.setAttribute('readonly', '');
  mInput.setAttribute('name', name);
  for (var i = 0; i < feeItemList.length; i++) {
    totalFee += Number(feeItemList[i].fee);
  }
  mInput.setAttribute('value', totalFee);
  mDiv.appendChild(mLabel);
  mDiv.appendChild(mInput);
  return mDiv;
};
Modal.createInpList = function (data) {
  var feerate = data.feerate ? data.feerate : null,
    fee = data.fee,
    feeId = data.feeId,
    feeShortNM = data.feeShortNM;
  if (feeShortNM === '处置费') {
    var el1 = createInp('feerate'),
      el2 = createInp('spec');
    return [el1, el2];
  } else {
    var el = createInp();
    return [el];
  }
  function createInp(type) {
    var flag = type === 'feerate',
      formItem = document.createElement('div'),
      label = document.createElement('label'),
      input = document.createElement('input');
    var inpMaxLength = 15; // 最大输入字符数量
    formItem.setAttribute('class', 'uk-width-1-2');
    label.setAttribute('class', 'uk-form-label');
    input.setAttribute('class', 'uk-input');
    input.setAttribute('type', 'number');
    input.setAttribute('min', 0);
    input.setAttribute('name', flag ? 'feerate' : feeId);
    if (type === 'spec') {
      // 处置费不可编辑
      input.setAttribute('data-fee', 'spec');
      input.setAttribute('readonly', '');
    } else {
      // 其他可以编辑
      if (!flag) {
        // 除费率外其他费用限制字符
        input.setAttribute('maxlength', inpMaxLength);
      }
      input.addEventListener('focus', function (event) {
        event.preventDefault();
        this.value = Number(this.value);
        if (flag) {
          // 费率初始化
          this.value = Math.round(this.value * 100) / 100;
        } else {
          // 其他初始化
          this.value = Math.round(this.value);
        }
        this.select();
      });
      input.addEventListener('blur', function (event) {
        event.preventDefault();
        this.value = Number(this.value);
      });
    }
    label.setAttribute('for', input.name);
    label.innerText = flag ? '地面费率' : feeShortNM;
    if (!flag) {
      input.setAttribute('data-feeItemList', '');
      // 非费率只能输入固定字符内整数
      input.addEventListener('input', function (event) {
        event.preventDefault();
        this.value = this.value.replace(/\D/g, '');
        if (this.value.length > inpMaxLength) {
          this.value = this.value.slice(0, inpMaxLength);
        }
      });
    } else {
      // 费率只能输入两位小数
      input.addEventListener('input', function (event) {
        event.preventDefault();
        this.value = this.value.match(/^\d+(?:\.\d{0,2})?/);
      });
    }
    input.setAttribute('value', flag ? feerate : fee);
    input.setAttribute('step', flag ? '0.01' : '1');
    input.setAttribute('data-feeShortNM', feeShortNM);
    formItem.appendChild(label);
    formItem.appendChild(input);
    return formItem;
  }
};
function fn_getModal(data, title, id) {
  var mod = new Modal(data, title, id);
  return mod.create();
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js":
/*!******************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\SystemPages.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Sys_table": () => (/* binding */ Sys_table),
/* harmony export */   "initSystem_baseData": () => (/* binding */ initSystem_baseData),
/* harmony export */   "initSystem_billMangement_queryBills": () => (/* binding */ initSystem_billMangement_queryBills),
/* harmony export */   "initSystem_getAllConsumer": () => (/* binding */ initSystem_getAllConsumer),
/* harmony export */   "initSystem_getAllDiscountPolicy": () => (/* binding */ initSystem_getAllDiscountPolicy),
/* harmony export */   "initSystem_getDiscountPolicy": () => (/* binding */ initSystem_getDiscountPolicy),
/* harmony export */   "initSystem_systemQueryBillDetails_new": () => (/* binding */ initSystem_systemQueryBillDetails_new),
/* harmony export */   "initSystem_systemQueryBill_new": () => (/* binding */ initSystem_systemQueryBill_new)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.number.constructor.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js");
/* harmony import */ var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");
/* harmony import */ var _QueryDict__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./QueryDict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\QueryDict.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");






function initSystem_baseData() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_baseData)();
}
function initSystem_billMangement_queryBills() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_billMangement_queryBills)();
}
function initSystem_systemQueryBill_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_stationQueryBill_new)();
}
function initSystem_systemQueryBillDetails_new() {
  return (0,_StationPages__WEBPACK_IMPORTED_MODULE_2__.initStation_stationQueryBillDetails_new)();
}
function initSystem_getAllConsumer() {
  // bind submit button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllConsumer);
  // bind export button:
  (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_exportExcel);
}
function initSystem_getAllDiscountPolicy() {
  var api_getAllSupplier_url = document.querySelector('input[name=api_getAllSupplier]').value;
  (0,_QueryDict__WEBPACK_IMPORTED_MODULE_4__["default"])('DISCOUNT_TYPE', function (res) {
    // console.log(res)
    // distill select:
    var sel = document.getElementById('discountType');
    _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initDiscoutTypeSel(res.data, sel);
    $.ajax({
      url: api_getAllSupplier_url,
      success: function success(res) {
        // distill supplier:
        var data = res.data;
        var sel = document.getElementById('supplierId');
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initSupplierSel(data, sel);
        // init Wdate:
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].WdateInit('startTime', 'endTime');
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].WdateInit('setStartTime', 'setEndTime');
        // bind submit button:
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fn_initSubmitBtn)(1, 10, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllDiscountPolicy);
      }
    });
  });
}
function initSystem_getDiscountPolicy() {
  var discountPolicyId = document.querySelector('input[name=discountPolicyId]').value;
  var url = document.querySelector('input[name=api_getDiscountPolicy]').value;
  var data = {
    discountPolicyId: discountPolicyId
  };
  $.ajax({
    url: url,
    data: JSON.stringify(data),
    success: function success(res) {
      if ((0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.checkRes)(res) === false) return;
      console.log(res);
      try {
        var data = res.data;
        if (data.length < 1) {
          UIkit.modal.alert('无数据');
        }
        _Global__WEBPACK_IMPORTED_MODULE_1__["default"].initDiscountDetails(data);
      } catch (error) {
        alert(error);
      }
    }
  });
  // 绑定返回button
  document.getElementById('btnBack').addEventListener('click', function (event) {
    event.preventDefault();
    var url = document.querySelector('input[name=url_back]').value;
    window.location.href = url;
  });
}
function Sys_table() {}
Sys_table.prototype.getTable_userInfo = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var thead = table.querySelector('thead');
  thead.innerHTML = '';
  var trInThead = document.createElement('tr');
  thead.appendChild(trInThead);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '客户代码');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '货运公司全称');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '用户状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '结算方式');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.consumerList;
  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var toDiscountPoliciesA = document.createElement('a');
    for (var key in data[i]) {
      if (key == 'customerId') {
        td1.innerText = data[i][key];
        toDiscountPoliciesA.setAttribute('data-customerId', data[i][key]);
      }
      if (key == 'customerNameChn') {
        td2.innerText = data[i][key];
      }
      if (key == 'statusDesc') {
        td3.innerText = data[i][key];
      }
      if (key == 'status') {
        td3.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'canYesDesc') {
        td4.innerText = data[i][key];
      }
      if (key == 'canYes') {
        td4.setAttribute('data-' + key, data[i][key]);
      }
      if (key == 'feeWayDesc') {
        td5.innerText = data[i][key];
      }
      if (key == 'feeWayId') {
        td5.setAttribute('data-' + key, data[i][key]);
      }
    }

    // 如果已注册且月结：
    if (td3.getAttribute('data-status') == '1' && td5.getAttribute('data-feeWayId') == 'MP') {
      toDiscountPoliciesA.innerText = '优惠政策查看';
      toDiscountPoliciesA.href = '#ShowDiscountPolicies';
      td6.appendChild(toDiscountPoliciesA);
      toDiscountPoliciesA.addEventListener('click', function (event) {
        event.preventDefault();
        var link = this;
        var url = document.querySelector('input[name=api_queryDiscountCustomer]').value;
        var data = {
          customerId: link.getAttribute('data-customerId')
        };
        (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_queryDiscountCustomer)(url, data);
      });
    } else {
      td6.innerText = '-';
    }
    tbody.appendChild(tr);
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllConsumer);
};
Sys_table.prototype.getTable_inModal = function (res) {
  var modal = document.getElementById('showDiscountPolicy');
  var table = modal.querySelector('table');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var dataList = res.data;
  for (var i = 0; i < dataList.length; i++) {
    var tr = document.createElement('tr');
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    var spanStart = document.createElement('span');
    td2.appendChild(spanStart);
    var spanText = document.createElement('span');
    spanText.setAttribute('class', 'uk-margin-small-left uk-margin-small-right');
    spanText.innerText = '至';
    td2.appendChild(spanText);
    var spanEnd = document.createElement('span');
    td2.appendChild(spanEnd);
    tr.appendChild(td2);
    for (var key in dataList[i]) {
      if (key == 'discountPolicyName') td1.innerText = dataList[i][key];else if (key == 'startTimeStr') spanStart.innerText = dataList[i][key];else if (key == 'endTimeStr') spanEnd.innerText = dataList[i][key];else td1.setAttribute('data-' + key, dataList[i][key]);
    }
    tbody.appendChild(tr);
  }
  UIkit.modal(modal).show();
};
Sys_table.prototype.getTable_queryPolicies = function (res, pageNumber, pageSize) {
  var table = document.querySelector('#dataTable');
  var thead = table.querySelector('thead');
  thead.innerHTML = '';
  var trInThead = document.createElement('tr');
  thead.appendChild(trInThead);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '序号');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '优惠政策名称');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '优惠类型');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '有效期');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '设置时间');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '状态');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '所属货站');
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.setTh(trInThead, '操作');
  var tbody = table.querySelector('tbody');
  tbody.innerHTML = '';
  var data = res.data.systemDiscountPolicyList;
  // console.log(data);

  if (!data || data.length < 1) {
    var tr0 = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].Table.showNoData(trInThead.querySelectorAll('th').length);
    tbody.appendChild(tr0);
    return;
  }
  for (var i = 0; i < data.length; i++) {
    var tr = document.createElement('tr');
    tbody.appendChild(tr);
    var tdSerial = document.createElement('td');
    tr.appendChild(tdSerial);
    tdSerial.innerText = i + 1 + (Number(pageNumber) - 1) * Number(pageSize);
    var td1 = document.createElement('td');
    tr.appendChild(td1);
    var td2 = document.createElement('td');
    tr.appendChild(td2);
    var td3 = document.createElement('td');
    tr.appendChild(td3);
    var spanSta = document.createElement('span');
    td3.appendChild(spanSta);
    var spanTex = document.createElement('span');
    spanTex.setAttribute('class', 'uk-margin-small-left uk-margin-small-right');
    spanTex.innerText = '至';
    td3.appendChild(spanTex);
    var spanEnd = document.createElement('span');
    td3.appendChild(spanEnd);
    var td4 = document.createElement('td');
    tr.appendChild(td4);
    var td5 = document.createElement('td');
    tr.appendChild(td5);
    var td6 = document.createElement('td');
    tr.appendChild(td6);
    var td7 = document.createElement('td');
    tr.appendChild(td7);
    var link = document.createElement('a');
    link.innerText = '查看详情';
    td7.appendChild(link);
    for (var key in data[i]) {
      if (key == 'discountPolicyName') {
        td1.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'discountTypeDesc') {
        td2.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'startTime') {
        spanSta.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'endTime') {
        spanEnd.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'setTime') {
        td4.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'statusDesc') {
        td5.innerText = data[i][key] === null ? '-' : data[i][key];
      }
      if (key == 'supplierName') {
        td6.innerText = data[i][key] === null ? '-' : data[i][key];
      }
    }
    link.setAttribute('href', 'policiesManagement/' + data[i].discountPolicyId);
  }

  // 设置pagination
  (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(res, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_3__.fetch_sys_getAllDiscountPolicy);
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\canvas.js":
/*!*************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\canvas.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Canvas)
/* harmony export */ });
/* harmony import */ var chart_js_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chart.js/auto */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\auto\\auto.mjs");

function Canvas(selector, config) {
  if (!selector) {
    return console.error('缺少参数: ("#canvasID", {[iframeNode: DocumentIframeNode, ctx: "2d"]})');
  }
  var rootDocument = config && config.iframeNode ? config.iframeNode.contentDocument : document;
  var cvs = rootDocument.querySelector(selector);
  var ctx = config && config.ctx ? config.ctx : '2d';
  if (!cvs) return console.error('不能初始化canvas，因为定位不到DOM');
  if (!cvs.getContext) return console.error('浏览器不支持canvas');
  this.node = cvs;
  this.ctx = cvs.getContext(ctx);
  this.height = 300;
  this.width = 150;
  console.log('canvas初始化成功');
}
Canvas.prototype.setSize = function (ratio) {
  try {
    var canvasNode = this.node;
    var parent = canvasNode.parentNode;
    var parentWidth = window.getComputedStyle(parent).getPropertyValue('max-width');
    canvasNode.width = parseInt(parentWidth);
    var canvasRatio = ratio;
    var canvasHeight = parseInt(canvasNode.width) * parseInt(canvasRatio[1]) / parseInt(canvasRatio[0]);
    canvasNode.height = canvasHeight;
    this.width = canvasNode.width;
    this.height = canvasNode.height;
    return this;
  } catch (e) {
    console.error(e.stack);
    return this;
  }
};
Canvas.prototype.buildChart = function (chartjsConfig) {
  try {
    var ctx = this.ctx;
    chart_js_auto__WEBPACK_IMPORTED_MODULE_0__["default"].defaults.font.size = 14;
    var chart = new chart_js_auto__WEBPACK_IMPORTED_MODULE_0__["default"](ctx, chartjsConfig);
    this.chart = chart;
    this.chartjsConfig = chartjsConfig;
    console.log('Chart.js配置成功');
    return this;
  } catch (e) {
    console.error(e.stack);
    return this;
  }
};

// Canvas.prototype.setChartTitle = function(titleText) {
//   try {
//     const ctx = this.ctx
//     const chartTitle = titleText? titleText: '未命名图表'
//     ctx.fillText(chartTitle, 10, 50)
//     return this
//   } catch(e) {
//     console.error(e.stack)
//     return this
//   }

// }

// Canvas.prototype.drawXYAxis = function(config) {
//   try {
//     const ctx = this.ctx
//     const xTitle = config.xTitle
//     const yTitle = config.yTitile
//     Canvas.drawX(this, xTitle)
//     Canvas.drawY(this, yTitle)
//     this.XYAxis = {
//       xTitle: xTitle,
//       yTitle: yTitle,
//     }
//     return this
//   } catch(e) {
//     console.error(e.stack)
//     return this
//   }
// }

// Canvas.drawX = function(canvas, titleArray) {
//   const width = canvas.width
//   const titleCount = titleArray.length

// }
// Canvas.drawY = function(canvas, titleArray) {

// }

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatistic.js":
/*!********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\dataStatistic.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "dsDetails": () => (/* binding */ dsDetails),
/* harmony export */   "dsIndex": () => (/* binding */ dsIndex)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.promise.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js");
/* harmony import */ var core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.concat.js");
/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Paginate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Paginate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Paginate.js");
/* harmony import */ var _canvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./canvas */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\canvas.js");
/* harmony import */ var _dataStatisticChartConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dataStatisticChartConfig */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatisticChartConfig.js");
/* harmony import */ var _AjaxManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AjaxManager */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AjaxManager.js");









function dsIndex() {
  console.log('进入 ----------> dataStatistic Index');
  initWdatePicker();
  queryBillRule().then(function (response) {
    return setBillRule(response);
  }).then(function () {
    return bindButtons(loadData, saveBillRuleId);
  }).catch(function (error) {
    return console.error(error);
  });
}
function dsDetails() {
  console.log('进入 ----------> dataStatistic Details');
  setParentLink('#parentLink', 'dovepay-freight/station/dataStatistic');
  queryBillRule().then(function (response) {
    return setBillRuleText(response);
  }).catch(function (error) {
    return console.error(error);
  });

  /* table */
  bindButtons(loadDataDetails, null, function () {
    history.back();
  }).catch(function (error) {
    return console.error(error);
  });
}
function initWdatePicker() {
  try {
    var billTimeInp = document.querySelector('input[name="billTime"]');
    billTimeInp.addEventListener('click', function () {
      WdatePicker({
        el: this,
        dateFmt: 'yyyy',
        maxDate: '%y'
      });
    });
  } catch (e) {
    console.error(e.stack);
  }
}
function queryBillRule() {
  return new Promise(function (res, rej) {
    try {
      var url = document.querySelector('input[name="api_queryEffectiveBillRule"]').value;
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData)(url, '', res);
    } catch (e) {
      rej(e.stack);
    }
  });
}
function setBillRule(response) {
  return new Promise(function (resolve, rej) {
    try {
      var billRuleIdSel = document.querySelector('select[name="billRuleId"]');
      var dataArr = response.data;
      if (dataArr.length > 0) {
        dataArr.forEach(function (data) {
          var option = document.createElement('option');
          option.setAttribute('value', data.billRuleId);
          option.innerText = data.billRuleName;
          billRuleIdSel.appendChild(option);
        });
      }
      resolve('success');
    } catch (e) {
      rej(e.stack);
      // console.error(e.stack)
    }
  });
}

function setBillRuleText(res) {
  try {
    var id = document.querySelector('input[name="billRuleId"]');
    var text = document.querySelector('#billRuleText');
    if (!id.value) {
      text.value = '全部';
    } else {
      var dataArr = res.data;
      dataArr.some(function (data) {
        if (id.value === data.billRuleId) {
          text.value = data.billRuleName;
          return true;
        }
      });
    }
  } catch (e) {
    console.error(e.stack);
  }
}
function bindButtons(cb, dataHandler, checkResCallback) {
  return new Promise(function (res, rej) {
    try {
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fn_initExportBtn)(_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetch_exportExcel);
    } catch (e) {
      console.error(e.stack);
    }
    try {
      (0,_AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fn_initSubmitBtn)(1, 15, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, cb, dataHandler, checkResCallback);
    } catch (e) {
      rej(e.stack);
    }
  });
}
function saveBillRuleId(data) {
  try {
    document.querySelector('input[name="billRuleIdValue"]').value = data.billRuleId;
  } catch (e) {
    console.error(e.stack);
  }
}
function loadData(response, pageNumber, pageSize) {
  try {
    console.log(response);
    var table = document.getElementById('dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.getThTr(table);
    setThead(trInThead);
    setTbody(table, response);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(response, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, loadData);
  } catch (e) {
    console.error(e.stack);
  }
  function setThead(tr) {
    var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTh;
    var textArr = ['排名', '往来户编码', '商户编号', '往来户名称', '年度', '总金额', '操作'];
    textArr.forEach(function (text) {
      set(tr, text);
    });
  }
  function setTbody(table, res) {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data.summaryList;
    if (!data || data.length < 1) {
      var tab = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table;
      var tr0 = tab.showNoData(tab.getThTr(table).querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    data.forEach(function (line /*, index*/) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      // const tdSerial = document.createElement('td')
      // tr.appendChild(tdSerial)
      // tdSerial.innerText = index + 1 + (parseInt(pageNumber) - 1) * parseInt(pageSize)
      var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTd;
      var propArr = ['serialNumber', 'esbCustomerId', 'accountId', 'esbCustomerName', 'billTime', 'totalAmount'];
      propArr.forEach(function (prop) {
        set(tr, line[prop]);
      });
      /* 查看详情 */
      var tdAction = document.createElement('td');
      var tdActionLink = document.createElement('a');
      tdAction.appendChild(tdActionLink);
      tr.appendChild(tdAction);
      tdActionLink.innerText = '查看详细';
      propArr.forEach(function (prop) {
        tdActionLink.dataset[prop] = line[prop];
      });
      tdActionLink.addEventListener('click', toDetails);
    });
  }
}
function toDetails(event) {
  event.preventDefault();
  var el = event.target;
  try {
    var loc = window.location;
    var url = "".concat(loc.protocol, "//").concat(loc.host, "/dovepay-freight/station/dataStatistic/details");
    var postData = {
      billRuleId: document.querySelector('input[name=billRuleIdValue]').value
    };
    if (el.dataset) {
      for (var prop in el.dataset) {
        postData[prop] = el.dataset[prop];
      }
    }
    _Global__WEBPACK_IMPORTED_MODULE_4__["default"].submVirtForm(url, postData);
  } catch (e) {
    console.error(e.stack);
  }
}
function setParentLink(node, link) {
  var a = document.querySelector(node);
  var loc = window.location;
  a.setAttribute('href', "".concat(loc.protocol, "//").concat(loc.host, "/").concat(link));
}
function loadDataDetails(response, pageNumber, pageSize) {
  try {
    console.log(response);
    var table = document.getElementById('dataTable');
    var trInThead = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.getThTr(table);
    setThead(trInThead);
    setTbody(table, response);
    (0,_Paginate__WEBPACK_IMPORTED_MODULE_5__["default"])(response, pageNumber, pageSize, _AjaxManager__WEBPACK_IMPORTED_MODULE_8__.fetchData, loadData);
  } catch (e) {
    console.error(e.stack);
  }
  try {
    chartHandler(response);
  } catch (e) {
    console.error(e.stack);
  }
  function setThead(tr) {
    var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTh;
    var textArr = ['序号', '年月', '总金额', '结算客户名称'];
    textArr.forEach(function (text) {
      set(tr, text);
    });
  }
  function setTbody(table, res) {
    var tbody = table.querySelector('tbody');
    tbody.innerHTML = '';
    var data = res.data;
    if (!data || data.length < 1) {
      var tab = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table;
      var tr0 = tab.showNoData(tab.getThTr(table).querySelectorAll('th').length);
      tbody.appendChild(tr0);
      return;
    }
    data.forEach(function (line) {
      var tr = document.createElement('tr');
      tbody.appendChild(tr);
      var set = _Global__WEBPACK_IMPORTED_MODULE_4__["default"].Table.setTd;
      var propArr = ['serialNumber', 'billTime', 'totalAmount', 'esbCustomerName'];
      propArr.forEach(function (prop) {
        set(tr, line[prop]);
      });
    });
  }
  /* chart */
  function chartHandler(res) {
    var cvs = new _canvas__WEBPACK_IMPORTED_MODULE_6__["default"]('#dataStatisticChart').setSize([16, 9]).buildChart((0,_dataStatisticChartConfig__WEBPACK_IMPORTED_MODULE_7__["default"])(res));
    console.log(cvs);
  }
}

// canvas.setChartTitle(cvs, '图表')

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatisticChartConfig.js":
/*!*******************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\dataStatisticChartConfig.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.sort.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.sort.js");
/* harmony import */ var core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_sort_js__WEBPACK_IMPORTED_MODULE_2__);



var color = {
  blue: 'rgb(3, 78, 162)',
  yellow: 'rgb(250, 166, 26)'
};
var legendLabel = '金额';
var type = 'bar';
var options = {
  layout: {
    padding: 20
  }
};
/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(res) {
  var axisData = getAxisData(res);
  return {
    type: type,
    data: getData(axisData),
    options: options
  };
}
function getAxisData(res) {
  try {
    var data = res.data;
    var axisData = [];
    data.forEach(function (line) {
      var object = {};
      object.label = line.billTime;
      object.index = line.totalAmount;
      axisData.push(object);
    });
    axisData.sort(function (firstItem, secondItem) {
      return parseInt(firstItem.label) - parseInt(secondItem.label);
    });
    return axisData;
  } catch (e) {
    console.error(e.stack);
  }
}
function getData(data) {
  return {
    labels: getLabels(data),
    datasets: [{
      data: getIndex(data),
      label: legendLabel,
      backgroundColor: color.blue,
      borderColor: color.blue,
      maxBarThickness: 100
    }]
  };
  function getLabels(data) {
    var array = [];
    data.forEach(function (line) {
      array.push(line.label);
    });
    return array;
  }
  function getIndex(data) {
    var array = [];
    data.forEach(function (line) {
      array.push(line.index);
    });
    return array;
  }
}

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\initJqueryAjax.js":
/*!*********************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\initJqueryAjax.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js");
/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");


// Global:
// Ajax设置：
$.ajaxSetup({
  headers: {
    accountId: $('header #accountId').val(),
    userId: $('header #userId').val(),
    type: $('header #userType').val()
  },
  type: 'POST',
  // for java api
  dataType: 'json',
  contentType: 'application/json',
  timeout: 10000
});
// Ajax错误处理：
$(document).ajaxError(function (event, xhr, settings) {
  var reqUrl = settings.url;
  var reqData = settings.data;
  var res = xhr.status + xhr.statusText;
  if (console) console.error(reqUrl, reqData, res);
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].errorHandler('服务器数据获取失败: 错误码: ' + xhr.status + ';<br>错误描述: ' + getStatusText(xhr.statusText));
  function getStatusText(statusStr) {
    var text = statusStr;
    if (statusStr === 'timeout') text = '请求超时';
    return text;
  }
});
// loading遮罩实现：
$(document).ajaxStart(function () {
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].loading.show();
});
$(document).ajaxStop(function () {
  _Global__WEBPACK_IMPORTED_MODULE_1__["default"].loading.hide();
});
// 获取表格数据：
$.fn.serializeObject = function () {
  var o = {};
  var a = this.serializeArray();
  $.each(a, function () {
    var value = _Global__WEBPACK_IMPORTED_MODULE_1__["default"].isJSON(this.value) ? JSON.parse(this.value) : this.value;
    if (o[this.name] !== undefined) {
      if (!o[this.name].push) {
        o[this.name] = [o[this.name]];
      }
      o[this.name].push(value || '');
    } else {
      o[this.name] = value || '';
    }
  });
  return o;
};

/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-callable.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a function');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-constructor.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-constructor.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

// `Assert: IsConstructor(argument) is true`
module.exports = function (argument) {
  if (isConstructor(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a constructor');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-possible-prototype.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\a-possible-prototype.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var $String = String;
var $TypeError = TypeError;

module.exports = function (argument) {
  if (typeof argument == 'object' || isCallable(argument)) return argument;
  throw $TypeError("Can't set " + $String(argument) + ' as a prototype');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\add-to-unscopables.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\add-to-unscopables.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);

var UNSCOPABLES = wellKnownSymbol('unscopables');
var ArrayPrototype = Array.prototype;

// Array.prototype[@@unscopables]
// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
if (ArrayPrototype[UNSCOPABLES] == undefined) {
  defineProperty(ArrayPrototype, UNSCOPABLES, {
    configurable: true,
    value: create(null)
  });
}

// add a key to Array.prototype[@@unscopables]
module.exports = function (key) {
  ArrayPrototype[UNSCOPABLES][key] = true;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\advance-string-index.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var charAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").charAt);

// `AdvanceStringIndex` abstract operation
// https://tc39.es/ecma262/#sec-advancestringindex
module.exports = function (S, index, unicode) {
  return index + (unicode ? charAt(S, index).length : 1);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\an-instance.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");

var $TypeError = TypeError;

module.exports = function (it, Prototype) {
  if (isPrototypeOf(Prototype, it)) return it;
  throw $TypeError('Incorrect invocation');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\an-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw $TypeError($String(argument) + ' is not an object');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-for-each.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-for-each.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $forEach = (__webpack_require__(/*! ../internals/array-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js").forEach);
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js");

var STRICT_METHOD = arrayMethodIsStrict('forEach');

// `Array.prototype.forEach` method implementation
// https://tc39.es/ecma262/#sec-array.prototype.foreach
module.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {
  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
// eslint-disable-next-line es/no-array-prototype-foreach -- safe
} : [].forEach;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-from.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-from.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var callWithSafeIterationClosing = __webpack_require__(/*! ../internals/call-with-safe-iteration-closing */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\call-with-safe-iteration-closing.js");
var isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");

var $Array = Array;

// `Array.from` method implementation
// https://tc39.es/ecma262/#sec-array.from
module.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
  var O = toObject(arrayLike);
  var IS_CONSTRUCTOR = isConstructor(this);
  var argumentsLength = arguments.length;
  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
  var mapping = mapfn !== undefined;
  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
  var iteratorMethod = getIteratorMethod(O);
  var index = 0;
  var length, result, step, iterator, next, value;
  // if the target is not iterable or it's an array with the default iterator - use a simple case
  if (iteratorMethod && !(this === $Array && isArrayIteratorMethod(iteratorMethod))) {
    iterator = getIterator(O, iteratorMethod);
    next = iterator.next;
    result = IS_CONSTRUCTOR ? new this() : [];
    for (;!(step = call(next, iterator)).done; index++) {
      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
      createProperty(result, index, value);
    }
  } else {
    length = lengthOfArrayLike(O);
    result = IS_CONSTRUCTOR ? new this(length) : $Array(length);
    for (;length > index; index++) {
      value = mapping ? mapfn(O[index], index) : O[index];
      createProperty(result, index, value);
    }
  }
  result.length = index;
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-includes.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-includes.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-iteration.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js");

var push = uncurryThis([].push);

// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
var createMethod = function (TYPE) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var IS_FILTER_REJECT = TYPE == 7;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  return function ($this, callbackfn, that, specificCreate) {
    var O = toObject($this);
    var self = IndexedObject(O);
    var boundFunction = bind(callbackfn, that);
    var length = lengthOfArrayLike(self);
    var index = 0;
    var create = specificCreate || arraySpeciesCreate;
    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
    var value, result;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      value = self[index];
      result = boundFunction(value, index, O);
      if (TYPE) {
        if (IS_MAP) target[index] = result; // map
        else if (result) switch (TYPE) {
          case 3: return true;              // some
          case 5: return value;             // find
          case 6: return index;             // findIndex
          case 2: push(target, value);      // filter
        } else switch (TYPE) {
          case 4: return false;             // every
          case 7: push(target, value);      // filterReject
        }
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
  };
};

module.exports = {
  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  forEach: createMethod(0),
  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  map: createMethod(1),
  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  filter: createMethod(2),
  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  some: createMethod(3),
  // `Array.prototype.every` method
  // https://tc39.es/ecma262/#sec-array.prototype.every
  every: createMethod(4),
  // `Array.prototype.find` method
  // https://tc39.es/ecma262/#sec-array.prototype.find
  find: createMethod(5),
  // `Array.prototype.findIndex` method
  // https://tc39.es/ecma262/#sec-array.prototype.findIndex
  findIndex: createMethod(6),
  // `Array.prototype.filterReject` method
  // https://github.com/tc39/proposal-array-filtering
  filterReject: createMethod(7)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-method-has-species-support.js ***!
  \******************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var SPECIES = wellKnownSymbol('species');

module.exports = function (METHOD_NAME) {
  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/677
  return V8_VERSION >= 51 || !fails(function () {
    var array = [];
    var constructor = array.constructor = {};
    constructor[SPECIES] = function () {
      return { foo: 1 };
    };
    return array[METHOD_NAME](Boolean).foo !== 1;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-method-is-strict.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = function (METHOD_NAME, argument) {
  var method = [][METHOD_NAME];
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call -- required for testing
    method.call(null, argument || function () { return 1; }, 1);
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-slice-simple.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");

var $Array = Array;
var max = Math.max;

module.exports = function (O, start, end) {
  var length = lengthOfArrayLike(O);
  var k = toAbsoluteIndex(start, length);
  var fin = toAbsoluteIndex(end === undefined ? length : end, length);
  var result = $Array(max(fin - k, 0));
  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);
  result.length = n;
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-slice.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = uncurryThis([].slice);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-sort.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");

var floor = Math.floor;

var mergeSort = function (array, comparefn) {
  var length = array.length;
  var middle = floor(length / 2);
  return length < 8 ? insertionSort(array, comparefn) : merge(
    array,
    mergeSort(arraySlice(array, 0, middle), comparefn),
    mergeSort(arraySlice(array, middle), comparefn),
    comparefn
  );
};

var insertionSort = function (array, comparefn) {
  var length = array.length;
  var i = 1;
  var element, j;

  while (i < length) {
    j = i;
    element = array[i];
    while (j && comparefn(array[j - 1], element) > 0) {
      array[j] = array[--j];
    }
    if (j !== i++) array[j] = element;
  } return array;
};

var merge = function (array, left, right, comparefn) {
  var llength = left.length;
  var rlength = right.length;
  var lindex = 0;
  var rindex = 0;

  while (lindex < llength || rindex < rlength) {
    array[lindex + rindex] = (lindex < llength && rindex < rlength)
      ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]
      : lindex < llength ? left[lindex++] : right[rindex++];
  } return array;
};

module.exports = mergeSort;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-constructor.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-species-constructor.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var SPECIES = wellKnownSymbol('species');
var $Array = Array;

// a part of `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray) {
  var C;
  if (isArray(originalArray)) {
    C = originalArray.constructor;
    // cross-realm fallback
    if (isConstructor(C) && (C === $Array || isArray(C.prototype))) C = undefined;
    else if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? $Array : C;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\array-species-create.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var arraySpeciesConstructor = __webpack_require__(/*! ../internals/array-species-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-constructor.js");

// `ArraySpeciesCreate` abstract operation
// https://tc39.es/ecma262/#sec-arrayspeciescreate
module.exports = function (originalArray, length) {
  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\call-with-safe-iteration-closing.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\call-with-safe-iteration-closing.js ***!
  \******************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js");

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\check-correctness-of-iteration.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\check-correctness-of-iteration.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');
var SAFE_CLOSING = false;

try {
  var called = 0;
  var iteratorWithReturn = {
    next: function () {
      return { done: !!called++ };
    },
    'return': function () {
      SAFE_CLOSING = true;
    }
  };
  iteratorWithReturn[ITERATOR] = function () {
    return this;
  };
  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
  Array.from(iteratorWithReturn, function () { throw 2; });
} catch (error) { /* empty */ }

module.exports = function (exec, SKIP_CLOSING) {
  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
  var ITERATION_SUPPORT = false;
  try {
    var object = {};
    object[ITERATOR] = function () {
      return {
        next: function () {
          return { done: ITERATION_SUPPORT = true };
        }
      };
    };
    exec(object);
  } catch (error) { /* empty */ }
  return ITERATION_SUPPORT;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\classof-raw.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);

module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\classof.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (error) { /* empty */ }
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
    // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O)
    // ES3 arguments fallback
    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js":
/*!*************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\copy-constructor-properties.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var ownKeys = __webpack_require__(/*! ../internals/own-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\own-keys.js");
var getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");

module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\correct-prototype-getter.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\correct-prototype-getter.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = !fails(function () {
  function F() { /* empty */ }
  F.prototype.constructor = null;
  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
  return Object.getPrototypeOf(new F()) !== F.prototype;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-html.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-html.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");

var quot = /"/g;
var replace = uncurryThis(''.replace);

// `CreateHTML` abstract operation
// https://tc39.es/ecma262/#sec-createhtml
module.exports = function (string, tag, attribute, value) {
  var S = toString(requireObjectCoercible(string));
  var p1 = '<' + tag;
  if (attribute !== '') p1 += ' ' + attribute + '="' + replace(toString(value), quot, '&quot;') + '"';
  return p1 + '>' + S + '</' + tag + '>';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-iter-result-object.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

// `CreateIterResultObject` abstract operation
// https://tc39.es/ecma262/#sec-createiterresultobject
module.exports = function (value, done) {
  return { value: value, done: done };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-non-enumerable-property.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-property-descriptor.js ***!
  \************************************************************************************************************/
/***/ ((module) => {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\create-property.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");

module.exports = function (object, key, value) {
  var propertyKey = toPropertyKey(key);
  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
  else object[propertyKey] = value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-in-accessor.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js");
var defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");

module.exports = function (target, name, descriptor) {
  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });
  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });
  return defineProperty.f(target, name, descriptor);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-in.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var makeBuiltIn = __webpack_require__(/*! ../internals/make-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");

module.exports = function (O, key, value, options) {
  if (!options) options = {};
  var simple = options.enumerable;
  var name = options.name !== undefined ? options.name : key;
  if (isCallable(value)) makeBuiltIn(value, name, options);
  if (options.global) {
    if (simple) O[key] = value;
    else defineGlobalProperty(key, value);
  } else {
    try {
      if (!options.unsafe) delete O[key];
      else if (O[key]) simple = true;
    } catch (error) { /* empty */ }
    if (simple) O[key] = value;
    else definePropertyModule.f(O, key, {
      value: value,
      enumerable: false,
      configurable: !options.nonConfigurable,
      writable: !options.nonWritable
    });
  } return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-ins.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-built-ins.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

module.exports = function (target, src, options) {
  for (var key in src) defineBuiltIn(target, key, src[key], options);
  return target;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\define-global-property.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

module.exports = function (key, value) {
  try {
    defineProperty(global, key, { value: value, configurable: true, writable: true });
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\delete-property-or-throw.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\delete-property-or-throw.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");

var $TypeError = TypeError;

module.exports = function (O, P) {
  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\descriptors.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\document-all.js ***!
  \**********************************************************************************************/
/***/ ((module) => {

var documentAll = typeof document == 'object' && document.all;

// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
var IS_HTMLDDA = typeof documentAll == 'undefined' && documentAll !== undefined;

module.exports = {
  all: documentAll,
  IS_HTMLDDA: IS_HTMLDDA
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\document-create-element.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\does-not-exceed-safe-integer.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\does-not-exceed-safe-integer.js ***!
  \**************************************************************************************************************/
/***/ ((module) => {

var $TypeError = TypeError;
var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

module.exports = function (it) {
  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');
  return it;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\dom-iterables.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

// iterable DOM collections
// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
module.exports = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\dom-token-list-prototype.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// in old WebKit versions, `element.classList` is not an instance of global `DOMTokenList`
var documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");

var classList = documentCreateElement('span').classList;
var DOMTokenListPrototype = classList && classList.constructor && classList.constructor.prototype;

module.exports = DOMTokenListPrototype === Object.prototype ? undefined : DOMTokenListPrototype;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-ff-version.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-ff-version.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var firefox = userAgent.match(/firefox\/(\d+)/i);

module.exports = !!firefox && +firefox[1];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-browser.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-browser.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var IS_DENO = __webpack_require__(/*! ../internals/engine-is-deno */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

module.exports = !IS_DENO && !IS_NODE
  && typeof window == 'object'
  && typeof document == 'object';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-deno.js ***!
  \************************************************************************************************/
/***/ ((module) => {

/* global Deno -- Deno case */
module.exports = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ie-or-edge.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ie-or-edge.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var UA = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /MSIE|Trident/.test(UA);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios-pebble.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ios-pebble.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /ipad|iphone|ipod/i.test(userAgent) && typeof Pebble != 'undefined';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-ios.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

// eslint-disable-next-line redos/no-vulnerable -- safe
module.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-node.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

module.exports = typeof process != 'undefined' && classof(process) == 'process';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-webos-webkit.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-is-webos-webkit.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

module.exports = /web0s(?!.*chrome)/i.test(userAgent);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-user-agent.js ***!
  \***************************************************************************************************/
/***/ ((module) => {

module.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-v8-version.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var process = global.process;
var Deno = global.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}

module.exports = version;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-webkit-version.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\engine-webkit-version.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var userAgent = __webpack_require__(/*! ../internals/engine-user-agent */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-user-agent.js");

var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);

module.exports = !!webkit && +webkit[1];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\enum-bug-keys.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

// IE8- don't enum bug keys
module.exports = [
  'constructor',
  'hasOwnProperty',
  'isPrototypeOf',
  'propertyIsEnumerable',
  'toLocaleString',
  'toString',
  'valueOf'
];


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\export.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");
var copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var FORCED, target, key, targetProperty, sourceProperty, descriptor;
  if (GLOBAL) {
    target = global;
  } else if (STATIC) {
    target = global[TARGET] || defineGlobalProperty(TARGET, {});
  } else {
    target = (global[TARGET] || {}).prototype;
  }
  if (target) for (key in source) {
    sourceProperty = source[key];
    if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(target, key);
      targetProperty = descriptor && descriptor.value;
    } else targetProperty = target[key];
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contained in target
    if (!FORCED && targetProperty !== undefined) {
      if (typeof sourceProperty == typeof targetProperty) continue;
      copyConstructorProperties(sourceProperty, targetProperty);
    }
    // add a flag to not completely full polyfills
    if (options.sham || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(sourceProperty, 'sham', true);
    }
    defineBuiltIn(target, key, sourceProperty, options);
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\fails.js ***!
  \***************************************************************************************/
/***/ ((module) => {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js":
/*!********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\fix-regexp-well-known-symbol-logic.js ***!
  \********************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: Remove from `core-js@4` since it's moved to entry points
__webpack_require__(/*! ../modules/es.regexp.exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this-clause */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var regexpExec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");

var SPECIES = wellKnownSymbol('species');
var RegExpPrototype = RegExp.prototype;

module.exports = function (KEY, exec, FORCED, SHAM) {
  var SYMBOL = wellKnownSymbol(KEY);

  var DELEGATES_TO_SYMBOL = !fails(function () {
    // String methods call symbol-named RegEp methods
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  });

  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {
    // Symbol-named RegExp methods call .exec
    var execCalled = false;
    var re = /a/;

    if (KEY === 'split') {
      // We can't use real regex here since it causes deoptimization
      // and serious performance degradation in V8
      // https://github.com/zloirock/core-js/issues/306
      re = {};
      // RegExp[@@split] doesn't call the regex's exec method, but first creates
      // a new one. We need to return the patched regex when creating the new one.
      re.constructor = {};
      re.constructor[SPECIES] = function () { return re; };
      re.flags = '';
      re[SYMBOL] = /./[SYMBOL];
    }

    re.exec = function () { execCalled = true; return null; };

    re[SYMBOL]('');
    return !execCalled;
  });

  if (
    !DELEGATES_TO_SYMBOL ||
    !DELEGATES_TO_EXEC ||
    FORCED
  ) {
    var uncurriedNativeRegExpMethod = uncurryThis(/./[SYMBOL]);
    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {
      var uncurriedNativeMethod = uncurryThis(nativeMethod);
      var $exec = regexp.exec;
      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {
        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
          // The native String method already delegates to @@method (this
          // polyfilled function), leasing to infinite recursion.
          // We avoid it by directly calling the native @@method method.
          return { done: true, value: uncurriedNativeRegExpMethod(regexp, str, arg2) };
        }
        return { done: true, value: uncurriedNativeMethod(str, regexp, arg2) };
      }
      return { done: false };
    });

    defineBuiltIn(String.prototype, KEY, methods[0]);
    defineBuiltIn(RegExpPrototype, SYMBOL, methods[1]);
  }

  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-apply.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var FunctionPrototype = Function.prototype;
var apply = FunctionPrototype.apply;
var call = FunctionPrototype.call;

// eslint-disable-next-line es/no-reflect -- safe
module.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {
  return call.apply(apply, arguments);
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-bind-context.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this-clause */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-bind-native.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

module.exports = !fails(function () {
  // eslint-disable-next-line es/no-function-prototype-bind -- safe
  var test = (function () { /* empty */ }).bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-call.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var call = Function.prototype.call;

module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-name.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");

var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;

var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));

module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-accessor.js":
/*!****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this-accessor.js ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");

module.exports = function (object, key, method) {
  try {
    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-clause.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this-clause.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classofRaw = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = function (fn) {
  // Nashorn bug:
  //   https://github.com/zloirock/core-js/issues/1128
  //   https://github.com/zloirock/core-js/issues/1130
  if (classofRaw(fn) === 'Function') return uncurryThis(fn);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\function-uncurry-this.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_BIND = __webpack_require__(/*! ../internals/function-bind-native */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-native.js");

var FunctionPrototype = Function.prototype;
var call = FunctionPrototype.call;
var uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);

module.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {
  return function () {
    return call.apply(fn, arguments);
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-built-in.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var aFunction = function (argument) {
  return isCallable(argument) ? argument : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-iterator-method.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');

module.exports = function (it) {
  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)
    || getMethod(it, '@@iterator')
    || Iterators[classof(it)];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-iterator.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");

var $TypeError = TypeError;

module.exports = function (argument, usingIterator) {
  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
  throw $TypeError(tryToString(argument) + ' is not iterable');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-json-replacer-function.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-json-replacer-function.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");

var push = uncurryThis([].push);

module.exports = function (replacer) {
  if (isCallable(replacer)) return replacer;
  if (!isArray(replacer)) return;
  var rawLength = replacer.length;
  var keys = [];
  for (var i = 0; i < rawLength; i++) {
    var element = replacer[i];
    if (typeof element == 'string') push(keys, element);
    else if (typeof element == 'number' || classof(element) == 'Number' || classof(element) == 'String') push(keys, toString(element));
  }
  var keysLength = keys.length;
  var root = true;
  return function (key, value) {
    if (root) {
      root = false;
      return value;
    }
    if (isArray(this)) return value;
    for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;
  };
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-method.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return isNullOrUndefined(func) ? undefined : aCallable(func);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-substitution.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\get-substitution.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

var floor = Math.floor;
var charAt = uncurryThis(''.charAt);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);
// eslint-disable-next-line redos/no-vulnerable -- safe
var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d{1,2}|<[^>]*>)/g;
var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d{1,2})/g;

// `GetSubstitution` abstract operation
// https://tc39.es/ecma262/#sec-getsubstitution
module.exports = function (matched, str, position, captures, namedCaptures, replacement) {
  var tailPos = position + matched.length;
  var m = captures.length;
  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
  if (namedCaptures !== undefined) {
    namedCaptures = toObject(namedCaptures);
    symbols = SUBSTITUTION_SYMBOLS;
  }
  return replace(replacement, symbols, function (match, ch) {
    var capture;
    switch (charAt(ch, 0)) {
      case '$': return '$';
      case '&': return matched;
      case '`': return stringSlice(str, 0, position);
      case "'": return stringSlice(str, tailPos);
      case '<':
        capture = namedCaptures[stringSlice(ch, 1, -1)];
        break;
      default: // \d\d?
        var n = +ch;
        if (n === 0) return match;
        if (n > m) {
          var f = floor(n / 10);
          if (f === 0) return match;
          if (f <= m) return captures[f - 1] === undefined ? charAt(ch, 1) : captures[f - 1] + charAt(ch, 1);
          return match;
        }
        capture = captures[n - 1];
    }
    return capture === undefined ? '' : capture;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\global.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var check = function (it) {
  return it && it.Math == Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof __webpack_require__.g == 'object' && __webpack_require__.g) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || Function('return this')();


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\has-own-property.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\hidden-keys.js ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = {};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\host-report-errors.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\host-report-errors.js ***!
  \****************************************************************************************************/
/***/ ((module) => {

module.exports = function (a, b) {
  try {
    // eslint-disable-next-line no-console -- safe
    arguments.length == 1 ? console.error(a) : console.error(a, b);
  } catch (error) { /* empty */ }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\html.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\ie8-dom-define.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var createElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a != 7;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\indexed-object.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) == 'String' ? split(it, '') : $Object(it);
} : $Object;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inherit-if-required.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\inherit-if-required.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");

// makes subclassing work correct for wrapped built-ins
module.exports = function ($this, dummy, Wrapper) {
  var NewTarget, NewTargetPrototype;
  if (
    // it can work only with native `setPrototypeOf`
    setPrototypeOf &&
    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this
    isCallable(NewTarget = dummy.constructor) &&
    NewTarget !== Wrapper &&
    isObject(NewTargetPrototype = NewTarget.prototype) &&
    NewTargetPrototype !== Wrapper.prototype
  ) setPrototypeOf($this, NewTargetPrototype);
  return $this;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\inspect-source.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var store = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");

var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}

module.exports = store.inspectSource;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\internal-state.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/weak-map-basic-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\weak-map-basic-detection.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var shared = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");

var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = global.TypeError;
var WeakMap = global.WeakMap;
var set, get, has;

var enforce = function (it) {
  return has(it) ? get(it) : set(it, {});
};

var getterFor = function (TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw TypeError('Incompatible receiver, ' + TYPE + ' required');
    } return state;
  };
};

if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  /* eslint-disable no-self-assign -- prototype methods protection */
  store.get = store.get;
  store.has = store.has;
  store.set = store.set;
  /* eslint-enable no-self-assign -- prototype methods protection */
  set = function (it, metadata) {
    if (store.has(it)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    store.set(it, metadata);
    return metadata;
  };
  get = function (it) {
    return store.get(it) || {};
  };
  has = function (it) {
    return store.has(it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function (it, metadata) {
    if (hasOwn(it, STATE)) throw TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function (it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function (it) {
    return hasOwn(it, STATE);
  };
}

module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-array-iterator-method.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");

var ITERATOR = wellKnownSymbol('iterator');
var ArrayPrototype = Array.prototype;

// check on default Array iterator
module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-array.js ***!
  \******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");

// `IsArray` abstract operation
// https://tc39.es/ecma262/#sec-isarray
// eslint-disable-next-line es/no-array-isarray -- safe
module.exports = Array.isArray || function isArray(argument) {
  return classof(argument) == 'Array';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-callable.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var $documentAll = __webpack_require__(/*! ../internals/document-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js");

var documentAll = $documentAll.all;

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
module.exports = $documentAll.IS_HTMLDDA ? function (argument) {
  return typeof argument == 'function' || argument === documentAll;
} : function (argument) {
  return typeof argument == 'function';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-constructor.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");

var noop = function () { /* empty */ };
var empty = [];
var construct = getBuiltIn('Reflect', 'construct');
var constructorRegExp = /^\s*(?:class|function)\b/;
var exec = uncurryThis(constructorRegExp.exec);
var INCORRECT_TO_STRING = !constructorRegExp.exec(noop);

var isConstructorModern = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  try {
    construct(noop, empty, argument);
    return true;
  } catch (error) {
    return false;
  }
};

var isConstructorLegacy = function isConstructor(argument) {
  if (!isCallable(argument)) return false;
  switch (classof(argument)) {
    case 'AsyncFunction':
    case 'GeneratorFunction':
    case 'AsyncGeneratorFunction': return false;
  }
  try {
    // we can't check .prototype since constructors produced by .bind haven't it
    // `Function#toString` throws on some built-it function in some legacy engines
    // (for example, `DOMQuad` and similar in FF41-)
    return INCORRECT_TO_STRING || !!exec(constructorRegExp, inspectSource(argument));
  } catch (error) {
    return true;
  }
};

isConstructorLegacy.sham = true;

// `IsConstructor` abstract operation
// https://tc39.es/ecma262/#sec-isconstructor
module.exports = !construct || fails(function () {
  var called;
  return isConstructorModern(isConstructorModern.call)
    || !isConstructorModern(Object)
    || !isConstructorModern(function () { called = true; })
    || called;
}) ? isConstructorLegacy : isConstructorModern;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-forced.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
    : isCallable(detection) ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-null-or-undefined.js ***!
  \******************************************************************************************************/
/***/ ((module) => {

// we can't use just `it == null` since of `document.all` special case
// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
module.exports = function (it) {
  return it === null || it === undefined;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var $documentAll = __webpack_require__(/*! ../internals/document-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-all.js");

var documentAll = $documentAll.all;

module.exports = $documentAll.IS_HTMLDDA ? function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it) || it === documentAll;
} : function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-pure.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = false;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\is-symbol.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js");

var $Object = Object;

module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterate.js ***!
  \*****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var isArrayIteratorMethod = __webpack_require__(/*! ../internals/is-array-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array-iterator-method.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");
var iteratorClose = __webpack_require__(/*! ../internals/iterator-close */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js");

var $TypeError = TypeError;

var Result = function (stopped, result) {
  this.stopped = stopped;
  this.result = result;
};

var ResultPrototype = Result.prototype;

module.exports = function (iterable, unboundFunction, options) {
  var that = options && options.that;
  var AS_ENTRIES = !!(options && options.AS_ENTRIES);
  var IS_RECORD = !!(options && options.IS_RECORD);
  var IS_ITERATOR = !!(options && options.IS_ITERATOR);
  var INTERRUPTED = !!(options && options.INTERRUPTED);
  var fn = bind(unboundFunction, that);
  var iterator, iterFn, index, length, result, next, step;

  var stop = function (condition) {
    if (iterator) iteratorClose(iterator, 'normal', condition);
    return new Result(true, condition);
  };

  var callFn = function (value) {
    if (AS_ENTRIES) {
      anObject(value);
      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
    } return INTERRUPTED ? fn(value, stop) : fn(value);
  };

  if (IS_RECORD) {
    iterator = iterable.iterator;
  } else if (IS_ITERATOR) {
    iterator = iterable;
  } else {
    iterFn = getIteratorMethod(iterable);
    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');
    // optimisation for array iterators
    if (isArrayIteratorMethod(iterFn)) {
      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
        result = callFn(iterable[index]);
        if (result && isPrototypeOf(ResultPrototype, result)) return result;
      } return new Result(false);
    }
    iterator = getIterator(iterable, iterFn);
  }

  next = IS_RECORD ? iterable.next : iterator.next;
  while (!(step = call(next, iterator)).done) {
    try {
      result = callFn(step.value);
    } catch (error) {
      iteratorClose(iterator, 'throw', error);
    }
    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;
  } return new Result(false);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-close.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-close.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");

module.exports = function (iterator, kind, value) {
  var innerResult, innerError;
  anObject(iterator);
  try {
    innerResult = getMethod(iterator, 'return');
    if (!innerResult) {
      if (kind === 'throw') throw value;
      return value;
    }
    innerResult = call(innerResult, iterator);
  } catch (error) {
    innerError = true;
    innerResult = error;
  }
  if (kind === 'throw') throw value;
  if (innerError) throw innerResult;
  anObject(innerResult);
  return value;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js":
/*!*************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-create-constructor.js ***!
  \*************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var IteratorPrototype = (__webpack_require__(/*! ../internals/iterators-core */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js").IteratorPrototype);
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");

var returnThis = function () { return this; };

module.exports = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
  var TO_STRING_TAG = NAME + ' Iterator';
  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(+!ENUMERABLE_NEXT, next) });
  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
  Iterators[TO_STRING_TAG] = returnThis;
  return IteratorConstructor;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterator-define.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var FunctionName = __webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js");
var getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var IteratorsCore = __webpack_require__(/*! ../internals/iterators-core */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js");

var PROPER_FUNCTION_NAME = FunctionName.PROPER;
var CONFIGURABLE_FUNCTION_NAME = FunctionName.CONFIGURABLE;
var IteratorPrototype = IteratorsCore.IteratorPrototype;
var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
var ITERATOR = wellKnownSymbol('iterator');
var KEYS = 'keys';
var VALUES = 'values';
var ENTRIES = 'entries';

var returnThis = function () { return this; };

module.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
  createIteratorConstructor(IteratorConstructor, NAME, next);

  var getIterationMethod = function (KIND) {
    if (KIND === DEFAULT && defaultIterator) return defaultIterator;
    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];
    switch (KIND) {
      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };
      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };
      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };
    } return function () { return new IteratorConstructor(this); };
  };

  var TO_STRING_TAG = NAME + ' Iterator';
  var INCORRECT_VALUES_NAME = false;
  var IterablePrototype = Iterable.prototype;
  var nativeIterator = IterablePrototype[ITERATOR]
    || IterablePrototype['@@iterator']
    || DEFAULT && IterablePrototype[DEFAULT];
  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
  var CurrentIteratorPrototype, methods, KEY;

  // fix native
  if (anyNativeIterator) {
    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
    if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
        if (setPrototypeOf) {
          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
        } else if (!isCallable(CurrentIteratorPrototype[ITERATOR])) {
          defineBuiltIn(CurrentIteratorPrototype, ITERATOR, returnThis);
        }
      }
      // Set @@toStringTag to native iterators
      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;
    }
  }

  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
  if (PROPER_FUNCTION_NAME && DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
    if (!IS_PURE && CONFIGURABLE_FUNCTION_NAME) {
      createNonEnumerableProperty(IterablePrototype, 'name', VALUES);
    } else {
      INCORRECT_VALUES_NAME = true;
      defaultIterator = function values() { return call(nativeIterator, this); };
    }
  }

  // export additional methods
  if (DEFAULT) {
    methods = {
      values: getIterationMethod(VALUES),
      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
      entries: getIterationMethod(ENTRIES)
    };
    if (FORCED) for (KEY in methods) {
      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
        defineBuiltIn(IterablePrototype, KEY, methods[KEY]);
      }
    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
  }

  // define iterator
  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
    defineBuiltIn(IterablePrototype, ITERATOR, defaultIterator, { name: DEFAULT });
  }
  Iterators[NAME] = defaultIterator;

  return methods;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators-core.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterators-core.js ***!
  \************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var getPrototypeOf = __webpack_require__(/*! ../internals/object-get-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");

var ITERATOR = wellKnownSymbol('iterator');
var BUGGY_SAFARI_ITERATORS = false;

// `%IteratorPrototype%` object
// https://tc39.es/ecma262/#sec-%iteratorprototype%-object
var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;

/* eslint-disable es/no-array-prototype-keys -- safe */
if ([].keys) {
  arrayIterator = [].keys();
  // Safari 8 has buggy iterators w/o `next`
  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;
  else {
    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
  }
}

var NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {
  var test = {};
  // FF44- legacy iterators case
  return IteratorPrototype[ITERATOR].call(test) !== test;
});

if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};
else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);

// `%IteratorPrototype%[@@iterator]()` method
// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
if (!isCallable(IteratorPrototype[ITERATOR])) {
  defineBuiltIn(IteratorPrototype, ITERATOR, function () {
    return this;
  });
}

module.exports = {
  IteratorPrototype: IteratorPrototype,
  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\iterators.js ***!
  \*******************************************************************************************/
/***/ ((module) => {

module.exports = {};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\length-of-array-like.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\make-built-in.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\make-built-in.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var CONFIGURABLE_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").CONFIGURABLE);
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");

var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
var $String = String;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;
var stringSlice = uncurryThis(''.slice);
var replace = uncurryThis(''.replace);
var join = uncurryThis([].join);

var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {
  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;
});

var TEMPLATE = String(String).split('String');

var makeBuiltIn = module.exports = function (value, name, options) {
  if (stringSlice($String(name), 0, 7) === 'Symbol(') {
    name = '[' + replace($String(name), /^Symbol\(([^)]*)\)/, '$1') + ']';
  }
  if (options && options.getter) name = 'get ' + name;
  if (options && options.setter) name = 'set ' + name;
  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {
    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });
    else value.name = name;
  }
  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
    defineProperty(value, 'length', { value: options.arity });
  }
  try {
    if (options && hasOwn(options, 'constructor') && options.constructor) {
      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });
    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
    } else if (value.prototype) value.prototype = undefined;
  } catch (error) { /* empty */ }
  var state = enforceInternalState(value);
  if (!hasOwn(state, 'source')) {
    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');
  } return value;
};

// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString = makeBuiltIn(function toString() {
  return isCallable(this) && getInternalState(this).source || inspectSource(this);
}, 'toString');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\math-trunc.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\math-trunc.js ***!
  \********************************************************************************************/
/***/ ((module) => {

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\microtask.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\microtask.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var macrotask = (__webpack_require__(/*! ../internals/task */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js").set);
var Queue = __webpack_require__(/*! ../internals/queue */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js");
var IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js");
var IS_IOS_PEBBLE = __webpack_require__(/*! ../internals/engine-is-ios-pebble */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios-pebble.js");
var IS_WEBOS_WEBKIT = __webpack_require__(/*! ../internals/engine-is-webos-webkit */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-webos-webkit.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

var MutationObserver = global.MutationObserver || global.WebKitMutationObserver;
var document = global.document;
var process = global.process;
var Promise = global.Promise;
// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`
var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');
var microtask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
var notify, toggle, node, promise, then;

// modern engines have queueMicrotask method
if (!microtask) {
  var queue = new Queue();

  var flush = function () {
    var parent, fn;
    if (IS_NODE && (parent = process.domain)) parent.exit();
    while (fn = queue.get()) try {
      fn();
    } catch (error) {
      if (queue.head) notify();
      throw error;
    }
    if (parent) parent.enter();
  };

  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339
  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898
  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {
    toggle = true;
    node = document.createTextNode('');
    new MutationObserver(flush).observe(node, { characterData: true });
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (!IS_IOS_PEBBLE && Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    promise = Promise.resolve(undefined);
    // workaround of WebKit ~ iOS Safari 10.1 bug
    promise.constructor = Promise;
    then = bind(promise.then, promise);
    notify = function () {
      then(flush);
    };
  // Node.js without promises
  } else if (IS_NODE) {
    notify = function () {
      process.nextTick(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessage
  // - onreadystatechange
  // - setTimeout
  } else {
    // `webpack` dev server bug on IE global methods - use bind(fn, global)
    macrotask = bind(macrotask, global);
    notify = function () {
      macrotask(flush);
    };
  }

  microtask = function (fn) {
    if (!queue.head) notify();
    queue.add(fn);
  };
}

module.exports = microtask;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\new-promise-capability.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");

var $TypeError = TypeError;

var PromiseCapability = function (C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw $TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aCallable(resolve);
  this.reject = aCallable(reject);
};

// `NewPromiseCapability` abstract operation
// https://tc39.es/ecma262/#sec-newpromisecapability
module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-assign.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-assign.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");

// eslint-disable-next-line es/no-object-assign -- safe
var $assign = Object.assign;
// eslint-disable-next-line es/no-object-defineproperty -- required for testing
var defineProperty = Object.defineProperty;
var concat = uncurryThis([].concat);

// `Object.assign` method
// https://tc39.es/ecma262/#sec-object.assign
module.exports = !$assign || fails(function () {
  // should have correct order of operations (Edge bug)
  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {
    enumerable: true,
    get: function () {
      defineProperty(this, 'b', {
        value: 3,
        enumerable: false
      });
    }
  }), { b: 2 })).b !== 1) return true;
  // should work with symbols and should have deterministic property order (V8 bug)
  var A = {};
  var B = {};
  // eslint-disable-next-line es/no-symbol -- safe
  var symbol = Symbol();
  var alphabet = 'abcdefghijklmnopqrst';
  A[symbol] = 7;
  alphabet.split('').forEach(function (chr) { B[chr] = chr; });
  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
  var T = toObject(target);
  var argumentsLength = arguments.length;
  var index = 1;
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  var propertyIsEnumerable = propertyIsEnumerableModule.f;
  while (argumentsLength > index) {
    var S = IndexedObject(arguments[index++]);
    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) {
      key = keys[j++];
      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];
    }
  } return T;
} : $assign;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-create.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var definePropertiesModule = __webpack_require__(/*! ../internals/object-define-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");
var html = __webpack_require__(/*! ../internals/html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js");
var documentCreateElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-define-properties.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-define-property.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js");
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(/*! ../internals/v8-prototype-define-bug */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");

var $TypeError = TypeError;
// eslint-disable-next-line es/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  } return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js":
/*!********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-descriptor.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var IE8_DOM_DEFINE = __webpack_require__(/*! ../internals/ie8-dom-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ie8-dom-define.js");

// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names-external.js":
/*!************************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-names-external.js ***!
  \************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-object-getownpropertynames -- safe */
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var $getOwnPropertyNames = (__webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js").f);
var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return $getOwnPropertyNames(it);
  } catch (error) {
    return arraySlice(windowNames);
  }
};

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && classof(it) == 'Window'
    ? getWindowNames(it)
    : $getOwnPropertyNames(toIndexedObject(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-names.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");

var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js":
/*!*****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-own-property-symbols.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-prototype-of.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-get-prototype-of.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(/*! ../internals/correct-prototype-getter */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\correct-prototype-getter.js");

var IE_PROTO = sharedKey('IE_PROTO');
var $Object = Object;
var ObjectPrototype = $Object.prototype;

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es/no-object-getprototypeof -- safe
module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {
  var object = toObject(O);
  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
  var constructor = object.constructor;
  if (isCallable(constructor) && object instanceof constructor) {
    return constructor.prototype;
  } return object instanceof $Object ? ObjectPrototype : null;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-is-prototype-of.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

module.exports = uncurryThis({}.isPrototypeOf);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-keys-internal.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var indexOf = (__webpack_require__(/*! ../internals/array-includes */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-includes.js").indexOf);
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");

var push = uncurryThis([].push);

module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-keys.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var internalObjectKeys = __webpack_require__(/*! ../internals/object-keys-internal */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys-internal.js");
var enumBugKeys = __webpack_require__(/*! ../internals/enum-bug-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\enum-bug-keys.js");

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-property-is-enumerable.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-set-prototype-of.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable no-proto -- safe */
var uncurryThisAccessor = __webpack_require__(/*! ../internals/function-uncurry-this-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this-accessor.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var aPossiblePrototype = __webpack_require__(/*! ../internals/a-possible-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-possible-prototype.js");

// `Object.setPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.setprototypeof
// Works with __proto__ only. Old v8 can't work with null proto objects.
// eslint-disable-next-line es/no-object-setprototypeof -- safe
module.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {
  var CORRECT_SETTER = false;
  var test = {};
  var setter;
  try {
    setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');
    setter(test, []);
    CORRECT_SETTER = test instanceof Array;
  } catch (error) { /* empty */ }
  return function setPrototypeOf(O, proto) {
    anObject(O);
    aPossiblePrototype(proto);
    if (CORRECT_SETTER) setter(O, proto);
    else O.__proto__ = proto;
    return O;
  };
}() : undefined);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-to-string.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\object-to-string.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");

// `Object.prototype.toString` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.tostring
module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
  return '[object ' + classof(this) + ']';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ordinary-to-primitive.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\ordinary-to-primitive.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");

var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw $TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\own-keys.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\own-keys.js ***!
  \******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");

var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\path.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

module.exports = global;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\perform.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

module.exports = function (exec) {
  try {
    return { error: false, value: exec() };
  } catch (error) {
    return { error: true, value: error };
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js":
/*!***************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-constructor-detection.js ***!
  \***************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");
var inspectSource = __webpack_require__(/*! ../internals/inspect-source */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inspect-source.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var IS_BROWSER = __webpack_require__(/*! ../internals/engine-is-browser */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-browser.js");
var IS_DENO = __webpack_require__(/*! ../internals/engine-is-deno */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-deno.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var SPECIES = wellKnownSymbol('species');
var SUBCLASSING = false;
var NATIVE_PROMISE_REJECTION_EVENT = isCallable(global.PromiseRejectionEvent);

var FORCED_PROMISE_CONSTRUCTOR = isForced('Promise', function () {
  var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor);
  var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor);
  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
  // We can't detect it synchronously, so just check versions
  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;
  // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution
  if (IS_PURE && !(NativePromisePrototype['catch'] && NativePromisePrototype['finally'])) return true;
  // We can't use @@species feature detection in V8 since it causes
  // deoptimization and performance degradation
  // https://github.com/zloirock/core-js/issues/679
  if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {
    // Detect correctness of subclassing with @@species support
    var promise = new NativePromiseConstructor(function (resolve) { resolve(1); });
    var FakePromise = function (exec) {
      exec(function () { /* empty */ }, function () { /* empty */ });
    };
    var constructor = promise.constructor = {};
    constructor[SPECIES] = FakePromise;
    SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;
    if (!SUBCLASSING) return true;
  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
  } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT;
});

module.exports = {
  CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR,
  REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT,
  SUBCLASSING: SUBCLASSING
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-native-constructor.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

module.exports = global.Promise;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-resolve.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-resolve.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var newPromiseCapability = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js":
/*!*********************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\promise-statics-incorrect-iteration.js ***!
  \*********************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var checkCorrectnessOfIteration = __webpack_require__(/*! ../internals/check-correctness-of-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\check-correctness-of-iteration.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);

module.exports = FORCED_PROMISE_CONSTRUCTOR || !checkCorrectnessOfIteration(function (iterable) {
  NativePromiseConstructor.all(iterable).then(undefined, function () { /* empty */ });
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\queue.js ***!
  \***************************************************************************************/
/***/ ((module) => {

var Queue = function () {
  this.head = null;
  this.tail = null;
};

Queue.prototype = {
  add: function (item) {
    var entry = { item: item, next: null };
    var tail = this.tail;
    if (tail) tail.next = entry;
    else this.head = entry;
    this.tail = entry;
  },
  get: function () {
    var entry = this.head;
    if (entry) {
      var next = this.head = entry.next;
      if (next === null) this.tail = null;
      return entry.item;
    }
  }
};

module.exports = Queue;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-exec-abstract.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var classof = __webpack_require__(/*! ../internals/classof-raw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof-raw.js");
var regexpExec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");

var $TypeError = TypeError;

// `RegExpExec` abstract operation
// https://tc39.es/ecma262/#sec-regexpexec
module.exports = function (R, S) {
  var exec = R.exec;
  if (isCallable(exec)) {
    var result = call(exec, R, S);
    if (result !== null) anObject(result);
    return result;
  }
  if (classof(R) === 'RegExp') return call(regexpExec, R, S);
  throw $TypeError('RegExp#exec called on incompatible receiver');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-exec.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

/* eslint-disable regexp/no-empty-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */
/* eslint-disable regexp/no-useless-quantifier -- testing */
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var regexpFlags = __webpack_require__(/*! ../internals/regexp-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js");
var stickyHelpers = __webpack_require__(/*! ../internals/regexp-sticky-helpers */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-sticky-helpers.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var getInternalState = (__webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js").get);
var UNSUPPORTED_DOT_ALL = __webpack_require__(/*! ../internals/regexp-unsupported-dot-all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-dot-all.js");
var UNSUPPORTED_NCG = __webpack_require__(/*! ../internals/regexp-unsupported-ncg */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-ncg.js");

var nativeReplace = shared('native-string-replace', String.prototype.replace);
var nativeExec = RegExp.prototype.exec;
var patchedExec = nativeExec;
var charAt = uncurryThis(''.charAt);
var indexOf = uncurryThis(''.indexOf);
var replace = uncurryThis(''.replace);
var stringSlice = uncurryThis(''.slice);

var UPDATES_LAST_INDEX_WRONG = (function () {
  var re1 = /a/;
  var re2 = /b*/g;
  call(nativeExec, re1, 'a');
  call(nativeExec, re2, 'a');
  return re1.lastIndex !== 0 || re2.lastIndex !== 0;
})();

var UNSUPPORTED_Y = stickyHelpers.BROKEN_CARET;

// nonparticipating capturing group, copied from es5-shim's String#split patch.
var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;

if (PATCH) {
  patchedExec = function exec(string) {
    var re = this;
    var state = getInternalState(re);
    var str = toString(string);
    var raw = state.raw;
    var result, reCopy, lastIndex, match, i, object, group;

    if (raw) {
      raw.lastIndex = re.lastIndex;
      result = call(patchedExec, raw, str);
      re.lastIndex = raw.lastIndex;
      return result;
    }

    var groups = state.groups;
    var sticky = UNSUPPORTED_Y && re.sticky;
    var flags = call(regexpFlags, re);
    var source = re.source;
    var charsAdded = 0;
    var strCopy = str;

    if (sticky) {
      flags = replace(flags, 'y', '');
      if (indexOf(flags, 'g') === -1) {
        flags += 'g';
      }

      strCopy = stringSlice(str, re.lastIndex);
      // Support anchored sticky behavior.
      if (re.lastIndex > 0 && (!re.multiline || re.multiline && charAt(str, re.lastIndex - 1) !== '\n')) {
        source = '(?: ' + source + ')';
        strCopy = ' ' + strCopy;
        charsAdded++;
      }
      // ^(? + rx + ) is needed, in combination with some str slicing, to
      // simulate the 'y' flag.
      reCopy = new RegExp('^(?:' + source + ')', flags);
    }

    if (NPCG_INCLUDED) {
      reCopy = new RegExp('^' + source + '$(?!\\s)', flags);
    }
    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;

    match = call(nativeExec, sticky ? reCopy : re, strCopy);

    if (sticky) {
      if (match) {
        match.input = stringSlice(match.input, charsAdded);
        match[0] = stringSlice(match[0], charsAdded);
        match.index = re.lastIndex;
        re.lastIndex += match[0].length;
      } else re.lastIndex = 0;
    } else if (UPDATES_LAST_INDEX_WRONG && match) {
      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
    }
    if (NPCG_INCLUDED && match && match.length > 1) {
      // Fix browsers whose `exec` methods don't consistently return `undefined`
      // for NPCG, like IE8. NOTE: This doesn't work for /(.?)?/
      call(nativeReplace, match[0], reCopy, function () {
        for (i = 1; i < arguments.length - 2; i++) {
          if (arguments[i] === undefined) match[i] = undefined;
        }
      });
    }

    if (match && groups) {
      match.groups = object = create(null);
      for (i = 0; i < groups.length; i++) {
        group = groups[i];
        object[group[0]] = match[group[1]];
      }
    }

    return match;
  };
}

module.exports = patchedExec;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-flags.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");

// `RegExp.prototype.flags` getter implementation
// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.hasIndices) result += 'd';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.dotAll) result += 's';
  if (that.unicode) result += 'u';
  if (that.unicodeSets) result += 'v';
  if (that.sticky) result += 'y';
  return result;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-get-flags.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-get-flags.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var regExpFlags = __webpack_require__(/*! ../internals/regexp-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-flags.js");

var RegExpPrototype = RegExp.prototype;

module.exports = function (R) {
  var flags = R.flags;
  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)
    ? call(regExpFlags, R) : flags;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-sticky-helpers.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-sticky-helpers.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError
var $RegExp = global.RegExp;

var UNSUPPORTED_Y = fails(function () {
  var re = $RegExp('a', 'y');
  re.lastIndex = 2;
  return re.exec('abcd') != null;
});

// UC Browser bug
// https://github.com/zloirock/core-js/issues/1008
var MISSED_STICKY = UNSUPPORTED_Y || fails(function () {
  return !$RegExp('a', 'y').sticky;
});

var BROKEN_CARET = UNSUPPORTED_Y || fails(function () {
  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687
  var re = $RegExp('^r', 'gy');
  re.lastIndex = 2;
  return re.exec('str') != null;
});

module.exports = {
  BROKEN_CARET: BROKEN_CARET,
  MISSED_STICKY: MISSED_STICKY,
  UNSUPPORTED_Y: UNSUPPORTED_Y
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-dot-all.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-unsupported-dot-all.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('.', 's') -> /./s and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('.', 's');
  return !(re.dotAll && re.exec('\n') && re.flags === 's');
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-unsupported-ncg.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\regexp-unsupported-ncg.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");

// babel-minify and Closure Compiler transpiles RegExp('(?<a>b)', 'g') -> /(?<a>b)/g and it causes SyntaxError
var $RegExp = global.RegExp;

module.exports = fails(function () {
  var re = $RegExp('(?<a>b)', 'g');
  return re.exec('b').groups.a !== 'b' ||
    'b'.replace(re, '$<a>c') !== 'bc';
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\require-object-coercible.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");

var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (isNullOrUndefined(it)) throw $TypeError("Can't call method on " + it);
  return it;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-species.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\set-species.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");

var SPECIES = wellKnownSymbol('species');

module.exports = function (CONSTRUCTOR_NAME) {
  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);

  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
    defineBuiltInAccessor(Constructor, SPECIES, {
      configurable: true,
      get: function () { return this; }
    });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\set-to-string-tag.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

module.exports = function (target, TAG, STATIC) {
  if (target && !STATIC) target = target.prototype;
  if (target && !hasOwn(target, TO_STRING_TAG)) {
    defineProperty(target, TO_STRING_TAG, { configurable: true, value: TAG });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js":
/*!********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared-key.js ***!
  \********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");

var keys = shared('keys');

module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared-store.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var defineGlobalProperty = __webpack_require__(/*! ../internals/define-global-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-global-property.js");

var SHARED = '__core-js_shared__';
var store = global[SHARED] || defineGlobalProperty(SHARED, {});

module.exports = store;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js":
/*!****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\shared.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var store = __webpack_require__(/*! ../internals/shared-store */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-store.js");

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.29.0',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2014-2023 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\species-constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\species-constructor.js ***!
  \*****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var aConstructor = __webpack_require__(/*! ../internals/a-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-constructor.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var SPECIES = wellKnownSymbol('species');

// `SpeciesConstructor` abstract operation
// https://tc39.es/ecma262/#sec-speciesconstructor
module.exports = function (O, defaultConstructor) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || isNullOrUndefined(S = anObject(C)[SPECIES]) ? defaultConstructor : aConstructor(S);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-html-forced.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-html-forced.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// check the existence of a method, lowercase
// of a tag and escaping quotes in arguments
module.exports = function (METHOD_NAME) {
  return fails(function () {
    var test = ''[METHOD_NAME]('"');
    return test !== test.toLowerCase() || test.split('"').length > 3;
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-multibyte.js ***!
  \**************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var stringSlice = uncurryThis(''.slice);

var createMethod = function (CONVERT_TO_STRING) {
  return function ($this, pos) {
    var S = toString(requireObjectCoercible($this));
    var position = toIntegerOrInfinity(pos);
    var size = S.length;
    var first, second;
    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
    first = charCodeAt(S, position);
    return first < 0xD800 || first > 0xDBFF || position + 1 === size
      || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
        ? CONVERT_TO_STRING
          ? charAt(S, position)
          : first
        : CONVERT_TO_STRING
          ? stringSlice(S, position, position + 2)
          : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
  };
};

module.exports = {
  // `String.prototype.codePointAt` method
  // https://tc39.es/ecma262/#sec-string.prototype.codepointat
  codeAt: createMethod(false),
  // `String.prototype.at` method
  // https://github.com/mathiasbynens/String.prototype.at
  charAt: createMethod(true)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-punycode-to-ascii.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-punycode-to-ascii.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// based on https://github.com/bestiejs/punycode.js/blob/master/punycode.js
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1
var base = 36;
var tMin = 1;
var tMax = 26;
var skew = 38;
var damp = 700;
var initialBias = 72;
var initialN = 128; // 0x80
var delimiter = '-'; // '\x2D'
var regexNonASCII = /[^\0-\u007E]/; // non-ASCII chars
var regexSeparators = /[.\u3002\uFF0E\uFF61]/g; // RFC 3490 separators
var OVERFLOW_ERROR = 'Overflow: input needs wider integers to process';
var baseMinusTMin = base - tMin;

var $RangeError = RangeError;
var exec = uncurryThis(regexSeparators.exec);
var floor = Math.floor;
var fromCharCode = String.fromCharCode;
var charCodeAt = uncurryThis(''.charCodeAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var split = uncurryThis(''.split);
var toLowerCase = uncurryThis(''.toLowerCase);

/**
 * Creates an array containing the numeric code points of each Unicode
 * character in the string. While JavaScript uses UCS-2 internally,
 * this function will convert a pair of surrogate halves (each of which
 * UCS-2 exposes as separate characters) into a single code point,
 * matching UTF-16.
 */
var ucs2decode = function (string) {
  var output = [];
  var counter = 0;
  var length = string.length;
  while (counter < length) {
    var value = charCodeAt(string, counter++);
    if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
      // It's a high surrogate, and there is a next character.
      var extra = charCodeAt(string, counter++);
      if ((extra & 0xFC00) == 0xDC00) { // Low surrogate.
        push(output, ((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
      } else {
        // It's an unmatched surrogate; only append this code unit, in case the
        // next code unit is the high surrogate of a surrogate pair.
        push(output, value);
        counter--;
      }
    } else {
      push(output, value);
    }
  }
  return output;
};

/**
 * Converts a digit/integer into a basic code point.
 */
var digitToBasic = function (digit) {
  //  0..25 map to ASCII a..z or A..Z
  // 26..35 map to ASCII 0..9
  return digit + 22 + 75 * (digit < 26);
};

/**
 * Bias adaptation function as per section 3.4 of RFC 3492.
 * https://tools.ietf.org/html/rfc3492#section-3.4
 */
var adapt = function (delta, numPoints, firstTime) {
  var k = 0;
  delta = firstTime ? floor(delta / damp) : delta >> 1;
  delta += floor(delta / numPoints);
  while (delta > baseMinusTMin * tMax >> 1) {
    delta = floor(delta / baseMinusTMin);
    k += base;
  }
  return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
};

/**
 * Converts a string of Unicode symbols (e.g. a domain name label) to a
 * Punycode string of ASCII-only symbols.
 */
var encode = function (input) {
  var output = [];

  // Convert the input in UCS-2 to an array of Unicode code points.
  input = ucs2decode(input);

  // Cache the length.
  var inputLength = input.length;

  // Initialize the state.
  var n = initialN;
  var delta = 0;
  var bias = initialBias;
  var i, currentValue;

  // Handle the basic code points.
  for (i = 0; i < input.length; i++) {
    currentValue = input[i];
    if (currentValue < 0x80) {
      push(output, fromCharCode(currentValue));
    }
  }

  var basicLength = output.length; // number of basic code points.
  var handledCPCount = basicLength; // number of code points that have been handled;

  // Finish the basic string with a delimiter unless it's empty.
  if (basicLength) {
    push(output, delimiter);
  }

  // Main encoding loop:
  while (handledCPCount < inputLength) {
    // All non-basic code points < n have been handled already. Find the next larger one:
    var m = maxInt;
    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue >= n && currentValue < m) {
        m = currentValue;
      }
    }

    // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>, but guard against overflow.
    var handledCPCountPlusOne = handledCPCount + 1;
    if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
      throw $RangeError(OVERFLOW_ERROR);
    }

    delta += (m - n) * handledCPCountPlusOne;
    n = m;

    for (i = 0; i < input.length; i++) {
      currentValue = input[i];
      if (currentValue < n && ++delta > maxInt) {
        throw $RangeError(OVERFLOW_ERROR);
      }
      if (currentValue == n) {
        // Represent delta as a generalized variable-length integer.
        var q = delta;
        var k = base;
        while (true) {
          var t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
          if (q < t) break;
          var qMinusT = q - t;
          var baseMinusT = base - t;
          push(output, fromCharCode(digitToBasic(t + qMinusT % baseMinusT)));
          q = floor(qMinusT / baseMinusT);
          k += base;
        }

        push(output, fromCharCode(digitToBasic(q)));
        bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
        delta = 0;
        handledCPCount++;
      }
    }

    delta++;
    n++;
  }
  return join(output, '');
};

module.exports = function (input) {
  var encoded = [];
  var labels = split(replace(toLowerCase(input), regexSeparators, '\u002E'), '.');
  var i, label;
  for (i = 0; i < labels.length; i++) {
    label = labels[i];
    push(encoded, exec(regexNonASCII, label) ? 'xn--' + encode(label) : label);
  }
  return join(encoded, '.');
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim-forced.js":
/*!****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-trim-forced.js ***!
  \****************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var PROPER_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").PROPER);
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js");

var non = '\u200B\u0085\u180E';

// check that a method works with the correct list
// of whitespaces and has a correct name
module.exports = function (METHOD_NAME) {
  return fails(function () {
    return !!whitespaces[METHOD_NAME]()
      || non[METHOD_NAME]() !== non
      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\string-trim.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var whitespaces = __webpack_require__(/*! ../internals/whitespaces */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js");

var replace = uncurryThis(''.replace);
var ltrim = RegExp('^[' + whitespaces + ']+');
var rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');

// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation
var createMethod = function (TYPE) {
  return function ($this) {
    var string = toString(requireObjectCoercible($this));
    if (TYPE & 1) string = replace(string, ltrim, '');
    if (TYPE & 2) string = replace(string, rtrim, '$1');
    return string;
  };
};

module.exports = {
  // `String.prototype.{ trimLeft, trimStart }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimstart
  start: createMethod(1),
  // `String.prototype.{ trimRight, trimEnd }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimend
  end: createMethod(2),
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: createMethod(3)
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js":
/*!**************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-constructor-detection.js ***!
  \**************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-symbol -- required for testing */
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol();
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-define-to-primitive.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-define-to-primitive.js ***!
  \************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

module.exports = function () {
  var Symbol = getBuiltIn('Symbol');
  var SymbolPrototype = Symbol && Symbol.prototype;
  var valueOf = SymbolPrototype && SymbolPrototype.valueOf;
  var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

  if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {
    // `Symbol.prototype[@@toPrimitive]` method
    // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
    // eslint-disable-next-line no-unused-vars -- required for .length
    defineBuiltIn(SymbolPrototype, TO_PRIMITIVE, function (hint) {
      return call(valueOf, this);
    }, { arity: 1 });
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\symbol-registry-detection.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

/* eslint-disable es/no-symbol -- safe */
module.exports = NATIVE_SYMBOL && !!Symbol['for'] && !!Symbol.keyFor;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js":
/*!**************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\task.js ***!
  \**************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var html = __webpack_require__(/*! ../internals/html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\html.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");
var createElement = __webpack_require__(/*! ../internals/document-create-element */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\document-create-element.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var IS_IOS = __webpack_require__(/*! ../internals/engine-is-ios */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ios.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");

var set = global.setImmediate;
var clear = global.clearImmediate;
var process = global.process;
var Dispatch = global.Dispatch;
var Function = global.Function;
var MessageChannel = global.MessageChannel;
var String = global.String;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var $location, defer, channel, port;

fails(function () {
  // Deno throws a ReferenceError on `location` access without `--location` flag
  $location = global.location;
});

var run = function (id) {
  if (hasOwn(queue, id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};

var runner = function (id) {
  return function () {
    run(id);
  };
};

var eventListener = function (event) {
  run(event.data);
};

var globalPostMessageDefer = function (id) {
  // old engines have not location.origin
  global.postMessage(String(id), $location.protocol + '//' + $location.host);
};

// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!set || !clear) {
  set = function setImmediate(handler) {
    validateArgumentsLength(arguments.length, 1);
    var fn = isCallable(handler) ? handler : Function(handler);
    var args = arraySlice(arguments, 1);
    queue[++counter] = function () {
      apply(fn, undefined, args);
    };
    defer(counter);
    return counter;
  };
  clear = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (IS_NODE) {
    defer = function (id) {
      process.nextTick(runner(id));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(runner(id));
    };
  // Browsers with MessageChannel, includes WebWorkers
  // except iOS - https://github.com/zloirock/core-js/issues/624
  } else if (MessageChannel && !IS_IOS) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = eventListener;
    defer = bind(port.postMessage, port);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (
    global.addEventListener &&
    isCallable(global.postMessage) &&
    !global.importScripts &&
    $location && $location.protocol !== 'file:' &&
    !fails(globalPostMessageDefer)
  ) {
    defer = globalPostMessageDefer;
    global.addEventListener('message', eventListener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in createElement('script')) {
    defer = function (id) {
      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(runner(id), 0);
    };
  }
}

module.exports = {
  set: set,
  clear: clear
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\this-number-value.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\this-number-value.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

// `thisNumberValue` abstract operation
// https://tc39.es/ecma262/#sec-thisnumbervalue
module.exports = uncurryThis(1.0.valueOf);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-absolute-index.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");

var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-indexed-object.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(/*! ../internals/indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\indexed-object.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js":
/*!********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-integer-or-infinity.js ***!
  \********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trunc = __webpack_require__(/*! ../internals/math-trunc */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\math-trunc.js");

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-length.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-object.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");

var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-primitive.js ***!
  \**********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var ordinaryToPrimitive = __webpack_require__(/*! ../internals/ordinary-to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\ordinary-to-primitive.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-property-key.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js":
/*!*******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-string-tag-support.js ***!
  \*******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};

test[TO_STRING_TAG] = 'z';

module.exports = String(test) === '[object z]';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js":
/*!*******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\to-string.js ***!
  \*******************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");

var $String = String;

module.exports = function (argument) {
  if (classof(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');
  return $String(argument);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\try-to-string.js ***!
  \***********************************************************************************************/
/***/ ((module) => {

var $String = String;

module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js":
/*!*************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\uid.js ***!
  \*************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");

var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.0.toString);

module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\url-constructor-detection.js ***!
  \***********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");

var ITERATOR = wellKnownSymbol('iterator');

module.exports = !fails(function () {
  // eslint-disable-next-line unicorn/relative-url-style -- required for testing
  var url = new URL('b?a=1&b=2&c=3', 'http://a');
  var searchParams = url.searchParams;
  var result = '';
  url.pathname = 'c%20d';
  searchParams.forEach(function (value, key) {
    searchParams['delete']('b');
    result += key + value;
  });
  return (IS_PURE && !url.toJSON)
    || (!searchParams.size && (IS_PURE || !DESCRIPTORS))
    || !searchParams.sort
    || url.href !== 'http://a/c%20d?a=1&c=3'
    || searchParams.get('c') !== '3'
    || String(new URLSearchParams('?a=1')) !== 'a=1'
    || !searchParams[ITERATOR]
    // throws in Edge
    || new URL('https://a@b').username !== 'a'
    || new URLSearchParams(new URLSearchParams('a=b')).get('a') !== 'b'
    // not punycoded in Edge
    || new URL('http://тест').host !== 'xn--e1aybc'
    // not escaped in Chrome 62-
    || new URL('http://a#б').hash !== '#%D0%B1'
    // fails in Chrome 66-
    || result !== 'a1c3'
    // throws in Safari
    || new URL('http://x', undefined).host !== 'x';
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\use-symbol-as-uid.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/* eslint-disable es/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\v8-prototype-define-bug.js":
/*!*********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\v8-prototype-define-bug.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () { /* empty */ }, 'prototype', {
    value: 42,
    writable: false
  }).prototype != 42;
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\validate-arguments-length.js ***!
  \***********************************************************************************************************/
/***/ ((module) => {

var $TypeError = TypeError;

module.exports = function (passed, required) {
  if (passed < required) throw $TypeError('Not enough arguments');
  return passed;
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\weak-map-basic-detection.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\weak-map-basic-detection.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");

var WeakMap = global.WeakMap;

module.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js":
/*!**********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol-define.js ***!
  \**********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var path = __webpack_require__(/*! ../internals/path */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);

module.exports = function (NAME) {
  var Symbol = path.Symbol || (path.Symbol = {});
  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {
    value: wrappedWellKnownSymbolModule.f(NAME)
  });
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js":
/*!***********************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol-wrapped.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

exports.f = wellKnownSymbol;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\well-known-symbol.js ***!
  \***************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var USE_SYMBOL_AS_UID = __webpack_require__(/*! ../internals/use-symbol-as-uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\use-symbol-as-uid.js");

var Symbol = global.Symbol;
var WellKnownSymbolsStore = shared('wks');
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name)) {
    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)
      ? Symbol[name]
      : createWellKnownSymbol('Symbol.' + name);
  } return WellKnownSymbolsStore[name];
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\whitespaces.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\internals\whitespaces.js ***!
  \*********************************************************************************************/
/***/ ((module) => {

// a string of all valid unicode whitespaces
module.exports = '\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u2000\u2001\u2002' +
  '\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.concat.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.concat.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var doesNotExceedSafeInteger = __webpack_require__(/*! ../internals/does-not-exceed-safe-integer */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\does-not-exceed-safe-integer.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var arraySpeciesCreate = __webpack_require__(/*! ../internals/array-species-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-species-create.js");
var arrayMethodHasSpeciesSupport = __webpack_require__(/*! ../internals/array-method-has-species-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var V8_VERSION = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");

var IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');

// We can't use this feature detection in V8 since it causes
// deoptimization and serious performance degradation
// https://github.com/zloirock/core-js/issues/679
var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {
  var array = [];
  array[IS_CONCAT_SPREADABLE] = false;
  return array.concat()[0] !== array;
});

var isConcatSpreadable = function (O) {
  if (!isObject(O)) return false;
  var spreadable = O[IS_CONCAT_SPREADABLE];
  return spreadable !== undefined ? !!spreadable : isArray(O);
};

var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport('concat');

// `Array.prototype.concat` method
// https://tc39.es/ecma262/#sec-array.prototype.concat
// with adding support of @@isConcatSpreadable and @@species
$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {
  // eslint-disable-next-line no-unused-vars -- required for `.length`
  concat: function concat(arg) {
    var O = toObject(this);
    var A = arraySpeciesCreate(O, 0);
    var n = 0;
    var i, k, length, len, E;
    for (i = -1, length = arguments.length; i < length; i++) {
      E = i === -1 ? O : arguments[i];
      if (isConcatSpreadable(E)) {
        len = lengthOfArrayLike(E);
        doesNotExceedSafeInteger(n + len);
        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);
      } else {
        doesNotExceedSafeInteger(n + 1);
        createProperty(A, n++, E);
      }
    }
    A.length = n;
    return A;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.iterator.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var addToUnscopables = __webpack_require__(/*! ../internals/add-to-unscopables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\add-to-unscopables.js");
var Iterators = __webpack_require__(/*! ../internals/iterators */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterators.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var defineIterator = __webpack_require__(/*! ../internals/iterator-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js");
var createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");

var ARRAY_ITERATOR = 'Array Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);

// `Array.prototype.entries` method
// https://tc39.es/ecma262/#sec-array.prototype.entries
// `Array.prototype.keys` method
// https://tc39.es/ecma262/#sec-array.prototype.keys
// `Array.prototype.values` method
// https://tc39.es/ecma262/#sec-array.prototype.values
// `Array.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-array.prototype-@@iterator
// `CreateArrayIterator` internal method
// https://tc39.es/ecma262/#sec-createarrayiterator
module.exports = defineIterator(Array, 'Array', function (iterated, kind) {
  setInternalState(this, {
    type: ARRAY_ITERATOR,
    target: toIndexedObject(iterated), // target
    index: 0,                          // next index
    kind: kind                         // kind
  });
// `%ArrayIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
}, function () {
  var state = getInternalState(this);
  var target = state.target;
  var kind = state.kind;
  var index = state.index++;
  if (!target || index >= target.length) {
    state.target = undefined;
    return createIterResultObject(undefined, true);
  }
  if (kind == 'keys') return createIterResultObject(index, false);
  if (kind == 'values') return createIterResultObject(target[index], false);
  return createIterResultObject([index, target[index]], false);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values%
// https://tc39.es/ecma262/#sec-createunmappedargumentsobject
// https://tc39.es/ecma262/#sec-createmappedargumentsobject
var values = Iterators.Arguments = Iterators.Array;

// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables
addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

// V8 ~ Chrome 45- bug
if (!IS_PURE && DESCRIPTORS && values.name !== 'values') try {
  defineProperty(values, 'name', { value: 'values' });
} catch (error) { /* empty */ }


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.slice.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.slice.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var isArray = __webpack_require__(/*! ../internals/is-array */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-array.js");
var isConstructor = __webpack_require__(/*! ../internals/is-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-constructor.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var toAbsoluteIndex = __webpack_require__(/*! ../internals/to-absolute-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-absolute-index.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var createProperty = __webpack_require__(/*! ../internals/create-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var arrayMethodHasSpeciesSupport = __webpack_require__(/*! ../internals/array-method-has-species-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-has-species-support.js");
var nativeSlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");

var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');

var SPECIES = wellKnownSymbol('species');
var $Array = Array;
var max = Math.max;

// `Array.prototype.slice` method
// https://tc39.es/ecma262/#sec-array.prototype.slice
// fallback for not array-like ES3 strings and DOM objects
$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
  slice: function slice(start, end) {
    var O = toIndexedObject(this);
    var length = lengthOfArrayLike(O);
    var k = toAbsoluteIndex(start, length);
    var fin = toAbsoluteIndex(end === undefined ? length : end, length);
    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
    var Constructor, result, n;
    if (isArray(O)) {
      Constructor = O.constructor;
      // cross-realm fallback
      if (isConstructor(Constructor) && (Constructor === $Array || isArray(Constructor.prototype))) {
        Constructor = undefined;
      } else if (isObject(Constructor)) {
        Constructor = Constructor[SPECIES];
        if (Constructor === null) Constructor = undefined;
      }
      if (Constructor === $Array || Constructor === undefined) {
        return nativeSlice(O, k, fin);
      }
    }
    result = new (Constructor === undefined ? $Array : Constructor)(max(fin - k, 0));
    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);
    result.length = n;
    return result;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.sort.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.array.sort.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");
var lengthOfArrayLike = __webpack_require__(/*! ../internals/length-of-array-like */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\length-of-array-like.js");
var deletePropertyOrThrow = __webpack_require__(/*! ../internals/delete-property-or-throw */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\delete-property-or-throw.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var internalSort = __webpack_require__(/*! ../internals/array-sort */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js");
var arrayMethodIsStrict = __webpack_require__(/*! ../internals/array-method-is-strict */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-method-is-strict.js");
var FF = __webpack_require__(/*! ../internals/engine-ff-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-ff-version.js");
var IE_OR_EDGE = __webpack_require__(/*! ../internals/engine-is-ie-or-edge */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-ie-or-edge.js");
var V8 = __webpack_require__(/*! ../internals/engine-v8-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-v8-version.js");
var WEBKIT = __webpack_require__(/*! ../internals/engine-webkit-version */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-webkit-version.js");

var test = [];
var nativeSort = uncurryThis(test.sort);
var push = uncurryThis(test.push);

// IE8-
var FAILS_ON_UNDEFINED = fails(function () {
  test.sort(undefined);
});
// V8 bug
var FAILS_ON_NULL = fails(function () {
  test.sort(null);
});
// Old WebKit
var STRICT_METHOD = arrayMethodIsStrict('sort');

var STABLE_SORT = !fails(function () {
  // feature detection can be too slow, so check engines versions
  if (V8) return V8 < 70;
  if (FF && FF > 3) return;
  if (IE_OR_EDGE) return true;
  if (WEBKIT) return WEBKIT < 603;

  var result = '';
  var code, chr, value, index;

  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)
  for (code = 65; code < 76; code++) {
    chr = String.fromCharCode(code);

    switch (code) {
      case 66: case 69: case 70: case 72: value = 3; break;
      case 68: case 71: value = 4; break;
      default: value = 2;
    }

    for (index = 0; index < 47; index++) {
      test.push({ k: chr + index, v: value });
    }
  }

  test.sort(function (a, b) { return b.v - a.v; });

  for (index = 0; index < test.length; index++) {
    chr = test[index].k.charAt(0);
    if (result.charAt(result.length - 1) !== chr) result += chr;
  }

  return result !== 'DGBEFHACIJK';
});

var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

var getSortCompare = function (comparefn) {
  return function (x, y) {
    if (y === undefined) return -1;
    if (x === undefined) return 1;
    if (comparefn !== undefined) return +comparefn(x, y) || 0;
    return toString(x) > toString(y) ? 1 : -1;
  };
};

// `Array.prototype.sort` method
// https://tc39.es/ecma262/#sec-array.prototype.sort
$({ target: 'Array', proto: true, forced: FORCED }, {
  sort: function sort(comparefn) {
    if (comparefn !== undefined) aCallable(comparefn);

    var array = toObject(this);

    if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);

    var items = [];
    var arrayLength = lengthOfArrayLike(array);
    var itemsLength, index;

    for (index = 0; index < arrayLength; index++) {
      if (index in array) push(items, array[index]);
    }

    internalSort(items, getSortCompare(comparefn));

    itemsLength = lengthOfArrayLike(items);
    index = 0;

    while (index < itemsLength) array[index] = items[index++];
    while (index < arrayLength) deletePropertyOrThrow(array, index++);

    return array;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.function.name.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.function.name.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var FUNCTION_NAME_EXISTS = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").EXISTS);
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");

var FunctionPrototype = Function.prototype;
var functionToString = uncurryThis(FunctionPrototype.toString);
var nameRE = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;
var regExpExec = uncurryThis(nameRE.exec);
var NAME = 'name';

// Function instances `.name` property
// https://tc39.es/ecma262/#sec-function-instances-name
if (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {
  defineBuiltInAccessor(FunctionPrototype, NAME, {
    configurable: true,
    get: function () {
      try {
        return regExpExec(nameRE, functionToString(this))[1];
      } catch (error) {
        return '';
      }
    }
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.json.stringify.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.json.stringify.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice.js");
var getReplacerFunction = __webpack_require__(/*! ../internals/get-json-replacer-function */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-json-replacer-function.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");

var $String = String;
var $stringify = getBuiltIn('JSON', 'stringify');
var exec = uncurryThis(/./.exec);
var charAt = uncurryThis(''.charAt);
var charCodeAt = uncurryThis(''.charCodeAt);
var replace = uncurryThis(''.replace);
var numberToString = uncurryThis(1.0.toString);

var tester = /[\uD800-\uDFFF]/g;
var low = /^[\uD800-\uDBFF]$/;
var hi = /^[\uDC00-\uDFFF]$/;

var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL || fails(function () {
  var symbol = getBuiltIn('Symbol')();
  // MS Edge converts symbol values to JSON as {}
  return $stringify([symbol]) != '[null]'
    // WebKit converts symbol values to JSON as null
    || $stringify({ a: symbol }) != '{}'
    // V8 throws on boxed symbols
    || $stringify(Object(symbol)) != '{}';
});

// https://github.com/tc39/proposal-well-formed-stringify
var ILL_FORMED_UNICODE = fails(function () {
  return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
    || $stringify('\uDEAD') !== '"\\udead"';
});

var stringifyWithSymbolsFix = function (it, replacer) {
  var args = arraySlice(arguments);
  var $replacer = getReplacerFunction(replacer);
  if (!isCallable($replacer) && (it === undefined || isSymbol(it))) return; // IE8 returns string on undefined
  args[1] = function (key, value) {
    // some old implementations (like WebKit) could pass numbers as keys
    if (isCallable($replacer)) value = call($replacer, this, $String(key), value);
    if (!isSymbol(value)) return value;
  };
  return apply($stringify, null, args);
};

var fixIllFormed = function (match, offset, string) {
  var prev = charAt(string, offset - 1);
  var next = charAt(string, offset + 1);
  if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
    return '\\u' + numberToString(charCodeAt(match, 0), 16);
  } return match;
};

if ($stringify) {
  // `JSON.stringify` method
  // https://tc39.es/ecma262/#sec-json.stringify
  $({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    stringify: function stringify(it, replacer, space) {
      var args = arraySlice(arguments);
      var result = apply(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
      return ILL_FORMED_UNICODE && typeof result == 'string' ? replace(result, tester, fixIllFormed) : result;
    }
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.number.constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.number.constructor.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var path = __webpack_require__(/*! ../internals/path */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\path.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-forced.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var inheritIfRequired = __webpack_require__(/*! ../internals/inherit-if-required */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\inherit-if-required.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var toPrimitive = __webpack_require__(/*! ../internals/to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-primitive.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getOwnPropertyNames = (__webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js").f);
var getOwnPropertyDescriptor = (__webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js").f);
var defineProperty = (__webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js").f);
var thisNumberValue = __webpack_require__(/*! ../internals/this-number-value */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\this-number-value.js");
var trim = (__webpack_require__(/*! ../internals/string-trim */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js").trim);

var NUMBER = 'Number';
var NativeNumber = global[NUMBER];
var PureNumberNamespace = path[NUMBER];
var NumberPrototype = NativeNumber.prototype;
var TypeError = global.TypeError;
var stringSlice = uncurryThis(''.slice);
var charCodeAt = uncurryThis(''.charCodeAt);

// `ToNumeric` abstract operation
// https://tc39.es/ecma262/#sec-tonumeric
var toNumeric = function (value) {
  var primValue = toPrimitive(value, 'number');
  return typeof primValue == 'bigint' ? primValue : toNumber(primValue);
};

// `ToNumber` abstract operation
// https://tc39.es/ecma262/#sec-tonumber
var toNumber = function (argument) {
  var it = toPrimitive(argument, 'number');
  var first, third, radix, maxCode, digits, length, index, code;
  if (isSymbol(it)) throw TypeError('Cannot convert a Symbol value to a number');
  if (typeof it == 'string' && it.length > 2) {
    it = trim(it);
    first = charCodeAt(it, 0);
    if (first === 43 || first === 45) {
      third = charCodeAt(it, 2);
      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix
    } else if (first === 48) {
      switch (charCodeAt(it, 1)) {
        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i
        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i
        default: return +it;
      }
      digits = stringSlice(it, 2);
      length = digits.length;
      for (index = 0; index < length; index++) {
        code = charCodeAt(digits, index);
        // parseInt parses a string to a first unavailable symbol
        // but ToNumber should return NaN if a string contains unavailable symbols
        if (code < 48 || code > maxCode) return NaN;
      } return parseInt(digits, radix);
    }
  } return +it;
};

var FORCED = isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'));

var calledWithNew = function (dummy) {
  // includes check on 1..constructor(foo) case
  return isPrototypeOf(NumberPrototype, dummy) && fails(function () { thisNumberValue(dummy); });
};

// `Number` constructor
// https://tc39.es/ecma262/#sec-number-constructor
var NumberWrapper = function Number(value) {
  var n = arguments.length < 1 ? 0 : NativeNumber(toNumeric(value));
  return calledWithNew(this) ? inheritIfRequired(Object(n), this, NumberWrapper) : n;
};

NumberWrapper.prototype = NumberPrototype;
if (FORCED && !IS_PURE) NumberPrototype.constructor = NumberWrapper;

$({ global: true, constructor: true, wrap: true, forced: FORCED }, {
  Number: NumberWrapper
});

// Use `internal/copy-constructor-properties` helper in `core-js@4`
var copyConstructorProperties = function (target, source) {
  for (var keys = DESCRIPTORS ? getOwnPropertyNames(source) : (
    // ES3:
    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
    // ES2015 (in case, if modules with ES2015 Number statics required before):
    'EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,' +
    // ESNext
    'fromString,range'
  ).split(','), j = 0, key; keys.length > j; j++) {
    if (hasOwn(source, key = keys[j]) && !hasOwn(target, key)) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};

if (IS_PURE && PureNumberNamespace) copyConstructorProperties(path[NUMBER], PureNumberNamespace);
if (FORCED || IS_PURE) copyConstructorProperties(path[NUMBER], NativeNumber);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.get-own-property-symbols.js":
/*!******************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.object.get-own-property-symbols.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var toObject = __webpack_require__(/*! ../internals/to-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-object.js");

// V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
// https://bugs.chromium.org/p/v8/issues/detail?id=3443
var FORCED = !NATIVE_SYMBOL || fails(function () { getOwnPropertySymbolsModule.f(1); });

// `Object.getOwnPropertySymbols` method
// https://tc39.es/ecma262/#sec-object.getownpropertysymbols
$({ target: 'Object', stat: true, forced: FORCED }, {
  getOwnPropertySymbols: function getOwnPropertySymbols(it) {
    var $getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject(it)) : [];
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.to-string.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.object.to-string.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var TO_STRING_TAG_SUPPORT = __webpack_require__(/*! ../internals/to-string-tag-support */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string-tag-support.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var toString = __webpack_require__(/*! ../internals/object-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-to-string.js");

// `Object.prototype.toString` method
// https://tc39.es/ecma262/#sec-object.prototype.tostring
if (!TO_STRING_TAG_SUPPORT) {
  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.all.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.all.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js");
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(/*! ../internals/promise-statics-incorrect-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js");

// `Promise.all` method
// https://tc39.es/ecma262/#sec-promise.all
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      var values = [];
      var counter = 0;
      var remaining = 1;
      iterate(iterable, function (promise) {
        var index = counter++;
        var alreadyCalled = false;
        remaining++;
        call($promiseResolve, C, promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.catch.js":
/*!************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.catch.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");

var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

// `Promise.prototype.catch` method
// https://tc39.es/ecma262/#sec-promise.prototype.catch
$({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR, real: true }, {
  'catch': function (onRejected) {
    return this.then(undefined, onRejected);
  }
});

// makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`
if (!IS_PURE && isCallable(NativePromiseConstructor)) {
  var method = getBuiltIn('Promise').prototype['catch'];
  if (NativePromisePrototype['catch'] !== method) {
    defineBuiltIn(NativePromisePrototype, 'catch', method, { unsafe: true });
  }
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.constructor.js":
/*!******************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.constructor.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var IS_NODE = __webpack_require__(/*! ../internals/engine-is-node */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\engine-is-node.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var setPrototypeOf = __webpack_require__(/*! ../internals/object-set-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-set-prototype-of.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var setSpecies = __webpack_require__(/*! ../internals/set-species */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-species.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var speciesConstructor = __webpack_require__(/*! ../internals/species-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\species-constructor.js");
var task = (__webpack_require__(/*! ../internals/task */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\task.js").set);
var microtask = __webpack_require__(/*! ../internals/microtask */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\microtask.js");
var hostReportErrors = __webpack_require__(/*! ../internals/host-report-errors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\host-report-errors.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var Queue = __webpack_require__(/*! ../internals/queue */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\queue.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var PromiseConstructorDetection = __webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");

var PROMISE = 'Promise';
var FORCED_PROMISE_CONSTRUCTOR = PromiseConstructorDetection.CONSTRUCTOR;
var NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;
var NATIVE_PROMISE_SUBCLASSING = PromiseConstructorDetection.SUBCLASSING;
var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
var setInternalState = InternalStateModule.set;
var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;
var PromiseConstructor = NativePromiseConstructor;
var PromisePrototype = NativePromisePrototype;
var TypeError = global.TypeError;
var document = global.document;
var process = global.process;
var newPromiseCapability = newPromiseCapabilityModule.f;
var newGenericPromiseCapability = newPromiseCapability;

var DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);
var UNHANDLED_REJECTION = 'unhandledrejection';
var REJECTION_HANDLED = 'rejectionhandled';
var PENDING = 0;
var FULFILLED = 1;
var REJECTED = 2;
var HANDLED = 1;
var UNHANDLED = 2;

var Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && isCallable(then = it.then) ? then : false;
};

var callReaction = function (reaction, state) {
  var value = state.value;
  var ok = state.state == FULFILLED;
  var handler = ok ? reaction.ok : reaction.fail;
  var resolve = reaction.resolve;
  var reject = reaction.reject;
  var domain = reaction.domain;
  var result, then, exited;
  try {
    if (handler) {
      if (!ok) {
        if (state.rejection === UNHANDLED) onHandleUnhandled(state);
        state.rejection = HANDLED;
      }
      if (handler === true) result = value;
      else {
        if (domain) domain.enter();
        result = handler(value); // can throw
        if (domain) {
          domain.exit();
          exited = true;
        }
      }
      if (result === reaction.promise) {
        reject(TypeError('Promise-chain cycle'));
      } else if (then = isThenable(result)) {
        call(then, result, resolve, reject);
      } else resolve(result);
    } else reject(value);
  } catch (error) {
    if (domain && !exited) domain.exit();
    reject(error);
  }
};

var notify = function (state, isReject) {
  if (state.notified) return;
  state.notified = true;
  microtask(function () {
    var reactions = state.reactions;
    var reaction;
    while (reaction = reactions.get()) {
      callReaction(reaction, state);
    }
    state.notified = false;
    if (isReject && !state.rejection) onUnhandled(state);
  });
};

var dispatchEvent = function (name, promise, reason) {
  var event, handler;
  if (DISPATCH_EVENT) {
    event = document.createEvent('Event');
    event.promise = promise;
    event.reason = reason;
    event.initEvent(name, false, true);
    global.dispatchEvent(event);
  } else event = { promise: promise, reason: reason };
  if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);
  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);
};

var onUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    var value = state.value;
    var IS_UNHANDLED = isUnhandled(state);
    var result;
    if (IS_UNHANDLED) {
      result = perform(function () {
        if (IS_NODE) {
          process.emit('unhandledRejection', value, promise);
        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
      if (result.error) throw result.value;
    }
  });
};

var isUnhandled = function (state) {
  return state.rejection !== HANDLED && !state.parent;
};

var onHandleUnhandled = function (state) {
  call(task, global, function () {
    var promise = state.facade;
    if (IS_NODE) {
      process.emit('rejectionHandled', promise);
    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);
  });
};

var bind = function (fn, state, unwrap) {
  return function (value) {
    fn(state, value, unwrap);
  };
};

var internalReject = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  state.value = value;
  state.state = REJECTED;
  notify(state, true);
};

var internalResolve = function (state, value, unwrap) {
  if (state.done) return;
  state.done = true;
  if (unwrap) state = unwrap;
  try {
    if (state.facade === value) throw TypeError("Promise can't be resolved itself");
    var then = isThenable(value);
    if (then) {
      microtask(function () {
        var wrapper = { done: false };
        try {
          call(then, value,
            bind(internalResolve, wrapper, state),
            bind(internalReject, wrapper, state)
          );
        } catch (error) {
          internalReject(wrapper, error, state);
        }
      });
    } else {
      state.value = value;
      state.state = FULFILLED;
      notify(state, false);
    }
  } catch (error) {
    internalReject({ done: false }, error, state);
  }
};

// constructor polyfill
if (FORCED_PROMISE_CONSTRUCTOR) {
  // 25.4.3.1 Promise(executor)
  PromiseConstructor = function Promise(executor) {
    anInstance(this, PromisePrototype);
    aCallable(executor);
    call(Internal, this);
    var state = getInternalPromiseState(this);
    try {
      executor(bind(internalResolve, state), bind(internalReject, state));
    } catch (error) {
      internalReject(state, error);
    }
  };

  PromisePrototype = PromiseConstructor.prototype;

  // eslint-disable-next-line no-unused-vars -- required for `.length`
  Internal = function Promise(executor) {
    setInternalState(this, {
      type: PROMISE,
      done: false,
      notified: false,
      parent: false,
      reactions: new Queue(),
      rejection: false,
      state: PENDING,
      value: undefined
    });
  };

  // `Promise.prototype.then` method
  // https://tc39.es/ecma262/#sec-promise.prototype.then
  Internal.prototype = defineBuiltIn(PromisePrototype, 'then', function then(onFulfilled, onRejected) {
    var state = getInternalPromiseState(this);
    var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
    state.parent = true;
    reaction.ok = isCallable(onFulfilled) ? onFulfilled : true;
    reaction.fail = isCallable(onRejected) && onRejected;
    reaction.domain = IS_NODE ? process.domain : undefined;
    if (state.state == PENDING) state.reactions.add(reaction);
    else microtask(function () {
      callReaction(reaction, state);
    });
    return reaction.promise;
  });

  OwnPromiseCapability = function () {
    var promise = new Internal();
    var state = getInternalPromiseState(promise);
    this.promise = promise;
    this.resolve = bind(internalResolve, state);
    this.reject = bind(internalReject, state);
  };

  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === PromiseConstructor || C === PromiseWrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };

  if (!IS_PURE && isCallable(NativePromiseConstructor) && NativePromisePrototype !== Object.prototype) {
    nativeThen = NativePromisePrototype.then;

    if (!NATIVE_PROMISE_SUBCLASSING) {
      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs
      defineBuiltIn(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {
        var that = this;
        return new PromiseConstructor(function (resolve, reject) {
          call(nativeThen, that, resolve, reject);
        }).then(onFulfilled, onRejected);
      // https://github.com/zloirock/core-js/issues/640
      }, { unsafe: true });
    }

    // make `.constructor === Promise` work for native promise-based APIs
    try {
      delete NativePromisePrototype.constructor;
    } catch (error) { /* empty */ }

    // make `instanceof Promise` work for native promise-based APIs
    if (setPrototypeOf) {
      setPrototypeOf(NativePromisePrototype, PromisePrototype);
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  Promise: PromiseConstructor
});

setToStringTag(PromiseConstructor, PROMISE, false, true);
setSpecies(PROMISE);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.js":
/*!******************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(/*! ../modules/es.promise.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.constructor.js");
__webpack_require__(/*! ../modules/es.promise.all */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.all.js");
__webpack_require__(/*! ../modules/es.promise.catch */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.catch.js");
__webpack_require__(/*! ../modules/es.promise.race */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.race.js");
__webpack_require__(/*! ../modules/es.promise.reject */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.reject.js");
__webpack_require__(/*! ../modules/es.promise.resolve */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.resolve.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.race.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.race.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var aCallable = __webpack_require__(/*! ../internals/a-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\a-callable.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var perform = __webpack_require__(/*! ../internals/perform */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\perform.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterate.js");
var PROMISE_STATICS_INCORRECT_ITERATION = __webpack_require__(/*! ../internals/promise-statics-incorrect-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-statics-incorrect-iteration.js");

// `Promise.race` method
// https://tc39.es/ecma262/#sec-promise.race
$({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapabilityModule.f(C);
    var reject = capability.reject;
    var result = perform(function () {
      var $promiseResolve = aCallable(C.resolve);
      iterate(iterable, function (promise) {
        call($promiseResolve, C, promise).then(capability.resolve, reject);
      });
    });
    if (result.error) reject(result.value);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.reject.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.reject.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var newPromiseCapabilityModule = __webpack_require__(/*! ../internals/new-promise-capability */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\new-promise-capability.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);

// `Promise.reject` method
// https://tc39.es/ecma262/#sec-promise.reject
$({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR }, {
  reject: function reject(r) {
    var capability = newPromiseCapabilityModule.f(this);
    call(capability.reject, undefined, r);
    return capability.promise;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.promise.resolve.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.promise.resolve.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var NativePromiseConstructor = __webpack_require__(/*! ../internals/promise-native-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-native-constructor.js");
var FORCED_PROMISE_CONSTRUCTOR = (__webpack_require__(/*! ../internals/promise-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-constructor-detection.js").CONSTRUCTOR);
var promiseResolve = __webpack_require__(/*! ../internals/promise-resolve */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\promise-resolve.js");

var PromiseConstructorWrapper = getBuiltIn('Promise');
var CHECK_WRAPPER = IS_PURE && !FORCED_PROMISE_CONSTRUCTOR;

// `Promise.resolve` method
// https://tc39.es/ecma262/#sec-promise.resolve
$({ target: 'Promise', stat: true, forced: IS_PURE || FORCED_PROMISE_CONSTRUCTOR }, {
  resolve: function resolve(x) {
    return promiseResolve(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor : this, x);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.exec.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.regexp.exec.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var exec = __webpack_require__(/*! ../internals/regexp-exec */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec.js");

// `RegExp.prototype.exec` method
// https://tc39.es/ecma262/#sec-regexp.prototype.exec
$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {
  exec: exec
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.regexp.to-string.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.regexp.to-string.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var PROPER_FUNCTION_NAME = (__webpack_require__(/*! ../internals/function-name */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-name.js").PROPER);
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var getRegExpFlags = __webpack_require__(/*! ../internals/regexp-get-flags */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-get-flags.js");

var TO_STRING = 'toString';
var RegExpPrototype = RegExp.prototype;
var nativeToString = RegExpPrototype[TO_STRING];

var NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });
// FF44- RegExp#toString has a wrong name
var INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name != TO_STRING;

// `RegExp.prototype.toString` method
// https://tc39.es/ecma262/#sec-regexp.prototype.tostring
if (NOT_GENERIC || INCORRECT_NAME) {
  defineBuiltIn(RegExp.prototype, TO_STRING, function toString() {
    var R = anObject(this);
    var pattern = $toString(R.source);
    var flags = $toString(getRegExpFlags(R));
    return '/' + pattern + '/' + flags;
  }, { unsafe: true });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.iterator.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var charAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").charAt);
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var defineIterator = __webpack_require__(/*! ../internals/iterator-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-define.js");
var createIterResultObject = __webpack_require__(/*! ../internals/create-iter-result-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-iter-result-object.js");

var STRING_ITERATOR = 'String Iterator';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);

// `String.prototype[@@iterator]` method
// https://tc39.es/ecma262/#sec-string.prototype-@@iterator
defineIterator(String, 'String', function (iterated) {
  setInternalState(this, {
    type: STRING_ITERATOR,
    string: toString(iterated),
    index: 0
  });
// `%StringIteratorPrototype%.next` method
// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
}, function next() {
  var state = getInternalState(this);
  var string = state.string;
  var index = state.index;
  var point;
  if (index >= string.length) return createIterResultObject(undefined, true);
  point = charAt(string, index);
  state.index += point.length;
  return createIterResultObject(point, false);
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.link.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.link.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var createHTML = __webpack_require__(/*! ../internals/create-html */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-html.js");
var forcedStringHTMLMethod = __webpack_require__(/*! ../internals/string-html-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-html-forced.js");

// `String.prototype.link` method
// https://tc39.es/ecma262/#sec-string.prototype.link
$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {
  link: function link(url) {
    return createHTML(this, 'a', 'href', url);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.match.js":
/*!***********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.match.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var fixRegExpWellKnownSymbolLogic = __webpack_require__(/*! ../internals/fix-regexp-well-known-symbol-logic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var advanceStringIndex = __webpack_require__(/*! ../internals/advance-string-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js");
var regExpExec = __webpack_require__(/*! ../internals/regexp-exec-abstract */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js");

// @@match logic
fixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {
  return [
    // `String.prototype.match` method
    // https://tc39.es/ecma262/#sec-string.prototype.match
    function match(regexp) {
      var O = requireObjectCoercible(this);
      var matcher = isNullOrUndefined(regexp) ? undefined : getMethod(regexp, MATCH);
      return matcher ? call(matcher, regexp, O) : new RegExp(regexp)[MATCH](toString(O));
    },
    // `RegExp.prototype[@@match]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match
    function (string) {
      var rx = anObject(this);
      var S = toString(string);
      var res = maybeCallNative(nativeMatch, rx, S);

      if (res.done) return res.value;

      if (!rx.global) return regExpExec(rx, S);

      var fullUnicode = rx.unicode;
      rx.lastIndex = 0;
      var A = [];
      var n = 0;
      var result;
      while ((result = regExpExec(rx, S)) !== null) {
        var matchStr = toString(result[0]);
        A[n] = matchStr;
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
        n++;
      }
      return n === 0 ? null : A;
    }
  ];
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.replace.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.replace.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var apply = __webpack_require__(/*! ../internals/function-apply */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-apply.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var fixRegExpWellKnownSymbolLogic = __webpack_require__(/*! ../internals/fix-regexp-well-known-symbol-logic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fix-regexp-well-known-symbol-logic.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isNullOrUndefined = __webpack_require__(/*! ../internals/is-null-or-undefined */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-null-or-undefined.js");
var toIntegerOrInfinity = __webpack_require__(/*! ../internals/to-integer-or-infinity */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-integer-or-infinity.js");
var toLength = __webpack_require__(/*! ../internals/to-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-length.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var requireObjectCoercible = __webpack_require__(/*! ../internals/require-object-coercible */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\require-object-coercible.js");
var advanceStringIndex = __webpack_require__(/*! ../internals/advance-string-index */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\advance-string-index.js");
var getMethod = __webpack_require__(/*! ../internals/get-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-method.js");
var getSubstitution = __webpack_require__(/*! ../internals/get-substitution */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-substitution.js");
var regExpExec = __webpack_require__(/*! ../internals/regexp-exec-abstract */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\regexp-exec-abstract.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var REPLACE = wellKnownSymbol('replace');
var max = Math.max;
var min = Math.min;
var concat = uncurryThis([].concat);
var push = uncurryThis([].push);
var stringIndexOf = uncurryThis(''.indexOf);
var stringSlice = uncurryThis(''.slice);

var maybeToString = function (it) {
  return it === undefined ? it : String(it);
};

// IE <= 11 replaces $0 with the whole match, as if it was $&
// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0
var REPLACE_KEEPS_$0 = (function () {
  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing
  return 'a'.replace(/./, '$0') === '$0';
})();

// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string
var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {
  if (/./[REPLACE]) {
    return /./[REPLACE]('a', '$0') === '';
  }
  return false;
})();

var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {
  var re = /./;
  re.exec = function () {
    var result = [];
    result.groups = { a: '7' };
    return result;
  };
  // eslint-disable-next-line regexp/no-useless-dollar-replacements -- false positive
  return ''.replace(re, '$<a>') !== '7';
});

// @@replace logic
fixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {
  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';

  return [
    // `String.prototype.replace` method
    // https://tc39.es/ecma262/#sec-string.prototype.replace
    function replace(searchValue, replaceValue) {
      var O = requireObjectCoercible(this);
      var replacer = isNullOrUndefined(searchValue) ? undefined : getMethod(searchValue, REPLACE);
      return replacer
        ? call(replacer, searchValue, O, replaceValue)
        : call(nativeReplace, toString(O), searchValue, replaceValue);
    },
    // `RegExp.prototype[@@replace]` method
    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace
    function (string, replaceValue) {
      var rx = anObject(this);
      var S = toString(string);

      if (
        typeof replaceValue == 'string' &&
        stringIndexOf(replaceValue, UNSAFE_SUBSTITUTE) === -1 &&
        stringIndexOf(replaceValue, '$<') === -1
      ) {
        var res = maybeCallNative(nativeReplace, rx, S, replaceValue);
        if (res.done) return res.value;
      }

      var functionalReplace = isCallable(replaceValue);
      if (!functionalReplace) replaceValue = toString(replaceValue);

      var global = rx.global;
      if (global) {
        var fullUnicode = rx.unicode;
        rx.lastIndex = 0;
      }
      var results = [];
      while (true) {
        var result = regExpExec(rx, S);
        if (result === null) break;

        push(results, result);
        if (!global) break;

        var matchStr = toString(result[0]);
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
      }

      var accumulatedResult = '';
      var nextSourcePosition = 0;
      for (var i = 0; i < results.length; i++) {
        result = results[i];

        var matched = toString(result[0]);
        var position = max(min(toIntegerOrInfinity(result.index), S.length), 0);
        var captures = [];
        // NOTE: This is equivalent to
        //   captures = result.slice(1).map(maybeToString)
        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
        // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
        for (var j = 1; j < result.length; j++) push(captures, maybeToString(result[j]));
        var namedCaptures = result.groups;
        if (functionalReplace) {
          var replacerArgs = concat([matched], captures, position, S);
          if (namedCaptures !== undefined) push(replacerArgs, namedCaptures);
          var replacement = toString(apply(replaceValue, undefined, replacerArgs));
        } else {
          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
        }
        if (position >= nextSourcePosition) {
          accumulatedResult += stringSlice(S, nextSourcePosition, position) + replacement;
          nextSourcePosition = position + matched.length;
        }
      }
      return accumulatedResult + stringSlice(S, nextSourcePosition);
    }
  ];
}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.trim.js":
/*!**********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.string.trim.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var $trim = (__webpack_require__(/*! ../internals/string-trim */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim.js").trim);
var forcedStringTrimMethod = __webpack_require__(/*! ../internals/string-trim-forced */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-trim-forced.js");

// `String.prototype.trim` method
// https://tc39.es/ecma262/#sec-string.prototype.trim
$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {
  trim: function trim() {
    return $trim(this);
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.constructor.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.constructor.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var IS_PURE = __webpack_require__(/*! ../internals/is-pure */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-pure.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var NATIVE_SYMBOL = __webpack_require__(/*! ../internals/symbol-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-constructor-detection.js");
var fails = __webpack_require__(/*! ../internals/fails */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\fails.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var toIndexedObject = __webpack_require__(/*! ../internals/to-indexed-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-indexed-object.js");
var toPropertyKey = __webpack_require__(/*! ../internals/to-property-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-property-key.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var nativeObjectCreate = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var objectKeys = __webpack_require__(/*! ../internals/object-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-keys.js");
var getOwnPropertyNamesModule = __webpack_require__(/*! ../internals/object-get-own-property-names */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names.js");
var getOwnPropertyNamesExternal = __webpack_require__(/*! ../internals/object-get-own-property-names-external */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-names-external.js");
var getOwnPropertySymbolsModule = __webpack_require__(/*! ../internals/object-get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-symbols.js");
var getOwnPropertyDescriptorModule = __webpack_require__(/*! ../internals/object-get-own-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-get-own-property-descriptor.js");
var definePropertyModule = __webpack_require__(/*! ../internals/object-define-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-property.js");
var definePropertiesModule = __webpack_require__(/*! ../internals/object-define-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-define-properties.js");
var propertyIsEnumerableModule = __webpack_require__(/*! ../internals/object-property-is-enumerable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-property-is-enumerable.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var sharedKey = __webpack_require__(/*! ../internals/shared-key */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared-key.js");
var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\hidden-keys.js");
var uid = __webpack_require__(/*! ../internals/uid */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\uid.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var wrappedWellKnownSymbolModule = __webpack_require__(/*! ../internals/well-known-symbol-wrapped */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-wrapped.js");
var defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js");
var defineSymbolToPrimitive = __webpack_require__(/*! ../internals/symbol-define-to-primitive */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-define-to-primitive.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var $forEach = (__webpack_require__(/*! ../internals/array-iteration */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-iteration.js").forEach);

var HIDDEN = sharedKey('hidden');
var SYMBOL = 'Symbol';
var PROTOTYPE = 'prototype';

var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(SYMBOL);

var ObjectPrototype = Object[PROTOTYPE];
var $Symbol = global.Symbol;
var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
var TypeError = global.TypeError;
var QObject = global.QObject;
var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
var nativeDefineProperty = definePropertyModule.f;
var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
var push = uncurryThis([].push);

var AllSymbols = shared('symbols');
var ObjectPrototypeSymbols = shared('op-symbols');
var WellKnownSymbolsStore = shared('wks');

// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDescriptor = DESCRIPTORS && fails(function () {
  return nativeObjectCreate(nativeDefineProperty({}, 'a', {
    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (O, P, Attributes) {
  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];
  nativeDefineProperty(O, P, Attributes);
  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
  }
} : nativeDefineProperty;

var wrap = function (tag, description) {
  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
  setInternalState(symbol, {
    type: SYMBOL,
    tag: tag,
    description: description
  });
  if (!DESCRIPTORS) symbol.description = description;
  return symbol;
};

var $defineProperty = function defineProperty(O, P, Attributes) {
  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
  anObject(O);
  var key = toPropertyKey(P);
  anObject(Attributes);
  if (hasOwn(AllSymbols, key)) {
    if (!Attributes.enumerable) {
      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
      O[HIDDEN][key] = true;
    } else {
      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
    } return setSymbolDescriptor(O, key, Attributes);
  } return nativeDefineProperty(O, key, Attributes);
};

var $defineProperties = function defineProperties(O, Properties) {
  anObject(O);
  var properties = toIndexedObject(Properties);
  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
  $forEach(keys, function (key) {
    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);
  });
  return O;
};

var $create = function create(O, Properties) {
  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
};

var $propertyIsEnumerable = function propertyIsEnumerable(V) {
  var P = toPropertyKey(V);
  var enumerable = call(nativePropertyIsEnumerable, this, P);
  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;
  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]
    ? enumerable : true;
};

var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
  var it = toIndexedObject(O);
  var key = toPropertyKey(P);
  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;
  var descriptor = nativeGetOwnPropertyDescriptor(it, key);
  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {
    descriptor.enumerable = true;
  }
  return descriptor;
};

var $getOwnPropertyNames = function getOwnPropertyNames(O) {
  var names = nativeGetOwnPropertyNames(toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);
  });
  return result;
};

var $getOwnPropertySymbols = function (O) {
  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
  var result = [];
  $forEach(names, function (key) {
    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {
      push(result, AllSymbols[key]);
    }
  });
  return result;
};

// `Symbol` constructor
// https://tc39.es/ecma262/#sec-symbol-constructor
if (!NATIVE_SYMBOL) {
  $Symbol = function Symbol() {
    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');
    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
    var tag = uid(description);
    var setter = function (value) {
      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);
      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
    };
    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
    return wrap(tag, description);
  };

  SymbolPrototype = $Symbol[PROTOTYPE];

  defineBuiltIn(SymbolPrototype, 'toString', function toString() {
    return getInternalState(this).tag;
  });

  defineBuiltIn($Symbol, 'withoutSetter', function (description) {
    return wrap(uid(description), description);
  });

  propertyIsEnumerableModule.f = $propertyIsEnumerable;
  definePropertyModule.f = $defineProperty;
  definePropertiesModule.f = $defineProperties;
  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;

  wrappedWellKnownSymbolModule.f = function (name) {
    return wrap(wellKnownSymbol(name), name);
  };

  if (DESCRIPTORS) {
    // https://github.com/tc39/proposal-Symbol-description
    defineBuiltInAccessor(SymbolPrototype, 'description', {
      configurable: true,
      get: function description() {
        return getInternalState(this).description;
      }
    });
    if (!IS_PURE) {
      defineBuiltIn(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });
    }
  }
}

$({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
  Symbol: $Symbol
});

$forEach(objectKeys(WellKnownSymbolsStore), function (name) {
  defineWellKnownSymbol(name);
});

$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
  useSetter: function () { USE_SETTER = true; },
  useSimple: function () { USE_SETTER = false; }
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  create: $create,
  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  defineProperty: $defineProperty,
  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  defineProperties: $defineProperties,
  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor
});

$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {
  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  getOwnPropertyNames: $getOwnPropertyNames
});

// `Symbol.prototype[@@toPrimitive]` method
// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
defineSymbolToPrimitive();

// `Symbol.prototype[@@toStringTag]` property
// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
setToStringTag($Symbol, SYMBOL);

hiddenKeys[HIDDEN] = true;


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.description.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.description.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
// `Symbol.prototype.description` getter
// https://tc39.es/ecma262/#sec-symbol.prototype.description

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var isPrototypeOf = __webpack_require__(/*! ../internals/object-is-prototype-of */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-is-prototype-of.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var copyConstructorProperties = __webpack_require__(/*! ../internals/copy-constructor-properties */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\copy-constructor-properties.js");

var NativeSymbol = global.Symbol;
var SymbolPrototype = NativeSymbol && NativeSymbol.prototype;

if (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||
  // Safari 12 bug
  NativeSymbol().description !== undefined
)) {
  var EmptyStringDescriptionStore = {};
  // wrap Symbol constructor for correct work with undefined description
  var SymbolWrapper = function Symbol() {
    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);
    var result = isPrototypeOf(SymbolPrototype, this)
      ? new NativeSymbol(description)
      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'
      : description === undefined ? NativeSymbol() : NativeSymbol(description);
    if (description === '') EmptyStringDescriptionStore[result] = true;
    return result;
  };

  copyConstructorProperties(SymbolWrapper, NativeSymbol);
  SymbolWrapper.prototype = SymbolPrototype;
  SymbolPrototype.constructor = SymbolWrapper;

  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';
  var thisSymbolValue = uncurryThis(SymbolPrototype.valueOf);
  var symbolDescriptiveString = uncurryThis(SymbolPrototype.toString);
  var regexp = /^Symbol\((.*)\)[^)]+$/;
  var replace = uncurryThis(''.replace);
  var stringSlice = uncurryThis(''.slice);

  defineBuiltInAccessor(SymbolPrototype, 'description', {
    configurable: true,
    get: function description() {
      var symbol = thisSymbolValue(this);
      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';
      var string = symbolDescriptiveString(symbol);
      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');
      return desc === '' ? undefined : desc;
    }
  });

  $({ global: true, constructor: true, forced: true }, {
    Symbol: SymbolWrapper
  });
}


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.for.js":
/*!*********************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.for.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var getBuiltIn = __webpack_require__(/*! ../internals/get-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-built-in.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(/*! ../internals/symbol-registry-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js");

var StringToSymbolRegistry = shared('string-to-symbol-registry');
var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.for` method
// https://tc39.es/ecma262/#sec-symbol.for
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  'for': function (key) {
    var string = toString(key);
    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
    var symbol = getBuiltIn('Symbol')(string);
    StringToSymbolRegistry[string] = symbol;
    SymbolToStringRegistry[symbol] = string;
    return symbol;
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.iterator.js":
/*!**************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.iterator.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var defineWellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol-define */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol-define.js");

// `Symbol.iterator` well-known symbol
// https://tc39.es/ecma262/#sec-symbol.iterator
defineWellKnownSymbol('iterator');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.js":
/*!*****************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's split to modules listed below
__webpack_require__(/*! ../modules/es.symbol.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.constructor.js");
__webpack_require__(/*! ../modules/es.symbol.for */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.for.js");
__webpack_require__(/*! ../modules/es.symbol.key-for */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.key-for.js");
__webpack_require__(/*! ../modules/es.json.stringify */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.json.stringify.js");
__webpack_require__(/*! ../modules/es.object.get-own-property-symbols */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.object.get-own-property-symbols.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.symbol.key-for.js":
/*!*************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\es.symbol.key-for.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var isSymbol = __webpack_require__(/*! ../internals/is-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-symbol.js");
var tryToString = __webpack_require__(/*! ../internals/try-to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\try-to-string.js");
var shared = __webpack_require__(/*! ../internals/shared */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\shared.js");
var NATIVE_SYMBOL_REGISTRY = __webpack_require__(/*! ../internals/symbol-registry-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\symbol-registry-detection.js");

var SymbolToStringRegistry = shared('symbol-to-string-registry');

// `Symbol.keyFor` method
// https://tc39.es/ecma262/#sec-symbol.keyfor
$({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(tryToString(sym) + ' is not a symbol');
    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
  }
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.for-each.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.dom-collections.for-each.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js");
var DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js");
var forEach = __webpack_require__(/*! ../internals/array-for-each */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-for-each.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");

var handlePrototype = function (CollectionPrototype) {
  // some Chrome versions have non-configurable methods on DOMTokenList
  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {
    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);
  } catch (error) {
    CollectionPrototype.forEach = forEach;
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  if (DOMIterables[COLLECTION_NAME]) {
    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);
  }
}

handlePrototype(DOMTokenListPrototype);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.dom-collections.iterator.js":
/*!************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.dom-collections.iterator.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var DOMIterables = __webpack_require__(/*! ../internals/dom-iterables */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-iterables.js");
var DOMTokenListPrototype = __webpack_require__(/*! ../internals/dom-token-list-prototype */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\dom-token-list-prototype.js");
var ArrayIteratorMethods = __webpack_require__(/*! ../modules/es.array.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
var createNonEnumerableProperty = __webpack_require__(/*! ../internals/create-non-enumerable-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-non-enumerable-property.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");

var ITERATOR = wellKnownSymbol('iterator');
var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var ArrayValues = ArrayIteratorMethods.values;

var handlePrototype = function (CollectionPrototype, COLLECTION_NAME) {
  if (CollectionPrototype) {
    // some Chrome versions have non-configurable methods on DOMTokenList
    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {
      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
    } catch (error) {
      CollectionPrototype[ITERATOR] = ArrayValues;
    }
    if (!CollectionPrototype[TO_STRING_TAG]) {
      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
    }
    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {
      // some Chrome versions have non-configurable methods on DOMTokenList
      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {
        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
      } catch (error) {
        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
      }
    }
  }
};

for (var COLLECTION_NAME in DOMIterables) {
  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype, COLLECTION_NAME);
}

handlePrototype(DOMTokenListPrototype, 'DOMTokenList');


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js":
/*!*****************************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url-search-params.constructor.js ***!
  \*****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(/*! ../modules/es.array.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.array.iterator.js");
var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var call = __webpack_require__(/*! ../internals/function-call */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-call.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var USE_NATIVE_URL = __webpack_require__(/*! ../internals/url-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var defineBuiltIns = __webpack_require__(/*! ../internals/define-built-ins */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-ins.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var createIteratorConstructor = __webpack_require__(/*! ../internals/iterator-create-constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\iterator-create-constructor.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var isCallable = __webpack_require__(/*! ../internals/is-callable */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-callable.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var classof = __webpack_require__(/*! ../internals/classof */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\classof.js");
var anObject = __webpack_require__(/*! ../internals/an-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-object.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\is-object.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var create = __webpack_require__(/*! ../internals/object-create */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-create.js");
var createPropertyDescriptor = __webpack_require__(/*! ../internals/create-property-descriptor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\create-property-descriptor.js");
var getIterator = __webpack_require__(/*! ../internals/get-iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator.js");
var getIteratorMethod = __webpack_require__(/*! ../internals/get-iterator-method */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\get-iterator-method.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var wellKnownSymbol = __webpack_require__(/*! ../internals/well-known-symbol */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\well-known-symbol.js");
var arraySort = __webpack_require__(/*! ../internals/array-sort */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-sort.js");

var ITERATOR = wellKnownSymbol('iterator');
var URL_SEARCH_PARAMS = 'URLSearchParams';
var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + 'Iterator';
var setInternalState = InternalStateModule.set;
var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);
var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);
// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Avoid NodeJS experimental warning
var safeGetBuiltIn = function (name) {
  if (!DESCRIPTORS) return global[name];
  var descriptor = getOwnPropertyDescriptor(global, name);
  return descriptor && descriptor.value;
};

var nativeFetch = safeGetBuiltIn('fetch');
var NativeRequest = safeGetBuiltIn('Request');
var Headers = safeGetBuiltIn('Headers');
var RequestPrototype = NativeRequest && NativeRequest.prototype;
var HeadersPrototype = Headers && Headers.prototype;
var RegExp = global.RegExp;
var TypeError = global.TypeError;
var decodeURIComponent = global.decodeURIComponent;
var encodeURIComponent = global.encodeURIComponent;
var charAt = uncurryThis(''.charAt);
var join = uncurryThis([].join);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var splice = uncurryThis([].splice);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);

var plus = /\+/g;
var sequences = Array(4);

var percentSequence = function (bytes) {
  return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp('((?:%[\\da-f]{2}){' + bytes + '})', 'gi'));
};

var percentDecode = function (sequence) {
  try {
    return decodeURIComponent(sequence);
  } catch (error) {
    return sequence;
  }
};

var deserialize = function (it) {
  var result = replace(it, plus, ' ');
  var bytes = 4;
  try {
    return decodeURIComponent(result);
  } catch (error) {
    while (bytes) {
      result = replace(result, percentSequence(bytes--), percentDecode);
    }
    return result;
  }
};

var find = /[!'()~]|%20/g;

var replacements = {
  '!': '%21',
  "'": '%27',
  '(': '%28',
  ')': '%29',
  '~': '%7E',
  '%20': '+'
};

var replacer = function (match) {
  return replacements[match];
};

var serialize = function (it) {
  return replace(encodeURIComponent(it), find, replacer);
};

var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {
  setInternalState(this, {
    type: URL_SEARCH_PARAMS_ITERATOR,
    iterator: getIterator(getInternalParamsState(params).entries),
    kind: kind
  });
}, 'Iterator', function next() {
  var state = getInternalIteratorState(this);
  var kind = state.kind;
  var step = state.iterator.next();
  var entry = step.value;
  if (!step.done) {
    step.value = kind === 'keys' ? entry.key : kind === 'values' ? entry.value : [entry.key, entry.value];
  } return step;
}, true);

var URLSearchParamsState = function (init) {
  this.entries = [];
  this.url = null;

  if (init !== undefined) {
    if (isObject(init)) this.parseObject(init);
    else this.parseQuery(typeof init == 'string' ? charAt(init, 0) === '?' ? stringSlice(init, 1) : init : $toString(init));
  }
};

URLSearchParamsState.prototype = {
  type: URL_SEARCH_PARAMS,
  bindURL: function (url) {
    this.url = url;
    this.update();
  },
  parseObject: function (object) {
    var iteratorMethod = getIteratorMethod(object);
    var iterator, next, step, entryIterator, entryNext, first, second;

    if (iteratorMethod) {
      iterator = getIterator(object, iteratorMethod);
      next = iterator.next;
      while (!(step = call(next, iterator)).done) {
        entryIterator = getIterator(anObject(step.value));
        entryNext = entryIterator.next;
        if (
          (first = call(entryNext, entryIterator)).done ||
          (second = call(entryNext, entryIterator)).done ||
          !call(entryNext, entryIterator).done
        ) throw TypeError('Expected sequence with length 2');
        push(this.entries, { key: $toString(first.value), value: $toString(second.value) });
      }
    } else for (var key in object) if (hasOwn(object, key)) {
      push(this.entries, { key: key, value: $toString(object[key]) });
    }
  },
  parseQuery: function (query) {
    if (query) {
      var attributes = split(query, '&');
      var index = 0;
      var attribute, entry;
      while (index < attributes.length) {
        attribute = attributes[index++];
        if (attribute.length) {
          entry = split(attribute, '=');
          push(this.entries, {
            key: deserialize(shift(entry)),
            value: deserialize(join(entry, '='))
          });
        }
      }
    }
  },
  serialize: function () {
    var entries = this.entries;
    var result = [];
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      push(result, serialize(entry.key) + '=' + serialize(entry.value));
    } return join(result, '&');
  },
  update: function () {
    this.entries.length = 0;
    this.parseQuery(this.url.query);
  },
  updateURL: function () {
    if (this.url) this.url.update();
  }
};

// `URLSearchParams` constructor
// https://url.spec.whatwg.org/#interface-urlsearchparams
var URLSearchParamsConstructor = function URLSearchParams(/* init */) {
  anInstance(this, URLSearchParamsPrototype);
  var init = arguments.length > 0 ? arguments[0] : undefined;
  var state = setInternalState(this, new URLSearchParamsState(init));
  if (!DESCRIPTORS) this.length = state.entries.length;
};

var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;

defineBuiltIns(URLSearchParamsPrototype, {
  // `URLSearchParams.prototype.append` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-append
  append: function append(name, value) {
    validateArgumentsLength(arguments.length, 2);
    var state = getInternalParamsState(this);
    push(state.entries, { key: $toString(name), value: $toString(value) });
    if (!DESCRIPTORS) this.length++;
    state.updateURL();
  },
  // `URLSearchParams.prototype.delete` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-delete
  'delete': function (name) {
    validateArgumentsLength(arguments.length, 1);
    var state = getInternalParamsState(this);
    var entries = state.entries;
    var key = $toString(name);
    var index = 0;
    while (index < entries.length) {
      if (entries[index].key === key) splice(entries, index, 1);
      else index++;
    }
    if (!DESCRIPTORS) this.length = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.get` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-get
  get: function get(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) return entries[index].value;
    }
    return null;
  },
  // `URLSearchParams.prototype.getAll` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-getall
  getAll: function getAll(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var result = [];
    var index = 0;
    for (; index < entries.length; index++) {
      if (entries[index].key === key) push(result, entries[index].value);
    }
    return result;
  },
  // `URLSearchParams.prototype.has` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-has
  has: function has(name) {
    validateArgumentsLength(arguments.length, 1);
    var entries = getInternalParamsState(this).entries;
    var key = $toString(name);
    var index = 0;
    while (index < entries.length) {
      if (entries[index++].key === key) return true;
    }
    return false;
  },
  // `URLSearchParams.prototype.set` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-set
  set: function set(name, value) {
    validateArgumentsLength(arguments.length, 1);
    var state = getInternalParamsState(this);
    var entries = state.entries;
    var found = false;
    var key = $toString(name);
    var val = $toString(value);
    var index = 0;
    var entry;
    for (; index < entries.length; index++) {
      entry = entries[index];
      if (entry.key === key) {
        if (found) splice(entries, index--, 1);
        else {
          found = true;
          entry.value = val;
        }
      }
    }
    if (!found) push(entries, { key: key, value: val });
    if (!DESCRIPTORS) this.length = entries.length;
    state.updateURL();
  },
  // `URLSearchParams.prototype.sort` method
  // https://url.spec.whatwg.org/#dom-urlsearchparams-sort
  sort: function sort() {
    var state = getInternalParamsState(this);
    arraySort(state.entries, function (a, b) {
      return a.key > b.key ? 1 : -1;
    });
    state.updateURL();
  },
  // `URLSearchParams.prototype.forEach` method
  forEach: function forEach(callback /* , thisArg */) {
    var entries = getInternalParamsState(this).entries;
    var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : undefined);
    var index = 0;
    var entry;
    while (index < entries.length) {
      entry = entries[index++];
      boundFunction(entry.value, entry.key, this);
    }
  },
  // `URLSearchParams.prototype.keys` method
  keys: function keys() {
    return new URLSearchParamsIterator(this, 'keys');
  },
  // `URLSearchParams.prototype.values` method
  values: function values() {
    return new URLSearchParamsIterator(this, 'values');
  },
  // `URLSearchParams.prototype.entries` method
  entries: function entries() {
    return new URLSearchParamsIterator(this, 'entries');
  }
}, { enumerable: true });

// `URLSearchParams.prototype[@@iterator]` method
defineBuiltIn(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries, { name: 'entries' });

// `URLSearchParams.prototype.toString` method
// https://url.spec.whatwg.org/#urlsearchparams-stringification-behavior
defineBuiltIn(URLSearchParamsPrototype, 'toString', function toString() {
  return getInternalParamsState(this).serialize();
}, { enumerable: true });

// `URLSearchParams.prototype.size` getter
// https://github.com/whatwg/url/pull/734
if (DESCRIPTORS) defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {
  get: function size() {
    return getInternalParamsState(this).entries.length;
  },
  configurable: true,
  enumerable: true
});

setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);

$({ global: true, constructor: true, forced: !USE_NATIVE_URL }, {
  URLSearchParams: URLSearchParamsConstructor
});

// Wrap `fetch` and `Request` for correct work with polyfilled `URLSearchParams`
if (!USE_NATIVE_URL && isCallable(Headers)) {
  var headersHas = uncurryThis(HeadersPrototype.has);
  var headersSet = uncurryThis(HeadersPrototype.set);

  var wrapRequestOptions = function (init) {
    if (isObject(init)) {
      var body = init.body;
      var headers;
      if (classof(body) === URL_SEARCH_PARAMS) {
        headers = init.headers ? new Headers(init.headers) : new Headers();
        if (!headersHas(headers, 'content-type')) {
          headersSet(headers, 'content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
        return create(init, {
          body: createPropertyDescriptor(0, $toString(body)),
          headers: createPropertyDescriptor(0, headers)
        });
      }
    } return init;
  };

  if (isCallable(nativeFetch)) {
    $({ global: true, enumerable: true, dontCallGetSet: true, forced: true }, {
      fetch: function fetch(input /* , init */) {
        return nativeFetch(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
      }
    });
  }

  if (isCallable(NativeRequest)) {
    var RequestConstructor = function Request(input /* , init */) {
      anInstance(this, RequestPrototype);
      return new NativeRequest(input, arguments.length > 1 ? wrapRequestOptions(arguments[1]) : {});
    };

    RequestPrototype.constructor = RequestConstructor;
    RequestConstructor.prototype = RequestPrototype;

    $({ global: true, constructor: true, dontCallGetSet: true, forced: true }, {
      Request: RequestConstructor
    });
  }
}

module.exports = {
  URLSearchParams: URLSearchParamsConstructor,
  getState: getInternalParamsState
};


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.js":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url-search-params.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(/*! ../modules/web.url-search-params.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.constructor.js":
/*!***************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url.constructor.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

"use strict";

// TODO: in core-js@4, move /modules/ dependencies to public entries for better optimization by tools like `preset-env`
__webpack_require__(/*! ../modules/es.string.iterator */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\es.string.iterator.js");
var $ = __webpack_require__(/*! ../internals/export */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\export.js");
var DESCRIPTORS = __webpack_require__(/*! ../internals/descriptors */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\descriptors.js");
var USE_NATIVE_URL = __webpack_require__(/*! ../internals/url-constructor-detection */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\url-constructor-detection.js");
var global = __webpack_require__(/*! ../internals/global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\global.js");
var bind = __webpack_require__(/*! ../internals/function-bind-context */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-bind-context.js");
var uncurryThis = __webpack_require__(/*! ../internals/function-uncurry-this */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\function-uncurry-this.js");
var defineBuiltIn = __webpack_require__(/*! ../internals/define-built-in */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in.js");
var defineBuiltInAccessor = __webpack_require__(/*! ../internals/define-built-in-accessor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\define-built-in-accessor.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\an-instance.js");
var hasOwn = __webpack_require__(/*! ../internals/has-own-property */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\has-own-property.js");
var assign = __webpack_require__(/*! ../internals/object-assign */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\object-assign.js");
var arrayFrom = __webpack_require__(/*! ../internals/array-from */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-from.js");
var arraySlice = __webpack_require__(/*! ../internals/array-slice-simple */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\array-slice-simple.js");
var codeAt = (__webpack_require__(/*! ../internals/string-multibyte */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-multibyte.js").codeAt);
var toASCII = __webpack_require__(/*! ../internals/string-punycode-to-ascii */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\string-punycode-to-ascii.js");
var $toString = __webpack_require__(/*! ../internals/to-string */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\to-string.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\set-to-string-tag.js");
var validateArgumentsLength = __webpack_require__(/*! ../internals/validate-arguments-length */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\validate-arguments-length.js");
var URLSearchParamsModule = __webpack_require__(/*! ../modules/web.url-search-params.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url-search-params.constructor.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\internals\\internal-state.js");

var setInternalState = InternalStateModule.set;
var getInternalURLState = InternalStateModule.getterFor('URL');
var URLSearchParams = URLSearchParamsModule.URLSearchParams;
var getInternalSearchParamsState = URLSearchParamsModule.getState;

var NativeURL = global.URL;
var TypeError = global.TypeError;
var parseInt = global.parseInt;
var floor = Math.floor;
var pow = Math.pow;
var charAt = uncurryThis(''.charAt);
var exec = uncurryThis(/./.exec);
var join = uncurryThis([].join);
var numberToString = uncurryThis(1.0.toString);
var pop = uncurryThis([].pop);
var push = uncurryThis([].push);
var replace = uncurryThis(''.replace);
var shift = uncurryThis([].shift);
var split = uncurryThis(''.split);
var stringSlice = uncurryThis(''.slice);
var toLowerCase = uncurryThis(''.toLowerCase);
var unshift = uncurryThis([].unshift);

var INVALID_AUTHORITY = 'Invalid authority';
var INVALID_SCHEME = 'Invalid scheme';
var INVALID_HOST = 'Invalid host';
var INVALID_PORT = 'Invalid port';

var ALPHA = /[a-z]/i;
// eslint-disable-next-line regexp/no-obscure-range -- safe
var ALPHANUMERIC = /[\d+-.a-z]/i;
var DIGIT = /\d/;
var HEX_START = /^0x/i;
var OCT = /^[0-7]+$/;
var DEC = /^\d+$/;
var HEX = /^[\da-f]+$/i;
/* eslint-disable regexp/no-control-character -- safe */
var FORBIDDEN_HOST_CODE_POINT = /[\0\t\n\r #%/:<>?@[\\\]^|]/;
var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\0\t\n\r #/:<>?@[\\\]^|]/;
var LEADING_C0_CONTROL_OR_SPACE = /^[\u0000-\u0020]+/;
var TRAILING_C0_CONTROL_OR_SPACE = /(^|[^\u0000-\u0020])[\u0000-\u0020]+$/;
var TAB_AND_NEW_LINE = /[\t\n\r]/g;
/* eslint-enable regexp/no-control-character -- safe */
var EOF;

// https://url.spec.whatwg.org/#ipv4-number-parser
var parseIPv4 = function (input) {
  var parts = split(input, '.');
  var partsLength, numbers, index, part, radix, number, ipv4;
  if (parts.length && parts[parts.length - 1] == '') {
    parts.length--;
  }
  partsLength = parts.length;
  if (partsLength > 4) return input;
  numbers = [];
  for (index = 0; index < partsLength; index++) {
    part = parts[index];
    if (part == '') return input;
    radix = 10;
    if (part.length > 1 && charAt(part, 0) == '0') {
      radix = exec(HEX_START, part) ? 16 : 8;
      part = stringSlice(part, radix == 8 ? 1 : 2);
    }
    if (part === '') {
      number = 0;
    } else {
      if (!exec(radix == 10 ? DEC : radix == 8 ? OCT : HEX, part)) return input;
      number = parseInt(part, radix);
    }
    push(numbers, number);
  }
  for (index = 0; index < partsLength; index++) {
    number = numbers[index];
    if (index == partsLength - 1) {
      if (number >= pow(256, 5 - partsLength)) return null;
    } else if (number > 255) return null;
  }
  ipv4 = pop(numbers);
  for (index = 0; index < numbers.length; index++) {
    ipv4 += numbers[index] * pow(256, 3 - index);
  }
  return ipv4;
};

// https://url.spec.whatwg.org/#concept-ipv6-parser
// eslint-disable-next-line max-statements -- TODO
var parseIPv6 = function (input) {
  var address = [0, 0, 0, 0, 0, 0, 0, 0];
  var pieceIndex = 0;
  var compress = null;
  var pointer = 0;
  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;

  var chr = function () {
    return charAt(input, pointer);
  };

  if (chr() == ':') {
    if (charAt(input, 1) != ':') return;
    pointer += 2;
    pieceIndex++;
    compress = pieceIndex;
  }
  while (chr()) {
    if (pieceIndex == 8) return;
    if (chr() == ':') {
      if (compress !== null) return;
      pointer++;
      pieceIndex++;
      compress = pieceIndex;
      continue;
    }
    value = length = 0;
    while (length < 4 && exec(HEX, chr())) {
      value = value * 16 + parseInt(chr(), 16);
      pointer++;
      length++;
    }
    if (chr() == '.') {
      if (length == 0) return;
      pointer -= length;
      if (pieceIndex > 6) return;
      numbersSeen = 0;
      while (chr()) {
        ipv4Piece = null;
        if (numbersSeen > 0) {
          if (chr() == '.' && numbersSeen < 4) pointer++;
          else return;
        }
        if (!exec(DIGIT, chr())) return;
        while (exec(DIGIT, chr())) {
          number = parseInt(chr(), 10);
          if (ipv4Piece === null) ipv4Piece = number;
          else if (ipv4Piece == 0) return;
          else ipv4Piece = ipv4Piece * 10 + number;
          if (ipv4Piece > 255) return;
          pointer++;
        }
        address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
        numbersSeen++;
        if (numbersSeen == 2 || numbersSeen == 4) pieceIndex++;
      }
      if (numbersSeen != 4) return;
      break;
    } else if (chr() == ':') {
      pointer++;
      if (!chr()) return;
    } else if (chr()) return;
    address[pieceIndex++] = value;
  }
  if (compress !== null) {
    swaps = pieceIndex - compress;
    pieceIndex = 7;
    while (pieceIndex != 0 && swaps > 0) {
      swap = address[pieceIndex];
      address[pieceIndex--] = address[compress + swaps - 1];
      address[compress + --swaps] = swap;
    }
  } else if (pieceIndex != 8) return;
  return address;
};

var findLongestZeroSequence = function (ipv6) {
  var maxIndex = null;
  var maxLength = 1;
  var currStart = null;
  var currLength = 0;
  var index = 0;
  for (; index < 8; index++) {
    if (ipv6[index] !== 0) {
      if (currLength > maxLength) {
        maxIndex = currStart;
        maxLength = currLength;
      }
      currStart = null;
      currLength = 0;
    } else {
      if (currStart === null) currStart = index;
      ++currLength;
    }
  }
  if (currLength > maxLength) {
    maxIndex = currStart;
    maxLength = currLength;
  }
  return maxIndex;
};

// https://url.spec.whatwg.org/#host-serializing
var serializeHost = function (host) {
  var result, index, compress, ignore0;
  // ipv4
  if (typeof host == 'number') {
    result = [];
    for (index = 0; index < 4; index++) {
      unshift(result, host % 256);
      host = floor(host / 256);
    } return join(result, '.');
  // ipv6
  } else if (typeof host == 'object') {
    result = '';
    compress = findLongestZeroSequence(host);
    for (index = 0; index < 8; index++) {
      if (ignore0 && host[index] === 0) continue;
      if (ignore0) ignore0 = false;
      if (compress === index) {
        result += index ? ':' : '::';
        ignore0 = true;
      } else {
        result += numberToString(host[index], 16);
        if (index < 7) result += ':';
      }
    }
    return '[' + result + ']';
  } return host;
};

var C0ControlPercentEncodeSet = {};
var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {
  ' ': 1, '"': 1, '<': 1, '>': 1, '`': 1
});
var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {
  '#': 1, '?': 1, '{': 1, '}': 1
});
var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
  '/': 1, ':': 1, ';': 1, '=': 1, '@': 1, '[': 1, '\\': 1, ']': 1, '^': 1, '|': 1
});

var percentEncode = function (chr, set) {
  var code = codeAt(chr, 0);
  return code > 0x20 && code < 0x7F && !hasOwn(set, chr) ? chr : encodeURIComponent(chr);
};

// https://url.spec.whatwg.org/#special-scheme
var specialSchemes = {
  ftp: 21,
  file: null,
  http: 80,
  https: 443,
  ws: 80,
  wss: 443
};

// https://url.spec.whatwg.org/#windows-drive-letter
var isWindowsDriveLetter = function (string, normalized) {
  var second;
  return string.length == 2 && exec(ALPHA, charAt(string, 0))
    && ((second = charAt(string, 1)) == ':' || (!normalized && second == '|'));
};

// https://url.spec.whatwg.org/#start-with-a-windows-drive-letter
var startsWithWindowsDriveLetter = function (string) {
  var third;
  return string.length > 1 && isWindowsDriveLetter(stringSlice(string, 0, 2)) && (
    string.length == 2 ||
    ((third = charAt(string, 2)) === '/' || third === '\\' || third === '?' || third === '#')
  );
};

// https://url.spec.whatwg.org/#single-dot-path-segment
var isSingleDot = function (segment) {
  return segment === '.' || toLowerCase(segment) === '%2e';
};

// https://url.spec.whatwg.org/#double-dot-path-segment
var isDoubleDot = function (segment) {
  segment = toLowerCase(segment);
  return segment === '..' || segment === '%2e.' || segment === '.%2e' || segment === '%2e%2e';
};

// States:
var SCHEME_START = {};
var SCHEME = {};
var NO_SCHEME = {};
var SPECIAL_RELATIVE_OR_AUTHORITY = {};
var PATH_OR_AUTHORITY = {};
var RELATIVE = {};
var RELATIVE_SLASH = {};
var SPECIAL_AUTHORITY_SLASHES = {};
var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};
var AUTHORITY = {};
var HOST = {};
var HOSTNAME = {};
var PORT = {};
var FILE = {};
var FILE_SLASH = {};
var FILE_HOST = {};
var PATH_START = {};
var PATH = {};
var CANNOT_BE_A_BASE_URL_PATH = {};
var QUERY = {};
var FRAGMENT = {};

var URLState = function (url, isBase, base) {
  var urlString = $toString(url);
  var baseState, failure, searchParams;
  if (isBase) {
    failure = this.parse(urlString);
    if (failure) throw TypeError(failure);
    this.searchParams = null;
  } else {
    if (base !== undefined) baseState = new URLState(base, true);
    failure = this.parse(urlString, null, baseState);
    if (failure) throw TypeError(failure);
    searchParams = getInternalSearchParamsState(new URLSearchParams());
    searchParams.bindURL(this);
    this.searchParams = searchParams;
  }
};

URLState.prototype = {
  type: 'URL',
  // https://url.spec.whatwg.org/#url-parsing
  // eslint-disable-next-line max-statements -- TODO
  parse: function (input, stateOverride, base) {
    var url = this;
    var state = stateOverride || SCHEME_START;
    var pointer = 0;
    var buffer = '';
    var seenAt = false;
    var seenBracket = false;
    var seenPasswordToken = false;
    var codePoints, chr, bufferCodePoints, failure;

    input = $toString(input);

    if (!stateOverride) {
      url.scheme = '';
      url.username = '';
      url.password = '';
      url.host = null;
      url.port = null;
      url.path = [];
      url.query = null;
      url.fragment = null;
      url.cannotBeABaseURL = false;
      input = replace(input, LEADING_C0_CONTROL_OR_SPACE, '');
      input = replace(input, TRAILING_C0_CONTROL_OR_SPACE, '$1');
    }

    input = replace(input, TAB_AND_NEW_LINE, '');

    codePoints = arrayFrom(input);

    while (pointer <= codePoints.length) {
      chr = codePoints[pointer];
      switch (state) {
        case SCHEME_START:
          if (chr && exec(ALPHA, chr)) {
            buffer += toLowerCase(chr);
            state = SCHEME;
          } else if (!stateOverride) {
            state = NO_SCHEME;
            continue;
          } else return INVALID_SCHEME;
          break;

        case SCHEME:
          if (chr && (exec(ALPHANUMERIC, chr) || chr == '+' || chr == '-' || chr == '.')) {
            buffer += toLowerCase(chr);
          } else if (chr == ':') {
            if (stateOverride && (
              (url.isSpecial() != hasOwn(specialSchemes, buffer)) ||
              (buffer == 'file' && (url.includesCredentials() || url.port !== null)) ||
              (url.scheme == 'file' && !url.host)
            )) return;
            url.scheme = buffer;
            if (stateOverride) {
              if (url.isSpecial() && specialSchemes[url.scheme] == url.port) url.port = null;
              return;
            }
            buffer = '';
            if (url.scheme == 'file') {
              state = FILE;
            } else if (url.isSpecial() && base && base.scheme == url.scheme) {
              state = SPECIAL_RELATIVE_OR_AUTHORITY;
            } else if (url.isSpecial()) {
              state = SPECIAL_AUTHORITY_SLASHES;
            } else if (codePoints[pointer + 1] == '/') {
              state = PATH_OR_AUTHORITY;
              pointer++;
            } else {
              url.cannotBeABaseURL = true;
              push(url.path, '');
              state = CANNOT_BE_A_BASE_URL_PATH;
            }
          } else if (!stateOverride) {
            buffer = '';
            state = NO_SCHEME;
            pointer = 0;
            continue;
          } else return INVALID_SCHEME;
          break;

        case NO_SCHEME:
          if (!base || (base.cannotBeABaseURL && chr != '#')) return INVALID_SCHEME;
          if (base.cannotBeABaseURL && chr == '#') {
            url.scheme = base.scheme;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            url.cannotBeABaseURL = true;
            state = FRAGMENT;
            break;
          }
          state = base.scheme == 'file' ? FILE : RELATIVE;
          continue;

        case SPECIAL_RELATIVE_OR_AUTHORITY:
          if (chr == '/' && codePoints[pointer + 1] == '/') {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
            pointer++;
          } else {
            state = RELATIVE;
            continue;
          } break;

        case PATH_OR_AUTHORITY:
          if (chr == '/') {
            state = AUTHORITY;
            break;
          } else {
            state = PATH;
            continue;
          }

        case RELATIVE:
          url.scheme = base.scheme;
          if (chr == EOF) {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
          } else if (chr == '/' || (chr == '\\' && url.isSpecial())) {
            state = RELATIVE_SLASH;
          } else if (chr == '?') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = '';
            state = QUERY;
          } else if (chr == '#') {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.query = base.query;
            url.fragment = '';
            state = FRAGMENT;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            url.path = arraySlice(base.path);
            url.path.length--;
            state = PATH;
            continue;
          } break;

        case RELATIVE_SLASH:
          if (url.isSpecial() && (chr == '/' || chr == '\\')) {
            state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          } else if (chr == '/') {
            state = AUTHORITY;
          } else {
            url.username = base.username;
            url.password = base.password;
            url.host = base.host;
            url.port = base.port;
            state = PATH;
            continue;
          } break;

        case SPECIAL_AUTHORITY_SLASHES:
          state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
          if (chr != '/' || charAt(buffer, pointer + 1) != '/') continue;
          pointer++;
          break;

        case SPECIAL_AUTHORITY_IGNORE_SLASHES:
          if (chr != '/' && chr != '\\') {
            state = AUTHORITY;
            continue;
          } break;

        case AUTHORITY:
          if (chr == '@') {
            if (seenAt) buffer = '%40' + buffer;
            seenAt = true;
            bufferCodePoints = arrayFrom(buffer);
            for (var i = 0; i < bufferCodePoints.length; i++) {
              var codePoint = bufferCodePoints[i];
              if (codePoint == ':' && !seenPasswordToken) {
                seenPasswordToken = true;
                continue;
              }
              var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);
              if (seenPasswordToken) url.password += encodedCodePoints;
              else url.username += encodedCodePoints;
            }
            buffer = '';
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial())
          ) {
            if (seenAt && buffer == '') return INVALID_AUTHORITY;
            pointer -= arrayFrom(buffer).length + 1;
            buffer = '';
            state = HOST;
          } else buffer += chr;
          break;

        case HOST:
        case HOSTNAME:
          if (stateOverride && url.scheme == 'file') {
            state = FILE_HOST;
            continue;
          } else if (chr == ':' && !seenBracket) {
            if (buffer == '') return INVALID_HOST;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PORT;
            if (stateOverride == HOSTNAME) return;
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial())
          ) {
            if (url.isSpecial() && buffer == '') return INVALID_HOST;
            if (stateOverride && buffer == '' && (url.includesCredentials() || url.port !== null)) return;
            failure = url.parseHost(buffer);
            if (failure) return failure;
            buffer = '';
            state = PATH_START;
            if (stateOverride) return;
            continue;
          } else {
            if (chr == '[') seenBracket = true;
            else if (chr == ']') seenBracket = false;
            buffer += chr;
          } break;

        case PORT:
          if (exec(DIGIT, chr)) {
            buffer += chr;
          } else if (
            chr == EOF || chr == '/' || chr == '?' || chr == '#' ||
            (chr == '\\' && url.isSpecial()) ||
            stateOverride
          ) {
            if (buffer != '') {
              var port = parseInt(buffer, 10);
              if (port > 0xFFFF) return INVALID_PORT;
              url.port = (url.isSpecial() && port === specialSchemes[url.scheme]) ? null : port;
              buffer = '';
            }
            if (stateOverride) return;
            state = PATH_START;
            continue;
          } else return INVALID_PORT;
          break;

        case FILE:
          url.scheme = 'file';
          if (chr == '/' || chr == '\\') state = FILE_SLASH;
          else if (base && base.scheme == 'file') {
            if (chr == EOF) {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = base.query;
            } else if (chr == '?') {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = '';
              state = QUERY;
            } else if (chr == '#') {
              url.host = base.host;
              url.path = arraySlice(base.path);
              url.query = base.query;
              url.fragment = '';
              state = FRAGMENT;
            } else {
              if (!startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
                url.host = base.host;
                url.path = arraySlice(base.path);
                url.shortenPath();
              }
              state = PATH;
              continue;
            }
          } else {
            state = PATH;
            continue;
          } break;

        case FILE_SLASH:
          if (chr == '/' || chr == '\\') {
            state = FILE_HOST;
            break;
          }
          if (base && base.scheme == 'file' && !startsWithWindowsDriveLetter(join(arraySlice(codePoints, pointer), ''))) {
            if (isWindowsDriveLetter(base.path[0], true)) push(url.path, base.path[0]);
            else url.host = base.host;
          }
          state = PATH;
          continue;

        case FILE_HOST:
          if (chr == EOF || chr == '/' || chr == '\\' || chr == '?' || chr == '#') {
            if (!stateOverride && isWindowsDriveLetter(buffer)) {
              state = PATH;
            } else if (buffer == '') {
              url.host = '';
              if (stateOverride) return;
              state = PATH_START;
            } else {
              failure = url.parseHost(buffer);
              if (failure) return failure;
              if (url.host == 'localhost') url.host = '';
              if (stateOverride) return;
              buffer = '';
              state = PATH_START;
            } continue;
          } else buffer += chr;
          break;

        case PATH_START:
          if (url.isSpecial()) {
            state = PATH;
            if (chr != '/' && chr != '\\') continue;
          } else if (!stateOverride && chr == '?') {
            url.query = '';
            state = QUERY;
          } else if (!stateOverride && chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            state = PATH;
            if (chr != '/') continue;
          } break;

        case PATH:
          if (
            chr == EOF || chr == '/' ||
            (chr == '\\' && url.isSpecial()) ||
            (!stateOverride && (chr == '?' || chr == '#'))
          ) {
            if (isDoubleDot(buffer)) {
              url.shortenPath();
              if (chr != '/' && !(chr == '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else if (isSingleDot(buffer)) {
              if (chr != '/' && !(chr == '\\' && url.isSpecial())) {
                push(url.path, '');
              }
            } else {
              if (url.scheme == 'file' && !url.path.length && isWindowsDriveLetter(buffer)) {
                if (url.host) url.host = '';
                buffer = charAt(buffer, 0) + ':'; // normalize windows drive letter
              }
              push(url.path, buffer);
            }
            buffer = '';
            if (url.scheme == 'file' && (chr == EOF || chr == '?' || chr == '#')) {
              while (url.path.length > 1 && url.path[0] === '') {
                shift(url.path);
              }
            }
            if (chr == '?') {
              url.query = '';
              state = QUERY;
            } else if (chr == '#') {
              url.fragment = '';
              state = FRAGMENT;
            }
          } else {
            buffer += percentEncode(chr, pathPercentEncodeSet);
          } break;

        case CANNOT_BE_A_BASE_URL_PATH:
          if (chr == '?') {
            url.query = '';
            state = QUERY;
          } else if (chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            url.path[0] += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case QUERY:
          if (!stateOverride && chr == '#') {
            url.fragment = '';
            state = FRAGMENT;
          } else if (chr != EOF) {
            if (chr == "'" && url.isSpecial()) url.query += '%27';
            else if (chr == '#') url.query += '%23';
            else url.query += percentEncode(chr, C0ControlPercentEncodeSet);
          } break;

        case FRAGMENT:
          if (chr != EOF) url.fragment += percentEncode(chr, fragmentPercentEncodeSet);
          break;
      }

      pointer++;
    }
  },
  // https://url.spec.whatwg.org/#host-parsing
  parseHost: function (input) {
    var result, codePoints, index;
    if (charAt(input, 0) == '[') {
      if (charAt(input, input.length - 1) != ']') return INVALID_HOST;
      result = parseIPv6(stringSlice(input, 1, -1));
      if (!result) return INVALID_HOST;
      this.host = result;
    // opaque host
    } else if (!this.isSpecial()) {
      if (exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT, input)) return INVALID_HOST;
      result = '';
      codePoints = arrayFrom(input);
      for (index = 0; index < codePoints.length; index++) {
        result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);
      }
      this.host = result;
    } else {
      input = toASCII(input);
      if (exec(FORBIDDEN_HOST_CODE_POINT, input)) return INVALID_HOST;
      result = parseIPv4(input);
      if (result === null) return INVALID_HOST;
      this.host = result;
    }
  },
  // https://url.spec.whatwg.org/#cannot-have-a-username-password-port
  cannotHaveUsernamePasswordPort: function () {
    return !this.host || this.cannotBeABaseURL || this.scheme == 'file';
  },
  // https://url.spec.whatwg.org/#include-credentials
  includesCredentials: function () {
    return this.username != '' || this.password != '';
  },
  // https://url.spec.whatwg.org/#is-special
  isSpecial: function () {
    return hasOwn(specialSchemes, this.scheme);
  },
  // https://url.spec.whatwg.org/#shorten-a-urls-path
  shortenPath: function () {
    var path = this.path;
    var pathSize = path.length;
    if (pathSize && (this.scheme != 'file' || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {
      path.length--;
    }
  },
  // https://url.spec.whatwg.org/#concept-url-serializer
  serialize: function () {
    var url = this;
    var scheme = url.scheme;
    var username = url.username;
    var password = url.password;
    var host = url.host;
    var port = url.port;
    var path = url.path;
    var query = url.query;
    var fragment = url.fragment;
    var output = scheme + ':';
    if (host !== null) {
      output += '//';
      if (url.includesCredentials()) {
        output += username + (password ? ':' + password : '') + '@';
      }
      output += serializeHost(host);
      if (port !== null) output += ':' + port;
    } else if (scheme == 'file') output += '//';
    output += url.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
    if (query !== null) output += '?' + query;
    if (fragment !== null) output += '#' + fragment;
    return output;
  },
  // https://url.spec.whatwg.org/#dom-url-href
  setHref: function (href) {
    var failure = this.parse(href);
    if (failure) throw TypeError(failure);
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-origin
  getOrigin: function () {
    var scheme = this.scheme;
    var port = this.port;
    if (scheme == 'blob') try {
      return new URLConstructor(scheme.path[0]).origin;
    } catch (error) {
      return 'null';
    }
    if (scheme == 'file' || !this.isSpecial()) return 'null';
    return scheme + '://' + serializeHost(this.host) + (port !== null ? ':' + port : '');
  },
  // https://url.spec.whatwg.org/#dom-url-protocol
  getProtocol: function () {
    return this.scheme + ':';
  },
  setProtocol: function (protocol) {
    this.parse($toString(protocol) + ':', SCHEME_START);
  },
  // https://url.spec.whatwg.org/#dom-url-username
  getUsername: function () {
    return this.username;
  },
  setUsername: function (username) {
    var codePoints = arrayFrom($toString(username));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.username = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-password
  getPassword: function () {
    return this.password;
  },
  setPassword: function (password) {
    var codePoints = arrayFrom($toString(password));
    if (this.cannotHaveUsernamePasswordPort()) return;
    this.password = '';
    for (var i = 0; i < codePoints.length; i++) {
      this.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);
    }
  },
  // https://url.spec.whatwg.org/#dom-url-host
  getHost: function () {
    var host = this.host;
    var port = this.port;
    return host === null ? ''
      : port === null ? serializeHost(host)
      : serializeHost(host) + ':' + port;
  },
  setHost: function (host) {
    if (this.cannotBeABaseURL) return;
    this.parse(host, HOST);
  },
  // https://url.spec.whatwg.org/#dom-url-hostname
  getHostname: function () {
    var host = this.host;
    return host === null ? '' : serializeHost(host);
  },
  setHostname: function (hostname) {
    if (this.cannotBeABaseURL) return;
    this.parse(hostname, HOSTNAME);
  },
  // https://url.spec.whatwg.org/#dom-url-port
  getPort: function () {
    var port = this.port;
    return port === null ? '' : $toString(port);
  },
  setPort: function (port) {
    if (this.cannotHaveUsernamePasswordPort()) return;
    port = $toString(port);
    if (port == '') this.port = null;
    else this.parse(port, PORT);
  },
  // https://url.spec.whatwg.org/#dom-url-pathname
  getPathname: function () {
    var path = this.path;
    return this.cannotBeABaseURL ? path[0] : path.length ? '/' + join(path, '/') : '';
  },
  setPathname: function (pathname) {
    if (this.cannotBeABaseURL) return;
    this.path = [];
    this.parse(pathname, PATH_START);
  },
  // https://url.spec.whatwg.org/#dom-url-search
  getSearch: function () {
    var query = this.query;
    return query ? '?' + query : '';
  },
  setSearch: function (search) {
    search = $toString(search);
    if (search == '') {
      this.query = null;
    } else {
      if ('?' == charAt(search, 0)) search = stringSlice(search, 1);
      this.query = '';
      this.parse(search, QUERY);
    }
    this.searchParams.update();
  },
  // https://url.spec.whatwg.org/#dom-url-searchparams
  getSearchParams: function () {
    return this.searchParams.facade;
  },
  // https://url.spec.whatwg.org/#dom-url-hash
  getHash: function () {
    var fragment = this.fragment;
    return fragment ? '#' + fragment : '';
  },
  setHash: function (hash) {
    hash = $toString(hash);
    if (hash == '') {
      this.fragment = null;
      return;
    }
    if ('#' == charAt(hash, 0)) hash = stringSlice(hash, 1);
    this.fragment = '';
    this.parse(hash, FRAGMENT);
  },
  update: function () {
    this.query = this.searchParams.serialize() || null;
  }
};

// `URL` constructor
// https://url.spec.whatwg.org/#url-class
var URLConstructor = function URL(url /* , base */) {
  var that = anInstance(this, URLPrototype);
  var base = validateArgumentsLength(arguments.length, 1) > 1 ? arguments[1] : undefined;
  var state = setInternalState(that, new URLState(url, false, base));
  if (!DESCRIPTORS) {
    that.href = state.serialize();
    that.origin = state.getOrigin();
    that.protocol = state.getProtocol();
    that.username = state.getUsername();
    that.password = state.getPassword();
    that.host = state.getHost();
    that.hostname = state.getHostname();
    that.port = state.getPort();
    that.pathname = state.getPathname();
    that.search = state.getSearch();
    that.searchParams = state.getSearchParams();
    that.hash = state.getHash();
  }
};

var URLPrototype = URLConstructor.prototype;

var accessorDescriptor = function (getter, setter) {
  return {
    get: function () {
      return getInternalURLState(this)[getter]();
    },
    set: setter && function (value) {
      return getInternalURLState(this)[setter](value);
    },
    configurable: true,
    enumerable: true
  };
};

if (DESCRIPTORS) {
  // `URL.prototype.href` accessors pair
  // https://url.spec.whatwg.org/#dom-url-href
  defineBuiltInAccessor(URLPrototype, 'href', accessorDescriptor('serialize', 'setHref'));
  // `URL.prototype.origin` getter
  // https://url.spec.whatwg.org/#dom-url-origin
  defineBuiltInAccessor(URLPrototype, 'origin', accessorDescriptor('getOrigin'));
  // `URL.prototype.protocol` accessors pair
  // https://url.spec.whatwg.org/#dom-url-protocol
  defineBuiltInAccessor(URLPrototype, 'protocol', accessorDescriptor('getProtocol', 'setProtocol'));
  // `URL.prototype.username` accessors pair
  // https://url.spec.whatwg.org/#dom-url-username
  defineBuiltInAccessor(URLPrototype, 'username', accessorDescriptor('getUsername', 'setUsername'));
  // `URL.prototype.password` accessors pair
  // https://url.spec.whatwg.org/#dom-url-password
  defineBuiltInAccessor(URLPrototype, 'password', accessorDescriptor('getPassword', 'setPassword'));
  // `URL.prototype.host` accessors pair
  // https://url.spec.whatwg.org/#dom-url-host
  defineBuiltInAccessor(URLPrototype, 'host', accessorDescriptor('getHost', 'setHost'));
  // `URL.prototype.hostname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hostname
  defineBuiltInAccessor(URLPrototype, 'hostname', accessorDescriptor('getHostname', 'setHostname'));
  // `URL.prototype.port` accessors pair
  // https://url.spec.whatwg.org/#dom-url-port
  defineBuiltInAccessor(URLPrototype, 'port', accessorDescriptor('getPort', 'setPort'));
  // `URL.prototype.pathname` accessors pair
  // https://url.spec.whatwg.org/#dom-url-pathname
  defineBuiltInAccessor(URLPrototype, 'pathname', accessorDescriptor('getPathname', 'setPathname'));
  // `URL.prototype.search` accessors pair
  // https://url.spec.whatwg.org/#dom-url-search
  defineBuiltInAccessor(URLPrototype, 'search', accessorDescriptor('getSearch', 'setSearch'));
  // `URL.prototype.searchParams` getter
  // https://url.spec.whatwg.org/#dom-url-searchparams
  defineBuiltInAccessor(URLPrototype, 'searchParams', accessorDescriptor('getSearchParams'));
  // `URL.prototype.hash` accessors pair
  // https://url.spec.whatwg.org/#dom-url-hash
  defineBuiltInAccessor(URLPrototype, 'hash', accessorDescriptor('getHash', 'setHash'));
}

// `URL.prototype.toJSON` method
// https://url.spec.whatwg.org/#dom-url-tojson
defineBuiltIn(URLPrototype, 'toJSON', function toJSON() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

// `URL.prototype.toString` method
// https://url.spec.whatwg.org/#URL-stringification-behavior
defineBuiltIn(URLPrototype, 'toString', function toString() {
  return getInternalURLState(this).serialize();
}, { enumerable: true });

if (NativeURL) {
  var nativeCreateObjectURL = NativeURL.createObjectURL;
  var nativeRevokeObjectURL = NativeURL.revokeObjectURL;
  // `URL.createObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL
  if (nativeCreateObjectURL) defineBuiltIn(URLConstructor, 'createObjectURL', bind(nativeCreateObjectURL, NativeURL));
  // `URL.revokeObjectURL` method
  // https://developer.mozilla.org/en-US/docs/Web/API/URL/revokeObjectURL
  if (nativeRevokeObjectURL) defineBuiltIn(URLConstructor, 'revokeObjectURL', bind(nativeRevokeObjectURL, NativeURL));
}

setToStringTag(URLConstructor, 'URL');

$({ global: true, constructor: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {
  URL: URLConstructor
});


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.js":
/*!***************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\core-js\modules\web.url.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

// TODO: Remove this module from `core-js@4` since it's replaced to module below
__webpack_require__(/*! ../modules/web.url.constructor */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\core-js\\modules\\web.url.constructor.js");


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\auto\\auto.mjs":
/*!***********************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\auto\auto.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dist/chart.mjs */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chart.mjs");


_dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.Chart.register(..._dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.registerables);

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_dist_chart_mjs__WEBPACK_IMPORTED_MODULE_0__.Chart);


/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chart.mjs":
/*!************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\dist\chart.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Animation": () => (/* binding */ Animation),
/* harmony export */   "Animations": () => (/* binding */ Animations),
/* harmony export */   "ArcElement": () => (/* binding */ ArcElement),
/* harmony export */   "BarController": () => (/* binding */ BarController),
/* harmony export */   "BarElement": () => (/* binding */ BarElement),
/* harmony export */   "BasePlatform": () => (/* binding */ BasePlatform),
/* harmony export */   "BasicPlatform": () => (/* binding */ BasicPlatform),
/* harmony export */   "BubbleController": () => (/* binding */ BubbleController),
/* harmony export */   "CategoryScale": () => (/* binding */ CategoryScale),
/* harmony export */   "Chart": () => (/* binding */ Chart),
/* harmony export */   "DatasetController": () => (/* binding */ DatasetController),
/* harmony export */   "Decimation": () => (/* binding */ plugin_decimation),
/* harmony export */   "DomPlatform": () => (/* binding */ DomPlatform),
/* harmony export */   "DoughnutController": () => (/* binding */ DoughnutController),
/* harmony export */   "Element": () => (/* binding */ Element),
/* harmony export */   "Filler": () => (/* binding */ index),
/* harmony export */   "Interaction": () => (/* binding */ Interaction),
/* harmony export */   "Legend": () => (/* binding */ plugin_legend),
/* harmony export */   "LineController": () => (/* binding */ LineController),
/* harmony export */   "LineElement": () => (/* binding */ LineElement),
/* harmony export */   "LinearScale": () => (/* binding */ LinearScale),
/* harmony export */   "LogarithmicScale": () => (/* binding */ LogarithmicScale),
/* harmony export */   "PieController": () => (/* binding */ PieController),
/* harmony export */   "PointElement": () => (/* binding */ PointElement),
/* harmony export */   "PolarAreaController": () => (/* binding */ PolarAreaController),
/* harmony export */   "RadarController": () => (/* binding */ RadarController),
/* harmony export */   "RadialLinearScale": () => (/* binding */ RadialLinearScale),
/* harmony export */   "Scale": () => (/* binding */ Scale),
/* harmony export */   "ScatterController": () => (/* binding */ ScatterController),
/* harmony export */   "SubTitle": () => (/* binding */ plugin_subtitle),
/* harmony export */   "Ticks": () => (/* binding */ Ticks),
/* harmony export */   "TimeScale": () => (/* binding */ TimeScale),
/* harmony export */   "TimeSeriesScale": () => (/* binding */ TimeSeriesScale),
/* harmony export */   "Title": () => (/* binding */ plugin_title),
/* harmony export */   "Tooltip": () => (/* binding */ plugin_tooltip),
/* harmony export */   "_adapters": () => (/* binding */ adapters),
/* harmony export */   "_detectPlatform": () => (/* binding */ _detectPlatform),
/* harmony export */   "animator": () => (/* binding */ animator),
/* harmony export */   "controllers": () => (/* binding */ controllers),
/* harmony export */   "defaults": () => (/* reexport safe */ _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d),
/* harmony export */   "elements": () => (/* binding */ elements),
/* harmony export */   "layouts": () => (/* binding */ layouts),
/* harmony export */   "plugins": () => (/* binding */ plugins),
/* harmony export */   "registerables": () => (/* binding */ registerables),
/* harmony export */   "registry": () => (/* binding */ registry),
/* harmony export */   "scales": () => (/* binding */ scales)
/* harmony export */ });
/* harmony import */ var _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunks/helpers.segment.mjs */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chunks\\helpers.segment.mjs");
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */



class Animator {
  constructor() {
    this._request = null;
    this._charts = new Map();
    this._running = false;
    this._lastDate = undefined;
  }
  _notify(chart, anims, date, type) {
    const callbacks = anims.listeners[type];
    const numSteps = anims.duration;
    callbacks.forEach(fn => fn({
      chart,
      initial: anims.initial,
      numSteps,
      currentStep: Math.min(date - anims.start, numSteps)
    }));
  }
  _refresh() {
    if (this._request) {
      return;
    }
    this._running = true;
    this._request = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.r.call(window, () => {
      this._update();
      this._request = null;
      if (this._running) {
        this._refresh();
      }
    });
  }
  _update(date = Date.now()) {
    let remaining = 0;
    this._charts.forEach((anims, chart) => {
      if (!anims.running || !anims.items.length) {
        return;
      }
      const items = anims.items;
      let i = items.length - 1;
      let draw = false;
      let item;
      for (; i >= 0; --i) {
        item = items[i];
        if (item._active) {
          if (item._total > anims.duration) {
            anims.duration = item._total;
          }
          item.tick(date);
          draw = true;
        } else {
          items[i] = items[items.length - 1];
          items.pop();
        }
      }
      if (draw) {
        chart.draw();
        this._notify(chart, anims, date, 'progress');
      }
      if (!items.length) {
        anims.running = false;
        this._notify(chart, anims, date, 'complete');
        anims.initial = false;
      }
      remaining += items.length;
    });
    this._lastDate = date;
    if (remaining === 0) {
      this._running = false;
    }
  }
  _getAnims(chart) {
    const charts = this._charts;
    let anims = charts.get(chart);
    if (!anims) {
      anims = {
        running: false,
        initial: true,
        items: [],
        listeners: {
          complete: [],
          progress: []
        }
      };
      charts.set(chart, anims);
    }
    return anims;
  }
  listen(chart, event, cb) {
    this._getAnims(chart).listeners[event].push(cb);
  }
  add(chart, items) {
    if (!items || !items.length) {
      return;
    }
    this._getAnims(chart).items.push(...items);
  }
  has(chart) {
    return this._getAnims(chart).items.length > 0;
  }
  start(chart) {
    const anims = this._charts.get(chart);
    if (!anims) {
      return;
    }
    anims.running = true;
    anims.start = Date.now();
    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);
    this._refresh();
  }
  running(chart) {
    if (!this._running) {
      return false;
    }
    const anims = this._charts.get(chart);
    if (!anims || !anims.running || !anims.items.length) {
      return false;
    }
    return true;
  }
  stop(chart) {
    const anims = this._charts.get(chart);
    if (!anims || !anims.items.length) {
      return;
    }
    const items = anims.items;
    let i = items.length - 1;
    for (; i >= 0; --i) {
      items[i].cancel();
    }
    anims.items = [];
    this._notify(chart, anims, Date.now(), 'complete');
  }
  remove(chart) {
    return this._charts.delete(chart);
  }
}
var animator = new Animator();

const transparent = 'transparent';
const interpolators = {
  boolean(from, to, factor) {
    return factor > 0.5 ? to : from;
  },
  color(from, to, factor) {
    const c0 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(from || transparent);
    const c1 = c0.valid && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.c)(to || transparent);
    return c1 && c1.valid
      ? c1.mix(c0, factor).hexString()
      : to;
  },
  number(from, to, factor) {
    return from + (to - from) * factor;
  }
};
class Animation {
  constructor(cfg, target, prop, to) {
    const currentValue = target[prop];
    to = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.to, to, currentValue, cfg.from]);
    const from = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.from, currentValue, to]);
    this._active = true;
    this._fn = cfg.fn || interpolators[cfg.type || typeof from];
    this._easing = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.e[cfg.easing] || _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.e.linear;
    this._start = Math.floor(Date.now() + (cfg.delay || 0));
    this._duration = this._total = Math.floor(cfg.duration);
    this._loop = !!cfg.loop;
    this._target = target;
    this._prop = prop;
    this._from = from;
    this._to = to;
    this._promises = undefined;
  }
  active() {
    return this._active;
  }
  update(cfg, to, date) {
    if (this._active) {
      this._notify(false);
      const currentValue = this._target[this._prop];
      const elapsed = date - this._start;
      const remain = this._duration - elapsed;
      this._start = date;
      this._duration = Math.floor(Math.max(remain, cfg.duration));
      this._total += elapsed;
      this._loop = !!cfg.loop;
      this._to = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.to, to, currentValue, cfg.from]);
      this._from = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([cfg.from, currentValue, to]);
    }
  }
  cancel() {
    if (this._active) {
      this.tick(Date.now());
      this._active = false;
      this._notify(false);
    }
  }
  tick(date) {
    const elapsed = date - this._start;
    const duration = this._duration;
    const prop = this._prop;
    const from = this._from;
    const loop = this._loop;
    const to = this._to;
    let factor;
    this._active = from !== to && (loop || (elapsed < duration));
    if (!this._active) {
      this._target[prop] = to;
      this._notify(true);
      return;
    }
    if (elapsed < 0) {
      this._target[prop] = from;
      return;
    }
    factor = (elapsed / duration) % 2;
    factor = loop && factor > 1 ? 2 - factor : factor;
    factor = this._easing(Math.min(1, Math.max(0, factor)));
    this._target[prop] = this._fn(from, to, factor);
  }
  wait() {
    const promises = this._promises || (this._promises = []);
    return new Promise((res, rej) => {
      promises.push({res, rej});
    });
  }
  _notify(resolved) {
    const method = resolved ? 'res' : 'rej';
    const promises = this._promises || [];
    for (let i = 0; i < promises.length; i++) {
      promises[i][method]();
    }
  }
}

const numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];
const colors = ['color', 'borderColor', 'backgroundColor'];
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('animation', {
  delay: undefined,
  duration: 1000,
  easing: 'easeOutQuart',
  fn: undefined,
  from: undefined,
  loop: undefined,
  to: undefined,
  type: undefined,
});
const animationOptions = Object.keys(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.animation);
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('animation', {
  _fallback: false,
  _indexable: false,
  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('animations', {
  colors: {
    type: 'color',
    properties: colors
  },
  numbers: {
    type: 'number',
    properties: numbers
  },
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('animations', {
  _fallback: 'animation',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('transitions', {
  active: {
    animation: {
      duration: 400
    }
  },
  resize: {
    animation: {
      duration: 0
    }
  },
  show: {
    animations: {
      colors: {
        from: 'transparent'
      },
      visible: {
        type: 'boolean',
        duration: 0
      },
    }
  },
  hide: {
    animations: {
      colors: {
        to: 'transparent'
      },
      visible: {
        type: 'boolean',
        easing: 'linear',
        fn: v => v | 0
      },
    }
  }
});
class Animations {
  constructor(chart, config) {
    this._chart = chart;
    this._properties = new Map();
    this.configure(config);
  }
  configure(config) {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(config)) {
      return;
    }
    const animatedProps = this._properties;
    Object.getOwnPropertyNames(config).forEach(key => {
      const cfg = config[key];
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(cfg)) {
        return;
      }
      const resolved = {};
      for (const option of animationOptions) {
        resolved[option] = cfg[option];
      }
      ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(cfg.properties) && cfg.properties || [key]).forEach((prop) => {
        if (prop === key || !animatedProps.has(prop)) {
          animatedProps.set(prop, resolved);
        }
      });
    });
  }
  _animateOptions(target, values) {
    const newOptions = values.options;
    const options = resolveTargetOptions(target, newOptions);
    if (!options) {
      return [];
    }
    const animations = this._createAnimations(options, newOptions);
    if (newOptions.$shared) {
      awaitAll(target.options.$animations, newOptions).then(() => {
        target.options = newOptions;
      }, () => {
      });
    }
    return animations;
  }
  _createAnimations(target, values) {
    const animatedProps = this._properties;
    const animations = [];
    const running = target.$animations || (target.$animations = {});
    const props = Object.keys(values);
    const date = Date.now();
    let i;
    for (i = props.length - 1; i >= 0; --i) {
      const prop = props[i];
      if (prop.charAt(0) === '$') {
        continue;
      }
      if (prop === 'options') {
        animations.push(...this._animateOptions(target, values));
        continue;
      }
      const value = values[prop];
      let animation = running[prop];
      const cfg = animatedProps.get(prop);
      if (animation) {
        if (cfg && animation.active()) {
          animation.update(cfg, value, date);
          continue;
        } else {
          animation.cancel();
        }
      }
      if (!cfg || !cfg.duration) {
        target[prop] = value;
        continue;
      }
      running[prop] = animation = new Animation(cfg, target, prop, value);
      animations.push(animation);
    }
    return animations;
  }
  update(target, values) {
    if (this._properties.size === 0) {
      Object.assign(target, values);
      return;
    }
    const animations = this._createAnimations(target, values);
    if (animations.length) {
      animator.add(this._chart, animations);
      return true;
    }
  }
}
function awaitAll(animations, properties) {
  const running = [];
  const keys = Object.keys(properties);
  for (let i = 0; i < keys.length; i++) {
    const anim = animations[keys[i]];
    if (anim && anim.active()) {
      running.push(anim.wait());
    }
  }
  return Promise.all(running);
}
function resolveTargetOptions(target, newOptions) {
  if (!newOptions) {
    return;
  }
  let options = target.options;
  if (!options) {
    target.options = newOptions;
    return;
  }
  if (options.$shared) {
    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});
  }
  return options;
}

function scaleClip(scale, allowedOverflow) {
  const opts = scale && scale.options || {};
  const reverse = opts.reverse;
  const min = opts.min === undefined ? allowedOverflow : 0;
  const max = opts.max === undefined ? allowedOverflow : 0;
  return {
    start: reverse ? max : min,
    end: reverse ? min : max
  };
}
function defaultClip(xScale, yScale, allowedOverflow) {
  if (allowedOverflow === false) {
    return false;
  }
  const x = scaleClip(xScale, allowedOverflow);
  const y = scaleClip(yScale, allowedOverflow);
  return {
    top: y.end,
    right: x.end,
    bottom: y.start,
    left: x.start
  };
}
function toClip(value) {
  let t, r, b, l;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value)) {
    t = value.top;
    r = value.right;
    b = value.bottom;
    l = value.left;
  } else {
    t = r = b = l = value;
  }
  return {
    top: t,
    right: r,
    bottom: b,
    left: l,
    disabled: value === false
  };
}
function getSortedDatasetIndices(chart, filterVisible) {
  const keys = [];
  const metasets = chart._getSortedDatasetMetas(filterVisible);
  let i, ilen;
  for (i = 0, ilen = metasets.length; i < ilen; ++i) {
    keys.push(metasets[i].index);
  }
  return keys;
}
function applyStack(stack, value, dsIndex, options = {}) {
  const keys = stack.keys;
  const singleMode = options.mode === 'single';
  let i, ilen, datasetIndex, otherValue;
  if (value === null) {
    return;
  }
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    datasetIndex = +keys[i];
    if (datasetIndex === dsIndex) {
      if (options.all) {
        continue;
      }
      break;
    }
    otherValue = stack.values[datasetIndex];
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(otherValue) && (singleMode || (value === 0 || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value) === (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(otherValue)))) {
      value += otherValue;
    }
  }
  return value;
}
function convertObjectDataToArray(data) {
  const keys = Object.keys(data);
  const adata = new Array(keys.length);
  let i, ilen, key;
  for (i = 0, ilen = keys.length; i < ilen; ++i) {
    key = keys[i];
    adata[i] = {
      x: key,
      y: data[key]
    };
  }
  return adata;
}
function isStacked(scale, meta) {
  const stacked = scale && scale.options.stacked;
  return stacked || (stacked === undefined && meta.stack !== undefined);
}
function getStackKey(indexScale, valueScale, meta) {
  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;
}
function getUserBounds(scale) {
  const {min, max, minDefined, maxDefined} = scale.getUserBounds();
  return {
    min: minDefined ? min : Number.NEGATIVE_INFINITY,
    max: maxDefined ? max : Number.POSITIVE_INFINITY
  };
}
function getOrCreateStack(stacks, stackKey, indexValue) {
  const subStack = stacks[stackKey] || (stacks[stackKey] = {});
  return subStack[indexValue] || (subStack[indexValue] = {});
}
function getLastIndexInStack(stack, vScale, positive, type) {
  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {
    const value = stack[meta.index];
    if ((positive && value > 0) || (!positive && value < 0)) {
      return meta.index;
    }
  }
  return null;
}
function updateStacks(controller, parsed) {
  const {chart, _cachedMeta: meta} = controller;
  const stacks = chart._stacks || (chart._stacks = {});
  const {iScale, vScale, index: datasetIndex} = meta;
  const iAxis = iScale.axis;
  const vAxis = vScale.axis;
  const key = getStackKey(iScale, vScale, meta);
  const ilen = parsed.length;
  let stack;
  for (let i = 0; i < ilen; ++i) {
    const item = parsed[i];
    const {[iAxis]: index, [vAxis]: value} = item;
    const itemStacks = item._stacks || (item._stacks = {});
    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);
    stack[datasetIndex] = value;
    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);
    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);
  }
}
function getFirstScaleId(chart, axis) {
  const scales = chart.scales;
  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();
}
function createDatasetContext(parent, index) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent,
    {
      active: false,
      dataset: undefined,
      datasetIndex: index,
      index,
      mode: 'default',
      type: 'dataset'
    }
  );
}
function createDataContext(parent, index, element) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    active: false,
    dataIndex: index,
    parsed: undefined,
    raw: undefined,
    element,
    index,
    mode: 'default',
    type: 'data'
  });
}
function clearStacks(meta, items) {
  const datasetIndex = meta.controller.index;
  const axis = meta.vScale && meta.vScale.axis;
  if (!axis) {
    return;
  }
  items = items || meta._parsed;
  for (const parsed of items) {
    const stacks = parsed._stacks;
    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {
      return;
    }
    delete stacks[axis][datasetIndex];
  }
}
const isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';
const cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);
const createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked
  && {keys: getSortedDatasetIndices(chart, true), values: null};
class DatasetController {
  constructor(chart, datasetIndex) {
    this.chart = chart;
    this._ctx = chart.ctx;
    this.index = datasetIndex;
    this._cachedDataOpts = {};
    this._cachedMeta = this.getMeta();
    this._type = this._cachedMeta.type;
    this.options = undefined;
    this._parsing = false;
    this._data = undefined;
    this._objectData = undefined;
    this._sharedOptions = undefined;
    this._drawStart = undefined;
    this._drawCount = undefined;
    this.enableOptionSharing = false;
    this.supportsDecimation = false;
    this.$context = undefined;
    this._syncList = [];
    this.initialize();
  }
  initialize() {
    const meta = this._cachedMeta;
    this.configure();
    this.linkScales();
    meta._stacked = isStacked(meta.vScale, meta);
    this.addElements();
  }
  updateIndex(datasetIndex) {
    if (this.index !== datasetIndex) {
      clearStacks(this._cachedMeta);
    }
    this.index = datasetIndex;
  }
  linkScales() {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;
    const xid = meta.xAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.xAxisID, getFirstScaleId(chart, 'x'));
    const yid = meta.yAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.yAxisID, getFirstScaleId(chart, 'y'));
    const rid = meta.rAxisID = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(dataset.rAxisID, getFirstScaleId(chart, 'r'));
    const indexAxis = meta.indexAxis;
    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);
    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);
    meta.xScale = this.getScaleForId(xid);
    meta.yScale = this.getScaleForId(yid);
    meta.rScale = this.getScaleForId(rid);
    meta.iScale = this.getScaleForId(iid);
    meta.vScale = this.getScaleForId(vid);
  }
  getDataset() {
    return this.chart.data.datasets[this.index];
  }
  getMeta() {
    return this.chart.getDatasetMeta(this.index);
  }
  getScaleForId(scaleID) {
    return this.chart.scales[scaleID];
  }
  _getOtherScale(scale) {
    const meta = this._cachedMeta;
    return scale === meta.iScale
      ? meta.vScale
      : meta.iScale;
  }
  reset() {
    this._update('reset');
  }
  _destroy() {
    const meta = this._cachedMeta;
    if (this._data) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.u)(this._data, this);
    }
    if (meta._stacked) {
      clearStacks(meta);
    }
  }
  _dataCheck() {
    const dataset = this.getDataset();
    const data = dataset.data || (dataset.data = []);
    const _data = this._data;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data)) {
      this._data = convertObjectDataToArray(data);
    } else if (_data !== data) {
      if (_data) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.u)(_data, this);
        const meta = this._cachedMeta;
        clearStacks(meta);
        meta._parsed = [];
      }
      if (data && Object.isExtensible(data)) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.l)(data, this);
      }
      this._syncList = [];
      this._data = data;
    }
  }
  addElements() {
    const meta = this._cachedMeta;
    this._dataCheck();
    if (this.datasetElementType) {
      meta.dataset = new this.datasetElementType();
    }
  }
  buildOrUpdateElements(resetNewElements) {
    const meta = this._cachedMeta;
    const dataset = this.getDataset();
    let stackChanged = false;
    this._dataCheck();
    const oldStacked = meta._stacked;
    meta._stacked = isStacked(meta.vScale, meta);
    if (meta.stack !== dataset.stack) {
      stackChanged = true;
      clearStacks(meta);
      meta.stack = dataset.stack;
    }
    this._resyncElements(resetNewElements);
    if (stackChanged || oldStacked !== meta._stacked) {
      updateStacks(this, meta._parsed);
    }
  }
  configure() {
    const config = this.chart.config;
    const scopeKeys = config.datasetScopeKeys(this._type);
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);
    this.options = config.createResolver(scopes, this.getContext());
    this._parsing = this.options.parsing;
    this._cachedDataOpts = {};
  }
  parse(start, count) {
    const {_cachedMeta: meta, _data: data} = this;
    const {iScale, _stacked} = meta;
    const iAxis = iScale.axis;
    let sorted = start === 0 && count === data.length ? true : meta._sorted;
    let prev = start > 0 && meta._parsed[start - 1];
    let i, cur, parsed;
    if (this._parsing === false) {
      meta._parsed = data;
      meta._sorted = true;
      parsed = data;
    } else {
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(data[start])) {
        parsed = this.parseArrayData(meta, data, start, count);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data[start])) {
        parsed = this.parseObjectData(meta, data, start, count);
      } else {
        parsed = this.parsePrimitiveData(meta, data, start, count);
      }
      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);
      for (i = 0; i < count; ++i) {
        meta._parsed[i + start] = cur = parsed[i];
        if (sorted) {
          if (isNotInOrderComparedToPrev()) {
            sorted = false;
          }
          prev = cur;
        }
      }
      meta._sorted = sorted;
    }
    if (_stacked) {
      updateStacks(this, parsed);
    }
  }
  parsePrimitiveData(meta, data, start, count) {
    const {iScale, vScale} = meta;
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const labels = iScale.getLabels();
    const singleScale = iScale === vScale;
    const parsed = new Array(count);
    let i, ilen, index;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      parsed[i] = {
        [iAxis]: singleScale || iScale.parse(labels[index], index),
        [vAxis]: vScale.parse(data[index], index)
      };
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const {xScale, yScale} = meta;
    const parsed = new Array(count);
    let i, ilen, index, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      item = data[index];
      parsed[i] = {
        x: xScale.parse(item[0], index),
        y: yScale.parse(item[1], index)
      };
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const {xScale, yScale} = meta;
    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;
    const parsed = new Array(count);
    let i, ilen, index, item;
    for (i = 0, ilen = count; i < ilen; ++i) {
      index = i + start;
      item = data[index];
      parsed[i] = {
        x: xScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(item, xAxisKey), index),
        y: yScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(item, yAxisKey), index)
      };
    }
    return parsed;
  }
  getParsed(index) {
    return this._cachedMeta._parsed[index];
  }
  getDataElement(index) {
    return this._cachedMeta.data[index];
  }
  applyStack(scale, parsed, mode) {
    const chart = this.chart;
    const meta = this._cachedMeta;
    const value = parsed[scale.axis];
    const stack = {
      keys: getSortedDatasetIndices(chart, true),
      values: parsed._stacks[scale.axis]
    };
    return applyStack(stack, value, meta.index, {mode});
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    const parsedValue = parsed[scale.axis];
    let value = parsedValue === null ? NaN : parsedValue;
    const values = stack && parsed._stacks[scale.axis];
    if (stack && values) {
      stack.values = values;
      value = applyStack(stack, parsedValue, this._cachedMeta.index);
    }
    range.min = Math.min(range.min, value);
    range.max = Math.max(range.max, value);
  }
  getMinMax(scale, canStack) {
    const meta = this._cachedMeta;
    const _parsed = meta._parsed;
    const sorted = meta._sorted && scale === meta.iScale;
    const ilen = _parsed.length;
    const otherScale = this._getOtherScale(scale);
    const stack = createStack(canStack, meta, this.chart);
    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};
    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);
    let i, parsed;
    function _skip() {
      parsed = _parsed[i];
      const otherValue = parsed[otherScale.axis];
      return !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;
    }
    for (i = 0; i < ilen; ++i) {
      if (_skip()) {
        continue;
      }
      this.updateRangeFromParsed(range, scale, parsed, stack);
      if (sorted) {
        break;
      }
    }
    if (sorted) {
      for (i = ilen - 1; i >= 0; --i) {
        if (_skip()) {
          continue;
        }
        this.updateRangeFromParsed(range, scale, parsed, stack);
        break;
      }
    }
    return range;
  }
  getAllParsedValues(scale) {
    const parsed = this._cachedMeta._parsed;
    const values = [];
    let i, ilen, value;
    for (i = 0, ilen = parsed.length; i < ilen; ++i) {
      value = parsed[i][scale.axis];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value)) {
        values.push(value);
      }
    }
    return values;
  }
  getMaxOverflow() {
    return false;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const vScale = meta.vScale;
    const parsed = this.getParsed(index);
    return {
      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',
      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''
    };
  }
  _update(mode) {
    const meta = this._cachedMeta;
    this.update(mode || 'default');
    meta._clip = toClip((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));
  }
  update(mode) {}
  draw() {
    const ctx = this._ctx;
    const chart = this.chart;
    const meta = this._cachedMeta;
    const elements = meta.data || [];
    const area = chart.chartArea;
    const active = [];
    const start = this._drawStart || 0;
    const count = this._drawCount || (elements.length - start);
    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;
    let i;
    if (meta.dataset) {
      meta.dataset.draw(ctx, area, start, count);
    }
    for (i = start; i < start + count; ++i) {
      const element = elements[i];
      if (element.hidden) {
        continue;
      }
      if (element.active && drawActiveElementsOnTop) {
        active.push(element);
      } else {
        element.draw(ctx, area);
      }
    }
    for (i = 0; i < active.length; ++i) {
      active[i].draw(ctx, area);
    }
  }
  getStyle(index, active) {
    const mode = active ? 'active' : 'default';
    return index === undefined && this._cachedMeta.dataset
      ? this.resolveDatasetElementOptions(mode)
      : this.resolveDataElementOptions(index || 0, mode);
  }
  getContext(index, active, mode) {
    const dataset = this.getDataset();
    let context;
    if (index >= 0 && index < this._cachedMeta.data.length) {
      const element = this._cachedMeta.data[index];
      context = element.$context ||
        (element.$context = createDataContext(this.getContext(), index, element));
      context.parsed = this.getParsed(index);
      context.raw = dataset.data[index];
      context.index = context.dataIndex = index;
    } else {
      context = this.$context ||
        (this.$context = createDatasetContext(this.chart.getContext(), this.index));
      context.dataset = dataset;
      context.index = context.datasetIndex = this.index;
    }
    context.active = !!active;
    context.mode = mode;
    return context;
  }
  resolveDatasetElementOptions(mode) {
    return this._resolveElementOptions(this.datasetElementType.id, mode);
  }
  resolveDataElementOptions(index, mode) {
    return this._resolveElementOptions(this.dataElementType.id, mode, index);
  }
  _resolveElementOptions(elementType, mode = 'default', index) {
    const active = mode === 'active';
    const cache = this._cachedDataOpts;
    const cacheKey = elementType + '-' + mode;
    const cached = cache[cacheKey];
    const sharing = this.enableOptionSharing && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(index);
    if (cached) {
      return cloneIfNotShared(cached, sharing);
    }
    const config = this.chart.config;
    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);
    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];
    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
    const names = Object.keys(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.elements[elementType]);
    const context = () => this.getContext(index, active);
    const values = config.resolveNamedOptions(scopes, names, context, prefixes);
    if (values.$shared) {
      values.$shared = sharing;
      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));
    }
    return values;
  }
  _resolveAnimations(index, transition, active) {
    const chart = this.chart;
    const cache = this._cachedDataOpts;
    const cacheKey = `animation-${transition}`;
    const cached = cache[cacheKey];
    if (cached) {
      return cached;
    }
    let options;
    if (chart.options.animation !== false) {
      const config = this.chart.config;
      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);
      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);
      options = config.createResolver(scopes, this.getContext(index, active, transition));
    }
    const animations = new Animations(chart, options && options.animations);
    if (options && options._cacheable) {
      cache[cacheKey] = Object.freeze(animations);
    }
    return animations;
  }
  getSharedOptions(options) {
    if (!options.$shared) {
      return;
    }
    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));
  }
  includeOptions(mode, sharedOptions) {
    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;
  }
  _getSharedOptions(start, mode) {
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const previouslySharedOptions = this._sharedOptions;
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions) || (sharedOptions !== previouslySharedOptions);
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
    return {sharedOptions, includeOptions};
  }
  updateElement(element, index, properties, mode) {
    if (isDirectUpdateMode(mode)) {
      Object.assign(element, properties);
    } else {
      this._resolveAnimations(index, mode).update(element, properties);
    }
  }
  updateSharedOptions(sharedOptions, mode, newOptions) {
    if (sharedOptions && !isDirectUpdateMode(mode)) {
      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);
    }
  }
  _setStyle(element, index, mode, active) {
    element.active = active;
    const options = this.getStyle(index, active);
    this._resolveAnimations(index, mode, active).update(element, {
      options: (!active && this.getSharedOptions(options)) || options
    });
  }
  removeHoverStyle(element, datasetIndex, index) {
    this._setStyle(element, index, 'active', false);
  }
  setHoverStyle(element, datasetIndex, index) {
    this._setStyle(element, index, 'active', true);
  }
  _removeDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, undefined, 'active', false);
    }
  }
  _setDatasetHoverStyle() {
    const element = this._cachedMeta.dataset;
    if (element) {
      this._setStyle(element, undefined, 'active', true);
    }
  }
  _resyncElements(resetNewElements) {
    const data = this._data;
    const elements = this._cachedMeta.data;
    for (const [method, arg1, arg2] of this._syncList) {
      this[method](arg1, arg2);
    }
    this._syncList = [];
    const numMeta = elements.length;
    const numData = data.length;
    const count = Math.min(numData, numMeta);
    if (count) {
      this.parse(0, count);
    }
    if (numData > numMeta) {
      this._insertElements(numMeta, numData - numMeta, resetNewElements);
    } else if (numData < numMeta) {
      this._removeElements(numData, numMeta - numData);
    }
  }
  _insertElements(start, count, resetNewElements = true) {
    const meta = this._cachedMeta;
    const data = meta.data;
    const end = start + count;
    let i;
    const move = (arr) => {
      arr.length += count;
      for (i = arr.length - 1; i >= end; i--) {
        arr[i] = arr[i - count];
      }
    };
    move(data);
    for (i = start; i < end; ++i) {
      data[i] = new this.dataElementType();
    }
    if (this._parsing) {
      move(meta._parsed);
    }
    this.parse(start, count);
    if (resetNewElements) {
      this.updateElements(data, start, count, 'reset');
    }
  }
  updateElements(element, start, count, mode) {}
  _removeElements(start, count) {
    const meta = this._cachedMeta;
    if (this._parsing) {
      const removed = meta._parsed.splice(start, count);
      if (meta._stacked) {
        clearStacks(meta, removed);
      }
    }
    meta.data.splice(start, count);
  }
  _sync(args) {
    if (this._parsing) {
      this._syncList.push(args);
    } else {
      const [method, arg1, arg2] = args;
      this[method](arg1, arg2);
    }
    this.chart._dataChanges.push([this.index, ...args]);
  }
  _onDataPush() {
    const count = arguments.length;
    this._sync(['_insertElements', this.getDataset().data.length - count, count]);
  }
  _onDataPop() {
    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);
  }
  _onDataShift() {
    this._sync(['_removeElements', 0, 1]);
  }
  _onDataSplice(start, count) {
    if (count) {
      this._sync(['_removeElements', start, count]);
    }
    const newCount = arguments.length - 2;
    if (newCount) {
      this._sync(['_insertElements', start, newCount]);
    }
  }
  _onDataUnshift() {
    this._sync(['_insertElements', 0, arguments.length]);
  }
}
DatasetController.defaults = {};
DatasetController.prototype.datasetElementType = null;
DatasetController.prototype.dataElementType = null;

function getAllScaleValues(scale, type) {
  if (!scale._cache.$bar) {
    const visibleMetas = scale.getMatchingVisibleMetas(type);
    let values = [];
    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {
      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));
    }
    scale._cache.$bar = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__._)(values.sort((a, b) => a - b));
  }
  return scale._cache.$bar;
}
function computeMinSampleSize(meta) {
  const scale = meta.iScale;
  const values = getAllScaleValues(scale, meta.type);
  let min = scale._length;
  let i, ilen, curr, prev;
  const updateMinAndPrev = () => {
    if (curr === 32767 || curr === -32768) {
      return;
    }
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(prev)) {
      min = Math.min(min, Math.abs(curr - prev) || min);
    }
    prev = curr;
  };
  for (i = 0, ilen = values.length; i < ilen; ++i) {
    curr = scale.getPixelForValue(values[i]);
    updateMinAndPrev();
  }
  prev = undefined;
  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {
    curr = scale.getPixelForTick(i);
    updateMinAndPrev();
  }
  return min;
}
function computeFitCategoryTraits(index, ruler, options, stackCount) {
  const thickness = options.barThickness;
  let size, ratio;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(thickness)) {
    size = ruler.min * options.categoryPercentage;
    ratio = options.barPercentage;
  } else {
    size = thickness * stackCount;
    ratio = 1;
  }
  return {
    chunk: size / stackCount,
    ratio,
    start: ruler.pixels[index] - (size / 2)
  };
}
function computeFlexCategoryTraits(index, ruler, options, stackCount) {
  const pixels = ruler.pixels;
  const curr = pixels[index];
  let prev = index > 0 ? pixels[index - 1] : null;
  let next = index < pixels.length - 1 ? pixels[index + 1] : null;
  const percent = options.categoryPercentage;
  if (prev === null) {
    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);
  }
  if (next === null) {
    next = curr + curr - prev;
  }
  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;
  const size = Math.abs(next - prev) / 2 * percent;
  return {
    chunk: size / stackCount,
    ratio: options.barPercentage,
    start
  };
}
function parseFloatBar(entry, item, vScale, i) {
  const startValue = vScale.parse(entry[0], i);
  const endValue = vScale.parse(entry[1], i);
  const min = Math.min(startValue, endValue);
  const max = Math.max(startValue, endValue);
  let barStart = min;
  let barEnd = max;
  if (Math.abs(min) > Math.abs(max)) {
    barStart = max;
    barEnd = min;
  }
  item[vScale.axis] = barEnd;
  item._custom = {
    barStart,
    barEnd,
    start: startValue,
    end: endValue,
    min,
    max
  };
}
function parseValue(entry, item, vScale, i) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(entry)) {
    parseFloatBar(entry, item, vScale, i);
  } else {
    item[vScale.axis] = vScale.parse(entry, i);
  }
  return item;
}
function parseArrayOrPrimitive(meta, data, start, count) {
  const iScale = meta.iScale;
  const vScale = meta.vScale;
  const labels = iScale.getLabels();
  const singleScale = iScale === vScale;
  const parsed = [];
  let i, ilen, item, entry;
  for (i = start, ilen = start + count; i < ilen; ++i) {
    entry = data[i];
    item = {};
    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);
    parsed.push(parseValue(entry, item, vScale, i));
  }
  return parsed;
}
function isFloatBar(custom) {
  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;
}
function barSign(size, vScale, actualBase) {
  if (size !== 0) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(size);
  }
  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);
}
function borderProps(properties) {
  let reverse, start, end, top, bottom;
  if (properties.horizontal) {
    reverse = properties.base > properties.x;
    start = 'left';
    end = 'right';
  } else {
    reverse = properties.base < properties.y;
    start = 'bottom';
    end = 'top';
  }
  if (reverse) {
    top = 'end';
    bottom = 'start';
  } else {
    top = 'start';
    bottom = 'end';
  }
  return {start, end, reverse, top, bottom};
}
function setBorderSkipped(properties, options, stack, index) {
  let edge = options.borderSkipped;
  const res = {};
  if (!edge) {
    properties.borderSkipped = res;
    return;
  }
  if (edge === true) {
    properties.borderSkipped = {top: true, right: true, bottom: true, left: true};
    return;
  }
  const {start, end, reverse, top, bottom} = borderProps(properties);
  if (edge === 'middle' && stack) {
    properties.enableBorderRadius = true;
    if ((stack._top || 0) === index) {
      edge = top;
    } else if ((stack._bottom || 0) === index) {
      edge = bottom;
    } else {
      res[parseEdge(bottom, start, end, reverse)] = true;
      edge = top;
    }
  }
  res[parseEdge(edge, start, end, reverse)] = true;
  properties.borderSkipped = res;
}
function parseEdge(edge, a, b, reverse) {
  if (reverse) {
    edge = swap(edge, a, b);
    edge = startEnd(edge, b, a);
  } else {
    edge = startEnd(edge, a, b);
  }
  return edge;
}
function swap(orig, v1, v2) {
  return orig === v1 ? v2 : orig === v2 ? v1 : orig;
}
function startEnd(v, start, end) {
  return v === 'start' ? start : v === 'end' ? end : v;
}
function setInflateAmount(properties, {inflateAmount}, ratio) {
  properties.inflateAmount = inflateAmount === 'auto'
    ? ratio === 1 ? 0.33 : 0
    : inflateAmount;
}
class BarController extends DatasetController {
  parsePrimitiveData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseArrayData(meta, data, start, count) {
    return parseArrayOrPrimitive(meta, data, start, count);
  }
  parseObjectData(meta, data, start, count) {
    const {iScale, vScale} = meta;
    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;
    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;
    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;
    const parsed = [];
    let i, ilen, item, obj;
    for (i = start, ilen = start + count; i < ilen; ++i) {
      obj = data[i];
      item = {};
      item[iScale.axis] = iScale.parse((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, iAxisKey), i);
      parsed.push(parseValue((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, vAxisKey), item, vScale, i));
    }
    return parsed;
  }
  updateRangeFromParsed(range, scale, parsed, stack) {
    super.updateRangeFromParsed(range, scale, parsed, stack);
    const custom = parsed._custom;
    if (custom && scale === this._cachedMeta.vScale) {
      range.min = Math.min(range.min, custom.min);
      range.max = Math.max(range.max, custom.max);
    }
  }
  getMaxOverflow() {
    return 0;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const {iScale, vScale} = meta;
    const parsed = this.getParsed(index);
    const custom = parsed._custom;
    const value = isFloatBar(custom)
      ? '[' + custom.start + ', ' + custom.end + ']'
      : '' + vScale.getLabelForValue(parsed[vScale.axis]);
    return {
      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),
      value
    };
  }
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
    const meta = this._cachedMeta;
    meta.stack = this.getDataset().stack;
  }
  update(mode) {
    const meta = this._cachedMeta;
    this.updateElements(meta.data, 0, meta.data.length, mode);
  }
  updateElements(bars, start, count, mode) {
    const reset = mode === 'reset';
    const {index, _cachedMeta: {vScale}} = this;
    const base = vScale.getBasePixel();
    const horizontal = vScale.isHorizontal();
    const ruler = this._getRuler();
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    for (let i = start; i < start + count; i++) {
      const parsed = this.getParsed(i);
      const vpixels = reset || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);
      const ipixels = this._calculateBarIndexPixels(i, ruler);
      const stack = (parsed._stacks || {})[vScale.axis];
      const properties = {
        horizontal,
        base: vpixels.base,
        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),
        x: horizontal ? vpixels.head : ipixels.center,
        y: horizontal ? ipixels.center : vpixels.head,
        height: horizontal ? ipixels.size : Math.abs(vpixels.size),
        width: horizontal ? Math.abs(vpixels.size) : ipixels.size
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);
      }
      const options = properties.options || bars[i].options;
      setBorderSkipped(properties, options, stack, index);
      setInflateAmount(properties, options, ruler.ratio);
      this.updateElement(bars[i], i, properties, mode);
    }
  }
  _getStacks(last, dataIndex) {
    const {iScale} = this._cachedMeta;
    const metasets = iScale.getMatchingVisibleMetas(this._type)
      .filter(meta => meta.controller.options.grouped);
    const stacked = iScale.options.stacked;
    const stacks = [];
    const skipNull = (meta) => {
      const parsed = meta.controller.getParsed(dataIndex);
      const val = parsed && parsed[meta.vScale.axis];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(val) || isNaN(val)) {
        return true;
      }
    };
    for (const meta of metasets) {
      if (dataIndex !== undefined && skipNull(meta)) {
        continue;
      }
      if (stacked === false || stacks.indexOf(meta.stack) === -1 ||
				(stacked === undefined && meta.stack === undefined)) {
        stacks.push(meta.stack);
      }
      if (meta.index === last) {
        break;
      }
    }
    if (!stacks.length) {
      stacks.push(undefined);
    }
    return stacks;
  }
  _getStackCount(index) {
    return this._getStacks(undefined, index).length;
  }
  _getStackIndex(datasetIndex, name, dataIndex) {
    const stacks = this._getStacks(datasetIndex, dataIndex);
    const index = (name !== undefined)
      ? stacks.indexOf(name)
      : -1;
    return (index === -1)
      ? stacks.length - 1
      : index;
  }
  _getRuler() {
    const opts = this.options;
    const meta = this._cachedMeta;
    const iScale = meta.iScale;
    const pixels = [];
    let i, ilen;
    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {
      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));
    }
    const barThickness = opts.barThickness;
    const min = barThickness || computeMinSampleSize(meta);
    return {
      min,
      pixels,
      start: iScale._startPixel,
      end: iScale._endPixel,
      stackCount: this._getStackCount(),
      scale: iScale,
      grouped: opts.grouped,
      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage
    };
  }
  _calculateBarValuePixels(index) {
    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;
    const actualBase = baseValue || 0;
    const parsed = this.getParsed(index);
    const custom = parsed._custom;
    const floating = isFloatBar(custom);
    let value = parsed[vScale.axis];
    let start = 0;
    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;
    let head, size;
    if (length !== value) {
      start = length - value;
      length = value;
    }
    if (floating) {
      value = custom.barStart;
      length = custom.barEnd - custom.barStart;
      if (value !== 0 && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(value) !== (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(custom.barEnd)) {
        start = 0;
      }
      start += value;
    }
    const startValue = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(baseValue) && !floating ? baseValue : start;
    let base = vScale.getPixelForValue(startValue);
    if (this.chart.getDataVisibility(index)) {
      head = vScale.getPixelForValue(start + length);
    } else {
      head = base;
    }
    size = head - base;
    if (Math.abs(size) < minBarLength) {
      size = barSign(size, vScale, actualBase) * minBarLength;
      if (value === actualBase) {
        base -= size / 2;
      }
      const startPixel = vScale.getPixelForDecimal(0);
      const endPixel = vScale.getPixelForDecimal(1);
      const min = Math.min(startPixel, endPixel);
      const max = Math.max(startPixel, endPixel);
      base = Math.max(Math.min(base, max), min);
      head = base + size;
    }
    if (base === vScale.getPixelForValue(actualBase)) {
      const halfGrid = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(size) * vScale.getLineWidthForValue(actualBase) / 2;
      base += halfGrid;
      size -= halfGrid;
    }
    return {
      size,
      base,
      head,
      center: head + size / 2
    };
  }
  _calculateBarIndexPixels(index, ruler) {
    const scale = ruler.scale;
    const options = this.options;
    const skipNull = options.skipNull;
    const maxBarThickness = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.maxBarThickness, Infinity);
    let center, size;
    if (ruler.grouped) {
      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;
      const range = options.barThickness === 'flex'
        ? computeFlexCategoryTraits(index, ruler, options, stackCount)
        : computeFitCategoryTraits(index, ruler, options, stackCount);
      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);
      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);
      size = Math.min(maxBarThickness, range.chunk * range.ratio);
    } else {
      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);
      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);
    }
    return {
      base: center - size / 2,
      head: center + size / 2,
      center,
      size
    };
  }
  draw() {
    const meta = this._cachedMeta;
    const vScale = meta.vScale;
    const rects = meta.data;
    const ilen = rects.length;
    let i = 0;
    for (; i < ilen; ++i) {
      if (this.getParsed(i)[vScale.axis] !== null) {
        rects[i].draw(this._ctx);
      }
    }
  }
}
BarController.id = 'bar';
BarController.defaults = {
  datasetElementType: false,
  dataElementType: 'bar',
  categoryPercentage: 0.8,
  barPercentage: 0.9,
  grouped: true,
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'base', 'width', 'height']
    }
  }
};
BarController.overrides = {
  scales: {
    _index_: {
      type: 'category',
      offset: true,
      grid: {
        offset: true
      }
    },
    _value_: {
      type: 'linear',
      beginAtZero: true,
    }
  }
};

class BubbleController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true;
    super.initialize();
  }
  parsePrimitiveData(meta, data, start, count) {
    const parsed = super.parsePrimitiveData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;
    }
    return parsed;
  }
  parseArrayData(meta, data, start, count) {
    const parsed = super.parseArrayData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(item[2], this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  parseObjectData(meta, data, start, count) {
    const parsed = super.parseObjectData(meta, data, start, count);
    for (let i = 0; i < parsed.length; i++) {
      const item = data[start + i];
      parsed[i]._custom = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);
    }
    return parsed;
  }
  getMaxOverflow() {
    const data = this._cachedMeta.data;
    let max = 0;
    for (let i = data.length - 1; i >= 0; --i) {
      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
    }
    return max > 0 && max;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const {xScale, yScale} = meta;
    const parsed = this.getParsed(index);
    const x = xScale.getLabelForValue(parsed.x);
    const y = yScale.getLabelForValue(parsed.y);
    const r = parsed._custom;
    return {
      label: meta.label,
      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'
    };
  }
  update(mode) {
    const points = this._cachedMeta.data;
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale} = this._cachedMeta;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const parsed = !reset && this.getParsed(i);
      const properties = {};
      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);
      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);
      properties.skip = isNaN(iPixel) || isNaN(vPixel);
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
        if (reset) {
          properties.options.radius = 0;
        }
      }
      this.updateElement(point, i, properties, mode);
    }
  }
  resolveDataElementOptions(index, mode) {
    const parsed = this.getParsed(index);
    let values = super.resolveDataElementOptions(index, mode);
    if (values.$shared) {
      values = Object.assign({}, values, {$shared: false});
    }
    const radius = values.radius;
    if (mode !== 'active') {
      values.radius = 0;
    }
    values.radius += (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(parsed && parsed._custom, radius);
    return values;
  }
}
BubbleController.id = 'bubble';
BubbleController.defaults = {
  datasetElementType: false,
  dataElementType: 'point',
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'borderWidth', 'radius']
    }
  }
};
BubbleController.overrides = {
  scales: {
    x: {
      type: 'linear'
    },
    y: {
      type: 'linear'
    }
  },
  plugins: {
    tooltip: {
      callbacks: {
        title() {
          return '';
        }
      }
    }
  }
};

function getRatioAndOffset(rotation, circumference, cutout) {
  let ratioX = 1;
  let ratioY = 1;
  let offsetX = 0;
  let offsetY = 0;
  if (circumference < _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T) {
    const startAngle = rotation;
    const endAngle = startAngle + circumference;
    const startX = Math.cos(startAngle);
    const startY = Math.sin(startAngle);
    const endX = Math.cos(endAngle);
    const endY = Math.sin(endAngle);
    const calcMax = (angle, a, b) => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);
    const calcMin = (angle, a, b) => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);
    const maxX = calcMax(0, startX, endX);
    const maxY = calcMax(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startY, endY);
    const minX = calcMin(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P, startX, endX);
    const minY = calcMin(_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startY, endY);
    ratioX = (maxX - minX) / 2;
    ratioY = (maxY - minY) / 2;
    offsetX = -(maxX + minX) / 2;
    offsetY = -(maxY + minY) / 2;
  }
  return {ratioX, ratioY, offsetX, offsetY};
}
class DoughnutController extends DatasetController {
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.enableOptionSharing = true;
    this.innerRadius = undefined;
    this.outerRadius = undefined;
    this.offsetX = undefined;
    this.offsetY = undefined;
  }
  linkScales() {}
  parse(start, count) {
    const data = this.getDataset().data;
    const meta = this._cachedMeta;
    if (this._parsing === false) {
      meta._parsed = data;
    } else {
      let getter = (i) => +data[i];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(data[start])) {
        const {key = 'value'} = this._parsing;
        getter = (i) => +(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(data[i], key);
      }
      let i, ilen;
      for (i = start, ilen = start + count; i < ilen; ++i) {
        meta._parsed[i] = getter(i);
      }
    }
  }
  _getRotation() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.rotation - 90);
  }
  _getCircumference() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.circumference);
  }
  _getRotationExtents() {
    let min = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
    let max = -_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
    for (let i = 0; i < this.chart.data.datasets.length; ++i) {
      if (this.chart.isDatasetVisible(i)) {
        const controller = this.chart.getDatasetMeta(i).controller;
        const rotation = controller._getRotation();
        const circumference = controller._getCircumference();
        min = Math.min(min, rotation);
        max = Math.max(max, rotation + circumference);
      }
    }
    return {
      rotation: min,
      circumference: max - min,
    };
  }
  update(mode) {
    const chart = this.chart;
    const {chartArea} = chart;
    const meta = this._cachedMeta;
    const arcs = meta.data;
    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;
    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);
    const cutout = Math.min((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(this.options.cutout, maxSize), 1);
    const chartWeight = this._getRingWeight(this.index);
    const {circumference, rotation} = this._getRotationExtents();
    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);
    const maxWidth = (chartArea.width - spacing) / ratioX;
    const maxHeight = (chartArea.height - spacing) / ratioY;
    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);
    const outerRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.n)(this.options.radius, maxRadius);
    const innerRadius = Math.max(outerRadius * cutout, 0);
    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();
    this.offsetX = offsetX * outerRadius;
    this.offsetY = offsetY * outerRadius;
    meta.total = this.calculateTotal();
    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);
    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  _circumference(i, reset) {
    const opts = this.options;
    const meta = this._cachedMeta;
    const circumference = this._getCircumference();
    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {
      return 0;
    }
    return this.calculateCircumference(meta._parsed[i] * circumference / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === 'reset';
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const centerX = (chartArea.left + chartArea.right) / 2;
    const centerY = (chartArea.top + chartArea.bottom) / 2;
    const animateScale = reset && animationOpts.animateScale;
    const innerRadius = animateScale ? 0 : this.innerRadius;
    const outerRadius = animateScale ? 0 : this.outerRadius;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    let startAngle = this._getRotation();
    let i;
    for (i = 0; i < start; ++i) {
      startAngle += this._circumference(i, reset);
    }
    for (i = start; i < start + count; ++i) {
      const circumference = this._circumference(i, reset);
      const arc = arcs[i];
      const properties = {
        x: centerX + this.offsetX,
        y: centerY + this.offsetY,
        startAngle,
        endAngle: startAngle + circumference,
        circumference,
        outerRadius,
        innerRadius
      };
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);
      }
      startAngle += circumference;
      this.updateElement(arc, i, properties, mode);
    }
  }
  calculateTotal() {
    const meta = this._cachedMeta;
    const metaData = meta.data;
    let total = 0;
    let i;
    for (i = 0; i < metaData.length; i++) {
      const value = meta._parsed[i];
      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {
        total += Math.abs(value);
      }
    }
    return total;
  }
  calculateCircumference(value) {
    const total = this._cachedMeta.total;
    if (total > 0 && !isNaN(value)) {
      return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T * (Math.abs(value) / total);
    }
    return 0;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(meta._parsed[index], chart.options.locale);
    return {
      label: labels[index] || '',
      value,
    };
  }
  getMaxBorderWidth(arcs) {
    let max = 0;
    const chart = this.chart;
    let i, ilen, meta, controller, options;
    if (!arcs) {
      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {
        if (chart.isDatasetVisible(i)) {
          meta = chart.getDatasetMeta(i);
          arcs = meta.data;
          controller = meta.controller;
          break;
        }
      }
    }
    if (!arcs) {
      return 0;
    }
    for (i = 0, ilen = arcs.length; i < ilen; ++i) {
      options = controller.resolveDataElementOptions(i);
      if (options.borderAlign !== 'inner') {
        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);
      }
    }
    return max;
  }
  getMaxOffset(arcs) {
    let max = 0;
    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {
      const options = this.resolveDataElementOptions(i);
      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);
    }
    return max;
  }
  _getRingWeightOffset(datasetIndex) {
    let ringWeightOffset = 0;
    for (let i = 0; i < datasetIndex; ++i) {
      if (this.chart.isDatasetVisible(i)) {
        ringWeightOffset += this._getRingWeight(i);
      }
    }
    return ringWeightOffset;
  }
  _getRingWeight(datasetIndex) {
    return Math.max((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(this.chart.data.datasets[datasetIndex].weight, 1), 0);
  }
  _getVisibleDatasetWeightTotal() {
    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;
  }
}
DoughnutController.id = 'doughnut';
DoughnutController.defaults = {
  datasetElementType: false,
  dataElementType: 'arc',
  animation: {
    animateRotate: true,
    animateScale: false
  },
  animations: {
    numbers: {
      type: 'number',
      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']
    },
  },
  cutout: '50%',
  rotation: 0,
  circumference: 360,
  radius: '100%',
  spacing: 0,
  indexAxis: 'r',
};
DoughnutController.descriptors = {
  _scriptable: (name) => name !== 'spacing',
  _indexable: (name) => name !== 'spacing',
};
DoughnutController.overrides = {
  aspectRatio: 1,
  plugins: {
    legend: {
      labels: {
        generateLabels(chart) {
          const data = chart.data;
          if (data.labels.length && data.datasets.length) {
            const {labels: {pointStyle}} = chart.legend.options;
            return data.labels.map((label, i) => {
              const meta = chart.getDatasetMeta(0);
              const style = meta.controller.getStyle(i);
              return {
                text: label,
                fillStyle: style.backgroundColor,
                strokeStyle: style.borderColor,
                lineWidth: style.borderWidth,
                pointStyle: pointStyle,
                hidden: !chart.getDataVisibility(i),
                index: i
              };
            });
          }
          return [];
        }
      },
      onClick(e, legendItem, legend) {
        legend.chart.toggleDataVisibility(legendItem.index);
        legend.chart.update();
      }
    },
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(tooltipItem) {
          let dataLabel = tooltipItem.label;
          const value = ': ' + tooltipItem.formattedValue;
          if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(dataLabel)) {
            dataLabel = dataLabel.slice();
            dataLabel[0] += value;
          } else {
            dataLabel += value;
          }
          return dataLabel;
        }
      }
    }
  }
};

class LineController extends DatasetController {
  initialize() {
    this.enableOptionSharing = true;
    this.supportsDecimation = true;
    super.initialize();
  }
  update(mode) {
    const meta = this._cachedMeta;
    const {dataset: line, data: points = [], _dataset} = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {start, count} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(meta)) {
      start = 0;
      count = points.length;
    }
    line._chart = this.chart;
    line._datasetIndex = this.index;
    line._decimated = !!_dataset._decimated;
    line.points = points;
    const options = this.resolveDatasetElementOptions(mode);
    if (!this.options.showLine) {
      options.borderWidth = 0;
    }
    options.segment = this.options.segment;
    this.updateElement(line, undefined, {
      animated: !animationsDisabled,
      options
    }, mode);
    this.updateElements(points, start, count, mode);
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;
    const {sharedOptions, includeOptions} = this._getSharedOptions(start, mode);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {spanGaps, segment} = this.options;
    const maxGapLength = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = start; i < start + count; ++i) {
      const point = points[i];
      const parsed = this.getParsed(i);
      const properties = directUpdate ? point : {};
      const nullData = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    const data = meta.data || [];
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
  draw() {
    const meta = this._cachedMeta;
    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);
    super.draw();
  }
}
LineController.id = 'line';
LineController.defaults = {
  datasetElementType: 'line',
  dataElementType: 'point',
  showLine: true,
  spanGaps: false,
};
LineController.overrides = {
  scales: {
    _index_: {
      type: 'category',
    },
    _value_: {
      type: 'linear',
    },
  }
};

class PolarAreaController extends DatasetController {
  constructor(chart, datasetIndex) {
    super(chart, datasetIndex);
    this.innerRadius = undefined;
    this.outerRadius = undefined;
  }
  getLabelAndValue(index) {
    const meta = this._cachedMeta;
    const chart = this.chart;
    const labels = chart.data.labels || [];
    const value = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(meta._parsed[index].r, chart.options.locale);
    return {
      label: labels[index] || '',
      value,
    };
  }
  parseObjectData(meta, data, start, count) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.y.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const arcs = this._cachedMeta.data;
    this._updateRadius();
    this.updateElements(arcs, 0, arcs.length, mode);
  }
  getMinMax() {
    const meta = this._cachedMeta;
    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};
    meta.data.forEach((element, index) => {
      const parsed = this.getParsed(index).r;
      if (!isNaN(parsed) && this.chart.getDataVisibility(index)) {
        if (parsed < range.min) {
          range.min = parsed;
        }
        if (parsed > range.max) {
          range.max = parsed;
        }
      }
    });
    return range;
  }
  _updateRadius() {
    const chart = this.chart;
    const chartArea = chart.chartArea;
    const opts = chart.options;
    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);
    const outerRadius = Math.max(minSize / 2, 0);
    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);
    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();
    this.outerRadius = outerRadius - (radiusLength * this.index);
    this.innerRadius = this.outerRadius - radiusLength;
  }
  updateElements(arcs, start, count, mode) {
    const reset = mode === 'reset';
    const chart = this.chart;
    const opts = chart.options;
    const animationOpts = opts.animation;
    const scale = this._cachedMeta.rScale;
    const centerX = scale.xCenter;
    const centerY = scale.yCenter;
    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P;
    let angle = datasetStartAngle;
    let i;
    const defaultAngle = 360 / this.countVisibleElements();
    for (i = 0; i < start; ++i) {
      angle += this._computeAngle(i, mode, defaultAngle);
    }
    for (i = start; i < start + count; i++) {
      const arc = arcs[i];
      let startAngle = angle;
      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);
      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(this.getParsed(i).r) : 0;
      angle = endAngle;
      if (reset) {
        if (animationOpts.animateScale) {
          outerRadius = 0;
        }
        if (animationOpts.animateRotate) {
          startAngle = endAngle = datasetStartAngle;
        }
      }
      const properties = {
        x: centerX,
        y: centerY,
        innerRadius: 0,
        outerRadius,
        startAngle,
        endAngle,
        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)
      };
      this.updateElement(arc, i, properties, mode);
    }
  }
  countVisibleElements() {
    const meta = this._cachedMeta;
    let count = 0;
    meta.data.forEach((element, index) => {
      if (!isNaN(this.getParsed(index).r) && this.chart.getDataVisibility(index)) {
        count++;
      }
    });
    return count;
  }
  _computeAngle(index, mode, defaultAngle) {
    return this.chart.getDataVisibility(index)
      ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.resolveDataElementOptions(index, mode).angle || defaultAngle)
      : 0;
  }
}
PolarAreaController.id = 'polarArea';
PolarAreaController.defaults = {
  dataElementType: 'arc',
  animation: {
    animateRotate: true,
    animateScale: true
  },
  animations: {
    numbers: {
      type: 'number',
      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']
    },
  },
  indexAxis: 'r',
  startAngle: 0,
};
PolarAreaController.overrides = {
  aspectRatio: 1,
  plugins: {
    legend: {
      labels: {
        generateLabels(chart) {
          const data = chart.data;
          if (data.labels.length && data.datasets.length) {
            const {labels: {pointStyle}} = chart.legend.options;
            return data.labels.map((label, i) => {
              const meta = chart.getDatasetMeta(0);
              const style = meta.controller.getStyle(i);
              return {
                text: label,
                fillStyle: style.backgroundColor,
                strokeStyle: style.borderColor,
                lineWidth: style.borderWidth,
                pointStyle: pointStyle,
                hidden: !chart.getDataVisibility(i),
                index: i
              };
            });
          }
          return [];
        }
      },
      onClick(e, legendItem, legend) {
        legend.chart.toggleDataVisibility(legendItem.index);
        legend.chart.update();
      }
    },
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(context) {
          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;
        }
      }
    }
  },
  scales: {
    r: {
      type: 'radialLinear',
      angleLines: {
        display: false
      },
      beginAtZero: true,
      grid: {
        circular: true
      },
      pointLabels: {
        display: false
      },
      startAngle: 0
    }
  }
};

class PieController extends DoughnutController {
}
PieController.id = 'pie';
PieController.defaults = {
  cutout: 0,
  rotation: 0,
  circumference: 360,
  radius: '100%'
};

class RadarController extends DatasetController {
  getLabelAndValue(index) {
    const vScale = this._cachedMeta.vScale;
    const parsed = this.getParsed(index);
    return {
      label: vScale.getLabels()[index],
      value: '' + vScale.getLabelForValue(parsed[vScale.axis])
    };
  }
  parseObjectData(meta, data, start, count) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.y.bind(this)(meta, data, start, count);
  }
  update(mode) {
    const meta = this._cachedMeta;
    const line = meta.dataset;
    const points = meta.data || [];
    const labels = meta.iScale.getLabels();
    line.points = points;
    if (mode !== 'resize') {
      const options = this.resolveDatasetElementOptions(mode);
      if (!this.options.showLine) {
        options.borderWidth = 0;
      }
      const properties = {
        _loop: true,
        _fullLoop: labels.length === points.length,
        options
      };
      this.updateElement(line, undefined, properties, mode);
    }
    this.updateElements(points, 0, points.length, mode);
  }
  updateElements(points, start, count, mode) {
    const scale = this._cachedMeta.rScale;
    const reset = mode === 'reset';
    for (let i = start; i < start + count; i++) {
      const point = points[i];
      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      const pointPosition = scale.getPointPositionForValue(i, this.getParsed(i).r);
      const x = reset ? scale.xCenter : pointPosition.x;
      const y = reset ? scale.yCenter : pointPosition.y;
      const properties = {
        x,
        y,
        angle: pointPosition.angle,
        skip: isNaN(x) || isNaN(y),
        options
      };
      this.updateElement(point, i, properties, mode);
    }
  }
}
RadarController.id = 'radar';
RadarController.defaults = {
  datasetElementType: 'line',
  dataElementType: 'point',
  indexAxis: 'r',
  showLine: true,
  elements: {
    line: {
      fill: 'start'
    }
  },
};
RadarController.overrides = {
  aspectRatio: 1,
  scales: {
    r: {
      type: 'radialLinear',
    }
  }
};

class Element {
  constructor() {
    this.x = undefined;
    this.y = undefined;
    this.active = false;
    this.options = undefined;
    this.$animations = undefined;
  }
  tooltipPosition(useFinalPosition) {
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return {x, y};
  }
  hasValue() {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(this.x) && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(this.y);
  }
  getProps(props, final) {
    const anims = this.$animations;
    if (!final || !anims) {
      return this;
    }
    const ret = {};
    props.forEach(prop => {
      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];
    });
    return ret;
  }
}
Element.defaults = {};
Element.defaultRoutes = undefined;

const formatters = {
  values(value) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(value) ? value : '' + value;
  },
  numeric(tickValue, index, ticks) {
    if (tickValue === 0) {
      return '0';
    }
    const locale = this.chart.options.locale;
    let notation;
    let delta = tickValue;
    if (ticks.length > 1) {
      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));
      if (maxTick < 1e-4 || maxTick > 1e+15) {
        notation = 'scientific';
      }
      delta = calculateDelta(tickValue, ticks);
    }
    const logDelta = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(Math.abs(delta));
    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);
    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};
    Object.assign(options, this.options.ticks.format);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(tickValue, locale, options);
  },
  logarithmic(tickValue, index, ticks) {
    if (tickValue === 0) {
      return '0';
    }
    const remain = tickValue / (Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickValue))));
    if (remain === 1 || remain === 2 || remain === 5) {
      return formatters.numeric.call(this, tickValue, index, ticks);
    }
    return '';
  }
};
function calculateDelta(tickValue, ticks) {
  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;
  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {
    delta = tickValue - Math.floor(tickValue);
  }
  return delta;
}
var Ticks = {formatters};

_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('scale', {
  display: true,
  offset: false,
  reverse: false,
  beginAtZero: false,
  bounds: 'ticks',
  grace: 0,
  grid: {
    display: true,
    lineWidth: 1,
    drawBorder: true,
    drawOnChartArea: true,
    drawTicks: true,
    tickLength: 8,
    tickWidth: (_ctx, options) => options.lineWidth,
    tickColor: (_ctx, options) => options.color,
    offset: false,
    borderDash: [],
    borderDashOffset: 0.0,
    borderWidth: 1
  },
  title: {
    display: false,
    text: '',
    padding: {
      top: 4,
      bottom: 4
    }
  },
  ticks: {
    minRotation: 0,
    maxRotation: 50,
    mirror: false,
    textStrokeWidth: 0,
    textStrokeColor: '',
    padding: 3,
    display: true,
    autoSkip: true,
    autoSkipPadding: 3,
    labelOffset: 0,
    callback: Ticks.formatters.values,
    minor: {},
    major: {},
    align: 'center',
    crossAlign: 'near',
    showLabelBackdrop: false,
    backdropColor: 'rgba(255, 255, 255, 0.75)',
    backdropPadding: 2,
  }
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.ticks', 'color', '', 'color');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.grid', 'color', '', 'borderColor');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.grid', 'borderColor', '', 'borderColor');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route('scale.title', 'color', '', 'color');
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scale', {
  _fallback: false,
  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',
  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scales', {
  _fallback: 'scale',
});
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe('scale.ticks', {
  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',
  _indexable: (name) => name !== 'backdropPadding',
});

function autoSkip(scale, ticks) {
  const tickOpts = scale.options.ticks;
  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);
  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];
  const numMajorIndices = majorIndices.length;
  const first = majorIndices[0];
  const last = majorIndices[numMajorIndices - 1];
  const newTicks = [];
  if (numMajorIndices > ticksLimit) {
    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);
    return newTicks;
  }
  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);
  if (numMajorIndices > 0) {
    let i, ilen;
    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;
    skip(ticks, newTicks, spacing, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);
    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {
      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);
    }
    skip(ticks, newTicks, spacing, last, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);
    return newTicks;
  }
  skip(ticks, newTicks, spacing);
  return newTicks;
}
function determineMaxTicks(scale) {
  const offset = scale.options.offset;
  const tickLength = scale._tickSize();
  const maxScale = scale._length / tickLength + (offset ? 0 : 1);
  const maxChart = scale._maxLength / tickLength;
  return Math.floor(Math.min(maxScale, maxChart));
}
function calculateSpacing(majorIndices, ticks, ticksLimit) {
  const evenMajorSpacing = getEvenSpacing(majorIndices);
  const spacing = ticks.length / ticksLimit;
  if (!evenMajorSpacing) {
    return Math.max(spacing, 1);
  }
  const factors = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.A)(evenMajorSpacing);
  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {
    const factor = factors[i];
    if (factor > spacing) {
      return factor;
    }
  }
  return Math.max(spacing, 1);
}
function getMajorIndices(ticks) {
  const result = [];
  let i, ilen;
  for (i = 0, ilen = ticks.length; i < ilen; i++) {
    if (ticks[i].major) {
      result.push(i);
    }
  }
  return result;
}
function skipMajors(ticks, newTicks, majorIndices, spacing) {
  let count = 0;
  let next = majorIndices[0];
  let i;
  spacing = Math.ceil(spacing);
  for (i = 0; i < ticks.length; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = majorIndices[count * spacing];
    }
  }
}
function skip(ticks, newTicks, spacing, majorStart, majorEnd) {
  const start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(majorStart, 0);
  const end = Math.min((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(majorEnd, ticks.length), ticks.length);
  let count = 0;
  let length, i, next;
  spacing = Math.ceil(spacing);
  if (majorEnd) {
    length = majorEnd - majorStart;
    spacing = length / Math.floor(length / spacing);
  }
  next = start;
  while (next < 0) {
    count++;
    next = Math.round(start + count * spacing);
  }
  for (i = Math.max(start, 0); i < end; i++) {
    if (i === next) {
      newTicks.push(ticks[i]);
      count++;
      next = Math.round(start + count * spacing);
    }
  }
}
function getEvenSpacing(arr) {
  const len = arr.length;
  let i, diff;
  if (len < 2) {
    return false;
  }
  for (diff = arr[0], i = 1; i < len; ++i) {
    if (arr[i] - arr[i - 1] !== diff) {
      return false;
    }
  }
  return diff;
}

const reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;
const offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;
function sample(arr, numItems) {
  const result = [];
  const increment = arr.length / numItems;
  const len = arr.length;
  let i = 0;
  for (; i < len; i += increment) {
    result.push(arr[Math.floor(i)]);
  }
  return result;
}
function getPixelForGridLine(scale, index, offsetGridLines) {
  const length = scale.ticks.length;
  const validIndex = Math.min(index, length - 1);
  const start = scale._startPixel;
  const end = scale._endPixel;
  const epsilon = 1e-6;
  let lineValue = scale.getPixelForTick(validIndex);
  let offset;
  if (offsetGridLines) {
    if (length === 1) {
      offset = Math.max(lineValue - start, end - lineValue);
    } else if (index === 0) {
      offset = (scale.getPixelForTick(1) - lineValue) / 2;
    } else {
      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;
    }
    lineValue += validIndex < index ? offset : -offset;
    if (lineValue < start - epsilon || lineValue > end + epsilon) {
      return;
    }
  }
  return lineValue;
}
function garbageCollect(caches, length) {
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(caches, (cache) => {
    const gc = cache.gc;
    const gcLen = gc.length / 2;
    let i;
    if (gcLen > length) {
      for (i = 0; i < gcLen; ++i) {
        delete cache.data[gc[i]];
      }
      gc.splice(0, gcLen);
    }
  });
}
function getTickMarkLength(options) {
  return options.drawTicks ? options.tickLength : 0;
}
function getTitleHeight(options, fallback) {
  if (!options.display) {
    return 0;
  }
  const font = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.font, fallback);
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  const lines = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(options.text) ? options.text.length : 1;
  return (lines * font.lineHeight) + padding.height;
}
function createScaleContext(parent, scale) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    scale,
    type: 'scale'
  });
}
function createTickContext(parent, index, tick) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    tick,
    index,
    type: 'tick'
  });
}
function titleAlign(align, position, reverse) {
  let ret = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(align);
  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {
    ret = reverseAlign(ret);
  }
  return ret;
}
function titleArgs(scale, offset, position, align) {
  const {top, left, bottom, right, chart} = scale;
  const {chartArea, scales} = chart;
  let rotation = 0;
  let maxWidth, titleX, titleY;
  const height = bottom - top;
  const width = right - left;
  if (scale.isHorizontal()) {
    titleX = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, left, right);
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;
    } else if (position === 'center') {
      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;
    } else {
      titleY = offsetFromEdge(scale, position, offset);
    }
    maxWidth = right - left;
  } else {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      const positionAxisID = Object.keys(position)[0];
      const value = position[positionAxisID];
      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;
    } else if (position === 'center') {
      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;
    } else {
      titleX = offsetFromEdge(scale, position, offset);
    }
    titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, bottom, top);
    rotation = position === 'left' ? -_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H : _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H;
  }
  return {titleX, titleY, maxWidth, rotation};
}
class Scale extends Element {
  constructor(cfg) {
    super();
    this.id = cfg.id;
    this.type = cfg.type;
    this.options = undefined;
    this.ctx = cfg.ctx;
    this.chart = cfg.chart;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.width = undefined;
    this.height = undefined;
    this._margins = {
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    };
    this.maxWidth = undefined;
    this.maxHeight = undefined;
    this.paddingTop = undefined;
    this.paddingBottom = undefined;
    this.paddingLeft = undefined;
    this.paddingRight = undefined;
    this.axis = undefined;
    this.labelRotation = undefined;
    this.min = undefined;
    this.max = undefined;
    this._range = undefined;
    this.ticks = [];
    this._gridLineItems = null;
    this._labelItems = null;
    this._labelSizes = null;
    this._length = 0;
    this._maxLength = 0;
    this._longestTextCache = {};
    this._startPixel = undefined;
    this._endPixel = undefined;
    this._reversePixels = false;
    this._userMax = undefined;
    this._userMin = undefined;
    this._suggestedMax = undefined;
    this._suggestedMin = undefined;
    this._ticksLength = 0;
    this._borderValue = 0;
    this._cache = {};
    this._dataLimitsCached = false;
    this.$context = undefined;
  }
  init(options) {
    this.options = options.setContext(this.getContext());
    this.axis = options.axis;
    this._userMin = this.parse(options.min);
    this._userMax = this.parse(options.max);
    this._suggestedMin = this.parse(options.suggestedMin);
    this._suggestedMax = this.parse(options.suggestedMax);
  }
  parse(raw, index) {
    return raw;
  }
  getUserBounds() {
    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;
    _userMin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMin, Number.POSITIVE_INFINITY);
    _userMax = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMax, Number.NEGATIVE_INFINITY);
    _suggestedMin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_suggestedMin, Number.POSITIVE_INFINITY);
    _suggestedMax = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_suggestedMax, Number.NEGATIVE_INFINITY);
    return {
      min: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMin, _suggestedMin),
      max: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(_userMax, _suggestedMax),
      minDefined: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(_userMin),
      maxDefined: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(_userMax)
    };
  }
  getMinMax(canStack) {
    let {min, max, minDefined, maxDefined} = this.getUserBounds();
    let range;
    if (minDefined && maxDefined) {
      return {min, max};
    }
    const metas = this.getMatchingVisibleMetas();
    for (let i = 0, ilen = metas.length; i < ilen; ++i) {
      range = metas[i].controller.getMinMax(this, canStack);
      if (!minDefined) {
        min = Math.min(min, range.min);
      }
      if (!maxDefined) {
        max = Math.max(max, range.max);
      }
    }
    min = maxDefined && min > max ? max : min;
    max = minDefined && min > max ? min : max;
    return {
      min: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(min, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(max, min)),
      max: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(max, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(min, max))
    };
  }
  getPadding() {
    return {
      left: this.paddingLeft || 0,
      top: this.paddingTop || 0,
      right: this.paddingRight || 0,
      bottom: this.paddingBottom || 0
    };
  }
  getTicks() {
    return this.ticks;
  }
  getLabels() {
    const data = this.chart.data;
    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];
  }
  beforeLayout() {
    this._cache = {};
    this._dataLimitsCached = false;
  }
  beforeUpdate() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeUpdate, [this]);
  }
  update(maxWidth, maxHeight, margins) {
    const {beginAtZero, grace, ticks: tickOpts} = this.options;
    const sampleSize = tickOpts.sampleSize;
    this.beforeUpdate();
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins = Object.assign({
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    }, margins);
    this.ticks = null;
    this._labelSizes = null;
    this._gridLineItems = null;
    this._labelItems = null;
    this.beforeSetDimensions();
    this.setDimensions();
    this.afterSetDimensions();
    this._maxLength = this.isHorizontal()
      ? this.width + margins.left + margins.right
      : this.height + margins.top + margins.bottom;
    if (!this._dataLimitsCached) {
      this.beforeDataLimits();
      this.determineDataLimits();
      this.afterDataLimits();
      this._range = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.D)(this, grace, beginAtZero);
      this._dataLimitsCached = true;
    }
    this.beforeBuildTicks();
    this.ticks = this.buildTicks() || [];
    this.afterBuildTicks();
    const samplingEnabled = sampleSize < this.ticks.length;
    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);
    this.configure();
    this.beforeCalculateLabelRotation();
    this.calculateLabelRotation();
    this.afterCalculateLabelRotation();
    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {
      this.ticks = autoSkip(this, this.ticks);
      this._labelSizes = null;
      this.afterAutoSkip();
    }
    if (samplingEnabled) {
      this._convertTicksToLabels(this.ticks);
    }
    this.beforeFit();
    this.fit();
    this.afterFit();
    this.afterUpdate();
  }
  configure() {
    let reversePixels = this.options.reverse;
    let startPixel, endPixel;
    if (this.isHorizontal()) {
      startPixel = this.left;
      endPixel = this.right;
    } else {
      startPixel = this.top;
      endPixel = this.bottom;
      reversePixels = !reversePixels;
    }
    this._startPixel = startPixel;
    this._endPixel = endPixel;
    this._reversePixels = reversePixels;
    this._length = endPixel - startPixel;
    this._alignToPixels = this.options.alignToPixels;
  }
  afterUpdate() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterUpdate, [this]);
  }
  beforeSetDimensions() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeSetDimensions, [this]);
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = 0;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = 0;
      this.bottom = this.height;
    }
    this.paddingLeft = 0;
    this.paddingTop = 0;
    this.paddingRight = 0;
    this.paddingBottom = 0;
  }
  afterSetDimensions() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterSetDimensions, [this]);
  }
  _callHooks(name) {
    this.chart.notifyPlugins(name, this.getContext());
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options[name], [this]);
  }
  beforeDataLimits() {
    this._callHooks('beforeDataLimits');
  }
  determineDataLimits() {}
  afterDataLimits() {
    this._callHooks('afterDataLimits');
  }
  beforeBuildTicks() {
    this._callHooks('beforeBuildTicks');
  }
  buildTicks() {
    return [];
  }
  afterBuildTicks() {
    this._callHooks('afterBuildTicks');
  }
  beforeTickToLabelConversion() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeTickToLabelConversion, [this]);
  }
  generateTickLabels(ticks) {
    const tickOpts = this.options.ticks;
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      tick = ticks[i];
      tick.label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(tickOpts.callback, [tick.value, i, ticks], this);
    }
  }
  afterTickToLabelConversion() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterTickToLabelConversion, [this]);
  }
  beforeCalculateLabelRotation() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeCalculateLabelRotation, [this]);
  }
  calculateLabelRotation() {
    const options = this.options;
    const tickOpts = options.ticks;
    const numTicks = this.ticks.length;
    const minRotation = tickOpts.minRotation || 0;
    const maxRotation = tickOpts.maxRotation;
    let labelRotation = minRotation;
    let tickWidth, maxHeight, maxLabelDiagonal;
    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {
      this.labelRotation = minRotation;
      return;
    }
    const labelSizes = this._getLabelSizes();
    const maxLabelWidth = labelSizes.widest.width;
    const maxLabelHeight = labelSizes.highest.height;
    const maxWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(this.chart.width - maxLabelWidth, 0, this.maxWidth);
    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);
    if (maxLabelWidth + 6 > tickWidth) {
      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));
      maxHeight = this.maxHeight - getTickMarkLength(options.grid)
				- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);
      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);
      labelRotation = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)(Math.min(
        Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((labelSizes.highest.height + 6) / tickWidth, -1, 1)),
        Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(maxLabelHeight / maxLabelDiagonal, -1, 1))
      ));
      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));
    }
    this.labelRotation = labelRotation;
  }
  afterCalculateLabelRotation() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterCalculateLabelRotation, [this]);
  }
  afterAutoSkip() {}
  beforeFit() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.beforeFit, [this]);
  }
  fit() {
    const minSize = {
      width: 0,
      height: 0
    };
    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;
    const display = this._isVisible();
    const isHorizontal = this.isHorizontal();
    if (display) {
      const titleHeight = getTitleHeight(titleOpts, chart.options.font);
      if (isHorizontal) {
        minSize.width = this.maxWidth;
        minSize.height = getTickMarkLength(gridOpts) + titleHeight;
      } else {
        minSize.height = this.maxHeight;
        minSize.width = getTickMarkLength(gridOpts) + titleHeight;
      }
      if (tickOpts.display && this.ticks.length) {
        const {first, last, widest, highest} = this._getLabelSizes();
        const tickPadding = tickOpts.padding * 2;
        const angleRadians = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
        const cos = Math.cos(angleRadians);
        const sin = Math.sin(angleRadians);
        if (isHorizontal) {
          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;
          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);
        } else {
          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;
          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);
        }
        this._calculatePadding(first, last, sin, cos);
      }
    }
    this._handleMargins();
    if (isHorizontal) {
      this.width = this._length = chart.width - this._margins.left - this._margins.right;
      this.height = minSize.height;
    } else {
      this.width = minSize.width;
      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;
    }
  }
  _calculatePadding(first, last, sin, cos) {
    const {ticks: {align, padding}, position} = this.options;
    const isRotated = this.labelRotation !== 0;
    const labelsBelowTicks = position !== 'top' && this.axis === 'x';
    if (this.isHorizontal()) {
      const offsetLeft = this.getPixelForTick(0) - this.left;
      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);
      let paddingLeft = 0;
      let paddingRight = 0;
      if (isRotated) {
        if (labelsBelowTicks) {
          paddingLeft = cos * first.width;
          paddingRight = sin * last.height;
        } else {
          paddingLeft = sin * first.height;
          paddingRight = cos * last.width;
        }
      } else if (align === 'start') {
        paddingRight = last.width;
      } else if (align === 'end') {
        paddingLeft = first.width;
      } else if (align !== 'inner') {
        paddingLeft = first.width / 2;
        paddingRight = last.width / 2;
      }
      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);
      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);
    } else {
      let paddingTop = last.height / 2;
      let paddingBottom = first.height / 2;
      if (align === 'start') {
        paddingTop = 0;
        paddingBottom = first.height;
      } else if (align === 'end') {
        paddingTop = last.height;
        paddingBottom = 0;
      }
      this.paddingTop = paddingTop + padding;
      this.paddingBottom = paddingBottom + padding;
    }
  }
  _handleMargins() {
    if (this._margins) {
      this._margins.left = Math.max(this.paddingLeft, this._margins.left);
      this._margins.top = Math.max(this.paddingTop, this._margins.top);
      this._margins.right = Math.max(this.paddingRight, this._margins.right);
      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);
    }
  }
  afterFit() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.afterFit, [this]);
  }
  isHorizontal() {
    const {axis, position} = this.options;
    return position === 'top' || position === 'bottom' || axis === 'x';
  }
  isFullSize() {
    return this.options.fullSize;
  }
  _convertTicksToLabels(ticks) {
    this.beforeTickToLabelConversion();
    this.generateTickLabels(ticks);
    let i, ilen;
    for (i = 0, ilen = ticks.length; i < ilen; i++) {
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(ticks[i].label)) {
        ticks.splice(i, 1);
        ilen--;
        i--;
      }
    }
    this.afterTickToLabelConversion();
  }
  _getLabelSizes() {
    let labelSizes = this._labelSizes;
    if (!labelSizes) {
      const sampleSize = this.options.ticks.sampleSize;
      let ticks = this.ticks;
      if (sampleSize < ticks.length) {
        ticks = sample(ticks, sampleSize);
      }
      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);
    }
    return labelSizes;
  }
  _computeLabelSizes(ticks, length) {
    const {ctx, _longestTextCache: caches} = this;
    const widths = [];
    const heights = [];
    let widestLabelSize = 0;
    let highestLabelSize = 0;
    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;
    for (i = 0; i < length; ++i) {
      label = ticks[i].label;
      tickFont = this._resolveTickFontOptions(i);
      ctx.font = fontString = tickFont.string;
      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};
      lineHeight = tickFont.lineHeight;
      width = height = 0;
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(label) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label)) {
        width = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(ctx, cache.data, cache.gc, width, label);
        height = lineHeight;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label)) {
        for (j = 0, jlen = label.length; j < jlen; ++j) {
          nestedLabel = label[j];
          if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(nestedLabel) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(nestedLabel)) {
            width = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(ctx, cache.data, cache.gc, width, nestedLabel);
            height += lineHeight;
          }
        }
      }
      widths.push(width);
      heights.push(height);
      widestLabelSize = Math.max(width, widestLabelSize);
      highestLabelSize = Math.max(height, highestLabelSize);
    }
    garbageCollect(caches, length);
    const widest = widths.indexOf(widestLabelSize);
    const highest = heights.indexOf(highestLabelSize);
    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});
    return {
      first: valueAt(0),
      last: valueAt(length - 1),
      widest: valueAt(widest),
      highest: valueAt(highest),
      widths,
      heights,
    };
  }
  getLabelForValue(value) {
    return value;
  }
  getPixelForValue(value, index) {
    return NaN;
  }
  getValueForPixel(pixel) {}
  getPixelForTick(index) {
    const ticks = this.ticks;
    if (index < 0 || index > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index].value);
  }
  getPixelForDecimal(decimal) {
    if (this._reversePixels) {
      decimal = 1 - decimal;
    }
    const pixel = this._startPixel + decimal * this._length;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.I)(this._alignToPixels ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(this.chart, pixel, 0) : pixel);
  }
  getDecimalForPixel(pixel) {
    const decimal = (pixel - this._startPixel) / this._length;
    return this._reversePixels ? 1 - decimal : decimal;
  }
  getBasePixel() {
    return this.getPixelForValue(this.getBaseValue());
  }
  getBaseValue() {
    const {min, max} = this;
    return min < 0 && max < 0 ? max :
      min > 0 && max > 0 ? min :
      0;
  }
  getContext(index) {
    const ticks = this.ticks || [];
    if (index >= 0 && index < ticks.length) {
      const tick = ticks[index];
      return tick.$context ||
				(tick.$context = createTickContext(this.getContext(), index, tick));
    }
    return this.$context ||
			(this.$context = createScaleContext(this.chart.getContext(), this));
  }
  _tickSize() {
    const optionTicks = this.options.ticks;
    const rot = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    const cos = Math.abs(Math.cos(rot));
    const sin = Math.abs(Math.sin(rot));
    const labelSizes = this._getLabelSizes();
    const padding = optionTicks.autoSkipPadding || 0;
    const w = labelSizes ? labelSizes.widest.width + padding : 0;
    const h = labelSizes ? labelSizes.highest.height + padding : 0;
    return this.isHorizontal()
      ? h * cos > w * sin ? w / cos : h / sin
      : h * sin < w * cos ? h / cos : w / sin;
  }
  _isVisible() {
    const display = this.options.display;
    if (display !== 'auto') {
      return !!display;
    }
    return this.getMatchingVisibleMetas().length > 0;
  }
  _computeGridLineItems(chartArea) {
    const axis = this.axis;
    const chart = this.chart;
    const options = this.options;
    const {grid, position} = options;
    const offset = grid.offset;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const ticksLength = ticks.length + (offset ? 1 : 0);
    const tl = getTickMarkLength(grid);
    const items = [];
    const borderOpts = grid.setContext(this.getContext());
    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;
    const axisHalfWidth = axisWidth / 2;
    const alignBorderValue = function(pixel) {
      return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, pixel, axisWidth);
    };
    let borderValue, i, lineValue, alignedLineValue;
    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;
    if (position === 'top') {
      borderValue = alignBorderValue(this.bottom);
      ty1 = this.bottom - tl;
      ty2 = borderValue - axisHalfWidth;
      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;
      y2 = chartArea.bottom;
    } else if (position === 'bottom') {
      borderValue = alignBorderValue(this.top);
      y1 = chartArea.top;
      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;
      ty1 = borderValue + axisHalfWidth;
      ty2 = this.top + tl;
    } else if (position === 'left') {
      borderValue = alignBorderValue(this.right);
      tx1 = this.right - tl;
      tx2 = borderValue - axisHalfWidth;
      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;
      x2 = chartArea.right;
    } else if (position === 'right') {
      borderValue = alignBorderValue(this.left);
      x1 = chartArea.left;
      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;
      tx1 = borderValue + axisHalfWidth;
      tx2 = this.left + tl;
    } else if (axis === 'x') {
      if (position === 'center') {
        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      y1 = chartArea.top;
      y2 = chartArea.bottom;
      ty1 = borderValue + axisHalfWidth;
      ty2 = ty1 + tl;
    } else if (axis === 'y') {
      if (position === 'center') {
        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));
      }
      tx1 = borderValue - axisHalfWidth;
      tx2 = tx1 - tl;
      x1 = chartArea.left;
      x2 = chartArea.right;
    }
    const limit = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.ticks.maxTicksLimit, ticksLength);
    const step = Math.max(1, Math.ceil(ticksLength / limit));
    for (i = 0; i < ticksLength; i += step) {
      const optsAtIndex = grid.setContext(this.getContext(i));
      const lineWidth = optsAtIndex.lineWidth;
      const lineColor = optsAtIndex.color;
      const borderDash = optsAtIndex.borderDash || [];
      const borderDashOffset = optsAtIndex.borderDashOffset;
      const tickWidth = optsAtIndex.tickWidth;
      const tickColor = optsAtIndex.tickColor;
      const tickBorderDash = optsAtIndex.tickBorderDash || [];
      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;
      lineValue = getPixelForGridLine(this, i, offset);
      if (lineValue === undefined) {
        continue;
      }
      alignedLineValue = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, lineValue, lineWidth);
      if (isHorizontal) {
        tx1 = tx2 = x1 = x2 = alignedLineValue;
      } else {
        ty1 = ty2 = y1 = y2 = alignedLineValue;
      }
      items.push({
        tx1,
        ty1,
        tx2,
        ty2,
        x1,
        y1,
        x2,
        y2,
        width: lineWidth,
        color: lineColor,
        borderDash,
        borderDashOffset,
        tickWidth,
        tickColor,
        tickBorderDash,
        tickBorderDashOffset,
      });
    }
    this._ticksLength = ticksLength;
    this._borderValue = borderValue;
    return items;
  }
  _computeLabelItems(chartArea) {
    const axis = this.axis;
    const options = this.options;
    const {position, ticks: optionTicks} = options;
    const isHorizontal = this.isHorizontal();
    const ticks = this.ticks;
    const {align, crossAlign, padding, mirror} = optionTicks;
    const tl = getTickMarkLength(options.grid);
    const tickAndPadding = tl + padding;
    const hTickAndPadding = mirror ? -padding : tickAndPadding;
    const rotation = -(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    const items = [];
    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;
    let textBaseline = 'middle';
    if (position === 'top') {
      y = this.bottom - hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === 'bottom') {
      y = this.top + hTickAndPadding;
      textAlign = this._getXAxisLabelAlignment();
    } else if (position === 'left') {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (position === 'right') {
      const ret = this._getYAxisLabelAlignment(tl);
      textAlign = ret.textAlign;
      x = ret.x;
    } else if (axis === 'x') {
      if (position === 'center') {
        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;
      }
      textAlign = this._getXAxisLabelAlignment();
    } else if (axis === 'y') {
      if (position === 'center') {
        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;
      } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
        const positionAxisID = Object.keys(position)[0];
        const value = position[positionAxisID];
        x = this.chart.scales[positionAxisID].getPixelForValue(value);
      }
      textAlign = this._getYAxisLabelAlignment(tl).textAlign;
    }
    if (axis === 'y') {
      if (align === 'start') {
        textBaseline = 'top';
      } else if (align === 'end') {
        textBaseline = 'bottom';
      }
    }
    const labelSizes = this._getLabelSizes();
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      label = tick.label;
      const optsAtIndex = optionTicks.setContext(this.getContext(i));
      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;
      font = this._resolveTickFontOptions(i);
      lineHeight = font.lineHeight;
      lineCount = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label) ? label.length : 1;
      const halfCount = lineCount / 2;
      const color = optsAtIndex.color;
      const strokeColor = optsAtIndex.textStrokeColor;
      const strokeWidth = optsAtIndex.textStrokeWidth;
      let tickTextAlign = textAlign;
      if (isHorizontal) {
        x = pixel;
        if (textAlign === 'inner') {
          if (i === ilen - 1) {
            tickTextAlign = !this.options.reverse ? 'right' : 'left';
          } else if (i === 0) {
            tickTextAlign = !this.options.reverse ? 'left' : 'right';
          } else {
            tickTextAlign = 'center';
          }
        }
        if (position === 'top') {
          if (crossAlign === 'near' || rotation !== 0) {
            textOffset = -lineCount * lineHeight + lineHeight / 2;
          } else if (crossAlign === 'center') {
            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;
          } else {
            textOffset = -labelSizes.highest.height + lineHeight / 2;
          }
        } else {
          if (crossAlign === 'near' || rotation !== 0) {
            textOffset = lineHeight / 2;
          } else if (crossAlign === 'center') {
            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;
          } else {
            textOffset = labelSizes.highest.height - lineCount * lineHeight;
          }
        }
        if (mirror) {
          textOffset *= -1;
        }
      } else {
        y = pixel;
        textOffset = (1 - lineCount) * lineHeight / 2;
      }
      let backdrop;
      if (optsAtIndex.showLabelBackdrop) {
        const labelPadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
        const height = labelSizes.heights[i];
        const width = labelSizes.widths[i];
        let top = y + textOffset - labelPadding.top;
        let left = x - labelPadding.left;
        switch (textBaseline) {
        case 'middle':
          top -= height / 2;
          break;
        case 'bottom':
          top -= height;
          break;
        }
        switch (textAlign) {
        case 'center':
          left -= width / 2;
          break;
        case 'right':
          left -= width;
          break;
        }
        backdrop = {
          left,
          top,
          width: width + labelPadding.width,
          height: height + labelPadding.height,
          color: optsAtIndex.backdropColor,
        };
      }
      items.push({
        rotation,
        label,
        font,
        color,
        strokeColor,
        strokeWidth,
        textOffset,
        textAlign: tickTextAlign,
        textBaseline,
        translation: [x, y],
        backdrop,
      });
    }
    return items;
  }
  _getXAxisLabelAlignment() {
    const {position, ticks} = this.options;
    const rotation = -(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.labelRotation);
    if (rotation) {
      return position === 'top' ? 'left' : 'right';
    }
    let align = 'center';
    if (ticks.align === 'start') {
      align = 'left';
    } else if (ticks.align === 'end') {
      align = 'right';
    } else if (ticks.align === 'inner') {
      align = 'inner';
    }
    return align;
  }
  _getYAxisLabelAlignment(tl) {
    const {position, ticks: {crossAlign, mirror, padding}} = this.options;
    const labelSizes = this._getLabelSizes();
    const tickAndPadding = tl + padding;
    const widest = labelSizes.widest.width;
    let textAlign;
    let x;
    if (position === 'left') {
      if (mirror) {
        x = this.right + padding;
        if (crossAlign === 'near') {
          textAlign = 'left';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x += (widest / 2);
        } else {
          textAlign = 'right';
          x += widest;
        }
      } else {
        x = this.right - tickAndPadding;
        if (crossAlign === 'near') {
          textAlign = 'right';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x -= (widest / 2);
        } else {
          textAlign = 'left';
          x = this.left;
        }
      }
    } else if (position === 'right') {
      if (mirror) {
        x = this.left + padding;
        if (crossAlign === 'near') {
          textAlign = 'right';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x -= (widest / 2);
        } else {
          textAlign = 'left';
          x -= widest;
        }
      } else {
        x = this.left + tickAndPadding;
        if (crossAlign === 'near') {
          textAlign = 'left';
        } else if (crossAlign === 'center') {
          textAlign = 'center';
          x += widest / 2;
        } else {
          textAlign = 'right';
          x = this.right;
        }
      }
    } else {
      textAlign = 'right';
    }
    return {textAlign, x};
  }
  _computeLabelArea() {
    if (this.options.ticks.mirror) {
      return;
    }
    const chart = this.chart;
    const position = this.options.position;
    if (position === 'left' || position === 'right') {
      return {top: 0, left: this.left, bottom: chart.height, right: this.right};
    } if (position === 'top' || position === 'bottom') {
      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};
    }
  }
  drawBackground() {
    const {ctx, options: {backgroundColor}, left, top, width, height} = this;
    if (backgroundColor) {
      ctx.save();
      ctx.fillStyle = backgroundColor;
      ctx.fillRect(left, top, width, height);
      ctx.restore();
    }
  }
  getLineWidthForValue(value) {
    const grid = this.options.grid;
    if (!this._isVisible() || !grid.display) {
      return 0;
    }
    const ticks = this.ticks;
    const index = ticks.findIndex(t => t.value === value);
    if (index >= 0) {
      const opts = grid.setContext(this.getContext(index));
      return opts.lineWidth;
    }
    return 0;
  }
  drawGrid(chartArea) {
    const grid = this.options.grid;
    const ctx = this.ctx;
    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));
    let i, ilen;
    const drawLine = (p1, p2, style) => {
      if (!style.width || !style.color) {
        return;
      }
      ctx.save();
      ctx.lineWidth = style.width;
      ctx.strokeStyle = style.color;
      ctx.setLineDash(style.borderDash || []);
      ctx.lineDashOffset = style.borderDashOffset;
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
      ctx.restore();
    };
    if (grid.display) {
      for (i = 0, ilen = items.length; i < ilen; ++i) {
        const item = items[i];
        if (grid.drawOnChartArea) {
          drawLine(
            {x: item.x1, y: item.y1},
            {x: item.x2, y: item.y2},
            item
          );
        }
        if (grid.drawTicks) {
          drawLine(
            {x: item.tx1, y: item.ty1},
            {x: item.tx2, y: item.ty2},
            {
              color: item.tickColor,
              width: item.tickWidth,
              borderDash: item.tickBorderDash,
              borderDashOffset: item.tickBorderDashOffset
            }
          );
        }
      }
    }
  }
  drawBorder() {
    const {chart, ctx, options: {grid}} = this;
    const borderOpts = grid.setContext(this.getContext());
    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;
    if (!axisWidth) {
      return;
    }
    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;
    const borderValue = this._borderValue;
    let x1, x2, y1, y2;
    if (this.isHorizontal()) {
      x1 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.left, axisWidth) - axisWidth / 2;
      x2 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.right, lastLineWidth) + lastLineWidth / 2;
      y1 = y2 = borderValue;
    } else {
      y1 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.top, axisWidth) - axisWidth / 2;
      y2 = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.J)(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;
      x1 = x2 = borderValue;
    }
    ctx.save();
    ctx.lineWidth = borderOpts.borderWidth;
    ctx.strokeStyle = borderOpts.borderColor;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    ctx.restore();
  }
  drawLabels(chartArea) {
    const optionTicks = this.options.ticks;
    if (!optionTicks.display) {
      return;
    }
    const ctx = this.ctx;
    const area = this._computeLabelArea();
    if (area) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, area);
    }
    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));
    let i, ilen;
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      const item = items[i];
      const tickFont = item.font;
      const label = item.label;
      if (item.backdrop) {
        ctx.fillStyle = item.backdrop.color;
        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);
      }
      let y = item.textOffset;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, label, 0, y, tickFont, item);
    }
    if (area) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
  }
  drawTitle() {
    const {ctx, options: {position, title, reverse}} = this;
    if (!title.display) {
      return;
    }
    const font = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(title.font);
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(title.padding);
    const align = title.align;
    let offset = font.lineHeight / 2;
    if (position === 'bottom' || position === 'center' || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(position)) {
      offset += padding.bottom;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(title.text)) {
        offset += font.lineHeight * (title.text.length - 1);
      }
    } else {
      offset += padding.top;
    }
    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, title.text, 0, 0, font, {
      color: title.color,
      maxWidth,
      rotation,
      textAlign: titleAlign(align, position, reverse),
      textBaseline: 'middle',
      translation: [titleX, titleY],
    });
  }
  draw(chartArea) {
    if (!this._isVisible()) {
      return;
    }
    this.drawBackground();
    this.drawGrid(chartArea);
    this.drawBorder();
    this.drawTitle();
    this.drawLabels(chartArea);
  }
  _layers() {
    const opts = this.options;
    const tz = opts.ticks && opts.ticks.z || 0;
    const gz = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(opts.grid && opts.grid.z, -1);
    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {
      return [{
        z: tz,
        draw: (chartArea) => {
          this.draw(chartArea);
        }
      }];
    }
    return [{
      z: gz,
      draw: (chartArea) => {
        this.drawBackground();
        this.drawGrid(chartArea);
        this.drawTitle();
      }
    }, {
      z: gz + 1,
      draw: () => {
        this.drawBorder();
      }
    }, {
      z: tz,
      draw: (chartArea) => {
        this.drawLabels(chartArea);
      }
    }];
  }
  getMatchingVisibleMetas(type) {
    const metas = this.chart.getSortedVisibleDatasetMetas();
    const axisID = this.axis + 'AxisID';
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      const meta = metas[i];
      if (meta[axisID] === this.id && (!type || meta.type === type)) {
        result.push(meta);
      }
    }
    return result;
  }
  _resolveTickFontOptions(index) {
    const opts = this.options.ticks.setContext(this.getContext(index));
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
  }
  _maxDigits() {
    const fontSize = this._resolveTickFontOptions(0).lineHeight;
    return (this.isHorizontal() ? this.width : this.height) / fontSize;
  }
}

class TypedRegistry {
  constructor(type, scope, override) {
    this.type = type;
    this.scope = scope;
    this.override = override;
    this.items = Object.create(null);
  }
  isForType(type) {
    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);
  }
  register(item) {
    const proto = Object.getPrototypeOf(item);
    let parentScope;
    if (isIChartComponent(proto)) {
      parentScope = this.register(proto);
    }
    const items = this.items;
    const id = item.id;
    const scope = this.scope + '.' + id;
    if (!id) {
      throw new Error('class does not have id: ' + item);
    }
    if (id in items) {
      return scope;
    }
    items[id] = item;
    registerDefaults(item, scope, parentScope);
    if (this.override) {
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.override(item.id, item.overrides);
    }
    return scope;
  }
  get(id) {
    return this.items[id];
  }
  unregister(item) {
    const items = this.items;
    const id = item.id;
    const scope = this.scope;
    if (id in items) {
      delete items[id];
    }
    if (scope && id in _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d[scope]) {
      delete _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d[scope][id];
      if (this.override) {
        delete _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[id];
      }
    }
  }
}
function registerDefaults(item, scope, parentScope) {
  const itemDefaults = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.V)(Object.create(null), [
    parentScope ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.get(parentScope) : {},
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.get(scope),
    item.defaults
  ]);
  _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set(scope, itemDefaults);
  if (item.defaultRoutes) {
    routeDefaults(scope, item.defaultRoutes);
  }
  if (item.descriptors) {
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.describe(scope, item.descriptors);
  }
}
function routeDefaults(scope, routes) {
  Object.keys(routes).forEach(property => {
    const propertyParts = property.split('.');
    const sourceName = propertyParts.pop();
    const sourceScope = [scope].concat(propertyParts).join('.');
    const parts = routes[property].split('.');
    const targetName = parts.pop();
    const targetScope = parts.join('.');
    _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.route(sourceScope, sourceName, targetScope, targetName);
  });
}
function isIChartComponent(proto) {
  return 'id' in proto && 'defaults' in proto;
}

class Registry {
  constructor() {
    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);
    this.elements = new TypedRegistry(Element, 'elements');
    this.plugins = new TypedRegistry(Object, 'plugins');
    this.scales = new TypedRegistry(Scale, 'scales');
    this._typedRegistries = [this.controllers, this.scales, this.elements];
  }
  add(...args) {
    this._each('register', args);
  }
  remove(...args) {
    this._each('unregister', args);
  }
  addControllers(...args) {
    this._each('register', args, this.controllers);
  }
  addElements(...args) {
    this._each('register', args, this.elements);
  }
  addPlugins(...args) {
    this._each('register', args, this.plugins);
  }
  addScales(...args) {
    this._each('register', args, this.scales);
  }
  getController(id) {
    return this._get(id, this.controllers, 'controller');
  }
  getElement(id) {
    return this._get(id, this.elements, 'element');
  }
  getPlugin(id) {
    return this._get(id, this.plugins, 'plugin');
  }
  getScale(id) {
    return this._get(id, this.scales, 'scale');
  }
  removeControllers(...args) {
    this._each('unregister', args, this.controllers);
  }
  removeElements(...args) {
    this._each('unregister', args, this.elements);
  }
  removePlugins(...args) {
    this._each('unregister', args, this.plugins);
  }
  removeScales(...args) {
    this._each('unregister', args, this.scales);
  }
  _each(method, args, typedRegistry) {
    [...args].forEach(arg => {
      const reg = typedRegistry || this._getRegistryForType(arg);
      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {
        this._exec(method, reg, arg);
      } else {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(arg, item => {
          const itemReg = typedRegistry || this._getRegistryForType(item);
          this._exec(method, itemReg, item);
        });
      }
    });
  }
  _exec(method, registry, component) {
    const camelMethod = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.W)(method);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(component['before' + camelMethod], [], component);
    registry[method](component);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(component['after' + camelMethod], [], component);
  }
  _getRegistryForType(type) {
    for (let i = 0; i < this._typedRegistries.length; i++) {
      const reg = this._typedRegistries[i];
      if (reg.isForType(type)) {
        return reg;
      }
    }
    return this.plugins;
  }
  _get(id, typedRegistry, type) {
    const item = typedRegistry.get(id);
    if (item === undefined) {
      throw new Error('"' + id + '" is not a registered ' + type + '.');
    }
    return item;
  }
}
var registry = new Registry();

class ScatterController extends DatasetController {
  update(mode) {
    const meta = this._cachedMeta;
    const {data: points = []} = meta;
    const animationsDisabled = this.chart._animationsDisabled;
    let {start, count} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(meta, points, animationsDisabled);
    this._drawStart = start;
    this._drawCount = count;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(meta)) {
      start = 0;
      count = points.length;
    }
    if (this.options.showLine) {
      const {dataset: line, _dataset} = meta;
      line._chart = this.chart;
      line._datasetIndex = this.index;
      line._decimated = !!_dataset._decimated;
      line.points = points;
      const options = this.resolveDatasetElementOptions(mode);
      options.segment = this.options.segment;
      this.updateElement(line, undefined, {
        animated: !animationsDisabled,
        options
      }, mode);
    }
    this.updateElements(points, start, count, mode);
  }
  addElements() {
    const {showLine} = this.options;
    if (!this.datasetElementType && showLine) {
      this.datasetElementType = registry.getElement('line');
    }
    super.addElements();
  }
  updateElements(points, start, count, mode) {
    const reset = mode === 'reset';
    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;
    const firstOpts = this.resolveDataElementOptions(start, mode);
    const sharedOptions = this.getSharedOptions(firstOpts);
    const includeOptions = this.includeOptions(mode, sharedOptions);
    const iAxis = iScale.axis;
    const vAxis = vScale.axis;
    const {spanGaps, segment} = this.options;
    const maxGapLength = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;
    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';
    let prevParsed = start > 0 && this.getParsed(start - 1);
    for (let i = start; i < start + count; ++i) {
      const point = points[i];
      const parsed = this.getParsed(i);
      const properties = directUpdate ? point : {};
      const nullData = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(parsed[vAxis]);
      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);
      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);
      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;
      properties.stop = i > 0 && (Math.abs(parsed[iAxis] - prevParsed[iAxis])) > maxGapLength;
      if (segment) {
        properties.parsed = parsed;
        properties.raw = _dataset.data[i];
      }
      if (includeOptions) {
        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);
      }
      if (!directUpdate) {
        this.updateElement(point, i, properties, mode);
      }
      prevParsed = parsed;
    }
    this.updateSharedOptions(sharedOptions, mode, firstOpts);
  }
  getMaxOverflow() {
    const meta = this._cachedMeta;
    const data = meta.data || [];
    if (!this.options.showLine) {
      let max = 0;
      for (let i = data.length - 1; i >= 0; --i) {
        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);
      }
      return max > 0 && max;
    }
    const dataset = meta.dataset;
    const border = dataset.options && dataset.options.borderWidth || 0;
    if (!data.length) {
      return border;
    }
    const firstPoint = data[0].size(this.resolveDataElementOptions(0));
    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));
    return Math.max(border, firstPoint, lastPoint) / 2;
  }
}
ScatterController.id = 'scatter';
ScatterController.defaults = {
  datasetElementType: false,
  dataElementType: 'point',
  showLine: false,
  fill: false
};
ScatterController.overrides = {
  interaction: {
    mode: 'point'
  },
  plugins: {
    tooltip: {
      callbacks: {
        title() {
          return '';
        },
        label(item) {
          return '(' + item.label + ', ' + item.formattedValue + ')';
        }
      }
    }
  },
  scales: {
    x: {
      type: 'linear'
    },
    y: {
      type: 'linear'
    }
  }
};

var controllers = /*#__PURE__*/Object.freeze({
__proto__: null,
BarController: BarController,
BubbleController: BubbleController,
DoughnutController: DoughnutController,
LineController: LineController,
PolarAreaController: PolarAreaController,
PieController: PieController,
RadarController: RadarController,
ScatterController: ScatterController
});

function abstract() {
  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');
}
class DateAdapter {
  constructor(options) {
    this.options = options || {};
  }
  init(chartOptions) {}
  formats() {
    return abstract();
  }
  parse(value, format) {
    return abstract();
  }
  format(timestamp, format) {
    return abstract();
  }
  add(timestamp, amount, unit) {
    return abstract();
  }
  diff(a, b, unit) {
    return abstract();
  }
  startOf(timestamp, unit, weekday) {
    return abstract();
  }
  endOf(timestamp, unit) {
    return abstract();
  }
}
DateAdapter.override = function(members) {
  Object.assign(DateAdapter.prototype, members);
};
var adapters = {
  _date: DateAdapter
};

function binarySearch(metaset, axis, value, intersect) {
  const {controller, data, _sorted} = metaset;
  const iScale = controller._cachedMeta.iScale;
  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {
    const lookupMethod = iScale._reversePixels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Y : _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z;
    if (!intersect) {
      return lookupMethod(data, axis, value);
    } else if (controller._sharedOptions) {
      const el = data[0];
      const range = typeof el.getRange === 'function' && el.getRange(axis);
      if (range) {
        const start = lookupMethod(data, axis, value - range);
        const end = lookupMethod(data, axis, value + range);
        return {lo: start.lo, hi: end.hi};
      }
    }
  }
  return {lo: 0, hi: data.length - 1};
}
function evaluateInteractionItems(chart, axis, position, handler, intersect) {
  const metasets = chart.getSortedVisibleDatasetMetas();
  const value = position[axis];
  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {
    const {index, data} = metasets[i];
    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);
    for (let j = lo; j <= hi; ++j) {
      const element = data[j];
      if (!element.skip) {
        handler(element, index, j);
      }
    }
  }
}
function getDistanceMetricForAxis(axis) {
  const useX = axis.indexOf('x') !== -1;
  const useY = axis.indexOf('y') !== -1;
  return function(pt1, pt2) {
    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;
    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;
    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));
  };
}
function getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) {
  const items = [];
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return items;
  }
  const evaluationFunc = function(element, datasetIndex, index) {
    if (!includeInvisible && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(element, chart.chartArea, 0)) {
      return;
    }
    if (element.inRange(position.x, position.y, useFinalPosition)) {
      items.push({element, datasetIndex, index});
    }
  };
  evaluateInteractionItems(chart, axis, position, evaluationFunc, true);
  return items;
}
function getNearestRadialItems(chart, position, axis, useFinalPosition) {
  let items = [];
  function evaluationFunc(element, datasetIndex, index) {
    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);
    const {angle} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a0)(element, {x: position.x, y: position.y});
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle)) {
      items.push({element, datasetIndex, index});
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  let items = [];
  const distanceMetric = getDistanceMetricForAxis(axis);
  let minDistance = Number.POSITIVE_INFINITY;
  function evaluationFunc(element, datasetIndex, index) {
    const inRange = element.inRange(position.x, position.y, useFinalPosition);
    if (intersect && !inRange) {
      return;
    }
    const center = element.getCenterPoint(useFinalPosition);
    const pointInArea = !!includeInvisible || chart.isPointInArea(center);
    if (!pointInArea && !inRange) {
      return;
    }
    const distance = distanceMetric(position, center);
    if (distance < minDistance) {
      items = [{element, datasetIndex, index}];
      minDistance = distance;
    } else if (distance === minDistance) {
      items.push({element, datasetIndex, index});
    }
  }
  evaluateInteractionItems(chart, axis, position, evaluationFunc);
  return items;
}
function getNearestItems(chart, position, axis, intersect, useFinalPosition, includeInvisible) {
  if (!includeInvisible && !chart.isPointInArea(position)) {
    return [];
  }
  return axis === 'r' && !intersect
    ? getNearestRadialItems(chart, position, axis, useFinalPosition)
    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition, includeInvisible);
}
function getAxisItems(chart, position, axis, intersect, useFinalPosition) {
  const items = [];
  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';
  let intersectsItem = false;
  evaluateInteractionItems(chart, axis, position, (element, datasetIndex, index) => {
    if (element[rangeMethod](position[axis], useFinalPosition)) {
      items.push({element, datasetIndex, index});
      intersectsItem = intersectsItem || element.inRange(position.x, position.y, useFinalPosition);
    }
  });
  if (intersect && !intersectsItem) {
    return [];
  }
  return items;
}
var Interaction = {
  evaluateInteractionItems,
  modes: {
    index(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'x';
      const includeInvisible = options.includeInvisible || false;
      const items = options.intersect
        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible)
        : getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      const elements = [];
      if (!items.length) {
        return [];
      }
      chart.getSortedVisibleDatasetMetas().forEach((meta) => {
        const index = items[0].index;
        const element = meta.data[index];
        if (element && !element.skip) {
          elements.push({element, datasetIndex: meta.index, index});
        }
      });
      return elements;
    },
    dataset(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      let items = options.intersect
        ? getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible) :
        getNearestItems(chart, position, axis, false, useFinalPosition, includeInvisible);
      if (items.length > 0) {
        const datasetIndex = items[0].datasetIndex;
        const data = chart.getDatasetMeta(datasetIndex).data;
        items = [];
        for (let i = 0; i < data.length; ++i) {
          items.push({element: data[i], datasetIndex, index: i});
        }
      }
      return items;
    },
    point(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      return getIntersectItems(chart, position, axis, useFinalPosition, includeInvisible);
    },
    nearest(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      const axis = options.axis || 'xy';
      const includeInvisible = options.includeInvisible || false;
      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition, includeInvisible);
    },
    x(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      return getAxisItems(chart, position, 'x', options.intersect, useFinalPosition);
    },
    y(chart, e, options, useFinalPosition) {
      const position = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(e, chart);
      return getAxisItems(chart, position, 'y', options.intersect, useFinalPosition);
    }
  }
};

const STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];
function filterByPosition(array, position) {
  return array.filter(v => v.pos === position);
}
function filterDynamicPositionByAxis(array, axis) {
  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);
}
function sortByWeight(array, reverse) {
  return array.sort((a, b) => {
    const v0 = reverse ? b : a;
    const v1 = reverse ? a : b;
    return v0.weight === v1.weight ?
      v0.index - v1.index :
      v0.weight - v1.weight;
  });
}
function wrapBoxes(boxes) {
  const layoutBoxes = [];
  let i, ilen, box, pos, stack, stackWeight;
  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {
    box = boxes[i];
    ({position: pos, options: {stack, stackWeight = 1}} = box);
    layoutBoxes.push({
      index: i,
      box,
      pos,
      horizontal: box.isHorizontal(),
      weight: box.weight,
      stack: stack && (pos + stack),
      stackWeight
    });
  }
  return layoutBoxes;
}
function buildStacks(layouts) {
  const stacks = {};
  for (const wrap of layouts) {
    const {stack, pos, stackWeight} = wrap;
    if (!stack || !STATIC_POSITIONS.includes(pos)) {
      continue;
    }
    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});
    _stack.count++;
    _stack.weight += stackWeight;
  }
  return stacks;
}
function setLayoutDims(layouts, params) {
  const stacks = buildStacks(layouts);
  const {vBoxMaxWidth, hBoxMaxHeight} = params;
  let i, ilen, layout;
  for (i = 0, ilen = layouts.length; i < ilen; ++i) {
    layout = layouts[i];
    const {fullSize} = layout.box;
    const stack = stacks[layout.stack];
    const factor = stack && layout.stackWeight / stack.weight;
    if (layout.horizontal) {
      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;
      layout.height = hBoxMaxHeight;
    } else {
      layout.width = vBoxMaxWidth;
      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;
    }
  }
  return stacks;
}
function buildLayoutBoxes(boxes) {
  const layoutBoxes = wrapBoxes(boxes);
  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);
  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);
  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));
  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);
  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));
  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');
  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');
  return {
    fullSize,
    leftAndTop: left.concat(top),
    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),
    chartArea: filterByPosition(layoutBoxes, 'chartArea'),
    vertical: left.concat(right).concat(centerVertical),
    horizontal: top.concat(bottom).concat(centerHorizontal)
  };
}
function getCombinedMax(maxPadding, chartArea, a, b) {
  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);
}
function updateMaxPadding(maxPadding, boxPadding) {
  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);
  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);
  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);
  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);
}
function updateDims(chartArea, params, layout, stacks) {
  const {pos, box} = layout;
  const maxPadding = chartArea.maxPadding;
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(pos)) {
    if (layout.size) {
      chartArea[pos] -= layout.size;
    }
    const stack = stacks[layout.stack] || {size: 0, count: 1};
    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);
    layout.size = stack.size / stack.count;
    chartArea[pos] += layout.size;
  }
  if (box.getPadding) {
    updateMaxPadding(maxPadding, box.getPadding());
  }
  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));
  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));
  const widthChanged = newWidth !== chartArea.w;
  const heightChanged = newHeight !== chartArea.h;
  chartArea.w = newWidth;
  chartArea.h = newHeight;
  return layout.horizontal
    ? {same: widthChanged, other: heightChanged}
    : {same: heightChanged, other: widthChanged};
}
function handleMaxPadding(chartArea) {
  const maxPadding = chartArea.maxPadding;
  function updatePos(pos) {
    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);
    chartArea[pos] += change;
    return change;
  }
  chartArea.y += updatePos('top');
  chartArea.x += updatePos('left');
  updatePos('right');
  updatePos('bottom');
}
function getMargins(horizontal, chartArea) {
  const maxPadding = chartArea.maxPadding;
  function marginForPositions(positions) {
    const margin = {left: 0, top: 0, right: 0, bottom: 0};
    positions.forEach((pos) => {
      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);
    });
    return margin;
  }
  return horizontal
    ? marginForPositions(['left', 'right'])
    : marginForPositions(['top', 'bottom']);
}
function fitBoxes(boxes, chartArea, params, stacks) {
  const refitBoxes = [];
  let i, ilen, layout, box, refit, changed;
  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {
    layout = boxes[i];
    box = layout.box;
    box.update(
      layout.width || chartArea.w,
      layout.height || chartArea.h,
      getMargins(layout.horizontal, chartArea)
    );
    const {same, other} = updateDims(chartArea, params, layout, stacks);
    refit |= same && refitBoxes.length;
    changed = changed || other;
    if (!box.fullSize) {
      refitBoxes.push(layout);
    }
  }
  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;
}
function setBoxDims(box, left, top, width, height) {
  box.top = top;
  box.left = left;
  box.right = left + width;
  box.bottom = top + height;
  box.width = width;
  box.height = height;
}
function placeBoxes(boxes, chartArea, params, stacks) {
  const userPadding = params.padding;
  let {x, y} = chartArea;
  for (const layout of boxes) {
    const box = layout.box;
    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};
    const weight = (layout.stackWeight / stack.weight) || 1;
    if (layout.horizontal) {
      const width = chartArea.w * weight;
      const height = stack.size || box.height;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(stack.start)) {
        y = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);
      } else {
        setBoxDims(box, chartArea.left + stack.placed, y, width, height);
      }
      stack.start = y;
      stack.placed += width;
      y = box.bottom;
    } else {
      const height = chartArea.h * weight;
      const width = stack.size || box.width;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(stack.start)) {
        x = stack.start;
      }
      if (box.fullSize) {
        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);
      } else {
        setBoxDims(box, x, chartArea.top + stack.placed, width, height);
      }
      stack.start = x;
      stack.placed += height;
      x = box.right;
    }
  }
  chartArea.x = x;
  chartArea.y = y;
}
_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.set('layout', {
  autoPadding: true,
  padding: {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  }
});
var layouts = {
  addBox(chart, item) {
    if (!chart.boxes) {
      chart.boxes = [];
    }
    item.fullSize = item.fullSize || false;
    item.position = item.position || 'top';
    item.weight = item.weight || 0;
    item._layers = item._layers || function() {
      return [{
        z: 0,
        draw(chartArea) {
          item.draw(chartArea);
        }
      }];
    };
    chart.boxes.push(item);
  },
  removeBox(chart, layoutItem) {
    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;
    if (index !== -1) {
      chart.boxes.splice(index, 1);
    }
  },
  configure(chart, item, options) {
    item.fullSize = options.fullSize;
    item.position = options.position;
    item.weight = options.weight;
  },
  update(chart, width, height, minPadding) {
    if (!chart) {
      return;
    }
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(chart.options.layout.padding);
    const availableWidth = Math.max(width - padding.width, 0);
    const availableHeight = Math.max(height - padding.height, 0);
    const boxes = buildLayoutBoxes(chart.boxes);
    const verticalBoxes = boxes.vertical;
    const horizontalBoxes = boxes.horizontal;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(chart.boxes, box => {
      if (typeof box.beforeLayout === 'function') {
        box.beforeLayout();
      }
    });
    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>
      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;
    const params = Object.freeze({
      outerWidth: width,
      outerHeight: height,
      padding,
      availableWidth,
      availableHeight,
      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,
      hBoxMaxHeight: availableHeight / 2
    });
    const maxPadding = Object.assign({}, padding);
    updateMaxPadding(maxPadding, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(minPadding));
    const chartArea = Object.assign({
      maxPadding,
      w: availableWidth,
      h: availableHeight,
      x: padding.left,
      y: padding.top
    }, padding);
    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);
    fitBoxes(boxes.fullSize, chartArea, params, stacks);
    fitBoxes(verticalBoxes, chartArea, params, stacks);
    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {
      fitBoxes(verticalBoxes, chartArea, params, stacks);
    }
    handleMaxPadding(chartArea);
    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);
    chartArea.x += chartArea.w;
    chartArea.y += chartArea.h;
    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);
    chart.chartArea = {
      left: chartArea.left,
      top: chartArea.top,
      right: chartArea.left + chartArea.w,
      bottom: chartArea.top + chartArea.h,
      height: chartArea.h,
      width: chartArea.w,
    };
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(boxes.chartArea, (layout) => {
      const box = layout.box;
      Object.assign(box, chart.chartArea);
      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});
    });
  }
};

class BasePlatform {
  acquireContext(canvas, aspectRatio) {}
  releaseContext(context) {
    return false;
  }
  addEventListener(chart, type, listener) {}
  removeEventListener(chart, type, listener) {}
  getDevicePixelRatio() {
    return 1;
  }
  getMaximumSize(element, width, height, aspectRatio) {
    width = Math.max(0, width || element.width);
    height = height || element.height;
    return {
      width,
      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)
    };
  }
  isAttached(canvas) {
    return true;
  }
  updateConfig(config) {
  }
}

class BasicPlatform extends BasePlatform {
  acquireContext(item) {
    return item && item.getContext && item.getContext('2d') || null;
  }
  updateConfig(config) {
    config.options.animation = false;
  }
}

const EXPANDO_KEY = '$chartjs';
const EVENT_TYPES = {
  touchstart: 'mousedown',
  touchmove: 'mousemove',
  touchend: 'mouseup',
  pointerenter: 'mouseenter',
  pointerdown: 'mousedown',
  pointermove: 'mousemove',
  pointerup: 'mouseup',
  pointerleave: 'mouseout',
  pointerout: 'mouseout'
};
const isNullOrEmpty = value => value === null || value === '';
function initCanvas(canvas, aspectRatio) {
  const style = canvas.style;
  const renderHeight = canvas.getAttribute('height');
  const renderWidth = canvas.getAttribute('width');
  canvas[EXPANDO_KEY] = {
    initial: {
      height: renderHeight,
      width: renderWidth,
      style: {
        display: style.display,
        height: style.height,
        width: style.width
      }
    }
  };
  style.display = style.display || 'block';
  style.boxSizing = style.boxSizing || 'border-box';
  if (isNullOrEmpty(renderWidth)) {
    const displayWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a3)(canvas, 'width');
    if (displayWidth !== undefined) {
      canvas.width = displayWidth;
    }
  }
  if (isNullOrEmpty(renderHeight)) {
    if (canvas.style.height === '') {
      canvas.height = canvas.width / (aspectRatio || 2);
    } else {
      const displayHeight = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a3)(canvas, 'height');
      if (displayHeight !== undefined) {
        canvas.height = displayHeight;
      }
    }
  }
  return canvas;
}
const eventListenerOptions = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a5 ? {passive: true} : false;
function addListener(node, type, listener) {
  node.addEventListener(type, listener, eventListenerOptions);
}
function removeListener(chart, type, listener) {
  chart.canvas.removeEventListener(type, listener, eventListenerOptions);
}
function fromNativeEvent(event, chart) {
  const type = EVENT_TYPES[event.type] || event.type;
  const {x, y} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.X)(event, chart);
  return {
    type,
    chart,
    native: event,
    x: x !== undefined ? x : null,
    y: y !== undefined ? y : null,
  };
}
function nodeListContains(nodeList, canvas) {
  for (const node of nodeList) {
    if (node === canvas || node.contains(canvas)) {
      return true;
    }
  }
}
function createAttachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver(entries => {
    let trigger = false;
    for (const entry of entries) {
      trigger = trigger || nodeListContains(entry.addedNodes, canvas);
      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);
    }
    if (trigger) {
      listener();
    }
  });
  observer.observe(document, {childList: true, subtree: true});
  return observer;
}
function createDetachObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const observer = new MutationObserver(entries => {
    let trigger = false;
    for (const entry of entries) {
      trigger = trigger || nodeListContains(entry.removedNodes, canvas);
      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);
    }
    if (trigger) {
      listener();
    }
  });
  observer.observe(document, {childList: true, subtree: true});
  return observer;
}
const drpListeningCharts = new Map();
let oldDevicePixelRatio = 0;
function onWindowResize() {
  const dpr = window.devicePixelRatio;
  if (dpr === oldDevicePixelRatio) {
    return;
  }
  oldDevicePixelRatio = dpr;
  drpListeningCharts.forEach((resize, chart) => {
    if (chart.currentDevicePixelRatio !== dpr) {
      resize();
    }
  });
}
function listenDevicePixelRatioChanges(chart, resize) {
  if (!drpListeningCharts.size) {
    window.addEventListener('resize', onWindowResize);
  }
  drpListeningCharts.set(chart, resize);
}
function unlistenDevicePixelRatioChanges(chart) {
  drpListeningCharts.delete(chart);
  if (!drpListeningCharts.size) {
    window.removeEventListener('resize', onWindowResize);
  }
}
function createResizeObserver(chart, type, listener) {
  const canvas = chart.canvas;
  const container = canvas && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a2)(canvas);
  if (!container) {
    return;
  }
  const resize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a4)((width, height) => {
    const w = container.clientWidth;
    listener(width, height);
    if (w < container.clientWidth) {
      listener();
    }
  }, window);
  const observer = new ResizeObserver(entries => {
    const entry = entries[0];
    const width = entry.contentRect.width;
    const height = entry.contentRect.height;
    if (width === 0 && height === 0) {
      return;
    }
    resize(width, height);
  });
  observer.observe(container);
  listenDevicePixelRatioChanges(chart, resize);
  return observer;
}
function releaseObserver(chart, type, observer) {
  if (observer) {
    observer.disconnect();
  }
  if (type === 'resize') {
    unlistenDevicePixelRatioChanges(chart);
  }
}
function createProxyAndListen(chart, type, listener) {
  const canvas = chart.canvas;
  const proxy = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a4)((event) => {
    if (chart.ctx !== null) {
      listener(fromNativeEvent(event, chart));
    }
  }, chart, (args) => {
    const event = args[0];
    return [event, event.offsetX, event.offsetY];
  });
  addListener(canvas, type, proxy);
  return proxy;
}
class DomPlatform extends BasePlatform {
  acquireContext(canvas, aspectRatio) {
    const context = canvas && canvas.getContext && canvas.getContext('2d');
    if (context && context.canvas === canvas) {
      initCanvas(canvas, aspectRatio);
      return context;
    }
    return null;
  }
  releaseContext(context) {
    const canvas = context.canvas;
    if (!canvas[EXPANDO_KEY]) {
      return false;
    }
    const initial = canvas[EXPANDO_KEY].initial;
    ['height', 'width'].forEach((prop) => {
      const value = initial[prop];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
        canvas.removeAttribute(prop);
      } else {
        canvas.setAttribute(prop, value);
      }
    });
    const style = initial.style || {};
    Object.keys(style).forEach((key) => {
      canvas.style[key] = style[key];
    });
    canvas.width = canvas.width;
    delete canvas[EXPANDO_KEY];
    return true;
  }
  addEventListener(chart, type, listener) {
    this.removeEventListener(chart, type);
    const proxies = chart.$proxies || (chart.$proxies = {});
    const handlers = {
      attach: createAttachObserver,
      detach: createDetachObserver,
      resize: createResizeObserver
    };
    const handler = handlers[type] || createProxyAndListen;
    proxies[type] = handler(chart, type, listener);
  }
  removeEventListener(chart, type) {
    const proxies = chart.$proxies || (chart.$proxies = {});
    const proxy = proxies[type];
    if (!proxy) {
      return;
    }
    const handlers = {
      attach: releaseObserver,
      detach: releaseObserver,
      resize: releaseObserver
    };
    const handler = handlers[type] || removeListener;
    handler(chart, type, proxy);
    proxies[type] = undefined;
  }
  getDevicePixelRatio() {
    return window.devicePixelRatio;
  }
  getMaximumSize(canvas, width, height, aspectRatio) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a1)(canvas, width, height, aspectRatio);
  }
  isAttached(canvas) {
    const container = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a2)(canvas);
    return !!(container && container.isConnected);
  }
}

function _detectPlatform(canvas) {
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a6)() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {
    return BasicPlatform;
  }
  return DomPlatform;
}

class PluginService {
  constructor() {
    this._init = [];
  }
  notify(chart, hook, args, filter) {
    if (hook === 'beforeInit') {
      this._init = this._createDescriptors(chart, true);
      this._notify(this._init, chart, 'install');
    }
    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);
    const result = this._notify(descriptors, chart, hook, args);
    if (hook === 'afterDestroy') {
      this._notify(descriptors, chart, 'stop');
      this._notify(this._init, chart, 'uninstall');
    }
    return result;
  }
  _notify(descriptors, chart, hook, args) {
    args = args || {};
    for (const descriptor of descriptors) {
      const plugin = descriptor.plugin;
      const method = plugin[hook];
      const params = [chart, args, descriptor.options];
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(method, params, plugin) === false && args.cancelable) {
        return false;
      }
    }
    return true;
  }
  invalidate() {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(this._cache)) {
      this._oldCache = this._cache;
      this._cache = undefined;
    }
  }
  _descriptors(chart) {
    if (this._cache) {
      return this._cache;
    }
    const descriptors = this._cache = this._createDescriptors(chart);
    this._notifyStateChanges(chart);
    return descriptors;
  }
  _createDescriptors(chart, all) {
    const config = chart && chart.config;
    const options = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(config.options && config.options.plugins, {});
    const plugins = allPlugins(config);
    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);
  }
  _notifyStateChanges(chart) {
    const previousDescriptors = this._oldCache || [];
    const descriptors = this._cache;
    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));
    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');
    this._notify(diff(descriptors, previousDescriptors), chart, 'start');
  }
}
function allPlugins(config) {
  const localIds = {};
  const plugins = [];
  const keys = Object.keys(registry.plugins.items);
  for (let i = 0; i < keys.length; i++) {
    plugins.push(registry.getPlugin(keys[i]));
  }
  const local = config.plugins || [];
  for (let i = 0; i < local.length; i++) {
    const plugin = local[i];
    if (plugins.indexOf(plugin) === -1) {
      plugins.push(plugin);
      localIds[plugin.id] = true;
    }
  }
  return {plugins, localIds};
}
function getOpts(options, all) {
  if (!all && options === false) {
    return null;
  }
  if (options === true) {
    return {};
  }
  return options;
}
function createDescriptors(chart, {plugins, localIds}, options, all) {
  const result = [];
  const context = chart.getContext();
  for (const plugin of plugins) {
    const id = plugin.id;
    const opts = getOpts(options[id], all);
    if (opts === null) {
      continue;
    }
    result.push({
      plugin,
      options: pluginOpts(chart.config, {plugin, local: localIds[id]}, opts, context)
    });
  }
  return result;
}
function pluginOpts(config, {plugin, local}, opts, context) {
  const keys = config.pluginScopeKeys(plugin);
  const scopes = config.getOptionScopes(opts, keys);
  if (local && plugin.defaults) {
    scopes.push(plugin.defaults);
  }
  return config.createResolver(scopes, context, [''], {
    scriptable: false,
    indexable: false,
    allKeys: true
  });
}

function getIndexAxis(type, options) {
  const datasetDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type] || {};
  const datasetOptions = (options.datasets || {})[type] || {};
  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';
}
function getAxisFromDefaultScaleID(id, indexAxis) {
  let axis = id;
  if (id === '_index_') {
    axis = indexAxis;
  } else if (id === '_value_') {
    axis = indexAxis === 'x' ? 'y' : 'x';
  }
  return axis;
}
function getDefaultScaleIDFromAxis(axis, indexAxis) {
  return axis === indexAxis ? '_index_' : '_value_';
}
function axisFromPosition(position) {
  if (position === 'top' || position === 'bottom') {
    return 'x';
  }
  if (position === 'left' || position === 'right') {
    return 'y';
  }
}
function determineAxis(id, scaleOptions) {
  if (id === 'x' || id === 'y') {
    return id;
  }
  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();
}
function mergeScaleConfig(config, options) {
  const chartDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[config.type] || {scales: {}};
  const configScales = options.scales || {};
  const chartIndexAxis = getIndexAxis(config.type, options);
  const firstIDs = Object.create(null);
  const scales = Object.create(null);
  Object.keys(configScales).forEach(id => {
    const scaleConf = configScales[id];
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(scaleConf)) {
      return console.error(`Invalid scale configuration for scale: ${id}`);
    }
    if (scaleConf._proxy) {
      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);
    }
    const axis = determineAxis(id, scaleConf);
    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);
    const defaultScaleOptions = chartDefaults.scales || {};
    firstIDs[axis] = firstIDs[axis] || id;
    scales[id] = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);
  });
  config.data.datasets.forEach(dataset => {
    const type = dataset.type || config.type;
    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);
    const datasetDefaults = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {};
    const defaultScaleOptions = datasetDefaults.scales || {};
    Object.keys(defaultScaleOptions).forEach(defaultID => {
      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);
      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;
      scales[id] = scales[id] || Object.create(null);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);
    });
  });
  Object.keys(scales).forEach(key => {
    const scale = scales[key];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(scale, [_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.scales[scale.type], _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.scale]);
  });
  return scales;
}
function initOptions(config) {
  const options = config.options || (config.options = {});
  options.plugins = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(options.plugins, {});
  options.scales = mergeScaleConfig(config, options);
}
function initData(data) {
  data = data || {};
  data.datasets = data.datasets || [];
  data.labels = data.labels || [];
  return data;
}
function initConfig(config) {
  config = config || {};
  config.data = initData(config.data);
  initOptions(config);
  return config;
}
const keyCache = new Map();
const keysCached = new Set();
function cachedKeys(cacheKey, generate) {
  let keys = keyCache.get(cacheKey);
  if (!keys) {
    keys = generate();
    keyCache.set(cacheKey, keys);
    keysCached.add(keys);
  }
  return keys;
}
const addIfFound = (set, obj, key) => {
  const opts = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.f)(obj, key);
  if (opts !== undefined) {
    set.add(opts);
  }
};
class Config {
  constructor(config) {
    this._config = initConfig(config);
    this._scopeCache = new Map();
    this._resolverCache = new Map();
  }
  get platform() {
    return this._config.platform;
  }
  get type() {
    return this._config.type;
  }
  set type(type) {
    this._config.type = type;
  }
  get data() {
    return this._config.data;
  }
  set data(data) {
    this._config.data = initData(data);
  }
  get options() {
    return this._config.options;
  }
  set options(options) {
    this._config.options = options;
  }
  get plugins() {
    return this._config.plugins;
  }
  update() {
    const config = this._config;
    this.clearCache();
    initOptions(config);
  }
  clearCache() {
    this._scopeCache.clear();
    this._resolverCache.clear();
  }
  datasetScopeKeys(datasetType) {
    return cachedKeys(datasetType,
      () => [[
        `datasets.${datasetType}`,
        ''
      ]]);
  }
  datasetAnimationScopeKeys(datasetType, transition) {
    return cachedKeys(`${datasetType}.transition.${transition}`,
      () => [
        [
          `datasets.${datasetType}.transitions.${transition}`,
          `transitions.${transition}`,
        ],
        [
          `datasets.${datasetType}`,
          ''
        ]
      ]);
  }
  datasetElementScopeKeys(datasetType, elementType) {
    return cachedKeys(`${datasetType}-${elementType}`,
      () => [[
        `datasets.${datasetType}.elements.${elementType}`,
        `datasets.${datasetType}`,
        `elements.${elementType}`,
        ''
      ]]);
  }
  pluginScopeKeys(plugin) {
    const id = plugin.id;
    const type = this.type;
    return cachedKeys(`${type}-plugin-${id}`,
      () => [[
        `plugins.${id}`,
        ...plugin.additionalOptionScopes || [],
      ]]);
  }
  _cachedScopes(mainScope, resetCache) {
    const _scopeCache = this._scopeCache;
    let cache = _scopeCache.get(mainScope);
    if (!cache || resetCache) {
      cache = new Map();
      _scopeCache.set(mainScope, cache);
    }
    return cache;
  }
  getOptionScopes(mainScope, keyLists, resetCache) {
    const {options, type} = this;
    const cache = this._cachedScopes(mainScope, resetCache);
    const cached = cache.get(keyLists);
    if (cached) {
      return cached;
    }
    const scopes = new Set();
    keyLists.forEach(keys => {
      if (mainScope) {
        scopes.add(mainScope);
        keys.forEach(key => addIfFound(scopes, mainScope, key));
      }
      keys.forEach(key => addIfFound(scopes, options, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {}, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d, key));
      keys.forEach(key => addIfFound(scopes, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a7, key));
    });
    const array = Array.from(scopes);
    if (array.length === 0) {
      array.push(Object.create(null));
    }
    if (keysCached.has(keyLists)) {
      cache.set(keyLists, array);
    }
    return array;
  }
  chartOptionScopes() {
    const {options, type} = this;
    return [
      options,
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U[type] || {},
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type] || {},
      {type},
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d,
      _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a7
    ];
  }
  resolveNamedOptions(scopes, names, context, prefixes = ['']) {
    const result = {$shared: true};
    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);
    let options = resolver;
    if (needContext(resolver, names)) {
      result.$shared = false;
      context = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(context) ? context() : context;
      const subResolver = this.createResolver(scopes, context, subPrefixes);
      options = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a9)(resolver, context, subResolver);
    }
    for (const prop of names) {
      result[prop] = options[prop];
    }
    return result;
  }
  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {
    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(context)
      ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a9)(resolver, context, undefined, descriptorDefaults)
      : resolver;
  }
}
function getResolver(resolverCache, scopes, prefixes) {
  let cache = resolverCache.get(scopes);
  if (!cache) {
    cache = new Map();
    resolverCache.set(scopes, cache);
  }
  const cacheKey = prefixes.join();
  let cached = cache.get(cacheKey);
  if (!cached) {
    const resolver = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aa)(scopes, prefixes);
    cached = {
      resolver,
      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))
    };
    cache.set(cacheKey, cached);
  }
  return cached;
}
const hasFunction = value => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value)
  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(value[key]), false);
function needContext(proxy, names) {
  const {isScriptable, isIndexable} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ab)(proxy);
  for (const prop of names) {
    const scriptable = isScriptable(prop);
    const indexable = isIndexable(prop);
    const value = (indexable || scriptable) && proxy[prop];
    if ((scriptable && ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(value) || hasFunction(value)))
      || (indexable && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(value))) {
      return true;
    }
  }
  return false;
}

var version = "3.9.1";

const KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];
function positionIsHorizontal(position, axis) {
  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');
}
function compare2Level(l1, l2) {
  return function(a, b) {
    return a[l1] === b[l1]
      ? a[l2] - b[l2]
      : a[l1] - b[l1];
  };
}
function onAnimationsComplete(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  chart.notifyPlugins('afterRender');
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(animationOptions && animationOptions.onComplete, [context], chart);
}
function onAnimationProgress(context) {
  const chart = context.chart;
  const animationOptions = chart.options.animation;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(animationOptions && animationOptions.onProgress, [context], chart);
}
function getCanvas(item) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a6)() && typeof item === 'string') {
    item = document.getElementById(item);
  } else if (item && item.length) {
    item = item[0];
  }
  if (item && item.canvas) {
    item = item.canvas;
  }
  return item;
}
const instances = {};
const getChart = (key) => {
  const canvas = getCanvas(key);
  return Object.values(instances).filter((c) => c.canvas === canvas).pop();
};
function moveNumericKeys(obj, start, move) {
  const keys = Object.keys(obj);
  for (const key of keys) {
    const intKey = +key;
    if (intKey >= start) {
      const value = obj[key];
      delete obj[key];
      if (move > 0 || intKey > start) {
        obj[intKey + move] = value;
      }
    }
  }
}
function determineLastEvent(e, lastEvent, inChartArea, isClick) {
  if (!inChartArea || e.type === 'mouseout') {
    return null;
  }
  if (isClick) {
    return lastEvent;
  }
  return e;
}
class Chart {
  constructor(item, userConfig) {
    const config = this.config = new Config(userConfig);
    const initialCanvas = getCanvas(item);
    const existingChart = getChart(initialCanvas);
    if (existingChart) {
      throw new Error(
        'Canvas is already in use. Chart with ID \'' + existingChart.id + '\'' +
				' must be destroyed before the canvas with ID \'' + existingChart.canvas.id + '\' can be reused.'
      );
    }
    const options = config.createResolver(config.chartOptionScopes(), this.getContext());
    this.platform = new (config.platform || _detectPlatform(initialCanvas))();
    this.platform.updateConfig(config);
    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);
    const canvas = context && context.canvas;
    const height = canvas && canvas.height;
    const width = canvas && canvas.width;
    this.id = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ad)();
    this.ctx = context;
    this.canvas = canvas;
    this.width = width;
    this.height = height;
    this._options = options;
    this._aspectRatio = this.aspectRatio;
    this._layers = [];
    this._metasets = [];
    this._stacks = undefined;
    this.boxes = [];
    this.currentDevicePixelRatio = undefined;
    this.chartArea = undefined;
    this._active = [];
    this._lastEvent = undefined;
    this._listeners = {};
    this._responsiveListeners = undefined;
    this._sortedMetasets = [];
    this.scales = {};
    this._plugins = new PluginService();
    this.$proxies = {};
    this._hiddenIndices = {};
    this.attached = false;
    this._animationsDisabled = undefined;
    this.$context = undefined;
    this._doResize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ae)(mode => this.update(mode), options.resizeDelay || 0);
    this._dataChanges = [];
    instances[this.id] = this;
    if (!context || !canvas) {
      console.error("Failed to create chart: can't acquire context from the given item");
      return;
    }
    animator.listen(this, 'complete', onAnimationsComplete);
    animator.listen(this, 'progress', onAnimationProgress);
    this._initialize();
    if (this.attached) {
      this.update();
    }
  }
  get aspectRatio() {
    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(aspectRatio)) {
      return aspectRatio;
    }
    if (maintainAspectRatio && _aspectRatio) {
      return _aspectRatio;
    }
    return height ? width / height : null;
  }
  get data() {
    return this.config.data;
  }
  set data(data) {
    this.config.data = data;
  }
  get options() {
    return this._options;
  }
  set options(options) {
    this.config.options = options;
  }
  _initialize() {
    this.notifyPlugins('beforeInit');
    if (this.options.responsive) {
      this.resize();
    } else {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.af)(this, this.options.devicePixelRatio);
    }
    this.bindEvents();
    this.notifyPlugins('afterInit');
    return this;
  }
  clear() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ag)(this.canvas, this.ctx);
    return this;
  }
  stop() {
    animator.stop(this);
    return this;
  }
  resize(width, height) {
    if (!animator.running(this)) {
      this._resize(width, height);
    } else {
      this._resizeBeforeDraw = {width, height};
    }
  }
  _resize(width, height) {
    const options = this.options;
    const canvas = this.canvas;
    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;
    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);
    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();
    const mode = this.width ? 'resize' : 'attach';
    this.width = newSize.width;
    this.height = newSize.height;
    this._aspectRatio = this.aspectRatio;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.af)(this, newRatio, true)) {
      return;
    }
    this.notifyPlugins('resize', {size: newSize});
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onResize, [this, newSize], this);
    if (this.attached) {
      if (this._doResize(mode)) {
        this.render();
      }
    }
  }
  ensureScalesHaveIDs() {
    const options = this.options;
    const scalesOptions = options.scales || {};
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(scalesOptions, (axisOptions, axisID) => {
      axisOptions.id = axisID;
    });
  }
  buildOrUpdateScales() {
    const options = this.options;
    const scaleOpts = options.scales;
    const scales = this.scales;
    const updated = Object.keys(scales).reduce((obj, id) => {
      obj[id] = false;
      return obj;
    }, {});
    let items = [];
    if (scaleOpts) {
      items = items.concat(
        Object.keys(scaleOpts).map((id) => {
          const scaleOptions = scaleOpts[id];
          const axis = determineAxis(id, scaleOptions);
          const isRadial = axis === 'r';
          const isHorizontal = axis === 'x';
          return {
            options: scaleOptions,
            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',
            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'
          };
        })
      );
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(items, (item) => {
      const scaleOptions = item.options;
      const id = scaleOptions.id;
      const axis = determineAxis(id, scaleOptions);
      const scaleType = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(scaleOptions.type, item.dtype);
      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {
        scaleOptions.position = item.dposition;
      }
      updated[id] = true;
      let scale = null;
      if (id in scales && scales[id].type === scaleType) {
        scale = scales[id];
      } else {
        const scaleClass = registry.getScale(scaleType);
        scale = new scaleClass({
          id,
          type: scaleType,
          ctx: this.ctx,
          chart: this
        });
        scales[scale.id] = scale;
      }
      scale.init(scaleOptions, options);
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(updated, (hasUpdated, id) => {
      if (!hasUpdated) {
        delete scales[id];
      }
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(scales, (scale) => {
      layouts.configure(this, scale, scale.options);
      layouts.addBox(this, scale);
    });
  }
  _updateMetasets() {
    const metasets = this._metasets;
    const numData = this.data.datasets.length;
    const numMeta = metasets.length;
    metasets.sort((a, b) => a.index - b.index);
    if (numMeta > numData) {
      for (let i = numData; i < numMeta; ++i) {
        this._destroyDatasetMeta(i);
      }
      metasets.splice(numData, numMeta - numData);
    }
    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));
  }
  _removeUnreferencedMetasets() {
    const {_metasets: metasets, data: {datasets}} = this;
    if (metasets.length > datasets.length) {
      delete this._stacks;
    }
    metasets.forEach((meta, index) => {
      if (datasets.filter(x => x === meta._dataset).length === 0) {
        this._destroyDatasetMeta(index);
      }
    });
  }
  buildOrUpdateControllers() {
    const newControllers = [];
    const datasets = this.data.datasets;
    let i, ilen;
    this._removeUnreferencedMetasets();
    for (i = 0, ilen = datasets.length; i < ilen; i++) {
      const dataset = datasets[i];
      let meta = this.getDatasetMeta(i);
      const type = dataset.type || this.config.type;
      if (meta.type && meta.type !== type) {
        this._destroyDatasetMeta(i);
        meta = this.getDatasetMeta(i);
      }
      meta.type = type;
      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);
      meta.order = dataset.order || 0;
      meta.index = i;
      meta.label = '' + dataset.label;
      meta.visible = this.isDatasetVisible(i);
      if (meta.controller) {
        meta.controller.updateIndex(i);
        meta.controller.linkScales();
      } else {
        const ControllerClass = registry.getController(type);
        const {datasetElementType, dataElementType} = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.datasets[type];
        Object.assign(ControllerClass.prototype, {
          dataElementType: registry.getElement(dataElementType),
          datasetElementType: datasetElementType && registry.getElement(datasetElementType)
        });
        meta.controller = new ControllerClass(this, i);
        newControllers.push(meta.controller);
      }
    }
    this._updateMetasets();
    return newControllers;
  }
  _resetElements() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.data.datasets, (dataset, datasetIndex) => {
      this.getDatasetMeta(datasetIndex).controller.reset();
    }, this);
  }
  reset() {
    this._resetElements();
    this.notifyPlugins('reset');
  }
  update(mode) {
    const config = this.config;
    config.update();
    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());
    const animsDisabled = this._animationsDisabled = !options.animation;
    this._updateScales();
    this._checkEventBindings();
    this._updateHiddenIndices();
    this._plugins.invalidate();
    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {
      return;
    }
    const newControllers = this.buildOrUpdateControllers();
    this.notifyPlugins('beforeElementsUpdate');
    let minPadding = 0;
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {
      const {controller} = this.getDatasetMeta(i);
      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;
      controller.buildOrUpdateElements(reset);
      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);
    }
    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;
    this._updateLayout(minPadding);
    if (!animsDisabled) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(newControllers, (controller) => {
        controller.reset();
      });
    }
    this._updateDatasets(mode);
    this.notifyPlugins('afterUpdate', {mode});
    this._layers.sort(compare2Level('z', '_idx'));
    const {_active, _lastEvent} = this;
    if (_lastEvent) {
      this._eventHandler(_lastEvent, true);
    } else if (_active.length) {
      this._updateHoverStyles(_active, _active, true);
    }
    this.render();
  }
  _updateScales() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.scales, (scale) => {
      layouts.removeBox(this, scale);
    });
    this.ensureScalesHaveIDs();
    this.buildOrUpdateScales();
  }
  _checkEventBindings() {
    const options = this.options;
    const existingEvents = new Set(Object.keys(this._listeners));
    const newEvents = new Set(options.events);
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ah)(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {
      this.unbindEvents();
      this.bindEvents();
    }
  }
  _updateHiddenIndices() {
    const {_hiddenIndices} = this;
    const changes = this._getUniformDataChanges() || [];
    for (const {method, start, count} of changes) {
      const move = method === '_removeElements' ? -count : count;
      moveNumericKeys(_hiddenIndices, start, move);
    }
  }
  _getUniformDataChanges() {
    const _dataChanges = this._dataChanges;
    if (!_dataChanges || !_dataChanges.length) {
      return;
    }
    this._dataChanges = [];
    const datasetCount = this.data.datasets.length;
    const makeSet = (idx) => new Set(
      _dataChanges
        .filter(c => c[0] === idx)
        .map((c, i) => i + ',' + c.splice(1).join(','))
    );
    const changeSet = makeSet(0);
    for (let i = 1; i < datasetCount; i++) {
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ah)(changeSet, makeSet(i))) {
        return;
      }
    }
    return Array.from(changeSet)
      .map(c => c.split(','))
      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));
  }
  _updateLayout(minPadding) {
    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {
      return;
    }
    layouts.update(this, this.width, this.height, minPadding);
    const area = this.chartArea;
    const noArea = area.width <= 0 || area.height <= 0;
    this._layers = [];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.boxes, (box) => {
      if (noArea && box.position === 'chartArea') {
        return;
      }
      if (box.configure) {
        box.configure();
      }
      this._layers.push(...box._layers());
    }, this);
    this._layers.forEach((item, index) => {
      item._idx = index;
    });
    this.notifyPlugins('afterLayout');
  }
  _updateDatasets(mode) {
    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {
      return;
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this.getDatasetMeta(i).controller.configure();
    }
    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._updateDataset(i, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a8)(mode) ? mode({datasetIndex: i}) : mode);
    }
    this.notifyPlugins('afterDatasetsUpdate', {mode});
  }
  _updateDataset(index, mode) {
    const meta = this.getDatasetMeta(index);
    const args = {meta, index, mode, cancelable: true};
    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {
      return;
    }
    meta.controller._update(mode);
    args.cancelable = false;
    this.notifyPlugins('afterDatasetUpdate', args);
  }
  render() {
    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {
      return;
    }
    if (animator.has(this)) {
      if (this.attached && !animator.running(this)) {
        animator.start(this);
      }
    } else {
      this.draw();
      onAnimationsComplete({chart: this});
    }
  }
  draw() {
    let i;
    if (this._resizeBeforeDraw) {
      const {width, height} = this._resizeBeforeDraw;
      this._resize(width, height);
      this._resizeBeforeDraw = null;
    }
    this.clear();
    if (this.width <= 0 || this.height <= 0) {
      return;
    }
    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {
      return;
    }
    const layers = this._layers;
    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {
      layers[i].draw(this.chartArea);
    }
    this._drawDatasets();
    for (; i < layers.length; ++i) {
      layers[i].draw(this.chartArea);
    }
    this.notifyPlugins('afterDraw');
  }
  _getSortedDatasetMetas(filterVisible) {
    const metasets = this._sortedMetasets;
    const result = [];
    let i, ilen;
    for (i = 0, ilen = metasets.length; i < ilen; ++i) {
      const meta = metasets[i];
      if (!filterVisible || meta.visible) {
        result.push(meta);
      }
    }
    return result;
  }
  getSortedVisibleDatasetMetas() {
    return this._getSortedDatasetMetas(true);
  }
  _drawDatasets() {
    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {
      return;
    }
    const metasets = this.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      this._drawDataset(metasets[i]);
    }
    this.notifyPlugins('afterDatasetsDraw');
  }
  _drawDataset(meta) {
    const ctx = this.ctx;
    const clip = meta._clip;
    const useClip = !clip.disabled;
    const area = this.chartArea;
    const args = {
      meta,
      index: meta.index,
      cancelable: true
    };
    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {
      return;
    }
    if (useClip) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, {
        left: clip.left === false ? 0 : area.left - clip.left,
        right: clip.right === false ? this.width : area.right + clip.right,
        top: clip.top === false ? 0 : area.top - clip.top,
        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom
      });
    }
    meta.controller.draw();
    if (useClip) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
    args.cancelable = false;
    this.notifyPlugins('afterDatasetDraw', args);
  }
  isPointInArea(point) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(point, this.chartArea, this._minPadding);
  }
  getElementsAtEventForMode(e, mode, options, useFinalPosition) {
    const method = Interaction.modes[mode];
    if (typeof method === 'function') {
      return method(this, e, options, useFinalPosition);
    }
    return [];
  }
  getDatasetMeta(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    const metasets = this._metasets;
    let meta = metasets.filter(x => x && x._dataset === dataset).pop();
    if (!meta) {
      meta = {
        type: null,
        data: [],
        dataset: null,
        controller: null,
        hidden: null,
        xAxisID: null,
        yAxisID: null,
        order: dataset && dataset.order || 0,
        index: datasetIndex,
        _dataset: dataset,
        _parsed: [],
        _sorted: false
      };
      metasets.push(meta);
    }
    return meta;
  }
  getContext() {
    return this.$context || (this.$context = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(null, {chart: this, type: 'chart'}));
  }
  getVisibleDatasetCount() {
    return this.getSortedVisibleDatasetMetas().length;
  }
  isDatasetVisible(datasetIndex) {
    const dataset = this.data.datasets[datasetIndex];
    if (!dataset) {
      return false;
    }
    const meta = this.getDatasetMeta(datasetIndex);
    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;
  }
  setDatasetVisibility(datasetIndex, visible) {
    const meta = this.getDatasetMeta(datasetIndex);
    meta.hidden = !visible;
  }
  toggleDataVisibility(index) {
    this._hiddenIndices[index] = !this._hiddenIndices[index];
  }
  getDataVisibility(index) {
    return !this._hiddenIndices[index];
  }
  _updateVisibility(datasetIndex, dataIndex, visible) {
    const mode = visible ? 'show' : 'hide';
    const meta = this.getDatasetMeta(datasetIndex);
    const anims = meta.controller._resolveAnimations(undefined, mode);
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.j)(dataIndex)) {
      meta.data[dataIndex].hidden = !visible;
      this.update();
    } else {
      this.setDatasetVisibility(datasetIndex, visible);
      anims.update(meta, {visible});
      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);
    }
  }
  hide(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, false);
  }
  show(datasetIndex, dataIndex) {
    this._updateVisibility(datasetIndex, dataIndex, true);
  }
  _destroyDatasetMeta(datasetIndex) {
    const meta = this._metasets[datasetIndex];
    if (meta && meta.controller) {
      meta.controller._destroy();
    }
    delete this._metasets[datasetIndex];
  }
  _stop() {
    let i, ilen;
    this.stop();
    animator.remove(this);
    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {
      this._destroyDatasetMeta(i);
    }
  }
  destroy() {
    this.notifyPlugins('beforeDestroy');
    const {canvas, ctx} = this;
    this._stop();
    this.config.clearCache();
    if (canvas) {
      this.unbindEvents();
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ag)(canvas, ctx);
      this.platform.releaseContext(ctx);
      this.canvas = null;
      this.ctx = null;
    }
    this.notifyPlugins('destroy');
    delete instances[this.id];
    this.notifyPlugins('afterDestroy');
  }
  toBase64Image(...args) {
    return this.canvas.toDataURL(...args);
  }
  bindEvents() {
    this.bindUserEvents();
    if (this.options.responsive) {
      this.bindResponsiveEvents();
    } else {
      this.attached = true;
    }
  }
  bindUserEvents() {
    const listeners = this._listeners;
    const platform = this.platform;
    const _add = (type, listener) => {
      platform.addEventListener(this, type, listener);
      listeners[type] = listener;
    };
    const listener = (e, x, y) => {
      e.offsetX = x;
      e.offsetY = y;
      this._eventHandler(e);
    };
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.options.events, (type) => _add(type, listener));
  }
  bindResponsiveEvents() {
    if (!this._responsiveListeners) {
      this._responsiveListeners = {};
    }
    const listeners = this._responsiveListeners;
    const platform = this.platform;
    const _add = (type, listener) => {
      platform.addEventListener(this, type, listener);
      listeners[type] = listener;
    };
    const _remove = (type, listener) => {
      if (listeners[type]) {
        platform.removeEventListener(this, type, listener);
        delete listeners[type];
      }
    };
    const listener = (width, height) => {
      if (this.canvas) {
        this.resize(width, height);
      }
    };
    let detached;
    const attached = () => {
      _remove('attach', attached);
      this.attached = true;
      this.resize();
      _add('resize', listener);
      _add('detach', detached);
    };
    detached = () => {
      this.attached = false;
      _remove('resize', listener);
      this._stop();
      this._resize(0, 0);
      _add('attach', attached);
    };
    if (platform.isAttached(this.canvas)) {
      attached();
    } else {
      detached();
    }
  }
  unbindEvents() {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this._listeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._listeners = {};
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this._responsiveListeners, (listener, type) => {
      this.platform.removeEventListener(this, type, listener);
    });
    this._responsiveListeners = undefined;
  }
  updateHoverStyle(items, mode, enabled) {
    const prefix = enabled ? 'set' : 'remove';
    let meta, item, i, ilen;
    if (mode === 'dataset') {
      meta = this.getDatasetMeta(items[0].datasetIndex);
      meta.controller['_' + prefix + 'DatasetHoverStyle']();
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      item = items[i];
      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;
      if (controller) {
        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);
      }
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements) {
    const lastActive = this._active || [];
    const active = activeElements.map(({datasetIndex, index}) => {
      const meta = this.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error('No dataset found at index ' + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index],
        index,
      };
    });
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive);
    if (changed) {
      this._active = active;
      this._lastEvent = null;
      this._updateHoverStyles(active, lastActive);
    }
  }
  notifyPlugins(hook, args, filter) {
    return this._plugins.notify(this, hook, args, filter);
  }
  _updateHoverStyles(active, lastActive, replay) {
    const hoverOptions = this.options.hover;
    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));
    const deactivated = diff(lastActive, active);
    const activated = replay ? active : diff(active, lastActive);
    if (deactivated.length) {
      this.updateHoverStyle(deactivated, hoverOptions.mode, false);
    }
    if (activated.length && hoverOptions.mode) {
      this.updateHoverStyle(activated, hoverOptions.mode, true);
    }
  }
  _eventHandler(e, replay) {
    const args = {
      event: e,
      replay,
      cancelable: true,
      inChartArea: this.isPointInArea(e)
    };
    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);
    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {
      return;
    }
    const changed = this._handleEvent(e, replay, args.inChartArea);
    args.cancelable = false;
    this.notifyPlugins('afterEvent', args, eventFilter);
    if (changed || args.changed) {
      this.render();
    }
    return this;
  }
  _handleEvent(e, replay, inChartArea) {
    const {_active: lastActive = [], options} = this;
    const useFinalPosition = replay;
    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);
    const isClick = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aj)(e);
    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);
    if (inChartArea) {
      this._lastEvent = null;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onHover, [e, active, this], this);
      if (isClick) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(options.onClick, [e, active, this], this);
      }
    }
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive);
    if (changed || replay) {
      this._active = active;
      this._updateHoverStyles(active, lastActive, replay);
    }
    this._lastEvent = lastEvent;
    return changed;
  }
  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {
    if (e.type === 'mouseout') {
      return [];
    }
    if (!inChartArea) {
      return lastActive;
    }
    const hoverOptions = this.options.hover;
    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);
  }
}
const invalidatePlugins = () => (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(Chart.instances, (chart) => chart._plugins.invalidate());
const enumerable = true;
Object.defineProperties(Chart, {
  defaults: {
    enumerable,
    value: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d
  },
  instances: {
    enumerable,
    value: instances
  },
  overrides: {
    enumerable,
    value: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.U
  },
  registry: {
    enumerable,
    value: registry
  },
  version: {
    enumerable,
    value: version
  },
  getChart: {
    enumerable,
    value: getChart
  },
  register: {
    enumerable,
    value: (...items) => {
      registry.add(...items);
      invalidatePlugins();
    }
  },
  unregister: {
    enumerable,
    value: (...items) => {
      registry.remove(...items);
      invalidatePlugins();
    }
  }
});

function clipArc(ctx, element, endAngle) {
  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;
  let angleMargin = pixelMargin / outerRadius;
  ctx.beginPath();
  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);
  if (innerRadius > pixelMargin) {
    angleMargin = pixelMargin / innerRadius;
    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);
  } else {
    ctx.arc(x, y, pixelMargin, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
  }
  ctx.closePath();
  ctx.clip();
}
function toRadiusCorners(value) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.al)(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);
}
function parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {
  const o = toRadiusCorners(arc.options.borderRadius);
  const halfThickness = (outerRadius - innerRadius) / 2;
  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);
  const computeOuterLimit = (val) => {
    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(val, 0, Math.min(halfThickness, outerArcLimit));
  };
  return {
    outerStart: computeOuterLimit(o.outerStart),
    outerEnd: computeOuterLimit(o.outerEnd),
    innerStart: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(o.innerStart, 0, innerLimit),
    innerEnd: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(o.innerEnd, 0, innerLimit),
  };
}
function rThetaToXY(r, theta, x, y) {
  return {
    x: x + r * Math.cos(theta),
    y: y + r * Math.sin(theta),
  };
}
function pathArc(ctx, element, offset, spacing, end, circular) {
  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;
  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);
  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;
  let spacingOffset = 0;
  const alpha = end - start;
  if (spacing) {
    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;
    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;
    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;
    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;
    spacingOffset = (alpha - adjustedAngle) / 2;
  }
  const beta = Math.max(0.001, alpha * outerRadius - offset / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P) / outerRadius;
  const angleOffset = (alpha - beta) / 2;
  const startAngle = start + angleOffset + spacingOffset;
  const endAngle = end - angleOffset - spacingOffset;
  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);
  const outerStartAdjustedRadius = outerRadius - outerStart;
  const outerEndAdjustedRadius = outerRadius - outerEnd;
  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;
  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;
  const innerStartAdjustedRadius = innerRadius + innerStart;
  const innerEndAdjustedRadius = innerRadius + innerEnd;
  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;
  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;
  ctx.beginPath();
  if (circular) {
    ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);
    if (outerEnd > 0) {
      const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
    }
    const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);
    ctx.lineTo(p4.x, p4.y);
    if (innerEnd > 0) {
      const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, innerEndAdjustedAngle + Math.PI);
    }
    ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);
    if (innerStart > 0) {
      const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H);
    }
    const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);
    ctx.lineTo(p8.x, p8.y);
    if (outerStart > 0) {
      const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);
      ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H, outerStartAdjustedAngle);
    }
  } else {
    ctx.moveTo(x, y);
    const outerStartX = Math.cos(outerStartAdjustedAngle) * outerRadius + x;
    const outerStartY = Math.sin(outerStartAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerStartX, outerStartY);
    const outerEndX = Math.cos(outerEndAdjustedAngle) * outerRadius + x;
    const outerEndY = Math.sin(outerEndAdjustedAngle) * outerRadius + y;
    ctx.lineTo(outerEndX, outerEndY);
  }
  ctx.closePath();
}
function drawArc(ctx, element, offset, spacing, circular) {
  const {fullCircles, startAngle, circumference} = element;
  let endAngle = element.endAngle;
  if (fullCircles) {
    pathArc(ctx, element, offset, spacing, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T, circular);
    for (let i = 0; i < fullCircles; ++i) {
      ctx.fill();
    }
    if (!isNaN(circumference)) {
      endAngle = startAngle + circumference % _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
      if (circumference % _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T === 0) {
        endAngle += _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T;
      }
    }
  }
  pathArc(ctx, element, offset, spacing, endAngle, circular);
  ctx.fill();
  return endAngle;
}
function drawFullCircleBorders(ctx, element, inner) {
  const {x, y, startAngle, pixelMargin, fullCircles} = element;
  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);
  const innerRadius = element.innerRadius + pixelMargin;
  let i;
  if (inner) {
    clipArc(ctx, element, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  }
  ctx.beginPath();
  ctx.arc(x, y, innerRadius, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T, startAngle, true);
  for (i = 0; i < fullCircles; ++i) {
    ctx.stroke();
  }
  ctx.beginPath();
  ctx.arc(x, y, outerRadius, startAngle, startAngle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  for (i = 0; i < fullCircles; ++i) {
    ctx.stroke();
  }
}
function drawBorder(ctx, element, offset, spacing, endAngle, circular) {
  const {options} = element;
  const {borderWidth, borderJoinStyle} = options;
  const inner = options.borderAlign === 'inner';
  if (!borderWidth) {
    return;
  }
  if (inner) {
    ctx.lineWidth = borderWidth * 2;
    ctx.lineJoin = borderJoinStyle || 'round';
  } else {
    ctx.lineWidth = borderWidth;
    ctx.lineJoin = borderJoinStyle || 'bevel';
  }
  if (element.fullCircles) {
    drawFullCircleBorders(ctx, element, inner);
  }
  if (inner) {
    clipArc(ctx, element, endAngle);
  }
  pathArc(ctx, element, offset, spacing, endAngle, circular);
  ctx.stroke();
}
class ArcElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.circumference = undefined;
    this.startAngle = undefined;
    this.endAngle = undefined;
    this.innerRadius = undefined;
    this.outerRadius = undefined;
    this.pixelMargin = 0;
    this.fullCircles = 0;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(chartX, chartY, useFinalPosition) {
    const point = this.getProps(['x', 'y'], useFinalPosition);
    const {angle, distance} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a0)(point, {x: chartX, y: chartY});
    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([
      'startAngle',
      'endAngle',
      'innerRadius',
      'outerRadius',
      'circumference'
    ], useFinalPosition);
    const rAdjust = this.options.spacing / 2;
    const _circumference = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(circumference, endAngle - startAngle);
    const betweenAngles = _circumference >= _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.p)(angle, startAngle, endAngle);
    const withinRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(distance, innerRadius + rAdjust, outerRadius + rAdjust);
    return (betweenAngles && withinRadius);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([
      'x',
      'y',
      'startAngle',
      'endAngle',
      'innerRadius',
      'outerRadius',
      'circumference',
    ], useFinalPosition);
    const {offset, spacing} = this.options;
    const halfAngle = (startAngle + endAngle) / 2;
    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;
    return {
      x: x + Math.cos(halfAngle) * halfRadius,
      y: y + Math.sin(halfAngle) * halfRadius
    };
  }
  tooltipPosition(useFinalPosition) {
    return this.getCenterPoint(useFinalPosition);
  }
  draw(ctx) {
    const {options, circumference} = this;
    const offset = (options.offset || 0) / 2;
    const spacing = (options.spacing || 0) / 2;
    const circular = options.circular;
    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;
    this.fullCircles = circumference > _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T ? Math.floor(circumference / _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T) : 0;
    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {
      return;
    }
    ctx.save();
    let radiusOffset = 0;
    if (offset) {
      radiusOffset = offset / 2;
      const halfAngle = (this.startAngle + this.endAngle) / 2;
      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);
      if (this.circumference >= _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P) {
        radiusOffset = offset;
      }
    }
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    const endAngle = drawArc(ctx, this, radiusOffset, spacing, circular);
    drawBorder(ctx, this, radiusOffset, spacing, endAngle, circular);
    ctx.restore();
  }
}
ArcElement.id = 'arc';
ArcElement.defaults = {
  borderAlign: 'center',
  borderColor: '#fff',
  borderJoinStyle: undefined,
  borderRadius: 0,
  borderWidth: 2,
  offset: 0,
  spacing: 0,
  angle: undefined,
  circular: true,
};
ArcElement.defaultRoutes = {
  backgroundColor: 'backgroundColor'
};

function setStyle(ctx, options, style = options) {
  ctx.lineCap = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderCapStyle, options.borderCapStyle);
  ctx.setLineDash((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderDash, options.borderDash));
  ctx.lineDashOffset = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderDashOffset, options.borderDashOffset);
  ctx.lineJoin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderJoinStyle, options.borderJoinStyle);
  ctx.lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderWidth, options.borderWidth);
  ctx.strokeStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(style.borderColor, options.borderColor);
}
function lineTo(ctx, previous, target) {
  ctx.lineTo(target.x, target.y);
}
function getLineMethod(options) {
  if (options.stepped) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.as;
  }
  if (options.tension || options.cubicInterpolationMode === 'monotone') {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.at;
  }
  return lineTo;
}
function pathVars(points, segment, params = {}) {
  const count = points.length;
  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;
  const {start: segmentStart, end: segmentEnd} = segment;
  const start = Math.max(paramsStart, segmentStart);
  const end = Math.min(paramsEnd, segmentEnd);
  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;
  return {
    count,
    start,
    loop: segment.loop,
    ilen: end < start && !outside ? count + end - start : end - start
  };
}
function pathSegment(ctx, line, segment, params) {
  const {points, options} = line;
  const {count, start, loop, ilen} = pathVars(points, segment, params);
  const lineMethod = getLineMethod(options);
  let {move = true, reverse} = params || {};
  let i, point, prev;
  for (i = 0; i <= ilen; ++i) {
    point = points[(start + (reverse ? ilen - i : i)) % count];
    if (point.skip) {
      continue;
    } else if (move) {
      ctx.moveTo(point.x, point.y);
      move = false;
    } else {
      lineMethod(ctx, prev, point, reverse, options.stepped);
    }
    prev = point;
  }
  if (loop) {
    point = points[(start + (reverse ? ilen : 0)) % count];
    lineMethod(ctx, prev, point, reverse, options.stepped);
  }
  return !!loop;
}
function fastPathSegment(ctx, line, segment, params) {
  const points = line.points;
  const {count, start, ilen} = pathVars(points, segment, params);
  const {move = true, reverse} = params || {};
  let avgX = 0;
  let countX = 0;
  let i, point, prevX, minY, maxY, lastY;
  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;
  const drawX = () => {
    if (minY !== maxY) {
      ctx.lineTo(avgX, maxY);
      ctx.lineTo(avgX, minY);
      ctx.lineTo(avgX, lastY);
    }
  };
  if (move) {
    point = points[pointIndex(0)];
    ctx.moveTo(point.x, point.y);
  }
  for (i = 0; i <= ilen; ++i) {
    point = points[pointIndex(i)];
    if (point.skip) {
      continue;
    }
    const x = point.x;
    const y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
      } else if (y > maxY) {
        maxY = y;
      }
      avgX = (countX * avgX + x) / ++countX;
    } else {
      drawX();
      ctx.lineTo(x, y);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
    }
    lastY = y;
  }
  drawX();
}
function _getSegmentMethod(line) {
  const opts = line.options;
  const borderDash = opts.borderDash && opts.borderDash.length;
  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;
  return useFastPath ? fastPathSegment : pathSegment;
}
function _getInterpolationMethod(options) {
  if (options.stepped) {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ap;
  }
  if (options.tension || options.cubicInterpolationMode === 'monotone') {
    return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aq;
  }
  return _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ar;
}
function strokePathWithCache(ctx, line, start, count) {
  let path = line._path;
  if (!path) {
    path = line._path = new Path2D();
    if (line.path(path, start, count)) {
      path.closePath();
    }
  }
  setStyle(ctx, line.options);
  ctx.stroke(path);
}
function strokePathDirect(ctx, line, start, count) {
  const {segments, options} = line;
  const segmentMethod = _getSegmentMethod(line);
  for (const segment of segments) {
    setStyle(ctx, options, segment.style);
    ctx.beginPath();
    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {
      ctx.closePath();
    }
    ctx.stroke();
  }
}
const usePath2D = typeof Path2D === 'function';
function draw(ctx, line, start, count) {
  if (usePath2D && !line.options.segment) {
    strokePathWithCache(ctx, line, start, count);
  } else {
    strokePathDirect(ctx, line, start, count);
  }
}
class LineElement extends Element {
  constructor(cfg) {
    super();
    this.animated = true;
    this.options = undefined;
    this._chart = undefined;
    this._loop = undefined;
    this._fullLoop = undefined;
    this._path = undefined;
    this._points = undefined;
    this._segments = undefined;
    this._decimated = false;
    this._pointsUpdated = false;
    this._datasetIndex = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  updateControlPoints(chartArea, indexAxis) {
    const options = this.options;
    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {
      const loop = options.spanGaps ? this._loop : this._fullLoop;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.am)(this._points, options, chartArea, loop, indexAxis);
      this._pointsUpdated = true;
    }
  }
  set points(points) {
    this._points = points;
    delete this._segments;
    delete this._path;
    this._pointsUpdated = false;
  }
  get points() {
    return this._points;
  }
  get segments() {
    return this._segments || (this._segments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.an)(this, this.options.segment));
  }
  first() {
    const segments = this.segments;
    const points = this.points;
    return segments.length && points[segments[0].start];
  }
  last() {
    const segments = this.segments;
    const points = this.points;
    const count = segments.length;
    return count && points[segments[count - 1].end];
  }
  interpolate(point, property) {
    const options = this.options;
    const value = point[property];
    const points = this.points;
    const segments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ao)(this, {property, start: value, end: value});
    if (!segments.length) {
      return;
    }
    const result = [];
    const _interpolate = _getInterpolationMethod(options);
    let i, ilen;
    for (i = 0, ilen = segments.length; i < ilen; ++i) {
      const {start, end} = segments[i];
      const p1 = points[start];
      const p2 = points[end];
      if (p1 === p2) {
        result.push(p1);
        continue;
      }
      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));
      const interpolated = _interpolate(p1, p2, t, options.stepped);
      interpolated[property] = point[property];
      result.push(interpolated);
    }
    return result.length === 1 ? result[0] : result;
  }
  pathSegment(ctx, segment, params) {
    const segmentMethod = _getSegmentMethod(this);
    return segmentMethod(ctx, this, segment, params);
  }
  path(ctx, start, count) {
    const segments = this.segments;
    const segmentMethod = _getSegmentMethod(this);
    let loop = this._loop;
    start = start || 0;
    count = count || (this.points.length - start);
    for (const segment of segments) {
      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});
    }
    return !!loop;
  }
  draw(ctx, chartArea, start, count) {
    const options = this.options || {};
    const points = this.points || [];
    if (points.length && options.borderWidth) {
      ctx.save();
      draw(ctx, this, start, count);
      ctx.restore();
    }
    if (this.animated) {
      this._pointsUpdated = false;
      this._path = undefined;
    }
  }
}
LineElement.id = 'line';
LineElement.defaults = {
  borderCapStyle: 'butt',
  borderDash: [],
  borderDashOffset: 0,
  borderJoinStyle: 'miter',
  borderWidth: 3,
  capBezierPoints: true,
  cubicInterpolationMode: 'default',
  fill: false,
  spanGaps: false,
  stepped: false,
  tension: 0,
};
LineElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};
LineElement.descriptors = {
  _scriptable: true,
  _indexable: (name) => name !== 'borderDash' && name !== 'fill',
};

function inRange$1(el, pos, axis, useFinalPosition) {
  const options = el.options;
  const {[axis]: value} = el.getProps([axis], useFinalPosition);
  return (Math.abs(pos - value) < options.radius + options.hitRadius);
}
class PointElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.parsed = undefined;
    this.skip = undefined;
    this.stop = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    const options = this.options;
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange$1(this, mouseX, 'x', useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange$1(this, mouseY, 'y', useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);
    return {x, y};
  }
  size(options) {
    options = options || this.options || {};
    let radius = options.radius || 0;
    radius = Math.max(radius, radius && options.hoverRadius || 0);
    const borderWidth = radius && options.borderWidth || 0;
    return (radius + borderWidth) * 2;
  }
  draw(ctx, area) {
    const options = this.options;
    if (this.skip || options.radius < 0.1 || !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.$)(this, area, this.size(options) / 2)) {
      return;
    }
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.fillStyle = options.backgroundColor;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, options, this.x, this.y);
  }
  getRange() {
    const options = this.options || {};
    return options.radius + options.hitRadius;
  }
}
PointElement.id = 'point';
PointElement.defaults = {
  borderWidth: 1,
  hitRadius: 1,
  hoverBorderWidth: 1,
  hoverRadius: 4,
  pointStyle: 'circle',
  radius: 3,
  rotation: 0
};
PointElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};

function getBarBounds(bar, useFinalPosition) {
  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);
  let left, right, top, bottom, half;
  if (bar.horizontal) {
    half = height / 2;
    left = Math.min(x, base);
    right = Math.max(x, base);
    top = y - half;
    bottom = y + half;
  } else {
    half = width / 2;
    left = x - half;
    right = x + half;
    top = Math.min(y, base);
    bottom = Math.max(y, base);
  }
  return {left, top, right, bottom};
}
function skipOrLimit(skip, value, min, max) {
  return skip ? 0 : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(value, min, max);
}
function parseBorderWidth(bar, maxW, maxH) {
  const value = bar.options.borderWidth;
  const skip = bar.borderSkipped;
  const o = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aw)(value);
  return {
    t: skipOrLimit(skip.top, o.top, 0, maxH),
    r: skipOrLimit(skip.right, o.right, 0, maxW),
    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),
    l: skipOrLimit(skip.left, o.left, 0, maxW)
  };
}
function parseBorderRadius(bar, maxW, maxH) {
  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);
  const value = bar.options.borderRadius;
  const o = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(value);
  const maxR = Math.min(maxW, maxH);
  const skip = bar.borderSkipped;
  const enableBorder = enableBorderRadius || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value);
  return {
    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),
    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),
    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),
    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)
  };
}
function boundingRects(bar) {
  const bounds = getBarBounds(bar);
  const width = bounds.right - bounds.left;
  const height = bounds.bottom - bounds.top;
  const border = parseBorderWidth(bar, width / 2, height / 2);
  const radius = parseBorderRadius(bar, width / 2, height / 2);
  return {
    outer: {
      x: bounds.left,
      y: bounds.top,
      w: width,
      h: height,
      radius
    },
    inner: {
      x: bounds.left + border.l,
      y: bounds.top + border.t,
      w: width - border.l - border.r,
      h: height - border.t - border.b,
      radius: {
        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),
        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),
        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),
        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),
      }
    }
  };
}
function inRange(bar, x, y, useFinalPosition) {
  const skipX = x === null;
  const skipY = y === null;
  const skipBoth = skipX && skipY;
  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);
  return bounds
		&& (skipX || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, bounds.left, bounds.right))
		&& (skipY || (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, bounds.top, bounds.bottom));
}
function hasRadius(radius) {
  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;
}
function addNormalRectPath(ctx, rect) {
  ctx.rect(rect.x, rect.y, rect.w, rect.h);
}
function inflateRect(rect, amount, refRect = {}) {
  const x = rect.x !== refRect.x ? -amount : 0;
  const y = rect.y !== refRect.y ? -amount : 0;
  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;
  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;
  return {
    x: rect.x + x,
    y: rect.y + y,
    w: rect.w + w,
    h: rect.h + h,
    radius: rect.radius
  };
}
class BarElement extends Element {
  constructor(cfg) {
    super();
    this.options = undefined;
    this.horizontal = undefined;
    this.base = undefined;
    this.width = undefined;
    this.height = undefined;
    this.inflateAmount = undefined;
    if (cfg) {
      Object.assign(this, cfg);
    }
  }
  draw(ctx) {
    const {inflateAmount, options: {borderColor, backgroundColor}} = this;
    const {inner, outer} = boundingRects(this);
    const addRectPath = hasRadius(outer.radius) ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av : addNormalRectPath;
    ctx.save();
    if (outer.w !== inner.w || outer.h !== inner.h) {
      ctx.beginPath();
      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));
      ctx.clip();
      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));
      ctx.fillStyle = borderColor;
      ctx.fill('evenodd');
    }
    ctx.beginPath();
    addRectPath(ctx, inflateRect(inner, inflateAmount));
    ctx.fillStyle = backgroundColor;
    ctx.fill();
    ctx.restore();
  }
  inRange(mouseX, mouseY, useFinalPosition) {
    return inRange(this, mouseX, mouseY, useFinalPosition);
  }
  inXRange(mouseX, useFinalPosition) {
    return inRange(this, mouseX, null, useFinalPosition);
  }
  inYRange(mouseY, useFinalPosition) {
    return inRange(this, null, mouseY, useFinalPosition);
  }
  getCenterPoint(useFinalPosition) {
    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);
    return {
      x: horizontal ? (x + base) / 2 : x,
      y: horizontal ? y : (y + base) / 2
    };
  }
  getRange(axis) {
    return axis === 'x' ? this.width / 2 : this.height / 2;
  }
}
BarElement.id = 'bar';
BarElement.defaults = {
  borderSkipped: 'start',
  borderWidth: 0,
  borderRadius: 0,
  inflateAmount: 'auto',
  pointStyle: undefined
};
BarElement.defaultRoutes = {
  backgroundColor: 'backgroundColor',
  borderColor: 'borderColor'
};

var elements = /*#__PURE__*/Object.freeze({
__proto__: null,
ArcElement: ArcElement,
LineElement: LineElement,
PointElement: PointElement,
BarElement: BarElement
});

function lttbDecimation(data, start, count, availableWidth, options) {
  const samples = options.samples || availableWidth;
  if (samples >= count) {
    return data.slice(start, start + count);
  }
  const decimated = [];
  const bucketWidth = (count - 2) / (samples - 2);
  let sampledIndex = 0;
  const endIndex = start + count - 1;
  let a = start;
  let i, maxAreaPoint, maxArea, area, nextA;
  decimated[sampledIndex++] = data[a];
  for (i = 0; i < samples - 2; i++) {
    let avgX = 0;
    let avgY = 0;
    let j;
    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;
    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;
    const avgRangeLength = avgRangeEnd - avgRangeStart;
    for (j = avgRangeStart; j < avgRangeEnd; j++) {
      avgX += data[j].x;
      avgY += data[j].y;
    }
    avgX /= avgRangeLength;
    avgY /= avgRangeLength;
    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;
    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;
    const {x: pointAx, y: pointAy} = data[a];
    maxArea = area = -1;
    for (j = rangeOffs; j < rangeTo; j++) {
      area = 0.5 * Math.abs(
        (pointAx - avgX) * (data[j].y - pointAy) -
        (pointAx - data[j].x) * (avgY - pointAy)
      );
      if (area > maxArea) {
        maxArea = area;
        maxAreaPoint = data[j];
        nextA = j;
      }
    }
    decimated[sampledIndex++] = maxAreaPoint;
    a = nextA;
  }
  decimated[sampledIndex++] = data[endIndex];
  return decimated;
}
function minMaxDecimation(data, start, count, availableWidth) {
  let avgX = 0;
  let countX = 0;
  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;
  const decimated = [];
  const endIndex = start + count - 1;
  const xMin = data[start].x;
  const xMax = data[endIndex].x;
  const dx = xMax - xMin;
  for (i = start; i < start + count; ++i) {
    point = data[i];
    x = (point.x - xMin) / dx * availableWidth;
    y = point.y;
    const truncX = x | 0;
    if (truncX === prevX) {
      if (y < minY) {
        minY = y;
        minIndex = i;
      } else if (y > maxY) {
        maxY = y;
        maxIndex = i;
      }
      avgX = (countX * avgX + point.x) / ++countX;
    } else {
      const lastIndex = i - 1;
      if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(minIndex) && !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(maxIndex)) {
        const intermediateIndex1 = Math.min(minIndex, maxIndex);
        const intermediateIndex2 = Math.max(minIndex, maxIndex);
        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {
          decimated.push({
            ...data[intermediateIndex1],
            x: avgX,
          });
        }
        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {
          decimated.push({
            ...data[intermediateIndex2],
            x: avgX
          });
        }
      }
      if (i > 0 && lastIndex !== startIndex) {
        decimated.push(data[lastIndex]);
      }
      decimated.push(point);
      prevX = truncX;
      countX = 0;
      minY = maxY = y;
      minIndex = maxIndex = startIndex = i;
    }
  }
  return decimated;
}
function cleanDecimatedDataset(dataset) {
  if (dataset._decimated) {
    const data = dataset._data;
    delete dataset._decimated;
    delete dataset._data;
    Object.defineProperty(dataset, 'data', {value: data});
  }
}
function cleanDecimatedData(chart) {
  chart.data.datasets.forEach((dataset) => {
    cleanDecimatedDataset(dataset);
  });
}
function getStartAndCountOfVisiblePointsSimplified(meta, points) {
  const pointCount = points.length;
  let start = 0;
  let count;
  const {iScale} = meta;
  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();
  if (minDefined) {
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(points, iScale.axis, min).lo, 0, pointCount - 1);
  }
  if (maxDefined) {
    count = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(points, iScale.axis, max).hi + 1, start, pointCount) - start;
  } else {
    count = pointCount - start;
  }
  return {start, count};
}
var plugin_decimation = {
  id: 'decimation',
  defaults: {
    algorithm: 'min-max',
    enabled: false,
  },
  beforeElementsUpdate: (chart, args, options) => {
    if (!options.enabled) {
      cleanDecimatedData(chart);
      return;
    }
    const availableWidth = chart.width;
    chart.data.datasets.forEach((dataset, datasetIndex) => {
      const {_data, indexAxis} = dataset;
      const meta = chart.getDatasetMeta(datasetIndex);
      const data = _data || dataset.data;
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.a)([indexAxis, chart.options.indexAxis]) === 'y') {
        return;
      }
      if (!meta.controller.supportsDecimation) {
        return;
      }
      const xAxis = chart.scales[meta.xAxisID];
      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {
        return;
      }
      if (chart.options.parsing) {
        return;
      }
      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);
      const threshold = options.threshold || 4 * availableWidth;
      if (count <= threshold) {
        cleanDecimatedDataset(dataset);
        return;
      }
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(_data)) {
        dataset._data = data;
        delete dataset.data;
        Object.defineProperty(dataset, 'data', {
          configurable: true,
          enumerable: true,
          get: function() {
            return this._decimated;
          },
          set: function(d) {
            this._data = d;
          }
        });
      }
      let decimated;
      switch (options.algorithm) {
      case 'lttb':
        decimated = lttbDecimation(data, start, count, availableWidth, options);
        break;
      case 'min-max':
        decimated = minMaxDecimation(data, start, count, availableWidth);
        break;
      default:
        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);
      }
      dataset._decimated = decimated;
    });
  },
  destroy(chart) {
    cleanDecimatedData(chart);
  }
};

function _segments(line, target, property) {
  const segments = line.segments;
  const points = line.points;
  const tpoints = target.points;
  const parts = [];
  for (const segment of segments) {
    let {start, end} = segment;
    end = _findSegmentEnd(start, end, points);
    const bounds = _getBounds(property, points[start], points[end], segment.loop);
    if (!target.segments) {
      parts.push({
        source: segment,
        target: bounds,
        start: points[start],
        end: points[end]
      });
      continue;
    }
    const targetSegments = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ao)(target, bounds);
    for (const tgt of targetSegments) {
      const subBounds = _getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);
      const fillSources = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ay)(segment, points, subBounds);
      for (const fillSource of fillSources) {
        parts.push({
          source: fillSource,
          target: tgt,
          start: {
            [property]: _getEdge(bounds, subBounds, 'start', Math.max)
          },
          end: {
            [property]: _getEdge(bounds, subBounds, 'end', Math.min)
          }
        });
      }
    }
  }
  return parts;
}
function _getBounds(property, first, last, loop) {
  if (loop) {
    return;
  }
  let start = first[property];
  let end = last[property];
  if (property === 'angle') {
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(start);
    end = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(end);
  }
  return {property, start, end};
}
function _pointsFromSegments(boundary, line) {
  const {x = null, y = null} = boundary || {};
  const linePoints = line.points;
  const points = [];
  line.segments.forEach(({start, end}) => {
    end = _findSegmentEnd(start, end, linePoints);
    const first = linePoints[start];
    const last = linePoints[end];
    if (y !== null) {
      points.push({x: first.x, y});
      points.push({x: last.x, y});
    } else if (x !== null) {
      points.push({x, y: first.y});
      points.push({x, y: last.y});
    }
  });
  return points;
}
function _findSegmentEnd(start, end, points) {
  for (;end > start; end--) {
    const point = points[end];
    if (!isNaN(point.x) && !isNaN(point.y)) {
      break;
    }
  }
  return end;
}
function _getEdge(a, b, prop, fn) {
  if (a && b) {
    return fn(a[prop], b[prop]);
  }
  return a ? a[prop] : b ? b[prop] : 0;
}

function _createBoundaryLine(boundary, line) {
  let points = [];
  let _loop = false;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(boundary)) {
    _loop = true;
    points = boundary;
  } else {
    points = _pointsFromSegments(boundary, line);
  }
  return points.length ? new LineElement({
    points,
    options: {tension: 0},
    _loop,
    _fullLoop: _loop
  }) : null;
}
function _shouldApplyFill(source) {
  return source && source.fill !== false;
}

function _resolveTarget(sources, index, propagate) {
  const source = sources[index];
  let fill = source.fill;
  const visited = [index];
  let target;
  if (!propagate) {
    return fill;
  }
  while (fill !== false && visited.indexOf(fill) === -1) {
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(fill)) {
      return fill;
    }
    target = sources[fill];
    if (!target) {
      return false;
    }
    if (target.visible) {
      return fill;
    }
    visited.push(fill);
    fill = target.fill;
  }
  return false;
}
function _decodeFill(line, index, count) {
  const fill = parseFillOption(line);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    return isNaN(fill.value) ? false : fill;
  }
  let target = parseFloat(fill);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(target) && Math.floor(target) === target) {
    return decodeTargetIndex(fill[0], index, target, count);
  }
  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;
}
function decodeTargetIndex(firstCh, index, target, count) {
  if (firstCh === '-' || firstCh === '+') {
    target = index + target;
  }
  if (target === index || target < 0 || target >= count) {
    return false;
  }
  return target;
}
function _getTargetPixel(fill, scale) {
  let pixel = null;
  if (fill === 'start') {
    pixel = scale.bottom;
  } else if (fill === 'end') {
    pixel = scale.top;
  } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    pixel = scale.getPixelForValue(fill.value);
  } else if (scale.getBasePixel) {
    pixel = scale.getBasePixel();
  }
  return pixel;
}
function _getTargetValue(fill, scale, startValue) {
  let value;
  if (fill === 'start') {
    value = startValue;
  } else if (fill === 'end') {
    value = scale.options.reverse ? scale.min : scale.max;
  } else if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(fill)) {
    value = fill.value;
  } else {
    value = scale.getBaseValue();
  }
  return value;
}
function parseFillOption(line) {
  const options = line.options;
  const fillOption = options.fill;
  let fill = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(fillOption && fillOption.target, fillOption);
  if (fill === undefined) {
    fill = !!options.backgroundColor;
  }
  if (fill === false || fill === null) {
    return false;
  }
  if (fill === true) {
    return 'origin';
  }
  return fill;
}

function _buildStackLine(source) {
  const {scale, index, line} = source;
  const points = [];
  const segments = line.segments;
  const sourcePoints = line.points;
  const linesBelow = getLinesBelow(scale, index);
  linesBelow.push(_createBoundaryLine({x: null, y: scale.bottom}, line));
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    for (let j = segment.start; j <= segment.end; j++) {
      addPointsBelow(points, sourcePoints[j], linesBelow);
    }
  }
  return new LineElement({points, options: {}});
}
function getLinesBelow(scale, index) {
  const below = [];
  const metas = scale.getMatchingVisibleMetas('line');
  for (let i = 0; i < metas.length; i++) {
    const meta = metas[i];
    if (meta.index === index) {
      break;
    }
    if (!meta.hidden) {
      below.unshift(meta.dataset);
    }
  }
  return below;
}
function addPointsBelow(points, sourcePoint, linesBelow) {
  const postponed = [];
  for (let j = 0; j < linesBelow.length; j++) {
    const line = linesBelow[j];
    const {first, last, point} = findPoint(line, sourcePoint, 'x');
    if (!point || (first && last)) {
      continue;
    }
    if (first) {
      postponed.unshift(point);
    } else {
      points.push(point);
      if (!last) {
        break;
      }
    }
  }
  points.push(...postponed);
}
function findPoint(line, sourcePoint, property) {
  const point = line.interpolate(sourcePoint, property);
  if (!point) {
    return {};
  }
  const pointValue = point[property];
  const segments = line.segments;
  const linePoints = line.points;
  let first = false;
  let last = false;
  for (let i = 0; i < segments.length; i++) {
    const segment = segments[i];
    const firstValue = linePoints[segment.start][property];
    const lastValue = linePoints[segment.end][property];
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(pointValue, firstValue, lastValue)) {
      first = pointValue === firstValue;
      last = pointValue === lastValue;
      break;
    }
  }
  return {first, last, point};
}

class simpleArc {
  constructor(opts) {
    this.x = opts.x;
    this.y = opts.y;
    this.radius = opts.radius;
  }
  pathSegment(ctx, bounds, opts) {
    const {x, y, radius} = this;
    bounds = bounds || {start: 0, end: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T};
    ctx.arc(x, y, radius, bounds.end, bounds.start, true);
    return !opts.bounds;
  }
  interpolate(point) {
    const {x, y, radius} = this;
    const angle = point.angle;
    return {
      x: x + Math.cos(angle) * radius,
      y: y + Math.sin(angle) * radius,
      angle
    };
  }
}

function _getTarget(source) {
  const {chart, fill, line} = source;
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(fill)) {
    return getLineByIndex(chart, fill);
  }
  if (fill === 'stack') {
    return _buildStackLine(source);
  }
  if (fill === 'shape') {
    return true;
  }
  const boundary = computeBoundary(source);
  if (boundary instanceof simpleArc) {
    return boundary;
  }
  return _createBoundaryLine(boundary, line);
}
function getLineByIndex(chart, index) {
  const meta = chart.getDatasetMeta(index);
  const visible = meta && chart.isDatasetVisible(index);
  return visible ? meta.dataset : null;
}
function computeBoundary(source) {
  const scale = source.scale || {};
  if (scale.getPointPositionForValue) {
    return computeCircularBoundary(source);
  }
  return computeLinearBoundary(source);
}
function computeLinearBoundary(source) {
  const {scale = {}, fill} = source;
  const pixel = _getTargetPixel(fill, scale);
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(pixel)) {
    const horizontal = scale.isHorizontal();
    return {
      x: horizontal ? pixel : null,
      y: horizontal ? null : pixel
    };
  }
  return null;
}
function computeCircularBoundary(source) {
  const {scale, fill} = source;
  const options = scale.options;
  const length = scale.getLabels().length;
  const start = options.reverse ? scale.max : scale.min;
  const value = _getTargetValue(fill, scale, start);
  const target = [];
  if (options.grid.circular) {
    const center = scale.getPointPositionForValue(0, start);
    return new simpleArc({
      x: center.x,
      y: center.y,
      radius: scale.getDistanceFromCenterForValue(value)
    });
  }
  for (let i = 0; i < length; ++i) {
    target.push(scale.getPointPositionForValue(i, value));
  }
  return target;
}

function _drawfill(ctx, source, area) {
  const target = _getTarget(source);
  const {line, scale, axis} = source;
  const lineOpts = line.options;
  const fillOption = lineOpts.fill;
  const color = lineOpts.backgroundColor;
  const {above = color, below = color} = fillOption || {};
  if (target && line.points.length) {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, area);
    doFill(ctx, {line, target, above, below, area, scale, axis});
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
  }
}
function doFill(ctx, cfg) {
  const {line, target, above, below, area, scale} = cfg;
  const property = line._loop ? 'angle' : cfg.axis;
  ctx.save();
  if (property === 'x' && below !== above) {
    clipVertical(ctx, target, area.top);
    fill(ctx, {line, target, color: above, scale, property});
    ctx.restore();
    ctx.save();
    clipVertical(ctx, target, area.bottom);
  }
  fill(ctx, {line, target, color: below, scale, property});
  ctx.restore();
}
function clipVertical(ctx, target, clipY) {
  const {segments, points} = target;
  let first = true;
  let lineLoop = false;
  ctx.beginPath();
  for (const segment of segments) {
    const {start, end} = segment;
    const firstPoint = points[start];
    const lastPoint = points[_findSegmentEnd(start, end, points)];
    if (first) {
      ctx.moveTo(firstPoint.x, firstPoint.y);
      first = false;
    } else {
      ctx.lineTo(firstPoint.x, clipY);
      ctx.lineTo(firstPoint.x, firstPoint.y);
    }
    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});
    if (lineLoop) {
      ctx.closePath();
    } else {
      ctx.lineTo(lastPoint.x, clipY);
    }
  }
  ctx.lineTo(target.first().x, clipY);
  ctx.closePath();
  ctx.clip();
}
function fill(ctx, cfg) {
  const {line, target, property, color, scale} = cfg;
  const segments = _segments(line, target, property);
  for (const {source: src, target: tgt, start, end} of segments) {
    const {style: {backgroundColor = color} = {}} = src;
    const notShape = target !== true;
    ctx.save();
    ctx.fillStyle = backgroundColor;
    clipBounds(ctx, scale, notShape && _getBounds(property, start, end));
    ctx.beginPath();
    const lineLoop = !!line.pathSegment(ctx, src);
    let loop;
    if (notShape) {
      if (lineLoop) {
        ctx.closePath();
      } else {
        interpolatedLineTo(ctx, target, end, property);
      }
      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});
      loop = lineLoop && targetLoop;
      if (!loop) {
        interpolatedLineTo(ctx, target, start, property);
      }
    }
    ctx.closePath();
    ctx.fill(loop ? 'evenodd' : 'nonzero');
    ctx.restore();
  }
}
function clipBounds(ctx, scale, bounds) {
  const {top, bottom} = scale.chart.chartArea;
  const {property, start, end} = bounds || {};
  if (property === 'x') {
    ctx.beginPath();
    ctx.rect(start, top, end - start, bottom - top);
    ctx.clip();
  }
}
function interpolatedLineTo(ctx, target, point, property) {
  const interpolatedPoint = target.interpolate(point, property);
  if (interpolatedPoint) {
    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);
  }
}

var index = {
  id: 'filler',
  afterDatasetsUpdate(chart, _args, options) {
    const count = (chart.data.datasets || []).length;
    const sources = [];
    let meta, i, line, source;
    for (i = 0; i < count; ++i) {
      meta = chart.getDatasetMeta(i);
      line = meta.dataset;
      source = null;
      if (line && line.options && line instanceof LineElement) {
        source = {
          visible: chart.isDatasetVisible(i),
          index: i,
          fill: _decodeFill(line, i, count),
          chart,
          axis: meta.controller.options.indexAxis,
          scale: meta.vScale,
          line,
        };
      }
      meta.$filler = source;
      sources.push(source);
    }
    for (i = 0; i < count; ++i) {
      source = sources[i];
      if (!source || source.fill === false) {
        continue;
      }
      source.fill = _resolveTarget(sources, i, options.propagate);
    }
  },
  beforeDraw(chart, _args, options) {
    const draw = options.drawTime === 'beforeDraw';
    const metasets = chart.getSortedVisibleDatasetMetas();
    const area = chart.chartArea;
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (!source) {
        continue;
      }
      source.line.updateControlPoints(area, source.axis);
      if (draw && source.fill) {
        _drawfill(chart.ctx, source, area);
      }
    }
  },
  beforeDatasetsDraw(chart, _args, options) {
    if (options.drawTime !== 'beforeDatasetsDraw') {
      return;
    }
    const metasets = chart.getSortedVisibleDatasetMetas();
    for (let i = metasets.length - 1; i >= 0; --i) {
      const source = metasets[i].$filler;
      if (_shouldApplyFill(source)) {
        _drawfill(chart.ctx, source, chart.chartArea);
      }
    }
  },
  beforeDatasetDraw(chart, args, options) {
    const source = args.meta.$filler;
    if (!_shouldApplyFill(source) || options.drawTime !== 'beforeDatasetDraw') {
      return;
    }
    _drawfill(chart.ctx, source, chart.chartArea);
  },
  defaults: {
    propagate: true,
    drawTime: 'beforeDatasetDraw'
  }
};

const getBoxSize = (labelOpts, fontSize) => {
  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;
  if (labelOpts.usePointStyle) {
    boxHeight = Math.min(boxHeight, fontSize);
    boxWidth = labelOpts.pointStyleWidth || Math.min(boxWidth, fontSize);
  }
  return {
    boxWidth,
    boxHeight,
    itemHeight: Math.max(fontSize, boxHeight)
  };
};
const itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;
class Legend extends Element {
  constructor(config) {
    super();
    this._added = false;
    this.legendHitBoxes = [];
    this._hoveredItem = null;
    this.doughnutMode = false;
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this.legendItems = undefined;
    this.columnSizes = undefined;
    this.lineWidths = undefined;
    this.maxHeight = undefined;
    this.maxWidth = undefined;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.height = undefined;
    this.width = undefined;
    this._margins = undefined;
    this.position = undefined;
    this.weight = undefined;
    this.fullSize = undefined;
  }
  update(maxWidth, maxHeight, margins) {
    this.maxWidth = maxWidth;
    this.maxHeight = maxHeight;
    this._margins = margins;
    this.setDimensions();
    this.buildLabels();
    this.fit();
  }
  setDimensions() {
    if (this.isHorizontal()) {
      this.width = this.maxWidth;
      this.left = this._margins.left;
      this.right = this.width;
    } else {
      this.height = this.maxHeight;
      this.top = this._margins.top;
      this.bottom = this.height;
    }
  }
  buildLabels() {
    const labelOpts = this.options.labels || {};
    let legendItems = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(labelOpts.generateLabels, [this.chart], this) || [];
    if (labelOpts.filter) {
      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));
    }
    if (labelOpts.sort) {
      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));
    }
    if (this.options.reverse) {
      legendItems.reverse();
    }
    this.legendItems = legendItems;
  }
  fit() {
    const {options, ctx} = this;
    if (!options.display) {
      this.width = this.height = 0;
      return;
    }
    const labelOpts = options.labels;
    const labelFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(labelOpts.font);
    const fontSize = labelFont.size;
    const titleHeight = this._computeTitleHeight();
    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);
    let width, height;
    ctx.font = labelFont.string;
    if (this.isHorizontal()) {
      width = this.maxWidth;
      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;
    } else {
      height = this.maxHeight;
      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;
    }
    this.width = Math.min(width, options.maxWidth || this.maxWidth);
    this.height = Math.min(height, options.maxHeight || this.maxHeight);
  }
  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {
    const {ctx, maxWidth, options: {labels: {padding}}} = this;
    const hitboxes = this.legendHitBoxes = [];
    const lineWidths = this.lineWidths = [0];
    const lineHeight = itemHeight + padding;
    let totalHeight = titleHeight;
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    let row = -1;
    let top = -lineHeight;
    this.legendItems.forEach((legendItem, i) => {
      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {
        totalHeight += lineHeight;
        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;
        top += lineHeight;
        row++;
      }
      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};
      lineWidths[lineWidths.length - 1] += itemWidth + padding;
    });
    return totalHeight;
  }
  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {
    const {ctx, maxHeight, options: {labels: {padding}}} = this;
    const hitboxes = this.legendHitBoxes = [];
    const columnSizes = this.columnSizes = [];
    const heightLimit = maxHeight - titleHeight;
    let totalWidth = padding;
    let currentColWidth = 0;
    let currentColHeight = 0;
    let left = 0;
    let col = 0;
    this.legendItems.forEach((legendItem, i) => {
      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;
      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {
        totalWidth += currentColWidth + padding;
        columnSizes.push({width: currentColWidth, height: currentColHeight});
        left += currentColWidth + padding;
        col++;
        currentColWidth = currentColHeight = 0;
      }
      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};
      currentColWidth = Math.max(currentColWidth, itemWidth);
      currentColHeight += itemHeight + padding;
    });
    totalWidth += currentColWidth;
    columnSizes.push({width: currentColWidth, height: currentColHeight});
    return totalWidth;
  }
  adjustHitBoxes() {
    if (!this.options.display) {
      return;
    }
    const titleHeight = this._computeTitleHeight();
    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(rtl, this.left, this.width);
    if (this.isHorizontal()) {
      let row = 0;
      let left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - this.lineWidths[row]);
      for (const hitbox of hitboxes) {
        if (row !== hitbox.row) {
          row = hitbox.row;
          left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - this.lineWidths[row]);
        }
        hitbox.top += this.top + titleHeight + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);
        left += hitbox.width + padding;
      }
    } else {
      let col = 0;
      let top = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
      for (const hitbox of hitboxes) {
        if (hitbox.col !== col) {
          col = hitbox.col;
          top = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);
        }
        hitbox.top = top;
        hitbox.left += this.left + padding;
        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);
        top += hitbox.height + padding;
      }
    }
  }
  isHorizontal() {
    return this.options.position === 'top' || this.options.position === 'bottom';
  }
  draw() {
    if (this.options.display) {
      const ctx = this.ctx;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.L)(ctx, this);
      this._draw();
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.N)(ctx);
    }
  }
  _draw() {
    const {options: opts, columnSizes, lineWidths, ctx} = this;
    const {align, labels: labelOpts} = opts;
    const defaultColor = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.color;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(opts.rtl, this.left, this.width);
    const labelFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(labelOpts.font);
    const {color: fontColor, padding} = labelOpts;
    const fontSize = labelFont.size;
    const halfFontSize = fontSize / 2;
    let cursor;
    this.drawTitle();
    ctx.textAlign = rtlHelper.textAlign('left');
    ctx.textBaseline = 'middle';
    ctx.lineWidth = 0.5;
    ctx.font = labelFont.string;
    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);
    const drawLegendBox = function(x, y, legendItem) {
      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {
        return;
      }
      ctx.save();
      const lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineWidth, 1);
      ctx.fillStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.fillStyle, defaultColor);
      ctx.lineCap = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineCap, 'butt');
      ctx.lineDashOffset = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineDashOffset, 0);
      ctx.lineJoin = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineJoin, 'miter');
      ctx.lineWidth = lineWidth;
      ctx.strokeStyle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.strokeStyle, defaultColor);
      ctx.setLineDash((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(legendItem.lineDash, []));
      if (labelOpts.usePointStyle) {
        const drawOptions = {
          radius: boxHeight * Math.SQRT2 / 2,
          pointStyle: legendItem.pointStyle,
          rotation: legendItem.rotation,
          borderWidth: lineWidth
        };
        const centerX = rtlHelper.xPlus(x, boxWidth / 2);
        const centerY = y + halfFontSize;
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aE)(ctx, drawOptions, centerX, centerY, labelOpts.pointStyleWidth && boxWidth);
      } else {
        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);
        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);
        const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(legendItem.borderRadius);
        ctx.beginPath();
        if (Object.values(borderRadius).some(v => v !== 0)) {
          (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
            x: xBoxLeft,
            y: yBoxTop,
            w: boxWidth,
            h: boxHeight,
            radius: borderRadius,
          });
        } else {
          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);
        }
        ctx.fill();
        if (lineWidth !== 0) {
          ctx.stroke();
        }
      }
      ctx.restore();
    };
    const fillText = function(x, y, legendItem) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {
        strikethrough: legendItem.hidden,
        textAlign: rtlHelper.textAlign(legendItem.textAlign)
      });
    };
    const isHorizontal = this.isHorizontal();
    const titleHeight = this._computeTitleHeight();
    if (isHorizontal) {
      cursor = {
        x: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - lineWidths[0]),
        y: this.top + padding + titleHeight,
        line: 0
      };
    } else {
      cursor = {
        x: this.left + padding,
        y: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),
        line: 0
      };
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aB)(this.ctx, opts.textDirection);
    const lineHeight = itemHeight + padding;
    this.legendItems.forEach((legendItem, i) => {
      ctx.strokeStyle = legendItem.fontColor || fontColor;
      ctx.fillStyle = legendItem.fontColor || fontColor;
      const textWidth = ctx.measureText(legendItem.text).width;
      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));
      const width = boxWidth + halfFontSize + textWidth;
      let x = cursor.x;
      let y = cursor.y;
      rtlHelper.setWidth(this.width);
      if (isHorizontal) {
        if (i > 0 && x + width + padding > this.right) {
          y = cursor.y += lineHeight;
          cursor.line++;
          x = cursor.x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.left + padding, this.right - lineWidths[cursor.line]);
        }
      } else if (i > 0 && y + lineHeight > this.bottom) {
        x = cursor.x = x + columnSizes[cursor.line].width + padding;
        cursor.line++;
        y = cursor.y = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);
      }
      const realX = rtlHelper.x(x);
      drawLegendBox(realX, y, legendItem);
      x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aC)(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);
      fillText(rtlHelper.x(x), y, legendItem);
      if (isHorizontal) {
        cursor.x += width + padding;
      } else {
        cursor.y += lineHeight;
      }
    });
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aD)(this.ctx, opts.textDirection);
  }
  drawTitle() {
    const opts = this.options;
    const titleOpts = opts.title;
    const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(titleOpts.font);
    const titlePadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(titleOpts.padding);
    if (!titleOpts.display) {
      return;
    }
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(opts.rtl, this.left, this.width);
    const ctx = this.ctx;
    const position = titleOpts.position;
    const halfFontSize = titleFont.size / 2;
    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;
    let y;
    let left = this.left;
    let maxWidth = this.width;
    if (this.isHorizontal()) {
      maxWidth = Math.max(...this.lineWidths);
      y = this.top + topPaddingPlusHalfFontSize;
      left = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(opts.align, left, this.right - maxWidth);
    } else {
      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);
      y = topPaddingPlusHalfFontSize + (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());
    }
    const x = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(position, left, left + maxWidth);
    ctx.textAlign = rtlHelper.textAlign((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(position));
    ctx.textBaseline = 'middle';
    ctx.strokeStyle = titleOpts.color;
    ctx.fillStyle = titleOpts.color;
    ctx.font = titleFont.string;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, titleOpts.text, x, y, titleFont);
  }
  _computeTitleHeight() {
    const titleOpts = this.options.title;
    const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(titleOpts.font);
    const titlePadding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(titleOpts.padding);
    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;
  }
  _getLegendItemAt(x, y) {
    let i, hitBox, lh;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, this.left, this.right)
      && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, this.top, this.bottom)) {
      lh = this.legendHitBoxes;
      for (i = 0; i < lh.length; ++i) {
        hitBox = lh[i];
        if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(x, hitBox.left, hitBox.left + hitBox.width)
          && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ak)(y, hitBox.top, hitBox.top + hitBox.height)) {
          return this.legendItems[i];
        }
      }
    }
    return null;
  }
  handleEvent(e) {
    const opts = this.options;
    if (!isListened(e.type, opts)) {
      return;
    }
    const hoveredItem = this._getLegendItemAt(e.x, e.y);
    if (e.type === 'mousemove' || e.type === 'mouseout') {
      const previous = this._hoveredItem;
      const sameItem = itemsEqual(previous, hoveredItem);
      if (previous && !sameItem) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onLeave, [e, previous, this], this);
      }
      this._hoveredItem = hoveredItem;
      if (hoveredItem && !sameItem) {
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onHover, [e, hoveredItem, this], this);
      }
    } else if (hoveredItem) {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(opts.onClick, [e, hoveredItem, this], this);
    }
  }
}
function isListened(type, opts) {
  if ((type === 'mousemove' || type === 'mouseout') && (opts.onHover || opts.onLeave)) {
    return true;
  }
  if (opts.onClick && (type === 'click' || type === 'mouseup')) {
    return true;
  }
  return false;
}
var plugin_legend = {
  id: 'legend',
  _element: Legend,
  start(chart, _args, options) {
    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});
    layouts.configure(chart, legend, options);
    layouts.addBox(chart, legend);
  },
  stop(chart) {
    layouts.removeBox(chart, chart.legend);
    delete chart.legend;
  },
  beforeUpdate(chart, _args, options) {
    const legend = chart.legend;
    layouts.configure(chart, legend, options);
    legend.options = options;
  },
  afterUpdate(chart) {
    const legend = chart.legend;
    legend.buildLabels();
    legend.adjustHitBoxes();
  },
  afterEvent(chart, args) {
    if (!args.replay) {
      chart.legend.handleEvent(args.event);
    }
  },
  defaults: {
    display: true,
    position: 'top',
    align: 'center',
    fullSize: true,
    reverse: false,
    weight: 1000,
    onClick(e, legendItem, legend) {
      const index = legendItem.datasetIndex;
      const ci = legend.chart;
      if (ci.isDatasetVisible(index)) {
        ci.hide(index);
        legendItem.hidden = true;
      } else {
        ci.show(index);
        legendItem.hidden = false;
      }
    },
    onHover: null,
    onLeave: null,
    labels: {
      color: (ctx) => ctx.chart.options.color,
      boxWidth: 40,
      padding: 10,
      generateLabels(chart) {
        const datasets = chart.data.datasets;
        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;
        return chart._getSortedDatasetMetas().map((meta) => {
          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);
          const borderWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(style.borderWidth);
          return {
            text: datasets[meta.index].label,
            fillStyle: style.backgroundColor,
            fontColor: color,
            hidden: !meta.visible,
            lineCap: style.borderCapStyle,
            lineDash: style.borderDash,
            lineDashOffset: style.borderDashOffset,
            lineJoin: style.borderJoinStyle,
            lineWidth: (borderWidth.width + borderWidth.height) / 4,
            strokeStyle: style.borderColor,
            pointStyle: pointStyle || style.pointStyle,
            rotation: style.rotation,
            textAlign: textAlign || style.textAlign,
            borderRadius: 0,
            datasetIndex: meta.index
          };
        }, this);
      }
    },
    title: {
      color: (ctx) => ctx.chart.options.color,
      display: false,
      position: 'center',
      text: '',
    }
  },
  descriptors: {
    _scriptable: (name) => !name.startsWith('on'),
    labels: {
      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),
    }
  },
};

class Title extends Element {
  constructor(config) {
    super();
    this.chart = config.chart;
    this.options = config.options;
    this.ctx = config.ctx;
    this._padding = undefined;
    this.top = undefined;
    this.bottom = undefined;
    this.left = undefined;
    this.right = undefined;
    this.width = undefined;
    this.height = undefined;
    this.position = undefined;
    this.weight = undefined;
    this.fullSize = undefined;
  }
  update(maxWidth, maxHeight) {
    const opts = this.options;
    this.left = 0;
    this.top = 0;
    if (!opts.display) {
      this.width = this.height = this.right = this.bottom = 0;
      return;
    }
    this.width = this.right = maxWidth;
    this.height = this.bottom = maxHeight;
    const lineCount = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(opts.text) ? opts.text.length : 1;
    this._padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(opts.padding);
    const textSize = lineCount * (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font).lineHeight + this._padding.height;
    if (this.isHorizontal()) {
      this.height = textSize;
    } else {
      this.width = textSize;
    }
  }
  isHorizontal() {
    const pos = this.options.position;
    return pos === 'top' || pos === 'bottom';
  }
  _drawArgs(offset) {
    const {top, left, bottom, right, options} = this;
    const align = options.align;
    let rotation = 0;
    let maxWidth, titleX, titleY;
    if (this.isHorizontal()) {
      titleX = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, left, right);
      titleY = top + offset;
      maxWidth = right - left;
    } else {
      if (options.position === 'left') {
        titleX = left + offset;
        titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, bottom, top);
        rotation = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P * -0.5;
      } else {
        titleX = right - offset;
        titleY = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(align, top, bottom);
        rotation = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P * 0.5;
      }
      maxWidth = bottom - top;
    }
    return {titleX, titleY, maxWidth, rotation};
  }
  draw() {
    const ctx = this.ctx;
    const opts = this.options;
    if (!opts.display) {
      return;
    }
    const fontOpts = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
    const lineHeight = fontOpts.lineHeight;
    const offset = lineHeight / 2 + this._padding.top;
    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, opts.text, 0, 0, fontOpts, {
      color: opts.color,
      maxWidth,
      rotation,
      textAlign: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(opts.align),
      textBaseline: 'middle',
      translation: [titleX, titleY],
    });
  }
}
function createTitle(chart, titleOpts) {
  const title = new Title({
    ctx: chart.ctx,
    options: titleOpts,
    chart
  });
  layouts.configure(chart, title, titleOpts);
  layouts.addBox(chart, title);
  chart.titleBlock = title;
}
var plugin_title = {
  id: 'title',
  _element: Title,
  start(chart, _args, options) {
    createTitle(chart, options);
  },
  stop(chart) {
    const titleBlock = chart.titleBlock;
    layouts.removeBox(chart, titleBlock);
    delete chart.titleBlock;
  },
  beforeUpdate(chart, _args, options) {
    const title = chart.titleBlock;
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: 'center',
    display: false,
    font: {
      weight: 'bold',
    },
    fullSize: true,
    padding: 10,
    position: 'top',
    text: '',
    weight: 2000
  },
  defaultRoutes: {
    color: 'color'
  },
  descriptors: {
    _scriptable: true,
    _indexable: false,
  },
};

const map = new WeakMap();
var plugin_subtitle = {
  id: 'subtitle',
  start(chart, _args, options) {
    const title = new Title({
      ctx: chart.ctx,
      options,
      chart
    });
    layouts.configure(chart, title, options);
    layouts.addBox(chart, title);
    map.set(chart, title);
  },
  stop(chart) {
    layouts.removeBox(chart, map.get(chart));
    map.delete(chart);
  },
  beforeUpdate(chart, _args, options) {
    const title = map.get(chart);
    layouts.configure(chart, title, options);
    title.options = options;
  },
  defaults: {
    align: 'center',
    display: false,
    font: {
      weight: 'normal',
    },
    fullSize: true,
    padding: 0,
    position: 'top',
    text: '',
    weight: 1500
  },
  defaultRoutes: {
    color: 'color'
  },
  descriptors: {
    _scriptable: true,
    _indexable: false,
  },
};

const positioners = {
  average(items) {
    if (!items.length) {
      return false;
    }
    let i, len;
    let x = 0;
    let y = 0;
    let count = 0;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const pos = el.tooltipPosition();
        x += pos.x;
        y += pos.y;
        ++count;
      }
    }
    return {
      x: x / count,
      y: y / count
    };
  },
  nearest(items, eventPosition) {
    if (!items.length) {
      return false;
    }
    let x = eventPosition.x;
    let y = eventPosition.y;
    let minDistance = Number.POSITIVE_INFINITY;
    let i, len, nearestElement;
    for (i = 0, len = items.length; i < len; ++i) {
      const el = items[i].element;
      if (el && el.hasValue()) {
        const center = el.getCenterPoint();
        const d = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aG)(eventPosition, center);
        if (d < minDistance) {
          minDistance = d;
          nearestElement = el;
        }
      }
    }
    if (nearestElement) {
      const tp = nearestElement.tooltipPosition();
      x = tp.x;
      y = tp.y;
    }
    return {
      x,
      y
    };
  }
};
function pushOrConcat(base, toPush) {
  if (toPush) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(toPush)) {
      Array.prototype.push.apply(base, toPush);
    } else {
      base.push(toPush);
    }
  }
  return base;
}
function splitNewlines(str) {
  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\n') > -1) {
    return str.split('\n');
  }
  return str;
}
function createTooltipItem(chart, item) {
  const {element, datasetIndex, index} = item;
  const controller = chart.getDatasetMeta(datasetIndex).controller;
  const {label, value} = controller.getLabelAndValue(index);
  return {
    chart,
    label,
    parsed: controller.getParsed(index),
    raw: chart.data.datasets[datasetIndex].data[index],
    formattedValue: value,
    dataset: controller.getDataset(),
    dataIndex: index,
    datasetIndex,
    element
  };
}
function getTooltipSize(tooltip, options) {
  const ctx = tooltip.chart.ctx;
  const {body, footer, title} = tooltip;
  const {boxWidth, boxHeight} = options;
  const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
  const titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.titleFont);
  const footerFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.footerFont);
  const titleLineCount = title.length;
  const footerLineCount = footer.length;
  const bodyLineItemCount = body.length;
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  let height = padding.height;
  let width = 0;
  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);
  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;
  if (titleLineCount) {
    height += titleLineCount * titleFont.lineHeight
			+ (titleLineCount - 1) * options.titleSpacing
			+ options.titleMarginBottom;
  }
  if (combinedBodyLength) {
    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;
    height += bodyLineItemCount * bodyLineHeight
			+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight
			+ (combinedBodyLength - 1) * options.bodySpacing;
  }
  if (footerLineCount) {
    height += options.footerMarginTop
			+ footerLineCount * footerFont.lineHeight
			+ (footerLineCount - 1) * options.footerSpacing;
  }
  let widthPadding = 0;
  const maxLineWidth = function(line) {
    width = Math.max(width, ctx.measureText(line).width + widthPadding);
  };
  ctx.save();
  ctx.font = titleFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.title, maxLineWidth);
  ctx.font = bodyFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);
  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(body, (bodyItem) => {
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.before, maxLineWidth);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.lines, maxLineWidth);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.after, maxLineWidth);
  });
  widthPadding = 0;
  ctx.font = footerFont.string;
  (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltip.footer, maxLineWidth);
  ctx.restore();
  width += padding.width;
  return {width, height};
}
function determineYAlign(chart, size) {
  const {y, height} = size;
  if (y < height / 2) {
    return 'top';
  } else if (y > (chart.height - height / 2)) {
    return 'bottom';
  }
  return 'center';
}
function doesNotFitWithAlign(xAlign, chart, options, size) {
  const {x, width} = size;
  const caret = options.caretSize + options.caretPadding;
  if (xAlign === 'left' && x + width + caret > chart.width) {
    return true;
  }
  if (xAlign === 'right' && x - width - caret < 0) {
    return true;
  }
}
function determineXAlign(chart, options, size, yAlign) {
  const {x, width} = size;
  const {width: chartWidth, chartArea: {left, right}} = chart;
  let xAlign = 'center';
  if (yAlign === 'center') {
    xAlign = x <= (left + right) / 2 ? 'left' : 'right';
  } else if (x <= width / 2) {
    xAlign = 'left';
  } else if (x >= chartWidth - width / 2) {
    xAlign = 'right';
  }
  if (doesNotFitWithAlign(xAlign, chart, options, size)) {
    xAlign = 'center';
  }
  return xAlign;
}
function determineAlignment(chart, options, size) {
  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);
  return {
    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),
    yAlign
  };
}
function alignX(size, xAlign) {
  let {x, width} = size;
  if (xAlign === 'right') {
    x -= width;
  } else if (xAlign === 'center') {
    x -= (width / 2);
  }
  return x;
}
function alignY(size, yAlign, paddingAndSize) {
  let {y, height} = size;
  if (yAlign === 'top') {
    y += paddingAndSize;
  } else if (yAlign === 'bottom') {
    y -= height + paddingAndSize;
  } else {
    y -= (height / 2);
  }
  return y;
}
function getBackgroundPoint(options, size, alignment, chart) {
  const {caretSize, caretPadding, cornerRadius} = options;
  const {xAlign, yAlign} = alignment;
  const paddingAndSize = caretSize + caretPadding;
  const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(cornerRadius);
  let x = alignX(size, xAlign);
  const y = alignY(size, yAlign, paddingAndSize);
  if (yAlign === 'center') {
    if (xAlign === 'left') {
      x += paddingAndSize;
    } else if (xAlign === 'right') {
      x -= paddingAndSize;
    }
  } else if (xAlign === 'left') {
    x -= Math.max(topLeft, bottomLeft) + caretSize;
  } else if (xAlign === 'right') {
    x += Math.max(topRight, bottomRight) + caretSize;
  }
  return {
    x: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(x, 0, chart.width - size.width),
    y: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(y, 0, chart.height - size.height)
  };
}
function getAlignedX(tooltip, align, options) {
  const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
  return align === 'center'
    ? tooltip.x + tooltip.width / 2
    : align === 'right'
      ? tooltip.x + tooltip.width - padding.right
      : tooltip.x + padding.left;
}
function getBeforeAfterBodyLines(callback) {
  return pushOrConcat([], splitNewlines(callback));
}
function createTooltipContext(parent, tooltip, tooltipItems) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    tooltip,
    tooltipItems,
    type: 'tooltip'
  });
}
function overrideCallbacks(callbacks, context) {
  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;
  return override ? callbacks.override(override) : callbacks;
}
class Tooltip extends Element {
  constructor(config) {
    super();
    this.opacity = 0;
    this._active = [];
    this._eventPosition = undefined;
    this._size = undefined;
    this._cachedAnimations = undefined;
    this._tooltipItems = [];
    this.$animations = undefined;
    this.$context = undefined;
    this.chart = config.chart || config._chart;
    this._chart = this.chart;
    this.options = config.options;
    this.dataPoints = undefined;
    this.title = undefined;
    this.beforeBody = undefined;
    this.body = undefined;
    this.afterBody = undefined;
    this.footer = undefined;
    this.xAlign = undefined;
    this.yAlign = undefined;
    this.x = undefined;
    this.y = undefined;
    this.height = undefined;
    this.width = undefined;
    this.caretX = undefined;
    this.caretY = undefined;
    this.labelColors = undefined;
    this.labelPointStyles = undefined;
    this.labelTextColors = undefined;
  }
  initialize(options) {
    this.options = options;
    this._cachedAnimations = undefined;
    this.$context = undefined;
  }
  _resolveAnimations() {
    const cached = this._cachedAnimations;
    if (cached) {
      return cached;
    }
    const chart = this.chart;
    const options = this.options.setContext(this.getContext());
    const opts = options.enabled && chart.options.animation && options.animations;
    const animations = new Animations(this.chart, opts);
    if (opts._cacheable) {
      this._cachedAnimations = Object.freeze(animations);
    }
    return animations;
  }
  getContext() {
    return this.$context ||
			(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));
  }
  getTitle(context, options) {
    const {callbacks} = options;
    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);
    const title = callbacks.title.apply(this, [context]);
    const afterTitle = callbacks.afterTitle.apply(this, [context]);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeTitle));
    lines = pushOrConcat(lines, splitNewlines(title));
    lines = pushOrConcat(lines, splitNewlines(afterTitle));
    return lines;
  }
  getBeforeBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));
  }
  getBody(tooltipItems, options) {
    const {callbacks} = options;
    const bodyItems = [];
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltipItems, (context) => {
      const bodyItem = {
        before: [],
        lines: [],
        after: []
      };
      const scoped = overrideCallbacks(callbacks, context);
      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));
      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));
      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));
      bodyItems.push(bodyItem);
    });
    return bodyItems;
  }
  getAfterBody(tooltipItems, options) {
    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));
  }
  getFooter(tooltipItems, options) {
    const {callbacks} = options;
    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);
    const footer = callbacks.footer.apply(this, [tooltipItems]);
    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);
    let lines = [];
    lines = pushOrConcat(lines, splitNewlines(beforeFooter));
    lines = pushOrConcat(lines, splitNewlines(footer));
    lines = pushOrConcat(lines, splitNewlines(afterFooter));
    return lines;
  }
  _createItems(options) {
    const active = this._active;
    const data = this.chart.data;
    const labelColors = [];
    const labelPointStyles = [];
    const labelTextColors = [];
    let tooltipItems = [];
    let i, len;
    for (i = 0, len = active.length; i < len; ++i) {
      tooltipItems.push(createTooltipItem(this.chart, active[i]));
    }
    if (options.filter) {
      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));
    }
    if (options.itemSort) {
      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(tooltipItems, (context) => {
      const scoped = overrideCallbacks(options.callbacks, context);
      labelColors.push(scoped.labelColor.call(this, context));
      labelPointStyles.push(scoped.labelPointStyle.call(this, context));
      labelTextColors.push(scoped.labelTextColor.call(this, context));
    });
    this.labelColors = labelColors;
    this.labelPointStyles = labelPointStyles;
    this.labelTextColors = labelTextColors;
    this.dataPoints = tooltipItems;
    return tooltipItems;
  }
  update(changed, replay) {
    const options = this.options.setContext(this.getContext());
    const active = this._active;
    let properties;
    let tooltipItems = [];
    if (!active.length) {
      if (this.opacity !== 0) {
        properties = {
          opacity: 0
        };
      }
    } else {
      const position = positioners[options.position].call(this, active, this._eventPosition);
      tooltipItems = this._createItems(options);
      this.title = this.getTitle(tooltipItems, options);
      this.beforeBody = this.getBeforeBody(tooltipItems, options);
      this.body = this.getBody(tooltipItems, options);
      this.afterBody = this.getAfterBody(tooltipItems, options);
      this.footer = this.getFooter(tooltipItems, options);
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, size);
      const alignment = determineAlignment(this.chart, options, positionAndSize);
      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);
      this.xAlign = alignment.xAlign;
      this.yAlign = alignment.yAlign;
      properties = {
        opacity: 1,
        x: backgroundPoint.x,
        y: backgroundPoint.y,
        width: size.width,
        height: size.height,
        caretX: position.x,
        caretY: position.y
      };
    }
    this._tooltipItems = tooltipItems;
    this.$context = undefined;
    if (properties) {
      this._resolveAnimations().update(this, properties);
    }
    if (changed && options.external) {
      options.external.call(this, {chart: this.chart, tooltip: this, replay});
    }
  }
  drawCaret(tooltipPoint, ctx, size, options) {
    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);
    ctx.lineTo(caretPosition.x1, caretPosition.y1);
    ctx.lineTo(caretPosition.x2, caretPosition.y2);
    ctx.lineTo(caretPosition.x3, caretPosition.y3);
  }
  getCaretPosition(tooltipPoint, size, options) {
    const {xAlign, yAlign} = this;
    const {caretSize, cornerRadius} = options;
    const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(cornerRadius);
    const {x: ptX, y: ptY} = tooltipPoint;
    const {width, height} = size;
    let x1, x2, x3, y1, y2, y3;
    if (yAlign === 'center') {
      y2 = ptY + (height / 2);
      if (xAlign === 'left') {
        x1 = ptX;
        x2 = x1 - caretSize;
        y1 = y2 + caretSize;
        y3 = y2 - caretSize;
      } else {
        x1 = ptX + width;
        x2 = x1 + caretSize;
        y1 = y2 - caretSize;
        y3 = y2 + caretSize;
      }
      x3 = x1;
    } else {
      if (xAlign === 'left') {
        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);
      } else if (xAlign === 'right') {
        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;
      } else {
        x2 = this.caretX;
      }
      if (yAlign === 'top') {
        y1 = ptY;
        y2 = y1 - caretSize;
        x1 = x2 - caretSize;
        x3 = x2 + caretSize;
      } else {
        y1 = ptY + height;
        y2 = y1 + caretSize;
        x1 = x2 + caretSize;
        x3 = x2 - caretSize;
      }
      y3 = y1;
    }
    return {x1, x2, x3, y1, y2, y3};
  }
  drawTitle(pt, ctx, options) {
    const title = this.title;
    const length = title.length;
    let titleFont, titleSpacing, i;
    if (length) {
      const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.titleAlign, options);
      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);
      ctx.textBaseline = 'middle';
      titleFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.titleFont);
      titleSpacing = options.titleSpacing;
      ctx.fillStyle = options.titleColor;
      ctx.font = titleFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);
        pt.y += titleFont.lineHeight + titleSpacing;
        if (i + 1 === length) {
          pt.y += options.titleMarginBottom - titleSpacing;
        }
      }
    }
  }
  _drawColorBox(ctx, pt, i, rtlHelper, options) {
    const labelColors = this.labelColors[i];
    const labelPointStyle = this.labelPointStyles[i];
    const {boxHeight, boxWidth, boxPadding} = options;
    const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
    const colorX = getAlignedX(this, 'left', options);
    const rtlColorX = rtlHelper.x(colorX);
    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;
    const colorY = pt.y + yOffSet;
    if (options.usePointStyle) {
      const drawOptions = {
        radius: Math.min(boxWidth, boxHeight) / 2,
        pointStyle: labelPointStyle.pointStyle,
        rotation: labelPointStyle.rotation,
        borderWidth: 1
      };
      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;
      const centerY = colorY + boxHeight / 2;
      ctx.strokeStyle = options.multiKeyBackground;
      ctx.fillStyle = options.multiKeyBackground;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, drawOptions, centerX, centerY);
      ctx.strokeStyle = labelColors.borderColor;
      ctx.fillStyle = labelColors.backgroundColor;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.au)(ctx, drawOptions, centerX, centerY);
    } else {
      ctx.lineWidth = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(labelColors.borderWidth) ? Math.max(...Object.values(labelColors.borderWidth)) : (labelColors.borderWidth || 1);
      ctx.strokeStyle = labelColors.borderColor;
      ctx.setLineDash(labelColors.borderDash || []);
      ctx.lineDashOffset = labelColors.borderDashOffset || 0;
      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);
      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);
      const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(labelColors.borderRadius);
      if (Object.values(borderRadius).some(v => v !== 0)) {
        ctx.beginPath();
        ctx.fillStyle = options.multiKeyBackground;
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: outerX,
          y: colorY,
          w: boxWidth,
          h: boxHeight,
          radius: borderRadius,
        });
        ctx.fill();
        ctx.stroke();
        ctx.fillStyle = labelColors.backgroundColor;
        ctx.beginPath();
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: innerX,
          y: colorY + 1,
          w: boxWidth - 2,
          h: boxHeight - 2,
          radius: borderRadius,
        });
        ctx.fill();
      } else {
        ctx.fillStyle = options.multiKeyBackground;
        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);
        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);
        ctx.fillStyle = labelColors.backgroundColor;
        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);
      }
    }
    ctx.fillStyle = this.labelTextColors[i];
  }
  drawBody(pt, ctx, options) {
    const {body} = this;
    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;
    const bodyFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.bodyFont);
    let bodyLineHeight = bodyFont.lineHeight;
    let xLinePadding = 0;
    const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
    const fillLineOfText = function(line) {
      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);
      pt.y += bodyLineHeight + bodySpacing;
    };
    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);
    let bodyItem, textColor, lines, i, j, ilen, jlen;
    ctx.textAlign = bodyAlign;
    ctx.textBaseline = 'middle';
    ctx.font = bodyFont.string;
    pt.x = getAlignedX(this, bodyAlignForCalculation, options);
    ctx.fillStyle = options.bodyColor;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.beforeBody, fillLineOfText);
    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'
      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)
      : 0;
    for (i = 0, ilen = body.length; i < ilen; ++i) {
      bodyItem = body[i];
      textColor = this.labelTextColors[i];
      ctx.fillStyle = textColor;
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.before, fillLineOfText);
      lines = bodyItem.lines;
      if (displayColors && lines.length) {
        this._drawColorBox(ctx, pt, i, rtlHelper, options);
        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);
      }
      for (j = 0, jlen = lines.length; j < jlen; ++j) {
        fillLineOfText(lines[j]);
        bodyLineHeight = bodyFont.lineHeight;
      }
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(bodyItem.after, fillLineOfText);
    }
    xLinePadding = 0;
    bodyLineHeight = bodyFont.lineHeight;
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(this.afterBody, fillLineOfText);
    pt.y -= bodySpacing;
  }
  drawFooter(pt, ctx, options) {
    const footer = this.footer;
    const length = footer.length;
    let footerFont, i;
    if (length) {
      const rtlHelper = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aA)(options.rtl, this.x, this.width);
      pt.x = getAlignedX(this, options.footerAlign, options);
      pt.y += options.footerMarginTop;
      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);
      ctx.textBaseline = 'middle';
      footerFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(options.footerFont);
      ctx.fillStyle = options.footerColor;
      ctx.font = footerFont.string;
      for (i = 0; i < length; ++i) {
        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);
        pt.y += footerFont.lineHeight + options.footerSpacing;
      }
    }
  }
  drawBackground(pt, ctx, tooltipSize, options) {
    const {xAlign, yAlign} = this;
    const {x, y} = pt;
    const {width, height} = tooltipSize;
    const {topLeft, topRight, bottomLeft, bottomRight} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(options.cornerRadius);
    ctx.fillStyle = options.backgroundColor;
    ctx.strokeStyle = options.borderColor;
    ctx.lineWidth = options.borderWidth;
    ctx.beginPath();
    ctx.moveTo(x + topLeft, y);
    if (yAlign === 'top') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width - topRight, y);
    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);
    if (yAlign === 'center' && xAlign === 'right') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + width, y + height - bottomRight);
    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);
    if (yAlign === 'bottom') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x + bottomLeft, y + height);
    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);
    if (yAlign === 'center' && xAlign === 'left') {
      this.drawCaret(pt, ctx, tooltipSize, options);
    }
    ctx.lineTo(x, y + topLeft);
    ctx.quadraticCurveTo(x, y, x + topLeft, y);
    ctx.closePath();
    ctx.fill();
    if (options.borderWidth > 0) {
      ctx.stroke();
    }
  }
  _updateAnimationTarget(options) {
    const chart = this.chart;
    const anims = this.$animations;
    const animX = anims && anims.x;
    const animY = anims && anims.y;
    if (animX || animY) {
      const position = positioners[options.position].call(this, this._active, this._eventPosition);
      if (!position) {
        return;
      }
      const size = this._size = getTooltipSize(this, options);
      const positionAndSize = Object.assign({}, position, this._size);
      const alignment = determineAlignment(chart, options, positionAndSize);
      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);
      if (animX._to !== point.x || animY._to !== point.y) {
        this.xAlign = alignment.xAlign;
        this.yAlign = alignment.yAlign;
        this.width = size.width;
        this.height = size.height;
        this.caretX = position.x;
        this.caretY = position.y;
        this._resolveAnimations().update(this, point);
      }
    }
  }
  _willRender() {
    return !!this.opacity;
  }
  draw(ctx) {
    const options = this.options.setContext(this.getContext());
    let opacity = this.opacity;
    if (!opacity) {
      return;
    }
    this._updateAnimationTarget(options);
    const tooltipSize = {
      width: this.width,
      height: this.height
    };
    const pt = {
      x: this.x,
      y: this.y
    };
    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(options.padding);
    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;
    if (options.enabled && hasTooltipContent) {
      ctx.save();
      ctx.globalAlpha = opacity;
      this.drawBackground(pt, ctx, tooltipSize, options);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aB)(ctx, options.textDirection);
      pt.y += padding.top;
      this.drawTitle(pt, ctx, options);
      this.drawBody(pt, ctx, options);
      this.drawFooter(pt, ctx, options);
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aD)(ctx, options.textDirection);
      ctx.restore();
    }
  }
  getActiveElements() {
    return this._active || [];
  }
  setActiveElements(activeElements, eventPosition) {
    const lastActive = this._active;
    const active = activeElements.map(({datasetIndex, index}) => {
      const meta = this.chart.getDatasetMeta(datasetIndex);
      if (!meta) {
        throw new Error('Cannot find a dataset at index ' + datasetIndex);
      }
      return {
        datasetIndex,
        element: meta.data[index],
        index,
      };
    });
    const changed = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(lastActive, active);
    const positionChanged = this._positionChanged(active, eventPosition);
    if (changed || positionChanged) {
      this._active = active;
      this._eventPosition = eventPosition;
      this._ignoreReplayEvents = true;
      this.update(true);
    }
  }
  handleEvent(e, replay, inChartArea = true) {
    if (replay && this._ignoreReplayEvents) {
      return false;
    }
    this._ignoreReplayEvents = false;
    const options = this.options;
    const lastActive = this._active || [];
    const active = this._getActiveElements(e, lastActive, replay, inChartArea);
    const positionChanged = this._positionChanged(active, e);
    const changed = replay || !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ai)(active, lastActive) || positionChanged;
    if (changed) {
      this._active = active;
      if (options.enabled || options.external) {
        this._eventPosition = {
          x: e.x,
          y: e.y
        };
        this.update(true, replay);
      }
    }
    return changed;
  }
  _getActiveElements(e, lastActive, replay, inChartArea) {
    const options = this.options;
    if (e.type === 'mouseout') {
      return [];
    }
    if (!inChartArea) {
      return lastActive;
    }
    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);
    if (options.reverse) {
      active.reverse();
    }
    return active;
  }
  _positionChanged(active, e) {
    const {caretX, caretY, options} = this;
    const position = positioners[options.position].call(this, active, e);
    return position !== false && (caretX !== position.x || caretY !== position.y);
  }
}
Tooltip.positioners = positioners;
var plugin_tooltip = {
  id: 'tooltip',
  _element: Tooltip,
  positioners,
  afterInit(chart, _args, options) {
    if (options) {
      chart.tooltip = new Tooltip({chart, options});
    }
  },
  beforeUpdate(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  reset(chart, _args, options) {
    if (chart.tooltip) {
      chart.tooltip.initialize(options);
    }
  },
  afterDraw(chart) {
    const tooltip = chart.tooltip;
    if (tooltip && tooltip._willRender()) {
      const args = {
        tooltip
      };
      if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {
        return;
      }
      tooltip.draw(chart.ctx);
      chart.notifyPlugins('afterTooltipDraw', args);
    }
  },
  afterEvent(chart, args) {
    if (chart.tooltip) {
      const useFinalPosition = args.replay;
      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {
        args.changed = true;
      }
    }
  },
  defaults: {
    enabled: true,
    external: null,
    position: 'average',
    backgroundColor: 'rgba(0,0,0,0.8)',
    titleColor: '#fff',
    titleFont: {
      weight: 'bold',
    },
    titleSpacing: 2,
    titleMarginBottom: 6,
    titleAlign: 'left',
    bodyColor: '#fff',
    bodySpacing: 2,
    bodyFont: {
    },
    bodyAlign: 'left',
    footerColor: '#fff',
    footerSpacing: 2,
    footerMarginTop: 6,
    footerFont: {
      weight: 'bold',
    },
    footerAlign: 'left',
    padding: 6,
    caretPadding: 2,
    caretSize: 5,
    cornerRadius: 6,
    boxHeight: (ctx, opts) => opts.bodyFont.size,
    boxWidth: (ctx, opts) => opts.bodyFont.size,
    multiKeyBackground: '#fff',
    displayColors: true,
    boxPadding: 0,
    borderColor: 'rgba(0,0,0,0)',
    borderWidth: 0,
    animation: {
      duration: 400,
      easing: 'easeOutQuart',
    },
    animations: {
      numbers: {
        type: 'number',
        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],
      },
      opacity: {
        easing: 'linear',
        duration: 200
      }
    },
    callbacks: {
      beforeTitle: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      title(tooltipItems) {
        if (tooltipItems.length > 0) {
          const item = tooltipItems[0];
          const labels = item.chart.data.labels;
          const labelCount = labels ? labels.length : 0;
          if (this && this.options && this.options.mode === 'dataset') {
            return item.dataset.label || '';
          } else if (item.label) {
            return item.label;
          } else if (labelCount > 0 && item.dataIndex < labelCount) {
            return labels[item.dataIndex];
          }
        }
        return '';
      },
      afterTitle: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeBody: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeLabel: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      label(tooltipItem) {
        if (this && this.options && this.options.mode === 'dataset') {
          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;
        }
        let label = tooltipItem.dataset.label || '';
        if (label) {
          label += ': ';
        }
        const value = tooltipItem.formattedValue;
        if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
          label += value;
        }
        return label;
      },
      labelColor(tooltipItem) {
        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
        const options = meta.controller.getStyle(tooltipItem.dataIndex);
        return {
          borderColor: options.borderColor,
          backgroundColor: options.backgroundColor,
          borderWidth: options.borderWidth,
          borderDash: options.borderDash,
          borderDashOffset: options.borderDashOffset,
          borderRadius: 0,
        };
      },
      labelTextColor() {
        return this.options.bodyColor;
      },
      labelPointStyle(tooltipItem) {
        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);
        const options = meta.controller.getStyle(tooltipItem.dataIndex);
        return {
          pointStyle: options.pointStyle,
          rotation: options.rotation,
        };
      },
      afterLabel: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      afterBody: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      beforeFooter: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      footer: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF,
      afterFooter: _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aF
    }
  },
  defaultRoutes: {
    bodyFont: 'font',
    footerFont: 'font',
    titleFont: 'font'
  },
  descriptors: {
    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',
    _indexable: false,
    callbacks: {
      _scriptable: false,
      _indexable: false,
    },
    animation: {
      _fallback: false
    },
    animations: {
      _fallback: 'animation'
    }
  },
  additionalOptionScopes: ['interaction']
};

var plugins = /*#__PURE__*/Object.freeze({
__proto__: null,
Decimation: plugin_decimation,
Filler: index,
Legend: plugin_legend,
SubTitle: plugin_subtitle,
Title: plugin_title,
Tooltip: plugin_tooltip
});

const addIfString = (labels, raw, index, addedLabels) => {
  if (typeof raw === 'string') {
    index = labels.push(raw) - 1;
    addedLabels.unshift({index, label: raw});
  } else if (isNaN(raw)) {
    index = null;
  }
  return index;
};
function findOrAddLabel(labels, raw, index, addedLabels) {
  const first = labels.indexOf(raw);
  if (first === -1) {
    return addIfString(labels, raw, index, addedLabels);
  }
  const last = labels.lastIndexOf(raw);
  return first !== last ? index : first;
}
const validIndex = (index, max) => index === null ? null : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(Math.round(index), 0, max);
class CategoryScale extends Scale {
  constructor(cfg) {
    super(cfg);
    this._startValue = undefined;
    this._valueRange = 0;
    this._addedLabels = [];
  }
  init(scaleOptions) {
    const added = this._addedLabels;
    if (added.length) {
      const labels = this.getLabels();
      for (const {index, label} of added) {
        if (labels[index] === label) {
          labels.splice(index, 1);
        }
      }
      this._addedLabels = [];
    }
    super.init(scaleOptions);
  }
  parse(raw, index) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(raw)) {
      return null;
    }
    const labels = this.getLabels();
    index = isFinite(index) && labels[index] === raw ? index
      : findOrAddLabel(labels, raw, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(index, raw), this._addedLabels);
    return validIndex(index, labels.length - 1);
  }
  determineDataLimits() {
    const {minDefined, maxDefined} = this.getUserBounds();
    let {min, max} = this.getMinMax(true);
    if (this.options.bounds === 'ticks') {
      if (!minDefined) {
        min = 0;
      }
      if (!maxDefined) {
        max = this.getLabels().length - 1;
      }
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const min = this.min;
    const max = this.max;
    const offset = this.options.offset;
    const ticks = [];
    let labels = this.getLabels();
    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);
    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);
    this._startValue = this.min - (offset ? 0.5 : 0);
    for (let value = min; value <= max; value++) {
      ticks.push({value});
    }
    return ticks;
  }
  getLabelForValue(value) {
    const labels = this.getLabels();
    if (value >= 0 && value < labels.length) {
      return labels[value];
    }
    return value;
  }
  configure() {
    super.configure();
    if (!this.isHorizontal()) {
      this._reversePixels = !this._reversePixels;
    }
  }
  getPixelForValue(value) {
    if (typeof value !== 'number') {
      value = this.parse(value);
    }
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getPixelForTick(index) {
    const ticks = this.ticks;
    if (index < 0 || index > ticks.length - 1) {
      return null;
    }
    return this.getPixelForValue(ticks[index].value);
  }
  getValueForPixel(pixel) {
    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);
  }
  getBasePixel() {
    return this.bottom;
  }
}
CategoryScale.id = 'category';
CategoryScale.defaults = {
  ticks: {
    callback: CategoryScale.prototype.getLabelForValue
  }
};

function generateTicks$1(generationOptions, dataRange) {
  const ticks = [];
  const MIN_SPACING = 1e-14;
  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;
  const unit = step || 1;
  const maxSpaces = maxTicks - 1;
  const {min: rmin, max: rmax} = dataRange;
  const minDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(min);
  const maxDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(max);
  const countDefined = !(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(count);
  const minSpacing = (rmax - rmin) / (maxDigits + 1);
  let spacing = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aI)((rmax - rmin) / maxSpaces / unit) * unit;
  let factor, niceMin, niceMax, numSpaces;
  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {
    return [{value: rmin}, {value: rmax}];
  }
  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);
  if (numSpaces > maxSpaces) {
    spacing = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aI)(numSpaces * spacing / maxSpaces / unit) * unit;
  }
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(precision)) {
    factor = Math.pow(10, precision);
    spacing = Math.ceil(spacing * factor) / factor;
  }
  if (bounds === 'ticks') {
    niceMin = Math.floor(rmin / spacing) * spacing;
    niceMax = Math.ceil(rmax / spacing) * spacing;
  } else {
    niceMin = rmin;
    niceMax = rmax;
  }
  if (minDefined && maxDefined && step && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aJ)((max - min) / step, spacing / 1000)) {
    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));
    spacing = (max - min) / numSpaces;
    niceMin = min;
    niceMax = max;
  } else if (countDefined) {
    niceMin = minDefined ? min : niceMin;
    niceMax = maxDefined ? max : niceMax;
    numSpaces = count - 1;
    spacing = (niceMax - niceMin) / numSpaces;
  } else {
    numSpaces = (niceMax - niceMin) / spacing;
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(numSpaces, Math.round(numSpaces), spacing / 1000)) {
      numSpaces = Math.round(numSpaces);
    } else {
      numSpaces = Math.ceil(numSpaces);
    }
  }
  const decimalPlaces = Math.max(
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aL)(spacing),
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aL)(niceMin)
  );
  factor = Math.pow(10, (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(precision) ? decimalPlaces : precision);
  niceMin = Math.round(niceMin * factor) / factor;
  niceMax = Math.round(niceMax * factor) / factor;
  let j = 0;
  if (minDefined) {
    if (includeBounds && niceMin !== min) {
      ticks.push({value: min});
      if (niceMin < min) {
        j++;
      }
      if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {
        j++;
      }
    } else if (niceMin < min) {
      j++;
    }
  }
  for (; j < numSpaces; ++j) {
    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});
  }
  if (maxDefined && includeBounds && niceMax !== max) {
    if (ticks.length && (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aK)(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {
      ticks[ticks.length - 1].value = max;
    } else {
      ticks.push({value: max});
    }
  } else if (!maxDefined || niceMax === max) {
    ticks.push({value: niceMax});
  }
  return ticks;
}
function relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {
  const rad = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(minRotation);
  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;
  const length = 0.75 * minSpacing * ('' + value).length;
  return Math.min(minSpacing / ratio, length);
}
class LinearScaleBase extends Scale {
  constructor(cfg) {
    super(cfg);
    this.start = undefined;
    this.end = undefined;
    this._startValue = undefined;
    this._endValue = undefined;
    this._valueRange = 0;
  }
  parse(raw, index) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(raw)) {
      return null;
    }
    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {
      return null;
    }
    return +raw;
  }
  handleTickRangeOptions() {
    const {beginAtZero} = this.options;
    const {minDefined, maxDefined} = this.getUserBounds();
    let {min, max} = this;
    const setMin = v => (min = minDefined ? min : v);
    const setMax = v => (max = maxDefined ? max : v);
    if (beginAtZero) {
      const minSign = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(min);
      const maxSign = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.s)(max);
      if (minSign < 0 && maxSign < 0) {
        setMax(0);
      } else if (minSign > 0 && maxSign > 0) {
        setMin(0);
      }
    }
    if (min === max) {
      let offset = 1;
      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {
        offset = Math.abs(max * 0.05);
      }
      setMax(max + offset);
      if (!beginAtZero) {
        setMin(min - offset);
      }
    }
    this.min = min;
    this.max = max;
  }
  getTickLimit() {
    const tickOpts = this.options.ticks;
    let {maxTicksLimit, stepSize} = tickOpts;
    let maxTicks;
    if (stepSize) {
      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;
      if (maxTicks > 1000) {
        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);
        maxTicks = 1000;
      }
    } else {
      maxTicks = this.computeTickLimit();
      maxTicksLimit = maxTicksLimit || 11;
    }
    if (maxTicksLimit) {
      maxTicks = Math.min(maxTicksLimit, maxTicks);
    }
    return maxTicks;
  }
  computeTickLimit() {
    return Number.POSITIVE_INFINITY;
  }
  buildTicks() {
    const opts = this.options;
    const tickOpts = opts.ticks;
    let maxTicks = this.getTickLimit();
    maxTicks = Math.max(2, maxTicks);
    const numericGeneratorOptions = {
      maxTicks,
      bounds: opts.bounds,
      min: opts.min,
      max: opts.max,
      precision: tickOpts.precision,
      step: tickOpts.stepSize,
      count: tickOpts.count,
      maxDigits: this._maxDigits(),
      horizontal: this.isHorizontal(),
      minRotation: tickOpts.minRotation || 0,
      includeBounds: tickOpts.includeBounds !== false
    };
    const dataRange = this._range || this;
    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);
    if (opts.bounds === 'ticks') {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aH)(ticks, this, 'value');
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  configure() {
    const ticks = this.ticks;
    let start = this.min;
    let end = this.max;
    super.configure();
    if (this.options.offset && ticks.length) {
      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;
      start -= offset;
      end += offset;
    }
    this._startValue = start;
    this._endValue = end;
    this._valueRange = end - start;
  }
  getLabelForValue(value) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(value, this.chart.options.locale, this.options.ticks.format);
  }
}

class LinearScale extends LinearScaleBase {
  determineDataLimits() {
    const {min, max} = this.getMinMax(true);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) ? min : 0;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) ? max : 1;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    const horizontal = this.isHorizontal();
    const length = horizontal ? this.width : this.height;
    const minRotation = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.options.ticks.minRotation);
    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;
    const tickFont = this._resolveTickFontOptions(0);
    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));
  }
  getPixelForValue(value) {
    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;
  }
}
LinearScale.id = 'linear';
LinearScale.defaults = {
  ticks: {
    callback: Ticks.formatters.numeric
  }
};

function isMajor(tickVal) {
  const remain = tickVal / (Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickVal))));
  return remain === 1;
}
function generateTicks(generationOptions, dataRange) {
  const endExp = Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(dataRange.max));
  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));
  const ticks = [];
  let tickVal = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(generationOptions.min, Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(dataRange.min))));
  let exp = Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(tickVal));
  let significand = Math.floor(tickVal / Math.pow(10, exp));
  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;
  do {
    ticks.push({value: tickVal, major: isMajor(tickVal)});
    ++significand;
    if (significand === 10) {
      significand = 1;
      ++exp;
      precision = exp >= 0 ? 1 : precision;
    }
    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;
  } while (exp < endExp || (exp === endExp && significand < endSignificand));
  const lastTick = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(generationOptions.max, tickVal);
  ticks.push({value: lastTick, major: isMajor(tickVal)});
  return ticks;
}
class LogarithmicScale extends Scale {
  constructor(cfg) {
    super(cfg);
    this.start = undefined;
    this.end = undefined;
    this._startValue = undefined;
    this._valueRange = 0;
  }
  parse(raw, index) {
    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);
    if (value === 0) {
      this._zero = true;
      return undefined;
    }
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value) && value > 0 ? value : null;
  }
  determineDataLimits() {
    const {min, max} = this.getMinMax(true);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) ? Math.max(0, min) : null;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) ? Math.max(0, max) : null;
    if (this.options.beginAtZero) {
      this._zero = true;
    }
    this.handleTickRangeOptions();
  }
  handleTickRangeOptions() {
    const {minDefined, maxDefined} = this.getUserBounds();
    let min = this.min;
    let max = this.max;
    const setMin = v => (min = minDefined ? min : v);
    const setMax = v => (max = maxDefined ? max : v);
    const exp = (v, m) => Math.pow(10, Math.floor((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(v)) + m);
    if (min === max) {
      if (min <= 0) {
        setMin(1);
        setMax(10);
      } else {
        setMin(exp(min, -1));
        setMax(exp(max, +1));
      }
    }
    if (min <= 0) {
      setMin(exp(max, -1));
    }
    if (max <= 0) {
      setMax(exp(min, +1));
    }
    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {
      setMin(exp(min, -1));
    }
    this.min = min;
    this.max = max;
  }
  buildTicks() {
    const opts = this.options;
    const generationOptions = {
      min: this._userMin,
      max: this._userMax
    };
    const ticks = generateTicks(generationOptions, this);
    if (opts.bounds === 'ticks') {
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aH)(ticks, this, 'value');
    }
    if (opts.reverse) {
      ticks.reverse();
      this.start = this.max;
      this.end = this.min;
    } else {
      this.start = this.min;
      this.end = this.max;
    }
    return ticks;
  }
  getLabelForValue(value) {
    return value === undefined
      ? '0'
      : (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(value, this.chart.options.locale, this.options.ticks.format);
  }
  configure() {
    const start = this.min;
    super.configure();
    this._startValue = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(start);
    this._valueRange = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(this.max) - (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(start);
  }
  getPixelForValue(value) {
    if (value === undefined || value === 0) {
      value = this.min;
    }
    if (value === null || isNaN(value)) {
      return NaN;
    }
    return this.getPixelForDecimal(value === this.min
      ? 0
      : ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(value) - this._startValue) / this._valueRange);
  }
  getValueForPixel(pixel) {
    const decimal = this.getDecimalForPixel(pixel);
    return Math.pow(10, this._startValue + decimal * this._valueRange);
  }
}
LogarithmicScale.id = 'logarithmic';
LogarithmicScale.defaults = {
  ticks: {
    callback: Ticks.formatters.logarithmic,
    major: {
      enabled: true
    }
  }
};

function getTickBackdropHeight(opts) {
  const tickOpts = opts.ticks;
  if (tickOpts.display && opts.display) {
    const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(tickOpts.backdropPadding);
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(tickOpts.font && tickOpts.font.size, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.d.font.size) + padding.height;
  }
  return 0;
}
function measureLabelSize(ctx, font, label) {
  label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.b)(label) ? label : [label];
  return {
    w: (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aM)(ctx, font.string, label),
    h: label.length * font.lineHeight
  };
}
function determineLimits(angle, pos, size, min, max) {
  if (angle === min || angle === max) {
    return {
      start: pos - (size / 2),
      end: pos + (size / 2)
    };
  } else if (angle < min || angle > max) {
    return {
      start: pos - size,
      end: pos
    };
  }
  return {
    start: pos,
    end: pos + size
  };
}
function fitWithPointLabels(scale) {
  const orig = {
    l: scale.left + scale._padding.left,
    r: scale.right - scale._padding.right,
    t: scale.top + scale._padding.top,
    b: scale.bottom - scale._padding.bottom
  };
  const limits = Object.assign({}, orig);
  const labelSizes = [];
  const padding = [];
  const valueCount = scale._pointLabels.length;
  const pointLabelOpts = scale.options.pointLabels;
  const additionalAngle = pointLabelOpts.centerPointLabels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P / valueCount : 0;
  for (let i = 0; i < valueCount; i++) {
    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));
    padding[i] = opts.padding;
    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);
    const plFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(opts.font);
    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);
    labelSizes[i] = textSize;
    const angleRadians = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(scale.getIndexAngle(i) + additionalAngle);
    const angle = Math.round((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)(angleRadians));
    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);
    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);
    updateLimits(limits, orig, angleRadians, hLimits, vLimits);
  }
  scale.setCenterPoint(
    orig.l - limits.l,
    limits.r - orig.r,
    orig.t - limits.t,
    limits.b - orig.b
  );
  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);
}
function updateLimits(limits, orig, angle, hLimits, vLimits) {
  const sin = Math.abs(Math.sin(angle));
  const cos = Math.abs(Math.cos(angle));
  let x = 0;
  let y = 0;
  if (hLimits.start < orig.l) {
    x = (orig.l - hLimits.start) / sin;
    limits.l = Math.min(limits.l, orig.l - x);
  } else if (hLimits.end > orig.r) {
    x = (hLimits.end - orig.r) / sin;
    limits.r = Math.max(limits.r, orig.r + x);
  }
  if (vLimits.start < orig.t) {
    y = (orig.t - vLimits.start) / cos;
    limits.t = Math.min(limits.t, orig.t - y);
  } else if (vLimits.end > orig.b) {
    y = (vLimits.end - orig.b) / cos;
    limits.b = Math.max(limits.b, orig.b + y);
  }
}
function buildPointLabelItems(scale, labelSizes, padding) {
  const items = [];
  const valueCount = scale._pointLabels.length;
  const opts = scale.options;
  const extra = getTickBackdropHeight(opts) / 2;
  const outerDistance = scale.drawingArea;
  const additionalAngle = opts.pointLabels.centerPointLabels ? _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.P / valueCount : 0;
  for (let i = 0; i < valueCount; i++) {
    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);
    const angle = Math.round((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.F)((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(pointLabelPosition.angle + _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H)));
    const size = labelSizes[i];
    const y = yForAngle(pointLabelPosition.y, size.h, angle);
    const textAlign = getTextAlignForAngle(angle);
    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);
    items.push({
      x: pointLabelPosition.x,
      y,
      textAlign,
      left,
      top: y,
      right: left + size.w,
      bottom: y + size.h
    });
  }
  return items;
}
function getTextAlignForAngle(angle) {
  if (angle === 0 || angle === 180) {
    return 'center';
  } else if (angle < 180) {
    return 'left';
  }
  return 'right';
}
function leftForTextAlign(x, w, align) {
  if (align === 'right') {
    x -= w;
  } else if (align === 'center') {
    x -= (w / 2);
  }
  return x;
}
function yForAngle(y, h, angle) {
  if (angle === 90 || angle === 270) {
    y -= (h / 2);
  } else if (angle > 270 || angle < 90) {
    y -= h;
  }
  return y;
}
function drawPointLabels(scale, labelCount) {
  const {ctx, options: {pointLabels}} = scale;
  for (let i = labelCount - 1; i >= 0; i--) {
    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));
    const plFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(optsAtIndex.font);
    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];
    const {backdropColor} = optsAtIndex;
    if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(backdropColor)) {
      const borderRadius = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ax)(optsAtIndex.borderRadius);
      const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
      ctx.fillStyle = backdropColor;
      const backdropLeft = left - padding.left;
      const backdropTop = top - padding.top;
      const backdropWidth = right - left + padding.width;
      const backdropHeight = bottom - top + padding.height;
      if (Object.values(borderRadius).some(v => v !== 0)) {
        ctx.beginPath();
        (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.av)(ctx, {
          x: backdropLeft,
          y: backdropTop,
          w: backdropWidth,
          h: backdropHeight,
          radius: borderRadius,
        });
        ctx.fill();
      } else {
        ctx.fillRect(backdropLeft, backdropTop, backdropWidth, backdropHeight);
      }
    }
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(
      ctx,
      scale._pointLabels[i],
      x,
      y + (plFont.lineHeight / 2),
      plFont,
      {
        color: optsAtIndex.color,
        textAlign: textAlign,
        textBaseline: 'middle'
      }
    );
  }
}
function pathRadiusLine(scale, radius, circular, labelCount) {
  const {ctx} = scale;
  if (circular) {
    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T);
  } else {
    let pointPosition = scale.getPointPosition(0, radius);
    ctx.moveTo(pointPosition.x, pointPosition.y);
    for (let i = 1; i < labelCount; i++) {
      pointPosition = scale.getPointPosition(i, radius);
      ctx.lineTo(pointPosition.x, pointPosition.y);
    }
  }
}
function drawRadiusLine(scale, gridLineOpts, radius, labelCount) {
  const ctx = scale.ctx;
  const circular = gridLineOpts.circular;
  const {color, lineWidth} = gridLineOpts;
  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {
    return;
  }
  ctx.save();
  ctx.strokeStyle = color;
  ctx.lineWidth = lineWidth;
  ctx.setLineDash(gridLineOpts.borderDash);
  ctx.lineDashOffset = gridLineOpts.borderDashOffset;
  ctx.beginPath();
  pathRadiusLine(scale, radius, circular, labelCount);
  ctx.closePath();
  ctx.stroke();
  ctx.restore();
}
function createPointLabelContext(parent, index, label) {
  return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.h)(parent, {
    label,
    index,
    type: 'pointLabel'
  });
}
class RadialLinearScale extends LinearScaleBase {
  constructor(cfg) {
    super(cfg);
    this.xCenter = undefined;
    this.yCenter = undefined;
    this.drawingArea = undefined;
    this._pointLabels = [];
    this._pointLabelItems = [];
  }
  setDimensions() {
    const padding = this._padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(getTickBackdropHeight(this.options) / 2);
    const w = this.width = this.maxWidth - padding.width;
    const h = this.height = this.maxHeight - padding.height;
    this.xCenter = Math.floor(this.left + w / 2 + padding.left);
    this.yCenter = Math.floor(this.top + h / 2 + padding.top);
    this.drawingArea = Math.floor(Math.min(w, h) / 2);
  }
  determineDataLimits() {
    const {min, max} = this.getMinMax(false);
    this.min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) && !isNaN(min) ? min : 0;
    this.max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) && !isNaN(max) ? max : 0;
    this.handleTickRangeOptions();
  }
  computeTickLimit() {
    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));
  }
  generateTickLabels(ticks) {
    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);
    this._pointLabels = this.getLabels()
      .map((value, index) => {
        const label = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(this.options.pointLabels.callback, [value, index], this);
        return label || label === 0 ? label : '';
      })
      .filter((v, i) => this.chart.getDataVisibility(i));
  }
  fit() {
    const opts = this.options;
    if (opts.display && opts.pointLabels.display) {
      fitWithPointLabels(this);
    } else {
      this.setCenterPoint(0, 0, 0, 0);
    }
  }
  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {
    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);
    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);
    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));
  }
  getIndexAngle(index) {
    const angleMultiplier = _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.T / (this._pointLabels.length || 1);
    const startAngle = this.options.startAngle || 0;
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.az)(index * angleMultiplier + (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(startAngle));
  }
  getDistanceFromCenterForValue(value) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(value)) {
      return NaN;
    }
    const scalingFactor = this.drawingArea / (this.max - this.min);
    if (this.options.reverse) {
      return (this.max - value) * scalingFactor;
    }
    return (value - this.min) * scalingFactor;
  }
  getValueForDistanceFromCenter(distance) {
    if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(distance)) {
      return NaN;
    }
    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));
    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;
  }
  getPointLabelContext(index) {
    const pointLabels = this._pointLabels || [];
    if (index >= 0 && index < pointLabels.length) {
      const pointLabel = pointLabels[index];
      return createPointLabelContext(this.getContext(), index, pointLabel);
    }
  }
  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {
    const angle = this.getIndexAngle(index) - _chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.H + additionalAngle;
    return {
      x: Math.cos(angle) * distanceFromCenter + this.xCenter,
      y: Math.sin(angle) * distanceFromCenter + this.yCenter,
      angle
    };
  }
  getPointPositionForValue(index, value) {
    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));
  }
  getBasePosition(index) {
    return this.getPointPositionForValue(index || 0, this.getBaseValue());
  }
  getPointLabelPosition(index) {
    const {left, top, right, bottom} = this._pointLabelItems[index];
    return {
      left,
      top,
      right,
      bottom,
    };
  }
  drawBackground() {
    const {backgroundColor, grid: {circular}} = this.options;
    if (backgroundColor) {
      const ctx = this.ctx;
      ctx.save();
      ctx.beginPath();
      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);
      ctx.closePath();
      ctx.fillStyle = backgroundColor;
      ctx.fill();
      ctx.restore();
    }
  }
  drawGrid() {
    const ctx = this.ctx;
    const opts = this.options;
    const {angleLines, grid} = opts;
    const labelCount = this._pointLabels.length;
    let i, offset, position;
    if (opts.pointLabels.display) {
      drawPointLabels(this, labelCount);
    }
    if (grid.display) {
      this.ticks.forEach((tick, index) => {
        if (index !== 0) {
          offset = this.getDistanceFromCenterForValue(tick.value);
          const optsAtIndex = grid.setContext(this.getContext(index - 1));
          drawRadiusLine(this, optsAtIndex, offset, labelCount);
        }
      });
    }
    if (angleLines.display) {
      ctx.save();
      for (i = labelCount - 1; i >= 0; i--) {
        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));
        const {color, lineWidth} = optsAtIndex;
        if (!lineWidth || !color) {
          continue;
        }
        ctx.lineWidth = lineWidth;
        ctx.strokeStyle = color;
        ctx.setLineDash(optsAtIndex.borderDash);
        ctx.lineDashOffset = optsAtIndex.borderDashOffset;
        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);
        position = this.getPointPosition(i, offset);
        ctx.beginPath();
        ctx.moveTo(this.xCenter, this.yCenter);
        ctx.lineTo(position.x, position.y);
        ctx.stroke();
      }
      ctx.restore();
    }
  }
  drawBorder() {}
  drawLabels() {
    const ctx = this.ctx;
    const opts = this.options;
    const tickOpts = opts.ticks;
    if (!tickOpts.display) {
      return;
    }
    const startAngle = this.getIndexAngle(0);
    let offset, width;
    ctx.save();
    ctx.translate(this.xCenter, this.yCenter);
    ctx.rotate(startAngle);
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    this.ticks.forEach((tick, index) => {
      if (index === 0 && !opts.reverse) {
        return;
      }
      const optsAtIndex = tickOpts.setContext(this.getContext(index));
      const tickFont = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(optsAtIndex.font);
      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);
      if (optsAtIndex.showLabelBackdrop) {
        ctx.font = tickFont.string;
        width = ctx.measureText(tick.label).width;
        ctx.fillStyle = optsAtIndex.backdropColor;
        const padding = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(optsAtIndex.backdropPadding);
        ctx.fillRect(
          -width / 2 - padding.left,
          -offset - tickFont.size / 2 - padding.top,
          width + padding.width,
          tickFont.size + padding.height
        );
      }
      (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.M)(ctx, tick.label, 0, -offset, tickFont, {
        color: optsAtIndex.color,
      });
    });
    ctx.restore();
  }
  drawTitle() {}
}
RadialLinearScale.id = 'radialLinear';
RadialLinearScale.defaults = {
  display: true,
  animate: true,
  position: 'chartArea',
  angleLines: {
    display: true,
    lineWidth: 1,
    borderDash: [],
    borderDashOffset: 0.0
  },
  grid: {
    circular: false
  },
  startAngle: 0,
  ticks: {
    showLabelBackdrop: true,
    callback: Ticks.formatters.numeric
  },
  pointLabels: {
    backdropColor: undefined,
    backdropPadding: 2,
    display: true,
    font: {
      size: 10
    },
    callback(label) {
      return label;
    },
    padding: 5,
    centerPointLabels: false
  }
};
RadialLinearScale.defaultRoutes = {
  'angleLines.color': 'borderColor',
  'pointLabels.color': 'color',
  'ticks.color': 'color'
};
RadialLinearScale.descriptors = {
  angleLines: {
    _fallback: 'grid'
  }
};

const INTERVALS = {
  millisecond: {common: true, size: 1, steps: 1000},
  second: {common: true, size: 1000, steps: 60},
  minute: {common: true, size: 60000, steps: 60},
  hour: {common: true, size: 3600000, steps: 24},
  day: {common: true, size: 86400000, steps: 30},
  week: {common: false, size: 604800000, steps: 4},
  month: {common: true, size: 2.628e9, steps: 12},
  quarter: {common: false, size: 7.884e9, steps: 4},
  year: {common: true, size: 3.154e10}
};
const UNITS = (Object.keys(INTERVALS));
function sorter(a, b) {
  return a - b;
}
function parse(scale, input) {
  if ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.k)(input)) {
    return null;
  }
  const adapter = scale._adapter;
  const {parser, round, isoWeekday} = scale._parseOpts;
  let value = input;
  if (typeof parser === 'function') {
    value = parser(value);
  }
  if (!(0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(value)) {
    value = typeof parser === 'string'
      ? adapter.parse(value, parser)
      : adapter.parse(value);
  }
  if (value === null) {
    return null;
  }
  if (round) {
    value = round === 'week' && ((0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(isoWeekday) || isoWeekday === true)
      ? adapter.startOf(value, 'isoWeek', isoWeekday)
      : adapter.startOf(value, round);
  }
  return +value;
}
function determineUnitForAutoTicks(minUnit, min, max, capacity) {
  const ilen = UNITS.length;
  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {
    const interval = INTERVALS[UNITS[i]];
    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;
    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {
      return UNITS[i];
    }
  }
  return UNITS[ilen - 1];
}
function determineUnitForFormatting(scale, numTicks, minUnit, min, max) {
  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {
    const unit = UNITS[i];
    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {
      return unit;
    }
  }
  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];
}
function determineMajorUnit(unit) {
  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {
    if (INTERVALS[UNITS[i]].common) {
      return UNITS[i];
    }
  }
}
function addTick(ticks, time, timestamps) {
  if (!timestamps) {
    ticks[time] = true;
  } else if (timestamps.length) {
    const {lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aO)(timestamps, time);
    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];
    ticks[timestamp] = true;
  }
}
function setMajorTicks(scale, ticks, map, majorUnit) {
  const adapter = scale._adapter;
  const first = +adapter.startOf(ticks[0].value, majorUnit);
  const last = ticks[ticks.length - 1].value;
  let major, index;
  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {
    index = map[major];
    if (index >= 0) {
      ticks[index].major = true;
    }
  }
  return ticks;
}
function ticksFromTimestamps(scale, values, majorUnit) {
  const ticks = [];
  const map = {};
  const ilen = values.length;
  let i, value;
  for (i = 0; i < ilen; ++i) {
    value = values[i];
    map[value] = i;
    ticks.push({
      value,
      major: false
    });
  }
  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);
}
class TimeScale extends Scale {
  constructor(props) {
    super(props);
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
    this._unit = 'day';
    this._majorUnit = undefined;
    this._offsets = {};
    this._normalized = false;
    this._parseOpts = undefined;
  }
  init(scaleOpts, opts) {
    const time = scaleOpts.time || (scaleOpts.time = {});
    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);
    adapter.init(opts);
    (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.ac)(time.displayFormats, adapter.formats());
    this._parseOpts = {
      parser: time.parser,
      round: time.round,
      isoWeekday: time.isoWeekday
    };
    super.init(scaleOpts);
    this._normalized = opts.normalized;
  }
  parse(raw, index) {
    if (raw === undefined) {
      return null;
    }
    return parse(this, raw);
  }
  beforeLayout() {
    super.beforeLayout();
    this._cache = {
      data: [],
      labels: [],
      all: []
    };
  }
  determineDataLimits() {
    const options = this.options;
    const adapter = this._adapter;
    const unit = options.time.unit || 'day';
    let {min, max, minDefined, maxDefined} = this.getUserBounds();
    function _applyBounds(bounds) {
      if (!minDefined && !isNaN(bounds.min)) {
        min = Math.min(min, bounds.min);
      }
      if (!maxDefined && !isNaN(bounds.max)) {
        max = Math.max(max, bounds.max);
      }
    }
    if (!minDefined || !maxDefined) {
      _applyBounds(this._getLabelBounds());
      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {
        _applyBounds(this.getMinMax(false));
      }
    }
    min = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);
    max = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;
    this.min = Math.min(min, max - 1);
    this.max = Math.max(min + 1, max);
  }
  _getLabelBounds() {
    const arr = this.getLabelTimestamps();
    let min = Number.POSITIVE_INFINITY;
    let max = Number.NEGATIVE_INFINITY;
    if (arr.length) {
      min = arr[0];
      max = arr[arr.length - 1];
    }
    return {min, max};
  }
  buildTicks() {
    const options = this.options;
    const timeOpts = options.time;
    const tickOpts = options.ticks;
    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();
    if (options.bounds === 'ticks' && timestamps.length) {
      this.min = this._userMin || timestamps[0];
      this.max = this._userMax || timestamps[timestamps.length - 1];
    }
    const min = this.min;
    const max = this.max;
    const ticks = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.aN)(timestamps, min, max);
    this._unit = timeOpts.unit || (tickOpts.autoSkip
      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))
      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));
    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined
      : determineMajorUnit(this._unit);
    this.initOffsets(timestamps);
    if (options.reverse) {
      ticks.reverse();
    }
    return ticksFromTimestamps(this, ticks, this._majorUnit);
  }
  afterAutoSkip() {
    if (this.options.offsetAfterAutoskip) {
      this.initOffsets(this.ticks.map(tick => +tick.value));
    }
  }
  initOffsets(timestamps) {
    let start = 0;
    let end = 0;
    let first, last;
    if (this.options.offset && timestamps.length) {
      first = this.getDecimalForValue(timestamps[0]);
      if (timestamps.length === 1) {
        start = 1 - first;
      } else {
        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;
      }
      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);
      if (timestamps.length === 1) {
        end = last;
      } else {
        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;
      }
    }
    const limit = timestamps.length < 3 ? 0.5 : 0.25;
    start = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(start, 0, limit);
    end = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(end, 0, limit);
    this._offsets = {start, end, factor: 1 / (start + 1 + end)};
  }
  _generate() {
    const adapter = this._adapter;
    const min = this.min;
    const max = this.max;
    const options = this.options;
    const timeOpts = options.time;
    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));
    const stepSize = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.v)(timeOpts.stepSize, 1);
    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;
    const hasWeekday = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.x)(weekday) || weekday === true;
    const ticks = {};
    let first = min;
    let time, count;
    if (hasWeekday) {
      first = +adapter.startOf(first, 'isoWeek', weekday);
    }
    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);
    if (adapter.diff(max, min, minor) > 100000 * stepSize) {
      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);
    }
    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();
    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {
      addTick(ticks, time, timestamps);
    }
    if (time === max || options.bounds === 'ticks' || count === 1) {
      addTick(ticks, time, timestamps);
    }
    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);
  }
  getLabelForValue(value) {
    const adapter = this._adapter;
    const timeOpts = this.options.time;
    if (timeOpts.tooltipFormat) {
      return adapter.format(value, timeOpts.tooltipFormat);
    }
    return adapter.format(value, timeOpts.displayFormats.datetime);
  }
  _tickFormatFunction(time, index, ticks, format) {
    const options = this.options;
    const formats = options.time.displayFormats;
    const unit = this._unit;
    const majorUnit = this._majorUnit;
    const minorFormat = unit && formats[unit];
    const majorFormat = majorUnit && formats[majorUnit];
    const tick = ticks[index];
    const major = majorUnit && majorFormat && tick && tick.major;
    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));
    const formatter = options.ticks.callback;
    return formatter ? (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.C)(formatter, [label, index, ticks], this) : label;
  }
  generateTickLabels(ticks) {
    let i, ilen, tick;
    for (i = 0, ilen = ticks.length; i < ilen; ++i) {
      tick = ticks[i];
      tick.label = this._tickFormatFunction(tick.value, i, ticks);
    }
  }
  getDecimalForValue(value) {
    return value === null ? NaN : (value - this.min) / (this.max - this.min);
  }
  getPixelForValue(value) {
    const offsets = this._offsets;
    const pos = this.getDecimalForValue(value);
    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return this.min + pos * (this.max - this.min);
  }
  _getLabelSize(label) {
    const ticksOpts = this.options.ticks;
    const tickLabelWidth = this.ctx.measureText(label).width;
    const angle = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.t)(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);
    const cosRotation = Math.cos(angle);
    const sinRotation = Math.sin(angle);
    const tickFontSize = this._resolveTickFontOptions(0).size;
    return {
      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),
      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)
    };
  }
  _getLabelCapacity(exampleTime) {
    const timeOpts = this.options.time;
    const displayFormats = timeOpts.displayFormats;
    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;
    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);
    const size = this._getLabelSize(exampleLabel);
    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;
    return capacity > 0 ? capacity : 1;
  }
  getDataTimestamps() {
    let timestamps = this._cache.data || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const metas = this.getMatchingVisibleMetas();
    if (this._normalized && metas.length) {
      return (this._cache.data = metas[0].controller.getAllParsedValues(this));
    }
    for (i = 0, ilen = metas.length; i < ilen; ++i) {
      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));
    }
    return (this._cache.data = this.normalize(timestamps));
  }
  getLabelTimestamps() {
    const timestamps = this._cache.labels || [];
    let i, ilen;
    if (timestamps.length) {
      return timestamps;
    }
    const labels = this.getLabels();
    for (i = 0, ilen = labels.length; i < ilen; ++i) {
      timestamps.push(parse(this, labels[i]));
    }
    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));
  }
  normalize(values) {
    return (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__._)(values.sort(sorter));
  }
}
TimeScale.id = 'time';
TimeScale.defaults = {
  bounds: 'data',
  adapters: {},
  time: {
    parser: false,
    unit: false,
    round: false,
    isoWeekday: false,
    minUnit: 'millisecond',
    displayFormats: {}
  },
  ticks: {
    source: 'auto',
    major: {
      enabled: false
    }
  }
};

function interpolate(table, val, reverse) {
  let lo = 0;
  let hi = table.length - 1;
  let prevSource, nextSource, prevTarget, nextTarget;
  if (reverse) {
    if (val >= table[lo].pos && val <= table[hi].pos) {
      ({lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(table, 'pos', val));
    }
    ({pos: prevSource, time: prevTarget} = table[lo]);
    ({pos: nextSource, time: nextTarget} = table[hi]);
  } else {
    if (val >= table[lo].time && val <= table[hi].time) {
      ({lo, hi} = (0,_chunks_helpers_segment_mjs__WEBPACK_IMPORTED_MODULE_0__.Z)(table, 'time', val));
    }
    ({time: prevSource, pos: prevTarget} = table[lo]);
    ({time: nextSource, pos: nextTarget} = table[hi]);
  }
  const span = nextSource - prevSource;
  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;
}
class TimeSeriesScale extends TimeScale {
  constructor(props) {
    super(props);
    this._table = [];
    this._minPos = undefined;
    this._tableRange = undefined;
  }
  initOffsets() {
    const timestamps = this._getTimestampsForTable();
    const table = this._table = this.buildLookupTable(timestamps);
    this._minPos = interpolate(table, this.min);
    this._tableRange = interpolate(table, this.max) - this._minPos;
    super.initOffsets(timestamps);
  }
  buildLookupTable(timestamps) {
    const {min, max} = this;
    const items = [];
    const table = [];
    let i, ilen, prev, curr, next;
    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {
      curr = timestamps[i];
      if (curr >= min && curr <= max) {
        items.push(curr);
      }
    }
    if (items.length < 2) {
      return [
        {time: min, pos: 0},
        {time: max, pos: 1}
      ];
    }
    for (i = 0, ilen = items.length; i < ilen; ++i) {
      next = items[i + 1];
      prev = items[i - 1];
      curr = items[i];
      if (Math.round((next + prev) / 2) !== curr) {
        table.push({time: curr, pos: i / (ilen - 1)});
      }
    }
    return table;
  }
  _getTimestampsForTable() {
    let timestamps = this._cache.all || [];
    if (timestamps.length) {
      return timestamps;
    }
    const data = this.getDataTimestamps();
    const label = this.getLabelTimestamps();
    if (data.length && label.length) {
      timestamps = this.normalize(data.concat(label));
    } else {
      timestamps = data.length ? data : label;
    }
    timestamps = this._cache.all = timestamps;
    return timestamps;
  }
  getDecimalForValue(value) {
    return (interpolate(this._table, value) - this._minPos) / this._tableRange;
  }
  getValueForPixel(pixel) {
    const offsets = this._offsets;
    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;
    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);
  }
}
TimeSeriesScale.id = 'timeseries';
TimeSeriesScale.defaults = TimeScale.defaults;

var scales = /*#__PURE__*/Object.freeze({
__proto__: null,
CategoryScale: CategoryScale,
LinearScale: LinearScale,
LogarithmicScale: LogarithmicScale,
RadialLinearScale: RadialLinearScale,
TimeScale: TimeScale,
TimeSeriesScale: TimeSeriesScale
});

const registerables = [
  controllers,
  elements,
  plugins,
  scales,
];




/***/ }),

/***/ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\node_modules\\chart.js\\dist\\chunks\\helpers.segment.mjs":
/*!*****************************************************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\node_modules\chart.js\dist\chunks\helpers.segment.mjs ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "$": () => (/* binding */ _isPointInArea),
/* harmony export */   "A": () => (/* binding */ _factorize),
/* harmony export */   "B": () => (/* binding */ finiteOrDefault),
/* harmony export */   "C": () => (/* binding */ callback),
/* harmony export */   "D": () => (/* binding */ _addGrace),
/* harmony export */   "E": () => (/* binding */ _limitValue),
/* harmony export */   "F": () => (/* binding */ toDegrees),
/* harmony export */   "G": () => (/* binding */ _measureText),
/* harmony export */   "H": () => (/* binding */ HALF_PI),
/* harmony export */   "I": () => (/* binding */ _int16Range),
/* harmony export */   "J": () => (/* binding */ _alignPixel),
/* harmony export */   "K": () => (/* binding */ toPadding),
/* harmony export */   "L": () => (/* binding */ clipArea),
/* harmony export */   "M": () => (/* binding */ renderText),
/* harmony export */   "N": () => (/* binding */ unclipArea),
/* harmony export */   "O": () => (/* binding */ toFont),
/* harmony export */   "P": () => (/* binding */ PI),
/* harmony export */   "Q": () => (/* binding */ each),
/* harmony export */   "R": () => (/* binding */ _toLeftRightCenter),
/* harmony export */   "S": () => (/* binding */ _alignStartEnd),
/* harmony export */   "T": () => (/* binding */ TAU),
/* harmony export */   "U": () => (/* binding */ overrides),
/* harmony export */   "V": () => (/* binding */ merge),
/* harmony export */   "W": () => (/* binding */ _capitalize),
/* harmony export */   "X": () => (/* binding */ getRelativePosition),
/* harmony export */   "Y": () => (/* binding */ _rlookupByKey),
/* harmony export */   "Z": () => (/* binding */ _lookupByKey),
/* harmony export */   "_": () => (/* binding */ _arrayUnique),
/* harmony export */   "a": () => (/* binding */ resolve),
/* harmony export */   "a$": () => (/* binding */ toLineHeight),
/* harmony export */   "a0": () => (/* binding */ getAngleFromPoint),
/* harmony export */   "a1": () => (/* binding */ getMaximumSize),
/* harmony export */   "a2": () => (/* binding */ _getParentNode),
/* harmony export */   "a3": () => (/* binding */ readUsedSize),
/* harmony export */   "a4": () => (/* binding */ throttled),
/* harmony export */   "a5": () => (/* binding */ supportsEventListenerOptions),
/* harmony export */   "a6": () => (/* binding */ _isDomSupported),
/* harmony export */   "a7": () => (/* binding */ descriptors),
/* harmony export */   "a8": () => (/* binding */ isFunction),
/* harmony export */   "a9": () => (/* binding */ _attachContext),
/* harmony export */   "aA": () => (/* binding */ getRtlAdapter),
/* harmony export */   "aB": () => (/* binding */ overrideTextDirection),
/* harmony export */   "aC": () => (/* binding */ _textX),
/* harmony export */   "aD": () => (/* binding */ restoreTextDirection),
/* harmony export */   "aE": () => (/* binding */ drawPointLegend),
/* harmony export */   "aF": () => (/* binding */ noop),
/* harmony export */   "aG": () => (/* binding */ distanceBetweenPoints),
/* harmony export */   "aH": () => (/* binding */ _setMinAndMaxByKey),
/* harmony export */   "aI": () => (/* binding */ niceNum),
/* harmony export */   "aJ": () => (/* binding */ almostWhole),
/* harmony export */   "aK": () => (/* binding */ almostEquals),
/* harmony export */   "aL": () => (/* binding */ _decimalPlaces),
/* harmony export */   "aM": () => (/* binding */ _longestText),
/* harmony export */   "aN": () => (/* binding */ _filterBetween),
/* harmony export */   "aO": () => (/* binding */ _lookup),
/* harmony export */   "aP": () => (/* binding */ isPatternOrGradient),
/* harmony export */   "aQ": () => (/* binding */ getHoverColor),
/* harmony export */   "aR": () => (/* binding */ clone$1),
/* harmony export */   "aS": () => (/* binding */ _merger),
/* harmony export */   "aT": () => (/* binding */ _mergerIf),
/* harmony export */   "aU": () => (/* binding */ _deprecated),
/* harmony export */   "aV": () => (/* binding */ _splitKey),
/* harmony export */   "aW": () => (/* binding */ toFontString),
/* harmony export */   "aX": () => (/* binding */ splineCurve),
/* harmony export */   "aY": () => (/* binding */ splineCurveMonotone),
/* harmony export */   "aZ": () => (/* binding */ getStyle),
/* harmony export */   "a_": () => (/* binding */ fontString),
/* harmony export */   "aa": () => (/* binding */ _createResolver),
/* harmony export */   "ab": () => (/* binding */ _descriptors),
/* harmony export */   "ac": () => (/* binding */ mergeIf),
/* harmony export */   "ad": () => (/* binding */ uid),
/* harmony export */   "ae": () => (/* binding */ debounce),
/* harmony export */   "af": () => (/* binding */ retinaScale),
/* harmony export */   "ag": () => (/* binding */ clearCanvas),
/* harmony export */   "ah": () => (/* binding */ setsEqual),
/* harmony export */   "ai": () => (/* binding */ _elementsEqual),
/* harmony export */   "aj": () => (/* binding */ _isClickEvent),
/* harmony export */   "ak": () => (/* binding */ _isBetween),
/* harmony export */   "al": () => (/* binding */ _readValueToProps),
/* harmony export */   "am": () => (/* binding */ _updateBezierControlPoints),
/* harmony export */   "an": () => (/* binding */ _computeSegments),
/* harmony export */   "ao": () => (/* binding */ _boundSegments),
/* harmony export */   "ap": () => (/* binding */ _steppedInterpolation),
/* harmony export */   "aq": () => (/* binding */ _bezierInterpolation),
/* harmony export */   "ar": () => (/* binding */ _pointInLine),
/* harmony export */   "as": () => (/* binding */ _steppedLineTo),
/* harmony export */   "at": () => (/* binding */ _bezierCurveTo),
/* harmony export */   "au": () => (/* binding */ drawPoint),
/* harmony export */   "av": () => (/* binding */ addRoundedRectPath),
/* harmony export */   "aw": () => (/* binding */ toTRBL),
/* harmony export */   "ax": () => (/* binding */ toTRBLCorners),
/* harmony export */   "ay": () => (/* binding */ _boundSegment),
/* harmony export */   "az": () => (/* binding */ _normalizeAngle),
/* harmony export */   "b": () => (/* binding */ isArray),
/* harmony export */   "b0": () => (/* binding */ PITAU),
/* harmony export */   "b1": () => (/* binding */ INFINITY),
/* harmony export */   "b2": () => (/* binding */ RAD_PER_DEG),
/* harmony export */   "b3": () => (/* binding */ QUARTER_PI),
/* harmony export */   "b4": () => (/* binding */ TWO_THIRDS_PI),
/* harmony export */   "b5": () => (/* binding */ _angleDiff),
/* harmony export */   "c": () => (/* binding */ color),
/* harmony export */   "d": () => (/* binding */ defaults),
/* harmony export */   "e": () => (/* binding */ effects),
/* harmony export */   "f": () => (/* binding */ resolveObjectKey),
/* harmony export */   "g": () => (/* binding */ isNumberFinite),
/* harmony export */   "h": () => (/* binding */ createContext),
/* harmony export */   "i": () => (/* binding */ isObject),
/* harmony export */   "j": () => (/* binding */ defined),
/* harmony export */   "k": () => (/* binding */ isNullOrUndef),
/* harmony export */   "l": () => (/* binding */ listenArrayEvents),
/* harmony export */   "m": () => (/* binding */ toPercentage),
/* harmony export */   "n": () => (/* binding */ toDimension),
/* harmony export */   "o": () => (/* binding */ formatNumber),
/* harmony export */   "p": () => (/* binding */ _angleBetween),
/* harmony export */   "q": () => (/* binding */ _getStartAndCountOfVisiblePoints),
/* harmony export */   "r": () => (/* binding */ requestAnimFrame),
/* harmony export */   "s": () => (/* binding */ sign),
/* harmony export */   "t": () => (/* binding */ toRadians),
/* harmony export */   "u": () => (/* binding */ unlistenArrayEvents),
/* harmony export */   "v": () => (/* binding */ valueOrDefault),
/* harmony export */   "w": () => (/* binding */ _scaleRangesChanged),
/* harmony export */   "x": () => (/* binding */ isNumber),
/* harmony export */   "y": () => (/* binding */ _parseObjectDataRadialScale),
/* harmony export */   "z": () => (/* binding */ log10)
/* harmony export */ });
/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function noop() {}
const uid = (function() {
  let id = 0;
  return function() {
    return id++;
  };
}());
function isNullOrUndef(value) {
  return value === null || typeof value === 'undefined';
}
function isArray(value) {
  if (Array.isArray && Array.isArray(value)) {
    return true;
  }
  const type = Object.prototype.toString.call(value);
  if (type.slice(0, 7) === '[object' && type.slice(-6) === 'Array]') {
    return true;
  }
  return false;
}
function isObject(value) {
  return value !== null && Object.prototype.toString.call(value) === '[object Object]';
}
const isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);
function finiteOrDefault(value, defaultValue) {
  return isNumberFinite(value) ? value : defaultValue;
}
function valueOrDefault(value, defaultValue) {
  return typeof value === 'undefined' ? defaultValue : value;
}
const toPercentage = (value, dimension) =>
  typeof value === 'string' && value.endsWith('%') ?
    parseFloat(value) / 100
    : value / dimension;
const toDimension = (value, dimension) =>
  typeof value === 'string' && value.endsWith('%') ?
    parseFloat(value) / 100 * dimension
    : +value;
function callback(fn, args, thisArg) {
  if (fn && typeof fn.call === 'function') {
    return fn.apply(thisArg, args);
  }
}
function each(loopable, fn, thisArg, reverse) {
  let i, len, keys;
  if (isArray(loopable)) {
    len = loopable.length;
    if (reverse) {
      for (i = len - 1; i >= 0; i--) {
        fn.call(thisArg, loopable[i], i);
      }
    } else {
      for (i = 0; i < len; i++) {
        fn.call(thisArg, loopable[i], i);
      }
    }
  } else if (isObject(loopable)) {
    keys = Object.keys(loopable);
    len = keys.length;
    for (i = 0; i < len; i++) {
      fn.call(thisArg, loopable[keys[i]], keys[i]);
    }
  }
}
function _elementsEqual(a0, a1) {
  let i, ilen, v0, v1;
  if (!a0 || !a1 || a0.length !== a1.length) {
    return false;
  }
  for (i = 0, ilen = a0.length; i < ilen; ++i) {
    v0 = a0[i];
    v1 = a1[i];
    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {
      return false;
    }
  }
  return true;
}
function clone$1(source) {
  if (isArray(source)) {
    return source.map(clone$1);
  }
  if (isObject(source)) {
    const target = Object.create(null);
    const keys = Object.keys(source);
    const klen = keys.length;
    let k = 0;
    for (; k < klen; ++k) {
      target[keys[k]] = clone$1(source[keys[k]]);
    }
    return target;
  }
  return source;
}
function isValidKey(key) {
  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;
}
function _merger(key, target, source, options) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    merge(tval, sval, options);
  } else {
    target[key] = clone$1(sval);
  }
}
function merge(target, source, options) {
  const sources = isArray(source) ? source : [source];
  const ilen = sources.length;
  if (!isObject(target)) {
    return target;
  }
  options = options || {};
  const merger = options.merger || _merger;
  for (let i = 0; i < ilen; ++i) {
    source = sources[i];
    if (!isObject(source)) {
      continue;
    }
    const keys = Object.keys(source);
    for (let k = 0, klen = keys.length; k < klen; ++k) {
      merger(keys[k], target, source, options);
    }
  }
  return target;
}
function mergeIf(target, source) {
  return merge(target, source, {merger: _mergerIf});
}
function _mergerIf(key, target, source) {
  if (!isValidKey(key)) {
    return;
  }
  const tval = target[key];
  const sval = source[key];
  if (isObject(tval) && isObject(sval)) {
    mergeIf(tval, sval);
  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {
    target[key] = clone$1(sval);
  }
}
function _deprecated(scope, value, previous, current) {
  if (value !== undefined) {
    console.warn(scope + ': "' + previous +
			'" is deprecated. Please use "' + current + '" instead');
  }
}
const keyResolvers = {
  '': v => v,
  x: o => o.x,
  y: o => o.y
};
function resolveObjectKey(obj, key) {
  const resolver = keyResolvers[key] || (keyResolvers[key] = _getKeyResolver(key));
  return resolver(obj);
}
function _getKeyResolver(key) {
  const keys = _splitKey(key);
  return obj => {
    for (const k of keys) {
      if (k === '') {
        break;
      }
      obj = obj && obj[k];
    }
    return obj;
  };
}
function _splitKey(key) {
  const parts = key.split('.');
  const keys = [];
  let tmp = '';
  for (const part of parts) {
    tmp += part;
    if (tmp.endsWith('\\')) {
      tmp = tmp.slice(0, -1) + '.';
    } else {
      keys.push(tmp);
      tmp = '';
    }
  }
  return keys;
}
function _capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
const defined = (value) => typeof value !== 'undefined';
const isFunction = (value) => typeof value === 'function';
const setsEqual = (a, b) => {
  if (a.size !== b.size) {
    return false;
  }
  for (const item of a) {
    if (!b.has(item)) {
      return false;
    }
  }
  return true;
};
function _isClickEvent(e) {
  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';
}

const PI = Math.PI;
const TAU = 2 * PI;
const PITAU = TAU + PI;
const INFINITY = Number.POSITIVE_INFINITY;
const RAD_PER_DEG = PI / 180;
const HALF_PI = PI / 2;
const QUARTER_PI = PI / 4;
const TWO_THIRDS_PI = PI * 2 / 3;
const log10 = Math.log10;
const sign = Math.sign;
function niceNum(range) {
  const roundedRange = Math.round(range);
  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;
  const niceRange = Math.pow(10, Math.floor(log10(range)));
  const fraction = range / niceRange;
  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;
  return niceFraction * niceRange;
}
function _factorize(value) {
  const result = [];
  const sqrt = Math.sqrt(value);
  let i;
  for (i = 1; i < sqrt; i++) {
    if (value % i === 0) {
      result.push(i);
      result.push(value / i);
    }
  }
  if (sqrt === (sqrt | 0)) {
    result.push(sqrt);
  }
  result.sort((a, b) => a - b).pop();
  return result;
}
function isNumber(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
}
function almostEquals(x, y, epsilon) {
  return Math.abs(x - y) < epsilon;
}
function almostWhole(x, epsilon) {
  const rounded = Math.round(x);
  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);
}
function _setMinAndMaxByKey(array, target, property) {
  let i, ilen, value;
  for (i = 0, ilen = array.length; i < ilen; i++) {
    value = array[i][property];
    if (!isNaN(value)) {
      target.min = Math.min(target.min, value);
      target.max = Math.max(target.max, value);
    }
  }
}
function toRadians(degrees) {
  return degrees * (PI / 180);
}
function toDegrees(radians) {
  return radians * (180 / PI);
}
function _decimalPlaces(x) {
  if (!isNumberFinite(x)) {
    return;
  }
  let e = 1;
  let p = 0;
  while (Math.round(x * e) / e !== x) {
    e *= 10;
    p++;
  }
  return p;
}
function getAngleFromPoint(centrePoint, anglePoint) {
  const distanceFromXCenter = anglePoint.x - centrePoint.x;
  const distanceFromYCenter = anglePoint.y - centrePoint.y;
  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);
  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);
  if (angle < (-0.5 * PI)) {
    angle += TAU;
  }
  return {
    angle,
    distance: radialDistanceFromCenter
  };
}
function distanceBetweenPoints(pt1, pt2) {
  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));
}
function _angleDiff(a, b) {
  return (a - b + PITAU) % TAU - PI;
}
function _normalizeAngle(a) {
  return (a % TAU + TAU) % TAU;
}
function _angleBetween(angle, start, end, sameAngleIsFullCircle) {
  const a = _normalizeAngle(angle);
  const s = _normalizeAngle(start);
  const e = _normalizeAngle(end);
  const angleToStart = _normalizeAngle(s - a);
  const angleToEnd = _normalizeAngle(e - a);
  const startToAngle = _normalizeAngle(a - s);
  const endToAngle = _normalizeAngle(a - e);
  return a === s || a === e || (sameAngleIsFullCircle && s === e)
    || (angleToStart > angleToEnd && startToAngle < endToAngle);
}
function _limitValue(value, min, max) {
  return Math.max(min, Math.min(max, value));
}
function _int16Range(value) {
  return _limitValue(value, -32768, 32767);
}
function _isBetween(value, start, end, epsilon = 1e-6) {
  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;
}

function _lookup(table, value, cmp) {
  cmp = cmp || ((index) => table[index] < value);
  let hi = table.length - 1;
  let lo = 0;
  let mid;
  while (hi - lo > 1) {
    mid = (lo + hi) >> 1;
    if (cmp(mid)) {
      lo = mid;
    } else {
      hi = mid;
    }
  }
  return {lo, hi};
}
const _lookupByKey = (table, key, value, last) =>
  _lookup(table, value, last
    ? index => table[index][key] <= value
    : index => table[index][key] < value);
const _rlookupByKey = (table, key, value) =>
  _lookup(table, value, index => table[index][key] >= value);
function _filterBetween(values, min, max) {
  let start = 0;
  let end = values.length;
  while (start < end && values[start] < min) {
    start++;
  }
  while (end > start && values[end - 1] > max) {
    end--;
  }
  return start > 0 || end < values.length
    ? values.slice(start, end)
    : values;
}
const arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];
function listenArrayEvents(array, listener) {
  if (array._chartjs) {
    array._chartjs.listeners.push(listener);
    return;
  }
  Object.defineProperty(array, '_chartjs', {
    configurable: true,
    enumerable: false,
    value: {
      listeners: [listener]
    }
  });
  arrayEvents.forEach((key) => {
    const method = '_onData' + _capitalize(key);
    const base = array[key];
    Object.defineProperty(array, key, {
      configurable: true,
      enumerable: false,
      value(...args) {
        const res = base.apply(this, args);
        array._chartjs.listeners.forEach((object) => {
          if (typeof object[method] === 'function') {
            object[method](...args);
          }
        });
        return res;
      }
    });
  });
}
function unlistenArrayEvents(array, listener) {
  const stub = array._chartjs;
  if (!stub) {
    return;
  }
  const listeners = stub.listeners;
  const index = listeners.indexOf(listener);
  if (index !== -1) {
    listeners.splice(index, 1);
  }
  if (listeners.length > 0) {
    return;
  }
  arrayEvents.forEach((key) => {
    delete array[key];
  });
  delete array._chartjs;
}
function _arrayUnique(items) {
  const set = new Set();
  let i, ilen;
  for (i = 0, ilen = items.length; i < ilen; ++i) {
    set.add(items[i]);
  }
  if (set.size === ilen) {
    return items;
  }
  return Array.from(set);
}

function fontString(pixelSize, fontStyle, fontFamily) {
  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;
}
const requestAnimFrame = (function() {
  if (typeof window === 'undefined') {
    return function(callback) {
      return callback();
    };
  }
  return window.requestAnimationFrame;
}());
function throttled(fn, thisArg, updateFn) {
  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));
  let ticking = false;
  let args = [];
  return function(...rest) {
    args = updateArgs(rest);
    if (!ticking) {
      ticking = true;
      requestAnimFrame.call(window, () => {
        ticking = false;
        fn.apply(thisArg, args);
      });
    }
  };
}
function debounce(fn, delay) {
  let timeout;
  return function(...args) {
    if (delay) {
      clearTimeout(timeout);
      timeout = setTimeout(fn, delay, args);
    } else {
      fn.apply(this, args);
    }
    return delay;
  };
}
const _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';
const _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;
const _textX = (align, left, right, rtl) => {
  const check = rtl ? 'left' : 'right';
  return align === check ? right : align === 'center' ? (left + right) / 2 : left;
};
function _getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {
  const pointCount = points.length;
  let start = 0;
  let count = pointCount;
  if (meta._sorted) {
    const {iScale, _parsed} = meta;
    const axis = iScale.axis;
    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();
    if (minDefined) {
      start = _limitValue(Math.min(
        _lookupByKey(_parsed, iScale.axis, min).lo,
        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),
      0, pointCount - 1);
    }
    if (maxDefined) {
      count = _limitValue(Math.max(
        _lookupByKey(_parsed, iScale.axis, max, true).hi + 1,
        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max), true).hi + 1),
      start, pointCount) - start;
    } else {
      count = pointCount - start;
    }
  }
  return {start, count};
}
function _scaleRangesChanged(meta) {
  const {xScale, yScale, _scaleRanges} = meta;
  const newRanges = {
    xmin: xScale.min,
    xmax: xScale.max,
    ymin: yScale.min,
    ymax: yScale.max
  };
  if (!_scaleRanges) {
    meta._scaleRanges = newRanges;
    return true;
  }
  const changed = _scaleRanges.xmin !== xScale.min
		|| _scaleRanges.xmax !== xScale.max
		|| _scaleRanges.ymin !== yScale.min
		|| _scaleRanges.ymax !== yScale.max;
  Object.assign(_scaleRanges, newRanges);
  return changed;
}

const atEdge = (t) => t === 0 || t === 1;
const elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));
const elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;
const effects = {
  linear: t => t,
  easeInQuad: t => t * t,
  easeOutQuad: t => -t * (t - 2),
  easeInOutQuad: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t
    : -0.5 * ((--t) * (t - 2) - 1),
  easeInCubic: t => t * t * t,
  easeOutCubic: t => (t -= 1) * t * t + 1,
  easeInOutCubic: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t
    : 0.5 * ((t -= 2) * t * t + 2),
  easeInQuart: t => t * t * t * t,
  easeOutQuart: t => -((t -= 1) * t * t * t - 1),
  easeInOutQuart: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t * t
    : -0.5 * ((t -= 2) * t * t * t - 2),
  easeInQuint: t => t * t * t * t * t,
  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,
  easeInOutQuint: t => ((t /= 0.5) < 1)
    ? 0.5 * t * t * t * t * t
    : 0.5 * ((t -= 2) * t * t * t * t + 2),
  easeInSine: t => -Math.cos(t * HALF_PI) + 1,
  easeOutSine: t => Math.sin(t * HALF_PI),
  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),
  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),
  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,
  easeInOutExpo: t => atEdge(t) ? t : t < 0.5
    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))
    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),
  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),
  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),
  easeInOutCirc: t => ((t /= 0.5) < 1)
    ? -0.5 * (Math.sqrt(1 - t * t) - 1)
    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),
  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),
  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),
  easeInOutElastic(t) {
    const s = 0.1125;
    const p = 0.45;
    return atEdge(t) ? t :
      t < 0.5
        ? 0.5 * elasticIn(t * 2, s, p)
        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);
  },
  easeInBack(t) {
    const s = 1.70158;
    return t * t * ((s + 1) * t - s);
  },
  easeOutBack(t) {
    const s = 1.70158;
    return (t -= 1) * t * ((s + 1) * t + s) + 1;
  },
  easeInOutBack(t) {
    let s = 1.70158;
    if ((t /= 0.5) < 1) {
      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));
    }
    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);
  },
  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),
  easeOutBounce(t) {
    const m = 7.5625;
    const d = 2.75;
    if (t < (1 / d)) {
      return m * t * t;
    }
    if (t < (2 / d)) {
      return m * (t -= (1.5 / d)) * t + 0.75;
    }
    if (t < (2.5 / d)) {
      return m * (t -= (2.25 / d)) * t + 0.9375;
    }
    return m * (t -= (2.625 / d)) * t + 0.984375;
  },
  easeInOutBounce: t => (t < 0.5)
    ? effects.easeInBounce(t * 2) * 0.5
    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,
};

/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function round(v) {
  return v + 0.5 | 0;
}
const lim = (v, l, h) => Math.max(Math.min(v, h), l);
function p2b(v) {
  return lim(round(v * 2.55), 0, 255);
}
function n2b(v) {
  return lim(round(v * 255), 0, 255);
}
function b2n(v) {
  return lim(round(v / 2.55) / 100, 0, 1);
}
function n2p(v) {
  return lim(round(v * 100), 0, 100);
}
const map$1 = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};
const hex = [...'0123456789ABCDEF'];
const h1 = b => hex[b & 0xF];
const h2 = b => hex[(b & 0xF0) >> 4] + hex[b & 0xF];
const eq = b => ((b & 0xF0) >> 4) === (b & 0xF);
const isShort = v => eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);
function hexParse(str) {
  var len = str.length;
  var ret;
  if (str[0] === '#') {
    if (len === 4 || len === 5) {
      ret = {
        r: 255 & map$1[str[1]] * 17,
        g: 255 & map$1[str[2]] * 17,
        b: 255 & map$1[str[3]] * 17,
        a: len === 5 ? map$1[str[4]] * 17 : 255
      };
    } else if (len === 7 || len === 9) {
      ret = {
        r: map$1[str[1]] << 4 | map$1[str[2]],
        g: map$1[str[3]] << 4 | map$1[str[4]],
        b: map$1[str[5]] << 4 | map$1[str[6]],
        a: len === 9 ? (map$1[str[7]] << 4 | map$1[str[8]]) : 255
      };
    }
  }
  return ret;
}
const alpha = (a, f) => a < 255 ? f(a) : '';
function hexString(v) {
  var f = isShort(v) ? h1 : h2;
  return v
    ? '#' + f(v.r) + f(v.g) + f(v.b) + alpha(v.a, f)
    : undefined;
}
const HUE_RE = /^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;
function hsl2rgbn(h, s, l) {
  const a = s * Math.min(l, 1 - l);
  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  return [f(0), f(8), f(4)];
}
function hsv2rgbn(h, s, v) {
  const f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);
  return [f(5), f(3), f(1)];
}
function hwb2rgbn(h, w, b) {
  const rgb = hsl2rgbn(h, 1, 0.5);
  let i;
  if (w + b > 1) {
    i = 1 / (w + b);
    w *= i;
    b *= i;
  }
  for (i = 0; i < 3; i++) {
    rgb[i] *= 1 - w - b;
    rgb[i] += w;
  }
  return rgb;
}
function hueValue(r, g, b, d, max) {
  if (r === max) {
    return ((g - b) / d) + (g < b ? 6 : 0);
  }
  if (g === max) {
    return (b - r) / d + 2;
  }
  return (r - g) / d + 4;
}
function rgb2hsl(v) {
  const range = 255;
  const r = v.r / range;
  const g = v.g / range;
  const b = v.b / range;
  const max = Math.max(r, g, b);
  const min = Math.min(r, g, b);
  const l = (max + min) / 2;
  let h, s, d;
  if (max !== min) {
    d = max - min;
    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
    h = hueValue(r, g, b, d, max);
    h = h * 60 + 0.5;
  }
  return [h | 0, s || 0, l];
}
function calln(f, a, b, c) {
  return (
    Array.isArray(a)
      ? f(a[0], a[1], a[2])
      : f(a, b, c)
  ).map(n2b);
}
function hsl2rgb(h, s, l) {
  return calln(hsl2rgbn, h, s, l);
}
function hwb2rgb(h, w, b) {
  return calln(hwb2rgbn, h, w, b);
}
function hsv2rgb(h, s, v) {
  return calln(hsv2rgbn, h, s, v);
}
function hue(h) {
  return (h % 360 + 360) % 360;
}
function hueParse(str) {
  const m = HUE_RE.exec(str);
  let a = 255;
  let v;
  if (!m) {
    return;
  }
  if (m[5] !== v) {
    a = m[6] ? p2b(+m[5]) : n2b(+m[5]);
  }
  const h = hue(+m[2]);
  const p1 = +m[3] / 100;
  const p2 = +m[4] / 100;
  if (m[1] === 'hwb') {
    v = hwb2rgb(h, p1, p2);
  } else if (m[1] === 'hsv') {
    v = hsv2rgb(h, p1, p2);
  } else {
    v = hsl2rgb(h, p1, p2);
  }
  return {
    r: v[0],
    g: v[1],
    b: v[2],
    a: a
  };
}
function rotate(v, deg) {
  var h = rgb2hsl(v);
  h[0] = hue(h[0] + deg);
  h = hsl2rgb(h);
  v.r = h[0];
  v.g = h[1];
  v.b = h[2];
}
function hslString(v) {
  if (!v) {
    return;
  }
  const a = rgb2hsl(v);
  const h = a[0];
  const s = n2p(a[1]);
  const l = n2p(a[2]);
  return v.a < 255
    ? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`
    : `hsl(${h}, ${s}%, ${l}%)`;
}
const map = {
  x: 'dark',
  Z: 'light',
  Y: 're',
  X: 'blu',
  W: 'gr',
  V: 'medium',
  U: 'slate',
  A: 'ee',
  T: 'ol',
  S: 'or',
  B: 'ra',
  C: 'lateg',
  D: 'ights',
  R: 'in',
  Q: 'turquois',
  E: 'hi',
  P: 'ro',
  O: 'al',
  N: 'le',
  M: 'de',
  L: 'yello',
  F: 'en',
  K: 'ch',
  G: 'arks',
  H: 'ea',
  I: 'ightg',
  J: 'wh'
};
const names$1 = {
  OiceXe: 'f0f8ff',
  antiquewEte: 'faebd7',
  aqua: 'ffff',
  aquamarRe: '7fffd4',
  azuY: 'f0ffff',
  beige: 'f5f5dc',
  bisque: 'ffe4c4',
  black: '0',
  blanKedOmond: 'ffebcd',
  Xe: 'ff',
  XeviTet: '8a2be2',
  bPwn: 'a52a2a',
  burlywood: 'deb887',
  caMtXe: '5f9ea0',
  KartYuse: '7fff00',
  KocTate: 'd2691e',
  cSO: 'ff7f50',
  cSnflowerXe: '6495ed',
  cSnsilk: 'fff8dc',
  crimson: 'dc143c',
  cyan: 'ffff',
  xXe: '8b',
  xcyan: '8b8b',
  xgTMnPd: 'b8860b',
  xWay: 'a9a9a9',
  xgYF: '6400',
  xgYy: 'a9a9a9',
  xkhaki: 'bdb76b',
  xmagFta: '8b008b',
  xTivegYF: '556b2f',
  xSange: 'ff8c00',
  xScEd: '9932cc',
  xYd: '8b0000',
  xsOmon: 'e9967a',
  xsHgYF: '8fbc8f',
  xUXe: '483d8b',
  xUWay: '2f4f4f',
  xUgYy: '2f4f4f',
  xQe: 'ced1',
  xviTet: '9400d3',
  dAppRk: 'ff1493',
  dApskyXe: 'bfff',
  dimWay: '696969',
  dimgYy: '696969',
  dodgerXe: '1e90ff',
  fiYbrick: 'b22222',
  flSOwEte: 'fffaf0',
  foYstWAn: '228b22',
  fuKsia: 'ff00ff',
  gaRsbSo: 'dcdcdc',
  ghostwEte: 'f8f8ff',
  gTd: 'ffd700',
  gTMnPd: 'daa520',
  Way: '808080',
  gYF: '8000',
  gYFLw: 'adff2f',
  gYy: '808080',
  honeyMw: 'f0fff0',
  hotpRk: 'ff69b4',
  RdianYd: 'cd5c5c',
  Rdigo: '4b0082',
  ivSy: 'fffff0',
  khaki: 'f0e68c',
  lavFMr: 'e6e6fa',
  lavFMrXsh: 'fff0f5',
  lawngYF: '7cfc00',
  NmoncEffon: 'fffacd',
  ZXe: 'add8e6',
  ZcSO: 'f08080',
  Zcyan: 'e0ffff',
  ZgTMnPdLw: 'fafad2',
  ZWay: 'd3d3d3',
  ZgYF: '90ee90',
  ZgYy: 'd3d3d3',
  ZpRk: 'ffb6c1',
  ZsOmon: 'ffa07a',
  ZsHgYF: '20b2aa',
  ZskyXe: '87cefa',
  ZUWay: '778899',
  ZUgYy: '778899',
  ZstAlXe: 'b0c4de',
  ZLw: 'ffffe0',
  lime: 'ff00',
  limegYF: '32cd32',
  lRF: 'faf0e6',
  magFta: 'ff00ff',
  maPon: '800000',
  VaquamarRe: '66cdaa',
  VXe: 'cd',
  VScEd: 'ba55d3',
  VpurpN: '9370db',
  VsHgYF: '3cb371',
  VUXe: '7b68ee',
  VsprRggYF: 'fa9a',
  VQe: '48d1cc',
  VviTetYd: 'c71585',
  midnightXe: '191970',
  mRtcYam: 'f5fffa',
  mistyPse: 'ffe4e1',
  moccasR: 'ffe4b5',
  navajowEte: 'ffdead',
  navy: '80',
  Tdlace: 'fdf5e6',
  Tive: '808000',
  TivedBb: '6b8e23',
  Sange: 'ffa500',
  SangeYd: 'ff4500',
  ScEd: 'da70d6',
  pOegTMnPd: 'eee8aa',
  pOegYF: '98fb98',
  pOeQe: 'afeeee',
  pOeviTetYd: 'db7093',
  papayawEp: 'ffefd5',
  pHKpuff: 'ffdab9',
  peru: 'cd853f',
  pRk: 'ffc0cb',
  plum: 'dda0dd',
  powMrXe: 'b0e0e6',
  purpN: '800080',
  YbeccapurpN: '663399',
  Yd: 'ff0000',
  Psybrown: 'bc8f8f',
  PyOXe: '4169e1',
  saddNbPwn: '8b4513',
  sOmon: 'fa8072',
  sandybPwn: 'f4a460',
  sHgYF: '2e8b57',
  sHshell: 'fff5ee',
  siFna: 'a0522d',
  silver: 'c0c0c0',
  skyXe: '87ceeb',
  UXe: '6a5acd',
  UWay: '708090',
  UgYy: '708090',
  snow: 'fffafa',
  sprRggYF: 'ff7f',
  stAlXe: '4682b4',
  tan: 'd2b48c',
  teO: '8080',
  tEstN: 'd8bfd8',
  tomato: 'ff6347',
  Qe: '40e0d0',
  viTet: 'ee82ee',
  JHt: 'f5deb3',
  wEte: 'ffffff',
  wEtesmoke: 'f5f5f5',
  Lw: 'ffff00',
  LwgYF: '9acd32'
};
function unpack() {
  const unpacked = {};
  const keys = Object.keys(names$1);
  const tkeys = Object.keys(map);
  let i, j, k, ok, nk;
  for (i = 0; i < keys.length; i++) {
    ok = nk = keys[i];
    for (j = 0; j < tkeys.length; j++) {
      k = tkeys[j];
      nk = nk.replace(k, map[k]);
    }
    k = parseInt(names$1[ok], 16);
    unpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];
  }
  return unpacked;
}
let names;
function nameParse(str) {
  if (!names) {
    names = unpack();
    names.transparent = [0, 0, 0, 0];
  }
  const a = names[str.toLowerCase()];
  return a && {
    r: a[0],
    g: a[1],
    b: a[2],
    a: a.length === 4 ? a[3] : 255
  };
}
const RGB_RE = /^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;
function rgbParse(str) {
  const m = RGB_RE.exec(str);
  let a = 255;
  let r, g, b;
  if (!m) {
    return;
  }
  if (m[7] !== r) {
    const v = +m[7];
    a = m[8] ? p2b(v) : lim(v * 255, 0, 255);
  }
  r = +m[1];
  g = +m[3];
  b = +m[5];
  r = 255 & (m[2] ? p2b(r) : lim(r, 0, 255));
  g = 255 & (m[4] ? p2b(g) : lim(g, 0, 255));
  b = 255 & (m[6] ? p2b(b) : lim(b, 0, 255));
  return {
    r: r,
    g: g,
    b: b,
    a: a
  };
}
function rgbString(v) {
  return v && (
    v.a < 255
      ? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`
      : `rgb(${v.r}, ${v.g}, ${v.b})`
  );
}
const to = v => v <= 0.0031308 ? v * 12.92 : Math.pow(v, 1.0 / 2.4) * 1.055 - 0.055;
const from = v => v <= 0.04045 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
function interpolate(rgb1, rgb2, t) {
  const r = from(b2n(rgb1.r));
  const g = from(b2n(rgb1.g));
  const b = from(b2n(rgb1.b));
  return {
    r: n2b(to(r + t * (from(b2n(rgb2.r)) - r))),
    g: n2b(to(g + t * (from(b2n(rgb2.g)) - g))),
    b: n2b(to(b + t * (from(b2n(rgb2.b)) - b))),
    a: rgb1.a + t * (rgb2.a - rgb1.a)
  };
}
function modHSL(v, i, ratio) {
  if (v) {
    let tmp = rgb2hsl(v);
    tmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));
    tmp = hsl2rgb(tmp);
    v.r = tmp[0];
    v.g = tmp[1];
    v.b = tmp[2];
  }
}
function clone(v, proto) {
  return v ? Object.assign(proto || {}, v) : v;
}
function fromObject(input) {
  var v = {r: 0, g: 0, b: 0, a: 255};
  if (Array.isArray(input)) {
    if (input.length >= 3) {
      v = {r: input[0], g: input[1], b: input[2], a: 255};
      if (input.length > 3) {
        v.a = n2b(input[3]);
      }
    }
  } else {
    v = clone(input, {r: 0, g: 0, b: 0, a: 1});
    v.a = n2b(v.a);
  }
  return v;
}
function functionParse(str) {
  if (str.charAt(0) === 'r') {
    return rgbParse(str);
  }
  return hueParse(str);
}
class Color {
  constructor(input) {
    if (input instanceof Color) {
      return input;
    }
    const type = typeof input;
    let v;
    if (type === 'object') {
      v = fromObject(input);
    } else if (type === 'string') {
      v = hexParse(input) || nameParse(input) || functionParse(input);
    }
    this._rgb = v;
    this._valid = !!v;
  }
  get valid() {
    return this._valid;
  }
  get rgb() {
    var v = clone(this._rgb);
    if (v) {
      v.a = b2n(v.a);
    }
    return v;
  }
  set rgb(obj) {
    this._rgb = fromObject(obj);
  }
  rgbString() {
    return this._valid ? rgbString(this._rgb) : undefined;
  }
  hexString() {
    return this._valid ? hexString(this._rgb) : undefined;
  }
  hslString() {
    return this._valid ? hslString(this._rgb) : undefined;
  }
  mix(color, weight) {
    if (color) {
      const c1 = this.rgb;
      const c2 = color.rgb;
      let w2;
      const p = weight === w2 ? 0.5 : weight;
      const w = 2 * p - 1;
      const a = c1.a - c2.a;
      const w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;
      w2 = 1 - w1;
      c1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;
      c1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;
      c1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;
      c1.a = p * c1.a + (1 - p) * c2.a;
      this.rgb = c1;
    }
    return this;
  }
  interpolate(color, t) {
    if (color) {
      this._rgb = interpolate(this._rgb, color._rgb, t);
    }
    return this;
  }
  clone() {
    return new Color(this.rgb);
  }
  alpha(a) {
    this._rgb.a = n2b(a);
    return this;
  }
  clearer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 - ratio;
    return this;
  }
  greyscale() {
    const rgb = this._rgb;
    const val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);
    rgb.r = rgb.g = rgb.b = val;
    return this;
  }
  opaquer(ratio) {
    const rgb = this._rgb;
    rgb.a *= 1 + ratio;
    return this;
  }
  negate() {
    const v = this._rgb;
    v.r = 255 - v.r;
    v.g = 255 - v.g;
    v.b = 255 - v.b;
    return this;
  }
  lighten(ratio) {
    modHSL(this._rgb, 2, ratio);
    return this;
  }
  darken(ratio) {
    modHSL(this._rgb, 2, -ratio);
    return this;
  }
  saturate(ratio) {
    modHSL(this._rgb, 1, ratio);
    return this;
  }
  desaturate(ratio) {
    modHSL(this._rgb, 1, -ratio);
    return this;
  }
  rotate(deg) {
    rotate(this._rgb, deg);
    return this;
  }
}
function index_esm(input) {
  return new Color(input);
}

function isPatternOrGradient(value) {
  if (value && typeof value === 'object') {
    const type = value.toString();
    return type === '[object CanvasPattern]' || type === '[object CanvasGradient]';
  }
  return false;
}
function color(value) {
  return isPatternOrGradient(value) ? value : index_esm(value);
}
function getHoverColor(value) {
  return isPatternOrGradient(value)
    ? value
    : index_esm(value).saturate(0.5).darken(0.1).hexString();
}

const overrides = Object.create(null);
const descriptors = Object.create(null);
function getScope$1(node, key) {
  if (!key) {
    return node;
  }
  const keys = key.split('.');
  for (let i = 0, n = keys.length; i < n; ++i) {
    const k = keys[i];
    node = node[k] || (node[k] = Object.create(null));
  }
  return node;
}
function set(root, scope, values) {
  if (typeof scope === 'string') {
    return merge(getScope$1(root, scope), values);
  }
  return merge(getScope$1(root, ''), scope);
}
class Defaults {
  constructor(_descriptors) {
    this.animation = undefined;
    this.backgroundColor = 'rgba(0,0,0,0.1)';
    this.borderColor = 'rgba(0,0,0,0.1)';
    this.color = '#666';
    this.datasets = {};
    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();
    this.elements = {};
    this.events = [
      'mousemove',
      'mouseout',
      'click',
      'touchstart',
      'touchmove'
    ];
    this.font = {
      family: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
      size: 12,
      style: 'normal',
      lineHeight: 1.2,
      weight: null
    };
    this.hover = {};
    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);
    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);
    this.hoverColor = (ctx, options) => getHoverColor(options.color);
    this.indexAxis = 'x';
    this.interaction = {
      mode: 'nearest',
      intersect: true,
      includeInvisible: false
    };
    this.maintainAspectRatio = true;
    this.onHover = null;
    this.onClick = null;
    this.parsing = true;
    this.plugins = {};
    this.responsive = true;
    this.scale = undefined;
    this.scales = {};
    this.showLine = true;
    this.drawActiveElementsOnTop = true;
    this.describe(_descriptors);
  }
  set(scope, values) {
    return set(this, scope, values);
  }
  get(scope) {
    return getScope$1(this, scope);
  }
  describe(scope, values) {
    return set(descriptors, scope, values);
  }
  override(scope, values) {
    return set(overrides, scope, values);
  }
  route(scope, name, targetScope, targetName) {
    const scopeObject = getScope$1(this, scope);
    const targetScopeObject = getScope$1(this, targetScope);
    const privateName = '_' + name;
    Object.defineProperties(scopeObject, {
      [privateName]: {
        value: scopeObject[name],
        writable: true
      },
      [name]: {
        enumerable: true,
        get() {
          const local = this[privateName];
          const target = targetScopeObject[targetName];
          if (isObject(local)) {
            return Object.assign({}, target, local);
          }
          return valueOrDefault(local, target);
        },
        set(value) {
          this[privateName] = value;
        }
      }
    });
  }
}
var defaults = new Defaults({
  _scriptable: (name) => !name.startsWith('on'),
  _indexable: (name) => name !== 'events',
  hover: {
    _fallback: 'interaction'
  },
  interaction: {
    _scriptable: false,
    _indexable: false,
  }
});

function toFontString(font) {
  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {
    return null;
  }
  return (font.style ? font.style + ' ' : '')
		+ (font.weight ? font.weight + ' ' : '')
		+ font.size + 'px '
		+ font.family;
}
function _measureText(ctx, data, gc, longest, string) {
  let textWidth = data[string];
  if (!textWidth) {
    textWidth = data[string] = ctx.measureText(string).width;
    gc.push(string);
  }
  if (textWidth > longest) {
    longest = textWidth;
  }
  return longest;
}
function _longestText(ctx, font, arrayOfThings, cache) {
  cache = cache || {};
  let data = cache.data = cache.data || {};
  let gc = cache.garbageCollect = cache.garbageCollect || [];
  if (cache.font !== font) {
    data = cache.data = {};
    gc = cache.garbageCollect = [];
    cache.font = font;
  }
  ctx.save();
  ctx.font = font;
  let longest = 0;
  const ilen = arrayOfThings.length;
  let i, j, jlen, thing, nestedThing;
  for (i = 0; i < ilen; i++) {
    thing = arrayOfThings[i];
    if (thing !== undefined && thing !== null && isArray(thing) !== true) {
      longest = _measureText(ctx, data, gc, longest, thing);
    } else if (isArray(thing)) {
      for (j = 0, jlen = thing.length; j < jlen; j++) {
        nestedThing = thing[j];
        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {
          longest = _measureText(ctx, data, gc, longest, nestedThing);
        }
      }
    }
  }
  ctx.restore();
  const gcLen = gc.length / 2;
  if (gcLen > arrayOfThings.length) {
    for (i = 0; i < gcLen; i++) {
      delete data[gc[i]];
    }
    gc.splice(0, gcLen);
  }
  return longest;
}
function _alignPixel(chart, pixel, width) {
  const devicePixelRatio = chart.currentDevicePixelRatio;
  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;
  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;
}
function clearCanvas(canvas, ctx) {
  ctx = ctx || canvas.getContext('2d');
  ctx.save();
  ctx.resetTransform();
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.restore();
}
function drawPoint(ctx, options, x, y) {
  drawPointLegend(ctx, options, x, y, null);
}
function drawPointLegend(ctx, options, x, y, w) {
  let type, xOffset, yOffset, size, cornerRadius, width;
  const style = options.pointStyle;
  const rotation = options.rotation;
  const radius = options.radius;
  let rad = (rotation || 0) * RAD_PER_DEG;
  if (style && typeof style === 'object') {
    type = style.toString();
    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {
      ctx.save();
      ctx.translate(x, y);
      ctx.rotate(rad);
      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);
      ctx.restore();
      return;
    }
  }
  if (isNaN(radius) || radius <= 0) {
    return;
  }
  ctx.beginPath();
  switch (style) {
  default:
    if (w) {
      ctx.ellipse(x, y, w / 2, radius, 0, 0, TAU);
    } else {
      ctx.arc(x, y, radius, 0, TAU);
    }
    ctx.closePath();
    break;
  case 'triangle':
    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    rad += TWO_THIRDS_PI;
    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    rad += TWO_THIRDS_PI;
    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);
    ctx.closePath();
    break;
  case 'rectRounded':
    cornerRadius = radius * 0.516;
    size = radius - cornerRadius;
    xOffset = Math.cos(rad + QUARTER_PI) * size;
    yOffset = Math.sin(rad + QUARTER_PI) * size;
    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);
    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);
    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);
    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);
    ctx.closePath();
    break;
  case 'rect':
    if (!rotation) {
      size = Math.SQRT1_2 * radius;
      width = w ? w / 2 : size;
      ctx.rect(x - width, y - size, 2 * width, 2 * size);
      break;
    }
    rad += QUARTER_PI;
  case 'rectRot':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + yOffset, y - xOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    ctx.closePath();
    break;
  case 'crossRot':
    rad += QUARTER_PI;
  case 'cross':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    break;
  case 'star':
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    rad += QUARTER_PI;
    xOffset = Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    ctx.moveTo(x + yOffset, y - xOffset);
    ctx.lineTo(x - yOffset, y + xOffset);
    break;
  case 'line':
    xOffset = w ? w / 2 : Math.cos(rad) * radius;
    yOffset = Math.sin(rad) * radius;
    ctx.moveTo(x - xOffset, y - yOffset);
    ctx.lineTo(x + xOffset, y + yOffset);
    break;
  case 'dash':
    ctx.moveTo(x, y);
    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);
    break;
  }
  ctx.fill();
  if (options.borderWidth > 0) {
    ctx.stroke();
  }
}
function _isPointInArea(point, area, margin) {
  margin = margin || 0.5;
  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&
		point.y > area.top - margin && point.y < area.bottom + margin);
}
function clipArea(ctx, area) {
  ctx.save();
  ctx.beginPath();
  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);
  ctx.clip();
}
function unclipArea(ctx) {
  ctx.restore();
}
function _steppedLineTo(ctx, previous, target, flip, mode) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  if (mode === 'middle') {
    const midpoint = (previous.x + target.x) / 2.0;
    ctx.lineTo(midpoint, previous.y);
    ctx.lineTo(midpoint, target.y);
  } else if (mode === 'after' !== !!flip) {
    ctx.lineTo(previous.x, target.y);
  } else {
    ctx.lineTo(target.x, previous.y);
  }
  ctx.lineTo(target.x, target.y);
}
function _bezierCurveTo(ctx, previous, target, flip) {
  if (!previous) {
    return ctx.lineTo(target.x, target.y);
  }
  ctx.bezierCurveTo(
    flip ? previous.cp1x : previous.cp2x,
    flip ? previous.cp1y : previous.cp2y,
    flip ? target.cp2x : target.cp1x,
    flip ? target.cp2y : target.cp1y,
    target.x,
    target.y);
}
function renderText(ctx, text, x, y, font, opts = {}) {
  const lines = isArray(text) ? text : [text];
  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';
  let i, line;
  ctx.save();
  ctx.font = font.string;
  setRenderOpts(ctx, opts);
  for (i = 0; i < lines.length; ++i) {
    line = lines[i];
    if (stroke) {
      if (opts.strokeColor) {
        ctx.strokeStyle = opts.strokeColor;
      }
      if (!isNullOrUndef(opts.strokeWidth)) {
        ctx.lineWidth = opts.strokeWidth;
      }
      ctx.strokeText(line, x, y, opts.maxWidth);
    }
    ctx.fillText(line, x, y, opts.maxWidth);
    decorateText(ctx, x, y, line, opts);
    y += font.lineHeight;
  }
  ctx.restore();
}
function setRenderOpts(ctx, opts) {
  if (opts.translation) {
    ctx.translate(opts.translation[0], opts.translation[1]);
  }
  if (!isNullOrUndef(opts.rotation)) {
    ctx.rotate(opts.rotation);
  }
  if (opts.color) {
    ctx.fillStyle = opts.color;
  }
  if (opts.textAlign) {
    ctx.textAlign = opts.textAlign;
  }
  if (opts.textBaseline) {
    ctx.textBaseline = opts.textBaseline;
  }
}
function decorateText(ctx, x, y, line, opts) {
  if (opts.strikethrough || opts.underline) {
    const metrics = ctx.measureText(line);
    const left = x - metrics.actualBoundingBoxLeft;
    const right = x + metrics.actualBoundingBoxRight;
    const top = y - metrics.actualBoundingBoxAscent;
    const bottom = y + metrics.actualBoundingBoxDescent;
    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;
    ctx.strokeStyle = ctx.fillStyle;
    ctx.beginPath();
    ctx.lineWidth = opts.decorationWidth || 2;
    ctx.moveTo(left, yDecoration);
    ctx.lineTo(right, yDecoration);
    ctx.stroke();
  }
}
function addRoundedRectPath(ctx, rect) {
  const {x, y, w, h, radius} = rect;
  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);
  ctx.lineTo(x, y + h - radius.bottomLeft);
  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);
  ctx.lineTo(x + w - radius.bottomRight, y + h);
  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);
  ctx.lineTo(x + w, y + radius.topRight);
  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);
  ctx.lineTo(x + radius.topLeft, y);
}

const LINE_HEIGHT = new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);
const FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);
function toLineHeight(value, size) {
  const matches = ('' + value).match(LINE_HEIGHT);
  if (!matches || matches[1] === 'normal') {
    return size * 1.2;
  }
  value = +matches[2];
  switch (matches[3]) {
  case 'px':
    return value;
  case '%':
    value /= 100;
    break;
  }
  return size * value;
}
const numberOrZero = v => +v || 0;
function _readValueToProps(value, props) {
  const ret = {};
  const objProps = isObject(props);
  const keys = objProps ? Object.keys(props) : props;
  const read = isObject(value)
    ? objProps
      ? prop => valueOrDefault(value[prop], value[props[prop]])
      : prop => value[prop]
    : () => value;
  for (const prop of keys) {
    ret[prop] = numberOrZero(read(prop));
  }
  return ret;
}
function toTRBL(value) {
  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});
}
function toTRBLCorners(value) {
  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);
}
function toPadding(value) {
  const obj = toTRBL(value);
  obj.width = obj.left + obj.right;
  obj.height = obj.top + obj.bottom;
  return obj;
}
function toFont(options, fallback) {
  options = options || {};
  fallback = fallback || defaults.font;
  let size = valueOrDefault(options.size, fallback.size);
  if (typeof size === 'string') {
    size = parseInt(size, 10);
  }
  let style = valueOrDefault(options.style, fallback.style);
  if (style && !('' + style).match(FONT_STYLE)) {
    console.warn('Invalid font style specified: "' + style + '"');
    style = '';
  }
  const font = {
    family: valueOrDefault(options.family, fallback.family),
    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),
    size,
    style,
    weight: valueOrDefault(options.weight, fallback.weight),
    string: ''
  };
  font.string = toFontString(font);
  return font;
}
function resolve(inputs, context, index, info) {
  let cacheable = true;
  let i, ilen, value;
  for (i = 0, ilen = inputs.length; i < ilen; ++i) {
    value = inputs[i];
    if (value === undefined) {
      continue;
    }
    if (context !== undefined && typeof value === 'function') {
      value = value(context);
      cacheable = false;
    }
    if (index !== undefined && isArray(value)) {
      value = value[index % value.length];
      cacheable = false;
    }
    if (value !== undefined) {
      if (info && !cacheable) {
        info.cacheable = false;
      }
      return value;
    }
  }
}
function _addGrace(minmax, grace, beginAtZero) {
  const {min, max} = minmax;
  const change = toDimension(grace, (max - min) / 2);
  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;
  return {
    min: keepZero(min, -Math.abs(change)),
    max: keepZero(max, change)
  };
}
function createContext(parentContext, context) {
  return Object.assign(Object.create(parentContext), context);
}

function _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {
  if (!defined(fallback)) {
    fallback = _resolve('_fallback', scopes);
  }
  const cache = {
    [Symbol.toStringTag]: 'Object',
    _cacheable: true,
    _scopes: scopes,
    _rootScopes: rootScopes,
    _fallback: fallback,
    _getTarget: getTarget,
    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),
  };
  return new Proxy(cache, {
    deleteProperty(target, prop) {
      delete target[prop];
      delete target._keys;
      delete scopes[0][prop];
      return true;
    },
    get(target, prop) {
      return _cached(target, prop,
        () => _resolveWithPrefixes(prop, prefixes, scopes, target));
    },
    getOwnPropertyDescriptor(target, prop) {
      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(scopes[0]);
    },
    has(target, prop) {
      return getKeysFromAllScopes(target).includes(prop);
    },
    ownKeys(target) {
      return getKeysFromAllScopes(target);
    },
    set(target, prop, value) {
      const storage = target._storage || (target._storage = getTarget());
      target[prop] = storage[prop] = value;
      delete target._keys;
      return true;
    }
  });
}
function _attachContext(proxy, context, subProxy, descriptorDefaults) {
  const cache = {
    _cacheable: false,
    _proxy: proxy,
    _context: context,
    _subProxy: subProxy,
    _stack: new Set(),
    _descriptors: _descriptors(proxy, descriptorDefaults),
    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),
    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)
  };
  return new Proxy(cache, {
    deleteProperty(target, prop) {
      delete target[prop];
      delete proxy[prop];
      return true;
    },
    get(target, prop, receiver) {
      return _cached(target, prop,
        () => _resolveWithContext(target, prop, receiver));
    },
    getOwnPropertyDescriptor(target, prop) {
      return target._descriptors.allKeys
        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined
        : Reflect.getOwnPropertyDescriptor(proxy, prop);
    },
    getPrototypeOf() {
      return Reflect.getPrototypeOf(proxy);
    },
    has(target, prop) {
      return Reflect.has(proxy, prop);
    },
    ownKeys() {
      return Reflect.ownKeys(proxy);
    },
    set(target, prop, value) {
      proxy[prop] = value;
      delete target[prop];
      return true;
    }
  });
}
function _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {
  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;
  return {
    allKeys: _allKeys,
    scriptable: _scriptable,
    indexable: _indexable,
    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,
    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable
  };
}
const readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;
const needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&
  (Object.getPrototypeOf(value) === null || value.constructor === Object);
function _cached(target, prop, resolve) {
  if (Object.prototype.hasOwnProperty.call(target, prop)) {
    return target[prop];
  }
  const value = resolve();
  target[prop] = value;
  return value;
}
function _resolveWithContext(target, prop, receiver) {
  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;
  let value = _proxy[prop];
  if (isFunction(value) && descriptors.isScriptable(prop)) {
    value = _resolveScriptable(prop, value, target, receiver);
  }
  if (isArray(value) && value.length) {
    value = _resolveArray(prop, value, target, descriptors.isIndexable);
  }
  if (needsSubResolver(prop, value)) {
    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);
  }
  return value;
}
function _resolveScriptable(prop, value, target, receiver) {
  const {_proxy, _context, _subProxy, _stack} = target;
  if (_stack.has(prop)) {
    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);
  }
  _stack.add(prop);
  value = value(_context, _subProxy || receiver);
  _stack.delete(prop);
  if (needsSubResolver(prop, value)) {
    value = createSubResolver(_proxy._scopes, _proxy, prop, value);
  }
  return value;
}
function _resolveArray(prop, value, target, isIndexable) {
  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;
  if (defined(_context.index) && isIndexable(prop)) {
    value = value[_context.index % value.length];
  } else if (isObject(value[0])) {
    const arr = value;
    const scopes = _proxy._scopes.filter(s => s !== arr);
    value = [];
    for (const item of arr) {
      const resolver = createSubResolver(scopes, _proxy, prop, item);
      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));
    }
  }
  return value;
}
function resolveFallback(fallback, prop, value) {
  return isFunction(fallback) ? fallback(prop, value) : fallback;
}
const getScope = (key, parent) => key === true ? parent
  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;
function addScopes(set, parentScopes, key, parentFallback, value) {
  for (const parent of parentScopes) {
    const scope = getScope(key, parent);
    if (scope) {
      set.add(scope);
      const fallback = resolveFallback(scope._fallback, key, value);
      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {
        return fallback;
      }
    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {
      return null;
    }
  }
  return false;
}
function createSubResolver(parentScopes, resolver, prop, value) {
  const rootScopes = resolver._rootScopes;
  const fallback = resolveFallback(resolver._fallback, prop, value);
  const allScopes = [...parentScopes, ...rootScopes];
  const set = new Set();
  set.add(value);
  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);
  if (key === null) {
    return false;
  }
  if (defined(fallback) && fallback !== prop) {
    key = addScopesFromKey(set, allScopes, fallback, key, value);
    if (key === null) {
      return false;
    }
  }
  return _createResolver(Array.from(set), [''], rootScopes, fallback,
    () => subGetTarget(resolver, prop, value));
}
function addScopesFromKey(set, allScopes, key, fallback, item) {
  while (key) {
    key = addScopes(set, allScopes, key, fallback, item);
  }
  return key;
}
function subGetTarget(resolver, prop, value) {
  const parent = resolver._getTarget();
  if (!(prop in parent)) {
    parent[prop] = {};
  }
  const target = parent[prop];
  if (isArray(target) && isObject(value)) {
    return value;
  }
  return target;
}
function _resolveWithPrefixes(prop, prefixes, scopes, proxy) {
  let value;
  for (const prefix of prefixes) {
    value = _resolve(readKey(prefix, prop), scopes);
    if (defined(value)) {
      return needsSubResolver(prop, value)
        ? createSubResolver(scopes, proxy, prop, value)
        : value;
    }
  }
}
function _resolve(key, scopes) {
  for (const scope of scopes) {
    if (!scope) {
      continue;
    }
    const value = scope[key];
    if (defined(value)) {
      return value;
    }
  }
}
function getKeysFromAllScopes(target) {
  let keys = target._keys;
  if (!keys) {
    keys = target._keys = resolveKeysFromAllScopes(target._scopes);
  }
  return keys;
}
function resolveKeysFromAllScopes(scopes) {
  const set = new Set();
  for (const scope of scopes) {
    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {
      set.add(key);
    }
  }
  return Array.from(set);
}
function _parseObjectDataRadialScale(meta, data, start, count) {
  const {iScale} = meta;
  const {key = 'r'} = this._parsing;
  const parsed = new Array(count);
  let i, ilen, index, item;
  for (i = 0, ilen = count; i < ilen; ++i) {
    index = i + start;
    item = data[index];
    parsed[i] = {
      r: iScale.parse(resolveObjectKey(item, key), index)
    };
  }
  return parsed;
}

const EPSILON = Number.EPSILON || 1e-14;
const getPoint = (points, i) => i < points.length && !points[i].skip && points[i];
const getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';
function splineCurve(firstPoint, middlePoint, afterPoint, t) {
  const previous = firstPoint.skip ? middlePoint : firstPoint;
  const current = middlePoint;
  const next = afterPoint.skip ? middlePoint : afterPoint;
  const d01 = distanceBetweenPoints(current, previous);
  const d12 = distanceBetweenPoints(next, current);
  let s01 = d01 / (d01 + d12);
  let s12 = d12 / (d01 + d12);
  s01 = isNaN(s01) ? 0 : s01;
  s12 = isNaN(s12) ? 0 : s12;
  const fa = t * s01;
  const fb = t * s12;
  return {
    previous: {
      x: current.x - fa * (next.x - previous.x),
      y: current.y - fa * (next.y - previous.y)
    },
    next: {
      x: current.x + fb * (next.x - previous.x),
      y: current.y + fb * (next.y - previous.y)
    }
  };
}
function monotoneAdjust(points, deltaK, mK) {
  const pointsLen = points.length;
  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen - 1; ++i) {
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent || !pointAfter) {
      continue;
    }
    if (almostEquals(deltaK[i], 0, EPSILON)) {
      mK[i] = mK[i + 1] = 0;
      continue;
    }
    alphaK = mK[i] / deltaK[i];
    betaK = mK[i + 1] / deltaK[i];
    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);
    if (squaredMagnitude <= 9) {
      continue;
    }
    tauK = 3 / Math.sqrt(squaredMagnitude);
    mK[i] = alphaK * tauK * deltaK[i];
    mK[i + 1] = betaK * tauK * deltaK[i];
  }
}
function monotoneCompute(points, mK, indexAxis = 'x') {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  let delta, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (let i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    const iPixel = pointCurrent[indexAxis];
    const vPixel = pointCurrent[valueAxis];
    if (pointBefore) {
      delta = (iPixel - pointBefore[indexAxis]) / 3;
      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;
      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];
    }
    if (pointAfter) {
      delta = (pointAfter[indexAxis] - iPixel) / 3;
      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;
      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];
    }
  }
}
function splineCurveMonotone(points, indexAxis = 'x') {
  const valueAxis = getValueAxis(indexAxis);
  const pointsLen = points.length;
  const deltaK = Array(pointsLen).fill(0);
  const mK = Array(pointsLen);
  let i, pointBefore, pointCurrent;
  let pointAfter = getPoint(points, 0);
  for (i = 0; i < pointsLen; ++i) {
    pointBefore = pointCurrent;
    pointCurrent = pointAfter;
    pointAfter = getPoint(points, i + 1);
    if (!pointCurrent) {
      continue;
    }
    if (pointAfter) {
      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];
      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;
    }
    mK[i] = !pointBefore ? deltaK[i]
      : !pointAfter ? deltaK[i - 1]
      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0
      : (deltaK[i - 1] + deltaK[i]) / 2;
  }
  monotoneAdjust(points, deltaK, mK);
  monotoneCompute(points, mK, indexAxis);
}
function capControlPoint(pt, min, max) {
  return Math.max(Math.min(pt, max), min);
}
function capBezierPoints(points, area) {
  let i, ilen, point, inArea, inAreaPrev;
  let inAreaNext = _isPointInArea(points[0], area);
  for (i = 0, ilen = points.length; i < ilen; ++i) {
    inAreaPrev = inArea;
    inArea = inAreaNext;
    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);
    if (!inArea) {
      continue;
    }
    point = points[i];
    if (inAreaPrev) {
      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);
      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);
    }
    if (inAreaNext) {
      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);
      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);
    }
  }
}
function _updateBezierControlPoints(points, options, area, loop, indexAxis) {
  let i, ilen, point, controlPoints;
  if (options.spanGaps) {
    points = points.filter((pt) => !pt.skip);
  }
  if (options.cubicInterpolationMode === 'monotone') {
    splineCurveMonotone(points, indexAxis);
  } else {
    let prev = loop ? points[points.length - 1] : points[0];
    for (i = 0, ilen = points.length; i < ilen; ++i) {
      point = points[i];
      controlPoints = splineCurve(
        prev,
        point,
        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],
        options.tension
      );
      point.cp1x = controlPoints.previous.x;
      point.cp1y = controlPoints.previous.y;
      point.cp2x = controlPoints.next.x;
      point.cp2y = controlPoints.next.y;
      prev = point;
    }
  }
  if (options.capBezierPoints) {
    capBezierPoints(points, area);
  }
}

function _isDomSupported() {
  return typeof window !== 'undefined' && typeof document !== 'undefined';
}
function _getParentNode(domNode) {
  let parent = domNode.parentNode;
  if (parent && parent.toString() === '[object ShadowRoot]') {
    parent = parent.host;
  }
  return parent;
}
function parseMaxStyle(styleValue, node, parentProperty) {
  let valueInPixels;
  if (typeof styleValue === 'string') {
    valueInPixels = parseInt(styleValue, 10);
    if (styleValue.indexOf('%') !== -1) {
      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];
    }
  } else {
    valueInPixels = styleValue;
  }
  return valueInPixels;
}
const getComputedStyle = (element) => window.getComputedStyle(element, null);
function getStyle(el, property) {
  return getComputedStyle(el).getPropertyValue(property);
}
const positions = ['top', 'right', 'bottom', 'left'];
function getPositionedStyle(styles, style, suffix) {
  const result = {};
  suffix = suffix ? '-' + suffix : '';
  for (let i = 0; i < 4; i++) {
    const pos = positions[i];
    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;
  }
  result.width = result.left + result.right;
  result.height = result.top + result.bottom;
  return result;
}
const useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);
function getCanvasPosition(e, canvas) {
  const touches = e.touches;
  const source = touches && touches.length ? touches[0] : e;
  const {offsetX, offsetY} = source;
  let box = false;
  let x, y;
  if (useOffsetPos(offsetX, offsetY, e.target)) {
    x = offsetX;
    y = offsetY;
  } else {
    const rect = canvas.getBoundingClientRect();
    x = source.clientX - rect.left;
    y = source.clientY - rect.top;
    box = true;
  }
  return {x, y, box};
}
function getRelativePosition(evt, chart) {
  if ('native' in evt) {
    return evt;
  }
  const {canvas, currentDevicePixelRatio} = chart;
  const style = getComputedStyle(canvas);
  const borderBox = style.boxSizing === 'border-box';
  const paddings = getPositionedStyle(style, 'padding');
  const borders = getPositionedStyle(style, 'border', 'width');
  const {x, y, box} = getCanvasPosition(evt, canvas);
  const xOffset = paddings.left + (box && borders.left);
  const yOffset = paddings.top + (box && borders.top);
  let {width, height} = chart;
  if (borderBox) {
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  return {
    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),
    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)
  };
}
function getContainerSize(canvas, width, height) {
  let maxWidth, maxHeight;
  if (width === undefined || height === undefined) {
    const container = _getParentNode(canvas);
    if (!container) {
      width = canvas.clientWidth;
      height = canvas.clientHeight;
    } else {
      const rect = container.getBoundingClientRect();
      const containerStyle = getComputedStyle(container);
      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');
      const containerPadding = getPositionedStyle(containerStyle, 'padding');
      width = rect.width - containerPadding.width - containerBorder.width;
      height = rect.height - containerPadding.height - containerBorder.height;
      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');
      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');
    }
  }
  return {
    width,
    height,
    maxWidth: maxWidth || INFINITY,
    maxHeight: maxHeight || INFINITY
  };
}
const round1 = v => Math.round(v * 10) / 10;
function getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {
  const style = getComputedStyle(canvas);
  const margins = getPositionedStyle(style, 'margin');
  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;
  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;
  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);
  let {width, height} = containerSize;
  if (style.boxSizing === 'content-box') {
    const borders = getPositionedStyle(style, 'border', 'width');
    const paddings = getPositionedStyle(style, 'padding');
    width -= paddings.width + borders.width;
    height -= paddings.height + borders.height;
  }
  width = Math.max(0, width - margins.width);
  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);
  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));
  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));
  if (width && !height) {
    height = round1(width / 2);
  }
  return {
    width,
    height
  };
}
function retinaScale(chart, forceRatio, forceStyle) {
  const pixelRatio = forceRatio || 1;
  const deviceHeight = Math.floor(chart.height * pixelRatio);
  const deviceWidth = Math.floor(chart.width * pixelRatio);
  chart.height = deviceHeight / pixelRatio;
  chart.width = deviceWidth / pixelRatio;
  const canvas = chart.canvas;
  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {
    canvas.style.height = `${chart.height}px`;
    canvas.style.width = `${chart.width}px`;
  }
  if (chart.currentDevicePixelRatio !== pixelRatio
      || canvas.height !== deviceHeight
      || canvas.width !== deviceWidth) {
    chart.currentDevicePixelRatio = pixelRatio;
    canvas.height = deviceHeight;
    canvas.width = deviceWidth;
    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);
    return true;
  }
  return false;
}
const supportsEventListenerOptions = (function() {
  let passiveSupported = false;
  try {
    const options = {
      get passive() {
        passiveSupported = true;
        return false;
      }
    };
    window.addEventListener('test', null, options);
    window.removeEventListener('test', null, options);
  } catch (e) {
  }
  return passiveSupported;
}());
function readUsedSize(element, property) {
  const value = getStyle(element, property);
  const matches = value && value.match(/^(\d+)(\.\d+)?px$/);
  return matches ? +matches[1] : undefined;
}

function _pointInLine(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: p1.y + t * (p2.y - p1.y)
  };
}
function _steppedInterpolation(p1, p2, t, mode) {
  return {
    x: p1.x + t * (p2.x - p1.x),
    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y
    : mode === 'after' ? t < 1 ? p1.y : p2.y
    : t > 0 ? p2.y : p1.y
  };
}
function _bezierInterpolation(p1, p2, t, mode) {
  const cp1 = {x: p1.cp2x, y: p1.cp2y};
  const cp2 = {x: p2.cp1x, y: p2.cp1y};
  const a = _pointInLine(p1, cp1, t);
  const b = _pointInLine(cp1, cp2, t);
  const c = _pointInLine(cp2, p2, t);
  const d = _pointInLine(a, b, t);
  const e = _pointInLine(b, c, t);
  return _pointInLine(d, e, t);
}

const intlCache = new Map();
function getNumberFormat(locale, options) {
  options = options || {};
  const cacheKey = locale + JSON.stringify(options);
  let formatter = intlCache.get(cacheKey);
  if (!formatter) {
    formatter = new Intl.NumberFormat(locale, options);
    intlCache.set(cacheKey, formatter);
  }
  return formatter;
}
function formatNumber(num, locale, options) {
  return getNumberFormat(locale, options).format(num);
}

const getRightToLeftAdapter = function(rectX, width) {
  return {
    x(x) {
      return rectX + rectX + width - x;
    },
    setWidth(w) {
      width = w;
    },
    textAlign(align) {
      if (align === 'center') {
        return align;
      }
      return align === 'right' ? 'left' : 'right';
    },
    xPlus(x, value) {
      return x - value;
    },
    leftForLtr(x, itemWidth) {
      return x - itemWidth;
    },
  };
};
const getLeftToRightAdapter = function() {
  return {
    x(x) {
      return x;
    },
    setWidth(w) {
    },
    textAlign(align) {
      return align;
    },
    xPlus(x, value) {
      return x + value;
    },
    leftForLtr(x, _itemWidth) {
      return x;
    },
  };
};
function getRtlAdapter(rtl, rectX, width) {
  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();
}
function overrideTextDirection(ctx, direction) {
  let style, original;
  if (direction === 'ltr' || direction === 'rtl') {
    style = ctx.canvas.style;
    original = [
      style.getPropertyValue('direction'),
      style.getPropertyPriority('direction'),
    ];
    style.setProperty('direction', direction, 'important');
    ctx.prevTextDirection = original;
  }
}
function restoreTextDirection(ctx, original) {
  if (original !== undefined) {
    delete ctx.prevTextDirection;
    ctx.canvas.style.setProperty('direction', original[0], original[1]);
  }
}

function propertyFn(property) {
  if (property === 'angle') {
    return {
      between: _angleBetween,
      compare: _angleDiff,
      normalize: _normalizeAngle,
    };
  }
  return {
    between: _isBetween,
    compare: (a, b) => a - b,
    normalize: x => x
  };
}
function normalizeSegment({start, end, count, loop, style}) {
  return {
    start: start % count,
    end: end % count,
    loop: loop && (end - start + 1) % count === 0,
    style
  };
}
function getSegment(segment, points, bounds) {
  const {property, start: startBound, end: endBound} = bounds;
  const {between, normalize} = propertyFn(property);
  const count = points.length;
  let {start, end, loop} = segment;
  let i, ilen;
  if (loop) {
    start += count;
    end += count;
    for (i = 0, ilen = count; i < ilen; ++i) {
      if (!between(normalize(points[start % count][property]), startBound, endBound)) {
        break;
      }
      start--;
      end--;
    }
    start %= count;
    end %= count;
  }
  if (end < start) {
    end += count;
  }
  return {start, end, loop, style: segment.style};
}
function _boundSegment(segment, points, bounds) {
  if (!bounds) {
    return [segment];
  }
  const {property, start: startBound, end: endBound} = bounds;
  const count = points.length;
  const {compare, between, normalize} = propertyFn(property);
  const {start, end, loop, style} = getSegment(segment, points, bounds);
  const result = [];
  let inside = false;
  let subStart = null;
  let value, point, prevValue;
  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;
  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);
  const shouldStart = () => inside || startIsBefore();
  const shouldStop = () => !inside || endIsBefore();
  for (let i = start, prev = start; i <= end; ++i) {
    point = points[i % count];
    if (point.skip) {
      continue;
    }
    value = normalize(point[property]);
    if (value === prevValue) {
      continue;
    }
    inside = between(value, startBound, endBound);
    if (subStart === null && shouldStart()) {
      subStart = compare(value, startBound) === 0 ? i : prev;
    }
    if (subStart !== null && shouldStop()) {
      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));
      subStart = null;
    }
    prev = i;
    prevValue = value;
  }
  if (subStart !== null) {
    result.push(normalizeSegment({start: subStart, end, loop, count, style}));
  }
  return result;
}
function _boundSegments(line, bounds) {
  const result = [];
  const segments = line.segments;
  for (let i = 0; i < segments.length; i++) {
    const sub = _boundSegment(segments[i], line.points, bounds);
    if (sub.length) {
      result.push(...sub);
    }
  }
  return result;
}
function findStartAndEnd(points, count, loop, spanGaps) {
  let start = 0;
  let end = count - 1;
  if (loop && !spanGaps) {
    while (start < count && !points[start].skip) {
      start++;
    }
  }
  while (start < count && points[start].skip) {
    start++;
  }
  start %= count;
  if (loop) {
    end += start;
  }
  while (end > start && points[end % count].skip) {
    end--;
  }
  end %= count;
  return {start, end};
}
function solidSegments(points, start, max, loop) {
  const count = points.length;
  const result = [];
  let last = start;
  let prev = points[start];
  let end;
  for (end = start + 1; end <= max; ++end) {
    const cur = points[end % count];
    if (cur.skip || cur.stop) {
      if (!prev.skip) {
        loop = false;
        result.push({start: start % count, end: (end - 1) % count, loop});
        start = last = cur.stop ? end : null;
      }
    } else {
      last = end;
      if (prev.skip) {
        start = end;
      }
    }
    prev = cur;
  }
  if (last !== null) {
    result.push({start: start % count, end: last % count, loop});
  }
  return result;
}
function _computeSegments(line, segmentOptions) {
  const points = line.points;
  const spanGaps = line.options.spanGaps;
  const count = points.length;
  if (!count) {
    return [];
  }
  const loop = !!line._loop;
  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);
  if (spanGaps === true) {
    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);
  }
  const max = end < start ? end + count : end;
  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;
  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);
}
function splitByStyles(line, segments, points, segmentOptions) {
  if (!segmentOptions || !segmentOptions.setContext || !points) {
    return segments;
  }
  return doSplitByStyles(line, segments, points, segmentOptions);
}
function doSplitByStyles(line, segments, points, segmentOptions) {
  const chartContext = line._chart.getContext();
  const baseStyle = readStyle(line.options);
  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;
  const count = points.length;
  const result = [];
  let prevStyle = baseStyle;
  let start = segments[0].start;
  let i = start;
  function addStyle(s, e, l, st) {
    const dir = spanGaps ? -1 : 1;
    if (s === e) {
      return;
    }
    s += count;
    while (points[s % count].skip) {
      s -= dir;
    }
    while (points[e % count].skip) {
      e += dir;
    }
    if (s % count !== e % count) {
      result.push({start: s % count, end: e % count, loop: l, style: st});
      prevStyle = st;
      start = e % count;
    }
  }
  for (const segment of segments) {
    start = spanGaps ? start : segment.start;
    let prev = points[start % count];
    let style;
    for (i = start + 1; i <= segment.end; i++) {
      const pt = points[i % count];
      style = readStyle(segmentOptions.setContext(createContext(chartContext, {
        type: 'segment',
        p0: prev,
        p1: pt,
        p0DataIndex: (i - 1) % count,
        p1DataIndex: i % count,
        datasetIndex
      })));
      if (styleChanged(style, prevStyle)) {
        addStyle(start, i - 1, segment.loop, prevStyle);
      }
      prev = pt;
      prevStyle = style;
    }
    if (start < i - 1) {
      addStyle(start, i - 1, segment.loop, prevStyle);
    }
  }
  return result;
}
function readStyle(options) {
  return {
    backgroundColor: options.backgroundColor,
    borderCapStyle: options.borderCapStyle,
    borderDash: options.borderDash,
    borderDashOffset: options.borderDashOffset,
    borderJoinStyle: options.borderJoinStyle,
    borderWidth: options.borderWidth,
    borderColor: options.borderColor
  };
}
function styleChanged(style, prevStyle) {
  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);
}




/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!************************************************************!*\
  !*** D:\Users\lvfd\nodejs\dovepay-freight-ui\src\Entry.js ***!
  \************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Global */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Global.js");
/* harmony import */ var _Login__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Login */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\Login.js");
/* harmony import */ var _SystemPages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SystemPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\SystemPages.js");
/* harmony import */ var _AgentPages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AgentPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\AgentPages.js");
/* harmony import */ var _StationPages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StationPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\StationPages.js");
/* harmony import */ var _DiscountPages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DiscountPages */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\DiscountPages.js");
/* harmony import */ var _dataStatistic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dataStatistic */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\dataStatistic.js");
/* harmony import */ var _initJqueryAjax__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./initJqueryAjax */ "D:\\Users\\lvfd\\nodejs\\dovepay-freight-ui\\src\\initJqueryAjax.js");








$(document).ready(function () {
  try {
    EntryJS();
  } catch (error) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].errorHandler(error);
    return;
  }
});
function EntryJS() {
  // readonly禁用backspace:
  document.onkeydown = _Global__WEBPACK_IMPORTED_MODULE_0__["default"].banBackSpace;

  // Login page:
  if (document.querySelector('input[data-pageId=dovepay-freight_login]')) {
    (0,_Login__WEBPACK_IMPORTED_MODULE_1__.initLogin_page)();
  }

  // Init Main:
  if (document.getElementById('dpfMain')) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].initMain();
  }

  // Init navbar:
  if (document.getElementById('dpfNav')) {
    _Global__WEBPACK_IMPORTED_MODULE_0__["default"].initNav();
  }

  // Init header:
  if (document.getElementById('dpfHeader')) {
    (0,_Login__WEBPACK_IMPORTED_MODULE_1__.initLogin_initQuirBtn)();
    if (document.getElementById('agentNameInHeader')) (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_userName)();
  }

  // 初始化系统商：用户查询：
  if (document.querySelector('input[data-pageId=system_getAllConsumer]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getAllConsumer)();
  }
  // 初始化系统商：账单查询：
  // if (document.querySelector('input[data-pageId=system_systemQueryBill]')) {
  //   initSystem_systemQueryBill();
  // }
  // 初始化系统商：查询账单：新需求
  if (document.querySelector('input[data-pageId=system_systemQueryBill_new]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_systemQueryBill_new)();
  }
  // 初始化系统商：账单详情查询：
  // if (document.querySelector('input[data-pageId=system_systemQueryBillDetails]')) {
  //   initSystem_systemQueryBillDetails();
  // }
  // 初始化系统商：查询账单详情：新需求
  if (document.querySelector('input[data-pageId=system_systemQueryBillDetails_new]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_systemQueryBillDetails_new)();
  }
  // 初始化系统商：优惠政策管理：
  if (document.querySelector('input[data-pageId=system_getAllDiscountPolicy]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getAllDiscountPolicy)();
  }
  // 初始化系统商：优惠政策详情：
  if (document.querySelector('input[data-pageId=system_getDiscountPolicy]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_getDiscountPolicy)();
  }
  // 初始化系统商: 账单汇总查询:
  if (document.querySelector('input[data-pageId=system_billMangement_queryBills]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_billMangement_queryBills)();
  }
  // 初始化系统商: 基础数据页面:
  if (document.querySelector('input[data-pageId=system_baseData]')) {
    (0,_SystemPages__WEBPACK_IMPORTED_MODULE_2__.initSystem_baseData)();
  }

  // 初始化agent：查询账单(旧需求)：
  // if (document.querySelector('input[data-pageId=consumer_consumerQueryBill]')) {
  //   initAgent_consumerQueryBill();
  // }
  // 初始化agent：查询账单(新需求)：
  if (document.querySelector('input[data-pageId=agent_billMangement_queryBills]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_consumerQueryBill_new)();
  }
  // 初始化agent：查询账单详情(旧需求)：
  // if (document.querySelector('input[data-pageId=consumer_consumerQueryBillDetails]')) {
  //   initAgent_consumerQueryBillDetails();
  // }
  // 初始化agent：查询账单详情(新需求)：
  if (document.querySelector('input[data-pageId=consumer_consumerQueryBillDetails_new]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_consumerQueryBillDetails_new)();
  }
  // 初始化agent：绑定账户：
  if (document.querySelector('input[data-pageId=consumer_getBindConsumer]')) {
    (0,_AgentPages__WEBPACK_IMPORTED_MODULE_3__.initAgent_getBindConsumer)();
  }

  // 初始化station：查询账单：旧需求
  // if (document.querySelector('input[data-pageId=station_stationQueryBill]')) {
  //   initStation_stationQueryBill();
  // }
  // 初始化station：查询账单：新需求
  if (document.querySelector('input[data-pageId=station_stationQueryBill_new]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_stationQueryBill_new)();
  }
  // 初始化station：查询账单详情：旧需求
  // if (document.querySelector('input[data-pageId=station_stationQueryBillDetails]')) {
  //   initStation_stationQueryBillDetails();
  // }
  // 初始化station：查询账单详情：新需求
  if (document.querySelector('input[data-pageId=station_stationQueryBillDetails_new]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_stationQueryBillDetails_new)();
  }
  // 初始化station：用户信息管理：
  if (document.querySelector('input[data-pageId=station_getStationAllConsumer]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_getStationAllConsumer)();
  }
  // 初始化station: 优惠政策管理：
  if (document.querySelector('input[data-pageId=station_getAllDiscountPolicy]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_getAllDiscountPolicy)();
  }
  // 初始化station:优惠: 设置页面选项卡
  if (document.querySelector('input[data-pageId=station_createDiscountPolicy]')) {
    (0,_DiscountPages__WEBPACK_IMPORTED_MODULE_5__.initStation_initTabs)();
  }
  // 初始化station:优惠：政策名细页面：
  if (document.querySelector('input[data-pageId=discountPoliciesManagementDetails]')) {
    (0,_DiscountPages__WEBPACK_IMPORTED_MODULE_5__.initStation_discountPoliciesManagementDetails)();
  }
  // 初始化station: 基础数据页面:
  if (document.querySelector('input[data-pageId=station_baseData]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_baseData)();
  }
  // 初始化station: 账单规则查询页面:
  if (document.querySelector('input[data-pageId=station_billsSetting]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billsSetting)();
  }
  // 初始化station: 新增账单规则页面:
  if (document.querySelector('input[data-pageId=station_billsSetting_addRule]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billsSetting_addRule)();
  }
  // 初始化station: 账单汇总查询:
  if (document.querySelector('input[data-pageId=station_billMangement_queryBills]')) {
    (0,_StationPages__WEBPACK_IMPORTED_MODULE_4__.initStation_billMangement_queryBills)();
  }
  // 初始化station: 数据统计:
  if (document.querySelector('input[data-pageId=dataStatisticIndex]')) {
    _dataStatistic__WEBPACK_IMPORTED_MODULE_6__.dsIndex();
  }
  // 初始化station: 数据统计明细:
  if (document.querySelector('input[data-pageId=dataStatisticDetails]')) {
    _dataStatistic__WEBPACK_IMPORTED_MODULE_6__.dsDetails();
  }
}
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw2QkFBNkI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZOztBQUVaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDJCQUEyQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsVUFBVTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0EsV0FBVyxrQ0FBa0M7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFNBQVMsOEJBQThCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxTQUFTO0FBQzNDLGFBQWEsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxTQUFTO0FBQ2pELGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxPQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sdUNBQXVDLFVBQVU7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtCQUFrQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw2Q0FBNkM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFVBQVU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0NBQXNDLHNDQUFzQztBQUM1RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtCQUErQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0Q0FBNEM7QUFDckQsU0FBUyxvQkFBb0I7QUFDN0I7QUFDQSxPQUFPLGtC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QiwrRUFBZ0MsRUFBRTtFQUNwQztFQUNBO0VBQ0EsSUFBSXZvQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxpREFBaUQsQ0FBQyxFQUFFO0lBQzdFd0osb0VBQW9CLEVBQUU7RUFDeEI7RUFDQTtFQUNBLElBQUkxSixRQUFRLENBQUNFLGFBQWEsQ0FBQyxzREFBc0QsQ0FBQyxFQUFFO0lBQ2xGdUosNkZBQTZDLEVBQUU7RUFDakQ7RUFDQTtFQUNBLElBQUl6SixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxQ0FBcUMsQ0FBQyxFQUFFO0lBQ2pFcWxCLG1FQUFvQixFQUFFO0VBQ3hCO0VBQ0E7RUFDQSxJQUFJdmxCLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHlDQUF5QyxDQUFDLEVBQUU7SUFDckV5b0IsdUVBQXdCLEVBQUU7RUFDNUI7RUFDQTtFQUNBLElBQUkzb0IsUUFBUSxDQUFDRSxhQUFhLENBQUMsaURBQWlELENBQUMsRUFBRTtJQUM3RTRvQiwrRUFBZ0MsRUFBRTtFQUNwQztFQUNBO0VBQ0EsSUFBSTlvQixRQUFRLENBQUNFLGFBQWEsQ0FBQyxxREFBcUQsQ0FBQyxFQUFFO0lBQ2pGeW5CLG1GQUFvQyxFQUFFO0VBQ3hDO0VBQ0E7RUFDQSxJQUFJM25CLFFBQVEsQ0FBQ0UsYUFBYSxDQUFDLHVDQUF1QyxDQUFDLEVBQUU7SUFDbkUrN0IsbURBQXFCLEVBQUU7RUFDekI7RUFDQTtFQUNBLElBQUlqOEIsUUFBUSxDQUFDRSxhQUFhLENBQUMseUNBQXlDLENBQUMsRUFBRTtJQUNyRSs3QixxREFBdUIsRUFBRTtFQUMzQjtBQUNGLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxBZ2VudFBhZ2VzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXEFqYXhNYW5hZ2VyLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXERpc2NvdW50UGFnZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcRm9ybVZhbGlkYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXEdsb2JhbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxMaXN0Ym94LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXExvZ2luLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXE1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcUGFnaW5hdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcUXVlcnlEaWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxzcmNcXFN0YXRpb25QYWdlcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxTeXN0ZW1QYWdlcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxjYW52YXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcZGF0YVN0YXRpc3RpYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxkYXRhU3RhdGlzdGljQ2hhcnRDb25maWcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXHNyY1xcaW5pdEpxdWVyeUFqYXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhLWNhbGxhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYS1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGEtcG9zc2libGUtcHJvdG90eXBlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYWR2YW5jZS1zdHJpbmctaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFuLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LWZvci1lYWNoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktZnJvbS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktaXRlcmF0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktbWV0aG9kLWhhcy1zcGVjaWVzLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhcnJheS1tZXRob2QtaXMtc3RyaWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc2xpY2Utc2ltcGxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc2xpY2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxhcnJheS1zb3J0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcYXJyYXktc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGFycmF5LXNwZWNpZXMtY3JlYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcY2FsbC13aXRoLXNhZmUtaXRlcmF0aW9uLWNsb3NpbmcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjaGVjay1jb3JyZWN0bmVzcy1vZi1pdGVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjbGFzc29mLXJhdy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjb3JyZWN0LXByb3RvdHlwZS1nZXR0ZXIuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtaHRtbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNyZWF0ZS1pdGVyLXJlc3VsdC1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxjcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGNyZWF0ZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbi1hY2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRlZmluZS1idWlsdC1pbnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkZWZpbmUtZ2xvYmFsLXByb3BlcnR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZGVsZXRlLXByb3BlcnR5LW9yLXRocm93LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZGVzY3JpcHRvcnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb2N1bWVudC1hbGwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb2N1bWVudC1jcmVhdGUtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGRvZXMtbm90LWV4Y2VlZC1zYWZlLWludGVnZXIuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxkb20taXRlcmFibGVzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZG9tLXRva2VuLWxpc3QtcHJvdG90eXBlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLWZmLXZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy1kZW5vLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLWlzLWllLW9yLWVkZ2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtaW9zLXBlYmJsZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy1pb3MuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtaXMtbm9kZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS1pcy13ZWJvcy13ZWJraXQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxlbmdpbmUtdXNlci1hZ2VudC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGVuZ2luZS12OC12ZXJzaW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW5naW5lLXdlYmtpdC12ZXJzaW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGV4cG9ydC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZhaWxzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLWFwcGx5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tYmluZC1jb250ZXh0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tYmluZC1uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxmdW5jdGlvbi1jYWxsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZnVuY3Rpb24tbmFtZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLXVuY3VycnktdGhpcy1hY2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGZ1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxmdW5jdGlvbi11bmN1cnJ5LXRoaXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtYnVpbHQtaW4uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LWl0ZXJhdG9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LWpzb24tcmVwbGFjZXItZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxnZXQtbWV0aG9kLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcZ2V0LXN1YnN0aXR1dGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGdsb2JhbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGhhcy1vd24tcHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxoaWRkZW4ta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGhvc3QtcmVwb3J0LWVycm9ycy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGh0bWwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpZTgtZG9tLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGluZGV4ZWQtb2JqZWN0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaW5oZXJpdC1pZi1yZXF1aXJlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGluc3BlY3Qtc291cmNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaW50ZXJuYWwtc3RhdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1hcnJheS1pdGVyYXRvci1tZXRob2QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1hcnJheS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLWNhbGxhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaXMtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1udWxsLW9yLXVuZGVmaW5lZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGlzLXB1cmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpcy1zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcaXRlcmF0b3ItY2xvc2UuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvci1jcmVhdGUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvci1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxpdGVyYXRvcnMtY29yZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGl0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXGxlbmd0aC1vZi1hcnJheS1saWtlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcbWFrZS1idWlsdC1pbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG1hdGgtdHJ1bmMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxtaWNyb3Rhc2suanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxuZXctcHJvbWlzZS1jYXBhYmlsaXR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWFzc2lnbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZGVmaW5lLXByb3BlcnRpZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZGVmaW5lLXByb3BlcnR5LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLWV4dGVybmFsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWdldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtaXMtcHJvdG90eXBlLW9mLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXG9iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb2JqZWN0LXNldC1wcm90b3R5cGUtb2YuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxvYmplY3QtdG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb3JkaW5hcnktdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcb3duLWtleXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwYXRoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccGVyZm9ybS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHByb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwcm9taXNlLXJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxwcm9taXNlLXN0YXRpY3MtaW5jb3JyZWN0LWl0ZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHF1ZXVlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xccmVnZXhwLWV4ZWMtYWJzdHJhY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtZXhlYy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC1mbGFncy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC1nZXQtZmxhZ3MuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtc3RpY2t5LWhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZWdleHAtdW5zdXBwb3J0ZWQtZG90LWFsbC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHJlZ2V4cC11bnN1cHBvcnRlZC1uY2cuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxyZXF1aXJlLW9iamVjdC1jb2VyY2libGUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzZXQtc3BlY2llcy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNoYXJlZC1zdG9yZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNoYXJlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHNwZWNpZXMtY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzdHJpbmctaHRtbC1mb3JjZWQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzdHJpbmctbXVsdGlieXRlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXB1bnljb2RlLXRvLWFzY2lpLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXRyaW0tZm9yY2VkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3RyaW5nLXRyaW0uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzeW1ib2wtY29uc3RydWN0b3ItZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcc3ltYm9sLWRlZmluZS10by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFxzeW1ib2wtcmVnaXN0cnktZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdGFzay5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHRoaXMtbnVtYmVyLXZhbHVlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdG8tYWJzb2x1dGUtaW5kZXguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1pbmRleGVkLW9iamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHRvLWludGVnZXItb3ItaW5maW5pdHkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1wcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1wcm9wZXJ0eS1rZXkuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1zdHJpbmctdGFnLXN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx0cnktdG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdWlkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdXJsLWNvbnN0cnVjdG9yLWRldGVjdGlvbi5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHVzZS1zeW1ib2wtYXMtdWlkLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcdjgtcHJvdG90eXBlLWRlZmluZS1idWcuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcaW50ZXJuYWxzXFx2YWxpZGF0ZS1hcmd1bWVudHMtbGVuZ3RoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2Vhay1tYXAtYmFzaWMtZGV0ZWN0aW9uLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2VsbC1rbm93bi1zeW1ib2wtZGVmaW5lLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxpbnRlcm5hbHNcXHdlbGwta25vd24tc3ltYm9sLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXGludGVybmFsc1xcd2hpdGVzcGFjZXMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuYXJyYXkuY29uY2F0LmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5LnNsaWNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5LnNvcnQuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuZnVuY3Rpb24ubmFtZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5qc29uLnN0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5udW1iZXIuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktc3ltYm9scy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5vYmplY3QudG8tc3RyaW5nLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuYWxsLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UuY2F0Y2guanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnByb21pc2UucmFjZS5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLnJlamVjdC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLnJlc29sdmUuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucmVnZXhwLmV4ZWMuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucmVnZXhwLnRvLXN0cmluZy5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zdHJpbmcuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3RyaW5nLmxpbmsuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3RyaW5nLm1hdGNoLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN0cmluZy5yZXBsYWNlLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN0cmluZy50cmltLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN5bWJvbC5jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3ltYm9sLmZvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5zeW1ib2wuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMuc3ltYm9sLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLnN5bWJvbC5rZXktZm9yLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXHdlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFx3ZWIudXJsLXNlYXJjaC1wYXJhbXMuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS9EOlxcVXNlcnNcXGx2ZmRcXG5vZGVqc1xcZG92ZXBheS1mcmVpZ2h0LXVpXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXHdlYi51cmwuY29uc3RydWN0b3IuanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcd2ViLnVybC5qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjaGFydC5qc1xcYXV0b1xcYXV0by5tanMiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL0Q6XFxVc2Vyc1xcbHZmZFxcbm9kZWpzXFxkb3ZlcGF5LWZyZWlnaHQtdWlcXG5vZGVfbW9kdWxlc1xcY2hhcnQuanNcXGRpc3RcXGNoYXJ0Lm1qcyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcbm9kZV9tb2R1bGVzXFxjaGFydC5qc1xcZGlzdFxcY2h1bmtzXFxoZWxwZXJzLnNlZ21lbnQubWpzIiwid2VicGFjazovL0BseXVmdWRpL2RvdmVwYXktZnJlaWdodC11aS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vQGx5dWZ1ZGkvZG92ZXBheS1mcmVpZ2h0LXVpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9AbHl1ZnVkaS9kb3ZlcGF5LWZyZWlnaHQtdWkvRDpcXFVzZXJzXFxsdmZkXFxub2RlanNcXGRvdmVwYXktZnJlaWdodC11aVxcc3JjXFxFbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3LCBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXdcclxufSBmcm9tICcuL1N0YXRpb25QYWdlcydcclxuXHJcbmltcG9ydCB7XHJcbiAgZmV0Y2hEYXRhLCBmZXRjaF9hZ2VfZ2V0QmluZENvbnN1bWVyLCBmZXRjaF9hZ2VfYmluZENvbnN1bWVyXHJcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuXHJcbmltcG9ydCB7Zm5fZ2V0TWVzLCBmbl9yZW1NZXN9IGZyb20gJy4vTWVzc2FnZSdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxfbmV3KCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldygpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzX25ldygpIHtcclxuICByZXR1cm4gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBZ2VudF91c2VyTmFtZSgpIHtcclxuICB2YXIgc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZ2VudE5hbWVJbkhlYWRlcicpO1xyXG4gIGZldGNoRGF0YShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9nZXRBZ2VudE5hbWVdJykudmFsdWUsICcnLCBzZXRVc2VyTmFtZSwgZmFsc2UpO1xyXG4gIGZ1bmN0aW9uIHNldFVzZXJOYW1lKHJlcykge1xyXG4gICAgIHNwYW4uaW5uZXJIVE1MID0gJyZuYnNwOycgKyByZXMuZGF0YS5jdXN0b21lck5hbWVDaG47XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QWdlbnRfZ2V0QmluZENvbnN1bWVyKCkge1xyXG4gIC8vIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fY29uc3VtZXJfZ2V0QmluZENvbnN1bWVyJyk7XHJcbiAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2dldEJpbmRDb25zdW1lcl0nKS52YWx1ZTtcclxuICBmZXRjaF9hZ2VfZ2V0QmluZENvbnN1bWVyKHVybCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBZ2VfdGFibGUoKXt9XHJcbkFnZV90YWJsZS5wcm90b3R5cGUuZ2V0UGFnZV9iaW5kaW5nID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgdmFyIGRhdGEgPSByZXMuZGF0YSxcclxuICAgICAgbmFtZSA9IGRhdGEuY3VzdG9tZXJOYW1lQ2huLCAgLy8g5ZWG5oi35ZCN56ewXHJcbiAgICAgIHN0YXR1cyA9IGRhdGEuc3RhdHVzLCAgICAgICAgIC8vIOe7keWumueKtuaAgVxyXG4gICAgICAvLyBzdGF0dXNEZXNjID0gZGF0YS5zdGF0dXNEZXNjLCBcclxuICAgICAgY3VzdG9tZXJJZCA9IGRhdGEuY3VzdG9tZXJJZExpc3QsXHJcbiAgICAgIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9jb25zdW1lcl9nZXRCaW5kQ29uc3VtZXInKSxcclxuICAgICAgaW5wX2N1cyA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jdXN0b21lcklkXScpLFxyXG4gICAgICBpbnBfc3RhID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXR1c10nKSxcclxuICAgICAgaW5wX25hbSA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jdXN0b21lck5hbWVDaG5dJyksXHJcbiAgICAgIGJ0bl9iaW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0QmluZEJ0bicpO1xyXG4gIGlucF9jdXMudmFsdWUgPSBjdXN0b21lcklkO1xyXG4gIGlucF9zdGEudmFsdWUgPSBzdGF0dXM7XHJcbiAgaW5wX25hbS52YWx1ZSA9IG5hbWU7XHJcbiAgbGV0IG9sZG1lc05vZGUsIG1lc1xyXG4gIGlmIChzdGF0dXMgPT0gMCkgeyAgLy8g5pyq57uR5a6aXHJcbiAgICBidG5fYmluLmlubmVyVGV4dCA9ICfnu5HlrprotKbmiLcnO1xyXG4gICAgb2xkbWVzTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51ay1hbGVydCcpO1xyXG4gICAgaWYgKG9sZG1lc05vZGUpIGZuX3JlbU1lcyhvbGRtZXNOb2RlKTtcclxuICAgIG1lcyA9IGZuX2dldE1lcygn5oKo5bCa5pyq57uR5a6a6LSm5oi3Jywge3N0eWxlOiAnd2FybmluZycsIGNsb3NlOiB0cnVlfSk7XHJcbiAgICAkKG1lcykuaW5zZXJ0QmVmb3JlKGZvcm0pO1xyXG4gICAgYnRuX2Jpbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9iaW5kQ29uc3VtZXJdJykudmFsdWU7XHJcbiAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgIGN1c3RvbWVySWRMaXN0OiBjdXN0b21lcklkLFxyXG4gICAgICAgIHN0YXR1czogJzEnXHJcbiAgICAgIH07XHJcbiAgICAgIGZldGNoX2FnZV9iaW5kQ29uc3VtZXIodXJsLCBkYXRhKTtcclxuICAgIH0pO1xyXG4gIH0gXHJcbiAgaWYgKHN0YXR1cyA9PSAxKSB7ICAvLyDlt7Lnu5HlrppcclxuICAgIGJ0bl9iaW4uaW5uZXJUZXh0ID0gJ+ino+e7kei0puaItyc7XHJcbiAgICBvbGRtZXNOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnVrLWFsZXJ0Jyk7XHJcbiAgICBpZiAob2xkbWVzTm9kZSkgZm5fcmVtTWVzKG9sZG1lc05vZGUpOyAgXHJcbiAgICBtZXMgPSBmbl9nZXRNZXMoJ+aCqOW3sue7keWumui0puaItycsIHtzdHlsZTogJ3ByaW1hcnknLCBjbG9zZTogdHJ1ZX0pO1xyXG4gICAgJChtZXMpLmluc2VydEJlZm9yZShmb3JtKTtcclxuICAgIGJ0bl9iaW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfYmluZENvbnN1bWVyXScpLnZhbHVlO1xyXG4gICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBjdXN0b21lcklkTGlzdDogY3VzdG9tZXJJZCxcclxuICAgICAgICBzdGF0dXM6ICcwJ1xyXG4gICAgICB9O1xyXG4gICAgICAvLyB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICBVSWtpdC5tb2RhbC5jb25maXJtKCfop6PpmaTnu5HlrprkuYvlkI7lsIbkuI3og73nu6fnu63mjqXmlLbotKbljZUsIOehruiupOe7p+e7rT8nKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgZmV0Y2hfYWdlX2JpbmRDb25zdW1lcih1cmwsIGRhdGEpO1xyXG4gICAgICB9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn07IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5pbXBvcnQge2ZuX2dldE1lcywgZm5fcmVtTWVzfSBmcm9tICcuL01lc3NhZ2UnXG5pbXBvcnQge0xpc3Rib3h9IGZyb20gJy4vTGlzdGJveCdcbmltcG9ydCB7U3RhX3RhYmxlfSBmcm9tICcuL1N0YXRpb25QYWdlcydcbmltcG9ydCB7U3lzX3RhYmxlfSBmcm9tICcuL1N5c3RlbVBhZ2VzJ1xuaW1wb3J0IHtBZ2VfdGFibGV9IGZyb20gJy4vQWdlbnRQYWdlcydcblxuLy8g5qOA5p+lcmVzcG9uc2XvvJpcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JlcyAocmVzLCBjYWxsYmFjaykge1xuICBpZiAocmVzLmNvZGUgIT0gJzIwMCcpIHtcbiAgICB2YXIgZXJybXNnID0gJ+i/lOWbnuaVsOaNrue7k+aenOmUmeivryEgJyArIHJlcy5jb2RlICsgJzogJyArIHJlcy5tc2c7XG4gICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJybXNnLCBjYWxsYmFjayk7IFxuICAgIGlmIChjb25zb2xlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdyZXNwb25zZTogJywgcmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vLyBJbml0IHN1Ym1pdCBidXR0b246XG5leHBvcnQgZnVuY3Rpb24gZm5faW5pdFN1Ym1pdEJ0bihwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hGbiwgY2FsbGJhY2ssIHBvc3REYXRhSGFuZGxlciwgY29uZmlnKSB7XG4gIHZhciBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0QnRuJyk7XG4gIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvclRhYmxlXScpLnZhbHVlO1xuICAgIHZhciBwb3N0RGF0YSA9ICR0aGlzLmNsb3Nlc3QoJ2Zvcm0nKS5zZXJpYWxpemVPYmplY3QoKTtcbiAgICBpZiAodHlwZW9mIHBvc3REYXRhSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgcG9zdERhdGFIYW5kbGVyLmNhbGwodGhpcywgcG9zdERhdGEpO1xuICAgIHBvc3REYXRhLnBhZ2VOdW1iZXIgPSBwYWdlTnVtYmVyO1xuICAgIHBvc3REYXRhLmluZGV4UGFnZSA9IHBhZ2VOdW1iZXI7XG4gICAgcG9zdERhdGEucGFnZVNpemUgPSBwYWdlU2l6ZTtcbiAgICBwb3N0RGF0YS5jb3VudFBhZ2UgPSBwYWdlU2l6ZTtcbiAgICBHbG9iX2ZuLlRhYmxlLmhpZGVUYWJsZSgpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZldGNoRm4uY2FsbCh0aGlzLCB1cmwsIHBvc3REYXRhLCBjYWxsYmFjaywgY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmV0Y2hGbi5jYWxsKHRoaXMsIHVybCwgcG9zdERhdGEpO1xuICAgIH1cbiAgfSk7XG4gIHN1Ym1pdEJ0bi5jbGljaygpO1xufVxuLy8gSW5pdCBleHBvcnQgYnV0dG9uOlxuZXhwb3J0IGZ1bmN0aW9uIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hGbikge1xuICB2YXIgZXhwb0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHBvcnRCdG4nKTtcbiAgaWYgKCFleHBvQnRuKSByZXR1cm47XG4gIGV4cG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZm9yRXhwb3J0XScpLnZhbHVlO1xuICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgdmFyIHBvc3REYXRhID0gJHRoaXMuY2xvc2VzdCgnZm9ybScpLnNlcmlhbGl6ZU9iamVjdCgpO1xuICAgIGZldGNoRm4uY2FsbCh0aGlzLCB1cmwsIHBvc3REYXRhKTtcbiAgfSk7XG59XG4vLyBFeHBvcnQgZnVuY3Rpb246XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfZXhwb3J0RXhjZWwodXJsLCBkYXRhKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICB2YXIgZmlsZU5hbWUgPSAn5a+85Ye65pWw5o2uLnhscyc7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIGRhdGFUeXBlOiAnJyxcbiAgICB4aHJGaWVsZHM6IHtcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InXG4gICAgfSxcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMsIHN0YXR1cywgeGhyKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzdGF0dXMsIHhocik7XG4gICAgICBpZiAoeGhyLnN0YXR1cyAhPSAyMDApIHtcbiAgICAgICAgdmFyIGVycm1zZyA9ICflr7zlh7rplJnor68hICcgKyB4aHIuc3RhdHVzICsgJzogJyArICB4aHIuc3RhdHVzVGV4dDtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJybXNnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IocmVzLCBmaWxlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgZG93bmxvYWRMaW5rLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChyZXMpO1xuICAgICAgICBkb3dubG9hZExpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZExpbmspO1xuICAgICAgICBkb3dubG9hZExpbmsuY2xpY2soKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb3dubG9hZExpbmspO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG4vLyDmj5DkuqTmlbDmja7lubblpITnkIbov5Tlm57ln7rmnKzlip/og73lh73mlbA6XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hEYXRhKHVybCwgZGF0YSwgY2FsbGJhY2ssIGNvbmZpZykge1xuICB2YXIgcG9zdERhdGEgPSAnJztcbiAgaWYgKGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHJhd0RhdGEgPSBHbG9iX2ZuLmlzSlNPTihkYXRhKT8gSlNPTi5wYXJzZShkYXRhKTogZGF0YTtcbiAgICAgIGlmICghcmF3RGF0YSB8fCB0eXBlb2YgcmF3RGF0YSAhPT0gJ29iamVjdCcpIHRocm93IG5ldyBFcnJvcign5Lyg5YWl55qEZGF0YeWPguaVsOS4jeWQiOazlScpO1xuICAgICAgcG9zdERhdGEgPSBHbG9iX2ZuLmlzSlNPTihkYXRhKT8gZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbGV0IGNoZWNrUmVzQ2FsbGJhY2tcbiAgaWYgKGNvbmZpZyAmJiB0eXBlb2YgY29uZmlnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2hlY2tSZXNDYWxsYmFjayA9IGNvbmZpZ1xuICB9XG4gIHZhciBhamF4Q29uZmlnID0ge1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcywgY2hlY2tSZXNDYWxsYmFjaykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAocmF3RGF0YSAmJiByYXdEYXRhLnBhZ2VOdW1iZXIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzLCByYXdEYXRhLnBhZ2VOdW1iZXIsIHJhd0RhdGEucGFnZVNpemUpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgcmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG4gIGlmIChjb25maWcgJiYgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gY29uZmlnKSB7XG4gICAgICBhamF4Q29uZmlnW2tleV0gPSBjb25maWdba2V5XTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY29uZmlnID09PSBmYWxzZSkge1xuICAgIGFqYXhDb25maWcuZ2xvYmFsID0gZmFsc2U7XG4gIH1cbiAgJC5hamF4KGFqYXhDb25maWcpO1xufVxuXG4vLyBzeXM6XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3lzX2dldEFsbENvbnN1bWVyKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgdmFyIHBhZ2VOdW1iZXIgPSBkYXRhLnBhZ2VOdW1iZXI7XG4gIHZhciBwYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpXG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgdGFibGUgPSBuZXcgU3lzX3RhYmxlKCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWJsZS5nZXRUYWJsZV91c2VySW5mbyhyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3lzX3F1ZXJ5RGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgdGFibGUgPSBuZXcgU3lzX3RhYmxlKCk7XG4gICAgICB0cnkge1xuICAgICAgICB0YWJsZS5nZXRUYWJsZV9pbk1vZGFsKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N5c19nZXRBbGxEaXNjb3VudFBvbGljeSh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIHZhciBwYWdlTnVtYmVyID0gZGF0YS5wYWdlTnVtYmVyO1xuICB2YXIgcGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xuICBjb25zb2xlLmxvZyh1cmwsIHBvc3REYXRhKVxuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYmxlID0gbmV3IFN5c190YWJsZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGFibGUuZ2V0VGFibGVfcXVlcnlQb2xpY2llcyhyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIGFnZW50OlxuLy8g5o+Q5Lqk5pSv5LuY77yaXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfYWdlX3RvUGF5KHVybCwgZGF0YSkgeyAgLy8g5Y675pS26ZO25Y+wXG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgLy8gY29uc29sZS5sb2cocmVzKVxuICAgICAgLy8gZGVidWdnZXJcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuOyBcbiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEsXG4gICAgICAgICAgcGF5VXJsID0gZGF0YS5wYXlVcmwsXG4gICAgICAgICAgcGF5RGF0YSA9IGRhdGEucGF5RGF0YTtcbiAgICAgIEdsb2JfZm4uc3VibVZpcnRGb3JtKHBheVVybCwgcGF5RGF0YSk7XG4gICAgfVxuICB9KTtcbn1cbi8vIOiOt+WPlui0puaIt+e7keWumuaVsOaNru+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX2FnZV9nZXRCaW5kQ29uc3VtZXIodXJsKSB7ICAvLyDojrflj5bnu5Hlrprkv6Hmga9cbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgLy8gY29uc29sZS5sb2cocmVzKTtcbiAgICAgIHZhciB0YWJsZSA9IG5ldyBBZ2VfdGFibGUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRhYmxlLmdldFBhZ2VfYmluZGluZyhyZXMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOaPkOS6pOe7keWumu+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX2FnZV9iaW5kQ29uc3VtZXIodXJsLCBkYXRhKSB7ICAvLyDnu5HlrprllYbmiLdcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIHZhciBzdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChyZXMuY29kZSA9PSAnMjAwJykge1xuICAgICAgICBsZXQgb2xkTWVzXG4gICAgICAgIGlmIChzdGF0dXMgPT0gJzAnKSB7XG4gICAgICAgICAgb2xkTWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LnVrLWFsZXJ0Jyk7XG4gICAgICAgICAgZm5fcmVtTWVzKG9sZE1lcyk7XG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+i0puaIt+ino+e7keaIkOWKnycpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09ICcxJykge1xuICAgICAgICAgIG9sZE1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi51ay1hbGVydCcpO1xuICAgICAgICAgIGZuX3JlbU1lcyhvbGRNZXMpO1xuICAgICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfotKbmiLfnu5HlrprmiJDlip8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtZXMgPSBmbl9nZXRNZXMoJ+e7keWumi/op6Pnu5HlpLHotKUnLCB7c3R5bGU6ICdkYW5nZXInLCBjbG9zZTogdHJ1ZX0pO1xuICAgICAgICAkKG1lcykuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gU3RhdGlvbjpcbi8vIOiwg+i0pu+8mlxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV91cGRhdGVGZWUodXJsLCBkYXRhKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+S/ruaUueaIkOWKnycpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEJ0bicpLmNsaWNrKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSAgICBcbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya5o6o6YCB6LSm5Y2VXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX3N0YXRpb25CaWxsUHVzaCh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocmVzLm1zZyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5o6o6YCB5oiQ5YqfJykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gICBcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muiOt+WPlueUqOaIt+S/oeaBrzpcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9zdGFfZ2V0U3RhdGlvbkFsbENvbnN1bWVyKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XG4gIHZhciBwYWdlTnVtYmVyID0gZGF0YS5wYWdlTnVtYmVyO1xuICB2YXIgcGFnZVNpemUgPSBkYXRhLnBhZ2VTaXplO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYmxlID0gbmV3IFN0YV90YWJsZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGFibGUuZ2V0VGFibGVfZ2V0U3RhdGlvbkFsbENvbnN1bWVyKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muiuvue9ruS8mOaDoO+8iOiOt+WPlu+8iVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9xdWVyeURpc2NvdW50UG9saWN5KHVybCwgY3VzdG9tZXJJZCkge1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6ICcnLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFNldHRpbmcnKTtcbiAgICAgIHZhciBsaXN0Ym94ID0gbmV3IExpc3Rib3goKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3Rib3guZ2V0T3B0aW9uc19kaXNjb3VudE5hbWUocmVzLCBlbGVtZW50LCBjdXN0b21lcklkKTtcbiAgICAgICAgVUlraXQubW9kYWwoZWxlbWVudCkuc2hvdygpO1xuICAgICAgfSBjYXRjaChlcnIpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya6K6+572u5LyY5oOg77yI5re75Yqg77yJXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2FkZERpc2NvdW50Q3VzdG9tZXIodXJsLCBkYXRhKSB7XG4gIGlmICggZGF0YSA9PT0gbnVsbCApIHtcbiAgICBVSWtpdC5tb2RhbC5hbGVydCgn6K+36YCJ5oup6Iez5bCR5LiA6aG55LyY5oOg5pS/562WJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhwb3N0RGF0YSwgdXJsLCByZXMpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+a3u+WKoOaIkOWKnyEnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydChyZXMubXNnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g55So5oi35L+h5oGv566h55CG77ya5p+l55yL5LyY5oOg77yI6I635Y+W77yJXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFNob3dpbmcnKTtcbiAgICAgICAgdmFyIHRhYmxlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCd0YWJsZScpO1xuICAgICAgICB2YXIgdGFiID0gbmV3IFN0YV90YWJsZSgpO1xuICAgICAgICB2YXIgdGJvZHkgPSB0YWIuZ2V0VGFibGVfcXVlcnlEaXNjb3VudEN1c3RvbWVyKHJlcyk7XG4gICAgICAgIHZhciBib2R5cyA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3Rib2R5Jyk7XG4gICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgYm9keXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0YWJsZS5yZW1vdmVDaGlsZChib2R5c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xuICAgICAgICBVSWtpdC5tb2RhbChlbGVtZW50KS5zaG93KCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbi8vIOeUqOaIt+S/oeaBr+euoeeQhu+8muafpeeci+S8mOaDoO+8iOabtOaUue+8iVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9jaGFuZ2VDdXN0b21lckRpc2NvdW50U3RhdHVzKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2cocG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfmm7TmlLnmiJDlip8hJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77ya5p+l55yL5omA5pyJ5LyY5oOg5pS/562WXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2dldEFsbERpc2NvdW50UG9saWN5KHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgdmFyIHBhZ2VOdW1iZXIgPSBkYXRhLnBhZ2VOdW1iZXI7XG4gIHZhciBwYWdlU2l6ZSA9IGRhdGEucGFnZVNpemU7XG4gIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAkLmFqYXgoe1xuICAgIHVybDogdXJsLFxuICAgIGRhdGE6IHBvc3REYXRhLFxuICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgdmFyIHRhYiA9IG5ldyBTdGFfdGFibGUoKTtcbiAgICAgIHRhYi5nZXRUYWJsZV9nZXRBbGxEaXNjb3VudFBvbGljeShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKTtcbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77yaIOWQr+WKqOOAgeWBnOatouS8mOaDoFxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9jaGFuZ2VEaXNjb3VudFN0YXR1cyh1cmwsIGRhdGEpIHtcbiAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcylcbiAgICAgIGlmIChyZXMubXNnID09ICdzdWNjZXNzJykge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5pON5L2c5oiQ5YqfJykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuLy8g5LyY5oOg5pS/562W566h55CG77ya5LyY5oOg5pS/562W6K+m5oOFXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhX2dldERpc2NvdW50UG9saWN5KHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xuICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5peg5pWw5o2uJyk7XG4gICAgICB9XG4gICAgICBHbG9iX2ZuLmluaXREaXNjb3VudERldGFpbHMoZGF0YSk7XG4gICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkFjdGlvbicpO1xuICAgICAgdmFyIHN0YXR1c19jaGFuZ2VUb1RoaXMgPSBudWxsO1xuICAgICAgaWYgKGRhdGEuc3RhdHVzID09ICcxJykge1xuICAgICAgICBidG4uaW5uZXJUZXh0ID0gJ+S9nOW6nyc7XG4gICAgICAgIHN0YXR1c19jaGFuZ2VUb1RoaXMgPSAyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnRuLmlubmVyVGV4dCA9ICflkK/nlKgnO1xuICAgICAgICBzdGF0dXNfY2hhbmdlVG9UaGlzID0gMTtcbiAgICAgIH1cbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9jaGFuZ2VEaXNjb3VudFN0YXR1c10nKS52YWx1ZTtcbiAgICAgICAgdmFyIHBvc3REYXRhID0ge1xuICAgICAgICAgIGRpc2NvdW50UG9saWN5SWQ6IGRhdGEuZGlzY291bnRQb2xpY3lJZCxcbiAgICAgICAgICBzdGF0dXM6IHN0YXR1c19jaGFuZ2VUb1RoaXNcbiAgICAgICAgfTtcbiAgICAgICAgZmV0Y2hfc3RhX2NoYW5nZURpc2NvdW50U3RhdHVzKHVybCwgcG9zdERhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbi8vIOaWsOWinuS8mOaDoO+8muiOt+WPluWTgeWQjVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3N0YV9xdWVyeUNhcmdvKHVybCwgZGF0YSwgcmVzdWx0Q29udGFpbmVyKSB7XG4gIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHtjYXJnb05tOiBkYXRhfSk7XG4gICQuYWpheCh7XG4gICAgdXJsOiB1cmwsXG4gICAgZGF0YTogcG9zdERhdGEsXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHZhciBsaXN0Ym94ID0gbmV3IExpc3Rib3goKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxpc3Rib3guZ2V0T3B0aW9uc19jYXJnb05hbWUocmVzLCByZXN1bHRDb250YWluZXIpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGUpO1xuICAgICAgfSAgICAgIFxuICAgIH1cbiAgfSk7XG59XG4vLyDmlrDlop7kvJjmg6DvvJrmj5DkuqTkvJjmg6BcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9zdGFfc3VibWl0RGlzY291bnRQYWdlKHVybCwgZGF0YSkge1xuICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgJC5hamF4KHtcbiAgICB1cmw6IHVybCxcbiAgICBkYXRhOiBwb3N0RGF0YSxcbiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgaWYgKHJlcy5tc2cgPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfliJvlu7rmiJDlip8nKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2Rpc2NvdW50UG9saWNpZXNNYW5hZ2VtZW50JztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihyZXMubXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgR2xvYl9mbiBmcm9tICcuL0dsb2JhbCdcclxuaW1wb3J0IGZuX3F1ZXJ5RGljdCBmcm9tICcuL1F1ZXJ5RGljdCdcclxuaW1wb3J0IHtpbml0TGlzdEJveH0gZnJvbSAnLi9MaXN0Ym94J1xyXG5pbXBvcnQge1xyXG4gIGNoZWNrUmVzLCBmZXRjaF9zdGFfZ2V0RGlzY291bnRQb2xpY3ksIGZldGNoX3N0YV9xdWVyeUNhcmdvLCBmZXRjaF9zdGFfc3VibWl0RGlzY291bnRQYWdlXHJcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnREZXRhaWxzKCkge1xyXG4gIHZhciBkaXNjb3VudFBvbGljeUlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaXNjb3VudFBvbGljeUlkXScpLnZhbHVlO1xyXG4gIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9nZXREaXNjb3VudFBvbGljeV0nKS52YWx1ZTtcclxuICB2YXIgZGF0YSA9IHtcclxuICAgIGRpc2NvdW50UG9saWN5SWQ6IGRpc2NvdW50UG9saWN5SWRcclxuICB9O1xyXG4gIC8v6L6T5Ye66K+m5oOF5pWw5o2uLCDnu5HlrprlkK/nlKgv5L2c5bqfYnV0dG9uXHJcbiAgZmV0Y2hfc3RhX2dldERpc2NvdW50UG9saWN5KHVybCwgZGF0YSk7XHJcbiAgLy8g57uR5a6a6L+U5ZueYnV0dG9uXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkJhY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT11cmxfZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnRdJykudmFsdWVcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9pbml0VGFicygpIHtcclxuICB2YXIgcXVlcnlUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaWN0X2FwaV9xdWVyeVR5cGVdJykudmFsdWU7XHJcbiAgaWYgKCFxdWVyeVR5cGUpIHJldHVybjtcclxuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgdmFyIHRleHRzID0gcmVzLmRhdGEsXHJcbiAgICBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZScpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjcmVhdGVOb2Rlcyhjb250ZW50LCB0ZXh0c1tpXSwgaSk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2hQYWdlKDApO1xyXG4gIH1cclxuICBmbl9xdWVyeURpY3QocXVlcnlUeXBlLCBjYWxsYmFjayk7XHJcbiAgZnVuY3Rpb24gY3JlYXRlTm9kZXMoY29udGVudCwgZGF0YSwgbnVtKSB7XHJcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpLFxyXG4gICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKTtcclxuICAgIGEuaW5uZXJUZXh0ID0gZGF0YS52YWx1ZTtcclxuICAgIGEuc2V0QXR0cmlidXRlKCdkYXRhLXR5cGUnLCBkYXRhLnR5cGUpO1xyXG4gICAgYS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgZGF0YS5rZXkpO1xyXG4gICAgYS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHN3aXRjaFBhZ2UobnVtKTtcclxuICAgIH0pO1xyXG4gICAgbGkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGxpKTtcclxuICB9XHJcbiAgZnVuY3Rpb24gc3dpdGNoUGFnZShudW0pIHtcclxuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uI2Zvcm0tY29udGFpbmVyJyk7XHJcbiAgICB2YXIgaW5pdFBhZ2UgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgJChjb250YWluZXIpLmh0bWwocmVzKTtcclxuICAgICAgaW5pdFBhZ2VfMSgpO1xyXG4gICAgfTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogJ2Rpc2NvdW50UG9saWNpZXMvJyArIChOdW1iZXIobnVtKSsxKSxcclxuICAgICAgaGVhZGVyczogJycsXHJcbiAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICBkYXRhVHlwZTogJ2h0bWwnLFxyXG4gICAgICBzdWNjZXNzOiBpbml0UGFnZVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGluaXRQYWdlXzEoKSB7XHJcbiAgICAvLyBpbml0IFdkYXRlOlxyXG4gICAgR2xvYl9mbi5XZGF0ZUluaXQoJ3N0YXJ0VGltZScsICdlbmRUaW1lJyk7XHJcbiAgICBcclxuICAgIC8vIOaZrumAmuS8mOaDoO+8jOafpeivouWtl+WFuOaOpeWPo+WKoOi9vXNlbGVjdOeahG9wdGlvbjpcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm9ybWFsX2Rpc2NvdW50X3R5cGVfc2VsZWN0Jykpe1xyXG4gICAgICBmbl9xdWVyeURpY3QoJ0RJU0NPVU5UX1NVUFBPUlQnLCBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgVUlraXQuYWxlcnQoJ+Wtl+WFuOaOpeWPo+aXoOaVsOaNricpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3JtYWxfZGlzY291bnRfdHlwZV9zZWxlY3QnKTtcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtpXSkge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09ICd2YWx1ZScpIHtcclxuICAgICAgICAgICAgICBvcC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgb3Auc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlbC5hcHBlbmRDaGlsZChvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDnu5HlrppzZWxlY3TlhbPogZRsaXN0Ym9477yaXHJcbiAgICAgICAgdmFyIGxpc3Rib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BlY2lhbENhcmdvTmFtZUxpc3Rib3gnKTtcclxuICAgICAgICBzZWxUb0xpc3Rib3goKTtcclxuICAgICAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzZWxUb0xpc3Rib3goJ29uY2hhbmdlJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZnVuY3Rpb24gc2VsVG9MaXN0Ym94KHR5cGUpIHtcclxuICAgICAgICAgIGlmIChzZWwub3B0aW9uc1tzZWwuc2VsZWN0ZWRJbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpID09ICdOX0dBX0RfRScpIHtcclxuICAgICAgICAgICAgbGlzdGJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZuX3F1ZXJ5Q2FyZ29ObUJ0bicpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxpc3Rib3guc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc3RTZWxlY3QnKS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDoiKrngrnkvJjmg6DvvIzliJ3lp4vljJboiKrngrnkv6Hmga/vvJpcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0dXJlSW5mbycpKSB7XHJcbiAgICAgIHZhciBkZXBhcnR1cmVJbmZvID0gbmV3IERlcGFydHVyZUluZm8oKTtcclxuICAgICAgZGVwYXJ0dXJlSW5mby5hZGQoJ2luaXQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDkvJjmg6DmlL/nrZborr7nva7pobXpnaLvvIzliJ3lp4vljJblop7liqDoiKrnj63lj7fnu4Tku7ZcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXRBc3NldHMnKSkge1xyXG4gICAgICB2YXIgYWlybGluZU51bSA9IG5ldyBBaXJsaW5lTnVtKCk7XHJcbiAgICAgIGFpcmxpbmVOdW0uYWRkKCdhaXJsaW5lTnVtJywgJ2luaXQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliqDovb3lk4HlkI1saXN0Ym9477yaXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmdvTmFtZUxpc3Rib3gnKSB8fFxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVjaWFsQ2FyZ29OYW1lTGlzdGJveCcpKSB7XHJcbiAgICAgIGluaXRMaXN0Qm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5ZOB5ZCN5p+l6K+i77yaXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZuX3F1ZXJ5Q2FyZ29ObUJ0bicpKSB7XHJcbiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm5fcXVlcnlDYXJnb05tQnRuJyk7XHJcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUNhcmdvXScpLnZhbHVlO1xyXG4gICAgICB2YXIgcmVzdWx0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0I3NvdXJjZVNlbGVjdCcpO1xyXG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHBvc3REYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1jYXJnb05tXScpLnZhbHVlO1xyXG4gICAgICAgIGZldGNoX3N0YV9xdWVyeUNhcmdvKHVybCwgcG9zdERhdGEsIHJlc3VsdENvbnRhaW5lcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyDpu5jorqTmiafooYzkuIDmrKHmn6Xor6LvvJpcclxuICAgICAgYnRuLmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5Yid5aeL5YyW6LS555So6KGo5Y2VXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dyYXBfZmVlRGlzY291bnRfYXNzZXRzJykpIHtcclxuICAgICAgdmFyIGZlZURpc2NvdW50SXRlbSA9IG5ldyBGZWVEaXNjb3VudEl0ZW0oKTtcclxuICAgICAgZmVlRGlzY291bnRJdGVtLmFkZCgnaW5pdCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOe7keWumnN1Ym1pdO+8mlxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMScpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMScpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMicpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMicpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9zdWJtaXREaXNjb3VudFBhZ2VfMycpKSB7XHJcbiAgICAgIHN1Ym1pdERpc2NvdW50UGFnZSgnMycpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3VibWl0RGlzY291bnRQYWdlKHBhZ2VOdW0pIHtcclxuICAgICAgdmFyIHN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbl9zdWJtaXQtZGlzY291bnRQYWdlJyk7XHJcbiAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfY3JlYXRlRGlzY291bnRQb2xpY3ldJykudmFsdWU7XHJcbiAgICAgICAgdmFyIHN1Ym1pdCA9IG5ldyBEaXNjb3VudFBhZ2VzU3VibWl0KCk7XHJcbiAgICAgICAgdmFyIHBvc3REYXRhID0ge307XHJcbiAgICAgICAgaWYgKHBhZ2VOdW0gPT0gJzEnKVxyXG4gICAgICAgICAgcG9zdERhdGEgPSBzdWJtaXQuZ2V0UDFQb3N0RGF0YSgpO1xyXG4gICAgICAgIGlmIChwYWdlTnVtID09ICcyJylcclxuICAgICAgICAgIHBvc3REYXRhID0gc3VibWl0LmdldFAyUG9zdERhdGEoKTtcclxuICAgICAgICBpZiAocGFnZU51bSA9PSAnMycpXHJcbiAgICAgICAgICBwb3N0RGF0YSA9IHN1Ym1pdC5nZXRQM1Bvc3REYXRhKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSk7XHJcbiAgICAgICAgZmV0Y2hfc3RhX3N1Ym1pdERpc2NvdW50UGFnZSh1cmwsIHBvc3REYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBBaXJsaW5lTnVtKCkge31cclxuQWlybGluZU51bS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaW5wdXROYW1lLCB0eXBlKXtcclxuICB2YXIgcGFyZW50Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dEFzc2V0cycpO1xyXG4gIHZhciBhc3NldCA9IEFpcmxpbmVOdW0uZ2V0SW5wdXRBc3NldChpbnB1dE5hbWUsIHR5cGUpO1xyXG4gIGlmICghcGFyZW50Tm9kZSkgeyBcclxuICAgIHRocm93IG5ldyBFcnJvcignd2l0aG91dCAjaW5wdXRBc3NldHMnKTtcclxuICB9XHJcbiAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChhc3NldCk7XHJcbn07XHJcbkFpcmxpbmVOdW0uZ2V0SW5wdXRBc3NldCA9IGZ1bmN0aW9uKGlucHV0TmFtZSwgdHlwZSl7XHJcbiAgLy8g5Yid5aeL5YyWd3JhcO+8mlxyXG4gIHZhciB3cmFwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgd3JhcERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXdpZHRoLTEtNCcpXHJcbiAgXHJcbiAgLy8g5Yid5aeL5YyWbGFiZWw6XHJcbiAgdmFyIGFMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgYUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGFMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlucHV0TmFtZSk7XHJcbiAgYUxhYmVsLmlubmVyVGV4dCA9ICfoiKrnj63lj7cnO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoYUxhYmVsKTtcclxuXHJcbiAgLy8g5Yid5aeL5YyW5o6n5Lu257uE77yaXHJcbiAgdmFyIGZvcm1Db250cm9sRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZm9ybUNvbnRyb2xEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWNvbnRyb2xzIHVrLWZsZXggdWstZmxleC1ib3R0b20nKTtcclxuICB3cmFwRGl2LmFwcGVuZENoaWxkKGZvcm1Db250cm9sRGl2KTtcclxuXHJcbiAgLy8g5Yid5aeL5YyWaW5wdXQ6XHJcbiAgdmFyIGFJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgYUlucHV0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstaW5wdXQnKTtcclxuICBhSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuICBhSW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgaW5wdXROYW1lKTtcclxuICBmb3JtQ29udHJvbERpdi5hcHBlbmRDaGlsZChhSW5wdXQpO1xyXG5cclxuICAvLyDliJ3lp4vljJZhZGTlm77moIcgLSBidXR0b27vvJpcclxuICBjcmVhdGVBZGRCdG4oZm9ybUNvbnRyb2xEaXYpO1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZUFkZEJ0bihwYXJlbnROb2RlLCB0eXBlKSB7XHJcbiAgICB2YXIgcGx1c0J0bl9jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgcGx1c0J0bl9jb250ZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgcGx1c0J0bl9jb250ZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gICAgdmFyIHBsdXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHBsdXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgcGx1c0J0bi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2FkZEFzc2V0Jyk7XHJcbiAgICBwbHVzQnRuLmFwcGVuZENoaWxkKHBsdXNCdG5fY29udGVudCk7XHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwbHVzQnRuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBjaGlsZCA9IHBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XHJcbiAgICAgIGlmIChjaGlsZCkge1xyXG4gICAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBsdXNCdG4sIGNoaWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHBsdXNCdG4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBwbHVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xyXG4gICAgICB2YXIgYWlybGluZU51bSA9IG5ldyBBaXJsaW5lTnVtKCk7XHJcbiAgICAgIGFpcmxpbmVOdW0uYWRkKCdhaXJsaW5lTnVtJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOWIneWni+WMlm1pbnVz5Zu+5qCHIC0gYnV0dG9u77yaXHJcbiAgaWYgKCF0eXBlKSB7XHJcbiAgICB2YXIgbWludXNCdG5fY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIG1pbnVzQnRuX2NvbnRlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdmYSBmYS1taW51cycpO1xyXG4gICAgbWludXNCdG5fY29udGVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgIHZhciBtaW51c0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgbWludXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLWhpZ2hsaWdodCBidXR0b24tc3F1YXJlJyk7XHJcbiAgICBtaW51c0J0bi5hcHBlbmRDaGlsZChtaW51c0J0bl9jb250ZW50KTtcclxuICAgIGZvcm1Db250cm9sRGl2LmFwcGVuZENoaWxkKG1pbnVzQnRuKTtcclxuICAgIG1pbnVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIHByZVdyYXBEaXYgPSB3cmFwRGl2LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBuZXh0V3JhcERpdiA9IHdyYXBEaXYubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICB2YXIgcHJlRm9ybUNvbnRyb2xEaXYgPSBwcmVXcmFwRGl2LnF1ZXJ5U2VsZWN0b3IoJy51ay1mb3JtLWNvbnRyb2xzJyk7XHJcbiAgICAgIGlmICggISFwcmVGb3JtQ29udHJvbERpdiAmJiAhbmV4dFdyYXBEaXYpICAvLyDlpoLmnpzmmK/mnIDlkI7kuIDkuKpcclxuICAgICAgICBjcmVhdGVBZGRCdG4ocHJlRm9ybUNvbnRyb2xEaXYsICdpbnNlcnRCZWZvcmUnKTtcclxuICAgICAgd3JhcERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHdyYXBEaXYpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gd3JhcERpdjtcclxufTtcclxuXHJcbmZ1bmN0aW9uIERlcGFydHVyZUluZm8oKSB7fVxyXG5EZXBhcnR1cmVJbmZvLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgdmFyIHBhcmVudE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0dXJlSW5mbycpO1xyXG4gIHZhciBhc3NldCA9IERlcGFydHVyZUluZm8uZ2V0QXNzZXQodHlwZSk7XHJcbiAgaWYgKCFwYXJlbnROb2RlKSB7IFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCd3aXRob3V0ICNkZXBhcnR1cmVJbmZvJyk7XHJcbiAgfVxyXG4gIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYXNzZXQpO1xyXG59O1xyXG5EZXBhcnR1cmVJbmZvLmdldEFzc2V0ID0gZnVuY3Rpb24odHlwZSkge1xyXG4gIHZhciB3cmFwRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgd3JhcERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZsZXggdWstZmxleC1ib3R0b20gZm5fZGVwYXJ0dXJlSW5mb193cmFwIHVrLXdpZHRoLTEtMicpO1xyXG4gIFxyXG4gIHZhciBmbGV4RGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGZsZXhEaXYxLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZm5fZGVwYXJ0dXJlSW5mb18xJyk7XHJcbiAgd3JhcERpdi5hcHBlbmRDaGlsZChmbGV4RGl2MSk7XHJcbiAgdmFyIGxhYmVsXzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gIGxhYmVsXzEuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWxhYmVsJyk7XHJcbiAgbGFiZWxfMS5pbm5lclRleHQgPSAn6LW354K556uZJztcclxuICBmbGV4RGl2MS5hcHBlbmRDaGlsZChsYWJlbF8xKTtcclxuICB2YXIgaW5wdXRfMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgaW5wdXRfMS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0Jyk7XHJcbiAgaW5wdXRfMS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xyXG4gIGZsZXhEaXYxLmFwcGVuZENoaWxkKGlucHV0XzEpO1xyXG5cclxuICB2YXIgZmxleERpdjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBmbGV4RGl2Mi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZuX2RlcGFydHVyZUluZm9fMiB1ay1tYXJnaW4tc21hbGwtbGVmdCB1ay1tYXJnaW4tc21hbGwtcmlnaHQnKTtcclxuICB3cmFwRGl2LmFwcGVuZENoaWxkKGZsZXhEaXYyKTtcclxuICB2YXIgbGFiZWxfMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgbGFiZWxfMi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tbGFiZWwnKTtcclxuICBsYWJlbF8yLnNldEF0dHJpYnV0ZSgnZm9yJywgJ2Rpc2NvdW50VmFsdWUnKTtcclxuICBsYWJlbF8yLmlubmVyVGV4dCA9ICfotbfngrnnq5nkuInlrZfnoIEnO1xyXG4gIGZsZXhEaXYyLmFwcGVuZENoaWxkKGxhYmVsXzIpO1xyXG4gIHZhciBpbnB1dF8yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBpbnB1dF8yLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstaW5wdXQnKTtcclxuICBpbnB1dF8yLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgaW5wdXRfMi5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZGlzY291bnRWYWx1ZScpO1xyXG4gIGZsZXhEaXYyLmFwcGVuZENoaWxkKGlucHV0XzIpO1xyXG5cclxuICBjcmVhdGVBZGRCdG4od3JhcERpdik7XHJcbiAgZnVuY3Rpb24gY3JlYXRlQWRkQnRuKHdyYXBEaXYsIHR5cGUpIHtcclxuICAgIHZhciBidG5fcGx1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuX3BsdXMuc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgIHdyYXBEaXYuYXBwZW5kQ2hpbGQoYnRuX3BsdXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGNoaWxkID0gd3JhcERpdi5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcclxuICAgICAgaWYgKGNoaWxkKSB7XHJcbiAgICAgICAgd3JhcERpdi5pbnNlcnRCZWZvcmUoYnRuX3BsdXMsIGNoaWxkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB3cmFwRGl2LmFwcGVuZENoaWxkKGJ0bl9wbHVzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGJ0bl9wbHVzX2ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICBidG5fcGx1c19pY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgYnRuX3BsdXNfaWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgIGJ0bl9wbHVzLmFwcGVuZENoaWxkKGJ0bl9wbHVzX2ljb24pO1xyXG4gICAgYnRuX3BsdXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XHJcbiAgICAgIHZhciBkZXBhcnR1cmVJbmZvID0gbmV3IERlcGFydHVyZUluZm8oKTtcclxuICAgICAgZGVwYXJ0dXJlSW5mby5hZGQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICAgIFxyXG4gIGlmICghdHlwZSkge1xyXG4gICAgdmFyIGJ0bl9taW51cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuX21pbnVzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYnV0dG9uIGJ1dHRvbi1oaWdobGlnaHQgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgd3JhcERpdi5hcHBlbmRDaGlsZChidG5fbWludXMpO1xyXG4gICAgdmFyIGJ0bl9taW51c19pY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgYnRuX21pbnVzX2ljb24uc2V0QXR0cmlidXRlKCdjbGFzcycsICdmYSBmYS1taW51cycpO1xyXG4gICAgYnRuX21pbnVzX2ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBidG5fbWludXMuYXBwZW5kQ2hpbGQoYnRuX21pbnVzX2ljb24pO1xyXG4gICAgYnRuX21pbnVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIHByZVdyYXBEaXYgPSB3cmFwRGl2LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBuZXh0V3JhcERpdiA9IHdyYXBEaXYubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICBpZiAoICEhcHJlV3JhcERpdiAmJiAhbmV4dFdyYXBEaXYpICAvLyDlpoLmnpzmmK/mnIDlkI7kuIDkuKpcclxuICAgICAgICBjcmVhdGVBZGRCdG4ocHJlV3JhcERpdiwgJ2luc2VydEJlZm9yZScpO1xyXG4gICAgICB3cmFwRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcERpdik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIHdyYXBEaXY7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEZlZURpc2NvdW50SXRlbSgpIHt9XHJcbkZlZURpc2NvdW50SXRlbS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICQuYWpheCh7XHJcbiAgICB1cmw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5RmVlSXRlbV0nKS52YWx1ZSxcclxuICAgIGRhdGE6ICcnLFxyXG4gICAgc3VjY2VzczogZnVuY3Rpb24oZmVlSXRlbSkge1xyXG4gICAgICBpZiAoZmVlSXRlbS5jb2RlICE9ICcyMDAnKSB7XHJcbiAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoZmVlSXRlbS5tc2cpO1xyXG4gICAgICB9XHJcbiAgICAgIGZuX3F1ZXJ5RGljdCgnRElTQ09VTlRfRkVFX1RZUEUnLCBmdW5jdGlvbihmZWVUeXBlKXtcclxuICAgICAgICBpZiAoZmVlVHlwZS5jb2RlICE9ICcyMDAnKSB7XHJcbiAgICAgICAgICBVSWtpdC5tb2RhbC5hbGVydChmZWVUeXBlLm1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2YXIgYXNzZXQgPSBGZWVEaXNjb3VudEl0ZW0uZ2V0QXNzZXQoZmVlSXRlbS5kYXRhLCBmZWVUeXBlLmRhdGEsIHR5cGUpO1xyXG4gICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd3JhcF9mZWVEaXNjb3VudF9hc3NldHMnKTtcclxuICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoYXNzZXQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGFsZXJ0KGUpO1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5GZWVEaXNjb3VudEl0ZW0uZ2V0QXNzZXQgPSBmdW5jdGlvbihmZWVJdGVtRGF0YSwgZmVlVHlwZURhdGEsIHR5cGUpIHtcclxuXHJcbiAgLy8gd3JhcDpcclxuICB2YXIgd3JhcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHdyYXBEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mbGV4IHVrLWZsZXgtbWlkZGxlIHVrLW1hcmdpbiBmbl9nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0Jyk7XHJcblxyXG4gIC8vIOi0ueeUqOWHj+WFjemhue+8mlxyXG4gIHZhciBmZWVJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZmVlSXRlbURpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXdpZHRoLW1lZGl1bScpO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoZmVlSXRlbURpdik7XHJcbiAgdmFyIGZlZUl0ZW1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgZmVlSXRlbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGZlZUl0ZW1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkaXNjb3VudEZlZUtleScpO1xyXG4gIGZlZUl0ZW1MYWJlbC5pbm5lclRleHQgPSAn6LS555So5YeP5YWN6aG5JztcclxuICBmZWVJdGVtRGl2LmFwcGVuZENoaWxkKGZlZUl0ZW1MYWJlbCk7XHJcblxyXG4gIC8qIOeUseWNlemAiTogKi9cclxuICAvLyB2YXIgZmVlSXRlbVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gIC8vIGZlZUl0ZW1TZWxlY3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1zZWxlY3QnKTtcclxuICAvLyBmZWVJdGVtU2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdkaXNjb3VudEZlZUtleScpO1xyXG4gIC8vIGZlZUl0ZW1EaXYuYXBwZW5kQ2hpbGQoZmVlSXRlbVNlbGVjdCk7XHJcbiAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBmZWVJdGVtRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gIC8vICAgbGV0IG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgLy8gICBmb3IgKCBsZXQga2V5IGluIGZlZUl0ZW1EYXRhW2ldKSB7XHJcbiAgLy8gICAgIGlmIChrZXkgPT0gJ2ZlZVNob3J0Tm0nKSB7XHJcbiAgLy8gICAgICAgb3AuaW5uZXJUZXh0ID0gZmVlSXRlbURhdGFbaV1ba2V5XTtcclxuICAvLyAgICAgfVxyXG4gIC8vICAgICBvcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZmVlSXRlbURhdGFbaV1ba2V5XSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gICBmZWVJdGVtU2VsZWN0LmFwcGVuZENoaWxkKG9wKTtcclxuICAvLyB9XHJcbiAgXHJcbiAgLyog5pS55Li65aSa6YCJOiAqL1xyXG4gIC8qIOe7hOS7tue7k+aehDogXHJcbiAgICBmZWVJdGVtQXNzZXRcclxuICAgICAgZmVlSXRlbUJ1dHRvblxyXG4gICAgICBmZWVJdGVtQnV0dG9uTW9kYWxcclxuICAqL1xyXG4gIGNvbnN0IGZlZUl0ZW1Bc3NldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgZmVlSXRlbURpdi5hcHBlbmRDaGlsZChmZWVJdGVtQXNzZXQpXHJcbiAgZmVlSXRlbUFzc2V0LmNsYXNzTGlzdC5hZGQoJ3VrLWZsZXgnLCAnZGlzY291bnRGZWVLZXknKVxyXG4gIFxyXG4gIGNvbnN0IGZlZUl0ZW1pbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICBmZWVJdGVtQXNzZXQuYXBwZW5kQ2hpbGQoZmVlSXRlbWlucHV0KVxyXG4gIGZlZUl0ZW1pbnB1dC5jbGFzc0xpc3QuYWRkKCd1ay1pbnB1dCcpXHJcbiAgZmVlSXRlbWlucHV0LnN0eWxlLnRleHRPdmVyZmxvdyA9ICdlbGxpcHNpcydcclxuICBmZWVJdGVtaW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICfor7fpgInmi6nlh4/lhY3pobknKVxyXG4gIGZlZUl0ZW1pbnB1dC5zZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JywgJ3JlYWRvbmx5JylcclxuXHJcbiAgY29uc3QgZmVlSXRlbUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcbiAgZmVlSXRlbUFzc2V0LmFwcGVuZENoaWxkKGZlZUl0ZW1CdXR0b24pXHJcbiAgY29uc3QgZmVlSXRlbUJ1dHRvbk1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBmZWVJdGVtQXNzZXQuYXBwZW5kQ2hpbGQoZmVlSXRlbUJ1dHRvbk1vZGFsKVxyXG5cclxuICAvKiBmZWVJdGVtQnV0dG9uOiAqL1xyXG4gIGZlZUl0ZW1CdXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtY2FyZXQtcmlnaHRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+J1xyXG4gIGZlZUl0ZW1CdXR0b24uY2xhc3NMaXN0LmFkZCgndWstYnV0dG9uJywgJ3VrLWJ1dHRvbi1wcmltYXJ5JylcclxuICBmZWVJdGVtQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKVxyXG5cclxuICAvKiBmZWVJdGVtQnV0dG9uTW9kYWw6ICovXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsLnNldEF0dHJpYnV0ZSgndWstZHJvcCcsICdtb2RlOiBjbGljazsgcG9zOiByaWdodC1ib3R0b20nKVxyXG4gIGNvbnN0IGNhcmRGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsLmFwcGVuZENoaWxkKGNhcmRGcmFtZSlcclxuICBjYXJkRnJhbWUuY2xhc3NMaXN0LmFkZCgndWstY2FyZCcsICd1ay1jYXJkLWRlZmF1bHQnKVxyXG4gIGNvbnN0IGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gIGNhcmRGcmFtZS5hcHBlbmRDaGlsZChmZWVJdGVtQnV0dG9uTW9kYWxCb2R5KVxyXG4gIGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHkuY2xhc3NMaXN0LmFkZCgndWstY2FyZC1ib2R5JywgJ3VrLWhlaWdodC1sYXJnZScsICd1ay1vdmVyZmxvdy1hdXRvJylcclxuICBjb25zdCBmZWVJdGVtQnV0dG9uTW9kYWxCb2R5VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keS5hcHBlbmRDaGlsZChmZWVJdGVtQnV0dG9uTW9kYWxCb2R5VWwpXHJcbiAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keVVsLmNsYXNzTGlzdC5hZGQoJ3VrLWxpc3QnLCd1ay1saXN0LWRpdmlkZXInKVxyXG4gIGZlZUl0ZW1EYXRhLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgICBpZiAoZGF0YVsnZmVlU2hvcnRObSddKSB7IFxyXG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuICAgICAgZmVlSXRlbUJ1dHRvbk1vZGFsQm9keVVsLmFwcGVuZENoaWxkKGxpKVxyXG4gICAgICBjb25zdCBjYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICAgICAgbGkuYXBwZW5kQ2hpbGQoY2IpXHJcbiAgICAgIGNiLnR5cGUgPSAnY2hlY2tib3gnXHJcbiAgICAgIGNiLmNsYXNzTGlzdC5hZGQoJ3VrLWNoZWNrYm94JywgJ3VrLW1hcmdpbi1zbWFsbC1yaWdodCcpXHJcbiAgICAgIGNiLnNldEF0dHJpYnV0ZSgnZGF0YS1mZWVTaG9ydE5tJywgZGF0YVsnZmVlU2hvcnRObSddKVxyXG4gICAgICBjYi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSWQnLCBkYXRhWydmZWVJZCddPyBkYXRhWydmZWVJZCddOiAnJylcclxuICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxyXG4gICAgICBsaS5hcHBlbmRDaGlsZChzcGFuKVxyXG4gICAgICBzcGFuLmlubmVyVGV4dCA9IGRhdGFbJ2ZlZVNob3J0Tm0nXVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgY29uc3QgY2FyZEZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgY2FyZEZyYW1lLmFwcGVuZENoaWxkKGNhcmRGb290ZXIpXHJcbiAgY2FyZEZvb3Rlci5jbGFzc0xpc3QuYWRkKCd1ay1jYXJkLWZvb3RlcicpXHJcbiAgY29uc3QgZm9vdGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICBjYXJkRm9vdGVyLmFwcGVuZENoaWxkKGZvb3RlckJ0bilcclxuICBmb290ZXJCdG4uY2xhc3NMaXN0LmFkZCgndWstYnV0dG9uJywgJ3VrLWJ1dHRvbi1wcmltYXJ5JywgJ3VrLWFsaWduLWNlbnRlcicpXHJcbiAgZm9vdGVyQnRuLmlubmVyVGV4dCA9ICfnoa7orqQnXHJcbiAgZm9vdGVyQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKVxyXG4gIGZvb3RlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnN0IGNiTGlzdCA9IGZlZUl0ZW1CdXR0b25Nb2RhbEJvZHlVbC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKVxyXG4gICAgY29uc3QgY2hlY2tlZFZhbHVlID0gW11cclxuICAgIGNiTGlzdC5mb3JFYWNoKGNiID0+IHtcclxuICAgICAgaWYgKGNiLmNoZWNrZWQpIHtcclxuICAgICAgICBjaGVja2VkVmFsdWUucHVzaChjYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlU2hvcnRObScpKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgY29uc29sZS5sb2coY2hlY2tlZFZhbHVlKVxyXG4gICAgZmVlSXRlbWlucHV0LnZhbHVlID0gY2hlY2tlZFZhbHVlXHJcbiAgICBVSWtpdC5kcm9wKGZlZUl0ZW1CdXR0b25Nb2RhbCkuaGlkZShmYWxzZSlcclxuICB9KVxyXG5cclxuICAvLyDotLnnlKjlh4/lhY3nsbvlnovvvJpcclxuICB2YXIgZmVlVHlwZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGZlZVR5cGVEaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xyXG4gIHdyYXBEaXYuYXBwZW5kQ2hpbGQoZmVlVHlwZURpdik7XHJcbiAgdmFyIGZlZVR5cGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgZmVlVHlwZUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xyXG4gIGZlZVR5cGVMYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsICdkaXNjb3VudEZlZVR5cGUnKTtcclxuICBmZWVUeXBlTGFiZWwuaW5uZXJUZXh0ID0gJ+WHj+WFjeexu+Weiyc7XHJcbiAgZmVlVHlwZURpdi5hcHBlbmRDaGlsZChmZWVUeXBlTGFiZWwpO1xyXG4gIHZhciBmbGV4RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZmxleERpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZsZXggdWstZmxleC1taWRkbGUgdWstZm9ybS1jb250cm9scycpO1xyXG4gIGZlZVR5cGVEaXYuYXBwZW5kQ2hpbGQoZmxleERpdik7XHJcbiAgdmFyIGZlZVR5cGVTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTtcclxuICBmZWVUeXBlU2VsZWN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstc2VsZWN0IHVrLXdpZHRoLXNtYWxsJyk7XHJcbiAgZmVlVHlwZVNlbGVjdC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCAnZGlzY291bnRGZWVUeXBlJyk7XHJcbiAgZmxleERpdi5hcHBlbmRDaGlsZChmZWVUeXBlU2VsZWN0KTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZlZVR5cGVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBsZXQgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgIGZvciAobGV0IGtleSBpbiBmZWVUeXBlRGF0YVtpXSkge1xyXG4gICAgICBpZiAoa2V5ID09ICd2YWx1ZScpIHtcclxuICAgICAgICBvcC5pbm5lclRleHQgPSBmZWVUeXBlRGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBmZWVUeXBlRGF0YVtpXVtrZXldKTtcclxuICAgIH1cclxuICAgIGZlZVR5cGVTZWxlY3QuYXBwZW5kQ2hpbGQob3ApO1xyXG4gIH1cclxuXHJcbiAgLy8g6LS555So5pWw5YC877yaXHJcbiAgdmFyIGZlZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWlucHV0IHVrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLXdpZHRoLXNtYWxsJyk7XHJcbiAgZmVlSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ251bWJlcicpO1xyXG4gIGZlZUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdkaXNjb3VudEZlZVZhbHVlJyk7XHJcbiAgdmFyIHZhbCA9IGZlZVR5cGVTZWxlY3QuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gIGlmICh2YWwgPT0gJ2ZyZWUnKSB7XHJcbiAgICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJycpO1xyXG4gIH1cclxuICBmbGV4RGl2LmFwcGVuZENoaWxkKGZlZUlucHV0KTtcclxuICB2YXIgZGlzY3JTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIGRpc2NyU3Bhbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLW1hcmdpbi1zbWFsbC1yaWdodCB1ay10ZXh0LW5vd3JhcCcpO1xyXG4gIGRpc2NyU3Bhbi5pbm5lclRleHQgPSAn5YWDL+aKmCc7XHJcbiAgZmxleERpdi5hcHBlbmRDaGlsZChkaXNjclNwYW4pO1xyXG5cclxuICBpZiAoICF0eXBlICkge1xyXG4gICAgdmFyIG1pbnVzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBtaW51c0J0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2J1dHRvbiBidXR0b24taGlnaGxpZ2h0IGJ1dHRvbi1zcXVhcmUnKTtcclxuICAgIGZsZXhEaXYuYXBwZW5kQ2hpbGQobWludXNCdG4pO1xyXG4gICAgdmFyIG1pbnVzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIG1pbnVzSWNvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZhIGZhLW1pbnVzJyk7XHJcbiAgICBtaW51c0ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBtaW51c0J0bi5hcHBlbmRDaGlsZChtaW51c0ljb24pO1xyXG4gICAgbWludXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB2YXIgcHJlV3JhcERpdiA9IHdyYXBEaXYucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgdmFyIG5leHRXcmFwRGl2ID0gd3JhcERpdi5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIHZhciBwcmVGb3JtQ29udHJvbERpdiA9IHByZVdyYXBEaXYucXVlcnlTZWxlY3RvcignLnVrLWZvcm0tY29udHJvbHMnKTtcclxuICAgICAgaWYgKCAhIXByZUZvcm1Db250cm9sRGl2ICYmICFuZXh0V3JhcERpdikgIC8vIOWmguaenOaYr+acgOWQjuS4gOS4qlxyXG4gICAgICAgIGNyZWF0ZUFkZEJ0bihwcmVGb3JtQ29udHJvbERpdiwgJ2luc2VydEJlZm9yZScpO1xyXG4gICAgICB3cmFwRGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcERpdik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIOaMiemSru+8mlxyXG4gIGNyZWF0ZUFkZEJ0bihmbGV4RGl2LCB0eXBlKTtcclxuICBmdW5jdGlvbiBjcmVhdGVBZGRCdG4ocGFyZW50Tm9kZSkge1xyXG4gICAgdmFyIHBsdXNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIHBsdXNCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICdidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLXNxdWFyZScpO1xyXG4gICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChwbHVzQnRuKTtcclxuICAgIHZhciBwbHVzSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcclxuICAgIHBsdXNJY29uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmEgZmEtcGx1cycpO1xyXG4gICAgcGx1c0ljb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICBwbHVzQnRuLmFwcGVuZENoaWxkKHBsdXNJY29uKTtcclxuICAgIHBsdXNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XHJcbiAgICAgIHZhciBmZWVEaXNjb3VudEl0ZW0gPSBuZXcgRmVlRGlzY291bnRJdGVtKCk7XHJcbiAgICAgIGZlZURpc2NvdW50SXRlbS5hZGQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gbGlzdGVuIHNlbGVjdDpcclxuICBjaGVja0ZlZVR5cGUoZmVlVHlwZVNlbGVjdCk7ICAvLyBjaGVjayBhZnRlciBidWlsZGluZ1xyXG4gIGZlZVR5cGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICBjaGVja0ZlZVR5cGUodGhpcyk7XHJcbiAgfSk7XHJcbiAgZnVuY3Rpb24gY2hlY2tGZWVUeXBlKHNlbGVjdE5vZGUpIHtcclxuICAgIHZhciBpbmRleCA9IHNlbGVjdE5vZGUuc2VsZWN0ZWRJbmRleDtcclxuICAgIHZhciB2YWwgPSBzZWxlY3ROb2RlLm9wdGlvbnNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIGlmICh2YWwgPT0gJ2ZyZWUnKSB7XHJcbiAgICAgIGZlZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgIGZlZUlucHV0LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICBmZWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChmZWVJbnB1dC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgPT09ICd0cnVlJykge1xyXG4gICAgICAgIGZlZUlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHdyYXBEaXY7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBEaXNjb3VudFBhZ2VzU3VibWl0KCkge31cclxuRGlzY291bnRQYWdlc1N1Ym1pdC5wcm90b3R5cGUuZ2V0UDFQb3N0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBkYXRhID0ge307XHJcbiAgdmFyIGRpc2NvdW50UG9saWN5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGlzY291bnRQb2xpY3lOYW1lXScpLnZhbHVlO1xyXG4gIHZhciBzdGFydFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXJ0VGltZV0nKS52YWx1ZTtcclxuICB2YXIgZW5kVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZW5kVGltZV0nKS52YWx1ZTtcclxuICB2YXIgZGlzY291bnRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZSAudWstYWN0aXZlIGEnKS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgdmFyIGRpc2NvdW50VmFsdWUgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50VmFsdWVBaXJsaW5lKCk7XHJcbiAgdmFyIG1pbkNoYXJnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9bWluQ2hhcmdlXScpLnZhbHVlO1xyXG4gIHZhciBjYXJnb05vID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXRDYXJnb05vKCk7XHJcbiAgdmFyIGRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50RmVlUmVxdWVzdExpc3QoKTtcclxuICBkYXRhLmRpc2NvdW50UG9saWN5TmFtZSA9IGRpc2NvdW50UG9saWN5TmFtZTtcclxuICBkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICBkYXRhLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gIGRhdGEuZGlzY291bnRUeXBlID0gZGlzY291bnRUeXBlO1xyXG4gIGRhdGEuZGlzY291bnRWYWx1ZSA9IGRpc2NvdW50VmFsdWU7XHJcbiAgZGF0YS5taW5DaGFyZ2UgPSBtaW5DaGFyZ2U7XHJcbiAgZGF0YS5jYXJnb05vID0gY2FyZ29ObztcclxuICBkYXRhLmRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBkaXNjb3VudEZlZVJlcXVlc3RMaXN0O1xyXG5cclxuICByZXR1cm4gZGF0YTtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5wcm90b3R5cGUuZ2V0UDJQb3N0RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBkYXRhID0ge307XHJcbiAgdmFyIGRpc2NvdW50UG9saWN5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGlzY291bnRQb2xpY3lOYW1lXScpLnZhbHVlO1xyXG4gIHZhciBzdGFydFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXN0YXJ0VGltZV0nKS52YWx1ZTtcclxuICB2YXIgZW5kVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZW5kVGltZV0nKS52YWx1ZTtcclxuICB2YXIgZGlzY291bnRUeXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50VHlwZSAudWstYWN0aXZlIGEnKS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgdmFyIGRpc2NvdW50VmFsdWUgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50VmFsdWVBaXJkb3QoKTtcclxuICB2YXIgbWluQ2hhcmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1taW5DaGFyZ2VdJykudmFsdWU7XHJcbiAgdmFyIGRpc2NvdW50RmVlUmVxdWVzdExpc3QgPSBEaXNjb3VudFBhZ2VzU3VibWl0LmdldERpc2NvdW50RmVlUmVxdWVzdExpc3QoKTtcclxuICBkYXRhLmRpc2NvdW50UG9saWN5TmFtZSA9IGRpc2NvdW50UG9saWN5TmFtZTtcclxuICBkYXRhLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcclxuICBkYXRhLmVuZFRpbWUgPSBlbmRUaW1lO1xyXG4gIGRhdGEuZGlzY291bnRUeXBlID0gZGlzY291bnRUeXBlO1xyXG4gIGRhdGEuZGlzY291bnRWYWx1ZSA9IGRpc2NvdW50VmFsdWU7XHJcbiAgZGF0YS5taW5DaGFyZ2UgPSBtaW5DaGFyZ2U7XHJcbiAgZGF0YS5kaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZGlzY291bnRGZWVSZXF1ZXN0TGlzdDtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn07XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQucHJvdG90eXBlLmdldFAzUG9zdERhdGEgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgZGF0YSA9IHt9O1xyXG4gIHZhciBkaXNjb3VudFBvbGljeU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWRpc2NvdW50UG9saWN5TmFtZV0nKS52YWx1ZTtcclxuICB2YXIgc3RhcnRUaW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1zdGFydFRpbWVdJykudmFsdWU7XHJcbiAgdmFyIGVuZFRpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWVuZFRpbWVdJykudmFsdWU7XHJcbiAgdmFyIGRpc2NvdW50VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNjb3VudFR5cGUgLnVrLWFjdGl2ZSBhJykuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gIHZhciBkaXNjb3VudFZhbHVlID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlRnJvbVNlbGVjdCgpO1xyXG4gIHZhciBtaW5DaGFyZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPW1pbkNoYXJnZV0nKS52YWx1ZTtcclxuICB2YXIgY2FyZ29ObyA9IERpc2NvdW50UGFnZXNTdWJtaXQuZ2V0Q2FyZ29ObygpO1xyXG4gIHZhciBkaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0KCk7XHJcbiAgZGF0YS5kaXNjb3VudFBvbGljeU5hbWUgPSBkaXNjb3VudFBvbGljeU5hbWU7XHJcbiAgZGF0YS5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgZGF0YS5lbmRUaW1lID0gZW5kVGltZTtcclxuICBkYXRhLmRpc2NvdW50VHlwZSA9IGRpc2NvdW50VHlwZTtcclxuICBkYXRhLmRpc2NvdW50VmFsdWUgPSBkaXNjb3VudFZhbHVlO1xyXG4gIGRhdGEubWluQ2hhcmdlID0gbWluQ2hhcmdlO1xyXG4gIGRhdGEuY2FyZ29ObyA9IGNhcmdvTm87XHJcbiAgZGF0YS5kaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZGlzY291bnRGZWVSZXF1ZXN0TGlzdDtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn07XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQuZ2V0RGlzY291bnRWYWx1ZUFpcmxpbmUgPSBmdW5jdGlvbigpIHtcclxuICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgdmFyIGlucHV0QXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbbmFtZT1haXJsaW5lTnVtXScpO1xyXG4gIGlmIChpbnB1dEFyci5sZW5ndGggPCAxKSB7IFxyXG4gICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnIlmbGlnaHROdW1iZXLlrZfmrrUnKTsgXHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB2YWx1ZSA9ICQudHJpbShpbnB1dEFycltpXS52YWx1ZSk7XHJcbiAgICBpZiAodmFsdWUgPT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaSA+IDApIHtcclxuICAgICAgcmVzdWx0ICs9ICcsJztcclxuICAgIH1cclxuICAgIHJlc3VsdCArPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlQWlyZG90ID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJlc3VsdCA9ICcnO1xyXG4gIHZhciBpbnB1dEFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W25hbWU9ZGlzY291bnRWYWx1ZV0nKTtcclxuICBpZiAoaW5wdXRBcnIubGVuZ3RoIDwgMSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnInkuInlrZfnoIHlrZfmrrUnKTsgXHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRBcnIubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB2YWx1ZSA9ICQudHJpbShpbnB1dEFycltpXS52YWx1ZSk7XHJcbiAgICBpZiAodmFsdWUgPT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBpZiAoaSA+IDApIHtcclxuICAgICAgcmVzdWx0ICs9ICcsJztcclxuICAgIH1cclxuICAgIHJlc3VsdCArPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudFZhbHVlRnJvbVNlbGVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBzZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1kaXNjb3VudFZhbHVlXScpO1xyXG4gIHZhciB2YWx1ZSA9IHNlbGVjdC5vcHRpb25zW3NlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbkRpc2NvdW50UGFnZXNTdWJtaXQuZ2V0Q2FyZ29ObyA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciByZXN1bHQgPSAnJztcclxuICB2YXIgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc3RTZWxlY3QnKTtcclxuICB2YXIgb3BzID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpO1xyXG4gIC8vIGlmIChvcHMubGVuZ3RoIDwgMSkge1xyXG4gIC8vICAgVUlraXQubW9kYWwuYWxlcnQoJ+ayoeaciea3u+WKoOS8mOaDoOWTgeWQjScpO1xyXG4gIC8vICAgcmV0dXJuO1xyXG4gIC8vIH1cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGNhcmdvTm8gPSBvcHNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWNhcmdvTm8nKTtcclxuICAgIGlmIChpID4gMCkge1xyXG4gICAgICByZXN1bHQgKz0gJywnO1xyXG4gICAgfVxyXG4gICAgaWYgKGNhcmdvTm8gPT09IG51bGwgfHwgY2FyZ29ObyA9PT0gJycpIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICByZXN1bHQgKz0gY2FyZ29ObztcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcclxuRGlzY291bnRQYWdlc1N1Ym1pdC5nZXREaXNjb3VudEZlZVJlcXVlc3RMaXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gIHZhciBsaXN0QXJyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZuX2dldERpc2NvdW50RmVlUmVxdWVzdExpc3QnKTtcclxuICBpZiAobGlzdEFyci5sZW5ndGggPCAxKSB7IHJldHVybiBudWxsOyB9XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0QXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyB2YXIgY2hpbGQgPSB7fTtcclxuICAgIFxyXG4gICAgLyogc2VsZWN0ICovXHJcbiAgICAvLyB2YXIga2V5U2VsZWN0ID0gbGlzdEFycltpXS5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1kaXNjb3VudEZlZUtleV0nKTtcclxuXHJcbiAgICAvKiDmlLnmiJBjaGVja2JveCAqL1xyXG4gICAgY29uc3Qga2V5Q2hlY2tib3hMaXN0ID0gbGlzdEFycltpXS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYuZGlzY291bnRGZWVLZXkgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcclxuICAgIFxyXG4gICAgdmFyIHR5cGVTZWxlY3QgPSBsaXN0QXJyW2ldLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPWRpc2NvdW50RmVlVHlwZV0nKTtcclxuICAgIHZhciBkaXNjb3VudEZlZVR5cGUgPSB0eXBlU2VsZWN0Lm9wdGlvbnNbdHlwZVNlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB2YXIgZGlzY291bnRGZWVWYWx1ZSA9IGxpc3RBcnJbaV0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaXNjb3VudEZlZVZhbHVlXScpLnZhbHVlO1xyXG4gICAgXHJcbiAgICAvKiBzZWxlY3QgcHJvcDogKi9cclxuICAgIC8vIHZhciBkaXNjb3VudEZlZUtleSA9IGtleVNlbGVjdC5vcHRpb25zW2tleVNlbGVjdC5zZWxlY3RlZEluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSWQnKTtcclxuICAgIC8vIHZhciBkaXNjb3VudEZlZUtleU5hbWUgPSBsaXN0QXJyW2ldLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPWRpc2NvdW50RmVlS2V5XScpLnZhbHVlO1xyXG4gICAgLy8gY2hpbGQuZGlzY291bnRGZWVUeXBlID0gZGlzY291bnRGZWVUeXBlO1xyXG4gICAgLy8gY2hpbGQuZGlzY291bnRGZWVLZXkgPSBkaXNjb3VudEZlZUtleTtcclxuICAgIC8vIGNoaWxkLmRpc2NvdW50RmVlS2V5TmFtZSA9IGRpc2NvdW50RmVlS2V5TmFtZTtcclxuICAgIC8vIGNoaWxkLmRpc2NvdW50RmVlVmFsdWUgPSBkaXNjb3VudEZlZVZhbHVlO1xyXG4gICAgLy8gcmVzdWx0LnB1c2goY2hpbGQpO1xyXG5cclxuICAgIC8qIOaUueaIkGNoZWNrYm94IHByb3A6ICovXHJcbiAgICBrZXlDaGVja2JveExpc3QuZm9yRWFjaChjYiA9PiB7XHJcbiAgICAgIGlmIChjYi5jaGVja2VkKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9XHJcbiAgICAgICAgZGF0YS5kaXNjb3VudEZlZVR5cGUgPSBkaXNjb3VudEZlZVR5cGVcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlS2V5ID0gY2IuZ2V0QXR0cmlidXRlKCdkYXRhLWZlZWlkJylcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlS2V5TmFtZSA9IGNiLmdldEF0dHJpYnV0ZSgnZGF0YS1mZWVzaG9ydG5tJylcclxuICAgICAgICBkYXRhLmRpc2NvdW50RmVlVmFsdWUgPSBkaXNjb3VudEZlZVZhbHVlXHJcbiAgICAgICAgcmVzdWx0LnB1c2goZGF0YSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgdmFyIGlucHV0RmVlcmF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZmVlcmF0ZV0nKS52YWx1ZTtcclxuICBpZiAoaW5wdXRGZWVyYXRlKSB7XHJcbiAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgIGRpc2NvdW50RmVlVHlwZTogJ3JhdGUnLFxyXG4gICAgICBkaXNjb3VudEZlZVZhbHVlOiAkLnRyaW0oaW5wdXRGZWVyYXRlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9ybVZhbGlkYXRlKCkge31cblxuRm9ybVZhbGlkYXRlLnByb3RvdHlwZS52YWxpZGF0b3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKTtcbiAgdmFyIG1hcmsgPSBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS12bGQnKTtcbiAgc3dpdGNoIChtYXJrKSB7XG4gICAgZGVmYXVsdDogXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Zvcm3lj4LmlbDmsqHmnInlkIjpgILnmoRkYXRhLXZsZOWxnuaApycpO1xuICAgIGNhc2UgJ3N0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUnOlxuICAgICAgcmV0dXJuIEZvcm1WYWxpZGF0ZS5zdGF0aW9uX2JpbGxzU2V0dGluZ19hZGRSdWxlKCk7XG4gICAgICAvLyBicmVhaztcbiAgICBjYXNlICdhbm90aGVyJzpcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtjb25zb2xlLmxvZygnMTExJyl9O1xuICB9XG59O1xuXG5Gb3JtVmFsaWRhdGUuc3RhdGlvbl9iaWxsc1NldHRpbmdfYWRkUnVsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5wX2JpbGxOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxOYW1lJyk7XG4gIHZhciBpbnBfYmlsbE5hbWVfbWF4V29yZHMgPSAyMDtcbiAgdmFyIGlucF9iaWxsTmFtZV9tYXhXb3Jkc1RleHQgPSAn5pyA5aSa6L6T5YWlJyArIGlucF9iaWxsTmFtZV9tYXhXb3JkcyArICflrZcnO1xuICByZXR1cm4ge1xuICAgIGJpbmRGb3JtSXRlbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlucCA9IGlucF9iaWxsTmFtZTtcbiAgICAgIHZhciBtYXhXb3JkcyA9IGlucF9iaWxsTmFtZV9tYXhXb3JkcztcbiAgICAgIHZhciBtYXhXb3Jkc1RleHQgPSBpbnBfYmlsbE5hbWVfbWF4V29yZHNUZXh0O1xuICAgICAgaWYgKCFpbnApIHJldHVybjtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsIG1heFdvcmRzKTtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgbWF4V29yZHNUZXh0KTtcbiAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3VrLXRvb2x0aXAnLCAndGl0bGU6JyArIG1heFdvcmRzVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgICBpbnAuc2V0QXR0cmlidXRlKCdhdXRvZm9jdXMnLCAnYXV0b2ZvY3VzJyk7XG4gICAgICBpbnAuZm9jdXMoKTtcbiAgICAgIC8vIFVJa2l0LnRvb2x0aXAoaW5wKS5zaG93KCk7XG4gICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBGb3JtVmFsaWRhdGUuaW5wX2NoZWNrTnVsbCh0aGlzLCBtYXhXb3Jkc1RleHQpO1xuICAgICAgfSk7XG4gICAgICBpbnAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIEZvcm1WYWxpZGF0ZS5pbnBfbGltaXRMZW5ndGgodGhpcywgbWF4V29yZHMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGVja0NoZWNrYm94ZXM6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgYm9vID0gZmFsc2U7XG4gICAgICB2YXIgY2hlY2tib3hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9Y2hlY2tib3hdLmxpbmtMYWJlbCcpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGVja2JveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9IGNoZWNrYm94ZXNbaV07XG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XG4gICAgICAgICAgYm9vID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFib28pXG4gICAgICAgIFVJa2l0Lm5vdGlmaWNhdGlvbihcIuivt+WcqOWkmumAiemhueebruS4remAieaLqeiHs+WwkeS4gOS4quexu+Wei1wiLCAnd2FybmluZycpO1xuICAgICAgcmV0dXJuIGJvbztcbiAgICB9LFxuICAgIHN1Ym1pdEJvbzogZnVuY3Rpb24oKSB7XG4gICAgICBGb3JtVmFsaWRhdGUuaW5wX2xpbWl0TGVuZ3RoKGlucF9iaWxsTmFtZSwgaW5wX2JpbGxOYW1lX21heFdvcmRzKTtcbiAgICAgIHZhciBib29zID0gW107XG4gICAgICBib29zLnB1c2goRm9ybVZhbGlkYXRlLmlucF9jaGVja051bGwoaW5wX2JpbGxOYW1lLCBpbnBfYmlsbE5hbWVfbWF4V29yZHNUZXh0KSk7XG4gICAgICBib29zLnB1c2godGhpcy5jaGVja0NoZWNrYm94ZXMoKSk7XG4gICAgICByZXR1cm4gRm9ybVZhbGlkYXRlLnBhc3NUb1N1Ym1pdChib29zKTtcbiAgICB9LFxuICB9XG59O1xuXG5Gb3JtVmFsaWRhdGUuaW5wX2NoZWNrTnVsbCA9IGZ1bmN0aW9uKGlucCwgb3JpZ2luVGV4dCkge1xuICB2YXIgY2hhbmdlVGV4dCA9ICfmraTpobnkuI3og73kuLrnqbonO1xuICBpZiAoIWlucC52YWx1ZSkge1xuICAgIGlucC5jbGFzc0xpc3QuYWRkKCd1ay1mb3JtLWRhbmdlcicpO1xuICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgY2hhbmdlVGV4dCk7XG4gICAgaW5wLnNldEF0dHJpYnV0ZSgndWstdG9vbHRpcCcsICd0aXRsZTonICsgY2hhbmdlVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgVUlraXQudG9vbHRpcChpbnApLnNob3coKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgaW5wLmNsYXNzTGlzdC5yZW1vdmUoJ3VrLWZvcm0tZGFuZ2VyJyk7XG4gICAgaW5wLnNldEF0dHJpYnV0ZSgndWstdG9vbHRpcCcsICd0aXRsZTonICsgb3JpZ2luVGV4dCArICc7IHBvczogdG9wLXJpZ2h0Jyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5Gb3JtVmFsaWRhdGUuaW5wX2xpbWl0TGVuZ3RoID0gZnVuY3Rpb24oaW5wLCBtYXhsZW4pIHtcbiAgdmFyIHRyaW1WYWx1ZSA9ICQudHJpbShpbnAudmFsdWUpO1xuICBpZiAodHJpbVZhbHVlLmxlbmd0aCA+IG1heGxlbikge1xuICAgIGlucC52YWx1ZSA9IHRyaW1WYWx1ZS5zbGljZSgwLCBtYXhsZW4pO1xuICB9IGVsc2Uge1xuICAgIGlucC52YWx1ZSA9IHRyaW1WYWx1ZTtcbiAgfVxufVxuRm9ybVZhbGlkYXRlLnBhc3NUb1N1Ym1pdCA9IGZ1bmN0aW9uKGJvb3NBcnIpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBib29zQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGJvbyA9IGJvb3NBcnJbaV07XG4gICAgaWYgKCFib28pIHtcbiAgICAgIHJldHVybiBib287XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn0iLCIvLyBQb2x5ZmlsbDpcbmlmICghQXJyYXkuaXNBcnJheSkge1xuICBBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xufVxuXG52YXIgR2xvYl9mbiA9IHtcbiAgZXJyb3JIYW5kbGVyOiBmdW5jdGlvbihlcnJvciwgY2FsbGJhY2spIHtcbiAgICB2YXIgZXJyTXNnID0gZXJyb3I/IGVycm9yOiAn5pyq55+l6ZSZ6K+vJztcbiAgICBpZiAoY29uc29sZSkge1xuICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5L+h5oGvSU5fQ09OU09MRTogJywgZXJyTXNnKTtcbiAgICB9XG4gICAgaWYgKFVJa2l0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydChlcnJNc2cpLnRoZW4oY2FsbGJhY2spOyAgXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGFsZXJ0KGVyck1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsZXJ0KGVyck1zZyk7XG4gICAgfVxuICB9LFxuICBpbmhlcml0UHJvdG90eXBlOiBmdW5jdGlvbihzdXBlclR5cGUsIHN1YlR5cGUpIHsgIC8vIOe7p+aJv+WHveaVsO+8mlxuICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3Qoc3VwZXJUeXBlLnByb3RvdHlwZSk7ICAvL+WIm+W7uuWvueixoVxuICAgIHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YlR5cGU7ICAgICAgICAgICAgICAvL+WinuW8uuWvueixoVxuICAgIHN1YlR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlOyAgICAgICAgICAgICAgICAvL+aMh+WumuWvueixoVxuICB9LFxuICBpc0pTT046IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICh0eXBlb2Ygc3RyICE9PSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIG9iamVjdCA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgaWYob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgIC8qIOS4jeWkhOeQhiAqL1xuICAgIH1cbiAgfSxcbiAgaXNET006IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgID8gKGl0ZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudClcbiAgICAgIDogKGl0ZW0gJiYgKHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JykgJiYgKGl0ZW0ubm9kZVR5cGUgPT09IDEpICYmICh0eXBlb2YgaXRlbS5ub2RlTmFtZSA9PT0gJ3N0cmluZycpKTtcbiAgfSxcbiAgaW5pdE1haW46IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RwZk1haW4nKTtcbiAgICB2YXIgaGVhZGVySCA9IDczXG4gICAgdmFyIG5hdkggPSA0MFxuICAgIHZhciBmb290ZXJIID0gOTBcbiAgICAvLyB2YXIgYnJvd3NlckggPSB3aW5kb3cub3V0ZXJIZWlnaHRcbiAgICB2YXIgYnJvd3NlclZpc2libGVIID0gd2luZG93LmlubmVySGVpZ2h0XG4gICAgLy8gY29uc29sZS5sb2coYnJvd3NlckgsIGJyb3dzZXJWaXNpYmxlSClcbiAgICB2YXIgZEggPSBicm93c2VyVmlzaWJsZUggLSBoZWFkZXJIIC0gbmF2SCAtIGZvb3Rlckg7XG4gICAgbWFpbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIm1pbi1oZWlnaHQ6XCIgKyBkSCArIFwicHhcIik7XG4gIH0sXG4gIGluaXROYXY6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBidG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2RwZk5hdiBidXR0b24nKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnRucy5sZW5ndGg7IGkrKykge1xuICAgICAgYnRuc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIHZhciB0aGlzQnRuQ2xzID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdpJykuY2xhc3NMaXN0XG4gICAgICAgIHZhciBkcm9wZG93biA9IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICAgIGlmICh0aGlzQnRuQ2xzLmNvbnRhaW5zKCdmYS1jYXJldC1kb3duJykpIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ0bnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGJ0bnNbal0ucXVlcnlTZWxlY3RvcignaScpXG4gICAgICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZhIGZhLWNhcmV0LWRvd24nKVxuICAgICAgICAgICAgYnRuc1tqXS5uZXh0RWxlbWVudFNpYmxpbmcuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzQnRuQ2xzLnJlbW92ZSgnZmEtY2FyZXQtZG93bicpXG4gICAgICAgICAgdGhpc0J0bkNscy5hZGQoJ2ZhLWNhcmV0LXVwJylcbiAgICAgICAgICBkcm9wZG93bi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6YmxvY2snKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYmx1cigpXG4gICAgICAgICAgdGhpc0J0bkNscy5yZW1vdmUoJ2ZhLWNhcmV0LXVwJylcbiAgICAgICAgICB0aGlzQnRuQ2xzLmFkZCgnZmEtY2FyZXQtZG93bicpXG4gICAgICAgICAgZHJvcGRvd24uc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmUnKVxuICAgICAgICB9XG4gICAgICB9LCBmYWxzZSlcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidG5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJ0bnNbaV0ubmV4dEVsZW1lbnRTaWJsaW5nLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTpub25lJylcbiAgICAgICAgYnRuc1tpXS5xdWVyeVNlbGVjdG9yKCdpJykuc2V0QXR0cmlidXRlKCdjbGFzcycsICdmYSBmYS1jYXJldC1kb3duJylcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBsb2FkaW5nOiB7XG4gICAgc2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmdPdmVybGF5JykpIHJldHVybjtcbiAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgdmFyIG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IG1haW4/IG1haW46IGJvZHk7XG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBkaXYuc2V0QXR0cmlidXRlKCdpZCcsICdsb2FkaW5nT3ZlcmxheScpO1xuICAgICAgLy8gZGl2LnNldEF0dHJpYnV0ZSgndWstc3RpY2t5JywgJycpO1xuICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXBvc2l0aW9uLWNvdmVyIHVrLW92ZXJsYXkgdWstb3ZlcmxheS1kZWZhdWx0IHVrLWZsZXggdWstZmxleC1jZW50ZXIgdWstZmxleC1taWRkbGUnKTtcbiAgICAgIGRpdi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYSBmYS1zcGlubmVyIGZhLXB1bHNlIGZhLTN4IGZhLWZ3XCI+PC9pPjxzcGFuIGNsYXNzPVwic3Itb25seVwiPkxvYWRpbmcuLi48L3NwYW4+JztcbiAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgIHJldHVybiBkaXY7XG4gICAgfSxcbiAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbG9hZGluZ092ZXJsYXknKTtcbiAgICAgIGlmICghZGl2IHx8IGRpdi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnIlsb2FkaW5n6YGu572pJyk7XG4gICAgICB9XG4gICAgICBpZiAoZGl2Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCflrZjlnKjlpJrkuKpsb2FkaW5n6YGu572pJyk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdi5sZW5ndGg7IGkrKykge1xuICAgICAgICBkaXZbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXZbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2hlY2tib3hBbmRSYWRpbzoge1xuICAgIGdldEJpbmRpbmdMYWJlbDogZnVuY3Rpb24oY2hpbGROb2RlKSB7XG4gICAgICB2YXIgbGFiZWwgPSBudWxsO1xuICAgICAgdmFyIGNoaWxkID0gY2hpbGROb2RlO1xuICAgICAgdmFyIG1heENvdW50ID0gNTtcbiAgICAgIGRvIHtcbiAgICAgICAgbGFiZWwgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgICAgICBjaGlsZCA9IGxhYmVsO1xuICAgICAgICBtYXhDb3VudC0tO1xuICAgICAgfSB3aGlsZSAoIGxhYmVsLnRhZ05hbWUgIT09ICdMQUJFTCcgJiYgbWF4Q291bnQgPiAwIClcbiAgICAgIGlmICggbGFiZWwudGFnTmFtZSAhPT0gJ0xBQkVMJyApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnIlsYWJlbOiKgueCuScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH0sXG4gICAgc2V0QmluZGluZ0xhYmVsczogZnVuY3Rpb24ocmFkaW9TZXQpIHtcbiAgICAgIHZhciBwYXJlbnRQcm9wID0gdGhpcztcbiAgICAgIC8vIHZhciBsYWJlbHMgPSBsYWJlbFNldD8gbGFiZWxTZXQ6IGdldExhYmVsU2V0KHJhZGlvU2V0KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9TZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcmFkaW8gPSByYWRpb1NldFtpXTtcbiAgICAgICAgICB2YXIgbGFiZWwgPSBwYXJlbnRQcm9wLmdldEJpbmRpbmdMYWJlbChyYWRpbyk7XG4gICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnYnV0dG9uLXByaW1hcnknKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhZGlvU2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJhZGlvMiA9IHJhZGlvU2V0W2ldO1xuICAgICAgICAgIGlmIChyYWRpbzIuY2hlY2tlZCkge1xuICAgICAgICAgICAgcGFyZW50UHJvcC5nZXRCaW5kaW5nTGFiZWwocmFkaW8yKS5jbGFzc0xpc3QuYWRkKCdidXR0b24tcHJpbWFyeScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdldFJhZGlvVmFsdWUocmFkaW9TZXQpKVxuICAgICAgfTtcbiAgICB9LFxuICAgIGluaXRBY3RpdmVMYWJlbDogZnVuY3Rpb24ocmFkaW8pIHtcbiAgICAgIHZhciBwYXJlbnRQcm9wID0gdGhpcztcbiAgICAgIGlmIChyYWRpby5oYXNBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkge1xuICAgICAgICBwYXJlbnRQcm9wLmdldEJpbmRpbmdMYWJlbChyYWRpbykuY2xhc3NMaXN0LmFkZCgnYnV0dG9uLXByaW1hcnknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudFByb3AuZ2V0QmluZGluZ0xhYmVsKHJhZGlvKS5jbGFzc0xpc3QucmVtb3ZlKCdidXR0b24tcHJpbWFyeScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0UmFkaW9WYWx1ZTogZnVuY3Rpb24ocmFkaW9TZXQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGlvU2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByYWRpbyA9IHJhZGlvU2V0W2ldXG4gICAgICAgIGlmIChyYWRpby5jaGVja2VkKSB7XG4gICAgICAgICAgdmFsdWUgPSByYWRpby52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gIH0sXG4gIFdkYXRlSW5pdDogZnVuY3Rpb24oc3RhcnRUaW1lSWQsIGVuZFRpbWVJZCwgYXJncykge1xuICAgIHZhciBzdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdGFydFRpbWVJZCk7XG4gICAgdmFyIGVuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVuZFRpbWVJZCk7XG4gICAgdmFyIGRhdGVGbXQgPSBhcmdzICYmIGFyZ3MuZGF0ZUZtdD8gYXJncy5kYXRlRm10OiAneXl5eS1NTS1kZCc7XG4gICAgaWYgKGRhdGVGbXQgPT09ICd5eXl55bm0TU3mnIgnKSB7XG4gICAgICBzZXRWZWxJbnAoc3RhcnRUaW1lSWQpO1xuICAgICAgc2V0VmVsSW5wKGVuZFRpbWVJZCk7XG4gICAgfVxuICAgIHZhciBtaW5EYXRlID0gYXJncyAmJiBhcmdzLm1pbkRhdGU/IGFyZ3MubWluRGF0ZTogZmFsc2U7XG4gICAgdmFyIG1heERhdGUgPSBhcmdzICYmIGFyZ3MubWF4RGF0ZT8gYXJncy5tYXhEYXRlOiBmYWxzZTtcbiAgICBzdGEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb25maWdfcyA9IHtcbiAgICAgICAgZGF0ZUZtdDogZGF0ZUZtdCxcbiAgICAgICAgbWF4RGF0ZTogJyNGeyRkcC4kRChcXCcnICsgZW5kVGltZUlkICsgJ1xcJyl9JyxcbiAgICAgIH07XG4gICAgICBpZiAoZGF0ZUZtdCA9PT0gJ3l5eXnlubRNTeaciCcpIHtcbiAgICAgICAgY29uZmlnX3MudmVsID0gc3RhcnRUaW1lSWQgKyAnXzInO1xuICAgICAgICBjb25maWdfcy5yZWFsRGF0ZUZtdCA9IGFyZ3MucmVhbERhdGVGbXQ/IGFyZ3MucmVhbERhdGVGbXQ6ICd5eXl5TU1kZCc7XG4gICAgICB9XG4gICAgICBpZiAobWluRGF0ZSkgY29uZmlnX3MubWluRGF0ZSA9IG1pbkRhdGU7XG4gICAgICBpZiAobWF4RGF0ZSA9PT0gJ3RvZGF5JykgY29uZmlnX3MubWF4RGF0ZSA9ICcjRnskZHAuJEQoXFwnJyArIGVuZFRpbWVJZCArICdcXCcpIHx8IFxcJyV5LSVNLSVkXFwnfSc7XG4gICAgICBXZGF0ZVBpY2tlcihjb25maWdfcyk7XG4gICAgfSk7XG4gICAgZW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29uZmlnX2UgPSB7XG4gICAgICAgIGRhdGVGbXQ6IGRhdGVGbXQsXG4gICAgICAgIG1pbkRhdGU6ICcjRnskZHAuJEQoXFwnJyArIHN0YXJ0VGltZUlkICsgJ1xcJyl9J1xuICAgICAgfTtcbiAgICAgIGlmIChkYXRlRm10ID09PSAneXl5eeW5tE1N5pyIJykge1xuICAgICAgICBjb25maWdfZS52ZWwgPSBlbmRUaW1lSWQgKyAnXzInO1xuICAgICAgICBjb25maWdfZS5yZWFsRGF0ZUZtdCA9IGFyZ3MucmVhbERhdGVGbXQ/IGFyZ3MucmVhbERhdGVGbXQ6ICd5eXl5TU1kZCc7XG4gICAgICB9XG4gICAgICBpZiAobWluRGF0ZSlcbiAgICAgICAgY29uZmlnX2UubWluRGF0ZSA9ICcjRnskZHAuJEQoXFwnJyArIHN0YXJ0VGltZUlkICsgJ1xcJykgfHwgXFwnJyArIG1pbkRhdGUgKyAnXFwnfSc7XG4gICAgICBpZiAobWF4RGF0ZSA9PT0gJ3RvZGF5JykgY29uZmlnX2UubWF4RGF0ZSA9ICcleS0lTS0lZCc7XG4gICAgICBXZGF0ZVBpY2tlcihjb25maWdfZSk7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gc2V0UmVzZXRCdXR0b24oaW5wdXQpIHtcbiAgICAgIHZhciBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtIGlucHV0W3R5cGU9cmVzZXRdJyk7XG4gICAgICBpZiAoIWJ0bikgcmV0dXJuO1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmVsSW5wKGlkKSB7XG4gICAgICB2YXIgaW5wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIHZhciBzcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICB2YXIgc3JjTmFtZSA9IHNyYy5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgIHZhciBkYXRhID0gc3JjLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpO1xuICAgICAgc3JjLnJlbW92ZUF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgaW5wLnNldEF0dHJpYnV0ZSgnbmFtZScsIHNyY05hbWUpO1xuICAgICAgaW5wLnNldEF0dHJpYnV0ZSgnaWQnLCBpZCArICdfMicpO1xuICAgICAgaW5wLnNldEF0dHJpYnV0ZSgndHlwZScsICdoaWRkZW4nKTtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGlucC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGF0YSk7XG4gICAgICAgIHNyYy5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGF0YS5zbGljZSgwLCA0KSArICflubQnICsgZGF0YS5zbGljZSg0LCA2KSArICfmnIgnKTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGlucCk7XG4gICAgICBzZXRSZXNldEJ1dHRvbihpbnApO1xuICAgICAgcmV0dXJuIGlucDtcbiAgICB9XG4gIH0sXG4gIGJhbkJhY2tTcGFjZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZXYgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgdmFyIG9iaiA9IGV2LnRhcmdldCB8fCBldi5zcmNFbGVtZW50O1xuICAgIHZhciB0ID0gb2JqLnR5cGUgfHwgb2JqLmdldEF0dHJpYnV0ZSgndHlwZScpO1xuICAgIHZhciB2UmVhZE9ubHkgPSBvYmouZ2V0QXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgIHZSZWFkT25seSA9ICh2UmVhZE9ubHkgPT0gJycpID8gZmFsc2UgOiB2UmVhZE9ubHk7XG4gICAgdmFyIGZsYWcxID0gKGV2LmtleUNvZGUgPT0gOCAmJiAodCA9PSAncGFzc3dvcmQnIHx8IHQgPT0gJ3RleHQnIHx8IHQgPT0gJ251bWJlcicgfHwgdCA9PSd0ZXh0YXJlYScpICYmIHZSZWFkT25seSAhPSB1bmRlZmluZWQpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHZhciBmbGFnMiA9IChldi5rZXlDb2RlID09IDggJiYgdCAhPSAncGFzc3dvcmQnICYmIHQgIT0gJ3RleHQnICYmIHQgIT0gJ251bWJlcicgJiYgdCAhPSAndGV4dGFyZWEnKSA/IHRydWUgOiBmYWxzZTtcbiAgICBpZiAoZmxhZzIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGZsYWcxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBzdWJtVmlydEZvcm06IGZ1bmN0aW9uKHVybCwgb2JqKSB7XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGZvcm0ubWV0aG9kID0gJ3Bvc3QnO1xuICAgIGZvcm0uYWN0aW9uID0gdXJsO1xuICAgIGZvciAoIHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICB2YXIgaW5wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIGlucC50eXBlID0gJ2hpZGRlbic7XG4gICAgICBpbnAubmFtZSA9IGtleTtcbiAgICAgIGlucC52YWx1ZSA9IG9ialtrZXldO1xuICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnApO1xuICAgIH1cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICAgIGZvcm0uc3VibWl0KCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmb3JtKTtcbiAgfSxcbiAgaW5pdERpc2NvdXRUeXBlU2VsOiBmdW5jdGlvbihkYXRhTGlzdCwgcGFyZW50U2VsZWN0KSB7XG4gICAgdmFyIG9wMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wMC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgJ1RZUEUnKTtcbiAgICBvcDAuaW5uZXJUZXh0ID0gJ+WFqOmDqCc7XG4gICAgcGFyZW50U2VsZWN0LmFwcGVuZENoaWxkKG9wMCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZGF0YUxpc3RbaV0ua2V5KTtcbiAgICAgIG9wLmlubmVyVGV4dCA9IGRhdGFMaXN0W2ldLnZhbHVlO1xuICAgICAgcGFyZW50U2VsZWN0LmFwcGVuZENoaWxkKG9wKTtcbiAgICB9XG4gIH0sXG4gIGluaXRTdXBwbGllclNlbDogZnVuY3Rpb24oZGF0YUxpc3QsIHBhcmVudFNlbGVjdCkge1xuICAgIHZhciBvcDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcDAuc2V0QXR0cmlidXRlKCd2YWx1ZScsICcnKTtcbiAgICBvcDAuaW5uZXJUZXh0ID0gJ+WFqOmDqCc7XG4gICAgcGFyZW50U2VsZWN0LmFwcGVuZENoaWxkKG9wMCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhTGlzdC5sZW5ndGg7IGkrKyl7XG4gICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBkYXRhTGlzdFtpXS5zdXBwbGllcklkKTtcbiAgICAgIG9wLmlubmVyVGV4dCA9IGRhdGFMaXN0W2ldLnN1cHBsaWVyTmFtZUNobjtcbiAgICAgIHBhcmVudFNlbGVjdC5hcHBlbmRDaGlsZChvcCk7XG4gICAgfVxuICB9LFxuICBpbml0RGlzY291bnREZXRhaWxzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2NvdW50UG9saWN5TmFtZScpLnZhbHVlID0gZGF0YS5kaXNjb3VudFBvbGljeU5hbWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpLnZhbHVlID0gZGF0YS5zdGF0dXNEZXNjO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydFRpbWUnKS52YWx1ZSA9IGRhdGEuc3RhcnRUaW1lO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmRUaW1lJykudmFsdWUgPSBkYXRhLmVuZFRpbWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc2NvdW50VHlwZScpLnZhbHVlID0gZGF0YS5kaXNjb3VudFR5cGVEZXNjO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtaW5DaGFyZ2UnKS52YWx1ZSA9IGRhdGEubWluQ2hhcmdlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVyYXRlVmFsdWUnKS52YWx1ZSA9IGdldEZlZXJhdGUoKTtcbiAgICBmdW5jdGlvbiBnZXRGZWVyYXRlKCkge1xuICAgICAgdmFyIGxpc3QgPSBkYXRhLmRpc2NvdW50RmVlUmVxdWVzdExpc3Q7XG4gICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobGlzdFtpXS5kaXNjb3VudEZlZVR5cGUgPT0gJ3JhdGUnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gbGlzdFtpXS5kaXNjb3VudEZlZVZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyDovpPlh7rlk4HlkI3vvJpcbiAgICB2YXIgY2FyZ29OYW1lV3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJnb05hbWUnKTtcbiAgICBpZiAoZGF0YS5jYXJnb05hbWUpIHtcbiAgICAgIGxldCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICBsYWJlbC5pbm5lclRleHQgPSAn5LyY5oOg5ZOB5ZCN6aG5JztcbiAgICAgIGNhcmdvTmFtZVdyYXAuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsIHVrLW1hcmdpbi1zbWFsbC1sZWZ0Jyk7XG4gICAgICBkaXYuaW5uZXJUZXh0ID0gZGF0YS5jYXJnb05hbWU7XG4gICAgICBjYXJnb05hbWVXcmFwLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfSBlbHNlIGlmIChjYXJnb05hbWVXcmFwLmlubmVySFRNTCkge1xuICAgICAgY2FyZ29OYW1lV3JhcC5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gICAgLy8g6L6T5Ye6ZGlzY291bnRWYWx1Ze+8mlxuICAgIHZhciBkaXNjb3VudFZhbHVlV3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNjb3VudFZhbHVlJyk7XG4gICAgaWYgKGRhdGEuZGlzY291bnRWYWx1ZSkge1xuICAgICAgbGV0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGlmIChkYXRhLmRpc2NvdW50VHlwZSA9PSAnRicpXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9ICfkvJjmg6DoiKrnj60nO1xuICAgICAgZWxzZSBpZiAoZGF0YS5kaXNjb3VudFR5cGUgPT0gJ1dQJylcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gJ+S8mOaDoOiIqueCuSc7XG4gICAgICBlbHNlIGlmIChkYXRhLmRpc2NvdW50VHlwZSA9PSAnRycpXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9ICfkvJjmg6DmlK/mjIHmlrnlvI8nO1xuICAgICAgZWxzZVxuICAgICAgICBsYWJlbC5pbm5lclRleHQgPSAn5LyY5oOg5YC8JztcbiAgICAgIGRpc2NvdW50VmFsdWVXcmFwLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbCB1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xuICAgICAgZGl2LmlubmVyVGV4dCA9IGRhdGEuZGlzY291bnRWYWx1ZTtcbiAgICAgIGRpc2NvdW50VmFsdWVXcmFwLmFwcGVuZENoaWxkKGRpdik7XG4gICAgfSBlbHNlIGlmIChkaXNjb3VudFZhbHVlV3JhcC5pbm5lckhUTUwpIHtcbiAgICAgIGRpc2NvdW50VmFsdWVXcmFwLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICBcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY291bnRGZWVSZXF1ZXN0TGlzdCcpO1xuICAgIHZhciB0Ym9keSA9IGdldFRib2R5KCk7XG4gICAgdGFibGUuYXBwZW5kQ2hpbGQodGJvZHkpO1xuICAgIGZ1bmN0aW9uIGdldFRib2R5KCkge1xuICAgICAgdmFyIHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgICAgIHZhciBsaXN0ID0gZGF0YS5kaXNjb3VudEZlZVJlcXVlc3RMaXN0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIGlmIChsaXN0W2ldLmRpc2NvdW50RmVlVHlwZSA9PSAncmF0ZScpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICB0ZDEuaW5uZXJUZXh0ID0gbGlzdFtpXS5kaXNjb3VudEZlZUtleU5hbWU7XG4gICAgICAgICAgdmFyIHRkMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgICAgdGQyLmlubmVyVGV4dCA9IGxpc3RbaV0uZGlzY291bnRGZWVUeXBlRGVzYztcbiAgICAgICAgICB2YXIgdGQzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICB0ZDMuaW5uZXJUZXh0ID0gbGlzdFtpXS5kaXNjb3VudEZlZVZhbHVlO1xuICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XG4gICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQyKTtcbiAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZDMpO1xuICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRib2R5O1xuICAgIH1cbiAgfSxcbiAgVGFibGU6IHtcbiAgICBzaG93Tm9EYXRhOiBmdW5jdGlvbihjb2xzcGFuKSB7XG4gICAgICB2YXIgdHIwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHZhciB0ZDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdGQwLmlubmVyVGV4dCA9ICfml6DmlbDmja4nO1xuICAgICAgdGQwLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsIGNvbHNwYW4pO1xuICAgICAgdGQwLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstdGV4dC1jZW50ZXInKTtcbiAgICAgIHRyMC5hcHBlbmRDaGlsZCh0ZDApO1xuICAgICAgLy8g5riF56m65YiG6aG157uE5Lu277yaXG4gICAgICB2YXIgcGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndWxbZGF0YS1mb3I9ZGF0YVRhYmxlXScpO1xuICAgICAgcGFnLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICByZXR1cm4gdHIwO1xuICAgIH0sXG4gICAgZ2V0VGhUcjogZnVuY3Rpb24odGFibGUpIHtcbiAgICAgIHZhciB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7XG4gICAgICB0aGVhZC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHZhciB0ckluVGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgdGhlYWQuYXBwZW5kQ2hpbGQodHJJblRoZWFkKTtcbiAgICAgIC8vIHRoZWFkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XG4gICAgICAvLyB0aGVhZC5zZXRBdHRyaWJ1dGUoJ3VrLXN0aWNreScsICcnKTtcbiAgICAgIHJldHVybiB0ckluVGhlYWQ7XG4gICAgfSxcbiAgICBzZXRUaDogZnVuY3Rpb24ocGFyZW50VHIsIGNvbnRlbnQsIHNob3dCb28pIHtcbiAgICAgIHZhciB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICB2YXIgc2hvdyA9IHNob3dCb28gPT09IHVuZGVmaW5lZD8gdHJ1ZTogc2hvd0JvbztcbiAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aC5hcHBlbmRDaGlsZChjb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoLmlubmVyVGV4dCA9IGNvbnRlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIXNob3cpIHRoLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgICAgcGFyZW50VHIuYXBwZW5kQ2hpbGQodGgpO1xuICAgICAgcmV0dXJuIHRoO1xuICAgIH0sXG4gICAgc2V0VGQ6IGZ1bmN0aW9uKHBhcmVudFRyLCBkYXRhLCBzaG93Qm9vLCByZXBsYWNlU3RyKSB7XG4gICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdmFyIHNob3cgPSBzaG93Qm9vID09PSB1bmRlZmluZWQ/IHRydWU6IHNob3dCb287XG4gICAgICB2YXIgcmVwbGFjZSA9IHJlcGxhY2VTdHI/IHJlcGxhY2VTdHI6ICctJ1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcbiAgICAgICAgICBzcGFuLmlubmVySFRNTCA9IGRhdGE7XG4gICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Tm9EYXRhKHRkLCByZXBsYWNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChHbG9iX2ZuLmlzRE9NKGRhdGEpKSB7XG4gICAgICAgIHRkLmFwcGVuZENoaWxkKGRhdGEpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICBzZXROb0RhdGEodGQsIHJlcGxhY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoZGF0YVtpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXROb0RhdGEodGQsIHJlcGxhY2UpO1xuICAgICAgfVxuICAgICAgaWYgKCFzaG93KSB0ZC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgIHBhcmVudFRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgIHJldHVybiB0ZDtcbiAgICAgIGZ1bmN0aW9uIHNldE5vRGF0YSh0ZCwgcmVwbGFjZSkge1xuICAgICAgICB0ZC5pbm5lckhUTUwgPSByZXBsYWNlO1xuICAgICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXRleHQtY2VudGVyJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXRUZFNlcmlhbDogZnVuY3Rpb24ocGFyZW50VHIsIG51bWJlciwgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgICAgIHZhciB0ZFNlcmlhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBwYXJlbnRUci5hcHBlbmRDaGlsZCh0ZFNlcmlhbCk7XG4gICAgICB0ZFNlcmlhbC5pbm5lclRleHQgPSBudW1iZXIgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcbiAgICAgIHJldHVybiB0ZFNlcmlhbDtcbiAgICB9LFxuICAgIGhpZGVTb21lOiBmdW5jdGlvbih0ZCwgd2lkdGgpIHtcbiAgICAgIHZhciBzcGFuID0gdGQucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICB2YXIgbWF4VyA9IHdpZHRoPyB3aWR0aDogMjAwO1xuICAgICAgLy8gdmFyIGJ5dGVMZW5ndGggPSB0ZC5pbm5lclRleHQuYnl0ZUxlbmd0aCgpO1xuICAgICAgdmFyIGNvbXB1dGVkV2lkdGggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZVxuICAgICAgICA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHNwYW4sIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpXG4gICAgICAgIDogc3Bhbi5jdXJyZW50U3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKS5zbGljZSgwLCAtMik7XG4gICAgICBpZiAoTnVtYmVyKGNvbXB1dGVkV2lkdGgpIDwgbWF4VykgcmV0dXJuIHRkO1xuICAgICAgdGQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHRkLnN0eWxlLnRleHRPdmVyZmxvdyA9ICdlbGxpcHNpcyc7XG4gICAgICB0ZC5zdHlsZS5tYXhXaWR0aCA9IG1heFcgKyAncHgnO1xuICAgICAgdGQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgdGQuaW5uZXJUZXh0ID0gc3Bhbi5pbm5lclRleHQ7XG4gICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ3VrLXRvb2x0aXAnLCB0ZC5pbm5lclRleHQpO1xuICAgICAgcmV0dXJuIHRkO1xuICAgIH0sXG4gICAgdHJIaWRlU29tZTogZnVuY3Rpb24odHIsIG1heCkge1xuICAgICAgdmFyIHRkcyA9IHRyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RkJyk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGQgPSB0ZHNbaV07XG4gICAgICAgIHRoaXMuaGlkZVNvbWUodGQsIG1heCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHI7XG4gICAgfSxcbiAgICB0Ym9keUhpZGVTb21lOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICAgIGlmICghdGFibGUpIHJldHVybjtcbiAgICAgIGlmICghdGFibGUuaGFzQXR0cmlidXRlKCdkYXRhLWhpZGVTb21lJykpIHJldHVybjtcbiAgICAgIHZhciBwcm9wID0gdGFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhpZGVTb21lJyk7XG4gICAgICB2YXIgc2l6ZSA9IGlzTmFOKE51bWJlcihwcm9wKSk/IG51bGw6IE51bWJlcihwcm9wKTtcbiAgICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgICB2YXIgdHJzID0gdGJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTtcbiAgICAgIGlmICh0cnMubGVuZ3RoIDwgMSkgcmV0dXJuO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRyID0gdHJzW2ldO1xuICAgICAgICB0aGlzLnRySGlkZVNvbWUodHIsIHNpemUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRib2R5O1xuICAgIH0sXG4gICAgYnVpbGRBamF4VGl0bGU6IGZ1bmN0aW9uKHRpdGxlRGF0YSwgcGFyZW50Tm9kZSkge1xuICAgICAgdmFyIGNvbENvdW50ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGl0bGVEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGl0bGVEYXRhW2ldO1xuICAgICAgICBpZiAobGlzdC5mZWVTaG9ydE5tID09PSAn5aSE572u6LS5Jykge1xuICAgICAgICAgIHZhciB0aDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICAgIHRoMC5pbm5lclRleHQgPSAn5Zyw6Z2i6LS5546HJztcbiAgICAgICAgICB0aDAuc2V0QXR0cmlidXRlKCdkYXRhLWNvbCcsIGNvbENvdW50KTtcbiAgICAgICAgICB0aDAuc2V0QXR0cmlidXRlKCdjbGFzcycsICdmZWVJdGVtVGl0bGUnKTtcbiAgICAgICAgICBjb2xDb3VudCsrO1xuICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGgwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xuICAgICAgICB0aC5pbm5lclRleHQgPSBsaXN0LmZlZVNob3J0Tm07XG4gICAgICAgIHRoLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2wnLCBjb2xDb3VudCk7XG4gICAgICAgIGNvbENvdW50Kys7XG4gICAgICAgIHRoLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnZmVlSXRlbVRpdGxlJyk7XG4gICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGgpOyBcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldEFqYXhUaXRsZVZhbHVlOiBmdW5jdGlvbihkYXRhLCBrZXkpIHtcbiAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmFsdWUgPSBkYXRhW2ldW2tleV0udG9TdHJpbmcoKS5yZXBsYWNlKC8tL2csICcjJylcbiAgICAgICAgICAgICAgICAgIC5tYXRjaCgvLT8oWzEtOV1cXGQqKFxcLlxcZCopKnwwXFwuWzEtOV1cXGQqKS9nKTtcbiAgICAgICAgaWYgKGRhdGFbaV0uZmVlU2hvcnRObSA9PT0gJ+WkhOe9rui0uScpIHtcbiAgICAgICAgICBhcnIucHVzaChbJ3NwZWNpYWxQb3MnXSk7XG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycjtcbiAgICB9LFxuICAgIGdldEFqYXhUaXRsZURhdGE6IGZ1bmN0aW9uKHRpdGxlLCBmZWVJZEFyciwgZGF0YUxpc3QpIHtcbiAgICAgIHZhciBhcnIgPSB0aXRsZT8gW3RpdGxlXTogW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZlZUlkQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkYXRhID0gJy0nO1xuICAgICAgICB2YXIgZmVlSWRHcm91cCA9IGZlZUlkQXJyW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZlZUlkR3JvdXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgdGl0bGVGZWVJZCA9IGZlZUlkR3JvdXBbal07XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkYXRhTGlzdC5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgdmFyIGxpc3RGZWVJZCA9IGRhdGFMaXN0W2tdLmZlZUlkO1xuICAgICAgICAgICAgdmFyIGxpc3RWYWx1ZSA9IGRhdGFMaXN0W2tdLmZlZSA9PT0gbnVsbD8gJy0nOiBkYXRhTGlzdFtrXS5mZWU7XG4gICAgICAgICAgICB2YXIgbGlzdFJhdGUgPSBkYXRhTGlzdFtrXS5mZWVyYXRlO1xuICAgICAgICAgICAgdmFyIGxpc3RSYXRlRmxhZyA9IGRhdGFMaXN0W2tdLmZlZVNob3J0Tk0gPT09ICflpITnva7otLknO1xuICAgICAgICAgICAgaWYgKHRpdGxlRmVlSWQgPT0gbGlzdEZlZUlkKSB7XG4gICAgICAgICAgICAgIGlmIChsaXN0UmF0ZUZsYWcpIHtcbiAgICAgICAgICAgICAgICBhcnIucG9wKCk7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gobGlzdFJhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRhdGEgPSBsaXN0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRhdGE6IGFycixcbiAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRBamF4VGl0bGVPYmplY3Q6IGZ1bmN0aW9uKGZlZUlkQXJyLCBkYXRhTGlzdCkge1xuICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZWVJZEFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZmVlSWRHcm91cCA9IGZlZUlkQXJyW2ldO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZlZUlkR3JvdXAubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgdGl0bGVGZWVJZCA9IGZlZUlkR3JvdXBbal07XG4gICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkYXRhTGlzdC5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgdmFyIGxpc3RGZWVJZCA9IGRhdGFMaXN0W2tdLmZlZUlkO1xuICAgICAgICAgICAgaWYgKHRpdGxlRmVlSWQgPT0gbGlzdEZlZUlkKSB7XG4gICAgICAgICAgICAgIHZhciBvYmogPSBkYXRhTGlzdFtrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFyci5wdXNoKG9iaik7XG4gICAgICAgICAgb2JqID0gbnVsbDtcbiAgICAgICAgfSAgICAgICBcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSxcbiAgICBidWlsZFZhbHVlV2l0aEFqYXhUaXRsZTogZnVuY3Rpb24obGluZWRhdGEsIHBhcmVudE5vZGUpIHtcbiAgICAgIHZhciBpc0FyciA9IEFycmF5LmlzQXJyYXkobGluZWRhdGEpO1xuICAgICAgdmFyIGRhdGEgPSBpc0Fycj8gbGluZWRhdGE6IGxpbmVkYXRhLmRhdGE7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgdGQuaW5uZXJUZXh0ID0gZGF0YVtpXTtcbiAgICAgICAgaWYgKCFpc0Fycikge1xuICAgICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1jb2wnLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaSA+PSAxKSB0ZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29sJywgaS0xKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhpZGVVbnZhbHVlZDogZnVuY3Rpb24ocG9pbnRlZFRhYmxlLCBjaGVja1ZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGFibGUgPSBwb2ludGVkVGFibGU/IHBvaW50ZWRUYWJsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgICB2YXIgZmxhZyA9IGNoZWNrVmFsdWU/IGNoZWNrVmFsdWU6ICctJztcbiAgICAgICAgdmFyIHRocyA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoLmZlZUl0ZW1UaXRsZScpO1xuICAgICAgICBpZiAoIXRocykgcmV0dXJuO1xuICAgICAgICB2YXIgY29sQ291bnQgPSB0aHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbENvdW50OyBpKyspIHtcbiAgICAgICAgICB2YXIgY29sdW1uID0gdGFibGUucXVlcnlTZWxlY3RvckFsbCgndGRbZGF0YS1jb2w9XCInK2krJ1wiXScpO1xuICAgICAgICAgIHZhciB1bnZhbHVlZENvbCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY29sdW1uLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB1bnZhbHVlZENvbCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY29sdW1uW2pdLmlubmVyVGV4dCAhPT0gZmxhZykge1xuICAgICAgICAgICAgICB1bnZhbHVlZENvbCA9IGZhbHNlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHVudmFsdWVkQ29sKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGNvbHVtbi5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICBjb2x1bW5ba10uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0aFtkYXRhLWNvbD1cIicraSsnXCJdJykuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2hlY2tTaXplOiBmdW5jdGlvbihwb2ludGVkVGFibGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0YWJsZSA9IHBvaW50ZWRUYWJsZT8gcG9pbnRlZFRhYmxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YVRhYmxlJyk7XG4gICAgICAgIHZhciBkaXYgPSB0YWJsZS5wYXJlbnROb2RlO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5jb250ZW50Jyk7XG4gICAgICAgIHZhciB0YWJ3aWR0aCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhYmxlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCd3aWR0aCcpLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgdmFyIGRpdndpZHRoID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCd3aWR0aCcpLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgaWYgKE51bWJlcih0YWJ3aWR0aCkgPiBOdW1iZXIoZGl2d2lkdGgpKSB7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ25vcm1hbFdpZHRoJyk7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2xhcmdlV2lkdGgnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0Q2hlY2tib3g6IGZ1bmN0aW9uKGlmQWxsKSB7XG4gICAgICB2YXIgbGFiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgIGxhYi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3ZvaWQnKTtcbiAgICAgIHZhciBjaGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgbGFiLmFwcGVuZENoaWxkKGNoYik7XG4gICAgICBjaGIuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICBjaGIuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1jaGVja2JveCcpO1xuICAgICAgaWYgKGlmQWxsKSB7XG4gICAgICAgIGNoYi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3NlbGVjdEFsbCcpO1xuICAgICAgICBjaGIuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NiX2NoaWxkJyk7XG4gICAgICB9XG4gICAgICBjaGIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtdWx0aUJ0bicpO1xuICAgICAgICBpZiAoIWJ0bikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5rKh5pyJ5a+55bqU5oyJ6ZSuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgIGJ0bi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGxhYjtcbiAgICB9LFxuICAgIGxpbmtDaGVja2JveGVzOiBmdW5jdGlvbihzZWxBbGwsIHNlbENoaWxkcmVuKSB7XG4gICAgICBzZWxBbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbEFsbC5jaGVja2VkKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFzZWxDaGlsZHJlbltpXS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgIHNlbENoaWxkcmVuW2ldLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzZWxDaGlsZHJlbltpXS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgIHNlbENoaWxkcmVuW2ldLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGFkZENoZWNrZWRUb0xpc3Q6IGZ1bmN0aW9uKGNoYiwgbGlzdCkge1xuICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgY2hiLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjaGJbaV0uY2hlY2tlZCkge1xuICAgICAgICAgIHZhciBkYXRhID0gY2hiW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1jaGVja2VkJyk7XG4gICAgICAgICAgbGlzdC5wdXNoKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBoaWRlVGFibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICAgIGlmICghdGFiKSByZXR1cm47XG4gICAgICB0YWIuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgfSxcbiAgICBzaG93VGFibGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICAgIGlmICghdGFiKSByZXR1cm47XG4gICAgICB0YWIucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9LFxuICB9LFxuICBnZXREaWN0QXJnX2ZvclF1ZXJ5QmlsbHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0VHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dHlwZV0nKS52YWx1ZTtcbiAgICBpZiAoIXRUeXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ayoeaciXR5cGXlj4LmlbAnKTtcbiAgICB9XG4gICAgaWYgKHRUeXBlID09ICcxJyB8fCB0VHlwZSA9PSAnMicpIHtcbiAgICAgIC8vIOebtOi+vuaXtui0p+i/kOexu+Wei+afpeivolxuICAgICAgcmV0dXJuICdFWFBJTVAnO1xuICAgIH0gZWxzZSBpZiAodFR5cGUgID09ICczJykge1xuICAgICAgLy8g5Lit6L2s5pe26LSn6L+Q57G75Z6LXG4gICAgICByZXR1cm4gJ1RSQU5TRkVSVFlQRSc7XG4gICAgfSBlbHNlIGlmICh0VHlwZSA9PSAnNCcpIHtcbiAgICAgIC8vIOW/q+S7tui0p+i/kOexu+Wei1xuICAgICAgcmV0dXJuICdFWFBNQUlMJztcbiAgICB9XG4gIH0sXG4gIHNldFNlbERlZmF1bHRPcHRpb246IGZ1bmN0aW9uKHNlbGVjdCwgdGV4dCwgdmFsdWUpIHtcbiAgICB2YXIgb3B0aW9uMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgIG9wdGlvbjAuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHZhbHVlKTtcbiAgICBvcHRpb24wLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbjApO1xuICB9LFxuICBzZXRTZWxGcm9tRGljdDogZnVuY3Rpb24oc2VsZWN0LCBkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcHRpb24uaW5uZXJUZXh0ID0gZGF0YVtpXS52YWx1ZTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IGRhdGFbaV0ua2V5O1xuICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgfVxuICB9LFxuICBzZXRJbkFuZE91dDogZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XG4gICAgaWYgKGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+Wtl+WFuOaOpeWPo+aXoOaVsOaNricpO1xuICAgIH1cbiAgICB2YXIgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9aW5BbmRPdXRdJyk7XG4gICAgdGhpcy5zZXRTZWxEZWZhdWx0T3B0aW9uKHNlbGVjdCwgJ+WFqOmDqCcsICctMScpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFNlbEZyb21EaWN0KHNlbGVjdCwgZGF0YSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfVxuICB9LFxuICBzZXRPcGVkZXBhcnRJZDogZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XG4gICAgaWYgKGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+Wtl+WFuOaOpeWPo+aXoOaVsOaNricpO1xuICAgIH1cbiAgICB2YXIgc2VsZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9b3BlZGVwYXJ0SWRdJyk7XG4gICAgdGhpcy5zZXRTZWxEZWZhdWx0T3B0aW9uKHNlbGVjdCwgJ+WFqOmDqCcsICctMScpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNldFNlbEZyb21EaWN0KHNlbGVjdCwgZGF0YSk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfVxuICB9LFxuICBnZXRPcmRlclRpbWU6IGZ1bmN0aW9uKCkgeyAgLy8g6LSm5Y2V5p+l55yL55WM6Z2i6I635Y+W6LSm5pyfXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9yZGVyVGltZVN0YXJ0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPW9yZGVyVGltZVN0YXJ0XScpLnZhbHVlLFxuICAgICAgICBvcmRlclRpbWVFbmQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9b3JkZXJUaW1lRW5kXScpLnZhbHVlLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGNvbnNvbGUpIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3JkZXJUaW1lU3RhcnQ6ICcnLFxuICAgICAgICBvcmRlclRpbWVFbmQ6ICcnLFxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHNldFBvc3RMaW5rOiBmdW5jdGlvbihsaW5rcywgcG9zdERhdGEpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmlzRE9NKGxpbmtzKSAmJiBsaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpbmtzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5rcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciB1cmwgPSB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgR2xvYl9mbi5zdWJtVmlydEZvcm0odXJsLCBwb3N0RGF0YSk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2xvYl9mbiIsImV4cG9ydCBmdW5jdGlvbiBpbml0TGlzdEJveCgpIHtcbiAgICB2YXIgYnRuTDJSID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3Rib3hMMlInKTtcbiAgICB2YXIgYnRuUjJMID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3Rib3hSMkwnKTtcbiAgICB2YXIgc2VsZWN0TCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2VTZWxlY3QnKTtcbiAgICB2YXIgc2VsZWN0UiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXN0U2VsZWN0Jyk7XG5cbiAgICBpZiAoc2VsZWN0TCAmJiBzZWxlY3RSICYmIGJ0bkwyUiAmJiBidG5SMkwpIHtcbiAgICAgICAgYnRuTDJSLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGlzdGJveE1vdmVhY3Jvc3MoJ3NvdXJjZVNlbGVjdCcsICdkZXN0U2VsZWN0JywgJ25vcmVwZWF0Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBidG5SMkwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsaXN0Ym94TW92ZWFjcm9zcygnZGVzdFNlbGVjdCcsICdzb3VyY2VTZWxlY3QnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdGJveE1vdmVhY3Jvc3Moc291cmNlSUQsIGRlc3RJRCwgdHlwZSkge1xuICAgICAgICB2YXIgc3JjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc291cmNlSUQpO1xuICAgICAgICB2YXIgZGVzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlc3RJRCk7XG4gICAgICAgIGZvcih2YXIgY291bnQ9MDsgY291bnQgPCBzcmMub3B0aW9ucy5sZW5ndGg7IGNvdW50KyspIHtcbiAgICAgICAgICAgIGlmKHNyYy5vcHRpb25zW2NvdW50XS5zZWxlY3RlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBzcmMub3B0aW9uc1tjb3VudF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IG9wdGlvbi5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3T3B0aW9uLnNldEF0dHJpYnV0ZShhdHRyc1tpXS5uYW1lLCBhdHRyc1tpXS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3T3B0aW9uLnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBuZXdPcHRpb24udGV4dCA9IG9wdGlvbi50ZXh0O1xuICAgICAgICAgICAgICAgICAgICBuZXdPcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyDlk4HlkI3mn6Xor6Lml7Yo5bem6Iez5Y+zKe+8mlxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmdvTmFtZUxpc3Rib3gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZWNpYWxDYXJnb05hbWVMaXN0Ym94JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZDEgPSBuZXdPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWNhcmdvTm8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXN0b3B0aW9ucyA9IGRlc3QucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdG9wdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGVzdG9wdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkMiA9IGRlc3RvcHRpb25zW2pdLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXJnb05vJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlkMSA9PT0gaWQyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVJa2l0Lm1vZGFsLmFsZXJ0KCfpgInmi6npobnlnKjkvJjmg6Dlk4HlkI3liJfooajkuK3lt7LlrZjlnKgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgZGVzdC5hZGQobmV3T3B0aW9uLCBudWxsKTsgLy9TdGFuZGFyZFxuICAgICAgICAgICAgICAgICAgICAgICAgIHNyYy5yZW1vdmUoY291bnQsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgZGVzdC5hZGQobmV3T3B0aW9uKTsgLy8gSUUgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgIHNyYy5yZW1vdmUoY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTGlzdGJveCgpIHt9XG5cbkxpc3Rib3gucHJvdG90eXBlLmdldE9wdGlvbnNfY2FyZ29OYW1lID0gZnVuY3Rpb24ocmVzcG9uc2UsIGNvbnRhaW5lcikge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+ayoeacieebuOWFs+eahOWTgeWQjScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIGZvciAoIHZhciBrZXkgaW4gZGF0YVtpXSkge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09ICdjYXJnb05tJykge1xuICAgICAgICAgICAgICAgIG9wLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgICAgICAgICBvcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChvcCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbn07XG5MaXN0Ym94LnByb3RvdHlwZS5nZXRPcHRpb25zX2Rpc2NvdW50TmFtZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCBsaXN0Ym94RWwsIGN1c3RvbWVySWQpIHtcbiAgICB2YXIgc2VsX3NvdSA9IGxpc3Rib3hFbC5xdWVyeVNlbGVjdG9yKCcjc291cmNlU2VsZWN0Jyk7XG4gICAgdmFyIHNlbF9kZXMgPSBsaXN0Ym94RWwucXVlcnlTZWxlY3RvcignI2Rlc3RTZWxlY3QnKTtcbiAgICBzZWxfc291LmlubmVySFRNTCA9ICcnO1xuICAgIHNlbF9kZXMuaW5uZXJIVE1MID0gJyc7XG4gICAgc2VsX2Rlcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tZXJJZCcsIGN1c3RvbWVySWQpO1xuICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPCAxKSB7IHJldHVybjsgfVxuICAgIHZhciBvcHRpb25BcnIgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgIGZvciAoIHZhciBrZXkgaW4gZGF0YVtpXSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PSAnZGlzY291bnRQb2xpY3lOYW1lJykgeyBcbiAgICAgICAgICAgICAgICBvcC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbkFyci5wdXNoW29wXTtcbiAgICAgICAgc2VsX3NvdS5hcHBlbmRDaGlsZChvcCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25BcnI7XG59O1xuTGlzdGJveC5wcm90b3R5cGUucG9zdERhdGFfZGlzY291bnROYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gdmFyIHNlbF9zb3UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc291cmNlU2VsZWN0Jyk7XG4gICAgdmFyIHNlbF9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVzdFNlbGVjdCcpO1xuICAgIHZhciBjdXN0b21lcklkID0gc2VsX2Rlcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tZXJJZCcpO1xuICAgIHZhciBwb3N0RGF0YSA9IHsgY3VzdG9tZXJJZDogY3VzdG9tZXJJZCB9O1xuICAgIHZhciBkaXNjb3VudFBvbGljeUlkcyA9IFtdO1xuICAgIHZhciBvcHMgPSBzZWxfZGVzLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvbicpO1xuICAgIGlmIChvcHMubGVuZ3RoIDwgMSkgeyByZXR1cm4gbnVsbCB9XG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkaXNjb3VudFBvbGljeUlkID0gb3BzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNjb3VudFBvbGljeUlkJyk7XG4gICAgICAgIGRpc2NvdW50UG9saWN5SWRzLnB1c2goZGlzY291bnRQb2xpY3lJZCk7XG4gICAgfVxuICAgIHBvc3REYXRhLmRpc2NvdW50UG9saWN5SWRzID0gZGlzY291bnRQb2xpY3lJZHM7XG4gICAgcmV0dXJuIHBvc3REYXRhO1xufSIsImltcG9ydCBHbG9iX2ZuIGZyb20gJy4vR2xvYmFsJ1xyXG5pbXBvcnQge2ZldGNoRGF0YX0gZnJvbSAnLi9BamF4TWFuYWdlcidcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9naW5fcGFnZSgpIHtcclxuICB0cnkge1xyXG4gICAgaW5pdFBhZ2UoKTtcclxuICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5kb3ZlcGF5LmNvbSc7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xyXG4gICAgaW5pdExvZ2luX2NvdmVyUGFnZSgpO1xyXG4gICAgdmFyIHBhZ2VGb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXBhZ2Vmb3JdJykudmFsdWU7XHJcbiAgICB2YXIgc2VsX3R5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT11c2VyVHlwZV0nKTtcclxuICAgIHZhciBpbnBfYWNjb3VudElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hY2NvdW50SWRdJyk7XHJcbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX2xvZ2luJyk7XHJcbiAgICB2YXIgaW5wX3VzZXJJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dXNlcklkXScpO1xyXG4gICAgaWYgKHBhZ2VGb3IgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICAgIGlucF9hY2NvdW50SWQudmFsdWUgPSAnc3lzdGVtJztcclxuICAgICAgc2VsX3R5cGUudmFsdWUgPSAnc3lzdGVtJztcclxuICAgICAgZm9ybS5zdWJtaXQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9yb2xlXScpLnZhbHVlO1xyXG4gICAgICBpbnBfdXNlcklkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBmZXRjaExvZ2luRGF0YSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgZmV0Y2hMb2dpbkRhdGEoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGZldGNoTG9naW5EYXRhKCkge1xyXG4gICAgICB2YXIgZGF0YSA9IHsgJ3VzZXJJZCc6IGlucF91c2VySWQudmFsdWUsIH07XHJcbiAgICAgIHZhciBpbnBfYWNjb3VudElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hY2NvdW50SWRdJyk7XHJcbiAgICAgIGlucF9hY2NvdW50SWQudmFsdWUgPSAnJztcclxuICAgICAgZmV0Y2hEYXRhKHVybCwgZGF0YSwgbmV3IFBhZ2VfbG9naW4oKS5zZXRSb2xlLCB7XHJcbiAgICAgICAgZ2xvYmFsOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCB0ZXh0U3RhdHVzLyosIGVycm9yKi8pIHtcclxuICAgICAgICAgIGlmIChjb25zb2xlKSBjb25zb2xlLmVycm9yKHRleHRTdGF0dXMpO1xyXG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+WPkeeUn+mUmeivrzogJyArIHRleHRTdGF0dXMpLnRoZW4oaW5pdExvZ2luX2xvZ2luRmFpbGVkKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRMb2dpbl9pbml0UXVpckJ0bigpIHtcclxuICB0cnkge1xyXG4gICAgaW5pdFBhZ2UoKTtcclxuICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xyXG4gICAgdmFyIHF1aXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVpdEJ0bicpO1xyXG4gICAgcXVpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgYnRuID0gdGhpcztcclxuICAgICAgVUlraXQubW9kYWwuY29uZmlybSgn56Gu5a6a6YCA5Ye657O757ufPycpLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcXVpdChidG4pO1xyXG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBmdW5jdGlvbiBxdWl0KGJ0bikge1xyXG4gICAgICAgIGluaXRMb2dpbl9jb3ZlclBhZ2UoKTtcclxuICAgICAgICB2YXIgdXJsID0gYnRuLmdldEF0dHJpYnV0ZSgnZGF0YS11cmwnKTtcclxuICAgICAgICB2YXIgdXNlclR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclR5cGUnKS52YWx1ZTtcclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgIHVzZXJUeXBlOiB1c2VyVHlwZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZmV0Y2hEYXRhKHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgcmVkaXJlY3QgPSByZXMuZGF0YS5yZWRpcmVjdDtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdDtcclxuICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcclxuICAgICAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdExvZ2luX2NvdmVyUGFnZSgpIHtcclxuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstcG9zaXRpb24tY292ZXIgdWstYmFja2dyb3VuZC1tdXRlZCB1ay1vdmVybGF5IHVrLW92ZXJsYXktZGVmYXVsdCB1ay1mbGV4IHVrLWZsZXgtY2VudGVyIHVrLWZsZXgtbWlkZGxlJyk7XHJcbiAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ZhIGZhLWNpcmNsZS1vLW5vdGNoIGZhLXNwaW4gZmEtM3ggZmEtZncnKTtcclxuICBkaXYuYXBwZW5kQ2hpbGQoaSk7XHJcbiAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3NyLW9ubHknKTtcclxuICBzcGFuLmlubmVyVGV4dCA9ICdMb2FkaW5nLi4uJztcclxuICBkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgdmFyIHNwYW4yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIHNwYW4yLmlubmVyVGV4dCA9ICfmraPlnKjot7PovawnO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChzcGFuMik7XHJcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG4gIHJldHVybiBkaXY7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRMb2dpbl9sb2dpbkZhaWxlZCgpIHtcclxuICB0cnkge1xyXG4gICAgdmFyIHBhZ2VGb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXBhZ2Vmb3JdJykudmFsdWU7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhZ2VGb3IgPT09ICdzeXN0ZW0nP1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9kb3ZlbWdyXScpLnZhbHVlOlxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9kb3ZlcGF5XScpLnZhbHVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwczovL3d3dy5kb3ZlcGF5LmNvbSc7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUGFnZV9sb2dpbigpIHt9XHJcblBhZ2VfbG9naW4ucHJvdG90eXBlLnNldFJvbGUgPSBmdW5jdGlvbihyZXMpIHtcclxuICB0cnkge1xyXG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcclxuICAgIHZhciBhY2NvdW50SWQgPSBkYXRhLmFjY291bnRJZDtcclxuICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xyXG4gICAgdmFyIGlucF9hY2NvdW50SWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFjY291bnRJZF0nKTtcclxuICAgIHZhciBzZWxfdHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPXVzZXJUeXBlXScpO1xyXG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9sb2dpbicpO1xyXG4gICAgaW5wX2FjY291bnRJZC52YWx1ZSA9IGFjY291bnRJZDtcclxuICAgIHNlbF90eXBlLnZhbHVlID0gdHlwZTtcclxuICAgIGlmICghIWlucF9hY2NvdW50SWQudmFsdWUgJiYgISFzZWxfdHlwZS52YWx1ZSkge1xyXG4gICAgICBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+WPguaVsOmUmeivrzogYWNjb3VudElkPScgKyBhY2NvdW50SWQgKyAnLCB0eXBlPScgKyB0eXBlKS50aGVuKGluaXRMb2dpbl9sb2dpbkZhaWxlZCk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaChlcnJvcikge1xyXG4gICAgVUlraXQubW9kYWwuYWxlcnQoJ+WPkeeUn+mUmeivrzogJyArIGVycm9yKS50aGVuKGluaXRMb2dpbl9sb2dpbkZhaWxlZCk7XHJcbiAgfVxyXG4gICAgXHJcbn0iLCJmdW5jdGlvbiBNZXNzYWdlKCBtZXMsIGFyZ3MpIHsgLy8gKCdNeSBNZXNzYWdlIGlzIC4uLicsIHtzdHlsZTogJ3ByaW1hcnknfSlcbiAgdGhpcy5tZXMgPSBtZXM7XG4gIHRoaXMuc3R5bGUgPSBudWxsOyAgLy8gcHJpbWFyeSwgc3VjY2Vzcywgd2FybmluZywgZGFuZ2VyXG4gIHRoaXMuY2xvc2IgPSAnJztcbiAgdGhpcy5tZXNzYWdlID0gJyc7XG4gIGlmICggYXJncyApIHtcbiAgICB0aGlzLnN0eWxlID0gYXJncy5zdHlsZTtcbiAgICB0aGlzLmNsb3NiID0gYXJncy5jbG9zZTtcbiAgfVxufVxuTWVzc2FnZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBoZWFkdHh0ID0gJycsXG4gICAgICBtYWludHh0ID0gJycsXG4gICAgICBtZXMgPSB0aGlzLm1lcyxcbiAgICAgIHN0eWxlID0gdGhpcy5zdHlsZSxcbiAgICAgIGNsb3NiID0gdGhpcy5jbG9zYiA/IHRoaXMuY2xvc2IgOiBmYWxzZSxcbiAgICAgIGNvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpLFxuICAgICAgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKSxcbiAgICAgIGNsb3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGlmICggdHlwZW9mIG1lcyA9PSAnc3RyaW5nJyApIHtcbiAgICBtYWludHh0ID0gbWVzO1xuICAgIGlmIChzdHlsZSA9PSAncHJpbWFyeScpIHtcbiAgICAgIGhlYWR0eHQgPSAn5o+Q56S6JztcbiAgICB9XG4gICAgaWYgKHN0eWxlID09ICdzdWNjZXNzJykge1xuICAgICAgaGVhZHR4dCA9ICfmiJDlip8nO1xuICAgIH1cbiAgICBpZiAoc3R5bGUgPT0gJ3dhcm5pbmcnKSB7XG4gICAgICBoZWFkdHh0ID0gJ+azqOaEjyc7XG4gICAgfVxuICAgIGlmIChzdHlsZSA9PSAnZGFuZ2VyJykge1xuICAgICAgaGVhZHR4dCA9ICforablkYonO1xuICAgIH1cbiAgfVxuICBpZiAoIHR5cGVvZiBtZXMgPT0gJ29iamVjdCcpIHtcbiAgICBtYWludHh0ID0gbWVzLnRleHQ7XG4gICAgaGVhZHR4dCA9IG1lcy50aXRsZTtcbiAgICBoZWFkLmlubmVySFRNTCA9IGhlYWR0eHQ7XG4gIH1cbiAgY29udC5zZXRBdHRyaWJ1dGUoJ3VrLWFsZXJ0JywgJycpO1xuICBjbG9zLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstYWxlcnQtY2xvc2UnKTtcbiAgY2xvcy5zZXRBdHRyaWJ1dGUoJ3VrLWNsb3NlJywgJycpO1xuICBpZiAoIHN0eWxlICkge1xuICAgIGNvbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1hbGVydC0nICsgc3R5bGUpO1xuICB9XG4gIGhlYWQuaW5uZXJIVE1MID0gaGVhZHR4dDtcbiAgbWFpbi5pbm5lckhUTUwgPSBtYWludHh0O1xuICBpZiAoICFjbG9zYiApIHtcbiAgICBjb250LmFwcGVuZENoaWxkKGNsb3MpO1xuICB9XG4gIGNvbnQuYXBwZW5kQ2hpbGQoaGVhZCk7XG4gIGNvbnQuYXBwZW5kQ2hpbGQobWFpbik7XG4gIHRoaXMubWVzc2FnZSA9IGNvbnQ7XG4gIHJldHVybiBjb250O1xufTtcbmV4cG9ydCBmdW5jdGlvbiBmbl9nZXRNZXMgKCBtZXMsIGFyZ3MpIHtcbiAgdmFyIG0gPSBuZXcgTWVzc2FnZSggbWVzLCBhcmdzKSxcbiAgICAgIG1lc3NhZ2UgPSBtLmNyZWF0ZSgpO1xuICByZXR1cm4gbWVzc2FnZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbl9yZW1NZXMoIG5vZGUgKSB7XG4gIGlmICggIW5vZGUgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHZhciBwYXIgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKCBwYXIgKVxuICAgICAgcGFyLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG4vLyBmbl9nZXRNZXMoe3RpdGxlOiAn5L+h5oGv5qCH6aKYJywgdGV4dDogJ+S/oeaBr+S4u+S9kyd9LCB7c3R5bGU6ICdwcmltYXJ5JywgY2xvc2U6IGZhbHNlfSopO1xuLy8gZm5fZ2V0TWVzKCfkv6Hmga/kuLvkvZMnLCB7c3R5bGU6ICdwcmltYXJ5J30pO1xuXG4vLyBURVNUOlxuLy8gdmFyIG1lczEgPSBmbl9nZXRNZXMoe3RpdGxlOiAn5L+h5oGv5qCH6aKYJywgdGV4dDogJ+S/oeaBr+S4u+S9kyd9LCB7c3R5bGU6ICdwcmltYXJ5JywgY2xvc2U6IHRydWV9KSxcbi8vICAgICBtZXMyID0gZm5fZ2V0TWVzKCfkv6Hmga/kuLvkvZMnLCB7c3R5bGU6ICdwcmltYXJ5J30pLFxuLy8gICAgIG1lczMgPSBmbl9nZXRNZXMoJ+S/oeaBr+S4u+S9kycsIHtzdHlsZTogJ3N1Y2Nlc3MnfSksXG4vLyAgICAgbWVzNCA9IGZuX2dldE1lcygn5L+h5oGv5Li75L2TJywge3N0eWxlOiAnd2FybmluZyd9KSxcbi8vICAgICBtZXM1ID0gZm5fZ2V0TWVzKCfkv6Hmga/kuLvkvZMnLCB7c3R5bGU6ICdkYW5nZXInfSk7XG4vLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpLmFwcGVuZENoaWxkKG1lczEpO1xuLy8gICAvLyBmbl9yZW1vdmUobWVzMSk7XG4vLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpLmFwcGVuZENoaWxkKG1lczIpO1xuLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbmNvbnRlbnQnKS5hcHBlbmRDaGlsZChtZXMzKTtcbi8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5jb250ZW50JykuYXBwZW5kQ2hpbGQobWVzNCk7XG4vLyAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluY29udGVudCcpLmFwcGVuZENoaWxkKG1lczUpOyIsImltcG9ydCBHbG9iX2ZuIGZyb20gJy4vR2xvYmFsJ1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoRm4sIGNhbGxiYWNrLCBwb3N0RGF0YUhhbmRsZXIpIHtcbiAgR2xvYl9mbi5UYWJsZS5oaWRlVW52YWx1ZWQoKTtcbiAgR2xvYl9mbi5UYWJsZS5zaG93VGFibGUoKTtcbiAgR2xvYl9mbi5UYWJsZS5jaGVja1NpemUoKTtcbiAgR2xvYl9mbi5UYWJsZS50Ym9keUhpZGVTb21lKCk7XG4gIGlmIChyZXMuZGF0YS50b3RhbFBhZ2UgPiAxKSB7XG4gICAgdmFyIHAgPSBuZXcgUGFnaW5hdGUoKTtcbiAgICBwLnNob3dQYWduaXRpb24ocmVzLmRhdGEudG90YWxQYWdlLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hGbiwgY2FsbGJhY2ssIHBvc3REYXRhSGFuZGxlcik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtkYXRhLWZvcj1kYXRhVGFibGVdJyk7XG4gICAgaWYgKHdyYXApXG4gICAgICB3cmFwLmlubmVySFRNTCA9ICcnO1xuICB9XG59XG5mdW5jdGlvbiBQYWdpbmF0ZSgpIHt9XG5QYWdpbmF0ZS5wcm90b3R5cGUuc2hvd1BhZ25pdGlvbiA9IGZ1bmN0aW9uICh0b3RhbFBhZ2UsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaEZuLCBjYWxsYmFjaywgcG9zdERhdGFIYW5kbGVyKXtcbiAgdG90YWxQYWdlID0gTnVtYmVyKHRvdGFsUGFnZSk7XG4gIHBhZ2VOdW1iZXIgPSBOdW1iZXIocGFnZU51bWJlcik7XG4gIHBhZ2VTaXplID0gTnVtYmVyKHBhZ2VTaXplKTtcbiAgdmFyIHdyYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bFtkYXRhLWZvcj1kYXRhVGFibGVdJyk7XG4gIHdyYXAuaW5uZXJIVE1MID0gJyc7XG4gIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9mb3JUYWJsZV0nKS52YWx1ZTtcbiAgaWYgKCBwYWdlTnVtYmVyID4gMSApIHtcbiAgICB2YXIgbGlua19wcmUgPSBQYWdpbmF0ZS5nZXRQYWdpX2xpUHJlKHdyYXApO1xuICAgIGxpbmtfcHJlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZGF0YSA9IGdldFBvc3REYXRhKHBhZ2VOdW1iZXIgLSAxLCBwb3N0RGF0YUhhbmRsZXIpO1xuICAgICAgZmV0Y2hGbi5jYWxsKHRoaXMsIHVybCwgZGF0YSwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxQYWdlOyBpKyspIHtcbiAgICBsZXQgbGlcbiAgICBpZiAoIGkgPT0gcGFnZU51bWJlciAtIDEpIHtcbiAgICAgIGxpID0gUGFnaW5hdGUuZ2V0UGFnaV9saUFjdGl2ZShwYWdlTnVtYmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9iaiA9IFBhZ2luYXRlLmdldFBhZ2lfbGlOb3JtYWwoaSsxKTtcbiAgICAgIHZhciBsaW5rID0gb2JqLmxpbms7XG4gICAgICBsaSA9IG9iai5saTtcbiAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFBvc3REYXRhKHRoaXMuaW5uZXJUZXh0LCBwb3N0RGF0YUhhbmRsZXIpO1xuICAgICAgICBmZXRjaEZuLmNhbGwodGhpcywgdXJsLCBkYXRhLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgd3JhcC5hcHBlbmRDaGlsZChsaSk7XG4gIH1cbiAgaWYgKCBwYWdlTnVtYmVyIDwgdG90YWxQYWdlICkge1xuICAgIHZhciBsaW5rX25leCA9IFBhZ2luYXRlLmdldFBhZ2lfbGlOZXh0KHdyYXApO1xuICAgIGxpbmtfbmV4LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZGF0YSA9IGdldFBvc3REYXRhKHBhZ2VOdW1iZXIgKyAxLCBwb3N0RGF0YUhhbmRsZXIpO1xuICAgICAgZmV0Y2hGbi5jYWxsKHRoaXMsIHVybCwgZGF0YSwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG5cbiAgUGFnaW5hdGUuZ2V0UGFnaV9oaWRlUGFnZSgxMCwgd3JhcCwgcGFnZU51bWJlciwgdG90YWxQYWdlKTtcbiAgXG4gIGZ1bmN0aW9uIGdldFBvc3REYXRhKHBhZ2VOdW1iZXIsIHBvc3REYXRhSGFuZGxlcikge1xuICAgIHZhciBkYXRhID0ge307XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKTtcbiAgICBkYXRhID0gJChmb3JtKS5zZXJpYWxpemVPYmplY3QoKTtcbiAgICBpZiAodHlwZW9mIHBvc3REYXRhSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykgcG9zdERhdGFIYW5kbGVyLmNhbGwodGhpcywgZGF0YSk7XG4gICAgZGF0YS5wYWdlTnVtYmVyID0gcGFnZU51bWJlcjtcbiAgICBkYXRhLmluZGV4UGFnZSA9IHBhZ2VOdW1iZXI7XG4gICAgZGF0YS5wYWdlU2l6ZSA9IHBhZ2VTaXplO1xuICAgIGRhdGEuY291bnRQYWdlID0gcGFnZVNpemU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn1cblBhZ2luYXRlLmdldFBhZ2lfbGlQcmUgPSBmdW5jdGlvbihwYXJlbnRVbCkge1xuICB2YXIgbGlfcHJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgbGlfcHJlLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCdmdW5jdGlvbicpO1xuICBwYXJlbnRVbC5hcHBlbmRDaGlsZChsaV9wcmUpO1xuICB2YXIgbGlua19wcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGxpX3ByZS5hcHBlbmRDaGlsZChsaW5rX3ByZSk7XG4gIHZhciBzcGFuX3ByZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgc3Bhbl9wcmUuc2V0QXR0cmlidXRlKCd1ay1wYWdpbmF0aW9uLXByZXZpb3VzJywgJycpO1xuICBsaW5rX3ByZS5hcHBlbmRDaGlsZChzcGFuX3ByZSk7XG4gIHJldHVybiBsaW5rX3ByZTtcbn1cblBhZ2luYXRlLmdldFBhZ2lfbGlOZXh0ID0gZnVuY3Rpb24ocGFyZW50VWwpIHtcbiAgdmFyIGxpX25leCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIGxpX25leC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywnZnVuY3Rpb24nKTtcbiAgcGFyZW50VWwuYXBwZW5kQ2hpbGQobGlfbmV4KTtcbiAgdmFyIGxpbmtfbmV4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBsaV9uZXguYXBwZW5kQ2hpbGQobGlua19uZXgpO1xuICB2YXIgc3Bhbl9uZXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHNwYW5fbmV4LnNldEF0dHJpYnV0ZSgndWstcGFnaW5hdGlvbi1uZXh0JywgJycpO1xuICBsaW5rX25leC5hcHBlbmRDaGlsZChzcGFuX25leCk7XG4gIHJldHVybiBsaW5rX25leDtcbn1cblBhZ2luYXRlLmdldFBhZ2lfbGlBY3RpdmUgPSBmdW5jdGlvbihpbm5lclRleHQpIHtcbiAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIHNwYW4uaW5uZXJUZXh0ID0gaW5uZXJUZXh0O1xuICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWFjdGl2ZScpO1xuICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgcmV0dXJuIGxpO1xufVxuUGFnaW5hdGUuZ2V0UGFnaV9saU5vcm1hbCA9IGZ1bmN0aW9uKGlubmVyVGV4dCkge1xuICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgbGluay5pbm5lclRleHQgPSBpbm5lclRleHQ7XG4gIGxpLmFwcGVuZENoaWxkKGxpbmspO1xuICByZXR1cm4ge1xuICAgIGxpOiBsaSxcbiAgICBsaW5rOiBsaW5rXG4gIH1cbn1cblBhZ2luYXRlLmdldFBhZ2lfaGlkZVBhZ2UgPSBmdW5jdGlvbihzaG93TnVtYmVyLCBwYXJlbnROb2RlLCBwYWdlTnVtYmVyLCB0b3RhbFBhZ2UpIHtcbiAgdmFyIHNob3dQYWdlcyA9IHNob3dOdW1iZXI7XG4gIHZhciBsaUFyciA9IHBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnbGk6bm90KC5mdW5jdGlvbiknKTtcbiAgbGV0IGxpXG4gIGlmIChOdW1iZXIocGFnZU51bWJlcikgPiBzaG93UGFnZXMrMiApIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IE51bWJlcihwYWdlTnVtYmVyKS1zaG93UGFnZXMtMTsgaSsrKSB7XG4gICAgICBsaUFycltpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICBsaSA9IHRoaXMuZ2V0UGFnaV9saUFjdGl2ZSgnLi4uJyk7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGksIGxpQXJyWzFdKTtcbiAgfVxuICBpZiAodG90YWxQYWdlLXBhZ2VOdW1iZXIgPiBzaG93UGFnZXMrMSkge1xuICAgIGZvciAobGV0IGkgPSBOdW1iZXIocGFnZU51bWJlcikrc2hvd1BhZ2VzOyBpIDwgdG90YWxQYWdlLTE7IGkrKykge1xuICAgICAgbGlBcnJbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgbGkgPSB0aGlzLmdldFBhZ2lfbGlBY3RpdmUoJy4uLicpO1xuICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpLCBsaUFyclt0b3RhbFBhZ2UtMV0pO1xuICB9XG59IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5cbmZ1bmN0aW9uIFF1ZXJ5RGljdCgpe1xuICB0aGlzLmFwaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGljdF9hcGldJykudmFsdWU7XG59XG5RdWVyeURpY3QucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKG5hbWUsIGNiKSB7XG4gIC8vIGNvbnNvbGUubG9nKHRoaXMuYXBpLCBKU09OLnN0cmluZ2lmeSh7dHlwZTogbmFtZX0pKVxuICAkLmFqYXgoe1xuICAgIHVybDogdGhpcy5hcGksXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe3R5cGU6IG5hbWV9KSxcbiAgICBzdWNjZXNzOiBjYlxuICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmbl9xdWVyeURpY3QobmFtZSwgY2IpIHtcbiAgdmFyIHFkID0gbmV3IFF1ZXJ5RGljdCgpO1xuICB0cnkge1xuICAgIHFkLnF1ZXJ5KG5hbWUsIGNiKTtcbiAgfSBjYXRjaChlcnIpIHtcbiAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnIpO1xuICB9XG59IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXG5pbXBvcnQgZm5fcXVlcnlEaWN0IGZyb20gJy4vUXVlcnlEaWN0J1xuaW1wb3J0IHsgTGlzdGJveCwgaW5pdExpc3RCb3ggfSBmcm9tICcuL0xpc3Rib3gnXG5pbXBvcnQgRm9ybVZhbGlkYXRlIGZyb20gJy4vRm9ybVZhbGlkYXRlJ1xuaW1wb3J0IGZuX2luaXRQYWdpbmF0ZSBmcm9tICcuL1BhZ2luYXRlJ1xuaW1wb3J0IHtcbiAgY2hlY2tSZXMsXG4gIGZldGNoRGF0YSxcbiAgZm5faW5pdFN1Ym1pdEJ0bixcbiAgZm5faW5pdEV4cG9ydEJ0bixcbiAgZmV0Y2hfZXhwb3J0RXhjZWwsXG4gIGZldGNoX3N0YV9zdGF0aW9uQmlsbFB1c2gsXG4gIGZldGNoX3N0YV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIsXG4gIGZldGNoX3N0YV9hZGREaXNjb3VudEN1c3RvbWVyLFxuICBmZXRjaF9zdGFfZ2V0QWxsRGlzY291bnRQb2xpY3ksXG4gIGZldGNoX2FnZV90b1BheSxcbiAgZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRQb2xpY3ksXG4gIGZldGNoX3N0YV9xdWVyeURpc2NvdW50Q3VzdG9tZXIsXG4gIGZldGNoX3N0YV9jaGFuZ2VDdXN0b21lckRpc2NvdW50U3RhdHVzLFxuICBmZXRjaF9zdGFfY2hhbmdlRGlzY291bnRTdGF0dXMsXG4gIGZldGNoX3N0YV91cGRhdGVGZWVcbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcblxudmFyIHJvbGUgPSBnZXRSb2xlKCk7XG5cbmZ1bmN0aW9uIGdldFJvbGUoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyVHlwZScpLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9iYXNlRGF0YSgpIHtcbiAgLy8gdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKTtcbiAgR2xvYl9mbi5XZGF0ZUluaXQoJ3N0YXJ0VGltZScsICdlbmRUaW1lJywge1xuICAgIGRhdGVGbXQ6ICd5eXl55bm0TU3mnIgnLFxuICAgIC8vIG1pbkRhdGU6ICd7JXktMX0teyVNKzl9LSVkJyxcbiAgICBtYXhEYXRlOiAndG9kYXknLFxuICB9KTtcbiAgZW50cnkoKTsgLy8g5byC5q2l5Ye95pWw6LCD55So5YWl5Y+jXG4gIGZ1bmN0aW9uIGVudHJ5KCkge1xuICAgIGZldGNoRXhwSW1wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaERpY3RFcnJIYW5kbGVyKHJlcykge1xuICAgIGlmIChyZXMuZGF0YSA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog5a2X5YW45o6l5Y+j6L+U5Zue5YC85pyq5a6a5LmJJyk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcy5kYXRhKSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IOWtl+WFuOaOpeWPo+i/lOWbnuWAvOagvOW8j+mUmeivrycpO1xuICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog5a2X5YW45o6l5Y+j6L+U5Zue5YC85Li656m65YC8Jyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRPcHRpb25zKGFyciwgc2VsTmFtZSkge1xuICAgIHZhciBzZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT0nICsgc2VsTmFtZSArICddJyk7XG4gICAgaWYgKCFzZWwpIHJldHVybjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICBvcC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgYXJyW2ldLmtleSk7XG4gICAgICBvcC5pbm5lclRleHQgPSBhcnJbaV0udmFsdWU7XG4gICAgICBzZWwuYXBwZW5kQ2hpbGQob3ApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRXhwSW1wKCkge1xuICAgIGZuX3F1ZXJ5RGljdCgnRVhQX0lNUCcsIGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBmZXRjaERpY3RFcnJIYW5kbGVyKHJlcyk7XG4gICAgICAgIHNldE9wdGlvbnMocmVzLmRhdGEsICdleHBJbXAnKTtcbiAgICAgICAgZmV0Y2hEb21JbnQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hEb21JbnQoKSB7XG4gICAgZm5fcXVlcnlEaWN0KCdET01fSU5UJywgZnVuY3Rpb24ocmVzKSB7XG4gICAgICBpZiAoY2hlY2tSZXMocmVzKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZldGNoRGljdEVyckhhbmRsZXIocmVzKTtcbiAgICAgICAgc2V0T3B0aW9ucyhyZXMuZGF0YSwgJ2RvbUludCcpO1xuICAgICAgICBmZXRjaFBheU1vZGUoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hQYXlNb2RlKCkge1xuICAgIGZuX3F1ZXJ5RGljdCgnUEFZX01PREUnLCBmdW5jdGlvbihyZXMpIHtcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmV0Y2hEaWN0RXJySGFuZGxlcihyZXMpO1xuICAgICAgICBzZXRPcHRpb25zKHJlcy5kYXRhLCAncGF5TW9kZScpO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N5c3RlbScpIHtcbiAgICAgICAgICBpbml0UGFnZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaEVmZmVjdGl2ZUJpbGxSdWxlcygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEVmZmVjdGl2ZUJpbGxSdWxlcygpIHtcbiAgICB2YXIgYXBpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfcXVlcnlFZmZlY3RpdmVCaWxsUnVsZScpO1xuICAgIHZhciB1cmwgPSBhcGkudmFsdWU7XG4gICAgZmV0Y2hEYXRhKHVybCwgJycsIGNyZWF0ZUVmZmVjdGl2ZUJpbGxSdWxlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFZmZlY3RpdmVCaWxsUnVsZXMocmVzKSB7XG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YSB8fCByZXMuZGF0ZTtcbiAgICB0cnkge1xuICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7moLzlvI/pnZ7ms5U6IOayoeaciWRhdGHlsZ7mgKcnKTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7moLzlvI/pnZ7ms5U6IGRhdGHlsZ7mgKfkuI3mmK/mlbDnu4QnKTtcbiAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDEpIHRocm93IG5ldyBFcnJvcign5rKh5pyJ5bey55Sf5pWI55qE6LSm5Y2V6KeE5YiZKOatpOWKn+iDveWPr+mAiSknKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVyciwgaW5pdFBhZ2UpOyAvLyDmmL7npLrlvILluLhcbiAgICAgIGluaXRQYWdlKCk7IC8vIOS4jeWkhOeQhuW8guW4uFxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNyZWF0ZUJpbGxSdWxlQnV0dG9ucyhkYXRhW2ldKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJlbmRlckVmZmVjdGl2ZUJpbGxSdWxlcygpO1xuICAgICAgaW5pdFBhZ2UoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbGxSdWxlQnV0dG9ucyhkYXRhKSB7XG4gICAgICB2YXIgcnVsZSA9IGRhdGEuYmlsbFJ1bGUgPyBkYXRhLmJpbGxSdWxlIDogJ05VTEwnO1xuICAgICAgdmFyIGRlc2MgPSBkYXRhLmJpbGxSdWxlRGVzYyA/IGRhdGEuYmlsbFJ1bGVEZXNjIDogJ05VTEwnO1xuICAgICAgdmFyIGlkID0gZGF0YS5iaWxsUnVsZUlkID8gZGF0YS5iaWxsUnVsZUlkIDogJ05VTEwnO1xuICAgICAgdmFyIG5hbWUgPSBkYXRhLmJpbGxSdWxlTmFtZSA/IGRhdGEuYmlsbFJ1bGVOYW1lIDogJ05VTEwnO1xuICAgICAgdmFyIHBvc2l0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3J1bGVTZXRzV3JhcCcpO1xuICAgICAgdmFyIHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHBvc2l0aW9uLmFwcGVuZENoaWxkKHdyYXApO1xuICAgICAgd3JhcC5hcHBlbmRDaGlsZChnZXRMYWJlbCgpKTtcbiAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoZ2V0RHJvcCgpKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TGFiZWwoKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndm9pZCBidXR0b24nKTtcbiAgICAgICAgbGFiZWwuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCduYW1lJywgJ2JpbGxSdWxlJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgcnVsZSk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCk7XG4gICAgICAgIHJldHVybiBsYWJlbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RHJvcCgpIHtcbiAgICAgICAgdmFyIGRyb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZHJvcC5zZXRBdHRyaWJ1dGUoJ3VrLWRyb3AnLCAnZGVsYXktaGlkZTowJyk7XG4gICAgICAgIHZhciBjYXJkRnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZHJvcC5hcHBlbmRDaGlsZChjYXJkRnJhbWUpO1xuICAgICAgICBjYXJkRnJhbWUuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1jYXJkIHVrLWNhcmQtc21hbGwgdWstY2FyZC1kZWZhdWx0Jyk7XG4gICAgICAgIGNhcmRGcmFtZS5hcHBlbmRDaGlsZChnZXRDYXJkSGVhZGVyKCkpO1xuICAgICAgICBjYXJkRnJhbWUuYXBwZW5kQ2hpbGQoZ2V0Q2FyZEJvZHkoKSk7XG4gICAgICAgIHJldHVybiBkcm9wO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldENhcmRIZWFkZXIoKSB7XG4gICAgICAgICAgdmFyIGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGhlYWRlci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWNhcmQtaGVhZGVyJyk7XG4gICAgICAgICAgdmFyIHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdGl0bGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1jYXJkLXRpdGxlJyk7XG4gICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgICAgICB2YXIgaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g1Jyk7XG4gICAgICAgICAgdGl0bGUuYXBwZW5kQ2hpbGQoaCk7XG4gICAgICAgICAgaC5pbm5lclRleHQgPSBuYW1lO1xuICAgICAgICAgIHJldHVybiBoZWFkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDYXJkQm9keSgpIHtcbiAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstY2FyZC1ib2R5IHVrLWNvbnRhaW5lciB1ay1jb250YWluZXIteHNtYWxsJyk7XG4gICAgICAgICAgaWYgKGRlc2MgPT09ICdOVUxMJykge1xuICAgICAgICAgICAgZGl2LmlubmVyVGV4dCA9ICfml6DmlbDmja4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgICBpZiAoZGVzYy5pbmRleE9mKCcsJykgIT09IC0xKSBhcnJheSA9IGRlc2Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRlc2MuaW5kZXhPZign77yMJykgIT09IC0xKSBhcnJheSA9IGRlc2Muc3BsaXQoJ++8jCcpO1xuICAgICAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA8IDEpIGRpdi5pbm5lclRleHQoJ+aXoOaVsOaNricpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWxhYmVsIHVrLW1hcmdpbi1zbWFsbC1ib3R0b20gdWstbWFyZ2luLXNtYWxsLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gJC50cmltKGFycmF5W2pdKTtcbiAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBkaXYuaW5uZXJUZXh0ID0gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkaXY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW5kZXJFZmZlY3RpdmVCaWxsUnVsZXMoKSB7XG4gICAgdmFyIHJ1bGVTZXRzV3JhcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydWxlU2V0c1dyYXAnKTtcbiAgICB2YXIgcnVsZVJhZGlvcyA9IHJ1bGVTZXRzV3JhcERpdi5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPXJhZGlvXScpO1xuICAgIHZhciBydWxlTGFiZWxzID0gcnVsZVNldHNXcmFwRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xhYmVsJyk7XG4gICAgLy8gQmluZCByYWRpb3M6XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlUmFkaW9zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmFkaW8gPSBydWxlUmFkaW9zW2ldO1xuICAgICAgdmFyIGZ1bmMgPSBHbG9iX2ZuLmNoZWNrYm94QW5kUmFkaW87XG4gICAgICBmdW5jLmluaXRBY3RpdmVMYWJlbChyYWRpbyk7XG4gICAgICByYWRpby5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jLnNldEJpbmRpbmdMYWJlbHMocnVsZVJhZGlvcykpO1xuICAgICAgcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8g6Zi75q2i5LqL5Lu25LiK5Y2H5YiwbGFiZWxcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBCaW5kIGxhYmVsczogXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBydWxlTGFiZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGFiZWwgPSBydWxlTGFiZWxzW2ldO1xuICAgICAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g5oq15raIZHJvcOaOp+S7tuWJr+S9nOeUqFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEJpbmQgcmVzZXQgYnV0dG9uOlxuICAgIHZhciByZXNldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9cmVzZXRdJyk7XG4gICAgdmFyIGRlZmF1bHRSYWRpbyA9IHJ1bGVSYWRpb3NbMF07XG4gICAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGRlZmF1bHRSYWRpby5jbGljaygpOyAvLyDph43nva7kuLrlhajpg6hcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xuICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgMTUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5T3JpZ2luYWxXYXliaWxsLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5iaWxsUnVsZSA9PT0gJycpXG4gICAgICAgIGRhdGEuYmlsbFJ1bGUgPSBudWxsO1xuICAgIH0sIHtcbiAgICAgIHRpbWVvdXQ6IDIwMDAwLFxuICAgIH0pO1xuICAgIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hfZXhwb3J0RXhjZWwpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzKCkge1xuICAvLyB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpO1xuICBHbG9iX2ZuLldkYXRlSW5pdCgnc3RhcnRUaW1lJywgJ2VuZFRpbWUnLCB7XG4gICAgZGF0ZUZtdDogJ3l5eXnlubRNTeaciCcsXG4gICAgLy8gbWluRGF0ZTogJ3sleS0zfS0lTS0lZCcsXG4gICAgbWF4RGF0ZTogJ3RvZGF5JyxcbiAgICByZWFsRGF0ZUZtdDogJ3l5eXlNTScsXG4gIH0pO1xuICBmbl9pbml0U3VibWl0QnRuKDEsIDE1LCBmZXRjaERhdGEsIG5ldyBTdGFfdGFibGUoKS5nZXRUYWJsZV9xdWVyeVN1bUJpbGxCeVJ1bGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3KCkge1xuICBpZiAocm9sZSA9PT0gJ2FnZW50Jykge1xuICAgIGluaXRQYWdlKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdE5ld1BhZ2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xuICAgIEdsb2JfZm4uV2RhdGVJbml0KCdzdGFydFRpbWUnLCAnZW5kVGltZScsIHtcbiAgICAgIGRhdGVGbXQ6ICd5eXl55bm0TU3mnIgnLFxuICAgICAgbWluRGF0ZTogJ3sleS0zfS0lTS0lZCcsXG4gICAgICBtYXhEYXRlOiAndG9kYXknLFxuICAgICAgcmVhbERhdGVGbXQ6ICd5eXl5TU0nLFxuICAgIH0pO1xuICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgMTUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5QmlsbF9uZXcpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE5ld1BhZ2UoKSB7XG4gICAgR2xvYl9mbi5zZXRQb3N0TGluayhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdERhdGFMaW5rJyksIEdsb2JfZm4uZ2V0T3JkZXJUaW1lKCkpO1xuICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgMTUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5QmlsbF9uZXcpO1xuICAgIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hfZXhwb3J0RXhjZWwpO1xuICAgIGlmIChyb2xlID09PSAnc3lzdGVtJykgcmV0dXJuO1xuICAgIGlmIChyb2xlID09PSAnc3RhdGlvbicpIHNldE11bHRpUHVzaEJ1dHRvbigpO1xuXG4gICAgZnVuY3Rpb24gc2V0TXVsdGlQdXNoQnV0dG9uKCkge1xuICAgICAgdmFyIG11bHRpQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ211bHRpQnRuJyk7XG4gICAgICBtdWx0aUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9zdGF0aW9uQmlsbFB1c2hdJykudmFsdWU7XG4gICAgICAgIHZhciBjaGIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2JfY2hpbGQnKTtcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5hZGRDaGVja2VkVG9MaXN0KGNoYiwgbGlzdCk7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+ivt+mAieaLqeiHs+WwkeS4gOmhuScpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9zdERhdGEgPSB7IG9yZGVyTm9MaXN0OiBsaXN0IH07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCwgcG9zdERhdGEpO1xuICAgICAgICBmZXRjaF9zdGFfc3RhdGlvbkJpbGxQdXNoKHVybCwgcG9zdERhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3KCkge1xuICBpZiAocm9sZSA9PT0gJ2FnZW50Jykge1xuICAgIGluaXRUaGlzUGFnZSgpO1xuICAgIHJldHVybjtcbiAgfVxuICBmbl9xdWVyeURpY3QoJ09QRURFUEFSVCcsIGZ1bmN0aW9uKHJlcykge1xuICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xuICAgIEdsb2JfZm4uc2V0T3BlZGVwYXJ0SWQocmVzKTtcbiAgICBpbml0VGhpc1BhZ2UoKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gaW5pdFRoaXNQYWdlKCkge1xuICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLnNldFBvc3RMaW5rKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3N0RGF0YUxpbmsnKSwgR2xvYl9mbi5nZXRPcmRlclRpbWUoKSk7XG4gICAgLy8gYmluZCBzdWJtaXQgYnV0dG9uOlxuICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgNSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlEZXRhaWxzX25ldyk7XG4gICAgLy8gYmluZCBleHBvcnQgYnV0dG9uOlxuICAgIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hfZXhwb3J0RXhjZWwpO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRpb25fZ2V0U3RhdGlvbkFsbENvbnN1bWVyKCkge1xuICAvLyBiaW5kIHN1Ym1pdCBidXR0b246XG4gIGZuX2luaXRTdWJtaXRCdG4oMSwgMTAsIGZldGNoX3N0YV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIpO1xuICAvLyBiaW5kIGV4cG9ydCBidXR0b246XG4gIGZuX2luaXRFeHBvcnRCdG4oZmV0Y2hfZXhwb3J0RXhjZWwpO1xuXG4gIC8vIOWIneWni+WMlkxpc3Rib3jvvJpcbiAgdmFyIHNob3dMaXN0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc2NvdW50U2V0dGluZycpOyAvLyB1c2VySW5mb1xuICBpZiAoc2hvd0xpc3RCb3gpIHtcbiAgICBpbml0TGlzdEJveCgpO1xuICB9XG4gIC8vIOS8mOaDoOiuvue9ruaPkOS6pOaMiemSrue7keWumu+8mlxuICB2YXIgbGlzdEJveFN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbl9kaXNjU2V0dGxlJyk7XG4gIGxpc3RCb3hTdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvckRpc2NTZXR0bGVdJykudmFsdWU7XG4gICAgdmFyIGxpc3Rib3ggPSBuZXcgTGlzdGJveCgpO1xuICAgIHZhciBkYXRhID0gbGlzdGJveC5wb3N0RGF0YV9kaXNjb3VudE5hbWUoKTtcbiAgICBmZXRjaF9zdGFfYWRkRGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpO1xuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0U3RhdGlvbl9nZXRBbGxEaXNjb3VudFBvbGljeSgpIHtcbiAgLy8gZ2V0IHNlbGVjdCBvcHRpb25zOlxuICBmbl9xdWVyeURpY3QoJ0RJU0NPVU5UX1RZUEUnLCBmdW5jdGlvbihyZXMpIHtcbiAgICAvLyBzZXQgb3B0aW9uczpcbiAgICBpZiAoIXJlcy5kYXRhIHx8IHJlcy5kYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign5a2X5YW45o6l5Y+j6ZSZ6K+vJyk7XG4gICAgfVxuICAgIHZhciBESVNDT1VOVF9UWVBFID0gcmVzLmRhdGE7XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0YUZvcm0nKTtcbiAgICB2YXIgc2VsZWN0VHlwZSA9IGZvcm0ucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9ZGlzY291bnRUeXBlXScpO1xuICAgIHZhciBvcDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcDAudmFsdWUgPSAnVFlQRSc7XG4gICAgb3AwLmlubmVyVGV4dCA9ICflhajpg6gnO1xuICAgIHNlbGVjdFR5cGUuYXBwZW5kQ2hpbGQob3AwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IERJU0NPVU5UX1RZUEUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgZm9yICh2YXIga2V5IGluIERJU0NPVU5UX1RZUEVbaV0pIHtcbiAgICAgICAgaWYgKGtleSA9PSAndmFsdWUnKSB7XG4gICAgICAgICAgb3AuaW5uZXJUZXh0ID0gRElTQ09VTlRfVFlQRVtpXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgPT0gJ2tleScpIHtcbiAgICAgICAgICBvcC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgRElTQ09VTlRfVFlQRVtpXVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBvcC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgRElTQ09VTlRfVFlQRVtpXVtrZXldKTtcbiAgICAgICAgc2VsZWN0VHlwZS5hcHBlbmRDaGlsZChvcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5pdCBXZGF0ZTpcbiAgICBHbG9iX2ZuLldkYXRlSW5pdCgnc3RhcnRUaW1lJywgJ2VuZFRpbWUnKTtcbiAgICBHbG9iX2ZuLldkYXRlSW5pdCgnc2V0U3RhcnRUaW1lJywgJ3NldEVuZFRpbWUnKTtcblxuICAgIC8vIGJpbmQgc3VibWl0OlxuICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgMTAsIGZldGNoX3N0YV9nZXRBbGxEaXNjb3VudFBvbGljeSk7XG5cbiAgICAvLyBiaW5kIGFkZCBuZXc6XG4gICAgdmFyIG5ld0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b0Rpc2NvdW50UG9saWNpZXMnKTtcbiAgICBuZXdCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2Rpc2NvdW50UG9saWNpZXMnO1xuICAgIH0pXG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdGF0aW9uX2JpbGxzU2V0dGluZygpIHtcbiAgR2xvYl9mbi5XZGF0ZUluaXQoJ3N0YXJ0VGltZScsICdlbmRUaW1lJywge1xuICAgIC8vIGRhdGVGbXQ6ICd5eXl55bm0TU3mnIgnLFxuICAgIC8vIG1pbkRhdGU6ICd7JXktMX0teyVNKzl9LSVkJyxcbiAgICAvLyBtYXhEYXRlOiAndG9kYXknLFxuICB9KTtcbiAgLy8gQmluZCBBZGQgcnVsZSBCdXR0b246XG4gIGJpbmRBZGRSdWxlQnRuKCk7XG5cbiAgZnVuY3Rpb24gYmluZEFkZFJ1bGVCdG4oKSB7XG4gICAgdmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRSdWxlJyk7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdiaWxsc1NldHRpbmcvYWRkUnVsZSc7XG4gICAgfSk7XG4gIH1cbiAgLy8gQmluZCBTdWJtaXQ6XG4gIGZuX2luaXRTdWJtaXRCdG4oMSwgMTAsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5QmlsbFJ1bGVCeVBhZ2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTdGF0aW9uX2JpbGxzU2V0dGluZ19hZGRSdWxlKCkge1xuICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpO1xuICB2YXIgdmxkID0gbmV3IEZvcm1WYWxpZGF0ZSgpO1xuICB2YXIgdmFsaWRhdG9yID0gdmxkLnZhbGlkYXRvcigpO1xuICAvLyBmZXRjaCBkYXRhOlxuICBmZXRjaEJpbGxSdWxlKClcblxuICBmdW5jdGlvbiBmZXRjaEJpbGxSdWxlKCAvKmRhdGEqLyApIHtcbiAgICBmbl9xdWVyeURpY3QoJ0JJTExfUlVMRScsIGZ1bmN0aW9uKHJlcykge1xuICAgICAgaWYgKGNoZWNrUmVzKHJlcykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocmVzLmRhdGEgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IOaVsOaNruayoeaciWRhdGHlsZ7mgKcnKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlcy5kYXRhKSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IGRhdGHlsZ7mgKfkuI3mmK/mlbDnu4QnKTtcbiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCAhPSAxKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogZGF0YeaVsOe7hOmVv+W6puS4jeS4ujEnKTtcbiAgICAgICAgaWYgKCFHbG9iX2ZuLmlzSlNPTihyZXMuZGF0YVswXS52YWx1ZSkpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiDmlbDmja7kuI3mmK9KU09O5qC85byPJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNob3dWYWx1ZUZyb20oSlNPTi5wYXJzZShyZXMuZGF0YVswXS52YWx1ZSkpXG4gICAgICBpbml0UGFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd1ZhbHVlRnJvbShmZXRjaFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZldGNoVmFsdWUpKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogSlNPTuaVsOaNruS4jeaYr+aVsOe7hCcpO1xuICAgIGlmIChmZXRjaFZhbHVlLmxlbmd0aCA8IDEpIHRocm93IG5ldyBFcnJvcign5peg6KeE5YiZ5Y+v6YCJJyk7XG4gICAgdmFyIHJhZGlvc0hlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFkaW9zSGVhZGluZycpO1xuICAgIHZhciBjaGVja2JveGVzSGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja2JveGVzSGVhZGluZycpO1xuICAgIHZhciBjaGVja0FsbFdyYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hlY2tBbGxXcmFwJyk7XG4gICAgdmFyIGNoZWNrYm94ZXNDb3VudCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZXRjaFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcnVsZVByb3BzID0gZmV0Y2hWYWx1ZVtpXTtcbiAgICAgIGlmIChydWxlUHJvcHMuY2hlY2tCb3gpIHtcbiAgICAgICAgaWYgKGNoZWNrYm94ZXNIZWFkaW5nLmhhc0F0dHJpYnV0ZSgnaGlkZGVuJykpIHtcbiAgICAgICAgICBjaGVja2JveGVzSGVhZGluZy5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrYm94ZXNDb3VudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJhZGlvc0hlYWRpbmcuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSkge1xuICAgICAgICAgIHJhZGlvc0hlYWRpbmcucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0UnVsZShydWxlUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoY2hlY2tib3hlc0NvdW50ID4gMSAmJiBjaGVja0FsbFdyYXAuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSkge1xuICAgICAgY2hlY2tBbGxXcmFwLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UnVsZShkYXRhKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgdmFyIG5hbWUgPSBkYXRhLm5hbWUgPyBkYXRhLm5hbWUgOiAnTlVMTCc7XG4gICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlID8gZGF0YS50eXBlIDogJ05VTEwnO1xuICAgICAgICB2YXIgd3JhcCA9IGRhdGEuY2hlY2tCb3ggP1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja2JveGVzV3JhcCcpIDpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFkaW9zV3JhcCcpO1xuICAgICAgICB2YXIgZnJhbWUgPSBnZXRGcmFtZShkYXRhKTtcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChmcmFtZSk7XG4gICAgICAgIHZhciBsYWJlbCA9IGdldExhYmVsKG5hbWUpO1xuICAgICAgICB2YXIgY29udGVudERpdiA9IGdldENvbnRlbnREaXYoKTtcbiAgICAgICAgZnJhbWUuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICBmcmFtZS5hcHBlbmRDaGlsZChjb250ZW50RGl2KTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEuY29udGVudCkpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBjb250ZW505LiN5piv5pWw57uEJyk7XG4gICAgICAgIGlmIChkYXRhLmNvbnRlbnQubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKGRhdGEubmFtZSArICfnsbvlnovkuIvml6DmlbDmja4nKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0gZGF0YS5jb250ZW50W2pdLmtleSA/IGRhdGEuY29udGVudFtqXS5rZXkgOiAnJztcbiAgICAgICAgICB2YXIgdmFsdWUgPSBkYXRhLmNvbnRlbnRbal0udmFsdWUgPyBkYXRhLmNvbnRlbnRbal0udmFsdWUgOiAnTlVMTCc7XG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSBnZXRDb250ZW50KGtleSwgdmFsdWUpO1xuICAgICAgICAgIGNvbnRlbnREaXYuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcilcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEZyYW1lKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGZyYW1lLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luJyk7XG4gICAgICAgIGlmICghZGF0YS5jaGVja0JveCkgZnJhbWUuY2xhc3NMaXN0LmFkZCgncmFkaW9XcmFwJyk7XG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0TGFiZWwobmFtZSkge1xuICAgICAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdkYXRhLXJ1bGVUeXBlJywgdHlwZSk7XG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZGF0YS1ydWxlTmFtZScsIG5hbWUpO1xuICAgICAgICBsYWJlbC5pbm5lclRleHQgPSBuYW1lO1xuICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldENvbnRlbnREaXYoKSB7XG4gICAgICAgIHZhciBjb250ZW50V3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250ZW50V3JhcC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tY29udHJvbHMgdWstZ3JpZC1zbWFsbCcpO1xuICAgICAgICBjb250ZW50V3JhcC5zZXRBdHRyaWJ1dGUoJ3VrLWdyaWQnLCAnJyk7XG4gICAgICAgIHJldHVybiBjb250ZW50V3JhcDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q29udGVudChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd2b2lkIGJ1dHRvbicpO1xuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCBkYXRhLmNoZWNrQm94ID8gJ2NoZWNrYm94JyA6ICdyYWRpbycpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgZGF0YS5jaGVja0JveCA/ICdsaW5rTGFiZWwnIDogJycpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0eXBlKTtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBrZXkpO1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcnVsZURlc2MnLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3JhZGlvJyAmJiBpbnB1dC52YWx1ZSA9PT0gJ01QJylcbiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnJyk7XG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gdmFsdWU7XG4gICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRQYWdlKCkge1xuICAgIC8vIHNldCBkZWZhdWx0IGlucHV0OlxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWRpb1dyYXAnKS5mb3JFYWNoKGRpdiA9PiB7XG4gICAgICBkaXYucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykuZm9yRWFjaCgoaW5wdXQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dC5uYW1lICE9PSAnUEFZX01PREUnICYmIGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJycpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgICAvLyB2bGQ6IGJpbmRJdGVtczpcbiAgICB2YWxpZGF0b3IuYmluZEZvcm1JdGVtcygpO1xuICAgIC8vIFVJOiBCaW5kIFJhZGlvczpcbiAgICBiaW5kQWxsUmFkaW9zKCk7XG5cbiAgICBmdW5jdGlvbiBiaW5kQWxsUmFkaW9zKCkge1xuICAgICAgdmFyIHdyYXBzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucmFkaW9XcmFwJyk7XG4gICAgICBpZiAod3JhcHMubGVuZ3RoIDwgMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ayoeacieWumuS5iWRpdi5yYWRpb1dyYXAnKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgd3JhcHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIHdyYXAgPSB3cmFwc1tqXTtcbiAgICAgICAgYmluZFJhZGlvcyh3cmFwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYmluZFJhZGlvcyh3cmFwKSB7XG4gICAgICAgIHZhciByYWRpb3MgPSB3cmFwLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9cmFkaW9dJyk7XG4gICAgICAgIGlmIChyYWRpb3MubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhZGlvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciByYWRpbyA9IHJhZGlvc1tpXTtcbiAgICAgICAgICB2YXIgZnVuYyA9IEdsb2JfZm4uY2hlY2tib3hBbmRSYWRpbztcbiAgICAgICAgICBmdW5jLmluaXRBY3RpdmVMYWJlbChyYWRpbyk7XG4gICAgICAgICAgcmFkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuYy5zZXRCaW5kaW5nTGFiZWxzKHJhZGlvcykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFVJOiBDaGVja2JveGVzOlxuICAgIGNoZWNrYm94ZXMoKTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrYm94ZXMoKSB7XG4gICAgICB2YXIgY2J4X2FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGVja0FsbFJ1bGVzJyk7XG4gICAgICB2YXIgY2J4cyA9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1jaGVja2JveF0ubGlua0xhYmVsJyk7XG4gICAgICAvLyBVSTogY2hlY2tib3jnu5HlrprmoLflvI86XG4gICAgICBjYnhMaW5rTGFiZWwoKTtcblxuICAgICAgZnVuY3Rpb24gY2J4TGlua0xhYmVsKCkge1xuICAgICAgICBpZiAoY2J4cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2J4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBjYnggPSBjYnhzW2ldO1xuICAgICAgICAgIGNieC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNoYW5nZVN0eWxlKHRoaXMpO1xuICAgICAgICAgICAgaWYgKGNieF9hbGwuY2hlY2tlZCkge1xuICAgICAgICAgICAgICBjYnhfYWxsLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVUk6IOWFqOmAieWKn+iDveWunueOsDpcbiAgICAgIGNvbXBseUNoZWNrQWxsKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbXBseUNoZWNrQWxsKCkge1xuICAgICAgICBpZiAoIWNieF9hbGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNieHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYnhfYWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIOWFqOmAiVxuICAgICAgICAgICAgc2V0QWxsQ2hlY2tlZChjYnhzLCB0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5YWo5LiN6YCJXG4gICAgICAgICAgICBzZXRBbGxDaGVja2VkKGNieHMsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldEFsbENoZWNrZWQoY2hlY2tib3hlcywgYm9vKSB7XG4gICAgICAgICAgaWYgKCFjaGVja2JveGVzIHx8IGNoZWNrYm94ZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmsqHmnInmib7liLDlsIbopoHlr7nlupTnmoRjaGVja2JveCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGVja2JveCA9IGNoZWNrYm94ZXNbaV07XG4gICAgICAgICAgICBpZiAoYm9vICYmIGNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgLy8g5LiN5aSE55CGXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gYm9vXG4gICAgICAgICAgICAgIGNoYW5nZVN0eWxlKGNoZWNrYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVJOiBjaGVja2JveOaMiemSruagt+W8j+inhOWImTpcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZVN0eWxlKGNoZWNrYm94KSB7XG4gICAgICAgIHZhciBsYWJDbGFzc2VzID0gR2xvYl9mbi5jaGVja2JveEFuZFJhZGlvLmdldEJpbmRpbmdMYWJlbChjaGVja2JveCkuY2xhc3NMaXN0O1xuICAgICAgICBpZiAobGFiQ2xhc3Nlcy5jb250YWlucygnbmV3TW9udGgnKSkge1xuICAgICAgICAgIGxhYkNsYXNzZXMudG9nZ2xlKCdidXR0b24taGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgbGFiQ2xhc3Nlcy50b2dnbGUoJ3VrLXRleHQtd2FybmluZycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhYkNsYXNzZXMudG9nZ2xlKCdidXR0b24tcHJpbWFyeScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFN1Ym1pdCBCaW5kaW5nOlxuICAgIHN1Ym1pdEFkZFJ1bGUoKTtcblxuICAgIGZ1bmN0aW9uIHN1Ym1pdEFkZFJ1bGUoKSB7XG4gICAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZUJpbGwnKTtcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9zdGF0aW9uX2JpbGxTZXR0aW5nXScpLnZhbHVlO1xuICAgICAgdmFyIG5vdCA9IFwiPHNwYW4gaWQ9J25vdGlmaWNhdGlvbicgdWstaWNvbj0naWNvbjogY2hlY2snPjwvc3Bhbj4g5o+Q5Lqk5oiQ5YqfXCI7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoIXZhbGlkYXRvci5zdWJtaXRCb28oKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBVSWtpdC5tb2RhbC5jb25maXJtKCfnoa7lrprmj5DkuqTkv6Hmga/lubbnlJ/miJDotKbljZXop4TliJk/JykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHBvc3REYXRhID0gZ2V0UG9zdERhdGEoKTtcbiAgICAgICAgICAgIHZhciBwb3N0VXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfc3RhdGlvbkNyZWF0ZUJpbGxSdWxlXScpLnZhbHVlO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9zdERhdGEpO1xuICAgICAgICAgICAgZmV0Y2hEYXRhKHBvc3RVcmwsIHBvc3REYXRhLCBzdWNjZXNzQ2FsbGJhY2spO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBHbG9iX2ZuLmVycm9ySGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBnZXRQb3N0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBiaWxsUnVsZU5hbWU6IGdldE5hbWUoKSxcbiAgICAgICAgICBiaWxsUnVsZTogZ2V0UnVsZSgpLnJ1bGUsXG4gICAgICAgICAgYmlsbFJ1bGVEZXNjOiBnZXRSdWxlKCkuZGVzYyxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldE5hbWUoKSB7XG4gICAgICAgIHZhciBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxOYW1lJykudmFsdWU7XG4gICAgICAgIGlmICghbmFtZSkgdGhyb3cgbmV3IEVycm9yKCfooajljZXplJnor686IOivt+mHjeaWsOWhq+WGmei0puWNleinhOWImeWQjeensCcpO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UnVsZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFkaW9zV3JhcCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9cmFkaW9dJyk7XG4gICAgICAgICAgdmFyIGNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrYm94ZXNXcmFwJykucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1jaGVja2JveF0nKTtcbiAgICAgICAgICB2YXIgY2hlY2tlZElucHV0cyA9IGdldENoZWNrZWRJbnB1dHMoKTtcbiAgICAgICAgICBpZiAoY2hlY2tlZElucHV0cy5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ+ihqOWNlemUmeivrzog5pyq6YCJ5oup6KeE5YiZJyk7XG4gICAgICAgICAgdmFyIHJ1bGVzSW5mbyA9IGdldFJ1bGVzSW5mbyhjaGVja2VkSW5wdXRzKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcnVsZTogZ2V0UmVzdWx0cyhydWxlc0luZm8pLnJ1bGUsXG4gICAgICAgICAgICBkZXNjOiBnZXRSZXN1bHRzKHJ1bGVzSW5mbykuZGVzYyxcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldENoZWNrZWRJbnB1dHMoKSB7XG4gICAgICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICAgICAgcHV0Q2hlY2tlZElucEluKHJzLCBhcnJheSk7XG4gICAgICAgICAgcHV0Q2hlY2tlZElucEluKGNzLCBhcnJheSk7XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcHV0Q2hlY2tlZElucEluKGlucHV0cywgYXJyYXkpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGlucHV0c1tpXS5jaGVja2VkKVxuICAgICAgICAgICAgICBhcnJheS5wdXNoKGlucHV0c1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UnVsZXNJbmZvKGlucHV0cykge1xuICAgICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5wID0gaW5wdXRzW2ldO1xuICAgICAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IGlucC5uYW1lLFxuICAgICAgICAgICAgICB2YWx1ZTogaW5wLnZhbHVlLFxuICAgICAgICAgICAgICBkZXNjOiBpbnAuZ2V0QXR0cmlidXRlKCdkYXRhLXJ1bGVEZXNjJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0UmVzdWx0cyhyYXdBcnJheSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICB2YXIgZGVzYyA9IFtdO1xuICAgICAgICAgIHZhciB0bXBOYW1lID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJhd0FycmF5W2ldLm5hbWUgPT09IHRtcE5hbWUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0W3Jhd0FycmF5W2ldLm5hbWVdLnB1c2gocmF3QXJyYXlbaV0udmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzdWx0W3Jhd0FycmF5W2ldLm5hbWVdID0gW3Jhd0FycmF5W2ldLnZhbHVlXTtcbiAgICAgICAgICAgICAgdG1wTmFtZSA9IHJhd0FycmF5W2ldLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXNjLnB1c2gocmF3QXJyYXlbaV0uZGVzYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBydWxlOiBKU09OLnN0cmluZ2lmeShyZXN1bHQpLFxuICAgICAgICAgICAgZGVzYzogcGFyc2VEZXNjKGRlc2MpLFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlRGVzYyhhcnJheSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICByZXN1bHQgKz0gYXJyYXlbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgaWYgKGkgPCBhcnJheS5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICAvLyBhbGVydChKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICBVSWtpdC5ub3RpZmljYXRpb24obm90LCB7XG4gICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgdGltZW91dDogMTAwMCxcbiAgICAgICAgfSk7XG4gICAgICAgIFVJa2l0LnV0aWwub24oJy51ay1ub3RpZmljYXRpb24nLCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdGFfdGFibGUoKSB7fVxuLy8g55Sf5oiQ5Z+656GA5pWw5o2u5bGV56S66KGo5qC877yI5paw6ZyA5rGC77yJOlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9xdWVyeU9yaWdpbmFsV2F5YmlsbCA9IGZ1bmN0aW9uKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUpIHtcbiAgZ2V0RmVlSXRlbSgpO1xuXG4gIGZ1bmN0aW9uIGdldEZlZUl0ZW0oKSB7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5RmVlSXRlbV0nKS52YWx1ZTtcbiAgICBmZXRjaERhdGEodXJsLCAnJywgY3JlYXRlVGFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVGFibGUoZmVlSXRlbXMpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgICAgaWYgKCFmZWVJdGVtcy5kYXRhKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTog6LS555So5YiX6KGo6aG55pyq5a6a5LmJJyk7XG4gICAgICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgICAgIHNldENhcHRpb24ocmVzLmRhdGEpO1xuICAgICAgc2V0VGhlYWQoZmVlSXRlbXMuZGF0YSk7XG4gICAgICBzZXRUYm9keShyZXMsIGZlZUl0ZW1zLmRhdGEpO1xuICAgICAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5T3JpZ2luYWxXYXliaWxsLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmJpbGxSdWxlID09PSAnJylcbiAgICAgICAgICBkYXRhLmJpbGxSdWxlID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Q2FwdGlvbihkYXRhKSB7XG4gICAgICB2YXIgY2FwdGlvbiA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ2NhcHRpb24nKTtcbiAgICAgIGlmICghY2FwdGlvbikgcmV0dXJuO1xuICAgICAgY2FwdGlvbi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKVxuICAgICAgaWYgKGRhdGEudG90YWxDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhcHRpb24ucXVlcnlTZWxlY3Rvcignc3Bhbi50b3RhbENvdW50JykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICBjYXB0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0VGhlYWQoZGF0YSkge1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LS555So6K6w5b2V5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i/kOWNleWJjee8gCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfov5DljZXlj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5ZOB5ZCNJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0p+i/kOexu+WeiycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflp4vlj5Hnq5knKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn55uu55qE56uZJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iIquePreWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfku7bmlbAnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6YeN6YePJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuoei0uemHjemHjycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforqHotLnml7bpl7QnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS56JCl5Lia54K5Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuoei0ueiQpeS4mueCueWQjeensCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5idWlsZEFqYXhUaXRsZShkYXRhLCB0ckluVGhlYWQpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfph5Hpop0nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUYm9keShyYXdEYXRhLCBhamF4VGl0bGUpIHtcbiAgICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGlkZVNvbWUnLCAnJyk7XG4gICAgICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIHZhciBkYXRhID0gcmF3RGF0YS5kYXRhLmZlZUxpc3Q7XG4gICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgdmFyIHRkU2VyaWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xuICAgICAgICB0ZFNlcmlhbC5pbm5lclRleHQgPSBpICsgMSArIChOdW1iZXIocGFnZU51bWJlcikgLSAxKSAqIE51bWJlcihwYWdlU2l6ZSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZmVlUmVjSWQpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0b2NrUHJlKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zdG9ja05vKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jYXJnb05tKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS50eXBlKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zQWlycG9ydERzYyk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZUFpcnBvcnREc2MpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmZsaWdodCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ucGNzKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS53ZWlnaHQpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmZlZVd0KTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jcnRvcGVUaW1lU3RyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcGVkZXBhcnRJZCk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ub3BlZGVwYXJ0U3RyKTtcbiAgICAgICAgdmFyIGZlZUlkQXJyID0gR2xvYl9mbi5UYWJsZS5nZXRBamF4VGl0bGVWYWx1ZShhamF4VGl0bGUsICdmZWVJZCcpO1xuICAgICAgICB2YXIgYWpheERhdGEgPSBHbG9iX2ZuLlRhYmxlLmdldEFqYXhUaXRsZURhdGEobnVsbCwgZmVlSWRBcnIsIEpTT04ucGFyc2UoZGF0YVtpXS5mZWVJdGVtTGlzdCkpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLmJ1aWxkVmFsdWVXaXRoQWpheFRpdGxlKGFqYXhEYXRhLCB0cik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0udG90YWxGZWVTdHIpO1xuICAgICAgICAvLyBHbG9iX2ZuLlRhYmxlLnRySGlkZVNvbWUodHIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbi8vIOeUn+aIkOi0puWNleaxh+aAu+afpeivouihqOagvO+8iOaWsOmcgOaxgu+8iTpcblN0YV90YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfcXVlcnlTdW1CaWxsQnlSdWxlID0gZnVuY3Rpb24ocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICB0cnkge1xuICAgIGNyZWF0ZVRhYmxlKHJlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKHJlcykge1xuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICBpZiAoIXJlcy5kYXRhKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogZGF0YeacquWumuS5iScpO1xuICAgIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICAgIHNldFRoZWFkKCk7XG4gICAgc2V0VGJvZHkocmVzKTtcbiAgICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlTdW1CaWxsQnlSdWxlKTtcblxuICAgIGZ1bmN0aW9uIHNldFRoZWFkKCkge1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSm5Y2V5ZCN56ewJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W8gOi0puaXtumXtCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbmnJ8nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5Zyw5pyN5oiQ5pys5Lit5b+DJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+mHkeminScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUYm9keShyZXMpIHtcbiAgICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEuYmlsbExpc3Q7XG4gICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZFNlcmlhbCh0ciwgaSwgcGFnZU51bWJlciwgcGFnZVNpemUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmJpbGxSdWxlTmFtZSk7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uYWNjb3VudE9wZW5pbmdUaW1lKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcmRlclRpbWUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNvc3RDZW50ZXIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnRvdGFsRmVlKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZ2V0TGluayhkYXRhW2ldLmJpbGxSdWxlSWQpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0TGluayhpZCkge1xuICAgICAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IHN1bW1hcnlMaXN0LmJpbGxSdWxl5pyq5a6a5LmJJyk7XG4gICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBsaW5rLmlubmVyVGV4dCA9ICfmn6XnnIvotKbljZUnXG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLWJpbGxSdWxlSWQnLCBpZCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCd1ay10b29sdGlwJywgJ+eCueWHu+afpeeciycpO1xuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9mb3JOZXh0XScpLnZhbHVlICsgJy8nICsgaWQ7XG4gICAgICAgICAgR2xvYl9mbi5zdWJtVmlydEZvcm0odXJsLCBHbG9iX2ZuLmdldE9yZGVyVGltZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbi8vIOi0puWNleafpeeci+S4u+ihqCjmlrDpnIDmsYIp77yaXG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5QmlsbF9uZXcgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHRyeSB7XG4gICAgY3JlYXRlVGFibGUocmVzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVGFibGUocmVzKSB7XG4gICAgdmFyIHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpO1xuICAgIGlmICghcmVzLmRhdGEpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRh5pyq5a6a5LmJJyk7XG4gICAgdmFyIHRySW5UaGVhZCA9IEdsb2JfZm4uVGFibGUuZ2V0VGhUcih0YWJsZSk7XG4gICAgdmFyIGNoZWNrQWxsID0gR2xvYl9mbi5UYWJsZS5nZXRDaGVja2JveCgnYWxsJyk7XG4gICAgdHJJblRoZWFkID0gcm9sZSA9PT0gJ2FnZW50JyA/IHNldEFnZW50VGhlYWQoKSA6IHNldFRoZWFkKCk7XG4gICAgZ2V0Q2FwdGlvbkRhdGEoKTtcbiAgICBzZXRUYm9keShyZXMpO1xuICAgIGlmIChyb2xlID09PSAnc3RhdGlvbicpIHNldENoZWNrQWxsKGNoZWNrQWxsKTtcbiAgICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBuZXcgU3RhX3RhYmxlKCkuZ2V0VGFibGVfcXVlcnlCaWxsX25ldyk7XG5cbiAgICBmdW5jdGlvbiBnZXRDYXB0aW9uRGF0YSgpIHtcbiAgICAgIHZhciBpbnAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUJpbGxTdW1dJyk7XG4gICAgICBpZiAoIWlucCkgcmV0dXJuO1xuICAgICAgdmFyIHVybCA9IGlucC52YWx1ZTtcbiAgICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgICB2YXIgcG9zdERhdGEgPSBKU09OLnN0cmluZ2lmeSgkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhRm9ybScpKS5zZXJpYWxpemVPYmplY3QoKSk7XG4gICAgICBmZXRjaERhdGEodXJsLCBwb3N0RGF0YSwgc2V0Q2FwdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Q2FwdGlvbihyZXMpIHtcbiAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XG4gICAgICB2YXIgY2FwdGlvbiA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ2NhcHRpb24nKTtcbiAgICAgIGlmICghY2FwdGlvbikgcmV0dXJuO1xuICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnRvdGFsRmVlJykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbEFtb3VudCA/IGRhdGEudG90YWxBbW91bnQgOiAn5peg5pWw5o2uJztcbiAgICAgIGNhcHRpb24ucXVlcnlTZWxlY3Rvcignc3Bhbi5yZWFsVG90YWxGZWUnKS5pbm5lclRleHQgPSBkYXRhLnByZWZlcmVudGlhbFRvdGFsQW1vdW50ID8gZGF0YS5wcmVmZXJlbnRpYWxUb3RhbEFtb3VudCA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnRvdGFsV2VpZ2h0JykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbFdlaWdodCA/IGRhdGEudG90YWxXZWlnaHQgOiAn5peg5pWw5o2uJztcbiAgICAgIGNhcHRpb24ucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUaGVhZCgpIHtcbiAgICAgIGlmIChyb2xlID09PSAnc3RhdGlvbicpIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCBjaGVja0FsbCk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflvIDotKbml7bpl7QnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSm5pyfJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0p+i/kOexu+WeiycsIGZhbHNlKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5oC76YeR6aKdJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6Dph5Hpop0nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5Zyw5pyN5oiQ5pys5Lit5b+DJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W5s+WPsOiuouWNleWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkuqTmmJPmtYHmsLTlj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn57uT566X5a6i5oi357yW56CBJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+e7k+eul+WuouaIt+WQjeensCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICdiaW5kaW5nU3RhdHVzJywgZmFsc2UpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcbiAgICAgIHJldHVybiB0ckluVGhlYWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QWdlbnRUaGVhZCgpIHtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bqP5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W8gOi0puaXtumXtCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbmnJ8nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSm5Y2V5ZCN56ewJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W5s+WPsOiuouWNleWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmgLvph5Hpop0nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5LyY5oOg5ZCO6YeR6aKdJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S7mOasvueKtuaAgScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmlK/ku5jorqLljZXlj7cnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5pON5L2cJyk7XG4gICAgICByZXR1cm4gdHJJblRoZWFkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRib2R5KHJlcykge1xuICAgICAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oaWRlU29tZScsICc0MDAnKTtcbiAgICAgIHRib2R5LmlubmVySFRNTCA9ICcnO1xuICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5zdW1tYXJ5TGlzdDtcbiAgICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRhLnN1bW1hcnlMaXN05pyq5a6a5LmJJyk7XG4gICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykge1xuICAgICAgICAgIHZhciB0ZENoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZENoZWNrYm94KTtcbiAgICAgICAgICB2YXIgY2hlY2tib3ggPSBHbG9iX2ZuLlRhYmxlLmdldENoZWNrYm94KCk7XG4gICAgICAgICAgY2hlY2tib3gucXVlcnlTZWxlY3RvcignaW5wdXQnKS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY2hlY2tlZCcsIGRhdGFbaV0ub3JkZXJObyk7XG4gICAgICAgIH1cbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZFNlcmlhbCh0ciwgaSwgcGFnZU51bWJlciwgcGFnZVNpemUpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNyZWF0ZVRpbWVTdHIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9yZGVyVGltZSk7XG4gICAgICAgIGlmIChyb2xlID09PSAnYWdlbnQnKSB7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5iaWxsUnVsZU5hbWUpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ub3JkZXJObyk7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS50b3RhbEZlZVN0cik7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5yZWFsVG90YWxGZWVTdHIpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RhdHVzU3RyKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnBheU5vKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBnZXRBZ2VudExpbmtzKGRhdGFbaV0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnR5cGUsIGZhbHNlKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnRvdGFsRmVlU3RyKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0YXR1c1N0cik7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5yZWFsVG90YWxGZWVTdHIpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY29zdENlbnRlcik7XG4gICAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcmRlck5vKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnBheU5vKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmN1c3RvbWVySWQpO1xuICAgICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY3VzdG9tZXJOYW1lKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmJpbmRpbmdTdGF0dXMsIGZhbHNlKTtcbiAgICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBnZXRMaW5rcyhkYXRhW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2xvYl9mbi5UYWJsZS50ckhpZGVTb21lKHRyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0Ym9keTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TGlua3MoZGF0YSkge1xuICAgICAgICB2YXIgb3JkZXJObyA9IGRhdGEub3JkZXJObztcbiAgICAgICAgaWYgKG9yZGVyTm8gPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IG9yZGVyTm/mnKrlrprkuYknKTtcbiAgICAgICAgdmFyIGxpbmtzID0gW107XG4gICAgICAgIGxpbmtzLnB1c2goZ2V0RGV0YWlsTGluaygpKTtcbiAgICAgICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykge1xuICAgICAgICAgIHZhciBwdXNobGluayA9IGdldFB1c2hMaW5rKCk7XG4gICAgICAgICAgaWYgKHB1c2hsaW5rKSBsaW5rcy5wdXNoKGdldFB1c2hMaW5rKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5rcztcblxuICAgICAgICBmdW5jdGlvbiBnZXREZXRhaWxMaW5rKCkge1xuICAgICAgICAgIHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgIGxpbmsuaW5uZXJUZXh0ID0gJ+afpeeci+ivpuaDhSc7XG4gICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJObycsIG9yZGVyTm8pO1xuICAgICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXVybF9mb3JRdWVyeURldGFpbHNdJykudmFsdWUgKyAnLycgKyBvcmRlck5vO1xuICAgICAgICAgIHZhciBwb3N0RGF0YSA9IEdsb2JfZm4uZ2V0T3JkZXJUaW1lKCk7XG4gICAgICAgICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykgcG9zdERhdGEubW9kaWZ5ID0gTnVtYmVyKGRhdGEuc3RhdHVzKSA9PT0gMCAmJiBOdW1iZXIoZGF0YS5jb25maXJtKSA9PT0gMDtcbiAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBHbG9iX2ZuLnN1Ym1WaXJ0Rm9ybSh1cmwsIHBvc3REYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbGluaztcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFB1c2hMaW5rKCkge1xuICAgICAgICAgIGlmIChOdW1iZXIoZGF0YS5jb25maXJtKSAhPT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGlmIChjaGVja0FsbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSA9PT0gJycpIHtcbiAgICAgICAgICAgIGNoZWNrQWxsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZENoZWNrYm94LmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICB2YXIgcHVzaGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgcHVzaGxpbmsuaW5uZXJUZXh0ID0gJ+aOqOmAgSc7XG4gICAgICAgICAgcHVzaGxpbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1tYXJnaW4tc21hbGwtbGVmdCcpO1xuICAgICAgICAgIHB1c2hsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmRlck5vJywgb3JkZXJObyk7XG4gICAgICAgICAgcHVzaGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9zdGF0aW9uQmlsbFB1c2hdJykudmFsdWU7XG4gICAgICAgICAgICB2YXIgb3JkZXJObyA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyTm8nKTtcbiAgICAgICAgICAgIHZhciBvcmRlck5vTGlzdCA9IFtdO1xuICAgICAgICAgICAgb3JkZXJOb0xpc3QucHVzaChvcmRlck5vKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0geyBvcmRlck5vTGlzdDogb3JkZXJOb0xpc3QgfTtcbiAgICAgICAgICAgIGZldGNoX3N0YV9zdGF0aW9uQmlsbFB1c2godXJsLCBkYXRhKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcHVzaGxpbms7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0QWdlbnRMaW5rcyhkYXRhKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGRldGFpbExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGRldGFpbExpbmsuaW5uZXJUZXh0ID0gJ+afpeeci+ivpuaDhSc7XG4gICAgICAgIGRldGFpbExpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT11cmxfZm9yTmV4dF0nKS52YWx1ZSArICcvJyArIGRhdGEub3JkZXJObyk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGRldGFpbExpbmspO1xuICAgICAgICBpZiAoTnVtYmVyKGRhdGEuc3RhdHVzKSA9PT0gMikgcmV0dXJuIHJlc3VsdDsgLy8g5bey5pSv5LuYXG4gICAgICAgIHZhciBwYXlMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBwYXlMaW5rLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQnKTtcbiAgICAgICAgcGF5TGluay5pbm5lclRleHQgPSAn5LuY5qy+JztcbiAgICAgICAgcGF5TGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JkZXJObycsIGRhdGEub3JkZXJObyk7XG4gICAgICAgIHBheUxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3BheV0nKS52YWx1ZTtcbiAgICAgICAgICB2YXIgcGFnZVVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9cGFnZVVybF0nKS52YWx1ZTtcbiAgICAgICAgICB2YXIgb3JkZXJObyA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLW9yZGVyTm8nKTtcbiAgICAgICAgICB2YXIgZGF0YSA9IHsgb3JkZXJObzogb3JkZXJObywgcGFnZVVybDogcGFnZVVybCB9O1xuICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbyh1cmwsIGRhdGEpXG4gICAgICAgICAgLy8gZGVidWdnZXJcbiAgICAgICAgICBmZXRjaF9hZ2VfdG9QYXkodXJsLCBkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHBheUxpbmspO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldENoZWNrQWxsKGNoZWNrQWxsKSB7XG4gICAgICBjaGVja0FsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyB2YXIgY2hpbGRyZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dC5jYl9jaGlsZCcpO1xuICAgICAgICBpZiAodGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmNoZWNrZWQpXG4gICAgICAgICAgc2V0Q2hpbGRyZW4odHJ1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzZXRDaGlsZHJlbihmYWxzZSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gc2V0Q2hpbGRyZW4oc3RhdHVzKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LmNiX2NoaWxkJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hpbGRyZW5baV0uY2hlY2tlZCA9PT0gIXN0YXR1cykgY2hpbGRyZW5baV0uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbi8vIOi0puWNleaYjue7huS4u+ihqCjmlrDpnIDmsYIp77yaXG5TdGFfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5RGV0YWlsc19uZXcgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIGdldEZlZUl0ZW0oKTtcblxuICBmdW5jdGlvbiBnZXRGZWVJdGVtKCkge1xuICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeUZlZUl0ZW1dJykudmFsdWU7XG4gICAgZmV0Y2hEYXRhKHVybCwgJycsIGNyZWF0ZVRhYmxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRhYmxlKGZlZUl0ZW1zKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcbiAgICAgIGlmICghZmVlSXRlbXMuZGF0YSkgdGhyb3cgbmV3IEVycm9yKCfov5znqIvmlbDmja7pnZ7ms5U6IOi0ueeUqOWIl+ihqOmhueacquWumuS5iScpO1xuICAgICAgdmFyIHRySW5UaGVhZCA9IEdsb2JfZm4uVGFibGUuZ2V0VGhUcih0YWJsZSk7XG4gICAgICBnZXRDYXB0aW9uRGF0YSgpO1xuICAgICAgc2V0VGhlYWQoZmVlSXRlbXMuZGF0YSk7XG4gICAgICBzZXRUYm9keShyZXMsIGZlZUl0ZW1zLmRhdGEpO1xuICAgICAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5RGV0YWlsc19uZXcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q2FwdGlvbkRhdGEoKSB7XG4gICAgICB2YXIgaW5wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfcXVlcnlCaWxsRGV0YWlsc1N1bV0nKTtcbiAgICAgIGlmICghaW5wKSByZXR1cm47XG4gICAgICB2YXIgdXJsID0gaW5wLnZhbHVlO1xuICAgICAgaWYgKCF1cmwpIHJldHVybjtcbiAgICAgIHZhciBwb3N0RGF0YSA9IEpTT04uc3RyaW5naWZ5KCQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFGb3JtJykpLnNlcmlhbGl6ZU9iamVjdCgpKTtcbiAgICAgIGZldGNoRGF0YSh1cmwsIHBvc3REYXRhLCBzZXRDYXB0aW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRDYXB0aW9uKHJlcykge1xuICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgICAgIHZhciBjYXB0aW9uID0gdGFibGUucXVlcnlTZWxlY3RvcignY2FwdGlvbicpO1xuICAgICAgaWYgKCFjYXB0aW9uKSByZXR1cm47XG4gICAgICBjYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4udG90YWxDb3VudCcpLmlubmVyVGV4dCA9IGRhdGEudG90YWxDb3VudCA/IGRhdGEudG90YWxDb3VudCA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5xdWVyeVNlbGVjdG9yKCdzcGFuLnRvdGFsRmVlJykuaW5uZXJUZXh0ID0gZGF0YS50b3RhbEZlZSA/IGRhdGEudG90YWxGZWUgOiAn5peg5pWw5o2uJztcbiAgICAgIGNhcHRpb24ucXVlcnlTZWxlY3Rvcignc3Bhbi50b3RhbFdlaWdodCcpLmlubmVyVGV4dCA9IGRhdGEudG90YWxXZWlnaHQgPyBkYXRhLnRvdGFsV2VpZ2h0IDogJ+aXoOaVsOaNric7XG4gICAgICBjYXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4ucmVhbFRvdGFsRmVlJykuaW5uZXJUZXh0ID0gZGF0YS5yZWFsVG90YWxGZWUgPyBkYXRhLnJlYWxUb3RhbEZlZSA6ICfml6DmlbDmja4nO1xuICAgICAgY2FwdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRoZWFkKGRhdGEpIHtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5bqP5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+i0ueeUqOiusOW9leWPtycpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfov5DljZXliY3nvIAnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6L+Q5Y2V5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+WTgeWQjScpO1xuICAgICAgaWYgKHJvbGUgIT09ICdhZ2VudCcpIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSn6L+Q57G75Z6LJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+Wni+WPkeermScpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnm67nmoTnq5knKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6Iiq54+t5Y+3Jyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+S7tuaVsCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfph43ph48nKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS56YeN6YePJyk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iuoei0ueaXtumXtCcpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforqHotLnokKXkuJrngrknKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6h6LS56JCl5Lia54K55ZCN56ewJyk7XG4gICAgICBpZiAocm9sZSAhPT0gJ2FnZW50JykgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbljZXnsbvlnosnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuYnVpbGRBamF4VGl0bGUoZGF0YSwgdHJJblRoZWFkKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6YeR6aKdJyk7XG4gICAgICBpZiAocm9sZSAhPT0gJ2FnZW50JykgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRUYm9keShyYXdEYXRhLCBhamF4VGl0bGUpIHtcbiAgICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGlkZVNvbWUnLCAnJyk7XG4gICAgICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgICAgIHZhciBkYXRhID0gcmF3RGF0YS5kYXRhLmZlZUxpc3Q7XG4gICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgdmFyIHRyQWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHJBZGQpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkU2VyaWFsKHRyLCBpLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMilcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5mZWVSZWNJZCkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uc3RvY2tQcmUpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0b2NrTm8pLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmNhcmdvTm0pLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBpZiAocm9sZSAhPT0gJ2FnZW50JykgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS50eXBlKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zQWlycG9ydERzYykuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uZUFpcnBvcnREc2MpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmZsaWdodCkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0ucGNzKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS53ZWlnaHQpLnNldEF0dHJpYnV0ZSgncm93c3BhbicsIDIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmZlZVd0KS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5jcnRvcGVUaW1lU3RyKS5zZXRBdHRyaWJ1dGUoJ3Jvd3NwYW4nLCAyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5vcGVkZXBhcnRJZCkuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLm9wZWRlcGFydFN0cikuc2V0QXR0cmlidXRlKCdyb3dzcGFuJywgMik7XG4gICAgICAgIHZhciBmZWVJZEFyciA9IEdsb2JfZm4uVGFibGUuZ2V0QWpheFRpdGxlVmFsdWUoYWpheFRpdGxlLCAnZmVlSWQnKTtcbiAgICAgICAgdmFyIGwxRGF0YSA9IEdsb2JfZm4uVGFibGUuZ2V0QWpheFRpdGxlRGF0YSgn5Y6f5aeL6LSm5Y2VJywgZmVlSWRBcnIsIEpTT04ucGFyc2UoZGF0YVtpXS5mZWVJdGVtTGlzdCkpO1xuICAgICAgICB2YXIgbDJEYXRhID0gR2xvYl9mbi5UYWJsZS5nZXRBamF4VGl0bGVEYXRhKCflvIDotKbotKbljZUnLCBmZWVJZEFyciwgSlNPTi5wYXJzZShkYXRhW2ldLnJlYWxGZWVJdGVtTGlzdCkpO1xuICAgICAgICBpZiAocm9sZSA9PT0gJ3N0YXRpb24nKSB2YXIgbGluZTJPYmplY3QgPSBHbG9iX2ZuLlRhYmxlLmdldEFqYXhUaXRsZU9iamVjdChmZWVJZEFyciwgSlNPTi5wYXJzZShkYXRhW2ldLnJlYWxGZWVJdGVtTGlzdCkpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLmJ1aWxkVmFsdWVXaXRoQWpheFRpdGxlKGwxRGF0YSwgdHIpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLmJ1aWxkVmFsdWVXaXRoQWpheFRpdGxlKGwyRGF0YSwgdHJBZGQpO1xuICAgICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnRvdGFsRmVlU3RyKTtcbiAgICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ckFkZCwgZGF0YVtpXS5yZWFsVG90YWxGZWVTdHIpO1xuICAgICAgICBpZiAocm9sZSAhPT0gJ2FnZW50JykgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgJy0nKS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXRleHQtY2VudGVyJyk7XG4gICAgICAgIGlmIChyb2xlICE9PSAnYWdlbnQnKSBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyQWRkLCBnZXRBY3Rpb24oZGF0YVtpXSwgbGluZTJPYmplY3QpKTtcbiAgICAgICAgLy8gR2xvYl9mbi5UYWJsZS50ckhpZGVTb21lKHRyKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0QWN0aW9uKGRhdGEsIGxpbmUyT2JqZWN0KSB7XG4gICAgICAgIHZhciBsaW5rTW9kSGlzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICBsaW5rTW9kSGlzLmlubmVyVGV4dCA9ICfkv67mlLnorrDlvZUnO1xuICAgICAgICBsaW5rTW9kSGlzLnNldEF0dHJpYnV0ZSgnZGF0YS1zdG9ja05vJywgZGF0YS5zdG9ja05vKTtcbiAgICAgICAgbGlua01vZEhpcy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0Jyk7XG4gICAgICAgIGxpbmtNb2RIaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIHBvc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoeyBzdG9ja05vOiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zdG9ja05vJykgfSk7XG4gICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3F1ZXJ5TW9kaWZ5TG9nXScpLnZhbHVlO1xuICAgICAgICAgIGZldGNoRGF0YSh1cmwsIHBvc3REYXRhLCBjcmVhdGVNb2RIaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJvbGUgPT09ICdzeXN0ZW0nKSByZXR1cm4gbGlua01vZEhpcztcbiAgICAgICAgaWYgKHJvbGUgPT09ICdzdGF0aW9uJykge1xuICAgICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1tb2RpZnldJykudmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB2YXIgbGlua21vZGlmeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICBsaW5rbW9kaWZ5LmlubmVyVGV4dCA9ICfkv67mlLknO1xuICAgICAgICAgIGxpbmttb2RpZnkuc2V0QXR0cmlidXRlKCdkYXRhLWZlZUl0ZW1MaXN0JywgSlNPTi5zdHJpbmdpZnkobGluZTJPYmplY3QpKTtcbiAgICAgICAgICBsaW5rbW9kaWZ5LnNldEF0dHJpYnV0ZSgnZGF0YS1zdG9ja05vJywgZGF0YS5zdG9ja05vKTtcbiAgICAgICAgICBsaW5rbW9kaWZ5LnNldEF0dHJpYnV0ZSgnZGF0YS1mZWVXdCcsIGRhdGEuZmVlV3QpO1xuICAgICAgICAgIGxpbmttb2RpZnkuc2V0QXR0cmlidXRlKCdkYXRhLXRvdGFsRmVlU3RyJywgZGF0YS50b3RhbEZlZVN0cik7XG4gICAgICAgICAgbGlua21vZGlmeS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdG90YWxGZWUnLCBkYXRhLnRvdGFsRmVlKTtcbiAgICAgICAgICBsaW5rbW9kaWZ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgcG9zdERhdGEgPSB7XG4gICAgICAgICAgICAgIFwic3RvY2tOb1wiOiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zdG9ja05vJyksXG4gICAgICAgICAgICAgIFwidG90YWxGZWVcIjogdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG90YWxGZWUnKSxcbiAgICAgICAgICAgICAgXCJ0b3RhbEZlZVN0clwiOiB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10b3RhbEZlZVN0cicpLFxuICAgICAgICAgICAgICBcImZlZVd0XCI6IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWZlZVd0JyksXG4gICAgICAgICAgICAgIFwiZmVlSXRlbUxpc3RcIjogdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSXRlbUxpc3QnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZm5fZ2V0TW9kYWwocG9zdERhdGEsICfotKbljZXmlLbotLnpobknKTtcbiAgICAgICAgICAgIFVJa2l0Lm1vZGFsKGVsZW1lbnQpLnNob3coKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gW2xpbmttb2RpZnksIGxpbmtNb2RIaXNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTW9kSGlzKHJlcykge1xuICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XG4gICAgaWYgKHJlcy5kYXRhID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcign6L+c56iL5pWw5o2u6Z2e5rOVOiBkYXRh5pyq5a6a5LmJJyk7XG4gICAgaWYgKHJlcy5kYXRhID09PSBudWxsIHx8IGRhdGEubGVuZ3RoIDwgMSkge1xuICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+ayoeacieaIluS4jeWPr+afpeivouivpeeslOiuouWNleeahOS/ruaUueiusOW9lScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzLmRhdGEpKSB0aHJvdyBuZXcgRXJyb3IoJ+i/nOeoi+aVsOaNrumdnuazlTogZGF0YeWxnuaAp+S4jeaYr+aVsOe7hCcpO1xuICAgIHZhciBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RpZmllZEhpc3RvcnknKTtcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kaWZpZWRIaXN0b3J5VGFibGUnKTtcbiAgICB2YXIgdGhlYWQgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0aGVhZCcpO1xuICAgIHRoZWFkLmlubmVySFRNTCA9ICcnO1xuICAgIHZhciB0ckluVGhlYWQgPSBHbG9iX2ZuLlRhYmxlLmdldFRoVHIodGFibGUpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn55So5oi35ZCNJyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkv67mlLnml7bpl7QnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+Wkh+azqCcpO1xuICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIHJlcy5kYXRhW2ldLmNyZWF0ZU5hbWUpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgcmVzLmRhdGFbaV0uY3JlYXRlVGltZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCByZXMuZGF0YVtpXS5yZW1hcmspO1xuICAgIH1cbiAgICBVSWtpdC5tb2RhbChtb2RhbCkuc2hvdygpO1xuICB9XG59O1xuLy8g55Sf5oiQ6LSm5Y2V6KeE5YiZ5rGH5oC76KGo5qC877yI5paw6ZyA5rGC77yJOlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9xdWVyeUJpbGxSdWxlQnlQYWdlID0gZnVuY3Rpb24ocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICB0cnkge1xuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRhVGFibGUnKTtcbiAgICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgICBjcmVhdGVUaGVhZCgpO1xuICAgIGNyZWF0ZVRib2R5KCk7XG4gICAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoRGF0YSwgbmV3IFN0YV90YWJsZSgpLmdldFRhYmxlX3F1ZXJ5QmlsbFJ1bGVCeVBhZ2UpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVUaGVhZCgpIHtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSm5Y2VSUQnLCBmYWxzZSk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKbljZXlkI3np7AnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+iQpeS4mueCuScpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5Zyw5Yy6Jyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfov5sv5Ye65riv57G75Z6LJyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfov5DljZXnsbvlnosnKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aYr+WQpuS4uuW/q+S7ticpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5Zyw5pyN5oiQ5pys5Lit5b+DJyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnlKjmiLflkI0nKTtcbiAgICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eKtuaAgScpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn54q25oCB56CBJywgZmFsc2UpO1xuICAgIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6+572u5pe26Ze0Jyk7XG4gICAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVRib2R5KCkge1xuICAgIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XG4gICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7XG4gICAgdmFyIGRhdGEgPSByZXMuZGF0YS5xdWVyeUJpbGxSdWxlTGlzdDtcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICB2YXIgdHIwID0gR2xvYl9mbi5UYWJsZS5zaG93Tm9EYXRhKHRySW5UaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aCk7XG4gICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG4gICAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgdHIuYXBwZW5kQ2hpbGQodGRTZXJpYWwpO1xuICAgICAgdGRTZXJpYWwuaW5uZXJUZXh0ID0gaSArIDEgKyAoTnVtYmVyKHBhZ2VOdW1iZXIpIC0gMSkgKiBOdW1iZXIocGFnZVNpemUpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5iaWxsUnVsZUlkLCBmYWxzZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLmJpbGxSdWxlTmFtZSk7XG4gICAgICBzZXRUZEZyb21BcnJheSh0ciwgZGF0YVtpXS5iaWxsUnVsZSwgJ09QRURFUEFSVCcpO1xuICAgICAgc2V0VGRGcm9tQXJyYXkodHIsIGRhdGFbaV0uYmlsbFJ1bGUsICdET01fSU5UJyk7XG4gICAgICBzZXRUZEZyb21BcnJheSh0ciwgZGF0YVtpXS5iaWxsUnVsZSwgJ0VYUF9JTVAnKTtcbiAgICAgIHNldFRkRnJvbUFycmF5KHRyLCBkYXRhW2ldLmJpbGxSdWxlLCAnVFJBTlNGRVJfVFlQRScpO1xuICAgICAgc2V0VGRGcm9tQXJyYXkodHIsIGRhdGFbaV0uYmlsbFJ1bGUsICdFWFBfTUFJTCcpO1xuICAgICAgc2V0VGRGcm9tQXJyYXkodHIsIGRhdGFbaV0uYmlsbFJ1bGUsICdDT1NUX0MnKTtcbiAgICAgIEdsb2JfZm4uVGFibGUuc2V0VGQodHIsIGRhdGFbaV0uY3JlYXRlTmFtZSk7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0YXR1c1N0cik7XG4gICAgICBHbG9iX2ZuLlRhYmxlLnNldFRkKHRyLCBkYXRhW2ldLnN0YXR1cywgZmFsc2UpO1xuICAgICAgR2xvYl9mbi5UYWJsZS5zZXRUZCh0ciwgZGF0YVtpXS5zZXRUaW1lKTtcbiAgICAgIHRyLmFwcGVuZENoaWxkKGdldFRkQWN0aW9uKGRhdGFbaV0uYmlsbFJ1bGVJZCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRkRnJvbUFycmF5KHBhcmVudFRyLCBhcnJheSwgbmFtZSwgc2hvd0Jvbykge1xuICAgICAgdmFyIHNob3cgPSBzaG93Qm9vID09PSB1bmRlZmluZWQgPyB0cnVlIDogc2hvd0JvbztcbiAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICBwYXJlbnRUci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICB0ZC5pbm5lclRleHQgPSBnZXRWYWx1ZSgpLnRleHQ7XG4gICAgICB0ZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYmlsbFJ1bGVUeXBlJywgZ2V0VmFsdWUoKS50eXBlKTtcbiAgICAgIGlmICghc2hvdykgdGQuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XG4gICAgICByZXR1cm4gdGQ7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbGxSdWxl5bGe5oCn5LiN5piv5pWw57uEJyk7XG4gICAgICAgIHZhciB0ZXh0ID0gJy0nO1xuICAgICAgICB2YXIgcnVsZVR5cGUgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciB0eXBlID0gYXJyYXlbal0udHlwZVxuICAgICAgICAgIGlmICh0eXBlID09PSBuYW1lKSB7XG4gICAgICAgICAgICB0ZXh0ID0gYXJyYXlbal0uY29udGVudCA/IGFycmF5W2pdLmNvbnRlbnQgOiB0ZXh0O1xuICAgICAgICAgICAgcnVsZVR5cGUgPSB0eXBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgdHlwZTogcnVsZVR5cGUsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGRBY3Rpb24oYmlsbFJ1bGVJZCkge1xuICAgICAgdmFyIHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgIHRkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstdGFibGUtbGluaycpO1xuICAgICAgdmFyIGRlbGV0ZUxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICB0ZC5hcHBlbmRDaGlsZChkZWxldGVMaW5rKTtcbiAgICAgIGRlbGV0ZUxpbmsuc2V0QXR0cmlidXRlKCdjbGFzcycsICdkZWxldGVUcicpO1xuICAgICAgZGVsZXRlTGluay5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ+WIoOmZpOatpOi0puWNlScpO1xuICAgICAgZGVsZXRlTGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtYmlsbFJ1bGVJZCcsIGJpbGxSdWxlSWQpO1xuICAgICAgZGVsZXRlTGluay5pbm5lclRleHQgPSAn5Yig6ZmkJztcbiAgICAgIGRlbGV0ZUxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgdGhpc0J0biA9IHRoaXM7XG4gICAgICAgIFVJa2l0Lm1vZGFsLmNvbmZpcm0oJ+WIoOmZpOWQjuS4jeWPr+aBouWkje+8jOehruiupOWIoOmZpOWQl++8nycpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZldGNoRGF0YShnZXRVcmwoKSwgZ2V0UG9zdERhdGEodGhpc0J0biksIHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0ZDtcblxuICAgICAgZnVuY3Rpb24gZ2V0VXJsKCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1hcGlfZGVsZXRlUnVsZV0nKS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UG9zdERhdGEodHJpZ2dlcikge1xuICAgICAgICB2YXIgYmlsbFJ1bGVJZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWJpbGxSdWxlSWQnKTtcbiAgICAgICAgaWYgKGJpbGxSdWxlSWQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IEVycm9yKCdiaWxsUnVsZUlk5pyq5a6a5LmJJyk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgJ2JpbGxSdWxlSWQnOiBiaWxsUnVsZUlkLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKCkge1xuICAgICAgICBVSWtpdC5tb2RhbC5hbGVydCgn5Yig6Zmk5oiQ5YqfJykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdEJ0bicpLmNsaWNrKCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIEdsb2JfZm4uZXJyb3JIYW5kbGVyKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbi8vIOeUqOaIt+euoeeQhuS4u+ihqO+8mlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHZhciB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXRhVGFibGUnKTtcblxuICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICflrqLmiLfku6PnoIEnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfotKfov5Dlhazlj7jlhajnp7AnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnirbmgIEnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnlKjmiLfnirbmgIEnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnu5PnrpfmlrnlvI8nKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcblxuICB2YXIgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuICB0Ym9keS5pbm5lckhUTUwgPSAnJztcblxuICB2YXIgZGF0YSA9IHJlcy5kYXRhLmNvbnN1bWVyTGlzdDtcblxuICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG5cbiAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKTtcbiAgICB0ZFNlcmlhbC5pbm5lclRleHQgPSBpICsgMSArIChOdW1iZXIocGFnZU51bWJlcikgLSAxKSAqIE51bWJlcihwYWdlU2l6ZSk7XG5cbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDEpO1xuICAgIHZhciB0ZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMik7XG4gICAgdmFyIHRkMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQzKTtcbiAgICB2YXIgdGQ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDQpO1xuICAgIHZhciB0ZDUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkNSk7XG4gICAgdmFyIHRkNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ2KTtcbiAgICB2YXIgbGlua1NldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgbGlua1Nob3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cblxuICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICBpZiAoa2V5ID09ICdjdXN0b21lcklkJykge1xuICAgICAgICB0ZDEuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsID8gJy0nIDogZGF0YVtpXVtrZXldO1xuICAgICAgICBsaW5rU2V0LnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgICBsaW5rU2hvdy5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT0gJ2N1c3RvbWVyTmFtZUNobicpXG4gICAgICAgIHRkMi5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGwgPyAnLScgOiBkYXRhW2ldW2tleV07XG4gICAgICBpZiAoa2V5ID09ICdzdGF0dXNEZXNjJylcbiAgICAgICAgdGQzLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbCA/ICctJyA6IGRhdGFbaV1ba2V5XTtcbiAgICAgIGlmIChrZXkgPT0gJ2Nhblllc0Rlc2MnKVxuICAgICAgICB0ZDQuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsID8gJy0nIDogZGF0YVtpXVtrZXldO1xuICAgICAgaWYgKGtleSA9PSAnZmVlV2F5RGVzYycpXG4gICAgICAgIHRkNS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGwgPyAnLScgOiBkYXRhW2ldW2tleV07XG4gICAgfVxuXG4gICAgdmFyIGxpc3QgPSBkYXRhW2ldO1xuICAgIC8vIOWmguaenOeOsOe7k+aIluacquazqOWGjO+8mlxuICAgIGlmIChsaXN0LmZlZVdheUlkID09ICdDUycgfHwgbGlzdC5zdGF0dXMgPT0gJzAnKSB7XG4gICAgICB0ZDYuaW5uZXJUZXh0ID0gJy0nXG4gICAgfSBlbHNlIGlmIChsaXN0LmZlZVdheUlkICE9ICdDUycpIHsgLy8g5aaC5p6c5piv6Z2e546w57uTXG4gICAgICBpZiAobGlzdC5jYW5ZZXMgPT0gJzAnKSB7IC8vIOS4lOWcqOS9v+eUqOS4rVxuICAgICAgICBsaW5rU2V0LmlubmVyVGV4dCA9ICfkvJjmg6Dorr7nva4nO1xuICAgICAgICB0ZDYuYXBwZW5kQ2hpbGQobGlua1NldCk7XG4gICAgICAgIGxpbmtTZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvckRpc2NTZXRdJykudmFsdWU7XG4gICAgICAgICAgdmFyIGN1c3RvbWVySWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJyk7XG4gICAgICAgICAgZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRQb2xpY3kodXJsLCBjdXN0b21lcklkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsaW5rU2hvdy5pbm5lclRleHQgPSAn5LyY5oOg5pS/562W5p+l55yLJztcbiAgICAgIGxpbmtTaG93LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQnKTtcbiAgICAgIGxpbmtTaG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvckRpc2NTaG93XScpLnZhbHVlO1xuICAgICAgICB2YXIgY3VzdG9tZXJJZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbWVySWQnKTtcbiAgICAgICAgdmFyIGRhdGEgPSB7IGN1c3RvbWVySWQ6IGN1c3RvbWVySWQgfTtcbiAgICAgICAgZmV0Y2hfc3RhX3F1ZXJ5RGlzY291bnRDdXN0b21lcih1cmwsIGRhdGEpO1xuICAgICAgfSk7XG4gICAgICB0ZDYuYXBwZW5kQ2hpbGQobGlua1Nob3cpO1xuICAgIH1cbiAgfVxuXG4gIC8vIOiuvue9rnBhZ2luYXRpb25cbiAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoX3N0YV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIpO1xufTtcbi8vIOeUqOaIt+S8mOaDoOafpeeci+S4u+ihqO+8mlxuU3RhX3RhYmxlLnByb3RvdHlwZS5nZXRUYWJsZV9xdWVyeURpc2NvdW50Q3VzdG9tZXIgPSBmdW5jdGlvbihyZXMpIHtcbiAgdmFyIHRib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGJvZHknKTtcbiAgdmFyIGRhdGEgPSByZXMuZGF0YTtcbiAgaWYgKGRhdGEubGVuZ3RoIDwgMSB8fCBkYXRhID09PSBudWxsKSB7XG4gICAgdmFyIHRyMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgdmFyIHRkMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdGQwLnNldEF0dHJpYnV0ZSgnY29sc3BhbicsICczJyk7XG4gICAgdGQwLmlubmVyVGV4dCA9ICfml6DmlbDmja4nO1xuICAgIHRkMC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJ1xuICAgIHRyMC5hcHBlbmRDaGlsZCh0ZDApO1xuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMCk7XG4gICAgcmV0dXJuIHRib2R5O1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgdmFyIHRkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyksXG4gICAgICB0ZDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpLFxuICAgICAgc3BhbjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXG4gICAgICBzcGFuMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSxcbiAgICAgIHRkMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdGQzLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeU5hbWUnKSB7XG4gICAgICAgIHRkMS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXJnJywga2V5KTtcbiAgICAgICAgdGQxLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdGFydFRpbWVTdHInKSB7XG4gICAgICAgIHNwYW4xLnNldEF0dHJpYnV0ZSgnZGF0YS1hcmcnLCBrZXkpO1xuICAgICAgICBzcGFuMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PSAnZW5kVGltZVN0cicpIHtcbiAgICAgICAgc3BhbjIuc2V0QXR0cmlidXRlKCdkYXRhLWFyZycsIGtleSk7XG4gICAgICAgIHNwYW4yLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09ICdzdGF0dXMnKSB7XG4gICAgICAgIHRkMy5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXJnJywga2V5KTtcbiAgICAgICAgZ2V0QWN0aW9uVGV4dChkYXRhW2ldW2tleV0sIGxpbmspO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT0gJ2Rpc2NvdW50UG9saWN5SWQnKSB7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PSAnY3VzdG9tZXJJZCcpIHtcbiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgICAgIHRkLnNldEF0dHJpYnV0ZSgnZGF0YS1hcmcnLCBrZXkpO1xuICAgICAgICB0ZC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICAgIHRkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGQyLmFwcGVuZENoaWxkKHNwYW4xKTtcbiAgICB0ZDIuYXBwZW5kQ2hpbGQoc3BhbjIpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQyKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDMpO1xuICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBkaXNjb3VudFBvbGljeUlkID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzY291bnRQb2xpY3lJZCcpO1xuICAgICAgdmFyIGN1c3RvbWVySWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b21lcklkJyk7XG4gICAgICB2YXIgc3RhdHVzID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJyk7XG4gICAgICB2YXIgcG9zdERhdGEgPSB7XG4gICAgICAgIGRpc2NvdW50UG9saWN5SWQ6IGRpc2NvdW50UG9saWN5SWQsXG4gICAgICAgIGN1c3RvbWVySWQ6IGN1c3RvbWVySWQsXG4gICAgICAgIHN0YXR1czogc3RhdHVzXG4gICAgICB9O1xuICAgICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2ZvckRpc2NTb3JTXScpLnZhbHVlO1xuICAgICAgZmV0Y2hfc3RhX2NoYW5nZUN1c3RvbWVyRGlzY291bnRTdGF0dXModXJsLCBwb3N0RGF0YSk7XG4gICAgICB2YXIgcGFyVGQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICBpZiAoc3RhdHVzID09ICcxJykge1xuICAgICAgICBwYXJUZC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcGFyVGQuaW5uZXJUZXh0ID0gJ+W3suaaguWBnCc7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdHVzID09ICcwJykge1xuICAgICAgICBwYXJUZC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcGFyVGQuaW5uZXJUZXh0ID0gJ+W3suWQr+eUqCc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICB9XG4gIHJldHVybiB0Ym9keTtcblxuICBmdW5jdGlvbiBnZXRBY3Rpb25UZXh0KHN0YXR1cywgbGluaykge1xuICAgIGlmIChzdGF0dXMgPT0gJzAnKSB7XG4gICAgICAvLyDlkK/nlKjnirbmgIHvvIzorr7nva7mmoLlgZxcbiAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycsICcxJyk7XG4gICAgICBsaW5rLmlubmVyVGV4dCA9ICfmmoLlgZwnO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09ICcxJykge1xuICAgICAgLy8g5pqC5YGc54q25oCB77yM6K6+572u5ZCv55SoXG4gICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnLCAnMCcpO1xuICAgICAgbGluay5pbm5lclRleHQgPSAn5ZCv55SoJztcbiAgICB9XG4gIH1cbn07XG4vLyDkvJjmg6Dorr7nva7pobXpnaLooajmoLzvvJpcblN0YV90YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfZ2V0QWxsRGlzY291bnRQb2xpY3kgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XG4gIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhVGFibGUnKTtcblxuICB2YXIgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6DmlL/nrZblkI3np7AnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6DnsbvlnosnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmnInmlYjmnJ8nKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnirbmgIEnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICforr7nva7ml7bpl7QnKTtcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcblxuICB2YXIgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuICB0Ym9keS5pbm5lckhUTUwgPSAnJztcbiAgdmFyIGRhdGEgPSByZXMuZGF0YS5kaXNjb3VudFBvbGljeUxpc3Q7XG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICB2YXIgdHIwID0gR2xvYl9mbi5UYWJsZS5zaG93Tm9EYXRhKHRySW5UaGVhZC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aCk7XG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICB2YXIgdGRTZXJpYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKTtcbiAgICB0ZFNlcmlhbC5pbm5lclRleHQgPSBpICsgMSArIChOdW1iZXIocGFnZU51bWJlcikgLSAxKSAqIE51bWJlcihwYWdlU2l6ZSk7XG4gICAgdmFyIHRkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQxKTtcbiAgICB2YXIgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDIpO1xuICAgIHZhciB0ZDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkMyk7XG4gICAgdmFyIHNwYW5JblRkM18xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRkMy5hcHBlbmRDaGlsZChzcGFuSW5UZDNfMSk7XG4gICAgdmFyIHNwYW5JblRkM18yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHNwYW5JblRkM18yLmlubmVyVGV4dCA9ICfoh7MnO1xuICAgIHRkMy5hcHBlbmRDaGlsZChzcGFuSW5UZDNfMik7XG4gICAgdmFyIHNwYW5JblRkM18zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRkMy5hcHBlbmRDaGlsZChzcGFuSW5UZDNfMyk7XG4gICAgdmFyIHRkNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgdHIuYXBwZW5kQ2hpbGQodGQ0KTtcbiAgICB2YXIgdGQ1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDUpO1xuICAgIHZhciB0ZDYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHRyLmFwcGVuZENoaWxkKHRkNik7XG4gICAgdmFyIHRvRGV0YWlsc0EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdG9EZXRhaWxzQS5pbm5lclRleHQgPSAn5p+l55yL6K+m5oOFJztcbiAgICB0b0RldGFpbHNBLmhyZWYgPSBsb2NhdGlvbi5wYXRobmFtZSArICcvZGV0YWlscy8nICsgZGF0YVtpXS5kaXNjb3VudFBvbGljeUlkO1xuICAgIHRkNi5hcHBlbmRDaGlsZCh0b0RldGFpbHNBKTtcbiAgICB2YXIgdG9nZ2xlQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB0b2dnbGVBLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbWFyZ2luLXNtYWxsLWxlZnQnKTtcbiAgICAvLyB2YXIgc3RhdHVzX2NoYW5nZVRvVGhpcyA9ICcnO1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhW2ldKSB7XG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeUlkJykge1xuICAgICAgICB0b2dnbGVBLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnZGlzY291bnRQb2xpY3lOYW1lJykge1xuICAgICAgICB0ZDEuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnZGlzY291bnRUeXBlRGVzYycpIHtcbiAgICAgICAgdGQyLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XTtcbiAgICAgICAgdGQyLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhW2ldW2tleV0pO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnc3RhcnRUaW1lJykge1xuICAgICAgICBzcGFuSW5UZDNfMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdlbmRUaW1lJykge1xuICAgICAgICBzcGFuSW5UZDNfMy5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09ICdzdGF0dXNEZXNjJykge1xuICAgICAgICB0ZDQuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PSAnc3RhdHVzJykge1xuICAgICAgICBpZiAoZGF0YVtpXVtrZXldID09ICcxJykge1xuICAgICAgICAgIHRvZ2dsZUEuaW5uZXJUZXh0ID0gJ+S9nOW6nyc7XG4gICAgICAgICAgdG9nZ2xlQS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJywgJzInKTtcbiAgICAgICAgICB0ZDYuYXBwZW5kQ2hpbGQodG9nZ2xlQSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFbaV1ba2V5XSA9PSAnMCcgfHwgZGF0YVtpXVtrZXldID09ICcyJykge1xuICAgICAgICAgIHRvZ2dsZUEuaW5uZXJUZXh0ID0gJ+WQr+eUqCc7XG4gICAgICAgICAgdG9nZ2xlQS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzJywgJzEnKTtcbiAgICAgICAgICB0ZDYuYXBwZW5kQ2hpbGQodG9nZ2xlQSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT0gJ3NldFRpbWUnKSB7XG4gICAgICAgIHRkNS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHRvZ2dsZUEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBsaW5rID0gdGhpcztcbiAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9jaGFuZ2VEaXNjb3VudFN0YXR1c10nKS52YWx1ZTtcbiAgICAgIHZhciBwb3N0RGF0YSA9IHtcbiAgICAgICAgZGlzY291bnRQb2xpY3lJZDogbGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzY291bnRQb2xpY3lJZCcpLFxuICAgICAgICBzdGF0dXM6IGxpbmsuZ2V0QXR0cmlidXRlKCdkYXRhLXN0YXR1cycpXG4gICAgICB9O1xuICAgICAgLy8gY29uc29sZS5sb2codXJsLCBwb3N0RGF0YSlcbiAgICAgIGZldGNoX3N0YV9jaGFuZ2VEaXNjb3VudFN0YXR1cyh1cmwsIHBvc3REYXRhKTtcbiAgICB9KTtcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG4gIH1cbiAgZm5faW5pdFBhZ2luYXRlKHJlcywgcGFnZU51bWJlciwgcGFnZVNpemUsIGZldGNoX3N0YV9nZXRBbGxEaXNjb3VudFBvbGljeSk7XG59O1xuXG5cblxuLy8g6LCD6LSm5qih5oCB77yaXG5mdW5jdGlvbiBNb2RhbChkYXRhLCB0aXRsZSwgaWQpIHtcbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICB0aGlzLmlkID0gaWQgPyBpZCA6IG51bGw7XG59XG5Nb2RhbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkYXRhID0gdGhpcy5kYXRhLFxuICAgIHRpdGxlVGV4dCA9IHRoaXMudGl0bGUsXG4gICAgbW9kYWxJZCA9IHRoaXMuaWQsXG4gICAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBtaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgbXRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKSxcbiAgICBtYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIG1mb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2lkJywgbW9kYWxJZCk7XG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgndWstbW9kYWwnLCAnJyk7XG4gIGRpYWxvZy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1vZGFsLWRpYWxvZycpO1xuICBtaGVhZGVyLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbW9kYWwtaGVhZGVyJyk7XG4gIG10aXRsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1vZGFsLXRpdGxlJyk7XG4gIG10aXRsZS5pbm5lclRleHQgPSB0aXRsZVRleHQ7XG4gIG1ib2R5LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstbW9kYWwtYm9keScpO1xuICBtYm9keS5zZXRBdHRyaWJ1dGUoJ3VrLW92ZXJmbG93LWF1dG8nLCAnJyk7XG4gIG1mb3JtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZ3JpZC1zbWFsbCcpO1xuICBtZm9ybS5zZXRBdHRyaWJ1dGUoJ3VrLWdyaWQnLCAnJyk7XG5cbiAgbWZvcm0uc2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nLCBkYXRhLnN0b2NrTm8pO1xuICBtaGVhZGVyLmFwcGVuZENoaWxkKG10aXRsZSk7XG4gIHZhciBmZWVJdGVtTGlzdCA9IEpTT04ucGFyc2UoZGF0YS5mZWVJdGVtTGlzdCk7XG4gIC8vIGNvbnNvbGUubG9nKGZlZUl0ZW1MaXN0KTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZWVJdGVtTGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbHMgPSBNb2RhbC5jcmVhdGVJbnBMaXN0KGZlZUl0ZW1MaXN0W2ldKTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVscy5sZW5ndGg7IGorKykge1xuICAgICAgbWZvcm0uYXBwZW5kQ2hpbGQoZWxzW2pdKTtcbiAgICB9XG4gIH1cbiAgdmFyIHRvdGFsRmVlSW5wdXQgPSBNb2RhbC5nZXRUb3RhbEZlZUlucHV0KGRhdGEsICd0b3RhbEZlZScsICfmgLvph5Hpop0nKTtcbiAgdmFyIGRlc2NUZXh0YXJlYSA9IE1vZGFsLmdldERlc2NUZXh0YXJlYSgnZGVzY3JpcHRpb24nLCAn5aSH5rOoJyk7XG4gIHZhciBidXR0b25TZWN0aW9uID0gTW9kYWwuZ2V0QnV0dG9uU2VjdGlvbihtZm9ybSk7XG4gIG1mb3JtLmFwcGVuZENoaWxkKHRvdGFsRmVlSW5wdXQpO1xuICBtZm9ybS5hcHBlbmRDaGlsZChkZXNjVGV4dGFyZWEpO1xuICBtZm9ybS5hcHBlbmRDaGlsZChidXR0b25TZWN0aW9uKTtcbiAgTW9kYWwuc2V0SW5wTGlua3MobWZvcm0sIGRhdGEuZmVlV3QpO1xuXG4gIG1ib2R5LmFwcGVuZENoaWxkKG1mb3JtKTtcbiAgZGlhbG9nLmFwcGVuZENoaWxkKG1oZWFkZXIpO1xuICBkaWFsb2cuYXBwZW5kQ2hpbGQobWJvZHkpO1xuICBtb2RhbC5hcHBlbmRDaGlsZChkaWFsb2cpO1xuICByZXR1cm4gbW9kYWw7XG59XG5Nb2RhbC5zZXRJbnBMaW5rcyA9IGZ1bmN0aW9uKGZvcm0sIGZlZVd0KSB7XG4gIHZhciBpbnBfZmVlSXRlbUxpc3QgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W2RhdGEtZmVlSXRlbUxpc3RdJyksXG4gICAgaW5wX3RvdGFsZmVlID0gZm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPXRvdGFsRmVlXScpO1xuICB2YXIgaW5wX3NwZWMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtZmVlPXNwZWNdJyksXG4gICAgaW5wX3JhdGUgPSBudWxsO1xuICBpZiAoaW5wX3NwZWMpIHtcbiAgICBpbnBfcmF0ZSA9IGZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1mZWVyYXRlXScpO1xuICAgIGlucF9yYXRlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICBpbnBfc3BlYy5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZ2V0U3BlY0ZlZShmZWVXdCwgb2xkVmFsdWUpKTtcbiAgICAgIGlucF90b3RhbGZlZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgZ2V0VG90YWxGZWUoKSk7XG4gICAgfSk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnBfZmVlSXRlbUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGlzdCA9IGlucF9mZWVJdGVtTGlzdFtpXTtcbiAgICBpZiAoKGxpc3QubmFtZSAhPSAnZmVlcmF0ZScpICYmIChsaXN0LmdldEF0dHJpYnV0ZSgnZGF0YS1mZWUnKSAhPSAnc3BlYycpKSB7XG4gICAgICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpbnBfdG90YWxmZWUuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGdldFRvdGFsRmVlKCkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VG90YWxGZWUoKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnBfZmVlSXRlbUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ID0gaW5wX2ZlZUl0ZW1MaXN0W2ldO1xuICAgICAgaWYgKGxpc3QubmFtZSAhPSAnZmVlcmF0ZScgfHwgbGlzdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlJykgIT0gJ3NwZWMnKSB7XG4gICAgICAgIHJlc3VsdCArPSBOdW1iZXIobGlzdC52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTcGVjRmVlKGZlZVd0LCBvbGRWYWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSAwXG4gICAgcmVzdWx0ID0gTnVtYmVyKGZlZVd0KSAqIE51bWJlcihvbGRWYWx1ZSk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQocmVzdWx0KTtcbiAgfVxufTtcbk1vZGFsLmdldFBvc3REYXRhID0gZnVuY3Rpb24oZm9ybSkge1xuICB2YXIgcG9zdERhdGEgPSB7XG4gICAgc3RvY2tObzogJycsXG4gICAgdG90YWxGZWU6ICcnLFxuICAgIGZlZUl0ZW1MaXN0OiBbXSxcbiAgICByZW1hcms6ICcnXG4gIH07XG4gIHZhciBmZWVJdGVtTGlzdE5vZGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W2RhdGEtZmVlSXRlbUxpc3RdJyksXG4gICAgZmVlcmF0ZU5vZGUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZmVlcmF0ZV0nKTtcbiAgcG9zdERhdGEuc3RvY2tObyA9IGZvcm0uZ2V0QXR0cmlidXRlKCdkYXRhLXN0b2NrTm8nKTtcbiAgcG9zdERhdGEudG90YWxGZWUgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9dG90YWxGZWVdJykudmFsdWU7XG4gIHBvc3REYXRhLnJlbWFyayA9IGZvcm0ucXVlcnlTZWxlY3RvcigndGV4dGFyZWFbbmFtZT1kZXNjcmlwdGlvbl0nKS52YWx1ZTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmZWVJdGVtTGlzdE5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgb2JqID0ge307XG4gICAgb2JqLmZlZUlkID0gZmVlSXRlbUxpc3ROb2RlW2ldLm5hbWU7XG4gICAgaWYgKGZlZUl0ZW1MaXN0Tm9kZVtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlJykgPT09ICdzcGVjJykge1xuICAgICAgb2JqLmZlZXJhdGUgPSBmZWVyYXRlTm9kZS52YWx1ZTtcbiAgICB9XG4gICAgb2JqLmZlZSA9IGZlZUl0ZW1MaXN0Tm9kZVtpXS52YWx1ZTtcbiAgICBvYmouZmVlU2hvcnROTSA9IGZlZUl0ZW1MaXN0Tm9kZVtpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlU2hvcnROTScpO1xuICAgIHBvc3REYXRhLmZlZUl0ZW1MaXN0LnB1c2gob2JqKTtcbiAgfVxuICByZXR1cm4gcG9zdERhdGE7XG59O1xuTW9kYWwuZ2V0QnV0dG9uU2VjdGlvbiA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgdmFyIG1TZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpLFxuICAgIG1TdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKSxcbiAgICBtQ2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIG1TZWN0aW9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnYWN0aW9uLWJ1dHRvbnMnKTtcbiAgbVN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2J1dHRvbiBidXR0b24tcHJpbWFyeSBidXR0b24tcm91bmRlZCB1ay1tb2RhbC1jbG9zZScpO1xuICBtU3VibWl0QnRuLmlubmVyVGV4dCA9ICfnoa7lrponO1xuICBtU3VibWl0QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gJzVweCc7XG4gIG1TdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIHVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX3N0YXRpb25GZWVVcGRhdGVdJykudmFsdWU7XG4gICAgdmFyIGRhdGEgPSBNb2RhbC5nZXRQb3N0RGF0YShmb3JtKTtcbiAgICAvLyBjb25zb2xlLmxvZyh1cmwsIGRhdGEpO1xuICAgIGZldGNoX3N0YV91cGRhdGVGZWUodXJsLCBkYXRhKTtcbiAgfSlcbiAgbUNhbmNlbEJ0bi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2J1dHRvbiBidXR0b24tcm91bmRlZCB1ay1tb2RhbC1jbG9zZScpO1xuICBtQ2FuY2VsQnRuLmlubmVyVGV4dCA9ICflj5bmtognO1xuICBtU2VjdGlvbi5hcHBlbmRDaGlsZChtU3VibWl0QnRuKTtcbiAgbVNlY3Rpb24uYXBwZW5kQ2hpbGQobUNhbmNlbEJ0bik7XG4gIHJldHVybiBtU2VjdGlvbjtcbn1cbk1vZGFsLmdldERlc2NUZXh0YXJlYSA9IGZ1bmN0aW9uKG5hbWUsIHRleHQpIHtcbiAgdmFyIG1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBtTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpLFxuICAgIG1UZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gIG1EaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay13aWR0aC0xLTEnKTtcbiAgbUxhYmVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstZm9ybS1sYWJlbCcpO1xuICBtTGFiZWwuaW5uZXJUZXh0ID0gdGV4dDtcbiAgbUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgbmFtZSk7XG4gIG1UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLXRleHRhcmVhJyk7XG4gIG1UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ25hbWUnLCBuYW1lKTtcbiAgbVRleHRhcmVhLnNldEF0dHJpYnV0ZSgncm93cycsIDQpO1xuICBtVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICflpIfms6jkv6Hmga/mnIDlpJrlj6/ovpPlhaUxMDDlrZcnKTtcbiAgbVRleHRhcmVhLnNldEF0dHJpYnV0ZSgnbWF4bGVuZ3RoJywgMTAwKTtcbiAgbVRleHRhcmVhLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAncmVzaXplOiBub25lJyk7XG4gIG1EaXYuYXBwZW5kQ2hpbGQobUxhYmVsKTtcbiAgbURpdi5hcHBlbmRDaGlsZChtVGV4dGFyZWEpO1xuICByZXR1cm4gbURpdjtcbn07XG5Nb2RhbC5nZXRUb3RhbEZlZUlucHV0ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdGV4dCkge1xuICB2YXIgbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIG1MYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyksXG4gICAgbUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSxcbiAgICBmZWVJdGVtTGlzdCA9IEpTT04ucGFyc2UoZGF0YS5mZWVJdGVtTGlzdCksXG4gICAgdG90YWxGZWUgPSAwO1xuICBtRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstd2lkdGgtMS0xJyk7XG4gIG1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLWZvcm0tbGFiZWwnKTtcbiAgbUxhYmVsLmlubmVyVGV4dCA9IHRleHQ7XG4gIG1MYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIG5hbWUpO1xuICBtSW5wdXQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1pbnB1dCcpO1xuICBtSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ251bWJlcicpO1xuICBtSW5wdXQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgbUlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5hbWUpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZlZUl0ZW1MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdG90YWxGZWUgKz0gTnVtYmVyKGZlZUl0ZW1MaXN0W2ldLmZlZSk7XG4gIH1cbiAgbUlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0b3RhbEZlZSk7XG4gIG1EaXYuYXBwZW5kQ2hpbGQobUxhYmVsKTtcbiAgbURpdi5hcHBlbmRDaGlsZChtSW5wdXQpO1xuICByZXR1cm4gbURpdjtcbn07XG5Nb2RhbC5jcmVhdGVJbnBMaXN0ID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgZmVlcmF0ZSA9IGRhdGEuZmVlcmF0ZSA/IGRhdGEuZmVlcmF0ZSA6IG51bGwsXG4gICAgZmVlID0gZGF0YS5mZWUsXG4gICAgZmVlSWQgPSBkYXRhLmZlZUlkLFxuICAgIGZlZVNob3J0Tk0gPSBkYXRhLmZlZVNob3J0Tk07XG4gIGlmIChmZWVTaG9ydE5NID09PSAn5aSE572u6LS5Jykge1xuICAgIHZhciBlbDEgPSBjcmVhdGVJbnAoJ2ZlZXJhdGUnKSxcbiAgICAgIGVsMiA9IGNyZWF0ZUlucCgnc3BlYycpO1xuICAgIHJldHVybiBbZWwxLCBlbDJdO1xuICB9IGVsc2Uge1xuICAgIHZhciBlbCA9IGNyZWF0ZUlucCgpO1xuICAgIHJldHVybiBbZWxdO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5wKHR5cGUpIHtcbiAgICB2YXIgZmxhZyA9ICh0eXBlID09PSAnZmVlcmF0ZScpLFxuICAgICAgZm9ybUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKSxcbiAgICAgIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB2YXIgaW5wTWF4TGVuZ3RoID0gMTU7IC8vIOacgOWkp+i+k+WFpeWtl+espuaVsOmHj1xuICAgIGZvcm1JdGVtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndWstd2lkdGgtMS0yJyk7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1mb3JtLWxhYmVsJyk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCdjbGFzcycsICd1ay1pbnB1dCcpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdudW1iZXInKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ21pbicsIDApO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsIGZsYWcgPyAnZmVlcmF0ZScgOiBmZWVJZCk7XG4gICAgaWYgKHR5cGUgPT09ICdzcGVjJykgeyAvLyDlpITnva7otLnkuI3lj6/nvJbovpFcbiAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnZGF0YS1mZWUnLCAnc3BlYycpO1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5YW25LuW5Y+v5Lul57yW6L6RXG4gICAgICBpZiAoIWZsYWcpIHsgLy8g6Zmk6LS5546H5aSW5YW25LuW6LS555So6ZmQ5Yi25a2X56ymXG4gICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWF4bGVuZ3RoJywgaW5wTWF4TGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IE51bWJlcih0aGlzLnZhbHVlKTtcbiAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAvLyDotLnnjofliJ3lp4vljJZcbiAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlICogMTAwKSAvIDEwMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDlhbbku5bliJ3lp4vljJZcbiAgICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgfSk7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IE51bWJlcih0aGlzLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlucHV0Lm5hbWUpO1xuICAgIGxhYmVsLmlubmVyVGV4dCA9IGZsYWcgPyAn5Zyw6Z2i6LS5546HJyA6IGZlZVNob3J0Tk07XG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlSXRlbUxpc3QnLCAnJyk7XG4gICAgICAvLyDpnZ7otLnnjoflj6rog73ovpPlhaXlm7rlrprlrZfnrKblhoXmlbTmlbBcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID4gaW5wTWF4TGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc2xpY2UoMCwgaW5wTWF4TGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOi0ueeOh+WPquiDvei+k+WFpeS4pOS9jeWwj+aVsFxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5tYXRjaCgvXlxcZCsoPzpcXC5cXGR7MCwyfSk/Lyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIGZsYWcgPyBmZWVyYXRlIDogZmVlKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3N0ZXAnLCBmbGFnID8gJzAuMDEnIDogJzEnKTtcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmVlU2hvcnROTScsIGZlZVNob3J0Tk0pO1xuICAgIGZvcm1JdGVtLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICBmb3JtSXRlbS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgcmV0dXJuIGZvcm1JdGVtO1xuICB9XG59O1xuXG5mdW5jdGlvbiBmbl9nZXRNb2RhbChkYXRhLCB0aXRsZSwgaWQpIHtcbiAgdmFyIG1vZCA9IG5ldyBNb2RhbChkYXRhLCB0aXRsZSwgaWQpO1xuICByZXR1cm4gbW9kLmNyZWF0ZSgpO1xufSIsImltcG9ydCBHbG9iX2ZuIGZyb20gJy4vR2xvYmFsJ1xyXG5pbXBvcnQge1xyXG4gIGluaXRTdGF0aW9uX2Jhc2VEYXRhLCBpbml0U3RhdGlvbl9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMsXHJcbiAgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF9uZXcsIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxEZXRhaWxzX25ldyxcclxufSBmcm9tICcuL1N0YXRpb25QYWdlcydcclxuaW1wb3J0IHtcclxuICBjaGVja1JlcyxcclxuICBmbl9pbml0U3VibWl0QnRuLCBmbl9pbml0RXhwb3J0QnRuLCBmZXRjaF9zeXNfZ2V0QWxsQ29uc3VtZXIsIGZldGNoX2V4cG9ydEV4Y2VsLFxyXG4gIGZldGNoX3N5c19nZXRBbGxEaXNjb3VudFBvbGljeSwgZmV0Y2hfc3lzX3F1ZXJ5RGlzY291bnRDdXN0b21lclxyXG59IGZyb20gJy4vQWpheE1hbmFnZXInXHJcbmltcG9ydCBmbl9xdWVyeURpY3QgZnJvbSAnLi9RdWVyeURpY3QnXHJcbmltcG9ydCBmbl9pbml0UGFnaW5hdGUgZnJvbSAnLi9QYWdpbmF0ZSdcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3lzdGVtX2Jhc2VEYXRhKCkge1xyXG4gIHJldHVybiBpbml0U3RhdGlvbl9iYXNlRGF0YSgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3lzdGVtX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscygpIHtcclxuICByZXR1cm4gaW5pdFN0YXRpb25fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzKCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTeXN0ZW1fc3lzdGVtUXVlcnlCaWxsX25ldygpIHtcclxuICByZXR1cm4gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF9uZXcoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxEZXRhaWxzX25ldygpIHtcclxuICByZXR1cm4gaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRTeXN0ZW1fZ2V0QWxsQ29uc3VtZXIoKSB7XHJcbiAgIC8vIGJpbmQgc3VibWl0IGJ1dHRvbjpcclxuICBmbl9pbml0U3VibWl0QnRuKDEsIDEwLCBmZXRjaF9zeXNfZ2V0QWxsQ29uc3VtZXIpO1xyXG4gIC8vIGJpbmQgZXhwb3J0IGJ1dHRvbjpcclxuICBmbl9pbml0RXhwb3J0QnRuKGZldGNoX2V4cG9ydEV4Y2VsKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN5c3RlbV9nZXRBbGxEaXNjb3VudFBvbGljeSgpIHtcclxuICB2YXIgYXBpX2dldEFsbFN1cHBsaWVyX3VybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9YXBpX2dldEFsbFN1cHBsaWVyXScpLnZhbHVlO1xyXG4gIGZuX3F1ZXJ5RGljdCgnRElTQ09VTlRfVFlQRScsIGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhyZXMpXHJcbiAgICAvLyBkaXN0aWxsIHNlbGVjdDpcclxuICAgIHZhciBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzY291bnRUeXBlJyk7XHJcbiAgICBHbG9iX2ZuLmluaXREaXNjb3V0VHlwZVNlbChyZXMuZGF0YSwgc2VsKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgIHVybDogYXBpX2dldEFsbFN1cHBsaWVyX3VybCxcclxuICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgLy8gZGlzdGlsbCBzdXBwbGllcjpcclxuICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhO1xyXG4gICAgICAgIHZhciBzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VwcGxpZXJJZCcpO1xyXG4gICAgICAgIEdsb2JfZm4uaW5pdFN1cHBsaWVyU2VsKGRhdGEsIHNlbCk7XHJcbiAgICAgICAgLy8gaW5pdCBXZGF0ZTpcclxuICAgICAgICBHbG9iX2ZuLldkYXRlSW5pdCgnc3RhcnRUaW1lJywgJ2VuZFRpbWUnKTtcclxuICAgICAgICBHbG9iX2ZuLldkYXRlSW5pdCgnc2V0U3RhcnRUaW1lJywgJ3NldEVuZFRpbWUnKTtcclxuICAgICAgICAvLyBiaW5kIHN1Ym1pdCBidXR0b246XHJcbiAgICAgICAgZm5faW5pdFN1Ym1pdEJ0bigxLCAxMCwgZmV0Y2hfc3lzX2dldEFsbERpc2NvdW50UG9saWN5KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSk7IFxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0U3lzdGVtX2dldERpc2NvdW50UG9saWN5KCkge1xyXG4gIHZhciBkaXNjb3VudFBvbGljeUlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kaXNjb3VudFBvbGljeUlkXScpLnZhbHVlO1xyXG4gIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9nZXREaXNjb3VudFBvbGljeV0nKS52YWx1ZTtcclxuICB2YXIgZGF0YSA9IHtcclxuICAgIGRpc2NvdW50UG9saWN5SWQ6IGRpc2NvdW50UG9saWN5SWRcclxuICB9O1xyXG4gICQuYWpheCh7XHJcbiAgICB1cmw6IHVybCxcclxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgIGlmIChjaGVja1JlcyhyZXMpID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7XHJcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgVUlraXQubW9kYWwuYWxlcnQoJ+aXoOaVsOaNricpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBHbG9iX2ZuLmluaXREaXNjb3VudERldGFpbHMoZGF0YSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgYWxlcnQoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgLy8g57uR5a6a6L+U5ZueYnV0dG9uXHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkJhY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgdXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT11cmxfYmFja10nKS52YWx1ZVxyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTeXNfdGFibGUoKXt9XHJcblN5c190YWJsZS5wcm90b3R5cGUuZ2V0VGFibGVfdXNlckluZm8gPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XHJcbiAgdmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGFUYWJsZScpO1xyXG5cclxuICB2YXIgdGhlYWQgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0aGVhZCcpO1xyXG4gIHRoZWFkLmlubmVySFRNTCA9ICcnO1xyXG4gIHZhciB0ckluVGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gIHRoZWFkLmFwcGVuZENoaWxkKHRySW5UaGVhZCk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfluo/lj7cnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+WuouaIt+S7o+eggScpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6LSn6L+Q5YWs5Y+45YWo56ewJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnirbmgIEnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+eUqOaIt+eKtuaAgScpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn57uT566X5pa55byPJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfmk43kvZwnKTtcclxuXHJcbiAgdmFyIHRib2R5ID0gdGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcclxuICB0Ym9keS5pbm5lckhUTUwgPSAnJztcclxuICB2YXIgZGF0YSA9IHJlcy5kYXRhLmNvbnN1bWVyTGlzdDtcclxuXHJcbiAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoIDwgMSkge1xyXG4gICAgdmFyIHRyMCA9IEdsb2JfZm4uVGFibGUuc2hvd05vRGF0YSh0ckluVGhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpO1xyXG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIwKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgIFxyXG4gICAgdmFyIHRkU2VyaWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKTtcclxuICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IGkgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcclxuXHJcbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XHJcbiAgICB2YXIgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMik7XHJcbiAgICB2YXIgdGQzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMyk7XHJcbiAgICB2YXIgdGQ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNCk7XHJcbiAgICB2YXIgdGQ1ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNSk7XHJcbiAgICB2YXIgdGQ2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkNik7XHJcbiAgICB2YXIgdG9EaXNjb3VudFBvbGljaWVzQSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVtpXSkge1xyXG4gICAgICBpZiAoa2V5ID09ICdjdXN0b21lcklkJykge1xyXG4gICAgICAgIHRkMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgICAgdG9EaXNjb3VudFBvbGljaWVzQS5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tZXJJZCcsIGRhdGFbaV1ba2V5XSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnY3VzdG9tZXJOYW1lQ2huJykge1xyXG4gICAgICAgIHRkMi5pbm5lclRleHQgPSBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnc3RhdHVzRGVzYycpIHtcclxuICAgICAgICB0ZDMuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ3N0YXR1cycpIHtcclxuICAgICAgICB0ZDMuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnY2FuWWVzRGVzYycpIHtcclxuICAgICAgICB0ZDQuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ2NhblllcycpIHtcclxuICAgICAgICB0ZDQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBrZXksIGRhdGFbaV1ba2V5XSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnZmVlV2F5RGVzYycpIHtcclxuICAgICAgICB0ZDUuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ2ZlZVdheUlkJykge1xyXG4gICAgICAgIHRkNS5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGtleSwgZGF0YVtpXVtrZXldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDlpoLmnpzlt7Lms6jlhozkuJTmnIjnu5PvvJpcclxuICAgIGlmICgodGQzLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGF0dXMnKSA9PSAnMScpICYmICh0ZDUuZ2V0QXR0cmlidXRlKCdkYXRhLWZlZVdheUlkJykgPT0gJ01QJykpIHtcclxuICAgICAgdG9EaXNjb3VudFBvbGljaWVzQS5pbm5lclRleHQgPSAn5LyY5oOg5pS/562W5p+l55yLJztcclxuICAgICAgdG9EaXNjb3VudFBvbGljaWVzQS5ocmVmID0gJyNTaG93RGlzY291bnRQb2xpY2llcyc7XHJcbiAgICAgIHRkNi5hcHBlbmRDaGlsZCh0b0Rpc2NvdW50UG9saWNpZXNBKTtcclxuXHJcbiAgICAgIHRvRGlzY291bnRQb2xpY2llc0EuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzO1xyXG4gICAgICAgIHZhciB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWFwaV9xdWVyeURpc2NvdW50Q3VzdG9tZXJdJykudmFsdWU7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB7Y3VzdG9tZXJJZDogbGluay5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tZXJJZCcpfTtcclxuICAgICAgICBmZXRjaF9zeXNfcXVlcnlEaXNjb3VudEN1c3RvbWVyKHVybCwgZGF0YSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGQ2LmlubmVyVGV4dCA9ICctJztcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpO1xyXG4gIH1cclxuXHJcbiAgLy8g6K6+572ucGFnaW5hdGlvblxyXG4gIGZuX2luaXRQYWdpbmF0ZShyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplLCBmZXRjaF9zeXNfZ2V0QWxsQ29uc3VtZXIpO1xyXG59O1xyXG5TeXNfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX2luTW9kYWwgPSBmdW5jdGlvbihyZXMpIHtcclxuICB2YXIgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd0Rpc2NvdW50UG9saWN5Jyk7XHJcbiAgdmFyIHRhYmxlID0gbW9kYWwucXVlcnlTZWxlY3RvcigndGFibGUnKTtcclxuICB2YXIgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xyXG4gIHRib2R5LmlubmVySFRNTCA9ICcnO1xyXG4gIHZhciBkYXRhTGlzdCA9IHJlcy5kYXRhO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgdmFyIHRkMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDEpO1xyXG4gICAgdmFyIHRkMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB2YXIgc3BhblN0YXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGQyLmFwcGVuZENoaWxkKHNwYW5TdGFydCk7XHJcbiAgICB2YXIgc3BhblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICBzcGFuVGV4dC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLW1hcmdpbi1zbWFsbC1yaWdodCcpO1xyXG4gICAgc3BhblRleHQuaW5uZXJUZXh0ID0gJ+iHsyc7XHJcbiAgICB0ZDIuYXBwZW5kQ2hpbGQoc3BhblRleHQpO1xyXG4gICAgdmFyIHNwYW5FbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0ZDIuYXBwZW5kQ2hpbGQoc3BhbkVuZCk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDIpO1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBkYXRhTGlzdFtpXSkge1xyXG4gICAgICBpZiAoa2V5ID09ICdkaXNjb3VudFBvbGljeU5hbWUnKVxyXG4gICAgICAgIHRkMS5pbm5lclRleHQgPSBkYXRhTGlzdFtpXVtrZXldO1xyXG4gICAgICBlbHNlIGlmIChrZXkgPT0gJ3N0YXJ0VGltZVN0cicpXHJcbiAgICAgICAgc3BhblN0YXJ0LmlubmVyVGV4dCA9IGRhdGFMaXN0W2ldW2tleV07XHJcbiAgICAgIGVsc2UgaWYgKGtleSA9PSAnZW5kVGltZVN0cicpXHJcbiAgICAgICAgc3BhbkVuZC5pbm5lclRleHQgPSBkYXRhTGlzdFtpXVtrZXldO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdGQxLnNldEF0dHJpYnV0ZSgnZGF0YS0nICsga2V5LCBkYXRhTGlzdFtpXVtrZXldKTtcclxuICAgIH1cclxuXHJcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgfVxyXG5cclxuICBVSWtpdC5tb2RhbChtb2RhbCkuc2hvdygpO1xyXG59O1xyXG5TeXNfdGFibGUucHJvdG90eXBlLmdldFRhYmxlX3F1ZXJ5UG9saWNpZXMgPSBmdW5jdGlvbihyZXMsIHBhZ2VOdW1iZXIsIHBhZ2VTaXplKSB7XHJcbiAgdmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RhdGFUYWJsZScpO1xyXG4gIHZhciB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7XHJcbiAgdGhlYWQuaW5uZXJIVE1MID0gJyc7XHJcbiAgdmFyIHRySW5UaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgdGhlYWQuYXBwZW5kQ2hpbGQodHJJblRoZWFkKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+W6j+WPtycpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5LyY5oOg5pS/562W5ZCN56ewJyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfkvJjmg6DnsbvlnosnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+acieaViOacnycpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn6K6+572u5pe26Ze0Jyk7XHJcbiAgR2xvYl9mbi5UYWJsZS5zZXRUaCh0ckluVGhlYWQsICfnirbmgIEnKTtcclxuICBHbG9iX2ZuLlRhYmxlLnNldFRoKHRySW5UaGVhZCwgJ+aJgOWxnui0p+ermScpO1xyXG4gIEdsb2JfZm4uVGFibGUuc2V0VGgodHJJblRoZWFkLCAn5pON5L2cJyk7XHJcblxyXG4gIHZhciB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5Jyk7XHJcbiAgdGJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgdmFyIGRhdGEgPSByZXMuZGF0YS5zeXN0ZW1EaXNjb3VudFBvbGljeUxpc3Q7XHJcbiAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcblxyXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcclxuICAgIHZhciB0cjAgPSBHbG9iX2ZuLlRhYmxlLnNob3dOb0RhdGEodHJJblRoZWFkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3RoJykubGVuZ3RoKTtcclxuICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgdmFyIHRkU2VyaWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKTtcclxuICAgIHRkU2VyaWFsLmlubmVyVGV4dCA9IGkgKyAxICsgKE51bWJlcihwYWdlTnVtYmVyKSAtIDEpICogTnVtYmVyKHBhZ2VTaXplKTtcclxuXHJcbiAgICB2YXIgdGQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMSk7XHJcbiAgICB2YXIgdGQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMik7XHJcbiAgICB2YXIgdGQzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgIHRyLmFwcGVuZENoaWxkKHRkMyk7XHJcbiAgICB2YXIgc3BhblN0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHRkMy5hcHBlbmRDaGlsZChzcGFuU3RhKTtcclxuICAgIHZhciBzcGFuVGV4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgc3BhblRleC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3VrLW1hcmdpbi1zbWFsbC1sZWZ0IHVrLW1hcmdpbi1zbWFsbC1yaWdodCcpO1xyXG4gICAgc3BhblRleC5pbm5lclRleHQgPSAn6IezJztcclxuICAgIHRkMy5hcHBlbmRDaGlsZChzcGFuVGV4KTtcclxuICAgIHZhciBzcGFuRW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgdGQzLmFwcGVuZENoaWxkKHNwYW5FbmQpO1xyXG4gICAgdmFyIHRkNCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDQpO1xyXG4gICAgdmFyIHRkNSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDUpO1xyXG4gICAgdmFyIHRkNiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDYpO1xyXG4gICAgdmFyIHRkNyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICB0ci5hcHBlbmRDaGlsZCh0ZDcpO1xyXG4gICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBsaW5rLmlubmVyVGV4dCA9ICfmn6XnnIvor6bmg4UnXHJcbiAgICB0ZDcuYXBwZW5kQ2hpbGQobGluayk7XHJcblxyXG4gICAgZm9yICh2YXIga2V5IGluIGRhdGFbaV0pIHtcclxuICAgICAgaWYgKGtleSA9PSAnZGlzY291bnRQb2xpY3lOYW1lJykge1xyXG4gICAgICAgIHRkMS5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGw/ICctJzogZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ2Rpc2NvdW50VHlwZURlc2MnKSB7XHJcbiAgICAgICAgdGQyLmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbD8gJy0nOiBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnc3RhcnRUaW1lJykge1xyXG4gICAgICAgIHNwYW5TdGEuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsPyAnLSc6IGRhdGFbaV1ba2V5XTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdlbmRUaW1lJykge1xyXG4gICAgICAgIHNwYW5FbmQuaW5uZXJUZXh0ID0gZGF0YVtpXVtrZXldID09PSBudWxsPyAnLSc6IGRhdGFbaV1ba2V5XTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoa2V5ID09ICdzZXRUaW1lJykge1xyXG4gICAgICAgIHRkNC5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGw/ICctJzogZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZXkgPT0gJ3N0YXR1c0Rlc2MnKSB7XHJcbiAgICAgICAgdGQ1LmlubmVyVGV4dCA9IGRhdGFbaV1ba2V5XSA9PT0gbnVsbD8gJy0nOiBkYXRhW2ldW2tleV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGtleSA9PSAnc3VwcGxpZXJOYW1lJykge1xyXG4gICAgICAgIHRkNi5pbm5lclRleHQgPSBkYXRhW2ldW2tleV0gPT09IG51bGw/ICctJzogZGF0YVtpXVtrZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAncG9saWNpZXNNYW5hZ2VtZW50LycgKyBkYXRhW2ldLmRpc2NvdW50UG9saWN5SWQpO1xyXG5cclxuICB9XHJcblxyXG4gIC8vIOiuvue9rnBhZ2luYXRpb25cclxuICBmbl9pbml0UGFnaW5hdGUocmVzLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hfc3lzX2dldEFsbERpc2NvdW50UG9saWN5KTtcclxufTsiLCJpbXBvcnQgQ2hhcnQgZnJvbSAnY2hhcnQuanMvYXV0bydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FudmFzKHNlbGVjdG9yLCBjb25maWcpIHtcbiAgaWYgKCFzZWxlY3Rvcikge1xuICAgIHJldHVybiBjb25zb2xlLmVycm9yKCfnvLrlsJHlj4LmlbA6IChcIiNjYW52YXNJRFwiLCB7W2lmcmFtZU5vZGU6IERvY3VtZW50SWZyYW1lTm9kZSwgY3R4OiBcIjJkXCJdfSknKVxuICB9XG4gIGNvbnN0IHJvb3REb2N1bWVudCA9IGNvbmZpZyAmJiBjb25maWcuaWZyYW1lTm9kZT8gY29uZmlnLmlmcmFtZU5vZGUuY29udGVudERvY3VtZW50OiBkb2N1bWVudFxuICBjb25zdCBjdnMgPSByb290RG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcilcbiAgY29uc3QgY3R4ID0gY29uZmlnICYmIGNvbmZpZy5jdHg/IGNvbmZpZy5jdHg6ICcyZCdcbiAgaWYgKCFjdnMpIHJldHVybiBjb25zb2xlLmVycm9yKCfkuI3og73liJ3lp4vljJZjYW52YXPvvIzlm6DkuLrlrprkvY3kuI3liLBET00nKVxuICBpZiAoIWN2cy5nZXRDb250ZXh0KSByZXR1cm4gY29uc29sZS5lcnJvcign5rWP6KeI5Zmo5LiN5pSv5oyBY2FudmFzJylcbiAgdGhpcy5ub2RlID0gY3ZzXG4gIHRoaXMuY3R4ID0gY3ZzLmdldENvbnRleHQoY3R4KVxuICB0aGlzLmhlaWdodCA9IDMwMFxuICB0aGlzLndpZHRoID0gMTUwXG4gIGNvbnNvbGUubG9nKCdjYW52YXPliJ3lp4vljJbmiJDlip8nKVxufVxuXG5DYW52YXMucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbihyYXRpbykge1xuICB0cnkge1xuICAgIGNvbnN0IGNhbnZhc05vZGUgPSB0aGlzLm5vZGVcbiAgICBjb25zdCBwYXJlbnQgPSBjYW52YXNOb2RlLnBhcmVudE5vZGVcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnbWF4LXdpZHRoJylcbiAgICBjYW52YXNOb2RlLndpZHRoID0gcGFyc2VJbnQocGFyZW50V2lkdGgpXG4gICAgY29uc3QgY2FudmFzUmF0aW8gPSByYXRpb1xuICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IHBhcnNlSW50KGNhbnZhc05vZGUud2lkdGgpKnBhcnNlSW50KGNhbnZhc1JhdGlvWzFdKS9wYXJzZUludChjYW52YXNSYXRpb1swXSlcbiAgICBjYW52YXNOb2RlLmhlaWdodCA9IGNhbnZhc0hlaWdodFxuICAgIHRoaXMud2lkdGggPSBjYW52YXNOb2RlLndpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBjYW52YXNOb2RlLmhlaWdodFxuICAgIHJldHVybiB0aGlzXG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbkNhbnZhcy5wcm90b3R5cGUuYnVpbGRDaGFydCA9IGZ1bmN0aW9uKGNoYXJ0anNDb25maWcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eFxuICAgIENoYXJ0LmRlZmF1bHRzLmZvbnQuc2l6ZSA9IDE0XG4gICAgY29uc3QgY2hhcnQgPSBuZXcgQ2hhcnQoY3R4LCBjaGFydGpzQ29uZmlnKVxuICAgIHRoaXMuY2hhcnQgPSBjaGFydFxuICAgIHRoaXMuY2hhcnRqc0NvbmZpZyA9IGNoYXJ0anNDb25maWdcbiAgICBjb25zb2xlLmxvZygnQ2hhcnQuanPphY3nva7miJDlip8nKVxuICAgIHJldHVybiB0aGlzXG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbi8vIENhbnZhcy5wcm90b3R5cGUuc2V0Q2hhcnRUaXRsZSA9IGZ1bmN0aW9uKHRpdGxlVGV4dCkge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XG4vLyAgICAgY29uc3QgY2hhcnRUaXRsZSA9IHRpdGxlVGV4dD8gdGl0bGVUZXh0OiAn5pyq5ZG95ZCN5Zu+6KGoJ1xuLy8gICAgIGN0eC5maWxsVGV4dChjaGFydFRpdGxlLCAxMCwgNTApXG4vLyAgICAgcmV0dXJuIHRoaXNcbi8vICAgfSBjYXRjaChlKSB7XG4vLyAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuLy8gICAgIHJldHVybiB0aGlzXG4vLyAgIH1cbiAgXG4vLyB9XG5cbi8vIENhbnZhcy5wcm90b3R5cGUuZHJhd1hZQXhpcyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XG4vLyAgICAgY29uc3QgeFRpdGxlID0gY29uZmlnLnhUaXRsZVxuLy8gICAgIGNvbnN0IHlUaXRsZSA9IGNvbmZpZy55VGl0aWxlXG4vLyAgICAgQ2FudmFzLmRyYXdYKHRoaXMsIHhUaXRsZSlcbi8vICAgICBDYW52YXMuZHJhd1kodGhpcywgeVRpdGxlKVxuLy8gICAgIHRoaXMuWFlBeGlzID0ge1xuLy8gICAgICAgeFRpdGxlOiB4VGl0bGUsXG4vLyAgICAgICB5VGl0bGU6IHlUaXRsZSxcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIHRoaXNcbi8vICAgfSBjYXRjaChlKSB7XG4vLyAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuLy8gICAgIHJldHVybiB0aGlzXG4vLyAgIH1cbi8vIH1cblxuLy8gQ2FudmFzLmRyYXdYID0gZnVuY3Rpb24oY2FudmFzLCB0aXRsZUFycmF5KSB7XG4vLyAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoXG4vLyAgIGNvbnN0IHRpdGxlQ291bnQgPSB0aXRsZUFycmF5Lmxlbmd0aFxuXG4vLyB9XG4vLyBDYW52YXMuZHJhd1kgPSBmdW5jdGlvbihjYW52YXMsIHRpdGxlQXJyYXkpIHtcblxuLy8gfSIsImltcG9ydCBHbG9iX2ZuIGZyb20gJy4vR2xvYmFsJ1xuaW1wb3J0IGZuX2luaXRQYWdpbmF0ZSBmcm9tICcuL1BhZ2luYXRlJ1xuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NhbnZhcydcbmltcG9ydCBjaGFydENvbmZpZyBmcm9tICcuL2RhdGFTdGF0aXN0aWNDaGFydENvbmZpZydcbmltcG9ydCB7XG4gIGZldGNoRGF0YSwgZmV0Y2hfZXhwb3J0RXhjZWwsIGZuX2luaXRTdWJtaXRCdG4sIGZuX2luaXRFeHBvcnRCdG5cbn0gZnJvbSAnLi9BamF4TWFuYWdlcidcblxuZXhwb3J0IGZ1bmN0aW9uIGRzSW5kZXgoKSB7XG4gIGNvbnNvbGUubG9nKCfov5vlhaUgLS0tLS0tLS0tLT4gZGF0YVN0YXRpc3RpYyBJbmRleCcpXG4gIGluaXRXZGF0ZVBpY2tlcigpXG4gIHF1ZXJ5QmlsbFJ1bGUoKVxuICAudGhlbihyZXNwb25zZSA9PiBzZXRCaWxsUnVsZShyZXNwb25zZSkpXG4gIC50aGVuKCgpID0+IGJpbmRCdXR0b25zKGxvYWREYXRhLCBzYXZlQmlsbFJ1bGVJZCkpXG4gIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKGVycm9yKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRzRGV0YWlscygpIHtcbiAgY29uc29sZS5sb2coJ+i/m+WFpSAtLS0tLS0tLS0tPiBkYXRhU3RhdGlzdGljIERldGFpbHMnKVxuICBcbiAgc2V0UGFyZW50TGluaygnI3BhcmVudExpbmsnLCAnZG92ZXBheS1mcmVpZ2h0L3N0YXRpb24vZGF0YVN0YXRpc3RpYycpXG4gIFxuICBxdWVyeUJpbGxSdWxlKClcbiAgLnRoZW4ocmVzcG9uc2UgPT4gc2V0QmlsbFJ1bGVUZXh0KHJlc3BvbnNlKSlcbiAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKVxuXG4gIC8qIHRhYmxlICovXG4gIGJpbmRCdXR0b25zKGxvYWREYXRhRGV0YWlscywgbnVsbCAsICgpID0+IHtoaXN0b3J5LmJhY2soKX0pXG4gIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKGVycm9yKSlcbiAgXG59XG5cbmZ1bmN0aW9uIGluaXRXZGF0ZVBpY2tlcigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBiaWxsVGltZUlucCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJiaWxsVGltZVwiXScpXG4gICAgYmlsbFRpbWVJbnAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIFdkYXRlUGlja2VyKHtcbiAgICAgICAgZWw6dGhpcyxcbiAgICAgICAgZGF0ZUZtdDoneXl5eScsXG4gICAgICAgIG1heERhdGU6JyV5JyxcbiAgICAgIH0pXG4gICAgfSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgfVxufVxuZnVuY3Rpb24gcXVlcnlCaWxsUnVsZSgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiYXBpX3F1ZXJ5RWZmZWN0aXZlQmlsbFJ1bGVcIl0nKS52YWx1ZVxuICAgICAgZmV0Y2hEYXRhKHVybCwgJycsIHJlcylcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWooZS5zdGFjaylcbiAgICB9XG4gIH0pXG59XG5mdW5jdGlvbiBzZXRCaWxsUnVsZShyZXNwb25zZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlaikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBiaWxsUnVsZUlkU2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9XCJiaWxsUnVsZUlkXCJdJylcbiAgICAgIGNvbnN0IGRhdGFBcnIgPSByZXNwb25zZS5kYXRhXG4gICAgICBpZiAoZGF0YUFyci5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRhdGFBcnIuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBkYXRhLmJpbGxSdWxlSWQpXG4gICAgICAgICAgb3B0aW9uLmlubmVyVGV4dCA9IGRhdGEuYmlsbFJ1bGVOYW1lXG4gICAgICAgICAgYmlsbFJ1bGVJZFNlbC5hcHBlbmRDaGlsZChvcHRpb24pXG4gICAgICAgIH0pXG4gICAgICB9IFxuICAgICAgcmVzb2x2ZSgnc3VjY2VzcycpXG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZWooZS5zdGFjaylcbiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgICB9XG4gIH0pXG59XG5mdW5jdGlvbiBzZXRCaWxsUnVsZVRleHQocmVzKSB7XG4gIHRyeSB7XG4gICAgbGV0IGlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImJpbGxSdWxlSWRcIl0nKVxuICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JpbGxSdWxlVGV4dCcpXG4gICAgaWYgKCFpZC52YWx1ZSkge1xuICAgICAgdGV4dC52YWx1ZSA9ICflhajpg6gnXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRhdGFBcnIgPSByZXMuZGF0YVxuICAgICAgZGF0YUFyci5zb21lKChkYXRhKSA9PiB7XG4gICAgICAgIGlmIChpZC52YWx1ZSA9PT0gZGF0YS5iaWxsUnVsZUlkKSB7XG4gICAgICAgICAgdGV4dC52YWx1ZSA9IGRhdGEuYmlsbFJ1bGVOYW1lXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgfVxufVxuZnVuY3Rpb24gYmluZEJ1dHRvbnMoY2IsIGRhdGFIYW5kbGVyLCBjaGVja1Jlc0NhbGxiYWNrKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICB0cnkge1xuICAgICAgZm5faW5pdEV4cG9ydEJ0bihmZXRjaF9leHBvcnRFeGNlbClcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGZuX2luaXRTdWJtaXRCdG4oMSwgMTUsIGZldGNoRGF0YSwgY2IsIGRhdGFIYW5kbGVyLCBjaGVja1Jlc0NhbGxiYWNrKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqKGUuc3RhY2spXG4gICAgfVxuICB9KVxufVxuZnVuY3Rpb24gc2F2ZUJpbGxSdWxlSWQoZGF0YSkge1xuICB0cnkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJiaWxsUnVsZUlkVmFsdWVcIl0nKS52YWx1ZSA9IGRhdGEuYmlsbFJ1bGVJZFxuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4gIH1cbn1cbmZ1bmN0aW9uIGxvYWREYXRhKHJlc3BvbnNlLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpXG4gICAgY29uc3QgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKVxuICAgIHNldFRoZWFkKHRySW5UaGVhZClcbiAgICBzZXRUYm9keSh0YWJsZSwgcmVzcG9uc2UpXG4gICAgZm5faW5pdFBhZ2luYXRlKHJlc3BvbnNlLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBsb2FkRGF0YSlcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG4gIGZ1bmN0aW9uIHNldFRoZWFkKHRyKSB7XG4gICAgY29uc3Qgc2V0ID0gR2xvYl9mbi5UYWJsZS5zZXRUaFxuICAgIGNvbnN0IHRleHRBcnIgPSBbJ+aOkuWQjScsICflvoDmnaXmiLfnvJbnoIEnLCAn5ZWG5oi357yW5Y+3JywgJ+W+gOadpeaIt+WQjeensCcsICflubTluqYnLCAn5oC76YeR6aKdJywgJ+aTjeS9nCddXG4gICAgdGV4dEFyci5mb3JFYWNoKCh0ZXh0KSA9PiB7XG4gICAgICBzZXQodHIsIHRleHQpXG4gICAgfSlcbiAgfVxuICBmdW5jdGlvbiBzZXRUYm9keSh0YWJsZSwgcmVzKSB7XG4gICAgY29uc3QgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpXG4gICAgdGJvZHkuaW5uZXJIVE1MID0gJydcbiAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEuc3VtbWFyeUxpc3RcbiAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICBjb25zdCB0YWIgPSBHbG9iX2ZuLlRhYmxlXG4gICAgICBjb25zdCB0cjAgPSB0YWIuc2hvd05vRGF0YSh0YWIuZ2V0VGhUcih0YWJsZSkucXVlcnlTZWxlY3RvckFsbCgndGgnKS5sZW5ndGgpXG4gICAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cjApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKChsaW5lLyosIGluZGV4Ki8pID0+IHtcbiAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKVxuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpXG4gICAgICAvLyBjb25zdCB0ZFNlcmlhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJylcbiAgICAgIC8vIHRyLmFwcGVuZENoaWxkKHRkU2VyaWFsKVxuICAgICAgLy8gdGRTZXJpYWwuaW5uZXJUZXh0ID0gaW5kZXggKyAxICsgKHBhcnNlSW50KHBhZ2VOdW1iZXIpIC0gMSkgKiBwYXJzZUludChwYWdlU2l6ZSlcbiAgICAgIGNvbnN0IHNldCA9IEdsb2JfZm4uVGFibGUuc2V0VGRcbiAgICAgIGNvbnN0IHByb3BBcnIgPSBbJ3NlcmlhbE51bWJlcicsICdlc2JDdXN0b21lcklkJywgJ2FjY291bnRJZCcsXG4gICAgICAgICdlc2JDdXN0b21lck5hbWUnLCAnYmlsbFRpbWUnLCAndG90YWxBbW91bnQnXVxuICAgICAgcHJvcEFyci5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICAgIHNldCh0ciwgbGluZVtwcm9wXSlcbiAgICAgIH0pXG4gICAgICAvKiDmn6XnnIvor6bmg4UgKi9cbiAgICAgIGNvbnN0IHRkQWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKVxuICAgICAgY29uc3QgdGRBY3Rpb25MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXG4gICAgICB0ZEFjdGlvbi5hcHBlbmRDaGlsZCh0ZEFjdGlvbkxpbmspXG4gICAgICB0ci5hcHBlbmRDaGlsZCh0ZEFjdGlvbilcbiAgICAgIHRkQWN0aW9uTGluay5pbm5lclRleHQgPSAn5p+l55yL6K+m57uGJ1xuICAgICAgcHJvcEFyci5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICAgIHRkQWN0aW9uTGluay5kYXRhc2V0W3Byb3BdID0gbGluZVtwcm9wXVxuICAgICAgfSlcbiAgICAgIHRkQWN0aW9uTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvRGV0YWlscylcbiAgICB9KVxuICB9XG59XG5mdW5jdGlvbiB0b0RldGFpbHMoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBjb25zdCBlbCA9IGV2ZW50LnRhcmdldFxuICB0cnkge1xuICAgIGNvbnN0IGxvYyA9IHdpbmRvdy5sb2NhdGlvblxuICAgIGNvbnN0IHVybCA9IGAke2xvYy5wcm90b2NvbH0vLyR7bG9jLmhvc3R9L2RvdmVwYXktZnJlaWdodC9zdGF0aW9uL2RhdGFTdGF0aXN0aWMvZGV0YWlsc2BcbiAgICBsZXQgcG9zdERhdGEgPSB7XG4gICAgICBiaWxsUnVsZUlkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPWJpbGxSdWxlSWRWYWx1ZV0nKS52YWx1ZVxuICAgIH1cbiAgICBpZiAoZWwuZGF0YXNldCkge1xuICAgICAgZm9yKGxldCBwcm9wIGluIGVsLmRhdGFzZXQpIHtcbiAgICAgICAgcG9zdERhdGFbcHJvcF0gPSBlbC5kYXRhc2V0W3Byb3BdXG4gICAgICB9XG4gICAgfVxuICAgIEdsb2JfZm4uc3VibVZpcnRGb3JtKHVybCwgcG9zdERhdGEpXG4gIH0gY2F0Y2goZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbiAgfVxufVxuZnVuY3Rpb24gc2V0UGFyZW50TGluayhub2RlLCBsaW5rKSB7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5vZGUpXG4gIGNvbnN0IGxvYyA9IHdpbmRvdy5sb2NhdGlvblxuICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke2xvYy5wcm90b2NvbH0vLyR7bG9jLmhvc3R9LyR7bGlua31gKVxufVxuZnVuY3Rpb24gbG9hZERhdGFEZXRhaWxzKHJlc3BvbnNlLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKVxuICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGFUYWJsZScpXG4gICAgY29uc3QgdHJJblRoZWFkID0gR2xvYl9mbi5UYWJsZS5nZXRUaFRyKHRhYmxlKVxuICAgIHNldFRoZWFkKHRySW5UaGVhZClcbiAgICBzZXRUYm9keSh0YWJsZSwgcmVzcG9uc2UpXG4gICAgZm5faW5pdFBhZ2luYXRlKHJlc3BvbnNlLCBwYWdlTnVtYmVyLCBwYWdlU2l6ZSwgZmV0Y2hEYXRhLCBsb2FkRGF0YSlcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG4gIHRyeSB7XG4gICAgY2hhcnRIYW5kbGVyKHJlc3BvbnNlKVxuICB9IGNhdGNoKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spXG4gIH1cbiAgZnVuY3Rpb24gc2V0VGhlYWQodHIpIHtcbiAgICBjb25zdCBzZXQgPSBHbG9iX2ZuLlRhYmxlLnNldFRoXG4gICAgY29uc3QgdGV4dEFyciA9IFsn5bqP5Y+3JywgJ+W5tOaciCcsICfmgLvph5Hpop0nLCAn57uT566X5a6i5oi35ZCN56ewJ11cbiAgICB0ZXh0QXJyLmZvckVhY2goKHRleHQpID0+IHtcbiAgICAgIHNldCh0ciwgdGV4dClcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIHNldFRib2R5KHRhYmxlLCByZXMpIHtcbiAgICBjb25zdCB0Ym9keSA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3Rib2R5JylcbiAgICB0Ym9keS5pbm5lckhUTUwgPSAnJ1xuICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YVxuICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgIGNvbnN0IHRhYiA9IEdsb2JfZm4uVGFibGVcbiAgICAgIGNvbnN0IHRyMCA9IHRhYi5zaG93Tm9EYXRhKHRhYi5nZXRUaFRyKHRhYmxlKS5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpLmxlbmd0aClcbiAgICAgIHRib2R5LmFwcGVuZENoaWxkKHRyMClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBkYXRhLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKVxuICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQodHIpXG4gICAgICBjb25zdCBzZXQgPSBHbG9iX2ZuLlRhYmxlLnNldFRkXG4gICAgICBjb25zdCBwcm9wQXJyID0gWydzZXJpYWxOdW1iZXInLCAnYmlsbFRpbWUnLCAndG90YWxBbW91bnQnLFxuICAgICAgICAnZXNiQ3VzdG9tZXJOYW1lJ11cbiAgICAgIHByb3BBcnIuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgICBzZXQodHIsIGxpbmVbcHJvcF0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgIC8qIGNoYXJ0ICovXG4gIGZ1bmN0aW9uIGNoYXJ0SGFuZGxlcihyZXMpIHtcbiAgICBjb25zdCBjdnMgPSBuZXcgQ2FudmFzKCcjZGF0YVN0YXRpc3RpY0NoYXJ0JylcbiAgICAuc2V0U2l6ZShbMTYsIDldKVxuICAgIC5idWlsZENoYXJ0KGNoYXJ0Q29uZmlnKHJlcykpXG5cbiAgICBjb25zb2xlLmxvZyhjdnMpXG4gIH1cbn1cblxuXG5cblxuLy8gY2FudmFzLnNldENoYXJ0VGl0bGUoY3ZzLCAn5Zu+6KGoJylcblxuIiwiY29uc3QgY29sb3IgPSB7XG4gIGJsdWU6ICdyZ2IoMywgNzgsIDE2MiknLFxuICB5ZWxsb3c6ICdyZ2IoMjUwLCAxNjYsIDI2KScsXG59XG5jb25zdCBsZWdlbmRMYWJlbCA9ICfph5Hpop0nXG5cbmNvbnN0IHR5cGUgPSAnYmFyJ1xuY29uc3Qgb3B0aW9ucyA9IHtcbiAgbGF5b3V0OiB7XG4gICAgcGFkZGluZzogMjBcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihyZXMpIHtcbiAgY29uc3QgYXhpc0RhdGEgPSBnZXRBeGlzRGF0YShyZXMpXG4gIHJldHVybiB7XG4gICAgdHlwZTogdHlwZSxcbiAgICBkYXRhOiBnZXREYXRhKGF4aXNEYXRhKSxcbiAgICBvcHRpb25zOiBvcHRpb25zLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEF4aXNEYXRhKHJlcykge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YVxuICAgIGxldCBheGlzRGF0YSA9IFtdXG4gICAgZGF0YS5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge31cbiAgICAgIG9iamVjdC5sYWJlbCA9IGxpbmUuYmlsbFRpbWVcbiAgICAgIG9iamVjdC5pbmRleCA9IGxpbmUudG90YWxBbW91bnRcbiAgICAgIGF4aXNEYXRhLnB1c2gob2JqZWN0KVxuICAgIH0pXG4gICAgYXhpc0RhdGEuc29ydCgoZmlyc3RJdGVtLCBzZWNvbmRJdGVtKSA9PiBcbiAgICAgIHBhcnNlSW50KGZpcnN0SXRlbS5sYWJlbCkgLSBwYXJzZUludChzZWNvbmRJdGVtLmxhYmVsKSlcbiAgICByZXR1cm4gYXhpc0RhdGFcbiAgfSBjYXRjaChlKSB7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldERhdGEoZGF0YSkge1xuICBcbiAgcmV0dXJuIHtcbiAgICBsYWJlbHM6IGdldExhYmVscyhkYXRhKSxcbiAgICBkYXRhc2V0czogW3tcbiAgICAgIGRhdGE6IGdldEluZGV4KGRhdGEpLFxuICAgICAgbGFiZWw6IGxlZ2VuZExhYmVsLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvci5ibHVlLFxuICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLmJsdWUsXG4gICAgICBtYXhCYXJUaGlja25lc3M6IDEwMCxcbiAgICB9XVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGFiZWxzKGRhdGEpIHtcbiAgICBsZXQgYXJyYXkgPSBbXVxuICAgIGRhdGEuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgYXJyYXkucHVzaChsaW5lLmxhYmVsKVxuICAgIH0pXG4gICAgcmV0dXJuIGFycmF5XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbmRleChkYXRhKSB7XG4gICAgbGV0IGFycmF5ID0gW11cbiAgICBkYXRhLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgIGFycmF5LnB1c2gobGluZS5pbmRleClcbiAgICB9KVxuICAgIHJldHVybiBhcnJheVxuICB9XG4gIFxufSIsImltcG9ydCBHbG9iX2ZuIGZyb20gJy4vR2xvYmFsJ1xuLy8gR2xvYmFsOlxuLy8gQWpheOiuvue9ru+8mlxuJC5hamF4U2V0dXAoe1xuICBoZWFkZXJzOiB7XG4gICAgYWNjb3VudElkOiAkKCdoZWFkZXIgI2FjY291bnRJZCcpLnZhbCgpLFxuICAgIHVzZXJJZDogJCgnaGVhZGVyICN1c2VySWQnKS52YWwoKSxcbiAgICB0eXBlOiAkKCdoZWFkZXIgI3VzZXJUeXBlJykudmFsKCksXG4gIH0sXG4gIHR5cGU6ICdQT1NUJywgIC8vIGZvciBqYXZhIGFwaVxuICBkYXRhVHlwZTogJ2pzb24nLFxuICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICB0aW1lb3V0OiAxMDAwMCxcbn0pO1xuLy8gQWpheOmUmeivr+WkhOeQhu+8mlxuJChkb2N1bWVudCkuYWpheEVycm9yKGZ1bmN0aW9uKGV2ZW50LCB4aHIsIHNldHRpbmdzKXtcbiAgdmFyIHJlcVVybCA9IHNldHRpbmdzLnVybDtcbiAgdmFyIHJlcURhdGEgPSBzZXR0aW5ncy5kYXRhO1xuICB2YXIgcmVzID0geGhyLnN0YXR1cyArIHhoci5zdGF0dXNUZXh0O1xuICBpZiAoY29uc29sZSlcbiAgICBjb25zb2xlLmVycm9yKHJlcVVybCwgcmVxRGF0YSwgcmVzKTtcbiAgR2xvYl9mbi5lcnJvckhhbmRsZXIoJ+acjeWKoeWZqOaVsOaNruiOt+WPluWksei0pTog6ZSZ6K+v56CBOiAnICsgeGhyLnN0YXR1cyArICc7PGJyPumUmeivr+aPj+i/sDogJyArIGdldFN0YXR1c1RleHQoeGhyLnN0YXR1c1RleHQpKTtcbiAgZnVuY3Rpb24gZ2V0U3RhdHVzVGV4dChzdGF0dXNTdHIpIHtcbiAgICB2YXIgdGV4dCA9IHN0YXR1c1N0cjtcbiAgICBpZiAoc3RhdHVzU3RyID09PSAndGltZW91dCcpIHRleHQgPSAn6K+35rGC6LaF5pe2JztcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxufSk7XG4vLyBsb2FkaW5n6YGu572p5a6e546w77yaXG4kKGRvY3VtZW50KS5hamF4U3RhcnQoZnVuY3Rpb24oKSB7XG4gIEdsb2JfZm4ubG9hZGluZy5zaG93KCk7XG59KTtcbiQoZG9jdW1lbnQpLmFqYXhTdG9wKGZ1bmN0aW9uKCkge1xuICBHbG9iX2ZuLmxvYWRpbmcuaGlkZSgpO1xufSk7XG4vLyDojrflj5booajmoLzmlbDmja7vvJpcbiQuZm4uc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvID0ge307XG4gIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpO1xuICAkLmVhY2goYSwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gR2xvYl9mbi5pc0pTT04odGhpcy52YWx1ZSk/IEpTT04ucGFyc2UodGhpcy52YWx1ZSk6IHRoaXMudmFsdWU7XG4gICAgaWYgKG9bdGhpcy5uYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7XG4gICAgICAgIG9bdGhpcy5uYW1lXSA9IFtvW3RoaXMubmFtZV1dO1xuICAgICAgfVxuICAgICAgb1t0aGlzLm5hbWVdLnB1c2godmFsdWUgfHwgJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvW3RoaXMubmFtZV0gPSB2YWx1ZSB8fCAnJztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbztcbn07IiwidmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgQXNzZXJ0OiBJc0NhbGxhYmxlKGFyZ3VtZW50KSBpcyB0cnVlYFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IodHJ5VG9TdHJpbmcoYXJndW1lbnQpICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xufTtcbiIsInZhciBpc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNvbnN0cnVjdG9yJyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYEFzc2VydDogSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkgaXMgdHJ1ZWBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICB0aHJvdyAkVHlwZUVycm9yKHRyeVRvU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbn07XG4iLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICBpZiAodHlwZW9mIGFyZ3VtZW50ID09ICdvYmplY3QnIHx8IGlzQ2FsbGFibGUoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBzZXQgXCIgKyAkU3RyaW5nKGFyZ3VtZW50KSArICcgYXMgYSBwcm90b3R5cGUnKTtcbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcblxudmFyIFVOU0NPUEFCTEVTID0gd2VsbEtub3duU3ltYm9sKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG90eXBlID0gQXJyYXkucHJvdG90eXBlO1xuXG4vLyBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmlmIChBcnJheVByb3RvdHlwZVtVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSB7XG4gIGRlZmluZVByb3BlcnR5KEFycmF5UHJvdG90eXBlLCBVTlNDT1BBQkxFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogY3JlYXRlKG51bGwpXG4gIH0pO1xufVxuXG4vLyBhZGQgYSBrZXkgdG8gQXJyYXkucHJvdG90eXBlW0BAdW5zY29wYWJsZXNdXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgQXJyYXlQcm90b3R5cGVbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBjaGFyQXQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLW11bHRpYnl0ZScpLmNoYXJBdDtcblxuLy8gYEFkdmFuY2VTdHJpbmdJbmRleGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFkdmFuY2VzdHJpbmdpbmRleFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUywgaW5kZXgsIHVuaWNvZGUpIHtcbiAgcmV0dXJuIGluZGV4ICsgKHVuaWNvZGUgPyBjaGFyQXQoUywgaW5kZXgpLmxlbmd0aCA6IDEpO1xufTtcbiIsInZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBQcm90b3R5cGUpIHtcbiAgaWYgKGlzUHJvdG90eXBlT2YoUHJvdG90eXBlLCBpdCkpIHJldHVybiBpdDtcbiAgdGhyb3cgJFR5cGVFcnJvcignSW5jb3JyZWN0IGludm9jYXRpb24nKTtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciAkU3RyaW5nID0gU3RyaW5nO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGBBc3NlcnQ6IFR5cGUoYXJndW1lbnQpIGlzIE9iamVjdGBcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIGlmIChpc09iamVjdChhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgdGhyb3cgJFR5cGVFcnJvcigkU3RyaW5nKGFyZ3VtZW50KSArICcgaXMgbm90IGFuIG9iamVjdCcpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkZm9yRWFjaCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24nKS5mb3JFYWNoO1xudmFyIGFycmF5TWV0aG9kSXNTdHJpY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktbWV0aG9kLWlzLXN0cmljdCcpO1xuXG52YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ2ZvckVhY2gnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbm1vZHVsZS5leHBvcnRzID0gIVNUUklDVF9NRVRIT0QgPyBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gIHJldHVybiAkZm9yRWFjaCh0aGlzLCBjYWxsYmFja2ZuLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZCk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktcHJvdG90eXBlLWZvcmVhY2ggLS0gc2FmZVxufSA6IFtdLmZvckVhY2g7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcbnZhciBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NhbGwtd2l0aC1zYWZlLWl0ZXJhdGlvbi1jbG9zaW5nJyk7XG52YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIGlzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY29uc3RydWN0b3InKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eScpO1xudmFyIGdldEl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvcicpO1xudmFyIGdldEl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1pdGVyYXRvci1tZXRob2QnKTtcblxudmFyICRBcnJheSA9IEFycmF5O1xuXG4vLyBgQXJyYXkuZnJvbWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmZyb21cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZnJvbShhcnJheUxpa2UgLyogLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCAqLykge1xuICB2YXIgTyA9IHRvT2JqZWN0KGFycmF5TGlrZSk7XG4gIHZhciBJU19DT05TVFJVQ1RPUiA9IGlzQ29uc3RydWN0b3IodGhpcyk7XG4gIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgbWFwZm4gPSBhcmd1bWVudHNMZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICB2YXIgbWFwcGluZyA9IG1hcGZuICE9PSB1bmRlZmluZWQ7XG4gIGlmIChtYXBwaW5nKSBtYXBmbiA9IGJpbmQobWFwZm4sIGFyZ3VtZW50c0xlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQpO1xuICB2YXIgaXRlcmF0b3JNZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZChPKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvciwgbmV4dCwgdmFsdWU7XG4gIC8vIGlmIHRoZSB0YXJnZXQgaXMgbm90IGl0ZXJhYmxlIG9yIGl0J3MgYW4gYXJyYXkgd2l0aCB0aGUgZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBhIHNpbXBsZSBjYXNlXG4gIGlmIChpdGVyYXRvck1ldGhvZCAmJiAhKHRoaXMgPT09ICRBcnJheSAmJiBpc0FycmF5SXRlcmF0b3JNZXRob2QoaXRlcmF0b3JNZXRob2QpKSkge1xuICAgIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoTywgaXRlcmF0b3JNZXRob2QpO1xuICAgIG5leHQgPSBpdGVyYXRvci5uZXh0O1xuICAgIHJlc3VsdCA9IElTX0NPTlNUUlVDVE9SID8gbmV3IHRoaXMoKSA6IFtdO1xuICAgIGZvciAoOyEoc3RlcCA9IGNhbGwobmV4dCwgaXRlcmF0b3IpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICB2YWx1ZSA9IG1hcHBpbmcgPyBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlO1xuICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgICByZXN1bHQgPSBJU19DT05TVFJVQ1RPUiA/IG5ldyB0aGlzKGxlbmd0aCkgOiAkQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgdmFsdWUgPSBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdO1xuICAgICAgY3JlYXRlUHJvcGVydHkocmVzdWx0LCBpbmRleCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXN1bHQubGVuZ3RoID0gaW5kZXg7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG5cbi8vIGBBcnJheS5wcm90b3R5cGUueyBpbmRleE9mLCBpbmNsdWRlcyB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICAgIHZhciBpbmRleCA9IHRvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgdmFyIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlIC0tIE5hTiBjaGVja1xuICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSNpbmRleE9mIGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICBpZiAoKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pICYmIE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1xuICBpbmNsdWRlczogY3JlYXRlTWV0aG9kKHRydWUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmluZGV4T2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5pbmRleG9mXG4gIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZChmYWxzZSlcbn07XG4iLCJ2YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbGVuZ3RoLW9mLWFycmF5LWxpa2UnKTtcbnZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcblxudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS57IGZvckVhY2gsIG1hcCwgZmlsdGVyLCBzb21lLCBldmVyeSwgZmluZCwgZmluZEluZGV4LCBmaWx0ZXJSZWplY3QgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxudmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gIHZhciBJU19NQVAgPSBUWVBFID09IDE7XG4gIHZhciBJU19GSUxURVIgPSBUWVBFID09IDI7XG4gIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICB2YXIgSVNfRVZFUlkgPSBUWVBFID09IDQ7XG4gIHZhciBJU19GSU5EX0lOREVYID0gVFlQRSA9PSA2O1xuICB2YXIgSVNfRklMVEVSX1JFSkVDVCA9IFRZUEUgPT0gNztcbiAgdmFyIE5PX0hPTEVTID0gVFlQRSA9PSA1IHx8IElTX0ZJTkRfSU5ERVg7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQsIHNwZWNpZmljQ3JlYXRlKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCgkdGhpcyk7XG4gICAgdmFyIHNlbGYgPSBJbmRleGVkT2JqZWN0KE8pO1xuICAgIHZhciBib3VuZEZ1bmN0aW9uID0gYmluZChjYWxsYmFja2ZuLCB0aGF0KTtcbiAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2Uoc2VsZik7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlO1xuICAgIHZhciB0YXJnZXQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgfHwgSVNfRklMVEVSX1JFSkVDVCA/IGNyZWF0ZSgkdGhpcywgMCkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHZhbHVlLCByZXN1bHQ7XG4gICAgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChOT19IT0xFUyB8fCBpbmRleCBpbiBzZWxmKSB7XG4gICAgICB2YWx1ZSA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuICAgICAgaWYgKFRZUEUpIHtcbiAgICAgICAgaWYgKElTX01BUCkgdGFyZ2V0W2luZGV4XSA9IHJlc3VsdDsgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdCkgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgIC8vIHNvbWVcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWx1ZTsgICAgICAgICAgICAgLy8gZmluZFxuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHB1c2godGFyZ2V0LCB2YWx1ZSk7ICAgICAgLy8gZmlsdGVyXG4gICAgICAgIH0gZWxzZSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBmYWxzZTsgICAgICAgICAgICAgLy8gZXZlcnlcbiAgICAgICAgICBjYXNlIDc6IHB1c2godGFyZ2V0LCB2YWx1ZSk7ICAgICAgLy8gZmlsdGVyUmVqZWN0XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHRhcmdldDtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mb3JlYWNoXG4gIGZvckVhY2g6IGNyZWF0ZU1ldGhvZCgwKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5tYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgbWFwOiBjcmVhdGVNZXRob2QoMSksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gIGZpbHRlcjogY3JlYXRlTWV0aG9kKDIpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb21lXG4gIHNvbWU6IGNyZWF0ZU1ldGhvZCgzKSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5ldmVyeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4gIGV2ZXJ5OiBjcmVhdGVNZXRob2QoNCksXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRcbiAgZmluZDogY3JlYXRlTWV0aG9kKDUpLFxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZpbmRJbmRleFxuICBmaW5kSW5kZXg6IGNyZWF0ZU1ldGhvZCg2KSxcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5maWx0ZXJSZWplY3RgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hcnJheS1maWx0ZXJpbmdcbiAgZmlsdGVyUmVqZWN0OiBjcmVhdGVNZXRob2QoNylcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBWOF9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG5cbnZhciBTUEVDSUVTID0gd2VsbEtub3duU3ltYm9sKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIC8vIFdlIGNhbid0IHVzZSB0aGlzIGZlYXR1cmUgZGV0ZWN0aW9uIGluIFY4IHNpbmNlIGl0IGNhdXNlc1xuICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc3XG4gIHJldHVybiBWOF9WRVJTSU9OID49IDUxIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3IgPSB7fTtcbiAgICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGZvbzogMSB9O1xuICAgIH07XG4gICAgcmV0dXJuIGFycmF5W01FVEhPRF9OQU1FXShCb29sZWFuKS5mb28gIT09IDE7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSwgYXJndW1lbnQpIHtcbiAgdmFyIG1ldGhvZCA9IFtdW01FVEhPRF9OQU1FXTtcbiAgcmV0dXJuICEhbWV0aG9kICYmIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgbWV0aG9kLmNhbGwobnVsbCwgYXJndW1lbnQgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gMTsgfSwgMSk7XG4gIH0pO1xufTtcbiIsInZhciB0b0Fic29sdXRlSW5kZXggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tYWJzb2x1dGUtaW5kZXgnKTtcbnZhciBsZW5ndGhPZkFycmF5TGlrZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9sZW5ndGgtb2YtYXJyYXktbGlrZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eScpO1xuXG52YXIgJEFycmF5ID0gQXJyYXk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKE8pO1xuICB2YXIgayA9IHRvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuZ3RoKTtcbiAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleChlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZCwgbGVuZ3RoKTtcbiAgdmFyIHJlc3VsdCA9ICRBcnJheShtYXgoZmluIC0gaywgMCkpO1xuICBmb3IgKHZhciBuID0gMDsgayA8IGZpbjsgaysrLCBuKyspIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgbiwgT1trXSk7XG4gIHJlc3VsdC5sZW5ndGggPSBuO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB1bmN1cnJ5VGhpcyhbXS5zbGljZSk7XG4iLCJ2YXIgYXJyYXlTbGljZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zbGljZS1zaW1wbGUnKTtcblxudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxudmFyIG1lcmdlU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBtaWRkbGUgPSBmbG9vcihsZW5ndGggLyAyKTtcbiAgcmV0dXJuIGxlbmd0aCA8IDggPyBpbnNlcnRpb25Tb3J0KGFycmF5LCBjb21wYXJlZm4pIDogbWVyZ2UoXG4gICAgYXJyYXksXG4gICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UoYXJyYXksIDAsIG1pZGRsZSksIGNvbXBhcmVmbiksXG4gICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UoYXJyYXksIG1pZGRsZSksIGNvbXBhcmVmbiksXG4gICAgY29tcGFyZWZuXG4gICk7XG59O1xuXG52YXIgaW5zZXJ0aW9uU29ydCA9IGZ1bmN0aW9uIChhcnJheSwgY29tcGFyZWZuKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBpID0gMTtcbiAgdmFyIGVsZW1lbnQsIGo7XG5cbiAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICBqID0gaTtcbiAgICBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgd2hpbGUgKGogJiYgY29tcGFyZWZuKGFycmF5W2ogLSAxXSwgZWxlbWVudCkgPiAwKSB7XG4gICAgICBhcnJheVtqXSA9IGFycmF5Wy0tal07XG4gICAgfVxuICAgIGlmIChqICE9PSBpKyspIGFycmF5W2pdID0gZWxlbWVudDtcbiAgfSByZXR1cm4gYXJyYXk7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiAoYXJyYXksIGxlZnQsIHJpZ2h0LCBjb21wYXJlZm4pIHtcbiAgdmFyIGxsZW5ndGggPSBsZWZ0Lmxlbmd0aDtcbiAgdmFyIHJsZW5ndGggPSByaWdodC5sZW5ndGg7XG4gIHZhciBsaW5kZXggPSAwO1xuICB2YXIgcmluZGV4ID0gMDtcblxuICB3aGlsZSAobGluZGV4IDwgbGxlbmd0aCB8fCByaW5kZXggPCBybGVuZ3RoKSB7XG4gICAgYXJyYXlbbGluZGV4ICsgcmluZGV4XSA9IChsaW5kZXggPCBsbGVuZ3RoICYmIHJpbmRleCA8IHJsZW5ndGgpXG4gICAgICA/IGNvbXBhcmVmbihsZWZ0W2xpbmRleF0sIHJpZ2h0W3JpbmRleF0pIDw9IDAgPyBsZWZ0W2xpbmRleCsrXSA6IHJpZ2h0W3JpbmRleCsrXVxuICAgICAgOiBsaW5kZXggPCBsbGVuZ3RoID8gbGVmdFtsaW5kZXgrK10gOiByaWdodFtyaW5kZXgrK107XG4gIH0gcmV0dXJuIGFycmF5O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZVNvcnQ7XG4iLCJ2YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheScpO1xudmFyIGlzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY29uc3RydWN0b3InKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciAkQXJyYXkgPSBBcnJheTtcblxuLy8gYSBwYXJ0IG9mIGBBcnJheVNwZWNpZXNDcmVhdGVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXkpIHtcbiAgdmFyIEM7XG4gIGlmIChpc0FycmF5KG9yaWdpbmFsQXJyYXkpKSB7XG4gICAgQyA9IG9yaWdpbmFsQXJyYXkuY29uc3RydWN0b3I7XG4gICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICBpZiAoaXNDb25zdHJ1Y3RvcihDKSAmJiAoQyA9PT0gJEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBlbHNlIGlmIChpc09iamVjdChDKSkge1xuICAgICAgQyA9IENbU1BFQ0lFU107XG4gICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/ICRBcnJheSA6IEM7XG59O1xuIiwidmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3InKTtcblxuLy8gYEFycmF5U3BlY2llc0NyZWF0ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5c3BlY2llc2NyZWF0ZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSwgbGVuZ3RoKSB7XG4gIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbn07XG4iLCJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXRlcmF0b3JDbG9zZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvci1jbG9zZScpO1xuXG4vLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBFTlRSSUVTKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEVOVFJJRVMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCAndGhyb3cnLCBlcnJvcik7XG4gIH1cbn07XG4iLCJ2YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBpdGVyYXRvcldpdGhSZXR1cm4gPSB7XG4gICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgZG9uZTogISFjYWxsZWQrKyB9O1xuICAgIH0sXG4gICAgJ3JldHVybic6IGZ1bmN0aW9uICgpIHtcbiAgICAgIFNBRkVfQ0xPU0lORyA9IHRydWU7XG4gICAgfVxuICB9O1xuICBpdGVyYXRvcldpdGhSZXR1cm5bSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktZnJvbSwgbm8tdGhyb3ctbGl0ZXJhbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICBBcnJheS5mcm9tKGl0ZXJhdG9yV2l0aFJldHVybiwgZnVuY3Rpb24gKCkgeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gIGlmICghU0tJUF9DTE9TSU5HICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgdmFyIElURVJBVElPTl9TVVBQT1JUID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogSVRFUkFUSU9OX1NVUFBPUlQgPSB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleGVjKG9iamVjdCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIElURVJBVElPTl9TVVBQT1JUO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxudmFyIHRvU3RyaW5nID0gdW5jdXJyeVRoaXMoe30udG9TdHJpbmcpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gc3RyaW5nU2xpY2UodG9TdHJpbmcoaXQpLCA4LCAtMSk7XG59O1xuIiwidmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgY2xhc3NvZlJhdyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCgndG9TdHJpbmdUYWcnKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBFUzMgd3JvbmcgaGVyZVxudmFyIENPUlJFQ1RfQVJHVU1FTlRTID0gY2xhc3NvZlJhdyhmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaXRba2V5XTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxufTtcblxuLy8gZ2V0dGluZyB0YWcgZnJvbSBFUzYrIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYFxubW9kdWxlLmV4cG9ydHMgPSBUT19TVFJJTkdfVEFHX1NVUFBPUlQgPyBjbGFzc29mUmF3IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCB0YWcsIHJlc3VsdDtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKHRhZyA9IHRyeUdldChPID0gJE9iamVjdChpdCksIFRPX1NUUklOR19UQUcpKSA9PSAnc3RyaW5nJyA/IHRhZ1xuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQ09SUkVDVF9BUkdVTUVOVFMgPyBjbGFzc29mUmF3KE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKHJlc3VsdCA9IGNsYXNzb2ZSYXcoTykpID09ICdPYmplY3QnICYmIGlzQ2FsbGFibGUoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG59O1xuIiwidmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgb3duS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vd24ta2V5cycpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSwgZXhjZXB0aW9ucykge1xuICB2YXIga2V5cyA9IG93bktleXMoc291cmNlKTtcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoIWhhc093bih0YXJnZXQsIGtleSkgJiYgIShleGNlcHRpb25zICYmIGhhc093bihleGNlcHRpb25zLCBrZXkpKSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgIH1cbiAgfVxufTtcbiIsInZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEYoKSB7IC8qIGVtcHR5ICovIH1cbiAgRi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBudWxsO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IEYoKSkgIT09IEYucHJvdG90eXBlO1xufSk7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcblxudmFyIHF1b3QgPSAvXCIvZztcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG5cbi8vIGBDcmVhdGVIVE1MYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlaHRtbFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyaW5nLCB0YWcsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgdmFyIFMgPSB0b1N0cmluZyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHN0cmluZykpO1xuICB2YXIgcDEgPSAnPCcgKyB0YWc7XG4gIGlmIChhdHRyaWJ1dGUgIT09ICcnKSBwMSArPSAnICcgKyBhdHRyaWJ1dGUgKyAnPVwiJyArIHJlcGxhY2UodG9TdHJpbmcodmFsdWUpLCBxdW90LCAnJnF1b3Q7JykgKyAnXCInO1xuICByZXR1cm4gcDEgKyAnPicgKyBTICsgJzwvJyArIHRhZyArICc+Jztcbn07XG4iLCIvLyBgQ3JlYXRlSXRlclJlc3VsdE9iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZWl0ZXJyZXN1bHRvYmplY3Rcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlLCBkb25lKSB7XG4gIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogZG9uZSB9O1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBERVNDUklQVE9SUyA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5TW9kdWxlLmYob2JqZWN0LCBrZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChiaXRtYXAsIHZhbHVlKSB7XG4gIHJldHVybiB7XG4gICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgdmFsdWU6IHZhbHVlXG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIHByb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleShrZXkpO1xuICBpZiAocHJvcGVydHlLZXkgaW4gb2JqZWN0KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKG9iamVjdCwgcHJvcGVydHlLZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCB2YWx1ZSkpO1xuICBlbHNlIG9iamVjdFtwcm9wZXJ0eUtleV0gPSB2YWx1ZTtcbn07XG4iLCJ2YXIgbWFrZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbWFrZS1idWlsdC1pbicpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKSB7XG4gIGlmIChkZXNjcmlwdG9yLmdldCkgbWFrZUJ1aWx0SW4oZGVzY3JpcHRvci5nZXQsIG5hbWUsIHsgZ2V0dGVyOiB0cnVlIH0pO1xuICBpZiAoZGVzY3JpcHRvci5zZXQpIG1ha2VCdWlsdEluKGRlc2NyaXB0b3Iuc2V0LCBuYW1lLCB7IHNldHRlcjogdHJ1ZSB9KTtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5LmYodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKTtcbn07XG4iLCJ2YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcbnZhciBtYWtlQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9tYWtlLWJ1aWx0LWluJyk7XG52YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWdsb2JhbC1wcm9wZXJ0eScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICB2YXIgc2ltcGxlID0gb3B0aW9ucy5lbnVtZXJhYmxlO1xuICB2YXIgbmFtZSA9IG9wdGlvbnMubmFtZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uYW1lIDoga2V5O1xuICBpZiAoaXNDYWxsYWJsZSh2YWx1ZSkpIG1ha2VCdWlsdEluKHZhbHVlLCBuYW1lLCBvcHRpb25zKTtcbiAgaWYgKG9wdGlvbnMuZ2xvYmFsKSB7XG4gICAgaWYgKHNpbXBsZSkgT1trZXldID0gdmFsdWU7XG4gICAgZWxzZSBkZWZpbmVHbG9iYWxQcm9wZXJ0eShrZXksIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFvcHRpb25zLnVuc2FmZSkgZGVsZXRlIE9ba2V5XTtcbiAgICAgIGVsc2UgaWYgKE9ba2V5XSkgc2ltcGxlID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gICAgaWYgKHNpbXBsZSkgT1trZXldID0gdmFsdWU7XG4gICAgZWxzZSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6ICFvcHRpb25zLm5vbkNvbmZpZ3VyYWJsZSxcbiAgICAgIHdyaXRhYmxlOiAhb3B0aW9ucy5ub25Xcml0YWJsZVxuICAgIH0pO1xuICB9IHJldHVybiBPO1xufTtcbiIsInZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgb3B0aW9ucykge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSBkZWZpbmVCdWlsdEluKHRhcmdldCwga2V5LCBzcmNba2V5XSwgb3B0aW9ucyk7XG4gIHJldHVybiB0YXJnZXQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBkZWZpbmVQcm9wZXJ0eShnbG9iYWwsIGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZ2xvYmFsW2tleV0gPSB2YWx1ZTtcbiAgfSByZXR1cm4gdmFsdWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIFApIHtcbiAgaWYgKCFkZWxldGUgT1tQXSkgdGhyb3cgJFR5cGVFcnJvcignQ2Fubm90IGRlbGV0ZSBwcm9wZXJ0eSAnICsgdHJ5VG9TdHJpbmcoUCkgKyAnIG9mICcgKyB0cnlUb1N0cmluZyhPKSk7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIERldGVjdCBJRTgncyBpbmNvbXBsZXRlIGRlZmluZVByb3BlcnR5IGltcGxlbWVudGF0aW9uXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT0gNztcbn0pO1xuIiwidmFyIGRvY3VtZW50QWxsID0gdHlwZW9mIGRvY3VtZW50ID09ICdvYmplY3QnICYmIGRvY3VtZW50LmFsbDtcblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1Jc0hUTUxEREEtaW50ZXJuYWwtc2xvdFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vbm8tdHlwZW9mLXVuZGVmaW5lZCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xudmFyIElTX0hUTUxEREEgPSB0eXBlb2YgZG9jdW1lbnRBbGwgPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnRBbGwgIT09IHVuZGVmaW5lZDtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFsbDogZG9jdW1lbnRBbGwsXG4gIElTX0hUTUxEREE6IElTX0hUTUxEREFcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xuXG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBFWElTVFMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBFWElTVFMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsInZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFGRkZGRkZGRkZGRkZGOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpdCA+IE1BWF9TQUZFX0lOVEVHRVIpIHRocm93ICRUeXBlRXJyb3IoJ01heGltdW0gYWxsb3dlZCBpbmRleCBleGNlZWRlZCcpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiLy8gaXRlcmFibGUgRE9NIGNvbGxlY3Rpb25zXG4vLyBmbGFnIC0gYGl0ZXJhYmxlYCBpbnRlcmZhY2UgLSAnZW50cmllcycsICdrZXlzJywgJ3ZhbHVlcycsICdmb3JFYWNoJyBtZXRob2RzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ1NTUnVsZUxpc3Q6IDAsXG4gIENTU1N0eWxlRGVjbGFyYXRpb246IDAsXG4gIENTU1ZhbHVlTGlzdDogMCxcbiAgQ2xpZW50UmVjdExpc3Q6IDAsXG4gIERPTVJlY3RMaXN0OiAwLFxuICBET01TdHJpbmdMaXN0OiAwLFxuICBET01Ub2tlbkxpc3Q6IDEsXG4gIERhdGFUcmFuc2Zlckl0ZW1MaXN0OiAwLFxuICBGaWxlTGlzdDogMCxcbiAgSFRNTEFsbENvbGxlY3Rpb246IDAsXG4gIEhUTUxDb2xsZWN0aW9uOiAwLFxuICBIVE1MRm9ybUVsZW1lbnQ6IDAsXG4gIEhUTUxTZWxlY3RFbGVtZW50OiAwLFxuICBNZWRpYUxpc3Q6IDAsXG4gIE1pbWVUeXBlQXJyYXk6IDAsXG4gIE5hbWVkTm9kZU1hcDogMCxcbiAgTm9kZUxpc3Q6IDEsXG4gIFBhaW50UmVxdWVzdExpc3Q6IDAsXG4gIFBsdWdpbjogMCxcbiAgUGx1Z2luQXJyYXk6IDAsXG4gIFNWR0xlbmd0aExpc3Q6IDAsXG4gIFNWR051bWJlckxpc3Q6IDAsXG4gIFNWR1BhdGhTZWdMaXN0OiAwLFxuICBTVkdQb2ludExpc3Q6IDAsXG4gIFNWR1N0cmluZ0xpc3Q6IDAsXG4gIFNWR1RyYW5zZm9ybUxpc3Q6IDAsXG4gIFNvdXJjZUJ1ZmZlckxpc3Q6IDAsXG4gIFN0eWxlU2hlZXRMaXN0OiAwLFxuICBUZXh0VHJhY2tDdWVMaXN0OiAwLFxuICBUZXh0VHJhY2tMaXN0OiAwLFxuICBUb3VjaExpc3Q6IDBcbn07XG4iLCIvLyBpbiBvbGQgV2ViS2l0IHZlcnNpb25zLCBgZWxlbWVudC5jbGFzc0xpc3RgIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBnbG9iYWwgYERPTVRva2VuTGlzdGBcbnZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQnKTtcblxudmFyIGNsYXNzTGlzdCA9IGRvY3VtZW50Q3JlYXRlRWxlbWVudCgnc3BhbicpLmNsYXNzTGlzdDtcbnZhciBET01Ub2tlbkxpc3RQcm90b3R5cGUgPSBjbGFzc0xpc3QgJiYgY2xhc3NMaXN0LmNvbnN0cnVjdG9yICYmIGNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gRE9NVG9rZW5MaXN0UHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlID8gdW5kZWZpbmVkIDogRE9NVG9rZW5MaXN0UHJvdG90eXBlO1xuIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG52YXIgZmlyZWZveCA9IHVzZXJBZ2VudC5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS9pKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhIWZpcmVmb3ggJiYgK2ZpcmVmb3hbMV07XG4iLCJ2YXIgSVNfREVOTyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtZGVubycpO1xudmFyIElTX05PREUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLW5vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhSVNfREVOTyAmJiAhSVNfTk9ERVxuICAmJiB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnXG4gICYmIHR5cGVvZiBkb2N1bWVudCA9PSAnb2JqZWN0JztcbiIsIi8qIGdsb2JhbCBEZW5vIC0tIERlbm8gY2FzZSAqL1xubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgRGVubyA9PSAnb2JqZWN0JyAmJiBEZW5vICYmIHR5cGVvZiBEZW5vLnZlcnNpb24gPT0gJ29iamVjdCc7XG4iLCJ2YXIgVUEgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAvTVNJRXxUcmlkZW50Ly50ZXN0KFVBKTtcbiIsInZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAvaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QodXNlckFnZW50KSAmJiB0eXBlb2YgUGViYmxlICE9ICd1bmRlZmluZWQnO1xuIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVkb3Mvbm8tdnVsbmVyYWJsZSAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IC8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KHVzZXJBZ2VudCk7XG4iLCJ2YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBwcm9jZXNzICE9ICd1bmRlZmluZWQnICYmIGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnO1xuIiwidmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IC93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QodXNlckFnZW50KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIG5hdmlnYXRvciAhPSAndW5kZWZpbmVkJyAmJiBTdHJpbmcobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgJyc7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHVzZXJBZ2VudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdXNlci1hZ2VudCcpO1xuXG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIERlbm8gPSBnbG9iYWwuRGVubztcbnZhciB2ZXJzaW9ucyA9IHByb2Nlc3MgJiYgcHJvY2Vzcy52ZXJzaW9ucyB8fCBEZW5vICYmIERlbm8udmVyc2lvbjtcbnZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4O1xudmFyIG1hdGNoLCB2ZXJzaW9uO1xuXG5pZiAodjgpIHtcbiAgbWF0Y2ggPSB2OC5zcGxpdCgnLicpO1xuICAvLyBpbiBvbGQgQ2hyb21lLCB2ZXJzaW9ucyBvZiBWOCBpc24ndCBWOCA9IENocm9tZSAvIDEwXG4gIC8vIGJ1dCB0aGVpciBjb3JyZWN0IHZlcnNpb25zIGFyZSBub3QgaW50ZXJlc3RpbmcgZm9yIHVzXG4gIHZlcnNpb24gPSBtYXRjaFswXSA+IDAgJiYgbWF0Y2hbMF0gPCA0ID8gMSA6ICsobWF0Y2hbMF0gKyBtYXRjaFsxXSk7XG59XG5cbi8vIEJyb3dzZXJGUyBOb2RlSlMgYHByb2Nlc3NgIHBvbHlmaWxsIGluY29ycmVjdGx5IHNldCBgLnY4YCB0byBgMC4wYFxuLy8gc28gY2hlY2sgYHVzZXJBZ2VudGAgZXZlbiBpZiBgLnY4YCBleGlzdHMsIGJ1dCAwXG5pZiAoIXZlcnNpb24gJiYgdXNlckFnZW50KSB7XG4gIG1hdGNoID0gdXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLyk7XG4gIGlmICghbWF0Y2ggfHwgbWF0Y2hbMV0gPj0gNzQpIHtcbiAgICBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgaWYgKG1hdGNoKSB2ZXJzaW9uID0gK21hdGNoWzFdO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmVyc2lvbjtcbiIsInZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXVzZXItYWdlbnQnKTtcblxudmFyIHdlYmtpdCA9IHVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKTtcblxubW9kdWxlLmV4cG9ydHMgPSAhIXdlYmtpdCAmJiArd2Via2l0WzFdO1xuIiwiLy8gSUU4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXG5tb2R1bGUuZXhwb3J0cyA9IFtcbiAgJ2NvbnN0cnVjdG9yJyxcbiAgJ2hhc093blByb3BlcnR5JyxcbiAgJ2lzUHJvdG90eXBlT2YnLFxuICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAndG9Mb2NhbGVTdHJpbmcnLFxuICAndG9TdHJpbmcnLFxuICAndmFsdWVPZidcbl07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBkZWZpbmVHbG9iYWxQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtZ2xvYmFsLXByb3BlcnR5Jyk7XG52YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jb3B5LWNvbnN0cnVjdG9yLXByb3BlcnRpZXMnKTtcbnZhciBpc0ZvcmNlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1mb3JjZWQnKTtcblxuLypcbiAgb3B0aW9ucy50YXJnZXQgICAgICAgICAtIG5hbWUgb2YgdGhlIHRhcmdldCBvYmplY3RcbiAgb3B0aW9ucy5nbG9iYWwgICAgICAgICAtIHRhcmdldCBpcyB0aGUgZ2xvYmFsIG9iamVjdFxuICBvcHRpb25zLnN0YXQgICAgICAgICAgIC0gZXhwb3J0IGFzIHN0YXRpYyBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnByb3RvICAgICAgICAgIC0gZXhwb3J0IGFzIHByb3RvdHlwZSBtZXRob2RzIG9mIHRhcmdldFxuICBvcHRpb25zLnJlYWwgICAgICAgICAgIC0gcmVhbCBwcm90b3R5cGUgbWV0aG9kIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy5mb3JjZWQgICAgICAgICAtIGV4cG9ydCBldmVuIGlmIHRoZSBuYXRpdmUgZmVhdHVyZSBpcyBhdmFpbGFibGVcbiAgb3B0aW9ucy5iaW5kICAgICAgICAgICAtIGJpbmQgbWV0aG9kcyB0byB0aGUgdGFyZ2V0LCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gIG9wdGlvbnMud3JhcCAgICAgICAgICAgLSB3cmFwIGNvbnN0cnVjdG9ycyB0byBwcmV2ZW50aW5nIGdsb2JhbCBwb2xsdXRpb24sIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgb3B0aW9ucy51bnNhZmUgICAgICAgICAtIHVzZSB0aGUgc2ltcGxlIGFzc2lnbm1lbnQgb2YgcHJvcGVydHkgaW5zdGVhZCBvZiBkZWxldGUgKyBkZWZpbmVQcm9wZXJ0eVxuICBvcHRpb25zLnNoYW0gICAgICAgICAgIC0gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICBvcHRpb25zLmVudW1lcmFibGUgICAgIC0gZXhwb3J0IGFzIGVudW1lcmFibGUgcHJvcGVydHlcbiAgb3B0aW9ucy5kb250Q2FsbEdldFNldCAtIHByZXZlbnQgY2FsbGluZyBhIGdldHRlciBvbiB0YXJnZXRcbiAgb3B0aW9ucy5uYW1lICAgICAgICAgICAtIHRoZSAubmFtZSBvZiB0aGUgZnVuY3Rpb24gaWYgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGtleVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuICB2YXIgVEFSR0VUID0gb3B0aW9ucy50YXJnZXQ7XG4gIHZhciBHTE9CQUwgPSBvcHRpb25zLmdsb2JhbDtcbiAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcbiAgdmFyIEZPUkNFRCwgdGFyZ2V0LCBrZXksIHRhcmdldFByb3BlcnR5LCBzb3VyY2VQcm9wZXJ0eSwgZGVzY3JpcHRvcjtcbiAgaWYgKEdMT0JBTCkge1xuICAgIHRhcmdldCA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmIChTVEFUSUMpIHtcbiAgICB0YXJnZXQgPSBnbG9iYWxbVEFSR0VUXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShUQVJHRVQsIHt9KTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQgPSAoZ2xvYmFsW1RBUkdFVF0gfHwge30pLnByb3RvdHlwZTtcbiAgfVxuICBpZiAodGFyZ2V0KSBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICBzb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVtrZXldO1xuICAgIGlmIChvcHRpb25zLmRvbnRDYWxsR2V0U2V0KSB7XG4gICAgICBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTtcbiAgICAgIHRhcmdldFByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0gZWxzZSB0YXJnZXRQcm9wZXJ0eSA9IHRhcmdldFtrZXldO1xuICAgIEZPUkNFRCA9IGlzRm9yY2VkKEdMT0JBTCA/IGtleSA6IFRBUkdFVCArIChTVEFUSUMgPyAnLicgOiAnIycpICsga2V5LCBvcHRpb25zLmZvcmNlZCk7XG4gICAgLy8gY29udGFpbmVkIGluIHRhcmdldFxuICAgIGlmICghRk9SQ0VEICYmIHRhcmdldFByb3BlcnR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICh0eXBlb2Ygc291cmNlUHJvcGVydHkgPT0gdHlwZW9mIHRhcmdldFByb3BlcnR5KSBjb250aW51ZTtcbiAgICAgIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMoc291cmNlUHJvcGVydHksIHRhcmdldFByb3BlcnR5KTtcbiAgICB9XG4gICAgLy8gYWRkIGEgZmxhZyB0byBub3QgY29tcGxldGVseSBmdWxsIHBvbHlmaWxsc1xuICAgIGlmIChvcHRpb25zLnNoYW0gfHwgKHRhcmdldFByb3BlcnR5ICYmIHRhcmdldFByb3BlcnR5LnNoYW0pKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoc291cmNlUHJvcGVydHksICdzaGFtJywgdHJ1ZSk7XG4gICAgfVxuICAgIGRlZmluZUJ1aWx0SW4odGFyZ2V0LCBrZXksIHNvdXJjZVByb3BlcnR5LCBvcHRpb25zKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG4vLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIG1vdmVkIHRvIGVudHJ5IHBvaW50c1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5yZWdleHAuZXhlYycpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHJlZ2V4cEV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciBSZWdFeHBQcm90b3R5cGUgPSBSZWdFeHAucHJvdG90eXBlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVksIGV4ZWMsIEZPUkNFRCwgU0hBTSkge1xuICB2YXIgU1lNQk9MID0gd2VsbEtub3duU3ltYm9sKEtFWSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19TWU1CT0wgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN0cmluZyBtZXRob2RzIGNhbGwgc3ltYm9sLW5hbWVkIFJlZ0VwIG1ldGhvZHNcbiAgICB2YXIgTyA9IHt9O1xuICAgIE9bU1lNQk9MXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH07XG4gICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgfSk7XG5cbiAgdmFyIERFTEVHQVRFU19UT19FWEVDID0gREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIFN5bWJvbC1uYW1lZCBSZWdFeHAgbWV0aG9kcyBjYWxsIC5leGVjXG4gICAgdmFyIGV4ZWNDYWxsZWQgPSBmYWxzZTtcbiAgICB2YXIgcmUgPSAvYS87XG5cbiAgICBpZiAoS0VZID09PSAnc3BsaXQnKSB7XG4gICAgICAvLyBXZSBjYW4ndCB1c2UgcmVhbCByZWdleCBoZXJlIHNpbmNlIGl0IGNhdXNlcyBkZW9wdGltaXphdGlvblxuICAgICAgLy8gYW5kIHNlcmlvdXMgcGVyZm9ybWFuY2UgZGVncmFkYXRpb24gaW4gVjhcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMDZcbiAgICAgIHJlID0ge307XG4gICAgICAvLyBSZWdFeHBbQEBzcGxpdF0gZG9lc24ndCBjYWxsIHRoZSByZWdleCdzIGV4ZWMgbWV0aG9kLCBidXQgZmlyc3QgY3JlYXRlc1xuICAgICAgLy8gYSBuZXcgb25lLiBXZSBuZWVkIHRvIHJldHVybiB0aGUgcGF0Y2hlZCByZWdleCB3aGVuIGNyZWF0aW5nIHRoZSBuZXcgb25lLlxuICAgICAgcmUuY29uc3RydWN0b3IgPSB7fTtcbiAgICAgIHJlLmNvbnN0cnVjdG9yW1NQRUNJRVNdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmU7IH07XG4gICAgICByZS5mbGFncyA9ICcnO1xuICAgICAgcmVbU1lNQk9MXSA9IC8uL1tTWU1CT0xdO1xuICAgIH1cblxuICAgIHJlLmV4ZWMgPSBmdW5jdGlvbiAoKSB7IGV4ZWNDYWxsZWQgPSB0cnVlOyByZXR1cm4gbnVsbDsgfTtcblxuICAgIHJlW1NZTUJPTF0oJycpO1xuICAgIHJldHVybiAhZXhlY0NhbGxlZDtcbiAgfSk7XG5cbiAgaWYgKFxuICAgICFERUxFR0FURVNfVE9fU1lNQk9MIHx8XG4gICAgIURFTEVHQVRFU19UT19FWEVDIHx8XG4gICAgRk9SQ0VEXG4gICkge1xuICAgIHZhciB1bmN1cnJpZWROYXRpdmVSZWdFeHBNZXRob2QgPSB1bmN1cnJ5VGhpcygvLi9bU1lNQk9MXSk7XG4gICAgdmFyIG1ldGhvZHMgPSBleGVjKFNZTUJPTCwgJydbS0VZXSwgZnVuY3Rpb24gKG5hdGl2ZU1ldGhvZCwgcmVnZXhwLCBzdHIsIGFyZzIsIGZvcmNlU3RyaW5nTWV0aG9kKSB7XG4gICAgICB2YXIgdW5jdXJyaWVkTmF0aXZlTWV0aG9kID0gdW5jdXJyeVRoaXMobmF0aXZlTWV0aG9kKTtcbiAgICAgIHZhciAkZXhlYyA9IHJlZ2V4cC5leGVjO1xuICAgICAgaWYgKCRleGVjID09PSByZWdleHBFeGVjIHx8ICRleGVjID09PSBSZWdFeHBQcm90b3R5cGUuZXhlYykge1xuICAgICAgICBpZiAoREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICAvLyBUaGUgbmF0aXZlIFN0cmluZyBtZXRob2QgYWxyZWFkeSBkZWxlZ2F0ZXMgdG8gQEBtZXRob2QgKHRoaXNcbiAgICAgICAgICAvLyBwb2x5ZmlsbGVkIGZ1bmN0aW9uKSwgbGVhc2luZyB0byBpbmZpbml0ZSByZWN1cnNpb24uXG4gICAgICAgICAgLy8gV2UgYXZvaWQgaXQgYnkgZGlyZWN0bHkgY2FsbGluZyB0aGUgbmF0aXZlIEBAbWV0aG9kIG1ldGhvZC5cbiAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogdW5jdXJyaWVkTmF0aXZlUmVnRXhwTWV0aG9kKHJlZ2V4cCwgc3RyLCBhcmcyKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmN1cnJpZWROYXRpdmVNZXRob2Qoc3RyLCByZWdleHAsIGFyZzIpIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBkb25lOiBmYWxzZSB9O1xuICAgIH0pO1xuXG4gICAgZGVmaW5lQnVpbHRJbihTdHJpbmcucHJvdG90eXBlLCBLRVksIG1ldGhvZHNbMF0pO1xuICAgIGRlZmluZUJ1aWx0SW4oUmVnRXhwUHJvdG90eXBlLCBTWU1CT0wsIG1ldGhvZHNbMV0pO1xuICB9XG5cbiAgaWYgKFNIQU0pIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShSZWdFeHBQcm90b3R5cGVbU1lNQk9MXSwgJ3NoYW0nLCB0cnVlKTtcbn07XG4iLCJ2YXIgTkFUSVZFX0JJTkQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1uYXRpdmUnKTtcblxudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xudmFyIGFwcGx5ID0gRnVuY3Rpb25Qcm90b3R5cGUuYXBwbHk7XG52YXIgY2FsbCA9IEZ1bmN0aW9uUHJvdG90eXBlLmNhbGw7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1yZWZsZWN0IC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIFJlZmxlY3QgPT0gJ29iamVjdCcgJiYgUmVmbGVjdC5hcHBseSB8fCAoTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoYXBwbHkpIDogZnVuY3Rpb24gKCkge1xuICByZXR1cm4gY2FsbC5hcHBseShhcHBseSwgYXJndW1lbnRzKTtcbn0pO1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcy1jbGF1c2UnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBiaW5kID0gdW5jdXJyeVRoaXModW5jdXJyeVRoaXMuYmluZCk7XG5cbi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4sIHRoYXQpIHtcbiAgYUNhbGxhYmxlKGZuKTtcbiAgcmV0dXJuIHRoYXQgPT09IHVuZGVmaW5lZCA/IGZuIDogTkFUSVZFX0JJTkQgPyBiaW5kKGZuLCB0aGF0KSA6IGZ1bmN0aW9uICgvKiAuLi5hcmdzICovKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWZ1bmN0aW9uLXByb3RvdHlwZS1iaW5kIC0tIHNhZmVcbiAgdmFyIHRlc3QgPSAoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KS5iaW5kKCk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgLS0gc2FmZVxuICByZXR1cm4gdHlwZW9mIHRlc3QgIT0gJ2Z1bmN0aW9uJyB8fCB0ZXN0Lmhhc093blByb3BlcnR5KCdwcm90b3R5cGUnKTtcbn0pO1xuIiwidmFyIE5BVElWRV9CSU5EID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWJpbmQtbmF0aXZlJyk7XG5cbnZhciBjYWxsID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gTkFUSVZFX0JJTkQgPyBjYWxsLmJpbmQoY2FsbCkgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBjYWxsLmFwcGx5KGNhbGwsIGFyZ3VtZW50cyk7XG59O1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcblxudmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxudmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG52YXIgRVhJU1RTID0gaGFzT3duKEZ1bmN0aW9uUHJvdG90eXBlLCAnbmFtZScpO1xuLy8gYWRkaXRpb25hbCBwcm90ZWN0aW9uIGZyb20gbWluaWZpZWQgLyBtYW5nbGVkIC8gZHJvcHBlZCBmdW5jdGlvbiBuYW1lc1xudmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbnZhciBDT05GSUdVUkFCTEUgPSBFWElTVFMgJiYgKCFERVNDUklQVE9SUyB8fCAoREVTQ1JJUFRPUlMgJiYgZ2V0RGVzY3JpcHRvcihGdW5jdGlvblByb3RvdHlwZSwgJ25hbWUnKS5jb25maWd1cmFibGUpKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEVYSVNUUzogRVhJU1RTLFxuICBQUk9QRVI6IFBST1BFUixcbiAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgYUNhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtY2FsbGFibGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIG1ldGhvZCkge1xuICB0cnkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgICByZXR1cm4gdW5jdXJyeVRoaXMoYUNhbGxhYmxlKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBrZXkpW21ldGhvZF0pKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxufTtcbiIsInZhciBjbGFzc29mUmF3ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuKSB7XG4gIC8vIE5hc2hvcm4gYnVnOlxuICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xMTI4XG4gIC8vICAgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzExMzBcbiAgaWYgKGNsYXNzb2ZSYXcoZm4pID09PSAnRnVuY3Rpb24nKSByZXR1cm4gdW5jdXJyeVRoaXMoZm4pO1xufTtcbiIsInZhciBOQVRJVkVfQklORCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLW5hdGl2ZScpO1xuXG52YXIgRnVuY3Rpb25Qcm90b3R5cGUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG52YXIgY2FsbCA9IEZ1bmN0aW9uUHJvdG90eXBlLmNhbGw7XG52YXIgdW5jdXJyeVRoaXNXaXRoQmluZCA9IE5BVElWRV9CSU5EICYmIEZ1bmN0aW9uUHJvdG90eXBlLmJpbmQuYmluZChjYWxsLCBjYWxsKTtcblxubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfQklORCA/IHVuY3VycnlUaGlzV2l0aEJpbmQgOiBmdW5jdGlvbiAoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbC5hcHBseShmbiwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcblxudmFyIGFGdW5jdGlvbiA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICByZXR1cm4gaXNDYWxsYWJsZShhcmd1bWVudCkgPyBhcmd1bWVudCA6IHVuZGVmaW5lZDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGFGdW5jdGlvbihnbG9iYWxbbmFtZXNwYWNlXSkgOiBnbG9iYWxbbmFtZXNwYWNlXSAmJiBnbG9iYWxbbmFtZXNwYWNlXVttZXRob2RdO1xufTtcbiIsInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNOdWxsT3JVbmRlZmluZWQoaXQpKSByZXR1cm4gZ2V0TWV0aG9kKGl0LCBJVEVSQVRPUilcbiAgICB8fCBnZXRNZXRob2QoaXQsICdAQGl0ZXJhdG9yJylcbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcbiIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRyeVRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RyeS10by1zdHJpbmcnKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcmd1bWVudCwgdXNpbmdJdGVyYXRvcikge1xuICB2YXIgaXRlcmF0b3JNZXRob2QgPSBhcmd1bWVudHMubGVuZ3RoIDwgMiA/IGdldEl0ZXJhdG9yTWV0aG9kKGFyZ3VtZW50KSA6IHVzaW5nSXRlcmF0b3I7XG4gIGlmIChhQ2FsbGFibGUoaXRlcmF0b3JNZXRob2QpKSByZXR1cm4gYW5PYmplY3QoY2FsbChpdGVyYXRvck1ldGhvZCwgYXJndW1lbnQpKTtcbiAgdGhyb3cgJFR5cGVFcnJvcih0cnlUb1N0cmluZyhhcmd1bWVudCkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5Jyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcblxudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocmVwbGFjZXIpIHtcbiAgaWYgKGlzQ2FsbGFibGUocmVwbGFjZXIpKSByZXR1cm4gcmVwbGFjZXI7XG4gIGlmICghaXNBcnJheShyZXBsYWNlcikpIHJldHVybjtcbiAgdmFyIHJhd0xlbmd0aCA9IHJlcGxhY2VyLmxlbmd0aDtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdMZW5ndGg7IGkrKykge1xuICAgIHZhciBlbGVtZW50ID0gcmVwbGFjZXJbaV07XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50ID09ICdzdHJpbmcnKSBwdXNoKGtleXMsIGVsZW1lbnQpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50ID09ICdudW1iZXInIHx8IGNsYXNzb2YoZWxlbWVudCkgPT0gJ051bWJlcicgfHwgY2xhc3NvZihlbGVtZW50KSA9PSAnU3RyaW5nJykgcHVzaChrZXlzLCB0b1N0cmluZyhlbGVtZW50KSk7XG4gIH1cbiAgdmFyIGtleXNMZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIHJvb3QgPSB0cnVlO1xuICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICBpZiAocm9vdCkge1xuICAgICAgcm9vdCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheSh0aGlzKSkgcmV0dXJuIHZhbHVlO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5c0xlbmd0aDsgaisrKSBpZiAoa2V5c1tqXSA9PT0ga2V5KSByZXR1cm4gdmFsdWU7XG4gIH07XG59O1xuIiwidmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcblxuLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoViwgUCkge1xuICB2YXIgZnVuYyA9IFZbUF07XG4gIHJldHVybiBpc051bGxPclVuZGVmaW5lZChmdW5jKSA/IHVuZGVmaW5lZCA6IGFDYWxsYWJsZShmdW5jKTtcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG5cbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVkb3Mvbm8tdnVsbmVyYWJsZSAtLSBzYWZlXG52YXIgU1VCU1RJVFVUSU9OX1NZTUJPTFMgPSAvXFwkKFskJidgXXxcXGR7MSwyfXw8W14+XSo+KS9nO1xudmFyIFNVQlNUSVRVVElPTl9TWU1CT0xTX05PX05BTUVEID0gL1xcJChbJCYnYF18XFxkezEsMn0pL2c7XG5cbi8vIGBHZXRTdWJzdGl0dXRpb25gIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1nZXRzdWJzdGl0dXRpb25cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1hdGNoZWQsIHN0ciwgcG9zaXRpb24sIGNhcHR1cmVzLCBuYW1lZENhcHR1cmVzLCByZXBsYWNlbWVudCkge1xuICB2YXIgdGFpbFBvcyA9IHBvc2l0aW9uICsgbWF0Y2hlZC5sZW5ndGg7XG4gIHZhciBtID0gY2FwdHVyZXMubGVuZ3RoO1xuICB2YXIgc3ltYm9scyA9IFNVQlNUSVRVVElPTl9TWU1CT0xTX05PX05BTUVEO1xuICBpZiAobmFtZWRDYXB0dXJlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbmFtZWRDYXB0dXJlcyA9IHRvT2JqZWN0KG5hbWVkQ2FwdHVyZXMpO1xuICAgIHN5bWJvbHMgPSBTVUJTVElUVVRJT05fU1lNQk9MUztcbiAgfVxuICByZXR1cm4gcmVwbGFjZShyZXBsYWNlbWVudCwgc3ltYm9scywgZnVuY3Rpb24gKG1hdGNoLCBjaCkge1xuICAgIHZhciBjYXB0dXJlO1xuICAgIHN3aXRjaCAoY2hhckF0KGNoLCAwKSkge1xuICAgICAgY2FzZSAnJCc6IHJldHVybiAnJCc7XG4gICAgICBjYXNlICcmJzogcmV0dXJuIG1hdGNoZWQ7XG4gICAgICBjYXNlICdgJzogcmV0dXJuIHN0cmluZ1NsaWNlKHN0ciwgMCwgcG9zaXRpb24pO1xuICAgICAgY2FzZSBcIidcIjogcmV0dXJuIHN0cmluZ1NsaWNlKHN0ciwgdGFpbFBvcyk7XG4gICAgICBjYXNlICc8JzpcbiAgICAgICAgY2FwdHVyZSA9IG5hbWVkQ2FwdHVyZXNbc3RyaW5nU2xpY2UoY2gsIDEsIC0xKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDogLy8gXFxkXFxkP1xuICAgICAgICB2YXIgbiA9ICtjaDtcbiAgICAgICAgaWYgKG4gPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgaWYgKG4gPiBtKSB7XG4gICAgICAgICAgdmFyIGYgPSBmbG9vcihuIC8gMTApO1xuICAgICAgICAgIGlmIChmID09PSAwKSByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgaWYgKGYgPD0gbSkgcmV0dXJuIGNhcHR1cmVzW2YgLSAxXSA9PT0gdW5kZWZpbmVkID8gY2hhckF0KGNoLCAxKSA6IGNhcHR1cmVzW2YgLSAxXSArIGNoYXJBdChjaCwgMSk7XG4gICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIGNhcHR1cmUgPSBjYXB0dXJlc1tuIC0gMV07XG4gICAgfVxuICAgIHJldHVybiBjYXB0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6IGNhcHR1cmU7XG4gIH0pO1xufTtcbiIsInZhciBjaGVjayA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgJiYgaXQuTWF0aCA9PSBNYXRoICYmIGl0O1xufTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbm1vZHVsZS5leHBvcnRzID1cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWdsb2JhbC10aGlzIC0tIHNhZmVcbiAgY2hlY2sodHlwZW9mIGdsb2JhbFRoaXMgPT0gJ29iamVjdCcgJiYgZ2xvYmFsVGhpcykgfHxcbiAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgLS0gc2FmZVxuICBjaGVjayh0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmKSB8fFxuICBjaGVjayh0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gIChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSgpIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKHt9Lmhhc093blByb3BlcnR5KTtcblxuLy8gYEhhc093blByb3BlcnR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaGFzb3ducHJvcGVydHlcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtaGFzb3duIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0Lmhhc093biB8fCBmdW5jdGlvbiBoYXNPd24oaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkodG9PYmplY3QoaXQpLCBrZXkpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHRyeSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUgLS0gc2FmZVxuICAgIGFyZ3VtZW50cy5sZW5ndGggPT0gMSA/IGNvbnNvbGUuZXJyb3IoYSkgOiBjb25zb2xlLmVycm9yKGEsIGIpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG59O1xuIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0QnVpbHRJbignZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtY3JlYXRlLWVsZW1lbnQnKTtcblxuLy8gVGhhbmtzIHRvIElFOCBmb3IgaXRzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFERVNDUklQVE9SUyAmJiAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3JlYXRlRWxlbWVudCgnZGl2JyksICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICB9KS5hICE9IDc7XG59KTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG52YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcygnJy5zcGxpdCk7XG5cbi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG5tb2R1bGUuZXhwb3J0cyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gdGhyb3dzIGFuIGVycm9yIGluIHJoaW5vLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvcmhpbm8vaXNzdWVzLzM0NlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgcmV0dXJuICEkT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCk7XG59KSA/IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY2xhc3NvZihpdCkgPT0gJ1N0cmluZycgPyBzcGxpdChpdCwgJycpIDogJE9iamVjdChpdCk7XG59IDogJE9iamVjdDtcbiIsInZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YnKTtcblxuLy8gbWFrZXMgc3ViY2xhc3Npbmcgd29yayBjb3JyZWN0IGZvciB3cmFwcGVkIGJ1aWx0LWluc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoJHRoaXMsIGR1bW15LCBXcmFwcGVyKSB7XG4gIHZhciBOZXdUYXJnZXQsIE5ld1RhcmdldFByb3RvdHlwZTtcbiAgaWYgKFxuICAgIC8vIGl0IGNhbiB3b3JrIG9ubHkgd2l0aCBuYXRpdmUgYHNldFByb3RvdHlwZU9mYFxuICAgIHNldFByb3RvdHlwZU9mICYmXG4gICAgLy8gd2UgaGF2ZW4ndCBjb21wbGV0ZWx5IGNvcnJlY3QgcHJlLUVTNiB3YXkgZm9yIGdldHRpbmcgYG5ldy50YXJnZXRgLCBzbyB1c2UgdGhpc1xuICAgIGlzQ2FsbGFibGUoTmV3VGFyZ2V0ID0gZHVtbXkuY29uc3RydWN0b3IpICYmXG4gICAgTmV3VGFyZ2V0ICE9PSBXcmFwcGVyICYmXG4gICAgaXNPYmplY3QoTmV3VGFyZ2V0UHJvdG90eXBlID0gTmV3VGFyZ2V0LnByb3RvdHlwZSkgJiZcbiAgICBOZXdUYXJnZXRQcm90b3R5cGUgIT09IFdyYXBwZXIucHJvdG90eXBlXG4gICkgc2V0UHJvdG90eXBlT2YoJHRoaXMsIE5ld1RhcmdldFByb3RvdHlwZSk7XG4gIHJldHVybiAkdGhpcztcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIHN0b3JlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1zdG9yZScpO1xuXG52YXIgZnVuY3Rpb25Ub1N0cmluZyA9IHVuY3VycnlUaGlzKEZ1bmN0aW9uLnRvU3RyaW5nKTtcblxuLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuaWYgKCFpc0NhbGxhYmxlKHN0b3JlLmluc3BlY3RTb3VyY2UpKSB7XG4gIHN0b3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmUuaW5zcGVjdFNvdXJjZTtcbiIsInZhciBOQVRJVkVfV0VBS19NQVAgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2Vhay1tYXAtYmFzaWMtZGV0ZWN0aW9uJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQtc3RvcmUnKTtcbnZhciBzaGFyZWRLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLWtleScpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGlkZGVuLWtleXMnKTtcblxudmFyIE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEID0gJ09iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkJztcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIFdlYWtNYXAgPSBnbG9iYWwuV2Vha01hcDtcbnZhciBzZXQsIGdldCwgaGFzO1xuXG52YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaGFzKGl0KSA/IGdldChpdCkgOiBzZXQoaXQsIHt9KTtcbn07XG5cbnZhciBnZXR0ZXJGb3IgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIGlmICghaXNPYmplY3QoaXQpIHx8IChzdGF0ZSA9IGdldChpdCkpLnR5cGUgIT09IFRZUEUpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICB9IHJldHVybiBzdGF0ZTtcbiAgfTtcbn07XG5cbmlmIChOQVRJVkVfV0VBS19NQVAgfHwgc2hhcmVkLnN0YXRlKSB7XG4gIHZhciBzdG9yZSA9IHNoYXJlZC5zdGF0ZSB8fCAoc2hhcmVkLnN0YXRlID0gbmV3IFdlYWtNYXAoKSk7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduIC0tIHByb3RvdHlwZSBtZXRob2RzIHByb3RlY3Rpb24gKi9cbiAgc3RvcmUuZ2V0ID0gc3RvcmUuZ2V0O1xuICBzdG9yZS5oYXMgPSBzdG9yZS5oYXM7XG4gIHN0b3JlLnNldCA9IHN0b3JlLnNldDtcbiAgLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWFzc2lnbiAtLSBwcm90b3R5cGUgbWV0aG9kcyBwcm90ZWN0aW9uICovXG4gIHNldCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICBpZiAoc3RvcmUuaGFzKGl0KSkgdGhyb3cgVHlwZUVycm9yKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICBtZXRhZGF0YS5mYWNhZGUgPSBpdDtcbiAgICBzdG9yZS5zZXQoaXQsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBzdG9yZS5nZXQoaXQpIHx8IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gc3RvcmUuaGFzKGl0KTtcbiAgfTtcbn0gZWxzZSB7XG4gIHZhciBTVEFURSA9IHNoYXJlZEtleSgnc3RhdGUnKTtcbiAgaGlkZGVuS2V5c1tTVEFURV0gPSB0cnVlO1xuICBzZXQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgaWYgKGhhc093bihpdCwgU1RBVEUpKSB0aHJvdyBUeXBlRXJyb3IoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShpdCwgU1RBVEUsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG4gIH07XG4gIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXNPd24oaXQsIFNUQVRFKSA/IGl0W1NUQVRFXSA6IHt9O1xuICB9O1xuICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaGFzT3duKGl0LCBTVEFURSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldCxcbiAgZ2V0OiBnZXQsXG4gIGhhczogaGFzLFxuICBlbmZvcmNlOiBlbmZvcmNlLFxuICBnZXR0ZXJGb3I6IGdldHRlckZvclxufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBBcnJheVByb3RvdHlwZSA9IEFycmF5LnByb3RvdHlwZTtcblxuLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b3R5cGVbSVRFUkFUT1JdID09PSBpdCk7XG59O1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZi1yYXcnKTtcblxuLy8gYElzQXJyYXlgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktaXNhcnJheSAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmd1bWVudCkge1xuICByZXR1cm4gY2xhc3NvZihhcmd1bWVudCkgPT0gJ0FycmF5Jztcbn07XG4iLCJ2YXIgJGRvY3VtZW50QWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWFsbCcpO1xuXG52YXIgZG9jdW1lbnRBbGwgPSAkZG9jdW1lbnRBbGwuYWxsO1xuXG4vLyBgSXNDYWxsYWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbm1vZHVsZS5leHBvcnRzID0gJGRvY3VtZW50QWxsLklTX0hUTUxEREEgPyBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PSAnZnVuY3Rpb24nIHx8IGFyZ3VtZW50ID09PSBkb2N1bWVudEFsbDtcbn0gOiBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PSAnZnVuY3Rpb24nO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGluc3BlY3RTb3VyY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5zcGVjdC1zb3VyY2UnKTtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgZW1wdHkgPSBbXTtcbnZhciBjb25zdHJ1Y3QgPSBnZXRCdWlsdEluKCdSZWZsZWN0JywgJ2NvbnN0cnVjdCcpO1xudmFyIGNvbnN0cnVjdG9yUmVnRXhwID0gL15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLztcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoY29uc3RydWN0b3JSZWdFeHAuZXhlYyk7XG52YXIgSU5DT1JSRUNUX1RPX1NUUklORyA9ICFjb25zdHJ1Y3RvclJlZ0V4cC5leGVjKG5vb3ApO1xuXG52YXIgaXNDb25zdHJ1Y3Rvck1vZGVybiA9IGZ1bmN0aW9uIGlzQ29uc3RydWN0b3IoYXJndW1lbnQpIHtcbiAgaWYgKCFpc0NhbGxhYmxlKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0cnVjdChub29wLCBlbXB0eSwgYXJndW1lbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxudmFyIGlzQ29uc3RydWN0b3JMZWdhY3kgPSBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gIGlmICghaXNDYWxsYWJsZShhcmd1bWVudCkpIHJldHVybiBmYWxzZTtcbiAgc3dpdGNoIChjbGFzc29mKGFyZ3VtZW50KSkge1xuICAgIGNhc2UgJ0FzeW5jRnVuY3Rpb24nOlxuICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICBjYXNlICdBc3luY0dlbmVyYXRvckZ1bmN0aW9uJzogcmV0dXJuIGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gd2UgY2FuJ3QgY2hlY2sgLnByb3RvdHlwZSBzaW5jZSBjb25zdHJ1Y3RvcnMgcHJvZHVjZWQgYnkgLmJpbmQgaGF2ZW4ndCBpdFxuICAgIC8vIGBGdW5jdGlvbiN0b1N0cmluZ2AgdGhyb3dzIG9uIHNvbWUgYnVpbHQtaXQgZnVuY3Rpb24gaW4gc29tZSBsZWdhY3kgZW5naW5lc1xuICAgIC8vIChmb3IgZXhhbXBsZSwgYERPTVF1YWRgIGFuZCBzaW1pbGFyIGluIEZGNDEtKVxuICAgIHJldHVybiBJTkNPUlJFQ1RfVE9fU1RSSU5HIHx8ICEhZXhlYyhjb25zdHJ1Y3RvclJlZ0V4cCwgaW5zcGVjdFNvdXJjZShhcmd1bWVudCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5pc0NvbnN0cnVjdG9yTGVnYWN5LnNoYW0gPSB0cnVlO1xuXG4vLyBgSXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3Jcbm1vZHVsZS5leHBvcnRzID0gIWNvbnN0cnVjdCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBjYWxsZWQ7XG4gIHJldHVybiBpc0NvbnN0cnVjdG9yTW9kZXJuKGlzQ29uc3RydWN0b3JNb2Rlcm4uY2FsbClcbiAgICB8fCAhaXNDb25zdHJ1Y3Rvck1vZGVybihPYmplY3QpXG4gICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlOyB9KVxuICAgIHx8IGNhbGxlZDtcbn0pID8gaXNDb25zdHJ1Y3RvckxlZ2FjeSA6IGlzQ29uc3RydWN0b3JNb2Rlcm47XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciByZXBsYWNlbWVudCA9IC8jfFxcLnByb3RvdHlwZVxcLi87XG5cbnZhciBpc0ZvcmNlZCA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcbiAgdmFyIHZhbHVlID0gZGF0YVtub3JtYWxpemUoZmVhdHVyZSldO1xuICByZXR1cm4gdmFsdWUgPT0gUE9MWUZJTEwgPyB0cnVlXG4gICAgOiB2YWx1ZSA9PSBOQVRJVkUgPyBmYWxzZVxuICAgIDogaXNDYWxsYWJsZShkZXRlY3Rpb24pID8gZmFpbHMoZGV0ZWN0aW9uKVxuICAgIDogISFkZXRlY3Rpb247XG59O1xuXG52YXIgbm9ybWFsaXplID0gaXNGb3JjZWQubm9ybWFsaXplID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZShyZXBsYWNlbWVudCwgJy4nKS50b0xvd2VyQ2FzZSgpO1xufTtcblxudmFyIGRhdGEgPSBpc0ZvcmNlZC5kYXRhID0ge307XG52YXIgTkFUSVZFID0gaXNGb3JjZWQuTkFUSVZFID0gJ04nO1xudmFyIFBPTFlGSUxMID0gaXNGb3JjZWQuUE9MWUZJTEwgPSAnUCc7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGb3JjZWQ7XG4iLCIvLyB3ZSBjYW4ndCB1c2UganVzdCBgaXQgPT0gbnVsbGAgc2luY2Ugb2YgYGRvY3VtZW50LmFsbGAgc3BlY2lhbCBjYXNlXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLUlzSFRNTEREQS1pbnRlcm5hbC1zbG90LWFlY1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID09PSBudWxsIHx8IGl0ID09PSB1bmRlZmluZWQ7XG59O1xuIiwidmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciAkZG9jdW1lbnRBbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZG9jdW1lbnQtYWxsJyk7XG5cbnZhciBkb2N1bWVudEFsbCA9ICRkb2N1bWVudEFsbC5hbGw7XG5cbm1vZHVsZS5leHBvcnRzID0gJGRvY3VtZW50QWxsLklTX0hUTUxEREEgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogaXNDYWxsYWJsZShpdCkgfHwgaXQgPT09IGRvY3VtZW50QWxsO1xufSA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdHlwZW9mIGl0ID09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiBpc0NhbGxhYmxlKGl0KTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIFVTRV9TWU1CT0xfQVNfVUlEID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VzZS1zeW1ib2wtYXMtdWlkJyk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVTRV9TWU1CT0xfQVNfVUlEID8gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24gKGl0KSB7XG4gIHZhciAkU3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJyk7XG4gIHJldHVybiBpc0NhbGxhYmxlKCRTeW1ib2wpICYmIGlzUHJvdG90eXBlT2YoJFN5bWJvbC5wcm90b3R5cGUsICRPYmplY3QoaXQpKTtcbn07XG4iLCJ2YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0cnlUb1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90cnktdG8tc3RyaW5nJyk7XG52YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgZ2V0SXRlcmF0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yJyk7XG52YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpO1xudmFyIGl0ZXJhdG9yQ2xvc2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY2xvc2UnKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbnZhciBSZXN1bHQgPSBmdW5jdGlvbiAoc3RvcHBlZCwgcmVzdWx0KSB7XG4gIHRoaXMuc3RvcHBlZCA9IHN0b3BwZWQ7XG4gIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xufTtcblxudmFyIFJlc3VsdFByb3RvdHlwZSA9IFJlc3VsdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSBvcHRpb25zICYmIG9wdGlvbnMudGhhdDtcbiAgdmFyIEFTX0VOVFJJRVMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuQVNfRU5UUklFUyk7XG4gIHZhciBJU19SRUNPUkQgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSVNfUkVDT1JEKTtcbiAgdmFyIElTX0lURVJBVE9SID0gISEob3B0aW9ucyAmJiBvcHRpb25zLklTX0lURVJBVE9SKTtcbiAgdmFyIElOVEVSUlVQVEVEID0gISEob3B0aW9ucyAmJiBvcHRpb25zLklOVEVSUlVQVEVEKTtcbiAgdmFyIGZuID0gYmluZCh1bmJvdW5kRnVuY3Rpb24sIHRoYXQpO1xuICB2YXIgaXRlcmF0b3IsIGl0ZXJGbiwgaW5kZXgsIGxlbmd0aCwgcmVzdWx0LCBuZXh0LCBzdGVwO1xuXG4gIHZhciBzdG9wID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgIGlmIChpdGVyYXRvcikgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ25vcm1hbCcsIGNvbmRpdGlvbik7XG4gICAgcmV0dXJuIG5ldyBSZXN1bHQodHJ1ZSwgY29uZGl0aW9uKTtcbiAgfTtcblxuICB2YXIgY2FsbEZuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKEFTX0VOVFJJRVMpIHtcbiAgICAgIGFuT2JqZWN0KHZhbHVlKTtcbiAgICAgIHJldHVybiBJTlRFUlJVUFRFRCA/IGZuKHZhbHVlWzBdLCB2YWx1ZVsxXSwgc3RvcCkgOiBmbih2YWx1ZVswXSwgdmFsdWVbMV0pO1xuICAgIH0gcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWUsIHN0b3ApIDogZm4odmFsdWUpO1xuICB9O1xuXG4gIGlmIChJU19SRUNPUkQpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhYmxlLml0ZXJhdG9yO1xuICB9IGVsc2UgaWYgKElTX0lURVJBVE9SKSB7XG4gICAgaXRlcmF0b3IgPSBpdGVyYWJsZTtcbiAgfSBlbHNlIHtcbiAgICBpdGVyRm4gPSBnZXRJdGVyYXRvck1ldGhvZChpdGVyYWJsZSk7XG4gICAgaWYgKCFpdGVyRm4pIHRocm93ICRUeXBlRXJyb3IodHJ5VG9TdHJpbmcoaXRlcmFibGUpICsgJyBpcyBub3QgaXRlcmFibGUnKTtcbiAgICAvLyBvcHRpbWlzYXRpb24gZm9yIGFycmF5IGl0ZXJhdG9yc1xuICAgIGlmIChpc0FycmF5SXRlcmF0b3JNZXRob2QoaXRlckZuKSkge1xuICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKGl0ZXJhYmxlKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgcmVzdWx0ID0gY2FsbEZuKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgaXNQcm90b3R5cGVPZihSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICB9IHJldHVybiBuZXcgUmVzdWx0KGZhbHNlKTtcbiAgICB9XG4gICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSwgaXRlckZuKTtcbiAgfVxuXG4gIG5leHQgPSBJU19SRUNPUkQgPyBpdGVyYWJsZS5uZXh0IDogaXRlcmF0b3IubmV4dDtcbiAgd2hpbGUgKCEoc3RlcCA9IGNhbGwobmV4dCwgaXRlcmF0b3IpKS5kb25lKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGNhbGxGbihzdGVwLnZhbHVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PSAnb2JqZWN0JyAmJiByZXN1bHQgJiYgaXNQcm90b3R5cGVPZihSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xufTtcbiIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYXRvciwga2luZCwgdmFsdWUpIHtcbiAgdmFyIGlubmVyUmVzdWx0LCBpbm5lckVycm9yO1xuICBhbk9iamVjdChpdGVyYXRvcik7XG4gIHRyeSB7XG4gICAgaW5uZXJSZXN1bHQgPSBnZXRNZXRob2QoaXRlcmF0b3IsICdyZXR1cm4nKTtcbiAgICBpZiAoIWlubmVyUmVzdWx0KSB7XG4gICAgICBpZiAoa2luZCA9PT0gJ3Rocm93JykgdGhyb3cgdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlubmVyUmVzdWx0ID0gY2FsbChpbm5lclJlc3VsdCwgaXRlcmF0b3IpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlubmVyRXJyb3IgPSB0cnVlO1xuICAgIGlubmVyUmVzdWx0ID0gZXJyb3I7XG4gIH1cbiAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICBpZiAoaW5uZXJFcnJvcikgdGhyb3cgaW5uZXJSZXN1bHQ7XG4gIGFuT2JqZWN0KGlubmVyUmVzdWx0KTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBJdGVyYXRvclByb3RvdHlwZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMtY29yZScpLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1wcm9wZXJ0eS1kZXNjcmlwdG9yJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzJyk7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoSXRlcmF0b3JDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCwgRU5VTUVSQUJMRV9ORVhUKSB7XG4gIHZhciBUT19TVFJJTkdfVEFHID0gTkFNRSArICcgSXRlcmF0b3InO1xuICBJdGVyYXRvckNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IGNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoKyFFTlVNRVJBQkxFX05FWFQsIG5leHQpIH0pO1xuICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvckNvbnN0cnVjdG9yLCBUT19TVFJJTkdfVEFHLCBmYWxzZSwgdHJ1ZSk7XG4gIEl0ZXJhdG9yc1tUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXM7XG4gIHJldHVybiBJdGVyYXRvckNvbnN0cnVjdG9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xudmFyIEZ1bmN0aW9uTmFtZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItY3JlYXRlLWNvbnN0cnVjdG9yJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YnKTtcbnZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3Qtc2V0LXByb3RvdHlwZS1vZicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1ub24tZW51bWVyYWJsZS1wcm9wZXJ0eScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9ycycpO1xudmFyIEl0ZXJhdG9yc0NvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3JzLWNvcmUnKTtcblxudmFyIFBST1BFUl9GVU5DVElPTl9OQU1FID0gRnVuY3Rpb25OYW1lLlBST1BFUjtcbnZhciBDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSA9IEZ1bmN0aW9uTmFtZS5DT05GSUdVUkFCTEU7XG52YXIgSXRlcmF0b3JQcm90b3R5cGUgPSBJdGVyYXRvcnNDb3JlLkl0ZXJhdG9yUHJvdG90eXBlO1xudmFyIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgPSBJdGVyYXRvcnNDb3JlLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlM7XG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgS0VZUyA9ICdrZXlzJztcbnZhciBWQUxVRVMgPSAndmFsdWVzJztcbnZhciBFTlRSSUVTID0gJ2VudHJpZXMnO1xuXG52YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEl0ZXJhYmxlLCBOQU1FLCBJdGVyYXRvckNvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXG4gIHZhciBnZXRJdGVyYXRpb25NZXRob2QgPSBmdW5jdGlvbiAoS0lORCkge1xuICAgIGlmIChLSU5EID09PSBERUZBVUxUICYmIGRlZmF1bHRJdGVyYXRvcikgcmV0dXJuIGRlZmF1bHRJdGVyYXRvcjtcbiAgICBpZiAoIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgS0lORCBpbiBJdGVyYWJsZVByb3RvdHlwZSkgcmV0dXJuIEl0ZXJhYmxlUHJvdG90eXBlW0tJTkRdO1xuICAgIHN3aXRjaCAoS0lORCkge1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMsIEtJTkQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIGNhc2UgRU5UUklFUzogcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzKTsgfTtcbiAgfTtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIElOQ09SUkVDVF9WQUxVRVNfTkFNRSA9IGZhbHNlO1xuICB2YXIgSXRlcmFibGVQcm90b3R5cGUgPSBJdGVyYWJsZS5wcm90b3R5cGU7XG4gIHZhciBuYXRpdmVJdGVyYXRvciA9IEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SXVxuICAgIHx8IEl0ZXJhYmxlUHJvdG90eXBlWydAQGl0ZXJhdG9yJ11cbiAgICB8fCBERUZBVUxUICYmIEl0ZXJhYmxlUHJvdG90eXBlW0RFRkFVTFRdO1xuICB2YXIgZGVmYXVsdEl0ZXJhdG9yID0gIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgbmF0aXZlSXRlcmF0b3IgfHwgZ2V0SXRlcmF0aW9uTWV0aG9kKERFRkFVTFQpO1xuICB2YXIgYW55TmF0aXZlSXRlcmF0b3IgPSBOQU1FID09ICdBcnJheScgPyBJdGVyYWJsZVByb3RvdHlwZS5lbnRyaWVzIHx8IG5hdGl2ZUl0ZXJhdG9yIDogbmF0aXZlSXRlcmF0b3I7XG4gIHZhciBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIG1ldGhvZHMsIEtFWTtcblxuICAvLyBmaXggbmF0aXZlXG4gIGlmIChhbnlOYXRpdmVJdGVyYXRvcikge1xuICAgIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGFueU5hdGl2ZUl0ZXJhdG9yLmNhbGwobmV3IEl0ZXJhYmxlKCkpKTtcbiAgICBpZiAoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlICYmIEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZS5uZXh0KSB7XG4gICAgICBpZiAoIUlTX1BVUkUgJiYgZ2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlKSAhPT0gSXRlcmF0b3JQcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKHNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgc2V0UHJvdG90eXBlT2YoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBJdGVyYXRvclByb3RvdHlwZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXSkpIHtcbiAgICAgICAgICBkZWZpbmVCdWlsdEluKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUsIFRPX1NUUklOR19UQUcsIHRydWUsIHRydWUpO1xuICAgICAgaWYgKElTX1BVUkUpIEl0ZXJhdG9yc1tUT19TVFJJTkdfVEFHXSA9IHJldHVyblRoaXM7XG4gICAgfVxuICB9XG5cbiAgLy8gZml4IEFycmF5LnByb3RvdHlwZS57IHZhbHVlcywgQEBpdGVyYXRvciB9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoUFJPUEVSX0ZVTkNUSU9OX05BTUUgJiYgREVGQVVMVCA9PSBWQUxVRVMgJiYgbmF0aXZlSXRlcmF0b3IgJiYgbmF0aXZlSXRlcmF0b3IubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgaWYgKCFJU19QVVJFICYmIENPTkZJR1VSQUJMRV9GVU5DVElPTl9OQU1FKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoSXRlcmFibGVQcm90b3R5cGUsICduYW1lJywgVkFMVUVTKTtcbiAgICB9IGVsc2Uge1xuICAgICAgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gdHJ1ZTtcbiAgICAgIGRlZmF1bHRJdGVyYXRvciA9IGZ1bmN0aW9uIHZhbHVlcygpIHsgcmV0dXJuIGNhbGwobmF0aXZlSXRlcmF0b3IsIHRoaXMpOyB9O1xuICAgIH1cbiAgfVxuXG4gIC8vIGV4cG9ydCBhZGRpdGlvbmFsIG1ldGhvZHNcbiAgaWYgKERFRkFVTFQpIHtcbiAgICBtZXRob2RzID0ge1xuICAgICAgdmFsdWVzOiBnZXRJdGVyYXRpb25NZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6IElTX1NFVCA/IGRlZmF1bHRJdGVyYXRvciA6IGdldEl0ZXJhdGlvbk1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6IGdldEl0ZXJhdGlvbk1ldGhvZChFTlRSSUVTKVxuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChLRVkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIHx8ICEoS0VZIGluIEl0ZXJhYmxlUHJvdG90eXBlKSkge1xuICAgICAgICBkZWZpbmVCdWlsdEluKEl0ZXJhYmxlUHJvdG90eXBlLCBLRVksIG1ldGhvZHNbS0VZXSk7XG4gICAgICB9XG4gICAgfSBlbHNlICQoeyB0YXJnZXQ6IE5BTUUsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIH0sIG1ldGhvZHMpO1xuICB9XG5cbiAgLy8gZGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUlTX1BVUkUgfHwgRk9SQ0VEKSAmJiBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl0gIT09IGRlZmF1bHRJdGVyYXRvcikge1xuICAgIGRlZmluZUJ1aWx0SW4oSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SLCBkZWZhdWx0SXRlcmF0b3IsIHsgbmFtZTogREVGQVVMVCB9KTtcbiAgfVxuICBJdGVyYXRvcnNbTkFNRV0gPSBkZWZhdWx0SXRlcmF0b3I7XG5cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1wcm90b3R5cGUtb2YnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIElTX1BVUkUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtcHVyZScpO1xuXG52YXIgSVRFUkFUT1IgPSB3ZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG52YXIgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IGZhbHNlO1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJWAgb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVpdGVyYXRvcnByb3RvdHlwZSUtb2JqZWN0XG52YXIgSXRlcmF0b3JQcm90b3R5cGUsIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSwgYXJyYXlJdGVyYXRvcjtcblxuLyogZXNsaW50LWRpc2FibGUgZXMvbm8tYXJyYXktcHJvdG90eXBlLWtleXMgLS0gc2FmZSAqL1xuaWYgKFtdLmtleXMpIHtcbiAgYXJyYXlJdGVyYXRvciA9IFtdLmtleXMoKTtcbiAgLy8gU2FmYXJpIDggaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gIGlmICghKCduZXh0JyBpbiBhcnJheUl0ZXJhdG9yKSkgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IHRydWU7XG4gIGVsc2Uge1xuICAgIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKGdldFByb3RvdHlwZU9mKGFycmF5SXRlcmF0b3IpKTtcbiAgICBpZiAoUHJvdG90eXBlT2ZBcnJheUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKSBJdGVyYXRvclByb3RvdHlwZSA9IFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZTtcbiAgfVxufVxuXG52YXIgTkVXX0lURVJBVE9SX1BST1RPVFlQRSA9ICFpc09iamVjdChJdGVyYXRvclByb3RvdHlwZSkgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgdGVzdCA9IHt9O1xuICAvLyBGRjQ0LSBsZWdhY3kgaXRlcmF0b3JzIGNhc2VcbiAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlW0lURVJBVE9SXS5jYWxsKHRlc3QpICE9PSB0ZXN0O1xufSk7XG5cbmlmIChORVdfSVRFUkFUT1JfUFJPVE9UWVBFKSBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuZWxzZSBpZiAoSVNfUFVSRSkgSXRlcmF0b3JQcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUpO1xuXG4vLyBgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG5pZiAoIWlzQ2FsbGFibGUoSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdKSkge1xuICBkZWZpbmVCdWlsdEluKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEl0ZXJhdG9yUHJvdG90eXBlOiBJdGVyYXRvclByb3RvdHlwZSxcbiAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SU1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG4iLCJ2YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG5cbi8vIGBMZW5ndGhPZkFycmF5TGlrZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWxlbmd0aG9mYXJyYXlsaWtlXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHRvTGVuZ3RoKG9iai5sZW5ndGgpO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgQ09ORklHVVJBQkxFX0ZVTkNUSU9OX05BTUUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZScpLkNPTkZJR1VSQUJMRTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgZW5mb3JjZUludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmVuZm9yY2U7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0O1xudmFyICRTdHJpbmcgPSBTdHJpbmc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgam9pbiA9IHVuY3VycnlUaGlzKFtdLmpvaW4pO1xuXG52YXIgQ09ORklHVVJBQkxFX0xFTkdUSCA9IERFU0NSSVBUT1JTICYmICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdsZW5ndGgnLCB7IHZhbHVlOiA4IH0pLmxlbmd0aCAhPT0gODtcbn0pO1xuXG52YXIgVEVNUExBVEUgPSBTdHJpbmcoU3RyaW5nKS5zcGxpdCgnU3RyaW5nJyk7XG5cbnZhciBtYWtlQnVpbHRJbiA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlLCBuYW1lLCBvcHRpb25zKSB7XG4gIGlmIChzdHJpbmdTbGljZSgkU3RyaW5nKG5hbWUpLCAwLCA3KSA9PT0gJ1N5bWJvbCgnKSB7XG4gICAgbmFtZSA9ICdbJyArIHJlcGxhY2UoJFN0cmluZyhuYW1lKSwgL15TeW1ib2xcXCgoW14pXSopXFwpLywgJyQxJykgKyAnXSc7XG4gIH1cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nZXR0ZXIpIG5hbWUgPSAnZ2V0ICcgKyBuYW1lO1xuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNldHRlcikgbmFtZSA9ICdzZXQgJyArIG5hbWU7XG4gIGlmICghaGFzT3duKHZhbHVlLCAnbmFtZScpIHx8IChDT05GSUdVUkFCTEVfRlVOQ1RJT05fTkFNRSAmJiB2YWx1ZS5uYW1lICE9PSBuYW1lKSkge1xuICAgIGlmIChERVNDUklQVE9SUykgZGVmaW5lUHJvcGVydHkodmFsdWUsICduYW1lJywgeyB2YWx1ZTogbmFtZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuICAgIGVsc2UgdmFsdWUubmFtZSA9IG5hbWU7XG4gIH1cbiAgaWYgKENPTkZJR1VSQUJMRV9MRU5HVEggJiYgb3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgJ2FyaXR5JykgJiYgdmFsdWUubGVuZ3RoICE9PSBvcHRpb25zLmFyaXR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkodmFsdWUsICdsZW5ndGgnLCB7IHZhbHVlOiBvcHRpb25zLmFyaXR5IH0pO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsICdjb25zdHJ1Y3RvcicpICYmIG9wdGlvbnMuY29uc3RydWN0b3IpIHtcbiAgICAgIGlmIChERVNDUklQVE9SUykgZGVmaW5lUHJvcGVydHkodmFsdWUsICdwcm90b3R5cGUnLCB7IHdyaXRhYmxlOiBmYWxzZSB9KTtcbiAgICAvLyBpbiBWOCB+IENocm9tZSA1MywgcHJvdG90eXBlcyBvZiBzb21lIG1ldGhvZHMsIGxpa2UgYEFycmF5LnByb3RvdHlwZS52YWx1ZXNgLCBhcmUgbm9uLXdyaXRhYmxlXG4gICAgfSBlbHNlIGlmICh2YWx1ZS5wcm90b3R5cGUpIHZhbHVlLnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICB2YXIgc3RhdGUgPSBlbmZvcmNlSW50ZXJuYWxTdGF0ZSh2YWx1ZSk7XG4gIGlmICghaGFzT3duKHN0YXRlLCAnc291cmNlJykpIHtcbiAgICBzdGF0ZS5zb3VyY2UgPSBqb2luKFRFTVBMQVRFLCB0eXBlb2YgbmFtZSA9PSAnc3RyaW5nJyA/IG5hbWUgOiAnJyk7XG4gIH0gcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcgZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0ZW5kLW5hdGl2ZSAtLSByZXF1aXJlZFxuRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gbWFrZUJ1aWx0SW4oZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiBpc0NhbGxhYmxlKHRoaXMpICYmIGdldEludGVybmFsU3RhdGUodGhpcykuc291cmNlIHx8IGluc3BlY3RTb3VyY2UodGhpcyk7XG59LCAndG9TdHJpbmcnKTtcbiIsInZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuLy8gYE1hdGgudHJ1bmNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXRoLnRydW5jXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tbWF0aC10cnVuYyAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICB2YXIgbiA9ICt4O1xuICByZXR1cm4gKG4gPiAwID8gZmxvb3IgOiBjZWlsKShuKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0Jyk7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InKS5mO1xudmFyIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90YXNrJykuc2V0O1xudmFyIFF1ZXVlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3F1ZXVlJyk7XG52YXIgSVNfSU9TID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MnKTtcbnZhciBJU19JT1NfUEVCQkxFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1pb3MtcGViYmxlJyk7XG52YXIgSVNfV0VCT1NfV0VCS0lUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy13ZWJvcy13ZWJraXQnKTtcbnZhciBJU19OT0RFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlJyk7XG5cbnZhciBNdXRhdGlvbk9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgZG9jdW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQ7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIFByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbi8vIE5vZGUuanMgMTEgc2hvd3MgRXhwZXJpbWVudGFsV2FybmluZyBvbiBnZXR0aW5nIGBxdWV1ZU1pY3JvdGFza2BcbnZhciBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsLCAncXVldWVNaWNyb3Rhc2snKTtcbnZhciBtaWNyb3Rhc2sgPSBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgJiYgcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yLnZhbHVlO1xudmFyIG5vdGlmeSwgdG9nZ2xlLCBub2RlLCBwcm9taXNlLCB0aGVuO1xuXG4vLyBtb2Rlcm4gZW5naW5lcyBoYXZlIHF1ZXVlTWljcm90YXNrIG1ldGhvZFxuaWYgKCFtaWNyb3Rhc2spIHtcbiAgdmFyIHF1ZXVlID0gbmV3IFF1ZXVlKCk7XG5cbiAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmIChJU19OT0RFICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpIHBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUgKGZuID0gcXVldWUuZ2V0KCkpIHRyeSB7XG4gICAgICBmbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAocXVldWUuaGVhZCkgbm90aWZ5KCk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyLCBleGNlcHQgaU9TIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzMzOVxuICAvLyBhbHNvIGV4Y2VwdCBXZWJPUyBXZWJraXQgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg5OFxuICBpZiAoIUlTX0lPUyAmJiAhSVNfTk9ERSAmJiAhSVNfV0VCT1NfV0VCS0lUICYmIE11dGF0aW9uT2JzZXJ2ZXIgJiYgZG9jdW1lbnQpIHtcbiAgICB0b2dnbGUgPSB0cnVlO1xuICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwgeyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH0pO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmICghSVNfSU9TX1BFQkJMRSAmJiBQcm9taXNlICYmIFByb21pc2UucmVzb2x2ZSkge1xuICAgIC8vIFByb21pc2UucmVzb2x2ZSB3aXRob3V0IGFuIGFyZ3VtZW50IHRocm93cyBhbiBlcnJvciBpbiBMRyBXZWJPUyAyXG4gICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIC8vIHdvcmthcm91bmQgb2YgV2ViS2l0IH4gaU9TIFNhZmFyaSAxMC4xIGJ1Z1xuICAgIHByb21pc2UuY29uc3RydWN0b3IgPSBQcm9taXNlO1xuICAgIHRoZW4gPSBiaW5kKHByb21pc2UudGhlbiwgcHJvbWlzZSk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gTm9kZS5qcyB3aXRob3V0IHByb21pc2VzXG4gIH0gZWxzZSBpZiAoSVNfTk9ERSkge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ2VcbiAgLy8gLSBvbnJlYWR5c3RhdGVjaGFuZ2VcbiAgLy8gLSBzZXRUaW1lb3V0XG4gIH0gZWxzZSB7XG4gICAgLy8gYHdlYnBhY2tgIGRldiBzZXJ2ZXIgYnVnIG9uIElFIGdsb2JhbCBtZXRob2RzIC0gdXNlIGJpbmQoZm4sIGdsb2JhbClcbiAgICBtYWNyb3Rhc2sgPSBiaW5kKG1hY3JvdGFzaywgZ2xvYmFsKTtcbiAgICBub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBtYWNyb3Rhc2soZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICBtaWNyb3Rhc2sgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICBpZiAoIXF1ZXVlLmhlYWQpIG5vdGlmeSgpO1xuICAgIHF1ZXVlLmFkZChmbik7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWljcm90YXNrO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93ICRUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFDYWxsYWJsZShyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgPSBhQ2FsbGFibGUocmVqZWN0KTtcbn07XG5cbi8vIGBOZXdQcm9taXNlQ2FwYWJpbGl0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW5ld3Byb21pc2VjYXBhYmlsaXR5XG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktc3ltYm9scycpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbmRleGVkLW9iamVjdCcpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWFzc2lnbiAtLSBzYWZlXG52YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMoW10uY29uY2F0KTtcblxuLy8gYE9iamVjdC5hc3NpZ25gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG5tb2R1bGUuZXhwb3J0cyA9ICEkYXNzaWduIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gc2hvdWxkIGhhdmUgY29ycmVjdCBvcmRlciBvZiBvcGVyYXRpb25zIChFZGdlIGJ1ZylcbiAgaWYgKERFU0NSSVBUT1JTICYmICRhc3NpZ24oeyBiOiAxIH0sICRhc3NpZ24oZGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYicsIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pLCB7IGI6IDIgfSkpLmIgIT09IDEpIHJldHVybiB0cnVlO1xuICAvLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1ZylcbiAgdmFyIEEgPSB7fTtcbiAgdmFyIEIgPSB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLXN5bWJvbCAtLSBzYWZlXG4gIHZhciBzeW1ib2wgPSBTeW1ib2woKTtcbiAgdmFyIGFscGhhYmV0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0JztcbiAgQVtzeW1ib2xdID0gNztcbiAgYWxwaGFiZXQuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGNocikgeyBCW2Nocl0gPSBjaHI7IH0pO1xuICByZXR1cm4gJGFzc2lnbih7fSwgQSlbc3ltYm9sXSAhPSA3IHx8IG9iamVjdEtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IGFscGhhYmV0O1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIHZhciBpbmRleCA9IDE7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZjtcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbiAgd2hpbGUgKGFyZ3VtZW50c0xlbmd0aCA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJbmRleGVkT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQob2JqZWN0S2V5cyhTKSwgZ2V0T3duUHJvcGVydHlTeW1ib2xzKFMpKSA6IG9iamVjdEtleXMoUyk7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBqID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBqKSB7XG4gICAgICBrZXkgPSBrZXlzW2orK107XG4gICAgICBpZiAoIURFU0NSSVBUT1JTIHx8IGNhbGwocHJvcGVydHlJc0VudW1lcmFibGUsIFMsIGtleSkpIFRba2V5XSA9IFNba2V5XTtcbiAgICB9XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcbiIsIi8qIGdsb2JhbCBBY3RpdmVYT2JqZWN0IC0tIG9sZCBJRSwgV1NIICovXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgZGVmaW5lUHJvcGVydGllc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbnVtLWJ1Zy1rZXlzJyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaHRtbCcpO1xudmFyIGRvY3VtZW50Q3JlYXRlRWxlbWVudCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb2N1bWVudC1jcmVhdGUtZWxlbWVudCcpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG5cbnZhciBHVCA9ICc+JztcbnZhciBMVCA9ICc8JztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcbnZhciBTQ1JJUFQgPSAnc2NyaXB0JztcbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcblxudmFyIEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cbnZhciBzY3JpcHRUYWcgPSBmdW5jdGlvbiAoY29udGVudCkge1xuICByZXR1cm4gTFQgKyBTQ1JJUFQgKyBHVCArIGNvbnRlbnQgKyBMVCArICcvJyArIFNDUklQVCArIEdUO1xufTtcblxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIEFjdGl2ZVggT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYID0gZnVuY3Rpb24gKGFjdGl2ZVhEb2N1bWVudCkge1xuICBhY3RpdmVYRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCcnKSk7XG4gIGFjdGl2ZVhEb2N1bWVudC5jbG9zZSgpO1xuICB2YXIgdGVtcCA9IGFjdGl2ZVhEb2N1bWVudC5wYXJlbnRXaW5kb3cuT2JqZWN0O1xuICBhY3RpdmVYRG9jdW1lbnQgPSBudWxsOyAvLyBhdm9pZCBtZW1vcnkgbGVha1xuICByZXR1cm4gdGVtcDtcbn07XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBOdWxsUHJvdG9PYmplY3RWaWFJRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXG4gIHZhciBpZnJhbWUgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICB2YXIgSlMgPSAnamF2YScgKyBTQ1JJUFQgKyAnOic7XG4gIHZhciBpZnJhbWVEb2N1bWVudDtcbiAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIGh0bWwuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICBpZnJhbWUuc3JjID0gU3RyaW5nKEpTKTtcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICBpZnJhbWVEb2N1bWVudC53cml0ZShzY3JpcHRUYWcoJ2RvY3VtZW50LkY9T2JqZWN0JykpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbn07XG5cbi8vIENoZWNrIGZvciBkb2N1bWVudC5kb21haW4gYW5kIGFjdGl2ZSB4IHN1cHBvcnRcbi8vIE5vIG5lZWQgdG8gdXNlIGFjdGl2ZSB4IGFwcHJvYWNoIHdoZW4gZG9jdW1lbnQuZG9tYWluIGlzIG5vdCBzZXRcbi8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW0vaXNzdWVzLzE1MFxuLy8gdmFyaWF0aW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9raXRjYW1icmlkZ2UvZXM1LXNoaW0vY29tbWl0LzRmNzM4YWMwNjYzNDZcbi8vIGF2b2lkIElFIEdDIGJ1Z1xudmFyIGFjdGl2ZVhEb2N1bWVudDtcbnZhciBOdWxsUHJvdG9PYmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRyeSB7XG4gICAgYWN0aXZlWERvY3VtZW50ID0gbmV3IEFjdGl2ZVhPYmplY3QoJ2h0bWxmaWxlJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGlnbm9yZSAqLyB9XG4gIE51bGxQcm90b09iamVjdCA9IHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJ1xuICAgID8gZG9jdW1lbnQuZG9tYWluICYmIGFjdGl2ZVhEb2N1bWVudFxuICAgICAgPyBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCkgLy8gb2xkIElFXG4gICAgICA6IE51bGxQcm90b09iamVjdFZpYUlGcmFtZSgpXG4gICAgOiBOdWxsUHJvdG9PYmplY3RWaWFBY3RpdmVYKGFjdGl2ZVhEb2N1bWVudCk7IC8vIFdTSFxuICB2YXIgbGVuZ3RoID0gZW51bUJ1Z0tleXMubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIGRlbGV0ZSBOdWxsUHJvdG9PYmplY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tsZW5ndGhdXTtcbiAgcmV0dXJuIE51bGxQcm90b09iamVjdCgpO1xufTtcblxuaGlkZGVuS2V5c1tJRV9QUk9UT10gPSB0cnVlO1xuXG4vLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5jcmVhdGVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtY3JlYXRlIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcykge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoTyAhPT0gbnVsbCkge1xuICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xuICAgIHJlc3VsdCA9IG5ldyBFbXB0eUNvbnN0cnVjdG9yKCk7XG4gICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEVdID0gbnVsbDtcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XG4gIH0gZWxzZSByZXN1bHQgPSBOdWxsUHJvdG9PYmplY3QoKTtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IGRlZmluZVByb3BlcnRpZXNNb2R1bGUuZihyZXN1bHQsIFByb3BlcnRpZXMpO1xufTtcbiIsInZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Y4LXByb3RvdHlwZS1kZWZpbmUtYnVnJyk7XG52YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcblxuLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydGllcyAtLSBzYWZlXG5leHBvcnRzLmYgPSBERVNDUklQVE9SUyAmJiAhVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICBhbk9iamVjdChPKTtcbiAgdmFyIHByb3BzID0gdG9JbmRleGVkT2JqZWN0KFByb3BlcnRpZXMpO1xuICB2YXIga2V5cyA9IG9iamVjdEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pZTgtZG9tLWRlZmluZScpO1xudmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Y4LXByb3RvdHlwZS1kZWZpbmUtYnVnJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgdG9Qcm9wZXJ0eUtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcm9wZXJ0eS1rZXknKTtcblxudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbnZhciAkZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgRU5VTUVSQUJMRSA9ICdlbnVtZXJhYmxlJztcbnZhciBDT05GSUdVUkFCTEUgPSAnY29uZmlndXJhYmxlJztcbnZhciBXUklUQUJMRSA9ICd3cml0YWJsZSc7XG5cbi8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbmV4cG9ydHMuZiA9IERFU0NSSVBUT1JTID8gVjhfUFJPVE9UWVBFX0RFRklORV9CVUcgPyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmICh0eXBlb2YgTyA9PT0gJ2Z1bmN0aW9uJyAmJiBQID09PSAncHJvdG90eXBlJyAmJiAndmFsdWUnIGluIEF0dHJpYnV0ZXMgJiYgV1JJVEFCTEUgaW4gQXR0cmlidXRlcyAmJiAhQXR0cmlidXRlc1tXUklUQUJMRV0pIHtcbiAgICB2YXIgY3VycmVudCA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCk7XG4gICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudFtXUklUQUJMRV0pIHtcbiAgICAgIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICAgICAgQXR0cmlidXRlcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBDT05GSUdVUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbQ09ORklHVVJBQkxFXSA6IGN1cnJlbnRbQ09ORklHVVJBQkxFXSxcbiAgICAgICAgZW51bWVyYWJsZTogRU5VTUVSQUJMRSBpbiBBdHRyaWJ1dGVzID8gQXR0cmlidXRlc1tFTlVNRVJBQkxFXSA6IGN1cnJlbnRbRU5VTUVSQUJMRV0sXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH0gcmV0dXJuICRkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbn0gOiAkZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93ICRUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkJyk7XG4gIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtcHJvcGVydHktaXMtZW51bWVyYWJsZScpO1xudmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyIHRvUHJvcGVydHlLZXkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tcHJvcGVydHkta2V5Jyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pZTgtZG9tLWRlZmluZScpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5ZGVzY3JpcHRvciAtLSBzYWZlXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuZXhwb3J0cy5mID0gREVTQ1JJUFRPUlMgPyAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIDogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgTyA9IHRvSW5kZXhlZE9iamVjdChPKTtcbiAgUCA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoaGFzT3duKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKCFjYWxsKHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmYsIE8sIFApLCBPW1BdKTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHluYW1lcyAtLSBzYWZlICovXG52YXIgY2xhc3NvZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jbGFzc29mLXJhdycpO1xudmFyIHRvSW5kZXhlZE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbmRleGVkLW9iamVjdCcpO1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzJykuZjtcbnZhciBhcnJheVNsaWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNsaWNlLXNpbXBsZScpO1xuXG52YXIgd2luZG93TmFtZXMgPSB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnICYmIHdpbmRvdyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc1xuICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdykgOiBbXTtcblxudmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gYXJyYXlTbGljZSh3aW5kb3dOYW1lcyk7XG4gIH1cbn07XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gIHJldHVybiB3aW5kb3dOYW1lcyAmJiBjbGFzc29mKGl0KSA9PSAnV2luZG93J1xuICAgID8gZ2V0V2luZG93TmFtZXMoaXQpXG4gICAgOiAkZ2V0T3duUHJvcGVydHlOYW1lcyh0b0luZGV4ZWRPYmplY3QoaXQpKTtcbn07XG4iLCJ2YXIgaW50ZXJuYWxPYmplY3RLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW51bS1idWcta2V5cycpO1xuXG52YXIgaGlkZGVuS2V5cyA9IGVudW1CdWdLZXlzLmNvbmNhdCgnbGVuZ3RoJywgJ3Byb3RvdHlwZScpO1xuXG4vLyBgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eW5hbWVzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGhpZGRlbktleXMpO1xufTtcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHNhZmVcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4iLCJ2YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tb2JqZWN0Jyk7XG52YXIgc2hhcmVkS2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZC1rZXknKTtcbnZhciBDT1JSRUNUX1BST1RPVFlQRV9HRVRURVIgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29ycmVjdC1wcm90b3R5cGUtZ2V0dGVyJyk7XG5cbnZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xudmFyIE9iamVjdFByb3RvdHlwZSA9ICRPYmplY3QucHJvdG90eXBlO1xuXG4vLyBgT2JqZWN0LmdldFByb3RvdHlwZU9mYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSID8gJE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIChPKSB7XG4gIHZhciBvYmplY3QgPSB0b09iamVjdChPKTtcbiAgaWYgKGhhc093bihvYmplY3QsIElFX1BST1RPKSkgcmV0dXJuIG9iamVjdFtJRV9QUk9UT107XG4gIHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgaWYgKGlzQ2FsbGFibGUoY29uc3RydWN0b3IpICYmIG9iamVjdCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgfSByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgJE9iamVjdCA/IE9iamVjdFByb3RvdHlwZSA6IG51bGw7XG59O1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHVuY3VycnlUaGlzKHt9LmlzUHJvdG90eXBlT2YpO1xuIiwidmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgaW5kZXhPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pbmNsdWRlcycpLmluZGV4T2Y7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xuXG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWVzKSB7XG4gIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KG9iamVjdCk7XG4gIHZhciBpID0gMDtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBPKSAhaGFzT3duKGhpZGRlbktleXMsIGtleSkgJiYgaGFzT3duKE8sIGtleSkgJiYgcHVzaChyZXN1bHQsIGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXNPd24oTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+aW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcHVzaChyZXN1bHQsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgaW50ZXJuYWxPYmplY3RLZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW51bS1idWcta2V5cycpO1xuXG4vLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Qua2V5c1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1rZXlzIC0tIHNhZmVcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiBpbnRlcm5hbE9iamVjdEtleXMoTywgZW51bUJ1Z0tleXMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBOYXNob3JuIH4gSkRLOCBidWdcbnZhciBOQVNIT1JOX0JVRyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAhJHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZWAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUucHJvcGVydHlpc2VudW1lcmFibGVcbmV4cG9ydHMuZiA9IE5BU0hPUk5fQlVHID8gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLCBWKTtcbiAgcmV0dXJuICEhZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmVudW1lcmFibGU7XG59IDogJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gLS0gc2FmZSAqL1xudmFyIHVuY3VycnlUaGlzQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzLWFjY2Vzc29yJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgYVBvc3NpYmxlUHJvdG90eXBlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2EtcG9zc2libGUtcHJvdG90eXBlJyk7XG5cbi8vIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2Zcbi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1zZXRwcm90b3R5cGVvZiAtLSBzYWZlXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyBmdW5jdGlvbiAoKSB7XG4gIHZhciBDT1JSRUNUX1NFVFRFUiA9IGZhbHNlO1xuICB2YXIgdGVzdCA9IHt9O1xuICB2YXIgc2V0dGVyO1xuICB0cnkge1xuICAgIHNldHRlciA9IHVuY3VycnlUaGlzQWNjZXNzb3IoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycsICdzZXQnKTtcbiAgICBzZXR0ZXIodGVzdCwgW10pO1xuICAgIENPUlJFQ1RfU0VUVEVSID0gdGVzdCBpbnN0YW5jZW9mIEFycmF5O1xuICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgIGFuT2JqZWN0KE8pO1xuICAgIGFQb3NzaWJsZVByb3RvdHlwZShwcm90byk7XG4gICAgaWYgKENPUlJFQ1RfU0VUVEVSKSBzZXR0ZXIoTywgcHJvdG8pO1xuICAgIGVsc2UgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICByZXR1cm4gTztcbiAgfTtcbn0oKSA6IHVuZGVmaW5lZCk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZy10YWctc3VwcG9ydCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xuXG4vLyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gVE9fU1RSSU5HX1RBR19TVVBQT1JUID8ge30udG9TdHJpbmcgOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdbb2JqZWN0ICcgKyBjbGFzc29mKHRoaXMpICsgJ10nO1xufTtcbiIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgT3JkaW5hcnlUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlucHV0LCBwcmVmKSB7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAocHJlZiA9PT0gJ3N0cmluZycgJiYgaXNDYWxsYWJsZShmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKGlzQ2FsbGFibGUoZm4gPSBpbnB1dC52YWx1ZU9mKSAmJiAhaXNPYmplY3QodmFsID0gY2FsbChmbiwgaW5wdXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0KHZhbCA9IGNhbGwoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1uYW1lcycpO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG5cbnZhciBjb25jYXQgPSB1bmN1cnJ5VGhpcyhbXS5jb25jYXQpO1xuXG4vLyBhbGwgb2JqZWN0IGtleXMsIGluY2x1ZGVzIG5vbi1lbnVtZXJhYmxlIGFuZCBzeW1ib2xzXG5tb2R1bGUuZXhwb3J0cyA9IGdldEJ1aWx0SW4oJ1JlZmxlY3QnLCAnb3duS2V5cycpIHx8IGZ1bmN0aW9uIG93bktleXMoaXQpIHtcbiAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlLmYoYW5PYmplY3QoaXQpKTtcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICByZXR1cm4gZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gY29uY2F0KGtleXMsIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkpIDoga2V5cztcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdsb2JhbDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlcnJvcjogZmFsc2UsIHZhbHVlOiBleGVjKCkgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvcjogdHJ1ZSwgdmFsdWU6IGVycm9yIH07XG4gIH1cbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLW5hdGl2ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc0ZvcmNlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1mb3JjZWQnKTtcbnZhciBpbnNwZWN0U291cmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luc3BlY3Qtc291cmNlJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgSVNfQlJPV1NFUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtYnJvd3NlcicpO1xudmFyIElTX0RFTk8gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLWRlbm8nKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBWOF9WRVJTSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS12OC12ZXJzaW9uJyk7XG5cbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xudmFyIFNVQkNMQVNTSU5HID0gZmFsc2U7XG52YXIgTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UID0gaXNDYWxsYWJsZShnbG9iYWwuUHJvbWlzZVJlamVjdGlvbkV2ZW50KTtcblxudmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gaXNGb3JjZWQoJ1Byb21pc2UnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSA9IGluc3BlY3RTb3VyY2UoTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKTtcbiAgdmFyIEdMT0JBTF9DT1JFX0pTX1BST01JU0UgPSBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSAhPT0gU3RyaW5nKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvcik7XG4gIC8vIFY4IDYuNiAoTm9kZSAxMCBhbmQgQ2hyb21lIDY2KSBoYXZlIGEgYnVnIHdpdGggcmVzb2x2aW5nIGN1c3RvbSB0aGVuYWJsZXNcbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG4gIC8vIFdlIGNhbid0IGRldGVjdCBpdCBzeW5jaHJvbm91c2x5LCBzbyBqdXN0IGNoZWNrIHZlcnNpb25zXG4gIGlmICghR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiBWOF9WRVJTSU9OID09PSA2NikgcmV0dXJuIHRydWU7XG4gIC8vIFdlIG5lZWQgUHJvbWlzZSN7IGNhdGNoLCBmaW5hbGx5IH0gaW4gdGhlIHB1cmUgdmVyc2lvbiBmb3IgcHJldmVudGluZyBwcm90b3R5cGUgcG9sbHV0aW9uXG4gIGlmIChJU19QVVJFICYmICEoTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnY2F0Y2gnXSAmJiBOYXRpdmVQcm9taXNlUHJvdG90eXBlWydmaW5hbGx5J10pKSByZXR1cm4gdHJ1ZTtcbiAgLy8gV2UgY2FuJ3QgdXNlIEBAc3BlY2llcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgLy8gZGVvcHRpbWl6YXRpb24gYW5kIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzlcbiAgaWYgKCFWOF9WRVJTSU9OIHx8IFY4X1ZFUlNJT04gPCA1MSB8fCAhL25hdGl2ZSBjb2RlLy50ZXN0KFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFKSkge1xuICAgIC8vIERldGVjdCBjb3JyZWN0bmVzcyBvZiBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgPSBuZXcgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUoMSk7IH0pO1xuICAgIHZhciBGYWtlUHJvbWlzZSA9IGZ1bmN0aW9uIChleGVjKSB7XG4gICAgICBleGVjKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbiAgICB9O1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb21pc2UuY29uc3RydWN0b3IgPSB7fTtcbiAgICBjb25zdHJ1Y3RvcltTUEVDSUVTXSA9IEZha2VQcm9taXNlO1xuICAgIFNVQkNMQVNTSU5HID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgICBpZiAoIVNVQkNMQVNTSU5HKSByZXR1cm4gdHJ1ZTtcbiAgLy8gVW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICB9IHJldHVybiAhR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiAoSVNfQlJPV1NFUiB8fCBJU19ERU5PKSAmJiAhTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBDT05TVFJVQ1RPUjogRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IsXG4gIFJFSkVDVElPTl9FVkVOVDogTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5ULFxuICBTVUJDTEFTU0lORzogU1VCQ0xBU1NJTkdcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5Qcm9taXNlO1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQywgeCkge1xuICBhbk9iamVjdChDKTtcbiAgaWYgKGlzT2JqZWN0KHgpICYmIHguY29uc3RydWN0b3IgPT09IEMpIHJldHVybiB4O1xuICB2YXIgcHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eS5mKEMpO1xuICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gIHJlc29sdmUoeCk7XG4gIHJldHVybiBwcm9taXNlQ2FwYWJpbGl0eS5wcm9taXNlO1xufTtcbiIsInZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2hlY2stY29ycmVjdG5lc3Mtb2YtaXRlcmF0aW9uJyk7XG52YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKS5DT05TVFJVQ1RPUjtcblxubW9kdWxlLmV4cG9ydHMgPSBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiB8fCAhY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uKGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IuYWxsKGl0ZXJhYmxlKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbn0pO1xuIiwidmFyIFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmhlYWQgPSBudWxsO1xuICB0aGlzLnRhaWwgPSBudWxsO1xufTtcblxuUXVldWUucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdmFyIGVudHJ5ID0geyBpdGVtOiBpdGVtLCBuZXh0OiBudWxsIH07XG4gICAgdmFyIHRhaWwgPSB0aGlzLnRhaWw7XG4gICAgaWYgKHRhaWwpIHRhaWwubmV4dCA9IGVudHJ5O1xuICAgIGVsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgdGhpcy50YWlsID0gZW50cnk7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuaGVhZDtcbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIHZhciBuZXh0ID0gdGhpcy5oZWFkID0gZW50cnkubmV4dDtcbiAgICAgIGlmIChuZXh0ID09PSBudWxsKSB0aGlzLnRhaWwgPSBudWxsO1xuICAgICAgcmV0dXJuIGVudHJ5Lml0ZW07XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXVlO1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YtcmF3Jyk7XG52YXIgcmVnZXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYycpO1xuXG52YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxuLy8gYFJlZ0V4cEV4ZWNgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWdleHBleGVjXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChSLCBTKSB7XG4gIHZhciBleGVjID0gUi5leGVjO1xuICBpZiAoaXNDYWxsYWJsZShleGVjKSkge1xuICAgIHZhciByZXN1bHQgPSBjYWxsKGV4ZWMsIFIsIFMpO1xuICAgIGlmIChyZXN1bHQgIT09IG51bGwpIGFuT2JqZWN0KHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoY2xhc3NvZihSKSA9PT0gJ1JlZ0V4cCcpIHJldHVybiBjYWxsKHJlZ2V4cEV4ZWMsIFIsIFMpO1xuICB0aHJvdyAkVHlwZUVycm9yKCdSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgcmVnZXhwL25vLWVtcHR5LWNhcHR1cmluZy1ncm91cCwgcmVnZXhwL25vLWVtcHR5LWdyb3VwLCByZWdleHAvbm8tbGF6eS1lbmRzIC0tIHRlc3RpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlZ2V4cC9uby11c2VsZXNzLXF1YW50aWZpZXIgLS0gdGVzdGluZyAqL1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHJlZ2V4cEZsYWdzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1mbGFncycpO1xudmFyIHN0aWNreUhlbHBlcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLXN0aWNreS1oZWxwZXJzJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIGNyZWF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtY3JlYXRlJyk7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpLmdldDtcbnZhciBVTlNVUFBPUlRFRF9ET1RfQUxMID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC11bnN1cHBvcnRlZC1kb3QtYWxsJyk7XG52YXIgVU5TVVBQT1JURURfTkNHID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC11bnN1cHBvcnRlZC1uY2cnKTtcblxudmFyIG5hdGl2ZVJlcGxhY2UgPSBzaGFyZWQoJ25hdGl2ZS1zdHJpbmctcmVwbGFjZScsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG52YXIgbmF0aXZlRXhlYyA9IFJlZ0V4cC5wcm90b3R5cGUuZXhlYztcbnZhciBwYXRjaGVkRXhlYyA9IG5hdGl2ZUV4ZWM7XG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBpbmRleE9mID0gdW5jdXJyeVRoaXMoJycuaW5kZXhPZik7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xuXG52YXIgVVBEQVRFU19MQVNUX0lOREVYX1dST05HID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlMSA9IC9hLztcbiAgdmFyIHJlMiA9IC9iKi9nO1xuICBjYWxsKG5hdGl2ZUV4ZWMsIHJlMSwgJ2EnKTtcbiAgY2FsbChuYXRpdmVFeGVjLCByZTIsICdhJyk7XG4gIHJldHVybiByZTEubGFzdEluZGV4ICE9PSAwIHx8IHJlMi5sYXN0SW5kZXggIT09IDA7XG59KSgpO1xuXG52YXIgVU5TVVBQT1JURURfWSA9IHN0aWNreUhlbHBlcnMuQlJPS0VOX0NBUkVUO1xuXG4vLyBub25wYXJ0aWNpcGF0aW5nIGNhcHR1cmluZyBncm91cCwgY29waWVkIGZyb20gZXM1LXNoaW0ncyBTdHJpbmcjc3BsaXQgcGF0Y2guXG52YXIgTlBDR19JTkNMVURFRCA9IC8oKT8/Ly5leGVjKCcnKVsxXSAhPT0gdW5kZWZpbmVkO1xuXG52YXIgUEFUQ0ggPSBVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcgfHwgTlBDR19JTkNMVURFRCB8fCBVTlNVUFBPUlRFRF9ZIHx8IFVOU1VQUE9SVEVEX0RPVF9BTEwgfHwgVU5TVVBQT1JURURfTkNHO1xuXG5pZiAoUEFUQ0gpIHtcbiAgcGF0Y2hlZEV4ZWMgPSBmdW5jdGlvbiBleGVjKHN0cmluZykge1xuICAgIHZhciByZSA9IHRoaXM7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZShyZSk7XG4gICAgdmFyIHN0ciA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgdmFyIHJhdyA9IHN0YXRlLnJhdztcbiAgICB2YXIgcmVzdWx0LCByZUNvcHksIGxhc3RJbmRleCwgbWF0Y2gsIGksIG9iamVjdCwgZ3JvdXA7XG5cbiAgICBpZiAocmF3KSB7XG4gICAgICByYXcubGFzdEluZGV4ID0gcmUubGFzdEluZGV4O1xuICAgICAgcmVzdWx0ID0gY2FsbChwYXRjaGVkRXhlYywgcmF3LCBzdHIpO1xuICAgICAgcmUubGFzdEluZGV4ID0gcmF3Lmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VwcyA9IHN0YXRlLmdyb3VwcztcbiAgICB2YXIgc3RpY2t5ID0gVU5TVVBQT1JURURfWSAmJiByZS5zdGlja3k7XG4gICAgdmFyIGZsYWdzID0gY2FsbChyZWdleHBGbGFncywgcmUpO1xuICAgIHZhciBzb3VyY2UgPSByZS5zb3VyY2U7XG4gICAgdmFyIGNoYXJzQWRkZWQgPSAwO1xuICAgIHZhciBzdHJDb3B5ID0gc3RyO1xuXG4gICAgaWYgKHN0aWNreSkge1xuICAgICAgZmxhZ3MgPSByZXBsYWNlKGZsYWdzLCAneScsICcnKTtcbiAgICAgIGlmIChpbmRleE9mKGZsYWdzLCAnZycpID09PSAtMSkge1xuICAgICAgICBmbGFncyArPSAnZyc7XG4gICAgICB9XG5cbiAgICAgIHN0ckNvcHkgPSBzdHJpbmdTbGljZShzdHIsIHJlLmxhc3RJbmRleCk7XG4gICAgICAvLyBTdXBwb3J0IGFuY2hvcmVkIHN0aWNreSBiZWhhdmlvci5cbiAgICAgIGlmIChyZS5sYXN0SW5kZXggPiAwICYmICghcmUubXVsdGlsaW5lIHx8IHJlLm11bHRpbGluZSAmJiBjaGFyQXQoc3RyLCByZS5sYXN0SW5kZXggLSAxKSAhPT0gJ1xcbicpKSB7XG4gICAgICAgIHNvdXJjZSA9ICcoPzogJyArIHNvdXJjZSArICcpJztcbiAgICAgICAgc3RyQ29weSA9ICcgJyArIHN0ckNvcHk7XG4gICAgICAgIGNoYXJzQWRkZWQrKztcbiAgICAgIH1cbiAgICAgIC8vIF4oPyArIHJ4ICsgKSBpcyBuZWVkZWQsIGluIGNvbWJpbmF0aW9uIHdpdGggc29tZSBzdHIgc2xpY2luZywgdG9cbiAgICAgIC8vIHNpbXVsYXRlIHRoZSAneScgZmxhZy5cbiAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14oPzonICsgc291cmNlICsgJyknLCBmbGFncyk7XG4gICAgfVxuXG4gICAgaWYgKE5QQ0dfSU5DTFVERUQpIHtcbiAgICAgIHJlQ29weSA9IG5ldyBSZWdFeHAoJ14nICsgc291cmNlICsgJyQoPyFcXFxccyknLCBmbGFncyk7XG4gICAgfVxuICAgIGlmIChVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcpIGxhc3RJbmRleCA9IHJlLmxhc3RJbmRleDtcblxuICAgIG1hdGNoID0gY2FsbChuYXRpdmVFeGVjLCBzdGlja3kgPyByZUNvcHkgOiByZSwgc3RyQ29weSk7XG5cbiAgICBpZiAoc3RpY2t5KSB7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgbWF0Y2guaW5wdXQgPSBzdHJpbmdTbGljZShtYXRjaC5pbnB1dCwgY2hhcnNBZGRlZCk7XG4gICAgICAgIG1hdGNoWzBdID0gc3RyaW5nU2xpY2UobWF0Y2hbMF0sIGNoYXJzQWRkZWQpO1xuICAgICAgICBtYXRjaC5pbmRleCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgcmUubGFzdEluZGV4ICs9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSByZS5sYXN0SW5kZXggPSAwO1xuICAgIH0gZWxzZSBpZiAoVVBEQVRFU19MQVNUX0lOREVYX1dST05HICYmIG1hdGNoKSB7XG4gICAgICByZS5sYXN0SW5kZXggPSByZS5nbG9iYWwgPyBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCA6IGxhc3RJbmRleDtcbiAgICB9XG4gICAgaWYgKE5QQ0dfSU5DTFVERUQgJiYgbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgLy8gRml4IGJyb3dzZXJzIHdob3NlIGBleGVjYCBtZXRob2RzIGRvbid0IGNvbnNpc3RlbnRseSByZXR1cm4gYHVuZGVmaW5lZGBcbiAgICAgIC8vIGZvciBOUENHLCBsaWtlIElFOC4gTk9URTogVGhpcyBkb2Vzbid0IHdvcmsgZm9yIC8oLj8pPy9cbiAgICAgIGNhbGwobmF0aXZlUmVwbGFjZSwgbWF0Y2hbMF0sIHJlQ29weSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDI7IGkrKykge1xuICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0gPT09IHVuZGVmaW5lZCkgbWF0Y2hbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtYXRjaCAmJiBncm91cHMpIHtcbiAgICAgIG1hdGNoLmdyb3VwcyA9IG9iamVjdCA9IGNyZWF0ZShudWxsKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgIG9iamVjdFtncm91cFswXV0gPSBtYXRjaFtncm91cFsxXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhdGNoZWRFeGVjO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xuXG4vLyBgUmVnRXhwLnByb3RvdHlwZS5mbGFnc2AgZ2V0dGVyIGltcGxlbWVudGF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1yZWdleHAucHJvdG90eXBlLmZsYWdzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRoYXQgPSBhbk9iamVjdCh0aGlzKTtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICBpZiAodGhhdC5oYXNJbmRpY2VzKSByZXN1bHQgKz0gJ2QnO1xuICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gIGlmICh0aGF0Lmlnbm9yZUNhc2UpIHJlc3VsdCArPSAnaSc7XG4gIGlmICh0aGF0Lm11bHRpbGluZSkgcmVzdWx0ICs9ICdtJztcbiAgaWYgKHRoYXQuZG90QWxsKSByZXN1bHQgKz0gJ3MnO1xuICBpZiAodGhhdC51bmljb2RlKSByZXN1bHQgKz0gJ3UnO1xuICBpZiAodGhhdC51bmljb2RlU2V0cykgcmVzdWx0ICs9ICd2JztcbiAgaWYgKHRoYXQuc3RpY2t5KSByZXN1bHQgKz0gJ3knO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGlzUHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWlzLXByb3RvdHlwZS1vZicpO1xudmFyIHJlZ0V4cEZsYWdzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1mbGFncycpO1xuXG52YXIgUmVnRXhwUHJvdG90eXBlID0gUmVnRXhwLnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoUikge1xuICB2YXIgZmxhZ3MgPSBSLmZsYWdzO1xuICByZXR1cm4gZmxhZ3MgPT09IHVuZGVmaW5lZCAmJiAhKCdmbGFncycgaW4gUmVnRXhwUHJvdG90eXBlKSAmJiAhaGFzT3duKFIsICdmbGFncycpICYmIGlzUHJvdG90eXBlT2YoUmVnRXhwUHJvdG90eXBlLCBSKVxuICAgID8gY2FsbChyZWdFeHBGbGFncywgUikgOiBmbGFncztcbn07XG4iLCJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG5cbi8vIGJhYmVsLW1pbmlmeSBhbmQgQ2xvc3VyZSBDb21waWxlciB0cmFuc3BpbGVzIFJlZ0V4cCgnYScsICd5JykgLT4gL2EveSBhbmQgaXQgY2F1c2VzIFN5bnRheEVycm9yXG52YXIgJFJlZ0V4cCA9IGdsb2JhbC5SZWdFeHA7XG5cbnZhciBVTlNVUFBPUlRFRF9ZID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICB2YXIgcmUgPSAkUmVnRXhwKCdhJywgJ3knKTtcbiAgcmUubGFzdEluZGV4ID0gMjtcbiAgcmV0dXJuIHJlLmV4ZWMoJ2FiY2QnKSAhPSBudWxsO1xufSk7XG5cbi8vIFVDIEJyb3dzZXIgYnVnXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTAwOFxudmFyIE1JU1NFRF9TVElDS1kgPSBVTlNVUFBPUlRFRF9ZIHx8IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEkUmVnRXhwKCdhJywgJ3knKS5zdGlja3k7XG59KTtcblxudmFyIEJST0tFTl9DQVJFVCA9IFVOU1VQUE9SVEVEX1kgfHwgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD03NzM2ODdcbiAgdmFyIHJlID0gJFJlZ0V4cCgnXnInLCAnZ3knKTtcbiAgcmUubGFzdEluZGV4ID0gMjtcbiAgcmV0dXJuIHJlLmV4ZWMoJ3N0cicpICE9IG51bGw7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEJST0tFTl9DQVJFVDogQlJPS0VOX0NBUkVULFxuICBNSVNTRURfU1RJQ0tZOiBNSVNTRURfU1RJQ0tZLFxuICBVTlNVUFBPUlRFRF9ZOiBVTlNVUFBPUlRFRF9ZXG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG4vLyBiYWJlbC1taW5pZnkgYW5kIENsb3N1cmUgQ29tcGlsZXIgdHJhbnNwaWxlcyBSZWdFeHAoJy4nLCAncycpIC0+IC8uL3MgYW5kIGl0IGNhdXNlcyBTeW50YXhFcnJvclxudmFyICRSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlID0gJFJlZ0V4cCgnLicsICdzJyk7XG4gIHJldHVybiAhKHJlLmRvdEFsbCAmJiByZS5leGVjKCdcXG4nKSAmJiByZS5mbGFncyA9PT0gJ3MnKTtcbn0pO1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xuXG4vLyBiYWJlbC1taW5pZnkgYW5kIENsb3N1cmUgQ29tcGlsZXIgdHJhbnNwaWxlcyBSZWdFeHAoJyg/PGE+YiknLCAnZycpIC0+IC8oPzxhPmIpL2cgYW5kIGl0IGNhdXNlcyBTeW50YXhFcnJvclxudmFyICRSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlID0gJFJlZ0V4cCgnKD88YT5iKScsICdnJyk7XG4gIHJldHVybiByZS5leGVjKCdiJykuZ3JvdXBzLmEgIT09ICdiJyB8fFxuICAgICdiJy5yZXBsYWNlKHJlLCAnJDxhPmMnKSAhPT0gJ2JjJztcbn0pO1xuIiwidmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4vLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlcXVpcmVvYmplY3Rjb2VyY2libGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChpc051bGxPclVuZGVmaW5lZChpdCkpIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnZXRCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1idWlsdC1pbicpO1xudmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4tYWNjZXNzb3InKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xuXG52YXIgU1BFQ0lFUyA9IHdlbGxLbm93blN5bWJvbCgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FKSB7XG4gIHZhciBDb25zdHJ1Y3RvciA9IGdldEJ1aWx0SW4oQ09OU1RSVUNUT1JfTkFNRSk7XG5cbiAgaWYgKERFU0NSSVBUT1JTICYmIENvbnN0cnVjdG9yICYmICFDb25zdHJ1Y3RvcltTUEVDSUVTXSkge1xuICAgIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihDb25zdHJ1Y3RvciwgU1BFQ0lFUywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgfSk7XG4gIH1cbn07XG4iLCJ2YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpLmY7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRhcmdldCwgVEFHLCBTVEFUSUMpIHtcbiAgaWYgKHRhcmdldCAmJiAhU1RBVElDKSB0YXJnZXQgPSB0YXJnZXQucHJvdG90eXBlO1xuICBpZiAodGFyZ2V0ICYmICFoYXNPd24odGFyZ2V0LCBUT19TVFJJTkdfVEFHKSkge1xuICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwgVE9fU1RSSU5HX1RBRywgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBUQUcgfSk7XG4gIH1cbn07XG4iLCJ2YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcblxudmFyIGtleXMgPSBzaGFyZWQoJ2tleXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiBrZXlzW2tleV0gfHwgKGtleXNba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1nbG9iYWwtcHJvcGVydHknKTtcblxudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgZGVmaW5lR2xvYmFsUHJvcGVydHkoU0hBUkVELCB7fSk7XG5cbm1vZHVsZS5leHBvcnRzID0gc3RvcmU7XG4iLCJ2YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgc3RvcmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2hhcmVkLXN0b3JlJyk7XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoge30pO1xufSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICB2ZXJzaW9uOiAnMy4yOS4wJyxcbiAgbW9kZTogSVNfUFVSRSA/ICdwdXJlJyA6ICdnbG9iYWwnLFxuICBjb3B5cmlnaHQ6ICfCqSAyMDE0LTIwMjMgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknLFxuICBsaWNlbnNlOiAnaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4yOS4wL0xJQ0VOU0UnLFxuICBzb3VyY2U6ICdodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcydcbn0pO1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyIGFDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNvbnN0cnVjdG9yJyk7XG52YXIgaXNOdWxsT3JVbmRlZmluZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtbnVsbC1vci11bmRlZmluZWQnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcblxuLy8gYFNwZWNpZXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNwZWNpZXNjb25zdHJ1Y3RvclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTywgZGVmYXVsdENvbnN0cnVjdG9yKSB7XG4gIHZhciBDID0gYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gIHZhciBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IGlzTnVsbE9yVW5kZWZpbmVkKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPyBkZWZhdWx0Q29uc3RydWN0b3IgOiBhQ29uc3RydWN0b3IoUyk7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbi8vIGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YgYSBtZXRob2QsIGxvd2VyY2FzZVxuLy8gb2YgYSB0YWcgYW5kIGVzY2FwaW5nIHF1b3RlcyBpbiBhcmd1bWVudHNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE1FVEhPRF9OQU1FKSB7XG4gIHJldHVybiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRlc3QgPSAnJ1tNRVRIT0RfTkFNRV0oJ1wiJyk7XG4gICAgcmV0dXJuIHRlc3QgIT09IHRlc3QudG9Mb3dlckNhc2UoKSB8fCB0ZXN0LnNwbGl0KCdcIicpLmxlbmd0aCA+IDM7XG4gIH0pO1xufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlcXVpcmUtb2JqZWN0LWNvZXJjaWJsZScpO1xuXG52YXIgY2hhckF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckF0KTtcbnZhciBjaGFyQ29kZUF0ID0gdW5jdXJyeVRoaXMoJycuY2hhckNvZGVBdCk7XG52YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG5cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoQ09OVkVSVF9UT19TVFJJTkcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgcG9zKSB7XG4gICAgdmFyIFMgPSB0b1N0cmluZyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKCR0aGlzKSk7XG4gICAgdmFyIHBvc2l0aW9uID0gdG9JbnRlZ2VyT3JJbmZpbml0eShwb3MpO1xuICAgIHZhciBzaXplID0gUy5sZW5ndGg7XG4gICAgdmFyIGZpcnN0LCBzZWNvbmQ7XG4gICAgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBzaXplKSByZXR1cm4gQ09OVkVSVF9UT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBmaXJzdCA9IGNoYXJDb2RlQXQoUywgcG9zaXRpb24pO1xuICAgIHJldHVybiBmaXJzdCA8IDB4RDgwMCB8fCBmaXJzdCA+IDB4REJGRiB8fCBwb3NpdGlvbiArIDEgPT09IHNpemVcbiAgICAgIHx8IChzZWNvbmQgPSBjaGFyQ29kZUF0KFMsIHBvc2l0aW9uICsgMSkpIDwgMHhEQzAwIHx8IHNlY29uZCA+IDB4REZGRlxuICAgICAgICA/IENPTlZFUlRfVE9fU1RSSU5HXG4gICAgICAgICAgPyBjaGFyQXQoUywgcG9zaXRpb24pXG4gICAgICAgICAgOiBmaXJzdFxuICAgICAgICA6IENPTlZFUlRfVE9fU1RSSU5HXG4gICAgICAgICAgPyBzdHJpbmdTbGljZShTLCBwb3NpdGlvbiwgcG9zaXRpb24gKyAyKVxuICAgICAgICAgIDogKGZpcnN0IC0gMHhEODAwIDw8IDEwKSArIChzZWNvbmQgLSAweERDMDApICsgMHgxMDAwMDtcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5jb2RlcG9pbnRhdFxuICBjb2RlQXQ6IGNyZWF0ZU1ldGhvZChmYWxzZSksXG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLmF0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21hdGhpYXNieW5lbnMvU3RyaW5nLnByb3RvdHlwZS5hdFxuICBjaGFyQXQ6IGNyZWF0ZU1ldGhvZCh0cnVlKVxufTtcbiIsIi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9iZXN0aWVqcy9wdW55Y29kZS5qcy9ibG9iL21hc3Rlci9wdW55Y29kZS5qc1xudmFyIHVuY3VycnlUaGlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLXVuY3VycnktdGhpcycpO1xuXG52YXIgbWF4SW50ID0gMjE0NzQ4MzY0NzsgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxudmFyIGJhc2UgPSAzNjtcbnZhciB0TWluID0gMTtcbnZhciB0TWF4ID0gMjY7XG52YXIgc2tldyA9IDM4O1xudmFyIGRhbXAgPSA3MDA7XG52YXIgaW5pdGlhbEJpYXMgPSA3MjtcbnZhciBpbml0aWFsTiA9IDEyODsgLy8gMHg4MFxudmFyIGRlbGltaXRlciA9ICctJzsgLy8gJ1xceDJEJ1xudmFyIHJlZ2V4Tm9uQVNDSUkgPSAvW15cXDAtXFx1MDA3RV0vOyAvLyBub24tQVNDSUkgY2hhcnNcbnZhciByZWdleFNlcGFyYXRvcnMgPSAvWy5cXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2c7IC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcbnZhciBPVkVSRkxPV19FUlJPUiA9ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2Vzcyc7XG52YXIgYmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluO1xuXG52YXIgJFJhbmdlRXJyb3IgPSBSYW5nZUVycm9yO1xudmFyIGV4ZWMgPSB1bmN1cnJ5VGhpcyhyZWdleFNlcGFyYXRvcnMuZXhlYyk7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xudmFyIGpvaW4gPSB1bmN1cnJ5VGhpcyhbXS5qb2luKTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXMoW10ucHVzaCk7XG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIHNwbGl0ID0gdW5jdXJyeVRoaXMoJycuc3BsaXQpO1xudmFyIHRvTG93ZXJDYXNlID0gdW5jdXJyeVRoaXMoJycudG9Mb3dlckNhc2UpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcbiAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcbiAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG4gKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcbiAqIG1hdGNoaW5nIFVURi0xNi5cbiAqL1xudmFyIHVjczJkZWNvZGUgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgdmFyIGNvdW50ZXIgPSAwO1xuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcbiAgICB2YXIgdmFsdWUgPSBjaGFyQ29kZUF0KHN0cmluZywgY291bnRlcisrKTtcbiAgICBpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG4gICAgICAvLyBJdCdzIGEgaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyLlxuICAgICAgdmFyIGV4dHJhID0gY2hhckNvZGVBdChzdHJpbmcsIGNvdW50ZXIrKyk7XG4gICAgICBpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gTG93IHN1cnJvZ2F0ZS5cbiAgICAgICAgcHVzaChvdXRwdXQsICgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJdCdzIGFuIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZVxuICAgICAgICAvLyBuZXh0IGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci5cbiAgICAgICAgcHVzaChvdXRwdXQsIHZhbHVlKTtcbiAgICAgICAgY291bnRlci0tO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwdXNoKG91dHB1dCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG4gKi9cbnZhciBkaWdpdFRvQmFzaWMgPSBmdW5jdGlvbiAoZGlnaXQpIHtcbiAgLy8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcbiAgLy8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG4gIHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNik7XG59O1xuXG4vKipcbiAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG4gKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuICovXG52YXIgYWRhcHQgPSBmdW5jdGlvbiAoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG4gIHZhciBrID0gMDtcbiAgZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcbiAgZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuICB3aGlsZSAoZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxKSB7XG4gICAgZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuICAgIGsgKz0gYmFzZTtcbiAgfVxuICByZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcbiAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG4gKi9cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuXG4gIC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIGFuIGFycmF5IG9mIFVuaWNvZGUgY29kZSBwb2ludHMuXG4gIGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cbiAgLy8gQ2FjaGUgdGhlIGxlbmd0aC5cbiAgdmFyIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG4gIC8vIEluaXRpYWxpemUgdGhlIHN0YXRlLlxuICB2YXIgbiA9IGluaXRpYWxOO1xuICB2YXIgZGVsdGEgPSAwO1xuICB2YXIgYmlhcyA9IGluaXRpYWxCaWFzO1xuICB2YXIgaSwgY3VycmVudFZhbHVlO1xuXG4gIC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMuXG4gIGZvciAoaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGN1cnJlbnRWYWx1ZSA9IGlucHV0W2ldO1xuICAgIGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG4gICAgICBwdXNoKG91dHB1dCwgZnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7IC8vIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cbiAgdmFyIGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGg7IC8vIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXG4gIC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIHdpdGggYSBkZWxpbWl0ZXIgdW5sZXNzIGl0J3MgZW1wdHkuXG4gIGlmIChiYXNpY0xlbmd0aCkge1xuICAgIHB1c2gob3V0cHV0LCBkZWxpbWl0ZXIpO1xuICB9XG5cbiAgLy8gTWFpbiBlbmNvZGluZyBsb29wOlxuICB3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuICAgIC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHQgbGFyZ2VyIG9uZTpcbiAgICB2YXIgbSA9IG1heEludDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGN1cnJlbnRWYWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcbiAgICAgICAgbSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93LlxuICAgIHZhciBoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG4gICAgaWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcbiAgICAgIHRocm93ICRSYW5nZUVycm9yKE9WRVJGTE9XX0VSUk9SKTtcbiAgICB9XG5cbiAgICBkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuICAgIG4gPSBtO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcbiAgICAgICAgdGhyb3cgJFJhbmdlRXJyb3IoT1ZFUkZMT1dfRVJST1IpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG4gICAgICAgIC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyLlxuICAgICAgICB2YXIgcSA9IGRlbHRhO1xuICAgICAgICB2YXIgayA9IGJhc2U7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuICAgICAgICAgIGlmIChxIDwgdCkgYnJlYWs7XG4gICAgICAgICAgdmFyIHFNaW51c1QgPSBxIC0gdDtcbiAgICAgICAgICB2YXIgYmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuICAgICAgICAgIHB1c2gob3V0cHV0LCBmcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCkpKTtcbiAgICAgICAgICBxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuICAgICAgICAgIGsgKz0gYmFzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHB1c2gob3V0cHV0LCBmcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEpKSk7XG4gICAgICAgIGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG4gICAgICAgIGRlbHRhID0gMDtcbiAgICAgICAgaGFuZGxlZENQQ291bnQrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZWx0YSsrO1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gam9pbihvdXRwdXQsICcnKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gIHZhciBlbmNvZGVkID0gW107XG4gIHZhciBsYWJlbHMgPSBzcGxpdChyZXBsYWNlKHRvTG93ZXJDYXNlKGlucHV0KSwgcmVnZXhTZXBhcmF0b3JzLCAnXFx1MDAyRScpLCAnLicpO1xuICB2YXIgaSwgbGFiZWw7XG4gIGZvciAoaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcbiAgICBsYWJlbCA9IGxhYmVsc1tpXTtcbiAgICBwdXNoKGVuY29kZWQsIGV4ZWMocmVnZXhOb25BU0NJSSwgbGFiZWwpID8gJ3huLS0nICsgZW5jb2RlKGxhYmVsKSA6IGxhYmVsKTtcbiAgfVxuICByZXR1cm4gam9pbihlbmNvZGVkLCAnLicpO1xufTtcbiIsInZhciBQUk9QRVJfRlVOQ1RJT05fTkFNRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1uYW1lJykuUFJPUEVSO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgd2hpdGVzcGFjZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2hpdGVzcGFjZXMnKTtcblxudmFyIG5vbiA9ICdcXHUyMDBCXFx1MDA4NVxcdTE4MEUnO1xuXG4vLyBjaGVjayB0aGF0IGEgbWV0aG9kIHdvcmtzIHdpdGggdGhlIGNvcnJlY3QgbGlzdFxuLy8gb2Ygd2hpdGVzcGFjZXMgYW5kIGhhcyBhIGNvcnJlY3QgbmFtZVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgcmV0dXJuIGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISF3aGl0ZXNwYWNlc1tNRVRIT0RfTkFNRV0oKVxuICAgICAgfHwgbm9uW01FVEhPRF9OQU1FXSgpICE9PSBub25cbiAgICAgIHx8IChQUk9QRVJfRlVOQ1RJT05fTkFNRSAmJiB3aGl0ZXNwYWNlc1tNRVRIT0RfTkFNRV0ubmFtZSAhPT0gTUVUSE9EX05BTUUpO1xuICB9KTtcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciB0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xudmFyIGx0cmltID0gUmVnRXhwKCdeWycgKyB3aGl0ZXNwYWNlcyArICddKycpO1xudmFyIHJ0cmltID0gUmVnRXhwKCcoXnxbXicgKyB3aGl0ZXNwYWNlcyArICddKVsnICsgd2hpdGVzcGFjZXMgKyAnXSskJyk7XG5cbi8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbSwgdHJpbVN0YXJ0LCB0cmltRW5kLCB0cmltTGVmdCwgdHJpbVJpZ2h0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbnZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoVFlQRSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzKSB7XG4gICAgdmFyIHN0cmluZyA9IHRvU3RyaW5nKHJlcXVpcmVPYmplY3RDb2VyY2libGUoJHRoaXMpKTtcbiAgICBpZiAoVFlQRSAmIDEpIHN0cmluZyA9IHJlcGxhY2Uoc3RyaW5nLCBsdHJpbSwgJycpO1xuICAgIGlmIChUWVBFICYgMikgc3RyaW5nID0gcmVwbGFjZShzdHJpbmcsIHJ0cmltLCAnJDEnKTtcbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGBTdHJpbmcucHJvdG90eXBlLnsgdHJpbUxlZnQsIHRyaW1TdGFydCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltc3RhcnRcbiAgc3RhcnQ6IGNyZWF0ZU1ldGhvZCgxKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUueyB0cmltUmlnaHQsIHRyaW1FbmQgfWAgbWV0aG9kc1xuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbWVuZFxuICBlbmQ6IGNyZWF0ZU1ldGhvZCgyKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS50cmltXG4gIHRyaW06IGNyZWF0ZU1ldGhvZCgzKVxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIFY4X1ZFUlNJT04gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLXY4LXZlcnNpb24nKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5c3ltYm9scyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xubW9kdWxlLmV4cG9ydHMgPSAhIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIHN5bWJvbCA9IFN5bWJvbCgpO1xuICAvLyBDaHJvbWUgMzggU3ltYm9sIGhhcyBpbmNvcnJlY3QgdG9TdHJpbmcgY29udmVyc2lvblxuICAvLyBgZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzYCBwb2x5ZmlsbCBzeW1ib2xzIGNvbnZlcnRlZCB0byBvYmplY3QgYXJlIG5vdCBTeW1ib2wgaW5zdGFuY2VzXG4gIHJldHVybiAhU3RyaW5nKHN5bWJvbCkgfHwgIShPYmplY3Qoc3ltYm9sKSBpbnN0YW5jZW9mIFN5bWJvbCkgfHxcbiAgICAvLyBDaHJvbWUgMzgtNDAgc3ltYm9scyBhcmUgbm90IGluaGVyaXRlZCBmcm9tIERPTSBjb2xsZWN0aW9ucyBwcm90b3R5cGVzIHRvIGluc3RhbmNlc1xuICAgICFTeW1ib2wuc2hhbSAmJiBWOF9WRVJTSU9OICYmIFY4X1ZFUlNJT04gPCA0MTtcbn0pO1xuIiwidmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBTeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKTtcbiAgdmFyIFN5bWJvbFByb3RvdHlwZSA9IFN5bWJvbCAmJiBTeW1ib2wucHJvdG90eXBlO1xuICB2YXIgdmFsdWVPZiA9IFN5bWJvbFByb3RvdHlwZSAmJiBTeW1ib2xQcm90b3R5cGUudmFsdWVPZjtcbiAgdmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCgndG9QcmltaXRpdmUnKTtcblxuICBpZiAoU3ltYm9sUHJvdG90eXBlICYmICFTeW1ib2xQcm90b3R5cGVbVE9fUFJJTUlUSVZFXSkge1xuICAgIC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgLmxlbmd0aFxuICAgIGRlZmluZUJ1aWx0SW4oU3ltYm9sUHJvdG90eXBlLCBUT19QUklNSVRJVkUsIGZ1bmN0aW9uIChoaW50KSB7XG4gICAgICByZXR1cm4gY2FsbCh2YWx1ZU9mLCB0aGlzKTtcbiAgICB9LCB7IGFyaXR5OiAxIH0pO1xuICB9XG59O1xuIiwidmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gc2FmZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBOQVRJVkVfU1lNQk9MICYmICEhU3ltYm9sWydmb3InXSAmJiAhIVN5bWJvbC5rZXlGb3I7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGFwcGx5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWFwcGx5Jyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGh0bWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaHRtbCcpO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2UnKTtcbnZhciBjcmVhdGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvY3VtZW50LWNyZWF0ZS1lbGVtZW50Jyk7XG52YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdmFsaWRhdGUtYXJndW1lbnRzLWxlbmd0aCcpO1xudmFyIElTX0lPUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtaW9zJyk7XG52YXIgSVNfTk9ERSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtaXMtbm9kZScpO1xuXG52YXIgc2V0ID0gZ2xvYmFsLnNldEltbWVkaWF0ZTtcbnZhciBjbGVhciA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZTtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgRGlzcGF0Y2ggPSBnbG9iYWwuRGlzcGF0Y2g7XG52YXIgRnVuY3Rpb24gPSBnbG9iYWwuRnVuY3Rpb247XG52YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG52YXIgU3RyaW5nID0gZ2xvYmFsLlN0cmluZztcbnZhciBjb3VudGVyID0gMDtcbnZhciBxdWV1ZSA9IHt9O1xudmFyIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xudmFyICRsb2NhdGlvbiwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cbmZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgLy8gRGVubyB0aHJvd3MgYSBSZWZlcmVuY2VFcnJvciBvbiBgbG9jYXRpb25gIGFjY2VzcyB3aXRob3V0IGAtLWxvY2F0aW9uYCBmbGFnXG4gICRsb2NhdGlvbiA9IGdsb2JhbC5sb2NhdGlvbjtcbn0pO1xuXG52YXIgcnVuID0gZnVuY3Rpb24gKGlkKSB7XG4gIGlmIChoYXNPd24ocXVldWUsIGlkKSkge1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG5cbnZhciBydW5uZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBydW4oaWQpO1xuICB9O1xufTtcblxudmFyIGV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcnVuKGV2ZW50LmRhdGEpO1xufTtcblxudmFyIGdsb2JhbFBvc3RNZXNzYWdlRGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgLy8gb2xkIGVuZ2luZXMgaGF2ZSBub3QgbG9jYXRpb24ub3JpZ2luXG4gIGdsb2JhbC5wb3N0TWVzc2FnZShTdHJpbmcoaWQpLCAkbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgJGxvY2F0aW9uLmhvc3QpO1xufTtcblxuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYgKCFzZXQgfHwgIWNsZWFyKSB7XG4gIHNldCA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShoYW5kbGVyKSB7XG4gICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMSk7XG4gICAgdmFyIGZuID0gaXNDYWxsYWJsZShoYW5kbGVyKSA/IGhhbmRsZXIgOiBGdW5jdGlvbihoYW5kbGVyKTtcbiAgICB2YXIgYXJncyA9IGFycmF5U2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgYXBwbHkoZm4sIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXIgPSBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShpZCkge1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZiAoSVNfTk9ERSkge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKHJ1bm5lcihpZCkpO1xuICAgIH07XG4gIC8vIFNwaGVyZSAoSlMgZ2FtZSBlbmdpbmUpIERpc3BhdGNoIEFQSVxuICB9IGVsc2UgaWYgKERpc3BhdGNoICYmIERpc3BhdGNoLm5vdykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBEaXNwYXRjaC5ub3cocnVubmVyKGlkKSk7XG4gICAgfTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICAvLyBleGNlcHQgaU9TIC0gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzYyNFxuICB9IGVsc2UgaWYgKE1lc3NhZ2VDaGFubmVsICYmICFJU19JT1MpIHtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBldmVudExpc3RlbmVyO1xuICAgIGRlZmVyID0gYmluZChwb3J0LnBvc3RNZXNzYWdlLCBwb3J0KTtcbiAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gIC8vIElFOCBoYXMgcG9zdE1lc3NhZ2UsIGJ1dCBpdCdzIHN5bmMgJiB0eXBlb2YgaXRzIHBvc3RNZXNzYWdlIGlzICdvYmplY3QnXG4gIH0gZWxzZSBpZiAoXG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiZcbiAgICBpc0NhbGxhYmxlKGdsb2JhbC5wb3N0TWVzc2FnZSkgJiZcbiAgICAhZ2xvYmFsLmltcG9ydFNjcmlwdHMgJiZcbiAgICAkbG9jYXRpb24gJiYgJGxvY2F0aW9uLnByb3RvY29sICE9PSAnZmlsZTonICYmXG4gICAgIWZhaWxzKGdsb2JhbFBvc3RNZXNzYWdlRGVmZXIpXG4gICkge1xuICAgIGRlZmVyID0gZ2xvYmFsUG9zdE1lc3NhZ2VEZWZlcjtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSkge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4oaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBzZXRUaW1lb3V0KHJ1bm5lcihpZCksIDApO1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogc2V0LFxuICBjbGVhcjogY2xlYXJcbn07XG4iLCJ2YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG5cbi8vIGB0aGlzTnVtYmVyVmFsdWVgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10aGlzbnVtYmVydmFsdWVcbm1vZHVsZS5leHBvcnRzID0gdW5jdXJyeVRoaXMoMS4wLnZhbHVlT2YpO1xuIiwidmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW50ZWdlci1vci1pbmZpbml0eScpO1xuXG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5cbi8vIEhlbHBlciBmb3IgYSBwb3B1bGFyIHJlcGVhdGluZyBjYXNlIG9mIHRoZSBzcGVjOlxuLy8gTGV0IGludGVnZXIgYmUgPyBUb0ludGVnZXIoaW5kZXgpLlxuLy8gSWYgaW50ZWdlciA8IDAsIGxldCByZXN1bHQgYmUgbWF4KChsZW5ndGggKyBpbnRlZ2VyKSwgMCk7IGVsc2UgbGV0IHJlc3VsdCBiZSBtaW4oaW50ZWdlciwgbGVuZ3RoKS5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGluZGV4LCBsZW5ndGgpIHtcbiAgdmFyIGludGVnZXIgPSB0b0ludGVnZXJPckluZmluaXR5KGluZGV4KTtcbiAgcmV0dXJuIGludGVnZXIgPCAwID8gbWF4KGludGVnZXIgKyBsZW5ndGgsIDApIDogbWluKGludGVnZXIsIGxlbmd0aCk7XG59O1xuIiwiLy8gdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luZGV4ZWQtb2JqZWN0Jyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIEluZGV4ZWRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShpdCkpO1xufTtcbiIsInZhciB0cnVuYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9tYXRoLXRydW5jJyk7XG5cbi8vIGBUb0ludGVnZXJPckluZmluaXR5YCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9pbnRlZ2Vyb3JpbmZpbml0eVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgdmFyIG51bWJlciA9ICthcmd1bWVudDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZSAtLSBOYU4gY2hlY2tcbiAgcmV0dXJuIG51bWJlciAhPT0gbnVtYmVyIHx8IG51bWJlciA9PT0gMCA/IDAgOiB0cnVuYyhudW1iZXIpO1xufTtcbiIsInZhciB0b0ludGVnZXJPckluZmluaXR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWludGVnZXItb3ItaW5maW5pdHknKTtcblxudmFyIG1pbiA9IE1hdGgubWluO1xuXG4vLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b2xlbmd0aFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbih0b0ludGVnZXJPckluZmluaXR5KGFyZ3VtZW50KSwgMHgxRkZGRkZGRkZGRkZGRikgOiAwOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIiwidmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xuXG4vLyBgVG9PYmplY3RgIGFic3RyYWN0IG9wZXJhdGlvblxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy10b29iamVjdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgcmV0dXJuICRPYmplY3QocmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudCkpO1xufTtcbiIsInZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1zeW1ib2wnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xudmFyIG9yZGluYXJ5VG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb3JkaW5hcnktdG8tcHJpbWl0aXZlJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG5cbnZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xudmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCgndG9QcmltaXRpdmUnKTtcblxuLy8gYFRvUHJpbWl0aXZlYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGlucHV0LCBwcmVmKSB7XG4gIGlmICghaXNPYmplY3QoaW5wdXQpIHx8IGlzU3ltYm9sKGlucHV0KSkgcmV0dXJuIGlucHV0O1xuICB2YXIgZXhvdGljVG9QcmltID0gZ2V0TWV0aG9kKGlucHV0LCBUT19QUklNSVRJVkUpO1xuICB2YXIgcmVzdWx0O1xuICBpZiAoZXhvdGljVG9QcmltKSB7XG4gICAgaWYgKHByZWYgPT09IHVuZGVmaW5lZCkgcHJlZiA9ICdkZWZhdWx0JztcbiAgICByZXN1bHQgPSBjYWxsKGV4b3RpY1RvUHJpbSwgaW5wdXQsIHByZWYpO1xuICAgIGlmICghaXNPYmplY3QocmVzdWx0KSB8fCBpc1N5bWJvbChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHRocm93ICRUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG4gIH1cbiAgaWYgKHByZWYgPT09IHVuZGVmaW5lZCkgcHJlZiA9ICdudW1iZXInO1xuICByZXR1cm4gb3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgcHJlZik7XG59O1xuIiwidmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByaW1pdGl2ZScpO1xudmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXN5bWJvbCcpO1xuXG4vLyBgVG9Qcm9wZXJ0eUtleWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHZhciBrZXkgPSB0b1ByaW1pdGl2ZShhcmd1bWVudCwgJ3N0cmluZycpO1xuICByZXR1cm4gaXNTeW1ib2woa2V5KSA/IGtleSA6IGtleSArICcnO1xufTtcbiIsInZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG52YXIgdGVzdCA9IHt9O1xuXG50ZXN0W1RPX1NUUklOR19UQUddID0gJ3onO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmluZyh0ZXN0KSA9PT0gJ1tvYmplY3Qgel0nO1xuIiwidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY2xhc3NvZicpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgaWYgKGNsYXNzb2YoYXJndW1lbnQpID09PSAnU3ltYm9sJykgdGhyb3cgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZycpO1xuICByZXR1cm4gJFN0cmluZyhhcmd1bWVudCk7XG59O1xuIiwidmFyICRTdHJpbmcgPSBTdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICRTdHJpbmcoYXJndW1lbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAnT2JqZWN0JztcbiAgfVxufTtcbiIsInZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcblxudmFyIGlkID0gMDtcbnZhciBwb3N0Zml4ID0gTWF0aC5yYW5kb20oKTtcbnZhciB0b1N0cmluZyA9IHVuY3VycnlUaGlzKDEuMC50b1N0cmluZyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnICsgKGtleSA9PT0gdW5kZWZpbmVkID8gJycgOiBrZXkpICsgJylfJyArIHRvU3RyaW5nKCsraWQgKyBwb3N0Zml4LCAzNik7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL3JlbGF0aXZlLXVybC1zdHlsZSAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICB2YXIgdXJsID0gbmV3IFVSTCgnYj9hPTEmYj0yJmM9MycsICdodHRwOi8vYScpO1xuICB2YXIgc2VhcmNoUGFyYW1zID0gdXJsLnNlYXJjaFBhcmFtcztcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB1cmwucGF0aG5hbWUgPSAnYyUyMGQnO1xuICBzZWFyY2hQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHNlYXJjaFBhcmFtc1snZGVsZXRlJ10oJ2InKTtcbiAgICByZXN1bHQgKz0ga2V5ICsgdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gKElTX1BVUkUgJiYgIXVybC50b0pTT04pXG4gICAgfHwgKCFzZWFyY2hQYXJhbXMuc2l6ZSAmJiAoSVNfUFVSRSB8fCAhREVTQ1JJUFRPUlMpKVxuICAgIHx8ICFzZWFyY2hQYXJhbXMuc29ydFxuICAgIHx8IHVybC5ocmVmICE9PSAnaHR0cDovL2EvYyUyMGQ/YT0xJmM9MydcbiAgICB8fCBzZWFyY2hQYXJhbXMuZ2V0KCdjJykgIT09ICczJ1xuICAgIHx8IFN0cmluZyhuZXcgVVJMU2VhcmNoUGFyYW1zKCc/YT0xJykpICE9PSAnYT0xJ1xuICAgIHx8ICFzZWFyY2hQYXJhbXNbSVRFUkFUT1JdXG4gICAgLy8gdGhyb3dzIGluIEVkZ2VcbiAgICB8fCBuZXcgVVJMKCdodHRwczovL2FAYicpLnVzZXJuYW1lICE9PSAnYSdcbiAgICB8fCBuZXcgVVJMU2VhcmNoUGFyYW1zKG5ldyBVUkxTZWFyY2hQYXJhbXMoJ2E9YicpKS5nZXQoJ2EnKSAhPT0gJ2InXG4gICAgLy8gbm90IHB1bnljb2RlZCBpbiBFZGdlXG4gICAgfHwgbmV3IFVSTCgnaHR0cDovL9GC0LXRgdGCJykuaG9zdCAhPT0gJ3huLS1lMWF5YmMnXG4gICAgLy8gbm90IGVzY2FwZWQgaW4gQ2hyb21lIDYyLVxuICAgIHx8IG5ldyBVUkwoJ2h0dHA6Ly9hI9CxJykuaGFzaCAhPT0gJyMlRDAlQjEnXG4gICAgLy8gZmFpbHMgaW4gQ2hyb21lIDY2LVxuICAgIHx8IHJlc3VsdCAhPT0gJ2ExYzMnXG4gICAgLy8gdGhyb3dzIGluIFNhZmFyaVxuICAgIHx8IG5ldyBVUkwoJ2h0dHA6Ly94JywgdW5kZWZpbmVkKS5ob3N0ICE9PSAneCc7XG59KTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5BVElWRV9TWU1CT0xcbiAgJiYgIVN5bWJvbC5zaGFtXG4gICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCc7XG4iLCJ2YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xuXG4vLyBWOCB+IENocm9tZSAzNi1cbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMzMzRcbm1vZHVsZS5leHBvcnRzID0gREVTQ1JJUFRPUlMgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9LCAncHJvdG90eXBlJywge1xuICAgIHZhbHVlOiA0MixcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSkucHJvdG90eXBlICE9IDQyO1xufSk7XG4iLCJ2YXIgJFR5cGVFcnJvciA9IFR5cGVFcnJvcjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocGFzc2VkLCByZXF1aXJlZCkge1xuICBpZiAocGFzc2VkIDwgcmVxdWlyZWQpIHRocm93ICRUeXBlRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJyk7XG4gIHJldHVybiBwYXNzZWQ7XG59O1xuIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG5cbnZhciBXZWFrTWFwID0gZ2xvYmFsLldlYWtNYXA7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNDYWxsYWJsZShXZWFrTWFwKSAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoU3RyaW5nKFdlYWtNYXApKTtcbiIsInZhciBwYXRoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BhdGgnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtd3JhcHBlZCcpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChOQU1FKSB7XG4gIHZhciBTeW1ib2wgPSBwYXRoLlN5bWJvbCB8fCAocGF0aC5TeW1ib2wgPSB7fSk7XG4gIGlmICghaGFzT3duKFN5bWJvbCwgTkFNRSkpIGRlZmluZVByb3BlcnR5KFN5bWJvbCwgTkFNRSwge1xuICAgIHZhbHVlOiB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlLmYoTkFNRSlcbiAgfSk7XG59O1xuIiwidmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG5leHBvcnRzLmYgPSB3ZWxsS25vd25TeW1ib2w7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcbnZhciBOQVRJVkVfU1lNQk9MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N5bWJvbC1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBVU0VfU1lNQk9MX0FTX1VJRCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91c2Utc3ltYm9sLWFzLXVpZCcpO1xuXG52YXIgU3ltYm9sID0gZ2xvYmFsLlN5bWJvbDtcbnZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUgPSBzaGFyZWQoJ3drcycpO1xudmFyIGNyZWF0ZVdlbGxLbm93blN5bWJvbCA9IFVTRV9TWU1CT0xfQVNfVUlEID8gU3ltYm9sWydmb3InXSB8fCBTeW1ib2wgOiBTeW1ib2wgJiYgU3ltYm9sLndpdGhvdXRTZXR0ZXIgfHwgdWlkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICghaGFzT3duKFdlbGxLbm93blN5bWJvbHNTdG9yZSwgbmFtZSkpIHtcbiAgICBXZWxsS25vd25TeW1ib2xzU3RvcmVbbmFtZV0gPSBOQVRJVkVfU1lNQk9MICYmIGhhc093bihTeW1ib2wsIG5hbWUpXG4gICAgICA/IFN5bWJvbFtuYW1lXVxuICAgICAgOiBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gIH0gcmV0dXJuIFdlbGxLbm93blN5bWJvbHNTdG9yZVtuYW1lXTtcbn07XG4iLCIvLyBhIHN0cmluZyBvZiBhbGwgdmFsaWQgdW5pY29kZSB3aGl0ZXNwYWNlc1xubW9kdWxlLmV4cG9ydHMgPSAnXFx1MDAwOVxcdTAwMEFcXHUwMDBCXFx1MDAwQ1xcdTAwMERcXHUwMDIwXFx1MDBBMFxcdTE2ODBcXHUyMDAwXFx1MjAwMVxcdTIwMDInICtcbiAgJ1xcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBBXFx1MjAyRlxcdTIwNUZcXHUzMDAwXFx1MjAyOFxcdTIwMjlcXHVGRUZGJztcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1hcnJheScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvZXMtbm90LWV4Y2VlZC1zYWZlLWludGVnZXInKTtcbnZhciBjcmVhdGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtcHJvcGVydHknKTtcbnZhciBhcnJheVNwZWNpZXNDcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbnZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1oYXMtc3BlY2llcy1zdXBwb3J0Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgVjhfVkVSU0lPTiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xuXG52YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEUgPSB3ZWxsS25vd25TeW1ib2woJ2lzQ29uY2F0U3ByZWFkYWJsZScpO1xuXG4vLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbi8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4vLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc5XG52YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEVfU1VQUE9SVCA9IFY4X1ZFUlNJT04gPj0gNTEgfHwgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFycmF5ID0gW107XG4gIGFycmF5W0lTX0NPTkNBVF9TUFJFQURBQkxFXSA9IGZhbHNlO1xuICByZXR1cm4gYXJyYXkuY29uY2F0KClbMF0gIT09IGFycmF5O1xufSk7XG5cbnZhciBpc0NvbmNhdFNwcmVhZGFibGUgPSBmdW5jdGlvbiAoTykge1xuICBpZiAoIWlzT2JqZWN0KE8pKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzcHJlYWRhYmxlID0gT1tJU19DT05DQVRfU1BSRUFEQUJMRV07XG4gIHJldHVybiBzcHJlYWRhYmxlICE9PSB1bmRlZmluZWQgPyAhIXNwcmVhZGFibGUgOiBpc0FycmF5KE8pO1xufTtcblxudmFyIEZPUkNFRCA9ICFJU19DT05DQVRfU1BSRUFEQUJMRV9TVVBQT1JUIHx8ICFhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0KCdjb25jYXQnKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5jb25jYXRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuY29uY2F0XG4vLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAaXNDb25jYXRTcHJlYWRhYmxlIGFuZCBAQHNwZWNpZXNcbiQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBhcml0eTogMSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdChhcmcpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KHRoaXMpO1xuICAgIHZhciBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIDApO1xuICAgIHZhciBuID0gMDtcbiAgICB2YXIgaSwgaywgbGVuZ3RoLCBsZW4sIEU7XG4gICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgRSA9IGkgPT09IC0xID8gTyA6IGFyZ3VtZW50c1tpXTtcbiAgICAgIGlmIChpc0NvbmNhdFNwcmVhZGFibGUoRSkpIHtcbiAgICAgICAgbGVuID0gbGVuZ3RoT2ZBcnJheUxpa2UoRSk7XG4gICAgICAgIGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlcihuICsgbGVuKTtcbiAgICAgICAgZm9yIChrID0gMDsgayA8IGxlbjsgaysrLCBuKyspIGlmIChrIGluIEUpIGNyZWF0ZVByb3BlcnR5KEEsIG4sIEVba10pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyKG4gKyAxKTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkoQSwgbisrLCBFKTtcbiAgICAgIH1cbiAgICB9XG4gICAgQS5sZW5ndGggPSBuO1xuICAgIHJldHVybiBBO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FkZC10by11bnNjb3BhYmxlcycpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRvcnMnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG52YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWRlZmluZS1wcm9wZXJ0eScpLmY7XG52YXIgZGVmaW5lSXRlcmF0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0b3ItZGVmaW5lJyk7XG52YXIgY3JlYXRlSXRlclJlc3VsdE9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtaXRlci1yZXN1bHQtb2JqZWN0Jyk7XG52YXIgSVNfUFVSRSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1wdXJlJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcblxudmFyIEFSUkFZX0lURVJBVE9SID0gJ0FycmF5IEl0ZXJhdG9yJztcbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKEFSUkFZX0lURVJBVE9SKTtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5lbnRyaWVzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbi8vIGBBcnJheS5wcm90b3R5cGUua2V5c2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5rZXlzXG4vLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS52YWx1ZXNcbi8vIGBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl1gIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuLy8gYENyZWF0ZUFycmF5SXRlcmF0b3JgIGludGVybmFsIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVhcnJheWl0ZXJhdG9yXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZUl0ZXJhdG9yKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogQVJSQVlfSVRFUkFUT1IsXG4gICAgdGFyZ2V0OiB0b0luZGV4ZWRPYmplY3QoaXRlcmF0ZWQpLCAvLyB0YXJnZXRcbiAgICBpbmRleDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgICBraW5kOiBraW5kICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGtpbmRcbiAgfSk7XG4vLyBgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lYXJyYXlpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxufSwgZnVuY3Rpb24gKCkge1xuICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpO1xuICB2YXIgdGFyZ2V0ID0gc3RhdGUudGFyZ2V0O1xuICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4Kys7XG4gIGlmICghdGFyZ2V0IHx8IGluZGV4ID49IHRhcmdldC5sZW5ndGgpIHtcbiAgICBzdGF0ZS50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QodW5kZWZpbmVkLCB0cnVlKTtcbiAgfVxuICBpZiAoa2luZCA9PSAna2V5cycpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KGluZGV4LCBmYWxzZSk7XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCh0YXJnZXRbaW5kZXhdLCBmYWxzZSk7XG4gIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KFtpbmRleCwgdGFyZ2V0W2luZGV4XV0sIGZhbHNlKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZXVubWFwcGVkYXJndW1lbnRzb2JqZWN0XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZW1hcHBlZGFyZ3VtZW50c29iamVjdFxudmFyIHZhbHVlcyA9IEl0ZXJhdG9ycy5Bcmd1bWVudHMgPSBJdGVyYXRvcnMuQXJyYXk7XG5cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLUBAdW5zY29wYWJsZXNcbmFkZFRvVW5zY29wYWJsZXMoJ2tleXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ3ZhbHVlcycpO1xuYWRkVG9VbnNjb3BhYmxlcygnZW50cmllcycpO1xuXG4vLyBWOCB+IENocm9tZSA0NS0gYnVnXG5pZiAoIUlTX1BVUkUgJiYgREVTQ1JJUFRPUlMgJiYgdmFsdWVzLm5hbWUgIT09ICd2YWx1ZXMnKSB0cnkge1xuICBkZWZpbmVQcm9wZXJ0eSh2YWx1ZXMsICduYW1lJywgeyB2YWx1ZTogJ3ZhbHVlcycgfSk7XG59IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWFycmF5Jyk7XG52YXIgaXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jb25zdHJ1Y3RvcicpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1hYnNvbHV0ZS1pbmRleCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgdG9JbmRleGVkT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWluZGV4ZWQtb2JqZWN0Jyk7XG52YXIgY3JlYXRlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5Jyk7XG52YXIgd2VsbEtub3duU3ltYm9sID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sJyk7XG52YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1tZXRob2QtaGFzLXNwZWNpZXMtc3VwcG9ydCcpO1xudmFyIG5hdGl2ZVNsaWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNsaWNlJyk7XG5cbnZhciBIQVNfU1BFQ0lFU19TVVBQT1JUID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCgnc2xpY2UnKTtcblxudmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbnZhciAkQXJyYXkgPSBBcnJheTtcbnZhciBtYXggPSBNYXRoLm1heDtcblxuLy8gYEFycmF5LnByb3RvdHlwZS5zbGljZWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zbGljZVxuLy8gZmFsbGJhY2sgZm9yIG5vdCBhcnJheS1saWtlIEVTMyBzdHJpbmdzIGFuZCBET00gb2JqZWN0c1xuJCh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQgfSwge1xuICBzbGljZTogZnVuY3Rpb24gc2xpY2Uoc3RhcnQsIGVuZCkge1xuICAgIHZhciBPID0gdG9JbmRleGVkT2JqZWN0KHRoaXMpO1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShPKTtcbiAgICB2YXIgayA9IHRvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuZ3RoKTtcbiAgICB2YXIgZmluID0gdG9BYnNvbHV0ZUluZGV4KGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgIC8vIGlubGluZSBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBmb3IgdXNhZ2UgbmF0aXZlIGBBcnJheSNzbGljZWAgd2hlcmUgaXQncyBwb3NzaWJsZVxuICAgIHZhciBDb25zdHJ1Y3RvciwgcmVzdWx0LCBuO1xuICAgIGlmIChpc0FycmF5KE8pKSB7XG4gICAgICBDb25zdHJ1Y3RvciA9IE8uY29uc3RydWN0b3I7XG4gICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgaWYgKGlzQ29uc3RydWN0b3IoQ29uc3RydWN0b3IpICYmIChDb25zdHJ1Y3RvciA9PT0gJEFycmF5IHx8IGlzQXJyYXkoQ29uc3RydWN0b3IucHJvdG90eXBlKSkpIHtcbiAgICAgICAgQ29uc3RydWN0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KENvbnN0cnVjdG9yKSkge1xuICAgICAgICBDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yW1NQRUNJRVNdO1xuICAgICAgICBpZiAoQ29uc3RydWN0b3IgPT09IG51bGwpIENvbnN0cnVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKENvbnN0cnVjdG9yID09PSAkQXJyYXkgfHwgQ29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbmF0aXZlU2xpY2UoTywgaywgZmluKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IChDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkID8gJEFycmF5IDogQ29uc3RydWN0b3IpKG1heChmaW4gLSBrLCAwKSk7XG4gICAgZm9yIChuID0gMDsgayA8IGZpbjsgaysrLCBuKyspIGlmIChrIGluIE8pIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwgbiwgT1trXSk7XG4gICAgcmVzdWx0Lmxlbmd0aCA9IG47XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLW9iamVjdCcpO1xudmFyIGxlbmd0aE9mQXJyYXlMaWtlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2xlbmd0aC1vZi1hcnJheS1saWtlJyk7XG52YXIgZGVsZXRlUHJvcGVydHlPclRocm93ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlbGV0ZS1wcm9wZXJ0eS1vci10aHJvdycpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaW50ZXJuYWxTb3J0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNvcnQnKTtcbnZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LW1ldGhvZC1pcy1zdHJpY3QnKTtcbnZhciBGRiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtZmYtdmVyc2lvbicpO1xudmFyIElFX09SX0VER0UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZW5naW5lLWlzLWllLW9yLWVkZ2UnKTtcbnZhciBWOCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtdjgtdmVyc2lvbicpO1xudmFyIFdFQktJVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9lbmdpbmUtd2Via2l0LXZlcnNpb24nKTtcblxudmFyIHRlc3QgPSBbXTtcbnZhciBuYXRpdmVTb3J0ID0gdW5jdXJyeVRoaXModGVzdC5zb3J0KTtcbnZhciBwdXNoID0gdW5jdXJyeVRoaXModGVzdC5wdXNoKTtcblxuLy8gSUU4LVxudmFyIEZBSUxTX09OX1VOREVGSU5FRCA9IGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdGVzdC5zb3J0KHVuZGVmaW5lZCk7XG59KTtcbi8vIFY4IGJ1Z1xudmFyIEZBSUxTX09OX05VTEwgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHRlc3Quc29ydChudWxsKTtcbn0pO1xuLy8gT2xkIFdlYktpdFxudmFyIFNUUklDVF9NRVRIT0QgPSBhcnJheU1ldGhvZElzU3RyaWN0KCdzb3J0Jyk7XG5cbnZhciBTVEFCTEVfU09SVCA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIGNhbiBiZSB0b28gc2xvdywgc28gY2hlY2sgZW5naW5lcyB2ZXJzaW9uc1xuICBpZiAoVjgpIHJldHVybiBWOCA8IDcwO1xuICBpZiAoRkYgJiYgRkYgPiAzKSByZXR1cm47XG4gIGlmIChJRV9PUl9FREdFKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFdFQktJVCkgcmV0dXJuIFdFQktJVCA8IDYwMztcblxuICB2YXIgcmVzdWx0ID0gJyc7XG4gIHZhciBjb2RlLCBjaHIsIHZhbHVlLCBpbmRleDtcblxuICAvLyBnZW5lcmF0ZSBhbiBhcnJheSB3aXRoIG1vcmUgNTEyIGVsZW1lbnRzIChDaGFrcmEgYW5kIG9sZCBWOCBmYWlscyBvbmx5IGluIHRoaXMgY2FzZSlcbiAgZm9yIChjb2RlID0gNjU7IGNvZGUgPCA3NjsgY29kZSsrKSB7XG4gICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblxuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgY2FzZSA2NjogY2FzZSA2OTogY2FzZSA3MDogY2FzZSA3MjogdmFsdWUgPSAzOyBicmVhaztcbiAgICAgIGNhc2UgNjg6IGNhc2UgNzE6IHZhbHVlID0gNDsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB2YWx1ZSA9IDI7XG4gICAgfVxuXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgNDc7IGluZGV4KyspIHtcbiAgICAgIHRlc3QucHVzaCh7IGs6IGNociArIGluZGV4LCB2OiB2YWx1ZSB9KTtcbiAgICB9XG4gIH1cblxuICB0ZXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGIudiAtIGEudjsgfSk7XG5cbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgdGVzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjaHIgPSB0ZXN0W2luZGV4XS5rLmNoYXJBdCgwKTtcbiAgICBpZiAocmVzdWx0LmNoYXJBdChyZXN1bHQubGVuZ3RoIC0gMSkgIT09IGNocikgcmVzdWx0ICs9IGNocjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQgIT09ICdER0JFRkhBQ0lKSyc7XG59KTtcblxudmFyIEZPUkNFRCA9IEZBSUxTX09OX1VOREVGSU5FRCB8fCAhRkFJTFNfT05fTlVMTCB8fCAhU1RSSUNUX01FVEhPRCB8fCAhU1RBQkxFX1NPUlQ7XG5cbnZhciBnZXRTb3J0Q29tcGFyZSA9IGZ1bmN0aW9uIChjb21wYXJlZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgaWYgKHkgPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xO1xuICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHJldHVybiAxO1xuICAgIGlmIChjb21wYXJlZm4gIT09IHVuZGVmaW5lZCkgcmV0dXJuICtjb21wYXJlZm4oeCwgeSkgfHwgMDtcbiAgICByZXR1cm4gdG9TdHJpbmcoeCkgPiB0b1N0cmluZyh5KSA/IDEgOiAtMTtcbiAgfTtcbn07XG5cbi8vIGBBcnJheS5wcm90b3R5cGUuc29ydGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb3J0XG4kKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmVmbikge1xuICAgIGlmIChjb21wYXJlZm4gIT09IHVuZGVmaW5lZCkgYUNhbGxhYmxlKGNvbXBhcmVmbik7XG5cbiAgICB2YXIgYXJyYXkgPSB0b09iamVjdCh0aGlzKTtcblxuICAgIGlmIChTVEFCTEVfU09SVCkgcmV0dXJuIGNvbXBhcmVmbiA9PT0gdW5kZWZpbmVkID8gbmF0aXZlU29ydChhcnJheSkgOiBuYXRpdmVTb3J0KGFycmF5LCBjb21wYXJlZm4pO1xuXG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdmFyIGFycmF5TGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoYXJyYXkpO1xuICAgIHZhciBpdGVtc0xlbmd0aCwgaW5kZXg7XG5cbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBhcnJheUxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKGluZGV4IGluIGFycmF5KSBwdXNoKGl0ZW1zLCBhcnJheVtpbmRleF0pO1xuICAgIH1cblxuICAgIGludGVybmFsU29ydChpdGVtcywgZ2V0U29ydENvbXBhcmUoY29tcGFyZWZuKSk7XG5cbiAgICBpdGVtc0xlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlKGl0ZW1zKTtcbiAgICBpbmRleCA9IDA7XG5cbiAgICB3aGlsZSAoaW5kZXggPCBpdGVtc0xlbmd0aCkgYXJyYXlbaW5kZXhdID0gaXRlbXNbaW5kZXgrK107XG4gICAgd2hpbGUgKGluZGV4IDwgYXJyYXlMZW5ndGgpIGRlbGV0ZVByb3BlcnR5T3JUaHJvdyhhcnJheSwgaW5kZXgrKyk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbn0pO1xuIiwidmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Rlc2NyaXB0b3JzJyk7XG52YXIgRlVOQ1RJT05fTkFNRV9FWElTVFMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZScpLkVYSVNUUztcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yJyk7XG5cbnZhciBGdW5jdGlvblByb3RvdHlwZSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcbnZhciBmdW5jdGlvblRvU3RyaW5nID0gdW5jdXJyeVRoaXMoRnVuY3Rpb25Qcm90b3R5cGUudG9TdHJpbmcpO1xudmFyIG5hbWVSRSA9IC9mdW5jdGlvblxcYig/Olxcc3xcXC9cXCpbXFxTXFxzXSo/XFwqXFwvfFxcL1xcL1teXFxuXFxyXSpbXFxuXFxyXSspKihbXlxccygvXSopLztcbnZhciByZWdFeHBFeGVjID0gdW5jdXJyeVRoaXMobmFtZVJFLmV4ZWMpO1xudmFyIE5BTUUgPSAnbmFtZSc7XG5cbi8vIEZ1bmN0aW9uIGluc3RhbmNlcyBgLm5hbWVgIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWZ1bmN0aW9uLWluc3RhbmNlcy1uYW1lXG5pZiAoREVTQ1JJUFRPUlMgJiYgIUZVTkNUSU9OX05BTUVfRVhJU1RTKSB7XG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihGdW5jdGlvblByb3RvdHlwZSwgTkFNRSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiByZWdFeHBFeGVjKG5hbWVSRSwgZnVuY3Rpb25Ub1N0cmluZyh0aGlzKSlbMV07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgYXBwbHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYXBwbHknKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1zeW1ib2wnKTtcbnZhciBhcnJheVNsaWNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LXNsaWNlJyk7XG52YXIgZ2V0UmVwbGFjZXJGdW5jdGlvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtanNvbi1yZXBsYWNlci1mdW5jdGlvbicpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xuXG52YXIgJFN0cmluZyA9IFN0cmluZztcbnZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbignSlNPTicsICdzdHJpbmdpZnknKTtcbnZhciBleGVjID0gdW5jdXJyeVRoaXMoLy4vLmV4ZWMpO1xudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgY2hhckNvZGVBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJDb2RlQXQpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBudW1iZXJUb1N0cmluZyA9IHVuY3VycnlUaGlzKDEuMC50b1N0cmluZyk7XG5cbnZhciB0ZXN0ZXIgPSAvW1xcdUQ4MDAtXFx1REZGRl0vZztcbnZhciBsb3cgPSAvXltcXHVEODAwLVxcdURCRkZdJC87XG52YXIgaGkgPSAvXltcXHVEQzAwLVxcdURGRkZdJC87XG5cbnZhciBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gPSAhTkFUSVZFX1NZTUJPTCB8fCBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluKCdTeW1ib2wnKSgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICByZXR1cm4gJHN0cmluZ2lmeShbc3ltYm9sXSkgIT0gJ1tudWxsXSdcbiAgICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgICB8fCAkc3RyaW5naWZ5KHsgYTogc3ltYm9sIH0pICE9ICd7fSdcbiAgICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICAgIHx8ICRzdHJpbmdpZnkoT2JqZWN0KHN5bWJvbCkpICE9ICd7fSc7XG59KTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtd2VsbC1mb3JtZWQtc3RyaW5naWZ5XG52YXIgSUxMX0ZPUk1FRF9VTklDT0RFID0gZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJHN0cmluZ2lmeSgnXFx1REYwNlxcdUQ4MzQnKSAhPT0gJ1wiXFxcXHVkZjA2XFxcXHVkODM0XCInXG4gICAgfHwgJHN0cmluZ2lmeSgnXFx1REVBRCcpICE9PSAnXCJcXFxcdWRlYWRcIic7XG59KTtcblxudmFyIHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4ID0gZnVuY3Rpb24gKGl0LCByZXBsYWNlcikge1xuICB2YXIgYXJncyA9IGFycmF5U2xpY2UoYXJndW1lbnRzKTtcbiAgdmFyICRyZXBsYWNlciA9IGdldFJlcGxhY2VyRnVuY3Rpb24ocmVwbGFjZXIpO1xuICBpZiAoIWlzQ2FsbGFibGUoJHJlcGxhY2VyKSAmJiAoaXQgPT09IHVuZGVmaW5lZCB8fCBpc1N5bWJvbChpdCkpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgYXJnc1sxXSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgLy8gc29tZSBvbGQgaW1wbGVtZW50YXRpb25zIChsaWtlIFdlYktpdCkgY291bGQgcGFzcyBudW1iZXJzIGFzIGtleXNcbiAgICBpZiAoaXNDYWxsYWJsZSgkcmVwbGFjZXIpKSB2YWx1ZSA9IGNhbGwoJHJlcGxhY2VyLCB0aGlzLCAkU3RyaW5nKGtleSksIHZhbHVlKTtcbiAgICBpZiAoIWlzU3ltYm9sKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICB9O1xuICByZXR1cm4gYXBwbHkoJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG59O1xuXG52YXIgZml4SWxsRm9ybWVkID0gZnVuY3Rpb24gKG1hdGNoLCBvZmZzZXQsIHN0cmluZykge1xuICB2YXIgcHJldiA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCAtIDEpO1xuICB2YXIgbmV4dCA9IGNoYXJBdChzdHJpbmcsIG9mZnNldCArIDEpO1xuICBpZiAoKGV4ZWMobG93LCBtYXRjaCkgJiYgIWV4ZWMoaGksIG5leHQpKSB8fCAoZXhlYyhoaSwgbWF0Y2gpICYmICFleGVjKGxvdywgcHJldikpKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyBudW1iZXJUb1N0cmluZyhjaGFyQ29kZUF0KG1hdGNoLCAwKSwgMTYpO1xuICB9IHJldHVybiBtYXRjaDtcbn07XG5cbmlmICgkc3RyaW5naWZ5KSB7XG4gIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi5zdHJpbmdpZnlcbiAgJCh7IHRhcmdldDogJ0pTT04nLCBzdGF0OiB0cnVlLCBhcml0eTogMywgZm9yY2VkOiBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gfHwgSUxMX0ZPUk1FRF9VTklDT0RFIH0sIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0LCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICAgIHZhciBhcmdzID0gYXJyYXlTbGljZShhcmd1bWVudHMpO1xuICAgICAgdmFyIHJlc3VsdCA9IGFwcGx5KFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiA/IHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4IDogJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG4gICAgICByZXR1cm4gSUxMX0ZPUk1FRF9VTklDT0RFICYmIHR5cGVvZiByZXN1bHQgPT0gJ3N0cmluZycgPyByZXBsYWNlKHJlc3VsdCwgdGVzdGVyLCBmaXhJbGxGb3JtZWQpIDogcmVzdWx0O1xuICAgIH1cbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3BhdGgnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBpc0ZvcmNlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1mb3JjZWQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIGluaGVyaXRJZlJlcXVpcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2luaGVyaXQtaWYtcmVxdWlyZWQnKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBpc1N5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1zeW1ib2wnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1wcmltaXRpdmUnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktbmFtZXMnKS5mO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yJykuZjtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtZGVmaW5lLXByb3BlcnR5JykuZjtcbnZhciB0aGlzTnVtYmVyVmFsdWUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdGhpcy1udW1iZXItdmFsdWUnKTtcbnZhciB0cmltID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy10cmltJykudHJpbTtcblxudmFyIE5VTUJFUiA9ICdOdW1iZXInO1xudmFyIE5hdGl2ZU51bWJlciA9IGdsb2JhbFtOVU1CRVJdO1xudmFyIFB1cmVOdW1iZXJOYW1lc3BhY2UgPSBwYXRoW05VTUJFUl07XG52YXIgTnVtYmVyUHJvdG90eXBlID0gTmF0aXZlTnVtYmVyLnByb3RvdHlwZTtcbnZhciBUeXBlRXJyb3IgPSBnbG9iYWwuVHlwZUVycm9yO1xudmFyIHN0cmluZ1NsaWNlID0gdW5jdXJyeVRoaXMoJycuc2xpY2UpO1xudmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcygnJy5jaGFyQ29kZUF0KTtcblxuLy8gYFRvTnVtZXJpY2AgYWJzdHJhY3Qgb3BlcmF0aW9uXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvbnVtZXJpY1xudmFyIHRvTnVtZXJpYyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB2YXIgcHJpbVZhbHVlID0gdG9QcmltaXRpdmUodmFsdWUsICdudW1iZXInKTtcbiAgcmV0dXJuIHR5cGVvZiBwcmltVmFsdWUgPT0gJ2JpZ2ludCcgPyBwcmltVmFsdWUgOiB0b051bWJlcihwcmltVmFsdWUpO1xufTtcblxuLy8gYFRvTnVtYmVyYCBhYnN0cmFjdCBvcGVyYXRpb25cbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9udW1iZXJcbnZhciB0b051bWJlciA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICB2YXIgaXQgPSB0b1ByaW1pdGl2ZShhcmd1bWVudCwgJ251bWJlcicpO1xuICB2YXIgZmlyc3QsIHRoaXJkLCByYWRpeCwgbWF4Q29kZSwgZGlnaXRzLCBsZW5ndGgsIGluZGV4LCBjb2RlO1xuICBpZiAoaXNTeW1ib2woaXQpKSB0aHJvdyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgbnVtYmVyJyk7XG4gIGlmICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgJiYgaXQubGVuZ3RoID4gMikge1xuICAgIGl0ID0gdHJpbShpdCk7XG4gICAgZmlyc3QgPSBjaGFyQ29kZUF0KGl0LCAwKTtcbiAgICBpZiAoZmlyc3QgPT09IDQzIHx8IGZpcnN0ID09PSA0NSkge1xuICAgICAgdGhpcmQgPSBjaGFyQ29kZUF0KGl0LCAyKTtcbiAgICAgIGlmICh0aGlyZCA9PT0gODggfHwgdGhpcmQgPT09IDEyMCkgcmV0dXJuIE5hTjsgLy8gTnVtYmVyKCcrMHgxJykgc2hvdWxkIGJlIE5hTiwgb2xkIFY4IGZpeFxuICAgIH0gZWxzZSBpZiAoZmlyc3QgPT09IDQ4KSB7XG4gICAgICBzd2l0Y2ggKGNoYXJDb2RlQXQoaXQsIDEpKSB7XG4gICAgICAgIGNhc2UgNjY6IGNhc2UgOTg6IHJhZGl4ID0gMjsgbWF4Q29kZSA9IDQ5OyBicmVhazsgLy8gZmFzdCBlcXVhbCBvZiAvXjBiWzAxXSskL2lcbiAgICAgICAgY2FzZSA3OTogY2FzZSAxMTE6IHJhZGl4ID0gODsgbWF4Q29kZSA9IDU1OyBicmVhazsgLy8gZmFzdCBlcXVhbCBvZiAvXjBvWzAtN10rJC9pXG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAraXQ7XG4gICAgICB9XG4gICAgICBkaWdpdHMgPSBzdHJpbmdTbGljZShpdCwgMik7XG4gICAgICBsZW5ndGggPSBkaWdpdHMubGVuZ3RoO1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvZGUgPSBjaGFyQ29kZUF0KGRpZ2l0cywgaW5kZXgpO1xuICAgICAgICAvLyBwYXJzZUludCBwYXJzZXMgYSBzdHJpbmcgdG8gYSBmaXJzdCB1bmF2YWlsYWJsZSBzeW1ib2xcbiAgICAgICAgLy8gYnV0IFRvTnVtYmVyIHNob3VsZCByZXR1cm4gTmFOIGlmIGEgc3RyaW5nIGNvbnRhaW5zIHVuYXZhaWxhYmxlIHN5bWJvbHNcbiAgICAgICAgaWYgKGNvZGUgPCA0OCB8fCBjb2RlID4gbWF4Q29kZSkgcmV0dXJuIE5hTjtcbiAgICAgIH0gcmV0dXJuIHBhcnNlSW50KGRpZ2l0cywgcmFkaXgpO1xuICAgIH1cbiAgfSByZXR1cm4gK2l0O1xufTtcblxudmFyIEZPUkNFRCA9IGlzRm9yY2VkKE5VTUJFUiwgIU5hdGl2ZU51bWJlcignIDBvMScpIHx8ICFOYXRpdmVOdW1iZXIoJzBiMScpIHx8IE5hdGl2ZU51bWJlcignKzB4MScpKTtcblxudmFyIGNhbGxlZFdpdGhOZXcgPSBmdW5jdGlvbiAoZHVtbXkpIHtcbiAgLy8gaW5jbHVkZXMgY2hlY2sgb24gMS4uY29uc3RydWN0b3IoZm9vKSBjYXNlXG4gIHJldHVybiBpc1Byb3RvdHlwZU9mKE51bWJlclByb3RvdHlwZSwgZHVtbXkpICYmIGZhaWxzKGZ1bmN0aW9uICgpIHsgdGhpc051bWJlclZhbHVlKGR1bW15KTsgfSk7XG59O1xuXG4vLyBgTnVtYmVyYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1udW1iZXItY29uc3RydWN0b3JcbnZhciBOdW1iZXJXcmFwcGVyID0gZnVuY3Rpb24gTnVtYmVyKHZhbHVlKSB7XG4gIHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCA8IDEgPyAwIDogTmF0aXZlTnVtYmVyKHRvTnVtZXJpYyh2YWx1ZSkpO1xuICByZXR1cm4gY2FsbGVkV2l0aE5ldyh0aGlzKSA/IGluaGVyaXRJZlJlcXVpcmVkKE9iamVjdChuKSwgdGhpcywgTnVtYmVyV3JhcHBlcikgOiBuO1xufTtcblxuTnVtYmVyV3JhcHBlci5wcm90b3R5cGUgPSBOdW1iZXJQcm90b3R5cGU7XG5pZiAoRk9SQ0VEICYmICFJU19QVVJFKSBOdW1iZXJQcm90b3R5cGUuY29uc3RydWN0b3IgPSBOdW1iZXJXcmFwcGVyO1xuXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQgfSwge1xuICBOdW1iZXI6IE51bWJlcldyYXBwZXJcbn0pO1xuXG4vLyBVc2UgYGludGVybmFsL2NvcHktY29uc3RydWN0b3ItcHJvcGVydGllc2AgaGVscGVyIGluIGBjb3JlLWpzQDRgXG52YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKHZhciBrZXlzID0gREVTQ1JJUFRPUlMgPyBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZSkgOiAoXG4gICAgLy8gRVMzOlxuICAgICdNQVhfVkFMVUUsTUlOX1ZBTFVFLE5hTixORUdBVElWRV9JTkZJTklUWSxQT1NJVElWRV9JTkZJTklUWSwnICtcbiAgICAvLyBFUzIwMTUgKGluIGNhc2UsIGlmIG1vZHVsZXMgd2l0aCBFUzIwMTUgTnVtYmVyIHN0YXRpY3MgcmVxdWlyZWQgYmVmb3JlKTpcbiAgICAnRVBTSUxPTixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIsaXNGaW5pdGUsaXNJbnRlZ2VyLGlzTmFOLGlzU2FmZUludGVnZXIscGFyc2VGbG9hdCxwYXJzZUludCwnICtcbiAgICAvLyBFU05leHRcbiAgICAnZnJvbVN0cmluZyxyYW5nZSdcbiAgKS5zcGxpdCgnLCcpLCBqID0gMCwga2V5OyBrZXlzLmxlbmd0aCA+IGo7IGorKykge1xuICAgIGlmIChoYXNPd24oc291cmNlLCBrZXkgPSBrZXlzW2pdKSAmJiAhaGFzT3duKHRhcmdldCwga2V5KSkge1xuICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgIH1cbiAgfVxufTtcblxuaWYgKElTX1BVUkUgJiYgUHVyZU51bWJlck5hbWVzcGFjZSkgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhwYXRoW05VTUJFUl0sIFB1cmVOdW1iZXJOYW1lc3BhY2UpO1xuaWYgKEZPUkNFRCB8fCBJU19QVVJFKSBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzKHBhdGhbTlVNQkVSXSwgTmF0aXZlTnVtYmVyKTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1vYmplY3QnKTtcblxuLy8gVjggfiBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRk9SQ0VEID0gIU5BVElWRV9TWU1CT0wgfHwgZmFpbHMoZnVuY3Rpb24gKCkgeyBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUuZigxKTsgfSk7XG5cbi8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5c3ltYm9sc1xuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgZ2V0T3duUHJvcGVydHlTeW1ib2xzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaXQpIHtcbiAgICB2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mO1xuICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID8gJGdldE93blByb3BlcnR5U3ltYm9scyh0b09iamVjdChpdCkpIDogW107XG4gIH1cbn0pO1xuIiwidmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmctdGFnLXN1cHBvcnQnKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC10by1zdHJpbmcnKTtcblxuLy8gYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG5pZiAoIVRPX1NUUklOR19UQUdfU1VQUE9SVCkge1xuICBkZWZpbmVCdWlsdEluKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIHRvU3RyaW5nLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGVyZm9ybScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2Utc3RhdGljcy1pbmNvcnJlY3QtaXRlcmF0aW9uJyk7XG5cbi8vIGBQcm9taXNlLmFsbGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UuYWxsXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04gfSwge1xuICBhbGw6IGZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICAgIHZhciBDID0gdGhpcztcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlLmYoQyk7XG4gICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUoQy5yZXNvbHZlKTtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgaXRlcmF0ZShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gY291bnRlcisrO1xuICAgICAgICB2YXIgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgY2FsbCgkcHJvbWlzZVJlc29sdmUsIEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lcnJvcikgcmVqZWN0KHJlc3VsdC52YWx1ZSk7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpLkNPTlNUUlVDVE9SO1xudmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLW5hdGl2ZS1jb25zdHJ1Y3RvcicpO1xudmFyIGdldEJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LWJ1aWx0LWluJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG5cbnZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbi8vIGBQcm9taXNlLnByb3RvdHlwZS5jYXRjaGAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLmNhdGNoXG4kKHsgdGFyZ2V0OiAnUHJvbWlzZScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SLCByZWFsOiB0cnVlIH0sIHtcbiAgJ2NhdGNoJzogZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gIH1cbn0pO1xuXG4vLyBtYWtlcyBzdXJlIHRoYXQgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJcyBgUHJvbWlzZSNjYXRjaGAgcHJvcGVybHkgd29ya3Mgd2l0aCBwYXRjaGVkIGBQcm9taXNlI3RoZW5gXG5pZiAoIUlTX1BVUkUgJiYgaXNDYWxsYWJsZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpKSB7XG4gIHZhciBtZXRob2QgPSBnZXRCdWlsdEluKCdQcm9taXNlJykucHJvdG90eXBlWydjYXRjaCddO1xuICBpZiAoTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnY2F0Y2gnXSAhPT0gbWV0aG9kKSB7XG4gICAgZGVmaW5lQnVpbHRJbihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAnY2F0Y2gnLCBtZXRob2QsIHsgdW5zYWZlOiB0cnVlIH0pO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBJU19OT0RFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2VuZ2luZS1pcy1ub2RlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGRlZmluZUJ1aWx0SW4gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluJyk7XG52YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LXNldC1wcm90b3R5cGUtb2YnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIHNldFNwZWNpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXNwZWNpZXMnKTtcbnZhciBhQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYS1jYWxsYWJsZScpO1xudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtY2FsbGFibGUnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLWluc3RhbmNlJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NwZWNpZXMtY29uc3RydWN0b3InKTtcbnZhciB0YXNrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Rhc2snKS5zZXQ7XG52YXIgbWljcm90YXNrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL21pY3JvdGFzaycpO1xudmFyIGhvc3RSZXBvcnRFcnJvcnMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaG9zdC1yZXBvcnQtZXJyb3JzJyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wZXJmb3JtJyk7XG52YXIgUXVldWUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcXVldWUnKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG52YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtbmF0aXZlLWNvbnN0cnVjdG9yJyk7XG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xuXG52YXIgUFJPTUlTRSA9ICdQcm9taXNlJztcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IFByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5DT05TVFJVQ1RPUjtcbnZhciBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQgPSBQcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24uUkVKRUNUSU9OX0VWRU5UO1xudmFyIE5BVElWRV9QUk9NSVNFX1NVQkNMQVNTSU5HID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLlNVQkNMQVNTSU5HO1xudmFyIGdldEludGVybmFsUHJvbWlzZVN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoUFJPTUlTRSk7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgJiYgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbnZhciBQcm9taXNlQ29uc3RydWN0b3IgPSBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3I7XG52YXIgUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VQcm90b3R5cGU7XG52YXIgVHlwZUVycm9yID0gZ2xvYmFsLlR5cGVFcnJvcjtcbnZhciBkb2N1bWVudCA9IGdsb2JhbC5kb2N1bWVudDtcbnZhciBwcm9jZXNzID0gZ2xvYmFsLnByb2Nlc3M7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mO1xudmFyIG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5O1xuXG52YXIgRElTUEFUQ0hfRVZFTlQgPSAhIShkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFdmVudCAmJiBnbG9iYWwuZGlzcGF0Y2hFdmVudCk7XG52YXIgVU5IQU5ETEVEX1JFSkVDVElPTiA9ICd1bmhhbmRsZWRyZWplY3Rpb24nO1xudmFyIFJFSkVDVElPTl9IQU5ETEVEID0gJ3JlamVjdGlvbmhhbmRsZWQnO1xudmFyIFBFTkRJTkcgPSAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xudmFyIEhBTkRMRUQgPSAxO1xudmFyIFVOSEFORExFRCA9IDI7XG5cbnZhciBJbnRlcm5hbCwgT3duUHJvbWlzZUNhcGFiaWxpdHksIFByb21pc2VXcmFwcGVyLCBuYXRpdmVUaGVuO1xuXG4vLyBoZWxwZXJzXG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgdGhlbjtcbiAgcmV0dXJuIGlzT2JqZWN0KGl0KSAmJiBpc0NhbGxhYmxlKHRoZW4gPSBpdC50aGVuKSA/IHRoZW4gOiBmYWxzZTtcbn07XG5cbnZhciBjYWxsUmVhY3Rpb24gPSBmdW5jdGlvbiAocmVhY3Rpb24sIHN0YXRlKSB7XG4gIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICB2YXIgb2sgPSBzdGF0ZS5zdGF0ZSA9PSBGVUxGSUxMRUQ7XG4gIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7XG4gIHZhciByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZTtcbiAgdmFyIHJlamVjdCA9IHJlYWN0aW9uLnJlamVjdDtcbiAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjtcbiAgdmFyIHJlc3VsdCwgdGhlbiwgZXhpdGVkO1xuICB0cnkge1xuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIGlmIChzdGF0ZS5yZWplY3Rpb24gPT09IFVOSEFORExFRCkgb25IYW5kbGVVbmhhbmRsZWQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5yZWplY3Rpb24gPSBIQU5ETEVEO1xuICAgICAgfVxuICAgICAgaWYgKGhhbmRsZXIgPT09IHRydWUpIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChkb21haW4pIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTsgLy8gY2FuIHRocm93XG4gICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgIGV4aXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2UpIHtcbiAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICBjYWxsKHRoZW4sIHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGRvbWFpbiAmJiAhZXhpdGVkKSBkb21haW4uZXhpdCgpO1xuICAgIHJlamVjdChlcnJvcik7XG4gIH1cbn07XG5cbnZhciBub3RpZnkgPSBmdW5jdGlvbiAoc3RhdGUsIGlzUmVqZWN0KSB7XG4gIGlmIChzdGF0ZS5ub3RpZmllZCkgcmV0dXJuO1xuICBzdGF0ZS5ub3RpZmllZCA9IHRydWU7XG4gIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlYWN0aW9ucyA9IHN0YXRlLnJlYWN0aW9ucztcbiAgICB2YXIgcmVhY3Rpb247XG4gICAgd2hpbGUgKHJlYWN0aW9uID0gcmVhY3Rpb25zLmdldCgpKSB7XG4gICAgICBjYWxsUmVhY3Rpb24ocmVhY3Rpb24sIHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUubm90aWZpZWQgPSBmYWxzZTtcbiAgICBpZiAoaXNSZWplY3QgJiYgIXN0YXRlLnJlamVjdGlvbikgb25VbmhhbmRsZWQoc3RhdGUpO1xuICB9KTtcbn07XG5cbnZhciBkaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIHByb21pc2UsIHJlYXNvbikge1xuICB2YXIgZXZlbnQsIGhhbmRsZXI7XG4gIGlmIChESVNQQVRDSF9FVkVOVCkge1xuICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZlbnQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgZXZlbnQucmVhc29uID0gcmVhc29uO1xuICAgIGV2ZW50LmluaXRFdmVudChuYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9IGVsc2UgZXZlbnQgPSB7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogcmVhc29uIH07XG4gIGlmICghTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UICYmIChoYW5kbGVyID0gZ2xvYmFsWydvbicgKyBuYW1lXSkpIGhhbmRsZXIoZXZlbnQpO1xuICBlbHNlIGlmIChuYW1lID09PSBVTkhBTkRMRURfUkVKRUNUSU9OKSBob3N0UmVwb3J0RXJyb3JzKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCByZWFzb24pO1xufTtcblxudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gIGNhbGwodGFzaywgZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHByb21pc2UgPSBzdGF0ZS5mYWNhZGU7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWU7XG4gICAgdmFyIElTX1VOSEFORExFRCA9IGlzVW5oYW5kbGVkKHN0YXRlKTtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChJU19VTkhBTkRMRUQpIHtcbiAgICAgIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoSVNfTk9ERSkge1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgZGlzcGF0Y2hFdmVudChVTkhBTkRMRURfUkVKRUNUSU9OLCBwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBzdGF0ZS5yZWplY3Rpb24gPSBJU19OT0RFIHx8IGlzVW5oYW5kbGVkKHN0YXRlKSA/IFVOSEFORExFRCA6IEhBTkRMRUQ7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSB0aHJvdyByZXN1bHQudmFsdWU7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUucmVqZWN0aW9uICE9PSBIQU5ETEVEICYmICFzdGF0ZS5wYXJlbnQ7XG59O1xuXG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgY2FsbCh0YXNrLCBnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHN0YXRlLmZhY2FkZTtcbiAgICBpZiAoSVNfTk9ERSkge1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGRpc3BhdGNoRXZlbnQoUkVKRUNUSU9OX0hBTkRMRUQsIHByb21pc2UsIHN0YXRlLnZhbHVlKTtcbiAgfSk7XG59O1xuXG52YXIgYmluZCA9IGZ1bmN0aW9uIChmbiwgc3RhdGUsIHVud3JhcCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgZm4oc3RhdGUsIHZhbHVlLCB1bndyYXApO1xuICB9O1xufTtcblxudmFyIGludGVybmFsUmVqZWN0ID0gZnVuY3Rpb24gKHN0YXRlLCB2YWx1ZSwgdW53cmFwKSB7XG4gIGlmIChzdGF0ZS5kb25lKSByZXR1cm47XG4gIHN0YXRlLmRvbmUgPSB0cnVlO1xuICBpZiAodW53cmFwKSBzdGF0ZSA9IHVud3JhcDtcbiAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgc3RhdGUuc3RhdGUgPSBSRUpFQ1RFRDtcbiAgbm90aWZ5KHN0YXRlLCB0cnVlKTtcbn07XG5cbnZhciBpbnRlcm5hbFJlc29sdmUgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgaWYgKHN0YXRlLmRvbmUpIHJldHVybjtcbiAgc3RhdGUuZG9uZSA9IHRydWU7XG4gIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICB0cnkge1xuICAgIGlmIChzdGF0ZS5mYWNhZGUgPT09IHZhbHVlKSB0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICB2YXIgdGhlbiA9IGlzVGhlbmFibGUodmFsdWUpO1xuICAgIGlmICh0aGVuKSB7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd3JhcHBlciA9IHsgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjYWxsKHRoZW4sIHZhbHVlLFxuICAgICAgICAgICAgYmluZChpbnRlcm5hbFJlc29sdmUsIHdyYXBwZXIsIHN0YXRlKSxcbiAgICAgICAgICAgIGJpbmQoaW50ZXJuYWxSZWplY3QsIHdyYXBwZXIsIHN0YXRlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaW50ZXJuYWxSZWplY3Qod3JhcHBlciwgZXJyb3IsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgICBzdGF0ZS5zdGF0ZSA9IEZVTEZJTExFRDtcbiAgICAgIG5vdGlmeShzdGF0ZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpbnRlcm5hbFJlamVjdCh7IGRvbmU6IGZhbHNlIH0sIGVycm9yLCBzdGF0ZSk7XG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZiAoRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IpIHtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgUHJvbWlzZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgIGFuSW5zdGFuY2UodGhpcywgUHJvbWlzZVByb3RvdHlwZSk7XG4gICAgYUNhbGxhYmxlKGV4ZWN1dG9yKTtcbiAgICBjYWxsKEludGVybmFsLCB0aGlzKTtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoYmluZChpbnRlcm5hbFJlc29sdmUsIHN0YXRlKSwgYmluZChpbnRlcm5hbFJlamVjdCwgc3RhdGUpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaW50ZXJuYWxSZWplY3Qoc3RhdGUsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgUHJvbWlzZVByb3RvdHlwZSA9IFByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzIC0tIHJlcXVpcmVkIGZvciBgLmxlbmd0aGBcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgICB0eXBlOiBQUk9NSVNFLFxuICAgICAgZG9uZTogZmFsc2UsXG4gICAgICBub3RpZmllZDogZmFsc2UsXG4gICAgICBwYXJlbnQ6IGZhbHNlLFxuICAgICAgcmVhY3Rpb25zOiBuZXcgUXVldWUoKSxcbiAgICAgIHJlamVjdGlvbjogZmFsc2UsXG4gICAgICBzdGF0ZTogUEVORElORyxcbiAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgfTtcblxuICAvLyBgUHJvbWlzZS5wcm90b3R5cGUudGhlbmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5wcm90b3R5cGUudGhlblxuICBJbnRlcm5hbC5wcm90b3R5cGUgPSBkZWZpbmVCdWlsdEluKFByb21pc2VQcm90b3R5cGUsICd0aGVuJywgZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUHJvbWlzZVN0YXRlKHRoaXMpO1xuICAgIHZhciByZWFjdGlvbiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCBQcm9taXNlQ29uc3RydWN0b3IpKTtcbiAgICBzdGF0ZS5wYXJlbnQgPSB0cnVlO1xuICAgIHJlYWN0aW9uLm9rID0gaXNDYWxsYWJsZShvbkZ1bGZpbGxlZCkgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgcmVhY3Rpb24uZmFpbCA9IGlzQ2FsbGFibGUob25SZWplY3RlZCkgJiYgb25SZWplY3RlZDtcbiAgICByZWFjdGlvbi5kb21haW4gPSBJU19OT0RFID8gcHJvY2Vzcy5kb21haW4gOiB1bmRlZmluZWQ7XG4gICAgaWYgKHN0YXRlLnN0YXRlID09IFBFTkRJTkcpIHN0YXRlLnJlYWN0aW9ucy5hZGQocmVhY3Rpb24pO1xuICAgIGVsc2UgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxSZWFjdGlvbihyZWFjdGlvbiwgc3RhdGUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICB9KTtcblxuICBPd25Qcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUHJvbWlzZVN0YXRlKHByb21pc2UpO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2U7XG4gICAgdGhpcy5yZXNvbHZlID0gYmluZChpbnRlcm5hbFJlc29sdmUsIHN0YXRlKTtcbiAgICB0aGlzLnJlamVjdCA9IGJpbmQoaW50ZXJuYWxSZWplY3QsIHN0YXRlKTtcbiAgfTtcblxuICBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuICAgIHJldHVybiBDID09PSBQcm9taXNlQ29uc3RydWN0b3IgfHwgQyA9PT0gUHJvbWlzZVdyYXBwZXJcbiAgICAgID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICA6IG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgfTtcblxuICBpZiAoIUlTX1BVUkUgJiYgaXNDYWxsYWJsZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IpICYmIE5hdGl2ZVByb21pc2VQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICBuYXRpdmVUaGVuID0gTmF0aXZlUHJvbWlzZVByb3RvdHlwZS50aGVuO1xuXG4gICAgaWYgKCFOQVRJVkVfUFJPTUlTRV9TVUJDTEFTU0lORykge1xuICAgICAgLy8gbWFrZSBgUHJvbWlzZSN0aGVuYCByZXR1cm4gYSBwb2x5ZmlsbGVkIGBQcm9taXNlYCBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgICAgZGVmaW5lQnVpbHRJbihOYXRpdmVQcm9taXNlUHJvdG90eXBlLCAndGhlbicsIGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgY2FsbChuYXRpdmVUaGVuLCB0aGF0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NDBcbiAgICAgIH0sIHsgdW5zYWZlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8vIG1ha2UgYC5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZWAgd29yayBmb3IgbmF0aXZlIHByb21pc2UtYmFzZWQgQVBJc1xuICAgIHRyeSB7XG4gICAgICBkZWxldGUgTmF0aXZlUHJvbWlzZVByb3RvdHlwZS5jb25zdHJ1Y3RvcjtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG5cbiAgICAvLyBtYWtlIGBpbnN0YW5jZW9mIFByb21pc2VgIHdvcmsgZm9yIG5hdGl2ZSBwcm9taXNlLWJhc2VkIEFQSXNcbiAgICBpZiAoc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIHNldFByb3RvdHlwZU9mKE5hdGl2ZVByb21pc2VQcm90b3R5cGUsIFByb21pc2VQcm90b3R5cGUpO1xuICAgIH1cbiAgfVxufVxuXG4kKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiB9LCB7XG4gIFByb21pc2U6IFByb21pc2VDb25zdHJ1Y3RvclxufSk7XG5cbnNldFRvU3RyaW5nVGFnKFByb21pc2VDb25zdHJ1Y3RvciwgUFJPTUlTRSwgZmFsc2UsIHRydWUpO1xuc2V0U3BlY2llcyhQUk9NSVNFKTtcbiIsIi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3Mgc3BsaXQgdG8gbW9kdWxlcyBsaXN0ZWQgYmVsb3dcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMucHJvbWlzZS5jb25zdHJ1Y3RvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLmFsbCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLmNhdGNoJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnByb21pc2UucmFjZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLnJlamVjdCcpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5wcm9taXNlLnJlc29sdmUnKTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGFDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hLWNhbGxhYmxlJyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvbmV3LXByb21pc2UtY2FwYWJpbGl0eScpO1xudmFyIHBlcmZvcm0gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcGVyZm9ybScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2Utc3RhdGljcy1pbmNvcnJlY3QtaXRlcmF0aW9uJyk7XG5cbi8vIGBQcm9taXNlLnJhY2VgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJhY2VcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mKEMpO1xuICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHByb21pc2VSZXNvbHZlID0gYUNhbGxhYmxlKEMucmVzb2x2ZSk7XG4gICAgICBpdGVyYXRlKGl0ZXJhYmxlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICBjYWxsKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL25ldy1wcm9taXNlLWNhcGFiaWxpdHknKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpLkNPTlNUUlVDVE9SO1xuXG4vLyBgUHJvbWlzZS5yZWplY3RgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJlamVjdFxuJCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocikge1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZih0aGlzKTtcbiAgICBjYWxsKGNhcGFiaWxpdHkucmVqZWN0LCB1bmRlZmluZWQsIHIpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcHJvbWlzZS1uYXRpdmUtY29uc3RydWN0b3InKTtcbnZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9wcm9taXNlLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpLkNPTlNUUlVDVE9SO1xudmFyIHByb21pc2VSZXNvbHZlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3Byb21pc2UtcmVzb2x2ZScpO1xuXG52YXIgUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA9IGdldEJ1aWx0SW4oJ1Byb21pc2UnKTtcbnZhciBDSEVDS19XUkFQUEVSID0gSVNfUFVSRSAmJiAhRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1I7XG5cbi8vIGBQcm9taXNlLnJlc29sdmVgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLnJlc29sdmVcbiQoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBJU19QVVJFIHx8IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SIH0sIHtcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KSB7XG4gICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKENIRUNLX1dSQVBQRVIgJiYgdGhpcyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA/IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA6IHRoaXMsIHgpO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGV4ZWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVnZXhwLWV4ZWMnKTtcblxuLy8gYFJlZ0V4cC5wcm90b3R5cGUuZXhlY2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUuZXhlY1xuJCh7IHRhcmdldDogJ1JlZ0V4cCcsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IC8uLy5leGVjICE9PSBleGVjIH0sIHtcbiAgZXhlYzogZXhlY1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgUFJPUEVSX0ZVTkNUSU9OX05BTUUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tbmFtZScpLlBST1BFUjtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLW9iamVjdCcpO1xudmFyICR0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBmYWlscyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mYWlscycpO1xudmFyIGdldFJlZ0V4cEZsYWdzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1nZXQtZmxhZ3MnKTtcblxudmFyIFRPX1NUUklORyA9ICd0b1N0cmluZyc7XG52YXIgUmVnRXhwUHJvdG90eXBlID0gUmVnRXhwLnByb3RvdHlwZTtcbnZhciBuYXRpdmVUb1N0cmluZyA9IFJlZ0V4cFByb3RvdHlwZVtUT19TVFJJTkddO1xuXG52YXIgTk9UX0dFTkVSSUMgPSBmYWlscyhmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVUb1N0cmluZy5jYWxsKHsgc291cmNlOiAnYScsIGZsYWdzOiAnYicgfSkgIT0gJy9hL2InOyB9KTtcbi8vIEZGNDQtIFJlZ0V4cCN0b1N0cmluZyBoYXMgYSB3cm9uZyBuYW1lXG52YXIgSU5DT1JSRUNUX05BTUUgPSBQUk9QRVJfRlVOQ1RJT05fTkFNRSAmJiBuYXRpdmVUb1N0cmluZy5uYW1lICE9IFRPX1NUUklORztcblxuLy8gYFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmdgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG5pZiAoTk9UX0dFTkVSSUMgfHwgSU5DT1JSRUNUX05BTUUpIHtcbiAgZGVmaW5lQnVpbHRJbihSZWdFeHAucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHZhciBSID0gYW5PYmplY3QodGhpcyk7XG4gICAgdmFyIHBhdHRlcm4gPSAkdG9TdHJpbmcoUi5zb3VyY2UpO1xuICAgIHZhciBmbGFncyA9ICR0b1N0cmluZyhnZXRSZWdFeHBGbGFncyhSKSk7XG4gICAgcmV0dXJuICcvJyArIHBhdHRlcm4gKyAnLycgKyBmbGFncztcbiAgfSwgeyB1bnNhZmU6IHRydWUgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgY2hhckF0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUnKS5jaGFyQXQ7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xudmFyIGRlZmluZUl0ZXJhdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9yLWRlZmluZScpO1xudmFyIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLWl0ZXItcmVzdWx0LW9iamVjdCcpO1xuXG52YXIgU1RSSU5HX0lURVJBVE9SID0gJ1N0cmluZyBJdGVyYXRvcic7XG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGdldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcihTVFJJTkdfSVRFUkFUT1IpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUtQEBpdGVyYXRvclxuZGVmaW5lSXRlcmF0b3IoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgIHR5cGU6IFNUUklOR19JVEVSQVRPUixcbiAgICBzdHJpbmc6IHRvU3RyaW5nKGl0ZXJhdGVkKSxcbiAgICBpbmRleDogMFxuICB9KTtcbi8vIGAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy0lc3RyaW5naXRlcmF0b3Jwcm90b3R5cGUlLm5leHRcbn0sIGZ1bmN0aW9uIG5leHQoKSB7XG4gIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gIHZhciBzdHJpbmcgPSBzdGF0ZS5zdHJpbmc7XG4gIHZhciBpbmRleCA9IHN0YXRlLmluZGV4O1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBzdHJpbmcubGVuZ3RoKSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCh1bmRlZmluZWQsIHRydWUpO1xuICBwb2ludCA9IGNoYXJBdChzdHJpbmcsIGluZGV4KTtcbiAgc3RhdGUuaW5kZXggKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChwb2ludCwgZmFsc2UpO1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBjcmVhdGVIVE1MID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NyZWF0ZS1odG1sJyk7XG52YXIgZm9yY2VkU3RyaW5nSFRNTE1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctaHRtbC1mb3JjZWQnKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUubGlua2AgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUubGlua1xuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IGZvcmNlZFN0cmluZ0hUTUxNZXRob2QoJ2xpbmsnKSB9LCB7XG4gIGxpbms6IGZ1bmN0aW9uIGxpbmsodXJsKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUhUTUwodGhpcywgJ2EnLCAnaHJlZicsIHVybCk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tY2FsbCcpO1xudmFyIGZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZpeC1yZWdleHAtd2VsbC1rbm93bi1zeW1ib2wtbG9naWMnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBpc051bGxPclVuZGVmaW5lZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1udWxsLW9yLXVuZGVmaW5lZCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLWxlbmd0aCcpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVxdWlyZS1vYmplY3QtY29lcmNpYmxlJyk7XG52YXIgZ2V0TWV0aG9kID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dldC1tZXRob2QnKTtcbnZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWR2YW5jZS1zdHJpbmctaW5kZXgnKTtcbnZhciByZWdFeHBFeGVjID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZ2V4cC1leGVjLWFic3RyYWN0Jyk7XG5cbi8vIEBAbWF0Y2ggbG9naWNcbmZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljKCdtYXRjaCcsIGZ1bmN0aW9uIChNQVRDSCwgbmF0aXZlTWF0Y2gsIG1heWJlQ2FsbE5hdGl2ZSkge1xuICByZXR1cm4gW1xuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLm1hdGNoYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUubWF0Y2hcbiAgICBmdW5jdGlvbiBtYXRjaChyZWdleHApIHtcbiAgICAgIHZhciBPID0gcmVxdWlyZU9iamVjdENvZXJjaWJsZSh0aGlzKTtcbiAgICAgIHZhciBtYXRjaGVyID0gaXNOdWxsT3JVbmRlZmluZWQocmVnZXhwKSA/IHVuZGVmaW5lZCA6IGdldE1ldGhvZChyZWdleHAsIE1BVENIKTtcbiAgICAgIHJldHVybiBtYXRjaGVyID8gY2FsbChtYXRjaGVyLCByZWdleHAsIE8pIDogbmV3IFJlZ0V4cChyZWdleHApW01BVENIXSh0b1N0cmluZyhPKSk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQG1hdGNoXWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAbWF0Y2hcbiAgICBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgICB2YXIgcnggPSBhbk9iamVjdCh0aGlzKTtcbiAgICAgIHZhciBTID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHZhciByZXMgPSBtYXliZUNhbGxOYXRpdmUobmF0aXZlTWF0Y2gsIHJ4LCBTKTtcblxuICAgICAgaWYgKHJlcy5kb25lKSByZXR1cm4gcmVzLnZhbHVlO1xuXG4gICAgICBpZiAoIXJ4Lmdsb2JhbCkgcmV0dXJuIHJlZ0V4cEV4ZWMocngsIFMpO1xuXG4gICAgICB2YXIgZnVsbFVuaWNvZGUgPSByeC51bmljb2RlO1xuICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgIHZhciBBID0gW107XG4gICAgICB2YXIgbiA9IDA7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgd2hpbGUgKChyZXN1bHQgPSByZWdFeHBFeGVjKHJ4LCBTKSkgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIG1hdGNoU3RyID0gdG9TdHJpbmcocmVzdWx0WzBdKTtcbiAgICAgICAgQVtuXSA9IG1hdGNoU3RyO1xuICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgocngubGFzdEluZGV4KSwgZnVsbFVuaWNvZGUpO1xuICAgICAgICBuKys7XG4gICAgICB9XG4gICAgICByZXR1cm4gbiA9PT0gMCA/IG51bGwgOiBBO1xuICAgIH1cbiAgXTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFwcGx5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWFwcGx5Jyk7XG52YXIgY2FsbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1jYWxsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZml4UmVnRXhwV2VsbEtub3duU3ltYm9sTG9naWMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZml4LXJlZ2V4cC13ZWxsLWtub3duLXN5bWJvbC1sb2dpYycpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW51bGwtb3ItdW5kZWZpbmVkJyk7XG52YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1pbnRlZ2VyLW9yLWluZmluaXR5Jyk7XG52YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tbGVuZ3RoJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciBhZHZhbmNlU3RyaW5nSW5kZXggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYWR2YW5jZS1zdHJpbmctaW5kZXgnKTtcbnZhciBnZXRNZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2V0LW1ldGhvZCcpO1xudmFyIGdldFN1YnN0aXR1dGlvbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtc3Vic3RpdHV0aW9uJyk7XG52YXIgcmVnRXhwRXhlYyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZWdleHAtZXhlYy1hYnN0cmFjdCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xuXG52YXIgUkVQTEFDRSA9IHdlbGxLbm93blN5bWJvbCgncmVwbGFjZScpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xudmFyIGNvbmNhdCA9IHVuY3VycnlUaGlzKFtdLmNvbmNhdCk7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xudmFyIHN0cmluZ0luZGV4T2YgPSB1bmN1cnJ5VGhpcygnJy5pbmRleE9mKTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcblxudmFyIG1heWJlVG9TdHJpbmcgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyBpdCA6IFN0cmluZyhpdCk7XG59O1xuXG4vLyBJRSA8PSAxMSByZXBsYWNlcyAkMCB3aXRoIHRoZSB3aG9sZSBtYXRjaCwgYXMgaWYgaXQgd2FzICQmXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82MDI0NjY2L2dldHRpbmctaWUtdG8tcmVwbGFjZS1hLXJlZ2V4LXdpdGgtdGhlLWxpdGVyYWwtc3RyaW5nLTBcbnZhciBSRVBMQUNFX0tFRVBTXyQwID0gKGZ1bmN0aW9uICgpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZ2V4cC9wcmVmZXItZXNjYXBlLXJlcGxhY2VtZW50LWRvbGxhci1jaGFyIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHJldHVybiAnYScucmVwbGFjZSgvLi8sICckMCcpID09PSAnJDAnO1xufSkoKTtcblxuLy8gU2FmYXJpIDw9IDEzLjAuMyg/KSBzdWJzdGl0dXRlcyBudGggY2FwdHVyZSB3aGVyZSBuPm0gd2l0aCBhbiBlbXB0eSBzdHJpbmdcbnZhciBSRUdFWFBfUkVQTEFDRV9TVUJTVElUVVRFU19VTkRFRklORURfQ0FQVFVSRSA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICgvLi9bUkVQTEFDRV0pIHtcbiAgICByZXR1cm4gLy4vW1JFUExBQ0VdKCdhJywgJyQwJykgPT09ICcnO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pKCk7XG5cbnZhciBSRVBMQUNFX1NVUFBPUlRTX05BTUVEX0dST1VQUyA9ICFmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHZhciByZSA9IC8uLztcbiAgcmUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0Lmdyb3VwcyA9IHsgYTogJzcnIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlZ2V4cC9uby11c2VsZXNzLWRvbGxhci1yZXBsYWNlbWVudHMgLS0gZmFsc2UgcG9zaXRpdmVcbiAgcmV0dXJuICcnLnJlcGxhY2UocmUsICckPGE+JykgIT09ICc3Jztcbn0pO1xuXG4vLyBAQHJlcGxhY2UgbG9naWNcbmZpeFJlZ0V4cFdlbGxLbm93blN5bWJvbExvZ2ljKCdyZXBsYWNlJywgZnVuY3Rpb24gKF8sIG5hdGl2ZVJlcGxhY2UsIG1heWJlQ2FsbE5hdGl2ZSkge1xuICB2YXIgVU5TQUZFX1NVQlNUSVRVVEUgPSBSRUdFWFBfUkVQTEFDRV9TVUJTVElUVVRFU19VTkRFRklORURfQ0FQVFVSRSA/ICckJyA6ICckMCc7XG5cbiAgcmV0dXJuIFtcbiAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUucmVwbGFjZVxuICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgdmFyIE8gPSByZXF1aXJlT2JqZWN0Q29lcmNpYmxlKHRoaXMpO1xuICAgICAgdmFyIHJlcGxhY2VyID0gaXNOdWxsT3JVbmRlZmluZWQoc2VhcmNoVmFsdWUpID8gdW5kZWZpbmVkIDogZ2V0TWV0aG9kKHNlYXJjaFZhbHVlLCBSRVBMQUNFKTtcbiAgICAgIHJldHVybiByZXBsYWNlclxuICAgICAgICA/IGNhbGwocmVwbGFjZXIsIHNlYXJjaFZhbHVlLCBPLCByZXBsYWNlVmFsdWUpXG4gICAgICAgIDogY2FsbChuYXRpdmVSZXBsYWNlLCB0b1N0cmluZyhPKSwgc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSk7XG4gICAgfSxcbiAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHJlcGxhY2VdYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXJlZ2V4cC5wcm90b3R5cGUtQEByZXBsYWNlXG4gICAgZnVuY3Rpb24gKHN0cmluZywgcmVwbGFjZVZhbHVlKSB7XG4gICAgICB2YXIgcnggPSBhbk9iamVjdCh0aGlzKTtcbiAgICAgIHZhciBTID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgcmVwbGFjZVZhbHVlID09ICdzdHJpbmcnICYmXG4gICAgICAgIHN0cmluZ0luZGV4T2YocmVwbGFjZVZhbHVlLCBVTlNBRkVfU1VCU1RJVFVURSkgPT09IC0xICYmXG4gICAgICAgIHN0cmluZ0luZGV4T2YocmVwbGFjZVZhbHVlLCAnJDwnKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKG5hdGl2ZVJlcGxhY2UsIHJ4LCBTLCByZXBsYWNlVmFsdWUpO1xuICAgICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBmdW5jdGlvbmFsUmVwbGFjZSA9IGlzQ2FsbGFibGUocmVwbGFjZVZhbHVlKTtcbiAgICAgIGlmICghZnVuY3Rpb25hbFJlcGxhY2UpIHJlcGxhY2VWYWx1ZSA9IHRvU3RyaW5nKHJlcGxhY2VWYWx1ZSk7XG5cbiAgICAgIHZhciBnbG9iYWwgPSByeC5nbG9iYWw7XG4gICAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIHZhciBmdWxsVW5pY29kZSA9IHJ4LnVuaWNvZGU7XG4gICAgICAgIHJ4Lmxhc3RJbmRleCA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlZ0V4cEV4ZWMocngsIFMpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsKSBicmVhaztcblxuICAgICAgICBwdXNoKHJlc3VsdHMsIHJlc3VsdCk7XG4gICAgICAgIGlmICghZ2xvYmFsKSBicmVhaztcblxuICAgICAgICB2YXIgbWF0Y2hTdHIgPSB0b1N0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBhZHZhbmNlU3RyaW5nSW5kZXgoUywgdG9MZW5ndGgocngubGFzdEluZGV4KSwgZnVsbFVuaWNvZGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWNjdW11bGF0ZWRSZXN1bHQgPSAnJztcbiAgICAgIHZhciBuZXh0U291cmNlUG9zaXRpb24gPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdHNbaV07XG5cbiAgICAgICAgdmFyIG1hdGNoZWQgPSB0b1N0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBtYXgobWluKHRvSW50ZWdlck9ySW5maW5pdHkocmVzdWx0LmluZGV4KSwgUy5sZW5ndGgpLCAwKTtcbiAgICAgICAgdmFyIGNhcHR1cmVzID0gW107XG4gICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICAgICAgICAvLyAgIGNhcHR1cmVzID0gcmVzdWx0LnNsaWNlKDEpLm1hcChtYXliZVRvU3RyaW5nKVxuICAgICAgICAvLyBidXQgZm9yIHNvbWUgcmVhc29uIGBuYXRpdmVTbGljZS5jYWxsKHJlc3VsdCwgMSwgcmVzdWx0Lmxlbmd0aClgIChjYWxsZWQgaW5cbiAgICAgICAgLy8gdGhlIHNsaWNlIHBvbHlmaWxsIHdoZW4gc2xpY2luZyBuYXRpdmUgYXJyYXlzKSBcImRvZXNuJ3Qgd29ya1wiIGluIHNhZmFyaSA5IGFuZFxuICAgICAgICAvLyBjYXVzZXMgYSBjcmFzaCAoaHR0cHM6Ly9wYXN0ZWJpbi5jb20vTjIxUXplUUEpIHdoZW4gdHJ5aW5nIHRvIGRlYnVnIGl0LlxuICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHJlc3VsdC5sZW5ndGg7IGorKykgcHVzaChjYXB0dXJlcywgbWF5YmVUb1N0cmluZyhyZXN1bHRbal0pKTtcbiAgICAgICAgdmFyIG5hbWVkQ2FwdHVyZXMgPSByZXN1bHQuZ3JvdXBzO1xuICAgICAgICBpZiAoZnVuY3Rpb25hbFJlcGxhY2UpIHtcbiAgICAgICAgICB2YXIgcmVwbGFjZXJBcmdzID0gY29uY2F0KFttYXRjaGVkXSwgY2FwdHVyZXMsIHBvc2l0aW9uLCBTKTtcbiAgICAgICAgICBpZiAobmFtZWRDYXB0dXJlcyAhPT0gdW5kZWZpbmVkKSBwdXNoKHJlcGxhY2VyQXJncywgbmFtZWRDYXB0dXJlcyk7XG4gICAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0gdG9TdHJpbmcoYXBwbHkocmVwbGFjZVZhbHVlLCB1bmRlZmluZWQsIHJlcGxhY2VyQXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcGxhY2VtZW50ID0gZ2V0U3Vic3RpdHV0aW9uKG1hdGNoZWQsIFMsIHBvc2l0aW9uLCBjYXB0dXJlcywgbmFtZWRDYXB0dXJlcywgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24gPj0gbmV4dFNvdXJjZVBvc2l0aW9uKSB7XG4gICAgICAgICAgYWNjdW11bGF0ZWRSZXN1bHQgKz0gc3RyaW5nU2xpY2UoUywgbmV4dFNvdXJjZVBvc2l0aW9uLCBwb3NpdGlvbikgKyByZXBsYWNlbWVudDtcbiAgICAgICAgICBuZXh0U291cmNlUG9zaXRpb24gPSBwb3NpdGlvbiArIG1hdGNoZWQubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0ZWRSZXN1bHQgKyBzdHJpbmdTbGljZShTLCBuZXh0U291cmNlUG9zaXRpb24pO1xuICAgIH1cbiAgXTtcbn0sICFSRVBMQUNFX1NVUFBPUlRTX05BTUVEX0dST1VQUyB8fCAhUkVQTEFDRV9LRUVQU18kMCB8fCBSRUdFWFBfUkVQTEFDRV9TVUJTVElUVVRFU19VTkRFRklORURfQ0FQVFVSRSk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciAkdHJpbSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctdHJpbScpLnRyaW07XG52YXIgZm9yY2VkU3RyaW5nVHJpbU1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctdHJpbS1mb3JjZWQnKTtcblxuLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbVxuJCh7IHRhcmdldDogJ1N0cmluZycsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IGZvcmNlZFN0cmluZ1RyaW1NZXRob2QoJ3RyaW0nKSB9LCB7XG4gIHRyaW06IGZ1bmN0aW9uIHRyaW0oKSB7XG4gICAgcmV0dXJuICR0cmltKHRoaXMpO1xuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBJU19QVVJFID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLXB1cmUnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIE5BVElWRV9TWU1CT0wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWNvbnN0cnVjdG9yLWRldGVjdGlvbicpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBpc1Byb3RvdHlwZU9mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1pcy1wcm90b3R5cGUtb2YnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciB0b0luZGV4ZWRPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8taW5kZXhlZC1vYmplY3QnKTtcbnZhciB0b1Byb3BlcnR5S2V5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXByb3BlcnR5LWtleScpO1xudmFyICR0b1N0cmluZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy90by1zdHJpbmcnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBuYXRpdmVPYmplY3RDcmVhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWNyZWF0ZScpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWtleXMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzJyk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LW5hbWVzLWV4dGVybmFsJyk7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvb2JqZWN0LWdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyIGRlZmluZVByb3BlcnR5TW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKTtcbnZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydGllcycpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1wcm9wZXJ0eS1pcy1lbnVtZXJhYmxlJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yJyk7XG52YXIgc2hhcmVkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NoYXJlZCcpO1xudmFyIHNoYXJlZEtleSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQta2V5Jyk7XG52YXIgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oaWRkZW4ta2V5cycpO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcbnZhciB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3dlbGwta25vd24tc3ltYm9sLXdyYXBwZWQnKTtcbnZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wtZGVmaW5lJyk7XG52YXIgZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3ltYm9sLWRlZmluZS10by1wcmltaXRpdmUnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciAkZm9yRWFjaCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1pdGVyYXRpb24nKS5mb3JFYWNoO1xuXG52YXIgSElEREVOID0gc2hhcmVkS2V5KCdoaWRkZW4nKTtcbnZhciBTWU1CT0wgPSAnU3ltYm9sJztcbnZhciBQUk9UT1RZUEUgPSAncHJvdG90eXBlJztcblxudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoU1lNQk9MKTtcblxudmFyIE9iamVjdFByb3RvdHlwZSA9IE9iamVjdFtQUk9UT1RZUEVdO1xudmFyICRTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyIFN5bWJvbFByb3RvdHlwZSA9ICRTeW1ib2wgJiYgJFN5bWJvbFtQUk9UT1RZUEVdO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgUU9iamVjdCA9IGdsb2JhbC5RT2JqZWN0O1xudmFyIG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZS5mO1xudmFyIG5hdGl2ZURlZmluZVByb3BlcnR5ID0gZGVmaW5lUHJvcGVydHlNb2R1bGUuZjtcbnZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmY7XG52YXIgbmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUgPSBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZS5mO1xudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcblxudmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQoJ3N5bWJvbHMnKTtcbnZhciBPYmplY3RQcm90b3R5cGVTeW1ib2xzID0gc2hhcmVkKCdvcC1zeW1ib2xzJyk7XG52YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlID0gc2hhcmVkKCd3a3MnKTtcblxuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgVVNFX1NFVFRFUiA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyAmJiBmYWlscyhmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RDcmVhdGUobmF0aXZlRGVmaW5lUHJvcGVydHkoe30sICdhJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkodGhpcywgJ2EnLCB7IHZhbHVlOiA3IH0pLmE7IH1cbiAgfSkpLmEgIT0gNztcbn0pID8gZnVuY3Rpb24gKE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgdmFyIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0UHJvdG90eXBlLCBQKTtcbiAgaWYgKE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpIGRlbGV0ZSBPYmplY3RQcm90b3R5cGVbUF07XG4gIG5hdGl2ZURlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpO1xuICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciAmJiBPICE9PSBPYmplY3RQcm90b3R5cGUpIHtcbiAgICBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90b3R5cGUsIFAsIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpO1xuICB9XG59IDogbmF0aXZlRGVmaW5lUHJvcGVydHk7XG5cbnZhciB3cmFwID0gZnVuY3Rpb24gKHRhZywgZGVzY3JpcHRpb24pIHtcbiAgdmFyIHN5bWJvbCA9IEFsbFN5bWJvbHNbdGFnXSA9IG5hdGl2ZU9iamVjdENyZWF0ZShTeW1ib2xQcm90b3R5cGUpO1xuICBzZXRJbnRlcm5hbFN0YXRlKHN5bWJvbCwge1xuICAgIHR5cGU6IFNZTUJPTCxcbiAgICB0YWc6IHRhZyxcbiAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cbiAgfSk7XG4gIGlmICghREVTQ1JJUFRPUlMpIHN5bWJvbC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICByZXR1cm4gc3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgaWYgKE8gPT09IE9iamVjdFByb3RvdHlwZSkgJGRlZmluZVByb3BlcnR5KE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIFAsIEF0dHJpYnV0ZXMpO1xuICBhbk9iamVjdChPKTtcbiAgdmFyIGtleSA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoaGFzT3duKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICBpZiAoIUF0dHJpYnV0ZXMuZW51bWVyYWJsZSkge1xuICAgICAgaWYgKCFoYXNPd24oTywgSElEREVOKSkgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgSElEREVOLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwge30pKTtcbiAgICAgIE9bSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhc093bihPLCBISURERU4pICYmIE9bSElEREVOXVtrZXldKSBPW0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgQXR0cmlidXRlcyA9IG5hdGl2ZU9iamVjdENyZWF0ZShBdHRyaWJ1dGVzLCB7IGVudW1lcmFibGU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigwLCBmYWxzZSkgfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzY3JpcHRvcihPLCBrZXksIEF0dHJpYnV0ZXMpO1xuICB9IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBrZXksIEF0dHJpYnV0ZXMpO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIgcHJvcGVydGllcyA9IHRvSW5kZXhlZE9iamVjdChQcm9wZXJ0aWVzKTtcbiAgdmFyIGtleXMgPSBvYmplY3RLZXlzKHByb3BlcnRpZXMpLmNvbmNhdCgkZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BlcnRpZXMpKTtcbiAgJGZvckVhY2goa2V5cywgZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghREVTQ1JJUFRPUlMgfHwgY2FsbCgkcHJvcGVydHlJc0VudW1lcmFibGUsIHByb3BlcnRpZXMsIGtleSkpICRkZWZpbmVQcm9wZXJ0eShPLCBrZXksIHByb3BlcnRpZXNba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gTztcbn07XG5cbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IG5hdGl2ZU9iamVjdENyZWF0ZShPKSA6ICRkZWZpbmVQcm9wZXJ0aWVzKG5hdGl2ZU9iamVjdENyZWF0ZShPKSwgUHJvcGVydGllcyk7XG59O1xuXG52YXIgJHByb3BlcnR5SXNFbnVtZXJhYmxlID0gZnVuY3Rpb24gcHJvcGVydHlJc0VudW1lcmFibGUoVikge1xuICB2YXIgUCA9IHRvUHJvcGVydHlLZXkoVik7XG4gIHZhciBlbnVtZXJhYmxlID0gY2FsbChuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSwgdGhpcywgUCk7XG4gIGlmICh0aGlzID09PSBPYmplY3RQcm90b3R5cGUgJiYgaGFzT3duKEFsbFN5bWJvbHMsIFApICYmICFoYXNPd24oT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCkpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGVudW1lcmFibGUgfHwgIWhhc093bih0aGlzLCBQKSB8fCAhaGFzT3duKEFsbFN5bWJvbHMsIFApIHx8IGhhc093bih0aGlzLCBISURERU4pICYmIHRoaXNbSElEREVOXVtQXVxuICAgID8gZW51bWVyYWJsZSA6IHRydWU7XG59O1xuXG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIHZhciBpdCA9IHRvSW5kZXhlZE9iamVjdChPKTtcbiAgdmFyIGtleSA9IHRvUHJvcGVydHlLZXkoUCk7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG90eXBlICYmIGhhc093bihBbGxTeW1ib2xzLCBrZXkpICYmICFoYXNPd24oT2JqZWN0UHJvdG90eXBlU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgZGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KTtcbiAgaWYgKGRlc2NyaXB0b3IgJiYgaGFzT3duKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXNPd24oaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKSkge1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGRlc2NyaXB0b3I7XG59O1xuXG52YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgdmFyIG5hbWVzID0gbmF0aXZlR2V0T3duUHJvcGVydHlOYW1lcyh0b0luZGV4ZWRPYmplY3QoTykpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gICRmb3JFYWNoKG5hbWVzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFoYXNPd24oQWxsU3ltYm9scywga2V5KSAmJiAhaGFzT3duKGhpZGRlbktleXMsIGtleSkpIHB1c2gocmVzdWx0LCBrZXkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gKE8pIHtcbiAgdmFyIElTX09CSkVDVF9QUk9UT1RZUEUgPSBPID09PSBPYmplY3RQcm90b3R5cGU7XG4gIHZhciBuYW1lcyA9IG5hdGl2ZUdldE93blByb3BlcnR5TmFtZXMoSVNfT0JKRUNUX1BST1RPVFlQRSA/IE9iamVjdFByb3RvdHlwZVN5bWJvbHMgOiB0b0luZGV4ZWRPYmplY3QoTykpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gICRmb3JFYWNoKG5hbWVzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKGhhc093bihBbGxTeW1ib2xzLCBrZXkpICYmICghSVNfT0JKRUNUX1BST1RPVFlQRSB8fCBoYXNPd24oT2JqZWN0UHJvdG90eXBlLCBrZXkpKSkge1xuICAgICAgcHVzaChyZXN1bHQsIEFsbFN5bWJvbHNba2V5XSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vIGBTeW1ib2xgIGNvbnN0cnVjdG9yXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC1jb25zdHJ1Y3RvclxuaWYgKCFOQVRJVkVfU1lNQk9MKSB7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgaWYgKGlzUHJvdG90eXBlT2YoU3ltYm9sUHJvdG90eXBlLCB0aGlzKSkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcbiAgICB2YXIgZGVzY3JpcHRpb24gPSAhYXJndW1lbnRzLmxlbmd0aCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICR0b1N0cmluZyhhcmd1bWVudHNbMF0pO1xuICAgIHZhciB0YWcgPSB1aWQoZGVzY3JpcHRpb24pO1xuICAgIHZhciBzZXR0ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90b3R5cGUpIGNhbGwoc2V0dGVyLCBPYmplY3RQcm90b3R5cGVTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICBpZiAoaGFzT3duKHRoaXMsIEhJRERFTikgJiYgaGFzT3duKHRoaXNbSElEREVOXSwgdGFnKSkgdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2NyaXB0b3IodGhpcywgdGFnLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMSwgdmFsdWUpKTtcbiAgICB9O1xuICAgIGlmIChERVNDUklQVE9SUyAmJiBVU0VfU0VUVEVSKSBzZXRTeW1ib2xEZXNjcmlwdG9yKE9iamVjdFByb3RvdHlwZSwgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiBzZXR0ZXIgfSk7XG4gICAgcmV0dXJuIHdyYXAodGFnLCBkZXNjcmlwdGlvbik7XG4gIH07XG5cbiAgU3ltYm9sUHJvdG90eXBlID0gJFN5bWJvbFtQUk9UT1RZUEVdO1xuXG4gIGRlZmluZUJ1aWx0SW4oU3ltYm9sUHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS50YWc7XG4gIH0pO1xuXG4gIGRlZmluZUJ1aWx0SW4oJFN5bWJvbCwgJ3dpdGhvdXRTZXR0ZXInLCBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gd3JhcCh1aWQoZGVzY3JpcHRpb24pLCBkZXNjcmlwdGlvbik7XG4gIH0pO1xuXG4gIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gIGRlZmluZVByb3BlcnR5TW9kdWxlLmYgPSAkZGVmaW5lUHJvcGVydHk7XG4gIGRlZmluZVByb3BlcnRpZXNNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZiA9ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUuZiA9IGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZS5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlLmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdlbGxLbm93blN5bWJvbChuYW1lKSwgbmFtZSk7XG4gIH07XG5cbiAgaWYgKERFU0NSSVBUT1JTKSB7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtU3ltYm9sLWRlc2NyaXB0aW9uXG4gICAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFN5bWJvbFByb3RvdHlwZSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUodGhpcykuZGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFJU19QVVJFKSB7XG4gICAgICBkZWZpbmVCdWlsdEluKE9iamVjdFByb3RvdHlwZSwgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJHByb3BlcnR5SXNFbnVtZXJhYmxlLCB7IHVuc2FmZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cbn1cblxuJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIHdyYXA6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgU3ltYm9sOiAkU3ltYm9sXG59KTtcblxuJGZvckVhY2gob2JqZWN0S2V5cyhXZWxsS25vd25TeW1ib2xzU3RvcmUpLCBmdW5jdGlvbiAobmFtZSkge1xuICBkZWZpbmVXZWxsS25vd25TeW1ib2wobmFtZSk7XG59KTtcblxuJCh7IHRhcmdldDogU1lNQk9MLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MIH0sIHtcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IFVTRV9TRVRURVIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IGZhbHNlOyB9XG59KTtcblxuJCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0wsIHNoYW06ICFERVNDUklQVE9SUyB9LCB7XG4gIC8vIGBPYmplY3QuY3JlYXRlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG4gIGNyZWF0ZTogJGNyZWF0ZSxcbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0eWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG4gIGRlZmluZVByb3BlcnR5OiAkZGVmaW5lUHJvcGVydHksXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcbn0pO1xuXG4kKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCB9LCB7XG4gIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5bmFtZXNcbiAgZ2V0T3duUHJvcGVydHlOYW1lczogJGdldE93blByb3BlcnR5TmFtZXNcbn0pO1xuXG4vLyBgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXWAgbWV0aG9kXG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUoKTtcblxuLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ11gIHByb3BlcnR5XG4vLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZ1xuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgU1lNQk9MKTtcblxuaGlkZGVuS2V5c1tISURERU5dID0gdHJ1ZTtcbiIsIi8vIGBTeW1ib2wucHJvdG90eXBlLmRlc2NyaXB0aW9uYCBnZXR0ZXJcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnByb3RvdHlwZS5kZXNjcmlwdGlvblxuJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgaGFzT3duID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcy1vd24tcHJvcGVydHknKTtcbnZhciBpc0NhbGxhYmxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLWNhbGxhYmxlJyk7XG52YXIgaXNQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9vYmplY3QtaXMtcHJvdG90eXBlLW9mJyk7XG52YXIgdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgZGVmaW5lQnVpbHRJbkFjY2Vzc29yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbi1hY2Nlc3NvcicpO1xudmFyIGNvcHlDb25zdHJ1Y3RvclByb3BlcnRpZXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29weS1jb25zdHJ1Y3Rvci1wcm9wZXJ0aWVzJyk7XG5cbnZhciBOYXRpdmVTeW1ib2wgPSBnbG9iYWwuU3ltYm9sO1xudmFyIFN5bWJvbFByb3RvdHlwZSA9IE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wucHJvdG90eXBlO1xuXG5pZiAoREVTQ1JJUFRPUlMgJiYgaXNDYWxsYWJsZShOYXRpdmVTeW1ib2wpICYmICghKCdkZXNjcmlwdGlvbicgaW4gU3ltYm9sUHJvdG90eXBlKSB8fFxuICAvLyBTYWZhcmkgMTIgYnVnXG4gIE5hdGl2ZVN5bWJvbCgpLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWRcbikpIHtcbiAgdmFyIEVtcHR5U3RyaW5nRGVzY3JpcHRpb25TdG9yZSA9IHt9O1xuICAvLyB3cmFwIFN5bWJvbCBjb25zdHJ1Y3RvciBmb3IgY29ycmVjdCB3b3JrIHdpdGggdW5kZWZpbmVkIGRlc2NyaXB0aW9uXG4gIHZhciBTeW1ib2xXcmFwcGVyID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIHZhciBkZXNjcmlwdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPCAxIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogdG9TdHJpbmcoYXJndW1lbnRzWzBdKTtcbiAgICB2YXIgcmVzdWx0ID0gaXNQcm90b3R5cGVPZihTeW1ib2xQcm90b3R5cGUsIHRoaXMpXG4gICAgICA/IG5ldyBOYXRpdmVTeW1ib2woZGVzY3JpcHRpb24pXG4gICAgICAvLyBpbiBFZGdlIDEzLCBTdHJpbmcoU3ltYm9sKHVuZGVmaW5lZCkpID09PSAnU3ltYm9sKHVuZGVmaW5lZCknXG4gICAgICA6IGRlc2NyaXB0aW9uID09PSB1bmRlZmluZWQgPyBOYXRpdmVTeW1ib2woKSA6IE5hdGl2ZVN5bWJvbChkZXNjcmlwdGlvbik7XG4gICAgaWYgKGRlc2NyaXB0aW9uID09PSAnJykgRW1wdHlTdHJpbmdEZXNjcmlwdGlvblN0b3JlW3Jlc3VsdF0gPSB0cnVlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyhTeW1ib2xXcmFwcGVyLCBOYXRpdmVTeW1ib2wpO1xuICBTeW1ib2xXcmFwcGVyLnByb3RvdHlwZSA9IFN5bWJvbFByb3RvdHlwZTtcbiAgU3ltYm9sUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ltYm9sV3JhcHBlcjtcblxuICB2YXIgTkFUSVZFX1NZTUJPTCA9IFN0cmluZyhOYXRpdmVTeW1ib2woJ3Rlc3QnKSkgPT0gJ1N5bWJvbCh0ZXN0KSc7XG4gIHZhciB0aGlzU3ltYm9sVmFsdWUgPSB1bmN1cnJ5VGhpcyhTeW1ib2xQcm90b3R5cGUudmFsdWVPZik7XG4gIHZhciBzeW1ib2xEZXNjcmlwdGl2ZVN0cmluZyA9IHVuY3VycnlUaGlzKFN5bWJvbFByb3RvdHlwZS50b1N0cmluZyk7XG4gIHZhciByZWdleHAgPSAvXlN5bWJvbFxcKCguKilcXClbXildKyQvO1xuICB2YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzKCcnLnJlcGxhY2UpO1xuICB2YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcygnJy5zbGljZSk7XG5cbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFN5bWJvbFByb3RvdHlwZSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGRlc2NyaXB0aW9uKCkge1xuICAgICAgdmFyIHN5bWJvbCA9IHRoaXNTeW1ib2xWYWx1ZSh0aGlzKTtcbiAgICAgIGlmIChoYXNPd24oRW1wdHlTdHJpbmdEZXNjcmlwdGlvblN0b3JlLCBzeW1ib2wpKSByZXR1cm4gJyc7XG4gICAgICB2YXIgc3RyaW5nID0gc3ltYm9sRGVzY3JpcHRpdmVTdHJpbmcoc3ltYm9sKTtcbiAgICAgIHZhciBkZXNjID0gTkFUSVZFX1NZTUJPTCA/IHN0cmluZ1NsaWNlKHN0cmluZywgNywgLTEpIDogcmVwbGFjZShzdHJpbmcsIHJlZ2V4cCwgJyQxJyk7XG4gICAgICByZXR1cm4gZGVzYyA9PT0gJycgPyB1bmRlZmluZWQgOiBkZXNjO1xuICAgIH1cbiAgfSk7XG5cbiAgJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIGZvcmNlZDogdHJ1ZSB9LCB7XG4gICAgU3ltYm9sOiBTeW1ib2xXcmFwcGVyXG4gIH0pO1xufVxuIiwidmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgZ2V0QnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtYnVpbHQtaW4nKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzLW93bi1wcm9wZXJ0eScpO1xudmFyIHRvU3RyaW5nID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3RvLXN0cmluZycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciBOQVRJVkVfU1lNQk9MX1JFR0lTVFJZID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N5bWJvbC1yZWdpc3RyeS1kZXRlY3Rpb24nKTtcblxudmFyIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQoJ3N0cmluZy10by1zeW1ib2wtcmVnaXN0cnknKTtcbnZhciBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5ID0gc2hhcmVkKCdzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5Jyk7XG5cbi8vIGBTeW1ib2wuZm9yYCBtZXRob2Rcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmZvclxuJCh7IHRhcmdldDogJ1N5bWJvbCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogIU5BVElWRV9TWU1CT0xfUkVHSVNUUlkgfSwge1xuICAnZm9yJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzdHJpbmcgPSB0b1N0cmluZyhrZXkpO1xuICAgIGlmIChoYXNPd24oU3RyaW5nVG9TeW1ib2xSZWdpc3RyeSwgc3RyaW5nKSkgcmV0dXJuIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnlbc3RyaW5nXTtcbiAgICB2YXIgc3ltYm9sID0gZ2V0QnVpbHRJbignU3ltYm9sJykoc3RyaW5nKTtcbiAgICBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5W3N0cmluZ10gPSBzeW1ib2w7XG4gICAgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeVtzeW1ib2xdID0gc3RyaW5nO1xuICAgIHJldHVybiBzeW1ib2w7XG4gIH1cbn0pO1xuIiwidmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbC1kZWZpbmUnKTtcblxuLy8gYFN5bWJvbC5pdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbi8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG5kZWZpbmVXZWxsS25vd25TeW1ib2woJ2l0ZXJhdG9yJyk7XG4iLCIvLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHNwbGl0IHRvIG1vZHVsZXMgbGlzdGVkIGJlbG93XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN5bWJvbC5jb25zdHJ1Y3RvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5zeW1ib2wuZm9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN5bWJvbC5rZXktZm9yJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5Jyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMnKTtcbiIsInZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtc3ltYm9sJyk7XG52YXIgdHJ5VG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdHJ5LXRvLXN0cmluZycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zaGFyZWQnKTtcbnZhciBOQVRJVkVfU1lNQk9MX1JFR0lTVFJZID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N5bWJvbC1yZWdpc3RyeS1kZXRlY3Rpb24nKTtcblxudmFyIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnkgPSBzaGFyZWQoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuLy8gYFN5bWJvbC5rZXlGb3JgIG1ldGhvZFxuLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wua2V5Zm9yXG4kKHsgdGFyZ2V0OiAnU3ltYm9sJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSB9LCB7XG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHRyeVRvU3RyaW5nKHN5bSkgKyAnIGlzIG5vdCBhIHN5bWJvbCcpO1xuICAgIGlmIChoYXNPd24oU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSwgc3ltKSkgcmV0dXJuIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnlbc3ltXTtcbiAgfVxufSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIERPTUl0ZXJhYmxlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb20taXRlcmFibGVzJyk7XG52YXIgRE9NVG9rZW5MaXN0UHJvdG90eXBlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvbS10b2tlbi1saXN0LXByb3RvdHlwZScpO1xudmFyIGZvckVhY2ggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktZm9yLWVhY2gnKTtcbnZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLW5vbi1lbnVtZXJhYmxlLXByb3BlcnR5Jyk7XG5cbnZhciBoYW5kbGVQcm90b3R5cGUgPSBmdW5jdGlvbiAoQ29sbGVjdGlvblByb3RvdHlwZSkge1xuICAvLyBzb21lIENocm9tZSB2ZXJzaW9ucyBoYXZlIG5vbi1jb25maWd1cmFibGUgbWV0aG9kcyBvbiBET01Ub2tlbkxpc3RcbiAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGUgJiYgQ29sbGVjdGlvblByb3RvdHlwZS5mb3JFYWNoICE9PSBmb3JFYWNoKSB0cnkge1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCAnZm9yRWFjaCcsIGZvckVhY2gpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIENvbGxlY3Rpb25Qcm90b3R5cGUuZm9yRWFjaCA9IGZvckVhY2g7XG4gIH1cbn07XG5cbmZvciAodmFyIENPTExFQ1RJT05fTkFNRSBpbiBET01JdGVyYWJsZXMpIHtcbiAgaWYgKERPTUl0ZXJhYmxlc1tDT0xMRUNUSU9OX05BTUVdKSB7XG4gICAgaGFuZGxlUHJvdG90eXBlKGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdICYmIGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuaGFuZGxlUHJvdG90eXBlKERPTVRva2VuTGlzdFByb3RvdHlwZSk7XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIERPTUl0ZXJhYmxlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kb20taXRlcmFibGVzJyk7XG52YXIgRE9NVG9rZW5MaXN0UHJvdG90eXBlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RvbS10b2tlbi1saXN0LXByb3RvdHlwZScpO1xudmFyIEFycmF5SXRlcmF0b3JNZXRob2RzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvcicpO1xudmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9jcmVhdGUtbm9uLWVudW1lcmFibGUtcHJvcGVydHknKTtcbnZhciB3ZWxsS25vd25TeW1ib2wgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvd2VsbC1rbm93bi1zeW1ib2wnKTtcblxudmFyIElURVJBVE9SID0gd2VsbEtub3duU3ltYm9sKCdpdGVyYXRvcicpO1xudmFyIFRPX1NUUklOR19UQUcgPSB3ZWxsS25vd25TeW1ib2woJ3RvU3RyaW5nVGFnJyk7XG52YXIgQXJyYXlWYWx1ZXMgPSBBcnJheUl0ZXJhdG9yTWV0aG9kcy52YWx1ZXM7XG5cbnZhciBoYW5kbGVQcm90b3R5cGUgPSBmdW5jdGlvbiAoQ29sbGVjdGlvblByb3RvdHlwZSwgQ09MTEVDVElPTl9OQU1FKSB7XG4gIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlKSB7XG4gICAgLy8gc29tZSBDaHJvbWUgdmVyc2lvbnMgaGF2ZSBub24tY29uZmlndXJhYmxlIG1ldGhvZHMgb24gRE9NVG9rZW5MaXN0XG4gICAgaWYgKENvbGxlY3Rpb25Qcm90b3R5cGVbSVRFUkFUT1JdICE9PSBBcnJheVZhbHVlcykgdHJ5IHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBJVEVSQVRPUiwgQXJyYXlWYWx1ZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBDb2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SXSA9IEFycmF5VmFsdWVzO1xuICAgIH1cbiAgICBpZiAoIUNvbGxlY3Rpb25Qcm90b3R5cGVbVE9fU1RSSU5HX1RBR10pIHtcbiAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eShDb2xsZWN0aW9uUHJvdG90eXBlLCBUT19TVFJJTkdfVEFHLCBDT0xMRUNUSU9OX05BTUUpO1xuICAgIH1cbiAgICBpZiAoRE9NSXRlcmFibGVzW0NPTExFQ1RJT05fTkFNRV0pIGZvciAodmFyIE1FVEhPRF9OQU1FIGluIEFycmF5SXRlcmF0b3JNZXRob2RzKSB7XG4gICAgICAvLyBzb21lIENocm9tZSB2ZXJzaW9ucyBoYXZlIG5vbi1jb25maWd1cmFibGUgbWV0aG9kcyBvbiBET01Ub2tlbkxpc3RcbiAgICAgIGlmIChDb2xsZWN0aW9uUHJvdG90eXBlW01FVEhPRF9OQU1FXSAhPT0gQXJyYXlJdGVyYXRvck1ldGhvZHNbTUVUSE9EX05BTUVdKSB0cnkge1xuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkoQ29sbGVjdGlvblByb3RvdHlwZSwgTUVUSE9EX05BTUUsIEFycmF5SXRlcmF0b3JNZXRob2RzW01FVEhPRF9OQU1FXSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBDb2xsZWN0aW9uUHJvdG90eXBlW01FVEhPRF9OQU1FXSA9IEFycmF5SXRlcmF0b3JNZXRob2RzW01FVEhPRF9OQU1FXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZvciAodmFyIENPTExFQ1RJT05fTkFNRSBpbiBET01JdGVyYWJsZXMpIHtcbiAgaGFuZGxlUHJvdG90eXBlKGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdICYmIGdsb2JhbFtDT0xMRUNUSU9OX05BTUVdLnByb3RvdHlwZSwgQ09MTEVDVElPTl9OQU1FKTtcbn1cblxuaGFuZGxlUHJvdG90eXBlKERPTVRva2VuTGlzdFByb3RvdHlwZSwgJ0RPTVRva2VuTGlzdCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy8gVE9ETzogaW4gY29yZS1qc0A0LCBtb3ZlIC9tb2R1bGVzLyBkZXBlbmRlbmNpZXMgdG8gcHVibGljIGVudHJpZXMgZm9yIGJldHRlciBvcHRpbWl6YXRpb24gYnkgdG9vbHMgbGlrZSBgcHJlc2V0LWVudmBcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXMuYXJyYXkuaXRlcmF0b3InKTtcbnZhciAkID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2V4cG9ydCcpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nbG9iYWwnKTtcbnZhciBjYWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2Z1bmN0aW9uLWNhbGwnKTtcbnZhciB1bmN1cnJ5VGhpcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi11bmN1cnJ5LXRoaXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZXNjcmlwdG9ycycpO1xudmFyIFVTRV9OQVRJVkVfVVJMID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3VybC1jb25zdHJ1Y3Rvci1kZXRlY3Rpb24nKTtcbnZhciBkZWZpbmVCdWlsdEluID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2RlZmluZS1idWlsdC1pbicpO1xudmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4tYWNjZXNzb3InKTtcbnZhciBkZWZpbmVCdWlsdElucyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW5zJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2l0ZXJhdG9yLWNyZWF0ZS1jb25zdHJ1Y3RvcicpO1xudmFyIEludGVybmFsU3RhdGVNb2R1bGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKTtcbnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FuLWluc3RhbmNlJyk7XG52YXIgaXNDYWxsYWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1jYWxsYWJsZScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mdW5jdGlvbi1iaW5kLWNvbnRleHQnKTtcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NsYXNzb2YnKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pcy1vYmplY3QnKTtcbnZhciAkdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1jcmVhdGUnKTtcbnZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY3JlYXRlLXByb3BlcnR5LWRlc2NyaXB0b3InKTtcbnZhciBnZXRJdGVyYXRvciA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3InKTtcbnZhciBnZXRJdGVyYXRvck1ldGhvZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG52YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGggPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdmFsaWRhdGUtYXJndW1lbnRzLWxlbmd0aCcpO1xudmFyIHdlbGxLbm93blN5bWJvbCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93ZWxsLWtub3duLXN5bWJvbCcpO1xudmFyIGFycmF5U29ydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hcnJheS1zb3J0Jyk7XG5cbnZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCgnaXRlcmF0b3InKTtcbnZhciBVUkxfU0VBUkNIX1BBUkFNUyA9ICdVUkxTZWFyY2hQYXJhbXMnO1xudmFyIFVSTF9TRUFSQ0hfUEFSQU1TX0lURVJBVE9SID0gVVJMX1NFQVJDSF9QQVJBTVMgKyAnSXRlcmF0b3InO1xudmFyIHNldEludGVybmFsU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLnNldDtcbnZhciBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5nZXR0ZXJGb3IoVVJMX1NFQVJDSF9QQVJBTVMpO1xudmFyIGdldEludGVybmFsSXRlcmF0b3JTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKFVSTF9TRUFSQ0hfUEFSQU1TX0lURVJBVE9SKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG4vLyBBdm9pZCBOb2RlSlMgZXhwZXJpbWVudGFsIHdhcm5pbmdcbnZhciBzYWZlR2V0QnVpbHRJbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICghREVTQ1JJUFRPUlMpIHJldHVybiBnbG9iYWxbbmFtZV07XG4gIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGdsb2JhbCwgbmFtZSk7XG4gIHJldHVybiBkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWU7XG59O1xuXG52YXIgbmF0aXZlRmV0Y2ggPSBzYWZlR2V0QnVpbHRJbignZmV0Y2gnKTtcbnZhciBOYXRpdmVSZXF1ZXN0ID0gc2FmZUdldEJ1aWx0SW4oJ1JlcXVlc3QnKTtcbnZhciBIZWFkZXJzID0gc2FmZUdldEJ1aWx0SW4oJ0hlYWRlcnMnKTtcbnZhciBSZXF1ZXN0UHJvdG90eXBlID0gTmF0aXZlUmVxdWVzdCAmJiBOYXRpdmVSZXF1ZXN0LnByb3RvdHlwZTtcbnZhciBIZWFkZXJzUHJvdG90eXBlID0gSGVhZGVycyAmJiBIZWFkZXJzLnByb3RvdHlwZTtcbnZhciBSZWdFeHAgPSBnbG9iYWwuUmVnRXhwO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgZGVjb2RlVVJJQ29tcG9uZW50ID0gZ2xvYmFsLmRlY29kZVVSSUNvbXBvbmVudDtcbnZhciBlbmNvZGVVUklDb21wb25lbnQgPSBnbG9iYWwuZW5jb2RlVVJJQ29tcG9uZW50O1xudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgam9pbiA9IHVuY3VycnlUaGlzKFtdLmpvaW4pO1xudmFyIHB1c2ggPSB1bmN1cnJ5VGhpcyhbXS5wdXNoKTtcbnZhciByZXBsYWNlID0gdW5jdXJyeVRoaXMoJycucmVwbGFjZSk7XG52YXIgc2hpZnQgPSB1bmN1cnJ5VGhpcyhbXS5zaGlmdCk7XG52YXIgc3BsaWNlID0gdW5jdXJyeVRoaXMoW10uc3BsaWNlKTtcbnZhciBzcGxpdCA9IHVuY3VycnlUaGlzKCcnLnNwbGl0KTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcblxudmFyIHBsdXMgPSAvXFwrL2c7XG52YXIgc2VxdWVuY2VzID0gQXJyYXkoNCk7XG5cbnZhciBwZXJjZW50U2VxdWVuY2UgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcbiAgcmV0dXJuIHNlcXVlbmNlc1tieXRlcyAtIDFdIHx8IChzZXF1ZW5jZXNbYnl0ZXMgLSAxXSA9IFJlZ0V4cCgnKCg/OiVbXFxcXGRhLWZdezJ9KXsnICsgYnl0ZXMgKyAnfSknLCAnZ2knKSk7XG59O1xuXG52YXIgcGVyY2VudERlY29kZSA9IGZ1bmN0aW9uIChzZXF1ZW5jZSkge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc2VxdWVuY2UpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBzZXF1ZW5jZTtcbiAgfVxufTtcblxudmFyIGRlc2VyaWFsaXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciByZXN1bHQgPSByZXBsYWNlKGl0LCBwbHVzLCAnICcpO1xuICB2YXIgYnl0ZXMgPSA0O1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB3aGlsZSAoYnl0ZXMpIHtcbiAgICAgIHJlc3VsdCA9IHJlcGxhY2UocmVzdWx0LCBwZXJjZW50U2VxdWVuY2UoYnl0ZXMtLSksIHBlcmNlbnREZWNvZGUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59O1xuXG52YXIgZmluZCA9IC9bIScoKX5dfCUyMC9nO1xuXG52YXIgcmVwbGFjZW1lbnRzID0ge1xuICAnISc6ICclMjEnLFxuICBcIidcIjogJyUyNycsXG4gICcoJzogJyUyOCcsXG4gICcpJzogJyUyOScsXG4gICd+JzogJyU3RScsXG4gICclMjAnOiAnKydcbn07XG5cbnZhciByZXBsYWNlciA9IGZ1bmN0aW9uIChtYXRjaCkge1xuICByZXR1cm4gcmVwbGFjZW1lbnRzW21hdGNoXTtcbn07XG5cbnZhciBzZXJpYWxpemUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHJlcGxhY2UoZW5jb2RlVVJJQ29tcG9uZW50KGl0KSwgZmluZCwgcmVwbGFjZXIpO1xufTtcblxudmFyIFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yID0gY3JlYXRlSXRlcmF0b3JDb25zdHJ1Y3RvcihmdW5jdGlvbiBJdGVyYXRvcihwYXJhbXMsIGtpbmQpIHtcbiAgc2V0SW50ZXJuYWxTdGF0ZSh0aGlzLCB7XG4gICAgdHlwZTogVVJMX1NFQVJDSF9QQVJBTVNfSVRFUkFUT1IsXG4gICAgaXRlcmF0b3I6IGdldEl0ZXJhdG9yKGdldEludGVybmFsUGFyYW1zU3RhdGUocGFyYW1zKS5lbnRyaWVzKSxcbiAgICBraW5kOiBraW5kXG4gIH0pO1xufSwgJ0l0ZXJhdG9yJywgZnVuY3Rpb24gbmV4dCgpIHtcbiAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxJdGVyYXRvclN0YXRlKHRoaXMpO1xuICB2YXIga2luZCA9IHN0YXRlLmtpbmQ7XG4gIHZhciBzdGVwID0gc3RhdGUuaXRlcmF0b3IubmV4dCgpO1xuICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICBpZiAoIXN0ZXAuZG9uZSkge1xuICAgIHN0ZXAudmFsdWUgPSBraW5kID09PSAna2V5cycgPyBlbnRyeS5rZXkgOiBraW5kID09PSAndmFsdWVzJyA/IGVudHJ5LnZhbHVlIDogW2VudHJ5LmtleSwgZW50cnkudmFsdWVdO1xuICB9IHJldHVybiBzdGVwO1xufSwgdHJ1ZSk7XG5cbnZhciBVUkxTZWFyY2hQYXJhbXNTdGF0ZSA9IGZ1bmN0aW9uIChpbml0KSB7XG4gIHRoaXMuZW50cmllcyA9IFtdO1xuICB0aGlzLnVybCA9IG51bGw7XG5cbiAgaWYgKGluaXQgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChpc09iamVjdChpbml0KSkgdGhpcy5wYXJzZU9iamVjdChpbml0KTtcbiAgICBlbHNlIHRoaXMucGFyc2VRdWVyeSh0eXBlb2YgaW5pdCA9PSAnc3RyaW5nJyA/IGNoYXJBdChpbml0LCAwKSA9PT0gJz8nID8gc3RyaW5nU2xpY2UoaW5pdCwgMSkgOiBpbml0IDogJHRvU3RyaW5nKGluaXQpKTtcbiAgfVxufTtcblxuVVJMU2VhcmNoUGFyYW1zU3RhdGUucHJvdG90eXBlID0ge1xuICB0eXBlOiBVUkxfU0VBUkNIX1BBUkFNUyxcbiAgYmluZFVSTDogZnVuY3Rpb24gKHVybCkge1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH0sXG4gIHBhcnNlT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2Qob2JqZWN0KTtcbiAgICB2YXIgaXRlcmF0b3IsIG5leHQsIHN0ZXAsIGVudHJ5SXRlcmF0b3IsIGVudHJ5TmV4dCwgZmlyc3QsIHNlY29uZDtcblxuICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihvYmplY3QsIGl0ZXJhdG9yTWV0aG9kKTtcbiAgICAgIG5leHQgPSBpdGVyYXRvci5uZXh0O1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGNhbGwobmV4dCwgaXRlcmF0b3IpKS5kb25lKSB7XG4gICAgICAgIGVudHJ5SXRlcmF0b3IgPSBnZXRJdGVyYXRvcihhbk9iamVjdChzdGVwLnZhbHVlKSk7XG4gICAgICAgIGVudHJ5TmV4dCA9IGVudHJ5SXRlcmF0b3IubmV4dDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChmaXJzdCA9IGNhbGwoZW50cnlOZXh0LCBlbnRyeUl0ZXJhdG9yKSkuZG9uZSB8fFxuICAgICAgICAgIChzZWNvbmQgPSBjYWxsKGVudHJ5TmV4dCwgZW50cnlJdGVyYXRvcikpLmRvbmUgfHxcbiAgICAgICAgICAhY2FsbChlbnRyeU5leHQsIGVudHJ5SXRlcmF0b3IpLmRvbmVcbiAgICAgICAgKSB0aHJvdyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHNlcXVlbmNlIHdpdGggbGVuZ3RoIDInKTtcbiAgICAgICAgcHVzaCh0aGlzLmVudHJpZXMsIHsga2V5OiAkdG9TdHJpbmcoZmlyc3QudmFsdWUpLCB2YWx1ZTogJHRvU3RyaW5nKHNlY29uZC52YWx1ZSkgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGZvciAodmFyIGtleSBpbiBvYmplY3QpIGlmIChoYXNPd24ob2JqZWN0LCBrZXkpKSB7XG4gICAgICBwdXNoKHRoaXMuZW50cmllcywgeyBrZXk6IGtleSwgdmFsdWU6ICR0b1N0cmluZyhvYmplY3Rba2V5XSkgfSk7XG4gICAgfVxuICB9LFxuICBwYXJzZVF1ZXJ5OiBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3BsaXQocXVlcnksICcmJyk7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIGF0dHJpYnV0ZSwgZW50cnk7XG4gICAgICB3aGlsZSAoaW5kZXggPCBhdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2luZGV4KytdO1xuICAgICAgICBpZiAoYXR0cmlidXRlLmxlbmd0aCkge1xuICAgICAgICAgIGVudHJ5ID0gc3BsaXQoYXR0cmlidXRlLCAnPScpO1xuICAgICAgICAgIHB1c2godGhpcy5lbnRyaWVzLCB7XG4gICAgICAgICAgICBrZXk6IGRlc2VyaWFsaXplKHNoaWZ0KGVudHJ5KSksXG4gICAgICAgICAgICB2YWx1ZTogZGVzZXJpYWxpemUoam9pbihlbnRyeSwgJz0nKSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2VyaWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGVudHJ5O1xuICAgIHdoaWxlIChpbmRleCA8IGVudHJpZXMubGVuZ3RoKSB7XG4gICAgICBlbnRyeSA9IGVudHJpZXNbaW5kZXgrK107XG4gICAgICBwdXNoKHJlc3VsdCwgc2VyaWFsaXplKGVudHJ5LmtleSkgKyAnPScgKyBzZXJpYWxpemUoZW50cnkudmFsdWUpKTtcbiAgICB9IHJldHVybiBqb2luKHJlc3VsdCwgJyYnKTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbnRyaWVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wYXJzZVF1ZXJ5KHRoaXMudXJsLnF1ZXJ5KTtcbiAgfSxcbiAgdXBkYXRlVVJMOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudXJsKSB0aGlzLnVybC51cGRhdGUoKTtcbiAgfVxufTtcblxuLy8gYFVSTFNlYXJjaFBhcmFtc2AgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaW50ZXJmYWNlLXVybHNlYXJjaHBhcmFtc1xudmFyIFVSTFNlYXJjaFBhcmFtc0NvbnN0cnVjdG9yID0gZnVuY3Rpb24gVVJMU2VhcmNoUGFyYW1zKC8qIGluaXQgKi8pIHtcbiAgYW5JbnN0YW5jZSh0aGlzLCBVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUpO1xuICB2YXIgaW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkO1xuICB2YXIgc3RhdGUgPSBzZXRJbnRlcm5hbFN0YXRlKHRoaXMsIG5ldyBVUkxTZWFyY2hQYXJhbXNTdGF0ZShpbml0KSk7XG4gIGlmICghREVTQ1JJUFRPUlMpIHRoaXMubGVuZ3RoID0gc3RhdGUuZW50cmllcy5sZW5ndGg7XG59O1xuXG52YXIgVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlID0gVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IucHJvdG90eXBlO1xuXG5kZWZpbmVCdWlsdElucyhVUkxTZWFyY2hQYXJhbXNQcm90b3R5cGUsIHtcbiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuYXBwZW5kYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLWFwcGVuZFxuICBhcHBlbmQ6IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDIpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcyk7XG4gICAgcHVzaChzdGF0ZS5lbnRyaWVzLCB7IGtleTogJHRvU3RyaW5nKG5hbWUpLCB2YWx1ZTogJHRvU3RyaW5nKHZhbHVlKSB9KTtcbiAgICBpZiAoIURFU0NSSVBUT1JTKSB0aGlzLmxlbmd0aCsrO1xuICAgIHN0YXRlLnVwZGF0ZVVSTCgpO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5kZWxldGVgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtZGVsZXRlXG4gICdkZWxldGUnOiBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoKGFyZ3VtZW50cy5sZW5ndGgsIDEpO1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcyk7XG4gICAgdmFyIGVudHJpZXMgPSBzdGF0ZS5lbnRyaWVzO1xuICAgIHZhciBrZXkgPSAkdG9TdHJpbmcobmFtZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgaWYgKGVudHJpZXNbaW5kZXhdLmtleSA9PT0ga2V5KSBzcGxpY2UoZW50cmllcywgaW5kZXgsIDEpO1xuICAgICAgZWxzZSBpbmRleCsrO1xuICAgIH1cbiAgICBpZiAoIURFU0NSSVBUT1JTKSB0aGlzLmxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgIHN0YXRlLnVwZGF0ZVVSTCgpO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5nZXRgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtZ2V0XG4gIGdldDogZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZW50cmllcyA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcykuZW50cmllcztcbiAgICB2YXIga2V5ID0gJHRvU3RyaW5nKG5hbWUpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgZm9yICg7IGluZGV4IDwgZW50cmllcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGlmIChlbnRyaWVzW2luZGV4XS5rZXkgPT09IGtleSkgcmV0dXJuIGVudHJpZXNbaW5kZXhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZ2V0QWxsYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLWdldGFsbFxuICBnZXRBbGw6IGZ1bmN0aW9uIGdldEFsbChuYW1lKSB7XG4gICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMSk7XG4gICAgdmFyIGVudHJpZXMgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpLmVudHJpZXM7XG4gICAgdmFyIGtleSA9ICR0b1N0cmluZyhuYW1lKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBmb3IgKDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgaWYgKGVudHJpZXNbaW5kZXhdLmtleSA9PT0ga2V5KSBwdXNoKHJlc3VsdCwgZW50cmllc1tpbmRleF0udmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5oYXNgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtaGFzXG4gIGhhczogZnVuY3Rpb24gaGFzKG5hbWUpIHtcbiAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICB2YXIgZW50cmllcyA9IGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcykuZW50cmllcztcbiAgICB2YXIga2V5ID0gJHRvU3RyaW5nKG5hbWUpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgZW50cmllcy5sZW5ndGgpIHtcbiAgICAgIGlmIChlbnRyaWVzW2luZGV4KytdLmtleSA9PT0ga2V5KSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5zZXRgIG1ldGhvZFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtc2V0XG4gIHNldDogZnVuY3Rpb24gc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgoYXJndW1lbnRzLmxlbmd0aCwgMSk7XG4gICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKTtcbiAgICB2YXIgZW50cmllcyA9IHN0YXRlLmVudHJpZXM7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgdmFyIGtleSA9ICR0b1N0cmluZyhuYW1lKTtcbiAgICB2YXIgdmFsID0gJHRvU3RyaW5nKHZhbHVlKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBlbnRyeTtcbiAgICBmb3IgKDsgaW5kZXggPCBlbnRyaWVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgIGlmIChlbnRyeS5rZXkgPT09IGtleSkge1xuICAgICAgICBpZiAoZm91bmQpIHNwbGljZShlbnRyaWVzLCBpbmRleC0tLCAxKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGVudHJ5LnZhbHVlID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghZm91bmQpIHB1c2goZW50cmllcywgeyBrZXk6IGtleSwgdmFsdWU6IHZhbCB9KTtcbiAgICBpZiAoIURFU0NSSVBUT1JTKSB0aGlzLmxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgIHN0YXRlLnVwZGF0ZVVSTCgpO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5zb3J0YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLXNvcnRcbiAgc29ydDogZnVuY3Rpb24gc29ydCgpIHtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFBhcmFtc1N0YXRlKHRoaXMpO1xuICAgIGFycmF5U29ydChzdGF0ZS5lbnRyaWVzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEua2V5ID4gYi5rZXkgPyAxIDogLTE7XG4gICAgfSk7XG4gICAgc3RhdGUudXBkYXRlVVJMKCk7XG4gIH0sXG4gIC8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmZvckVhY2hgIG1ldGhvZFxuICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrIC8qICwgdGhpc0FyZyAqLykge1xuICAgIHZhciBlbnRyaWVzID0gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzO1xuICAgIHZhciBib3VuZEZ1bmN0aW9uID0gYmluZChjYWxsYmFjaywgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGVudHJ5O1xuICAgIHdoaWxlIChpbmRleCA8IGVudHJpZXMubGVuZ3RoKSB7XG4gICAgICBlbnRyeSA9IGVudHJpZXNbaW5kZXgrK107XG4gICAgICBib3VuZEZ1bmN0aW9uKGVudHJ5LnZhbHVlLCBlbnRyeS5rZXksIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUua2V5c2AgbWV0aG9kXG4gIGtleXM6IGZ1bmN0aW9uIGtleXMoKSB7XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXNJdGVyYXRvcih0aGlzLCAna2V5cycpO1xuICB9LFxuICAvLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS52YWx1ZXNgIG1ldGhvZFxuICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtc0l0ZXJhdG9yKHRoaXMsICd2YWx1ZXMnKTtcbiAgfSxcbiAgLy8gYFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuZW50cmllc2AgbWV0aG9kXG4gIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXNJdGVyYXRvcih0aGlzLCAnZW50cmllcycpO1xuICB9XG59LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG5cbi8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2RcbmRlZmluZUJ1aWx0SW4oVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlLCBJVEVSQVRPUiwgVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlLmVudHJpZXMsIHsgbmFtZTogJ2VudHJpZXMnIH0pO1xuXG4vLyBgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHNlYXJjaHBhcmFtcy1zdHJpbmdpZmljYXRpb24tYmVoYXZpb3JcbmRlZmluZUJ1aWx0SW4oVVJMU2VhcmNoUGFyYW1zUHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIGdldEludGVybmFsUGFyYW1zU3RhdGUodGhpcykuc2VyaWFsaXplKCk7XG59LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG5cbi8vIGBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLnNpemVgIGdldHRlclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy91cmwvcHVsbC83MzRcbmlmIChERVNDUklQVE9SUykgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFNlYXJjaFBhcmFtc1Byb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gc2l6ZSgpIHtcbiAgICByZXR1cm4gZ2V0SW50ZXJuYWxQYXJhbXNTdGF0ZSh0aGlzKS5lbnRyaWVzLmxlbmd0aDtcbiAgfSxcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBlbnVtZXJhYmxlOiB0cnVlXG59KTtcblxuc2V0VG9TdHJpbmdUYWcoVVJMU2VhcmNoUGFyYW1zQ29uc3RydWN0b3IsIFVSTF9TRUFSQ0hfUEFSQU1TKTtcblxuJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIGZvcmNlZDogIVVTRV9OQVRJVkVfVVJMIH0sIHtcbiAgVVJMU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXNDb25zdHJ1Y3RvclxufSk7XG5cbi8vIFdyYXAgYGZldGNoYCBhbmQgYFJlcXVlc3RgIGZvciBjb3JyZWN0IHdvcmsgd2l0aCBwb2x5ZmlsbGVkIGBVUkxTZWFyY2hQYXJhbXNgXG5pZiAoIVVTRV9OQVRJVkVfVVJMICYmIGlzQ2FsbGFibGUoSGVhZGVycykpIHtcbiAgdmFyIGhlYWRlcnNIYXMgPSB1bmN1cnJ5VGhpcyhIZWFkZXJzUHJvdG90eXBlLmhhcyk7XG4gIHZhciBoZWFkZXJzU2V0ID0gdW5jdXJyeVRoaXMoSGVhZGVyc1Byb3RvdHlwZS5zZXQpO1xuXG4gIHZhciB3cmFwUmVxdWVzdE9wdGlvbnMgPSBmdW5jdGlvbiAoaW5pdCkge1xuICAgIGlmIChpc09iamVjdChpbml0KSkge1xuICAgICAgdmFyIGJvZHkgPSBpbml0LmJvZHk7XG4gICAgICB2YXIgaGVhZGVycztcbiAgICAgIGlmIChjbGFzc29mKGJvZHkpID09PSBVUkxfU0VBUkNIX1BBUkFNUykge1xuICAgICAgICBoZWFkZXJzID0gaW5pdC5oZWFkZXJzID8gbmV3IEhlYWRlcnMoaW5pdC5oZWFkZXJzKSA6IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgIGlmICghaGVhZGVyc0hhcyhoZWFkZXJzLCAnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgICBoZWFkZXJzU2V0KGhlYWRlcnMsICdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlKGluaXQsIHtcbiAgICAgICAgICBib2R5OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgJHRvU3RyaW5nKGJvZHkpKSxcbiAgICAgICAgICBoZWFkZXJzOiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IoMCwgaGVhZGVycylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSByZXR1cm4gaW5pdDtcbiAgfTtcblxuICBpZiAoaXNDYWxsYWJsZShuYXRpdmVGZXRjaCkpIHtcbiAgICAkKHsgZ2xvYmFsOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBkb250Q2FsbEdldFNldDogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIHtcbiAgICAgIGZldGNoOiBmdW5jdGlvbiBmZXRjaChpbnB1dCAvKiAsIGluaXQgKi8pIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUZldGNoKGlucHV0LCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHdyYXBSZXF1ZXN0T3B0aW9ucyhhcmd1bWVudHNbMV0pIDoge30pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzQ2FsbGFibGUoTmF0aXZlUmVxdWVzdCkpIHtcbiAgICB2YXIgUmVxdWVzdENvbnN0cnVjdG9yID0gZnVuY3Rpb24gUmVxdWVzdChpbnB1dCAvKiAsIGluaXQgKi8pIHtcbiAgICAgIGFuSW5zdGFuY2UodGhpcywgUmVxdWVzdFByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gbmV3IE5hdGl2ZVJlcXVlc3QoaW5wdXQsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gd3JhcFJlcXVlc3RPcHRpb25zKGFyZ3VtZW50c1sxXSkgOiB7fSk7XG4gICAgfTtcblxuICAgIFJlcXVlc3RQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXF1ZXN0Q29uc3RydWN0b3I7XG4gICAgUmVxdWVzdENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IFJlcXVlc3RQcm90b3R5cGU7XG5cbiAgICAkKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgZG9udENhbGxHZXRTZXQ6IHRydWUsIGZvcmNlZDogdHJ1ZSB9LCB7XG4gICAgICBSZXF1ZXN0OiBSZXF1ZXN0Q29uc3RydWN0b3JcbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVVJMU2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXNDb25zdHJ1Y3RvcixcbiAgZ2V0U3RhdGU6IGdldEludGVybmFsUGFyYW1zU3RhdGVcbn07XG4iLCIvLyBUT0RPOiBSZW1vdmUgdGhpcyBtb2R1bGUgZnJvbSBgY29yZS1qc0A0YCBzaW5jZSBpdCdzIHJlcGxhY2VkIHRvIG1vZHVsZSBiZWxvd1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuY29uc3RydWN0b3InKTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vIFRPRE86IGluIGNvcmUtanNANCwgbW92ZSAvbW9kdWxlcy8gZGVwZW5kZW5jaWVzIHRvIHB1YmxpYyBlbnRyaWVzIGZvciBiZXR0ZXIgb3B0aW1pemF0aW9uIGJ5IHRvb2xzIGxpa2UgYHByZXNldC1lbnZgXG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvcicpO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVzY3JpcHRvcnMnKTtcbnZhciBVU0VfTkFUSVZFX1VSTCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91cmwtY29uc3RydWN0b3ItZGV0ZWN0aW9uJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2dsb2JhbCcpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tYmluZC1jb250ZXh0Jyk7XG52YXIgdW5jdXJyeVRoaXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZnVuY3Rpb24tdW5jdXJyeS10aGlzJyk7XG52YXIgZGVmaW5lQnVpbHRJbiA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9kZWZpbmUtYnVpbHQtaW4nKTtcbnZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZGVmaW5lLWJ1aWx0LWluLWFjY2Vzc29yJyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1pbnN0YW5jZScpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9oYXMtb3duLXByb3BlcnR5Jyk7XG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1hc3NpZ24nKTtcbnZhciBhcnJheUZyb20gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktZnJvbScpO1xudmFyIGFycmF5U2xpY2UgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYXJyYXktc2xpY2Utc2ltcGxlJyk7XG52YXIgY29kZUF0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3N0cmluZy1tdWx0aWJ5dGUnKS5jb2RlQXQ7XG52YXIgdG9BU0NJSSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctcHVueWNvZGUtdG8tYXNjaWknKTtcbnZhciAkdG9TdHJpbmcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvdG8tc3RyaW5nJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy92YWxpZGF0ZS1hcmd1bWVudHMtbGVuZ3RoJyk7XG52YXIgVVJMU2VhcmNoUGFyYW1zTW9kdWxlID0gcmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIudXJsLXNlYXJjaC1wYXJhbXMuY29uc3RydWN0b3InKTtcbnZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLXN0YXRlJyk7XG5cbnZhciBzZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZS5zZXQ7XG52YXIgZ2V0SW50ZXJuYWxVUkxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yKCdVUkwnKTtcbnZhciBVUkxTZWFyY2hQYXJhbXMgPSBVUkxTZWFyY2hQYXJhbXNNb2R1bGUuVVJMU2VhcmNoUGFyYW1zO1xudmFyIGdldEludGVybmFsU2VhcmNoUGFyYW1zU3RhdGUgPSBVUkxTZWFyY2hQYXJhbXNNb2R1bGUuZ2V0U3RhdGU7XG5cbnZhciBOYXRpdmVVUkwgPSBnbG9iYWwuVVJMO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgcGFyc2VJbnQgPSBnbG9iYWwucGFyc2VJbnQ7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIHBvdyA9IE1hdGgucG93O1xudmFyIGNoYXJBdCA9IHVuY3VycnlUaGlzKCcnLmNoYXJBdCk7XG52YXIgZXhlYyA9IHVuY3VycnlUaGlzKC8uLy5leGVjKTtcbnZhciBqb2luID0gdW5jdXJyeVRoaXMoW10uam9pbik7XG52YXIgbnVtYmVyVG9TdHJpbmcgPSB1bmN1cnJ5VGhpcygxLjAudG9TdHJpbmcpO1xudmFyIHBvcCA9IHVuY3VycnlUaGlzKFtdLnBvcCk7XG52YXIgcHVzaCA9IHVuY3VycnlUaGlzKFtdLnB1c2gpO1xudmFyIHJlcGxhY2UgPSB1bmN1cnJ5VGhpcygnJy5yZXBsYWNlKTtcbnZhciBzaGlmdCA9IHVuY3VycnlUaGlzKFtdLnNoaWZ0KTtcbnZhciBzcGxpdCA9IHVuY3VycnlUaGlzKCcnLnNwbGl0KTtcbnZhciBzdHJpbmdTbGljZSA9IHVuY3VycnlUaGlzKCcnLnNsaWNlKTtcbnZhciB0b0xvd2VyQ2FzZSA9IHVuY3VycnlUaGlzKCcnLnRvTG93ZXJDYXNlKTtcbnZhciB1bnNoaWZ0ID0gdW5jdXJyeVRoaXMoW10udW5zaGlmdCk7XG5cbnZhciBJTlZBTElEX0FVVEhPUklUWSA9ICdJbnZhbGlkIGF1dGhvcml0eSc7XG52YXIgSU5WQUxJRF9TQ0hFTUUgPSAnSW52YWxpZCBzY2hlbWUnO1xudmFyIElOVkFMSURfSE9TVCA9ICdJbnZhbGlkIGhvc3QnO1xudmFyIElOVkFMSURfUE9SVCA9ICdJbnZhbGlkIHBvcnQnO1xuXG52YXIgQUxQSEEgPSAvW2Etel0vaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWdleHAvbm8tb2JzY3VyZS1yYW5nZSAtLSBzYWZlXG52YXIgQUxQSEFOVU1FUklDID0gL1tcXGQrLS5hLXpdL2k7XG52YXIgRElHSVQgPSAvXFxkLztcbnZhciBIRVhfU1RBUlQgPSAvXjB4L2k7XG52YXIgT0NUID0gL15bMC03XSskLztcbnZhciBERUMgPSAvXlxcZCskLztcbnZhciBIRVggPSAvXltcXGRhLWZdKyQvaTtcbi8qIGVzbGludC1kaXNhYmxlIHJlZ2V4cC9uby1jb250cm9sLWNoYXJhY3RlciAtLSBzYWZlICovXG52YXIgRk9SQklEREVOX0hPU1RfQ09ERV9QT0lOVCA9IC9bXFwwXFx0XFxuXFxyICMlLzo8Pj9AW1xcXFxcXF1efF0vO1xudmFyIEZPUkJJRERFTl9IT1NUX0NPREVfUE9JTlRfRVhDTFVESU5HX1BFUkNFTlQgPSAvW1xcMFxcdFxcblxcciAjLzo8Pj9AW1xcXFxcXF1efF0vO1xudmFyIExFQURJTkdfQzBfQ09OVFJPTF9PUl9TUEFDRSA9IC9eW1xcdTAwMDAtXFx1MDAyMF0rLztcbnZhciBUUkFJTElOR19DMF9DT05UUk9MX09SX1NQQUNFID0gLyhefFteXFx1MDAwMC1cXHUwMDIwXSlbXFx1MDAwMC1cXHUwMDIwXSskLztcbnZhciBUQUJfQU5EX05FV19MSU5FID0gL1tcXHRcXG5cXHJdL2c7XG4vKiBlc2xpbnQtZW5hYmxlIHJlZ2V4cC9uby1jb250cm9sLWNoYXJhY3RlciAtLSBzYWZlICovXG52YXIgRU9GO1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2lwdjQtbnVtYmVyLXBhcnNlclxudmFyIHBhcnNlSVB2NCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICB2YXIgcGFydHMgPSBzcGxpdChpbnB1dCwgJy4nKTtcbiAgdmFyIHBhcnRzTGVuZ3RoLCBudW1iZXJzLCBpbmRleCwgcGFydCwgcmFkaXgsIG51bWJlciwgaXB2NDtcbiAgaWYgKHBhcnRzLmxlbmd0aCAmJiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXSA9PSAnJykge1xuICAgIHBhcnRzLmxlbmd0aC0tO1xuICB9XG4gIHBhcnRzTGVuZ3RoID0gcGFydHMubGVuZ3RoO1xuICBpZiAocGFydHNMZW5ndGggPiA0KSByZXR1cm4gaW5wdXQ7XG4gIG51bWJlcnMgPSBbXTtcbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgcGFydHNMZW5ndGg7IGluZGV4KyspIHtcbiAgICBwYXJ0ID0gcGFydHNbaW5kZXhdO1xuICAgIGlmIChwYXJ0ID09ICcnKSByZXR1cm4gaW5wdXQ7XG4gICAgcmFkaXggPSAxMDtcbiAgICBpZiAocGFydC5sZW5ndGggPiAxICYmIGNoYXJBdChwYXJ0LCAwKSA9PSAnMCcpIHtcbiAgICAgIHJhZGl4ID0gZXhlYyhIRVhfU1RBUlQsIHBhcnQpID8gMTYgOiA4O1xuICAgICAgcGFydCA9IHN0cmluZ1NsaWNlKHBhcnQsIHJhZGl4ID09IDggPyAxIDogMik7XG4gICAgfVxuICAgIGlmIChwYXJ0ID09PSAnJykge1xuICAgICAgbnVtYmVyID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFleGVjKHJhZGl4ID09IDEwID8gREVDIDogcmFkaXggPT0gOCA/IE9DVCA6IEhFWCwgcGFydCkpIHJldHVybiBpbnB1dDtcbiAgICAgIG51bWJlciA9IHBhcnNlSW50KHBhcnQsIHJhZGl4KTtcbiAgICB9XG4gICAgcHVzaChudW1iZXJzLCBudW1iZXIpO1xuICB9XG4gIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHBhcnRzTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgbnVtYmVyID0gbnVtYmVyc1tpbmRleF07XG4gICAgaWYgKGluZGV4ID09IHBhcnRzTGVuZ3RoIC0gMSkge1xuICAgICAgaWYgKG51bWJlciA+PSBwb3coMjU2LCA1IC0gcGFydHNMZW5ndGgpKSByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKG51bWJlciA+IDI1NSkgcmV0dXJuIG51bGw7XG4gIH1cbiAgaXB2NCA9IHBvcChudW1iZXJzKTtcbiAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgbnVtYmVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBpcHY0ICs9IG51bWJlcnNbaW5kZXhdICogcG93KDI1NiwgMyAtIGluZGV4KTtcbiAgfVxuICByZXR1cm4gaXB2NDtcbn07XG5cbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1pcHY2LXBhcnNlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzIC0tIFRPRE9cbnZhciBwYXJzZUlQdjYgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgdmFyIGFkZHJlc3MgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gIHZhciBwaWVjZUluZGV4ID0gMDtcbiAgdmFyIGNvbXByZXNzID0gbnVsbDtcbiAgdmFyIHBvaW50ZXIgPSAwO1xuICB2YXIgdmFsdWUsIGxlbmd0aCwgbnVtYmVyc1NlZW4sIGlwdjRQaWVjZSwgbnVtYmVyLCBzd2Fwcywgc3dhcDtcblxuICB2YXIgY2hyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjaGFyQXQoaW5wdXQsIHBvaW50ZXIpO1xuICB9O1xuXG4gIGlmIChjaHIoKSA9PSAnOicpIHtcbiAgICBpZiAoY2hhckF0KGlucHV0LCAxKSAhPSAnOicpIHJldHVybjtcbiAgICBwb2ludGVyICs9IDI7XG4gICAgcGllY2VJbmRleCsrO1xuICAgIGNvbXByZXNzID0gcGllY2VJbmRleDtcbiAgfVxuICB3aGlsZSAoY2hyKCkpIHtcbiAgICBpZiAocGllY2VJbmRleCA9PSA4KSByZXR1cm47XG4gICAgaWYgKGNocigpID09ICc6Jykge1xuICAgICAgaWYgKGNvbXByZXNzICE9PSBudWxsKSByZXR1cm47XG4gICAgICBwb2ludGVyKys7XG4gICAgICBwaWVjZUluZGV4Kys7XG4gICAgICBjb21wcmVzcyA9IHBpZWNlSW5kZXg7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFsdWUgPSBsZW5ndGggPSAwO1xuICAgIHdoaWxlIChsZW5ndGggPCA0ICYmIGV4ZWMoSEVYLCBjaHIoKSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgKiAxNiArIHBhcnNlSW50KGNocigpLCAxNik7XG4gICAgICBwb2ludGVyKys7XG4gICAgICBsZW5ndGgrKztcbiAgICB9XG4gICAgaWYgKGNocigpID09ICcuJykge1xuICAgICAgaWYgKGxlbmd0aCA9PSAwKSByZXR1cm47XG4gICAgICBwb2ludGVyIC09IGxlbmd0aDtcbiAgICAgIGlmIChwaWVjZUluZGV4ID4gNikgcmV0dXJuO1xuICAgICAgbnVtYmVyc1NlZW4gPSAwO1xuICAgICAgd2hpbGUgKGNocigpKSB7XG4gICAgICAgIGlwdjRQaWVjZSA9IG51bGw7XG4gICAgICAgIGlmIChudW1iZXJzU2VlbiA+IDApIHtcbiAgICAgICAgICBpZiAoY2hyKCkgPT0gJy4nICYmIG51bWJlcnNTZWVuIDwgNCkgcG9pbnRlcisrO1xuICAgICAgICAgIGVsc2UgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZXhlYyhESUdJVCwgY2hyKCkpKSByZXR1cm47XG4gICAgICAgIHdoaWxlIChleGVjKERJR0lULCBjaHIoKSkpIHtcbiAgICAgICAgICBudW1iZXIgPSBwYXJzZUludChjaHIoKSwgMTApO1xuICAgICAgICAgIGlmIChpcHY0UGllY2UgPT09IG51bGwpIGlwdjRQaWVjZSA9IG51bWJlcjtcbiAgICAgICAgICBlbHNlIGlmIChpcHY0UGllY2UgPT0gMCkgcmV0dXJuO1xuICAgICAgICAgIGVsc2UgaXB2NFBpZWNlID0gaXB2NFBpZWNlICogMTAgKyBudW1iZXI7XG4gICAgICAgICAgaWYgKGlwdjRQaWVjZSA+IDI1NSkgcmV0dXJuO1xuICAgICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgfVxuICAgICAgICBhZGRyZXNzW3BpZWNlSW5kZXhdID0gYWRkcmVzc1twaWVjZUluZGV4XSAqIDI1NiArIGlwdjRQaWVjZTtcbiAgICAgICAgbnVtYmVyc1NlZW4rKztcbiAgICAgICAgaWYgKG51bWJlcnNTZWVuID09IDIgfHwgbnVtYmVyc1NlZW4gPT0gNCkgcGllY2VJbmRleCsrO1xuICAgICAgfVxuICAgICAgaWYgKG51bWJlcnNTZWVuICE9IDQpIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAoY2hyKCkgPT0gJzonKSB7XG4gICAgICBwb2ludGVyKys7XG4gICAgICBpZiAoIWNocigpKSByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaHIoKSkgcmV0dXJuO1xuICAgIGFkZHJlc3NbcGllY2VJbmRleCsrXSA9IHZhbHVlO1xuICB9XG4gIGlmIChjb21wcmVzcyAhPT0gbnVsbCkge1xuICAgIHN3YXBzID0gcGllY2VJbmRleCAtIGNvbXByZXNzO1xuICAgIHBpZWNlSW5kZXggPSA3O1xuICAgIHdoaWxlIChwaWVjZUluZGV4ICE9IDAgJiYgc3dhcHMgPiAwKSB7XG4gICAgICBzd2FwID0gYWRkcmVzc1twaWVjZUluZGV4XTtcbiAgICAgIGFkZHJlc3NbcGllY2VJbmRleC0tXSA9IGFkZHJlc3NbY29tcHJlc3MgKyBzd2FwcyAtIDFdO1xuICAgICAgYWRkcmVzc1tjb21wcmVzcyArIC0tc3dhcHNdID0gc3dhcDtcbiAgICB9XG4gIH0gZWxzZSBpZiAocGllY2VJbmRleCAhPSA4KSByZXR1cm47XG4gIHJldHVybiBhZGRyZXNzO1xufTtcblxudmFyIGZpbmRMb25nZXN0WmVyb1NlcXVlbmNlID0gZnVuY3Rpb24gKGlwdjYpIHtcbiAgdmFyIG1heEluZGV4ID0gbnVsbDtcbiAgdmFyIG1heExlbmd0aCA9IDE7XG4gIHZhciBjdXJyU3RhcnQgPSBudWxsO1xuICB2YXIgY3Vyckxlbmd0aCA9IDA7XG4gIHZhciBpbmRleCA9IDA7XG4gIGZvciAoOyBpbmRleCA8IDg7IGluZGV4KyspIHtcbiAgICBpZiAoaXB2NltpbmRleF0gIT09IDApIHtcbiAgICAgIGlmIChjdXJyTGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgIG1heEluZGV4ID0gY3VyclN0YXJ0O1xuICAgICAgICBtYXhMZW5ndGggPSBjdXJyTGVuZ3RoO1xuICAgICAgfVxuICAgICAgY3VyclN0YXJ0ID0gbnVsbDtcbiAgICAgIGN1cnJMZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY3VyclN0YXJ0ID09PSBudWxsKSBjdXJyU3RhcnQgPSBpbmRleDtcbiAgICAgICsrY3Vyckxlbmd0aDtcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJMZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICBtYXhJbmRleCA9IGN1cnJTdGFydDtcbiAgICBtYXhMZW5ndGggPSBjdXJyTGVuZ3RoO1xuICB9XG4gIHJldHVybiBtYXhJbmRleDtcbn07XG5cbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaG9zdC1zZXJpYWxpemluZ1xudmFyIHNlcmlhbGl6ZUhvc3QgPSBmdW5jdGlvbiAoaG9zdCkge1xuICB2YXIgcmVzdWx0LCBpbmRleCwgY29tcHJlc3MsIGlnbm9yZTA7XG4gIC8vIGlwdjRcbiAgaWYgKHR5cGVvZiBob3N0ID09ICdudW1iZXInKSB7XG4gICAgcmVzdWx0ID0gW107XG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgNDsgaW5kZXgrKykge1xuICAgICAgdW5zaGlmdChyZXN1bHQsIGhvc3QgJSAyNTYpO1xuICAgICAgaG9zdCA9IGZsb29yKGhvc3QgLyAyNTYpO1xuICAgIH0gcmV0dXJuIGpvaW4ocmVzdWx0LCAnLicpO1xuICAvLyBpcHY2XG4gIH0gZWxzZSBpZiAodHlwZW9mIGhvc3QgPT0gJ29iamVjdCcpIHtcbiAgICByZXN1bHQgPSAnJztcbiAgICBjb21wcmVzcyA9IGZpbmRMb25nZXN0WmVyb1NlcXVlbmNlKGhvc3QpO1xuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IDg7IGluZGV4KyspIHtcbiAgICAgIGlmIChpZ25vcmUwICYmIGhvc3RbaW5kZXhdID09PSAwKSBjb250aW51ZTtcbiAgICAgIGlmIChpZ25vcmUwKSBpZ25vcmUwID0gZmFsc2U7XG4gICAgICBpZiAoY29tcHJlc3MgPT09IGluZGV4KSB7XG4gICAgICAgIHJlc3VsdCArPSBpbmRleCA/ICc6JyA6ICc6Oic7XG4gICAgICAgIGlnbm9yZTAgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IG51bWJlclRvU3RyaW5nKGhvc3RbaW5kZXhdLCAxNik7XG4gICAgICAgIGlmIChpbmRleCA8IDcpIHJlc3VsdCArPSAnOic7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnWycgKyByZXN1bHQgKyAnXSc7XG4gIH0gcmV0dXJuIGhvc3Q7XG59O1xuXG52YXIgQzBDb250cm9sUGVyY2VudEVuY29kZVNldCA9IHt9O1xudmFyIGZyYWdtZW50UGVyY2VudEVuY29kZVNldCA9IGFzc2lnbih7fSwgQzBDb250cm9sUGVyY2VudEVuY29kZVNldCwge1xuICAnICc6IDEsICdcIic6IDEsICc8JzogMSwgJz4nOiAxLCAnYCc6IDFcbn0pO1xudmFyIHBhdGhQZXJjZW50RW5jb2RlU2V0ID0gYXNzaWduKHt9LCBmcmFnbWVudFBlcmNlbnRFbmNvZGVTZXQsIHtcbiAgJyMnOiAxLCAnPyc6IDEsICd7JzogMSwgJ30nOiAxXG59KTtcbnZhciB1c2VyaW5mb1BlcmNlbnRFbmNvZGVTZXQgPSBhc3NpZ24oe30sIHBhdGhQZXJjZW50RW5jb2RlU2V0LCB7XG4gICcvJzogMSwgJzonOiAxLCAnOyc6IDEsICc9JzogMSwgJ0AnOiAxLCAnWyc6IDEsICdcXFxcJzogMSwgJ10nOiAxLCAnXic6IDEsICd8JzogMVxufSk7XG5cbnZhciBwZXJjZW50RW5jb2RlID0gZnVuY3Rpb24gKGNociwgc2V0KSB7XG4gIHZhciBjb2RlID0gY29kZUF0KGNociwgMCk7XG4gIHJldHVybiBjb2RlID4gMHgyMCAmJiBjb2RlIDwgMHg3RiAmJiAhaGFzT3duKHNldCwgY2hyKSA/IGNociA6IGVuY29kZVVSSUNvbXBvbmVudChjaHIpO1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNzcGVjaWFsLXNjaGVtZVxudmFyIHNwZWNpYWxTY2hlbWVzID0ge1xuICBmdHA6IDIxLFxuICBmaWxlOiBudWxsLFxuICBodHRwOiA4MCxcbiAgaHR0cHM6IDQ0MyxcbiAgd3M6IDgwLFxuICB3c3M6IDQ0M1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN3aW5kb3dzLWRyaXZlLWxldHRlclxudmFyIGlzV2luZG93c0RyaXZlTGV0dGVyID0gZnVuY3Rpb24gKHN0cmluZywgbm9ybWFsaXplZCkge1xuICB2YXIgc2Vjb25kO1xuICByZXR1cm4gc3RyaW5nLmxlbmd0aCA9PSAyICYmIGV4ZWMoQUxQSEEsIGNoYXJBdChzdHJpbmcsIDApKVxuICAgICYmICgoc2Vjb25kID0gY2hhckF0KHN0cmluZywgMSkpID09ICc6JyB8fCAoIW5vcm1hbGl6ZWQgJiYgc2Vjb25kID09ICd8JykpO1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNzdGFydC13aXRoLWEtd2luZG93cy1kcml2ZS1sZXR0ZXJcbnZhciBzdGFydHNXaXRoV2luZG93c0RyaXZlTGV0dGVyID0gZnVuY3Rpb24gKHN0cmluZykge1xuICB2YXIgdGhpcmQ7XG4gIHJldHVybiBzdHJpbmcubGVuZ3RoID4gMSAmJiBpc1dpbmRvd3NEcml2ZUxldHRlcihzdHJpbmdTbGljZShzdHJpbmcsIDAsIDIpKSAmJiAoXG4gICAgc3RyaW5nLmxlbmd0aCA9PSAyIHx8XG4gICAgKCh0aGlyZCA9IGNoYXJBdChzdHJpbmcsIDIpKSA9PT0gJy8nIHx8IHRoaXJkID09PSAnXFxcXCcgfHwgdGhpcmQgPT09ICc/JyB8fCB0aGlyZCA9PT0gJyMnKVxuICApO1xufTtcblxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNzaW5nbGUtZG90LXBhdGgtc2VnbWVudFxudmFyIGlzU2luZ2xlRG90ID0gZnVuY3Rpb24gKHNlZ21lbnQpIHtcbiAgcmV0dXJuIHNlZ21lbnQgPT09ICcuJyB8fCB0b0xvd2VyQ2FzZShzZWdtZW50KSA9PT0gJyUyZSc7XG59O1xuXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvdWJsZS1kb3QtcGF0aC1zZWdtZW50XG52YXIgaXNEb3VibGVEb3QgPSBmdW5jdGlvbiAoc2VnbWVudCkge1xuICBzZWdtZW50ID0gdG9Mb3dlckNhc2Uoc2VnbWVudCk7XG4gIHJldHVybiBzZWdtZW50ID09PSAnLi4nIHx8IHNlZ21lbnQgPT09ICclMmUuJyB8fCBzZWdtZW50ID09PSAnLiUyZScgfHwgc2VnbWVudCA9PT0gJyUyZSUyZSc7XG59O1xuXG4vLyBTdGF0ZXM6XG52YXIgU0NIRU1FX1NUQVJUID0ge307XG52YXIgU0NIRU1FID0ge307XG52YXIgTk9fU0NIRU1FID0ge307XG52YXIgU1BFQ0lBTF9SRUxBVElWRV9PUl9BVVRIT1JJVFkgPSB7fTtcbnZhciBQQVRIX09SX0FVVEhPUklUWSA9IHt9O1xudmFyIFJFTEFUSVZFID0ge307XG52YXIgUkVMQVRJVkVfU0xBU0ggPSB7fTtcbnZhciBTUEVDSUFMX0FVVEhPUklUWV9TTEFTSEVTID0ge307XG52YXIgU1BFQ0lBTF9BVVRIT1JJVFlfSUdOT1JFX1NMQVNIRVMgPSB7fTtcbnZhciBBVVRIT1JJVFkgPSB7fTtcbnZhciBIT1NUID0ge307XG52YXIgSE9TVE5BTUUgPSB7fTtcbnZhciBQT1JUID0ge307XG52YXIgRklMRSA9IHt9O1xudmFyIEZJTEVfU0xBU0ggPSB7fTtcbnZhciBGSUxFX0hPU1QgPSB7fTtcbnZhciBQQVRIX1NUQVJUID0ge307XG52YXIgUEFUSCA9IHt9O1xudmFyIENBTk5PVF9CRV9BX0JBU0VfVVJMX1BBVEggPSB7fTtcbnZhciBRVUVSWSA9IHt9O1xudmFyIEZSQUdNRU5UID0ge307XG5cbnZhciBVUkxTdGF0ZSA9IGZ1bmN0aW9uICh1cmwsIGlzQmFzZSwgYmFzZSkge1xuICB2YXIgdXJsU3RyaW5nID0gJHRvU3RyaW5nKHVybCk7XG4gIHZhciBiYXNlU3RhdGUsIGZhaWx1cmUsIHNlYXJjaFBhcmFtcztcbiAgaWYgKGlzQmFzZSkge1xuICAgIGZhaWx1cmUgPSB0aGlzLnBhcnNlKHVybFN0cmluZyk7XG4gICAgaWYgKGZhaWx1cmUpIHRocm93IFR5cGVFcnJvcihmYWlsdXJlKTtcbiAgICB0aGlzLnNlYXJjaFBhcmFtcyA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJhc2UgIT09IHVuZGVmaW5lZCkgYmFzZVN0YXRlID0gbmV3IFVSTFN0YXRlKGJhc2UsIHRydWUpO1xuICAgIGZhaWx1cmUgPSB0aGlzLnBhcnNlKHVybFN0cmluZywgbnVsbCwgYmFzZVN0YXRlKTtcbiAgICBpZiAoZmFpbHVyZSkgdGhyb3cgVHlwZUVycm9yKGZhaWx1cmUpO1xuICAgIHNlYXJjaFBhcmFtcyA9IGdldEludGVybmFsU2VhcmNoUGFyYW1zU3RhdGUobmV3IFVSTFNlYXJjaFBhcmFtcygpKTtcbiAgICBzZWFyY2hQYXJhbXMuYmluZFVSTCh0aGlzKTtcbiAgICB0aGlzLnNlYXJjaFBhcmFtcyA9IHNlYXJjaFBhcmFtcztcbiAgfVxufTtcblxuVVJMU3RhdGUucHJvdG90eXBlID0ge1xuICB0eXBlOiAnVVJMJyxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmwtcGFyc2luZ1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHMgLS0gVE9ET1xuICBwYXJzZTogZnVuY3Rpb24gKGlucHV0LCBzdGF0ZU92ZXJyaWRlLCBiYXNlKSB7XG4gICAgdmFyIHVybCA9IHRoaXM7XG4gICAgdmFyIHN0YXRlID0gc3RhdGVPdmVycmlkZSB8fCBTQ0hFTUVfU1RBUlQ7XG4gICAgdmFyIHBvaW50ZXIgPSAwO1xuICAgIHZhciBidWZmZXIgPSAnJztcbiAgICB2YXIgc2VlbkF0ID0gZmFsc2U7XG4gICAgdmFyIHNlZW5CcmFja2V0ID0gZmFsc2U7XG4gICAgdmFyIHNlZW5QYXNzd29yZFRva2VuID0gZmFsc2U7XG4gICAgdmFyIGNvZGVQb2ludHMsIGNociwgYnVmZmVyQ29kZVBvaW50cywgZmFpbHVyZTtcblxuICAgIGlucHV0ID0gJHRvU3RyaW5nKGlucHV0KTtcblxuICAgIGlmICghc3RhdGVPdmVycmlkZSkge1xuICAgICAgdXJsLnNjaGVtZSA9ICcnO1xuICAgICAgdXJsLnVzZXJuYW1lID0gJyc7XG4gICAgICB1cmwucGFzc3dvcmQgPSAnJztcbiAgICAgIHVybC5ob3N0ID0gbnVsbDtcbiAgICAgIHVybC5wb3J0ID0gbnVsbDtcbiAgICAgIHVybC5wYXRoID0gW107XG4gICAgICB1cmwucXVlcnkgPSBudWxsO1xuICAgICAgdXJsLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgIHVybC5jYW5ub3RCZUFCYXNlVVJMID0gZmFsc2U7XG4gICAgICBpbnB1dCA9IHJlcGxhY2UoaW5wdXQsIExFQURJTkdfQzBfQ09OVFJPTF9PUl9TUEFDRSwgJycpO1xuICAgICAgaW5wdXQgPSByZXBsYWNlKGlucHV0LCBUUkFJTElOR19DMF9DT05UUk9MX09SX1NQQUNFLCAnJDEnKTtcbiAgICB9XG5cbiAgICBpbnB1dCA9IHJlcGxhY2UoaW5wdXQsIFRBQl9BTkRfTkVXX0xJTkUsICcnKTtcblxuICAgIGNvZGVQb2ludHMgPSBhcnJheUZyb20oaW5wdXQpO1xuXG4gICAgd2hpbGUgKHBvaW50ZXIgPD0gY29kZVBvaW50cy5sZW5ndGgpIHtcbiAgICAgIGNociA9IGNvZGVQb2ludHNbcG9pbnRlcl07XG4gICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgU0NIRU1FX1NUQVJUOlxuICAgICAgICAgIGlmIChjaHIgJiYgZXhlYyhBTFBIQSwgY2hyKSkge1xuICAgICAgICAgICAgYnVmZmVyICs9IHRvTG93ZXJDYXNlKGNocik7XG4gICAgICAgICAgICBzdGF0ZSA9IFNDSEVNRTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFzdGF0ZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IE5PX1NDSEVNRTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSByZXR1cm4gSU5WQUxJRF9TQ0hFTUU7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBTQ0hFTUU6XG4gICAgICAgICAgaWYgKGNociAmJiAoZXhlYyhBTFBIQU5VTUVSSUMsIGNocikgfHwgY2hyID09ICcrJyB8fCBjaHIgPT0gJy0nIHx8IGNociA9PSAnLicpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gdG9Mb3dlckNhc2UoY2hyKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnOicpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlICYmIChcbiAgICAgICAgICAgICAgKHVybC5pc1NwZWNpYWwoKSAhPSBoYXNPd24oc3BlY2lhbFNjaGVtZXMsIGJ1ZmZlcikpIHx8XG4gICAgICAgICAgICAgIChidWZmZXIgPT0gJ2ZpbGUnICYmICh1cmwuaW5jbHVkZXNDcmVkZW50aWFscygpIHx8IHVybC5wb3J0ICE9PSBudWxsKSkgfHxcbiAgICAgICAgICAgICAgKHVybC5zY2hlbWUgPT0gJ2ZpbGUnICYmICF1cmwuaG9zdClcbiAgICAgICAgICAgICkpIHJldHVybjtcbiAgICAgICAgICAgIHVybC5zY2hlbWUgPSBidWZmZXI7XG4gICAgICAgICAgICBpZiAoc3RhdGVPdmVycmlkZSkge1xuICAgICAgICAgICAgICBpZiAodXJsLmlzU3BlY2lhbCgpICYmIHNwZWNpYWxTY2hlbWVzW3VybC5zY2hlbWVdID09IHVybC5wb3J0KSB1cmwucG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgaWYgKHVybC5zY2hlbWUgPT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICAgIHN0YXRlID0gRklMRTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsLmlzU3BlY2lhbCgpICYmIGJhc2UgJiYgYmFzZS5zY2hlbWUgPT0gdXJsLnNjaGVtZSkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IFNQRUNJQUxfUkVMQVRJVkVfT1JfQVVUSE9SSVRZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1cmwuaXNTcGVjaWFsKCkpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBTUEVDSUFMX0FVVEhPUklUWV9TTEFTSEVTO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb2RlUG9pbnRzW3BvaW50ZXIgKyAxXSA9PSAnLycpIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBQQVRIX09SX0FVVEhPUklUWTtcbiAgICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXJsLmNhbm5vdEJlQUJhc2VVUkwgPSB0cnVlO1xuICAgICAgICAgICAgICBwdXNoKHVybC5wYXRoLCAnJyk7XG4gICAgICAgICAgICAgIHN0YXRlID0gQ0FOTk9UX0JFX0FfQkFTRV9VUkxfUEFUSDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKCFzdGF0ZU92ZXJyaWRlKSB7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gTk9fU0NIRU1FO1xuICAgICAgICAgICAgcG9pbnRlciA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuIElOVkFMSURfU0NIRU1FO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgTk9fU0NIRU1FOlxuICAgICAgICAgIGlmICghYmFzZSB8fCAoYmFzZS5jYW5ub3RCZUFCYXNlVVJMICYmIGNociAhPSAnIycpKSByZXR1cm4gSU5WQUxJRF9TQ0hFTUU7XG4gICAgICAgICAgaWYgKGJhc2UuY2Fubm90QmVBQmFzZVVSTCAmJiBjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICB1cmwuc2NoZW1lID0gYmFzZS5zY2hlbWU7XG4gICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgIHVybC5xdWVyeSA9IGJhc2UucXVlcnk7XG4gICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgIHVybC5jYW5ub3RCZUFCYXNlVVJMID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUgPSBiYXNlLnNjaGVtZSA9PSAnZmlsZScgPyBGSUxFIDogUkVMQVRJVkU7XG4gICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgY2FzZSBTUEVDSUFMX1JFTEFUSVZFX09SX0FVVEhPUklUWTpcbiAgICAgICAgICBpZiAoY2hyID09ICcvJyAmJiBjb2RlUG9pbnRzW3BvaW50ZXIgKyAxXSA9PSAnLycpIHtcbiAgICAgICAgICAgIHN0YXRlID0gU1BFQ0lBTF9BVVRIT1JJVFlfSUdOT1JFX1NMQVNIRVM7XG4gICAgICAgICAgICBwb2ludGVyKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gUkVMQVRJVkU7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgUEFUSF9PUl9BVVRIT1JJVFk6XG4gICAgICAgICAgaWYgKGNociA9PSAnLycpIHtcbiAgICAgICAgICAgIHN0YXRlID0gQVVUSE9SSVRZO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlIFJFTEFUSVZFOlxuICAgICAgICAgIHVybC5zY2hlbWUgPSBiYXNlLnNjaGVtZTtcbiAgICAgICAgICBpZiAoY2hyID09IEVPRikge1xuICAgICAgICAgICAgdXJsLnVzZXJuYW1lID0gYmFzZS51c2VybmFtZTtcbiAgICAgICAgICAgIHVybC5wYXNzd29yZCA9IGJhc2UucGFzc3dvcmQ7XG4gICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgIHVybC5wb3J0ID0gYmFzZS5wb3J0O1xuICAgICAgICAgICAgdXJsLnBhdGggPSBhcnJheVNsaWNlKGJhc2UucGF0aCk7XG4gICAgICAgICAgICB1cmwucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICcvJyB8fCAoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFJFTEFUSVZFX1NMQVNIO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICc/Jykge1xuICAgICAgICAgICAgdXJsLnVzZXJuYW1lID0gYmFzZS51c2VybmFtZTtcbiAgICAgICAgICAgIHVybC5wYXNzd29yZCA9IGJhc2UucGFzc3dvcmQ7XG4gICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgIHVybC5wb3J0ID0gYmFzZS5wb3J0O1xuICAgICAgICAgICAgdXJsLnBhdGggPSBhcnJheVNsaWNlKGJhc2UucGF0aCk7XG4gICAgICAgICAgICB1cmwucXVlcnkgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gUVVFUlk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICB1cmwudXNlcm5hbWUgPSBiYXNlLnVzZXJuYW1lO1xuICAgICAgICAgICAgdXJsLnBhc3N3b3JkID0gYmFzZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdXJsLnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgIHVybC5xdWVyeSA9IGJhc2UucXVlcnk7XG4gICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybC51c2VybmFtZSA9IGJhc2UudXNlcm5hbWU7XG4gICAgICAgICAgICB1cmwucGFzc3dvcmQgPSBiYXNlLnBhc3N3b3JkO1xuICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICB1cmwucG9ydCA9IGJhc2UucG9ydDtcbiAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgdXJsLnBhdGgubGVuZ3RoLS07XG4gICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgUkVMQVRJVkVfU0xBU0g6XG4gICAgICAgICAgaWYgKHVybC5pc1NwZWNpYWwoKSAmJiAoY2hyID09ICcvJyB8fCBjaHIgPT0gJ1xcXFwnKSkge1xuICAgICAgICAgICAgc3RhdGUgPSBTUEVDSUFMX0FVVEhPUklUWV9JR05PUkVfU0xBU0hFUztcbiAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnLycpIHtcbiAgICAgICAgICAgIHN0YXRlID0gQVVUSE9SSVRZO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwudXNlcm5hbWUgPSBiYXNlLnVzZXJuYW1lO1xuICAgICAgICAgICAgdXJsLnBhc3N3b3JkID0gYmFzZS5wYXNzd29yZDtcbiAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdXJsLnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgU1BFQ0lBTF9BVVRIT1JJVFlfU0xBU0hFUzpcbiAgICAgICAgICBzdGF0ZSA9IFNQRUNJQUxfQVVUSE9SSVRZX0lHTk9SRV9TTEFTSEVTO1xuICAgICAgICAgIGlmIChjaHIgIT0gJy8nIHx8IGNoYXJBdChidWZmZXIsIHBvaW50ZXIgKyAxKSAhPSAnLycpIGNvbnRpbnVlO1xuICAgICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFNQRUNJQUxfQVVUSE9SSVRZX0lHTk9SRV9TTEFTSEVTOlxuICAgICAgICAgIGlmIChjaHIgIT0gJy8nICYmIGNociAhPSAnXFxcXCcpIHtcbiAgICAgICAgICAgIHN0YXRlID0gQVVUSE9SSVRZO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIEFVVEhPUklUWTpcbiAgICAgICAgICBpZiAoY2hyID09ICdAJykge1xuICAgICAgICAgICAgaWYgKHNlZW5BdCkgYnVmZmVyID0gJyU0MCcgKyBidWZmZXI7XG4gICAgICAgICAgICBzZWVuQXQgPSB0cnVlO1xuICAgICAgICAgICAgYnVmZmVyQ29kZVBvaW50cyA9IGFycmF5RnJvbShidWZmZXIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJDb2RlUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBidWZmZXJDb2RlUG9pbnRzW2ldO1xuICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09ICc6JyAmJiAhc2VlblBhc3N3b3JkVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBzZWVuUGFzc3dvcmRUb2tlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGVuY29kZWRDb2RlUG9pbnRzID0gcGVyY2VudEVuY29kZShjb2RlUG9pbnQsIHVzZXJpbmZvUGVyY2VudEVuY29kZVNldCk7XG4gICAgICAgICAgICAgIGlmIChzZWVuUGFzc3dvcmRUb2tlbikgdXJsLnBhc3N3b3JkICs9IGVuY29kZWRDb2RlUG9pbnRzO1xuICAgICAgICAgICAgICBlbHNlIHVybC51c2VybmFtZSArPSBlbmNvZGVkQ29kZVBvaW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjaHIgPT0gRU9GIHx8IGNociA9PSAnLycgfHwgY2hyID09ICc/JyB8fCBjaHIgPT0gJyMnIHx8XG4gICAgICAgICAgICAoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoc2VlbkF0ICYmIGJ1ZmZlciA9PSAnJykgcmV0dXJuIElOVkFMSURfQVVUSE9SSVRZO1xuICAgICAgICAgICAgcG9pbnRlciAtPSBhcnJheUZyb20oYnVmZmVyKS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICBzdGF0ZSA9IEhPU1Q7XG4gICAgICAgICAgfSBlbHNlIGJ1ZmZlciArPSBjaHI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBIT1NUOlxuICAgICAgICBjYXNlIEhPU1ROQU1FOlxuICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlICYmIHVybC5zY2hlbWUgPT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEZJTEVfSE9TVDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyID09ICc6JyAmJiAhc2VlbkJyYWNrZXQpIHtcbiAgICAgICAgICAgIGlmIChidWZmZXIgPT0gJycpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICAgICAgICBmYWlsdXJlID0gdXJsLnBhcnNlSG9zdChidWZmZXIpO1xuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHJldHVybiBmYWlsdXJlO1xuICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICBzdGF0ZSA9IFBPUlQ7XG4gICAgICAgICAgICBpZiAoc3RhdGVPdmVycmlkZSA9PSBIT1NUTkFNRSkgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjaHIgPT0gRU9GIHx8IGNociA9PSAnLycgfHwgY2hyID09ICc/JyB8fCBjaHIgPT0gJyMnIHx8XG4gICAgICAgICAgICAoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAodXJsLmlzU3BlY2lhbCgpICYmIGJ1ZmZlciA9PSAnJykgcmV0dXJuIElOVkFMSURfSE9TVDtcbiAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlICYmIGJ1ZmZlciA9PSAnJyAmJiAodXJsLmluY2x1ZGVzQ3JlZGVudGlhbHMoKSB8fCB1cmwucG9ydCAhPT0gbnVsbCkpIHJldHVybjtcbiAgICAgICAgICAgIGZhaWx1cmUgPSB1cmwucGFyc2VIb3N0KGJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkgcmV0dXJuIGZhaWx1cmU7XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSF9TVEFSVDtcbiAgICAgICAgICAgIGlmIChzdGF0ZU92ZXJyaWRlKSByZXR1cm47XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNociA9PSAnWycpIHNlZW5CcmFja2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSAnXScpIHNlZW5CcmFja2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2hyO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBQT1JUOlxuICAgICAgICAgIGlmIChleGVjKERJR0lULCBjaHIpKSB7XG4gICAgICAgICAgICBidWZmZXIgKz0gY2hyO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjaHIgPT0gRU9GIHx8IGNociA9PSAnLycgfHwgY2hyID09ICc/JyB8fCBjaHIgPT0gJyMnIHx8XG4gICAgICAgICAgICAoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpIHx8XG4gICAgICAgICAgICBzdGF0ZU92ZXJyaWRlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoYnVmZmVyICE9ICcnKSB7XG4gICAgICAgICAgICAgIHZhciBwb3J0ID0gcGFyc2VJbnQoYnVmZmVyLCAxMCk7XG4gICAgICAgICAgICAgIGlmIChwb3J0ID4gMHhGRkZGKSByZXR1cm4gSU5WQUxJRF9QT1JUO1xuICAgICAgICAgICAgICB1cmwucG9ydCA9ICh1cmwuaXNTcGVjaWFsKCkgJiYgcG9ydCA9PT0gc3BlY2lhbFNjaGVtZXNbdXJsLnNjaGVtZV0pID8gbnVsbCA6IHBvcnQ7XG4gICAgICAgICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUpIHJldHVybjtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSF9TVEFSVDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSByZXR1cm4gSU5WQUxJRF9QT1JUO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRklMRTpcbiAgICAgICAgICB1cmwuc2NoZW1lID0gJ2ZpbGUnO1xuICAgICAgICAgIGlmIChjaHIgPT0gJy8nIHx8IGNociA9PSAnXFxcXCcpIHN0YXRlID0gRklMRV9TTEFTSDtcbiAgICAgICAgICBlbHNlIGlmIChiYXNlICYmIGJhc2Uuc2NoZW1lID09ICdmaWxlJykge1xuICAgICAgICAgICAgaWYgKGNociA9PSBFT0YpIHtcbiAgICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgICB1cmwucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJz8nKSB7XG4gICAgICAgICAgICAgIHVybC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgICAgdXJsLnF1ZXJ5ID0gJyc7XG4gICAgICAgICAgICAgIHN0YXRlID0gUVVFUlk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnIycpIHtcbiAgICAgICAgICAgICAgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgICAgIHVybC5wYXRoID0gYXJyYXlTbGljZShiYXNlLnBhdGgpO1xuICAgICAgICAgICAgICB1cmwucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuICAgICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgICAgc3RhdGUgPSBGUkFHTUVOVDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghc3RhcnRzV2l0aFdpbmRvd3NEcml2ZUxldHRlcihqb2luKGFycmF5U2xpY2UoY29kZVBvaW50cywgcG9pbnRlciksICcnKSkpIHtcbiAgICAgICAgICAgICAgICB1cmwuaG9zdCA9IGJhc2UuaG9zdDtcbiAgICAgICAgICAgICAgICB1cmwucGF0aCA9IGFycmF5U2xpY2UoYmFzZS5wYXRoKTtcbiAgICAgICAgICAgICAgICB1cmwuc2hvcnRlblBhdGgoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9IGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRklMRV9TTEFTSDpcbiAgICAgICAgICBpZiAoY2hyID09ICcvJyB8fCBjaHIgPT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEZJTEVfSE9TVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYmFzZSAmJiBiYXNlLnNjaGVtZSA9PSAnZmlsZScgJiYgIXN0YXJ0c1dpdGhXaW5kb3dzRHJpdmVMZXR0ZXIoam9pbihhcnJheVNsaWNlKGNvZGVQb2ludHMsIHBvaW50ZXIpLCAnJykpKSB7XG4gICAgICAgICAgICBpZiAoaXNXaW5kb3dzRHJpdmVMZXR0ZXIoYmFzZS5wYXRoWzBdLCB0cnVlKSkgcHVzaCh1cmwucGF0aCwgYmFzZS5wYXRoWzBdKTtcbiAgICAgICAgICAgIGVsc2UgdXJsLmhvc3QgPSBiYXNlLmhvc3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBjYXNlIEZJTEVfSE9TVDpcbiAgICAgICAgICBpZiAoY2hyID09IEVPRiB8fCBjaHIgPT0gJy8nIHx8IGNociA9PSAnXFxcXCcgfHwgY2hyID09ICc/JyB8fCBjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXRlT3ZlcnJpZGUgJiYgaXNXaW5kb3dzRHJpdmVMZXR0ZXIoYnVmZmVyKSkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IFBBVEg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJ1ZmZlciA9PSAnJykge1xuICAgICAgICAgICAgICB1cmwuaG9zdCA9ICcnO1xuICAgICAgICAgICAgICBpZiAoc3RhdGVPdmVycmlkZSkgcmV0dXJuO1xuICAgICAgICAgICAgICBzdGF0ZSA9IFBBVEhfU1RBUlQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmYWlsdXJlID0gdXJsLnBhcnNlSG9zdChidWZmZXIpO1xuICAgICAgICAgICAgICBpZiAoZmFpbHVyZSkgcmV0dXJuIGZhaWx1cmU7XG4gICAgICAgICAgICAgIGlmICh1cmwuaG9zdCA9PSAnbG9jYWxob3N0JykgdXJsLmhvc3QgPSAnJztcbiAgICAgICAgICAgICAgaWYgKHN0YXRlT3ZlcnJpZGUpIHJldHVybjtcbiAgICAgICAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgICAgICAgICAgIHN0YXRlID0gUEFUSF9TVEFSVDtcbiAgICAgICAgICAgIH0gY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIGJ1ZmZlciArPSBjaHI7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBQQVRIX1NUQVJUOlxuICAgICAgICAgIGlmICh1cmwuaXNTcGVjaWFsKCkpIHtcbiAgICAgICAgICAgIHN0YXRlID0gUEFUSDtcbiAgICAgICAgICAgIGlmIChjaHIgIT0gJy8nICYmIGNociAhPSAnXFxcXCcpIGNvbnRpbnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlT3ZlcnJpZGUgJiYgY2hyID09ICc/Jykge1xuICAgICAgICAgICAgdXJsLnF1ZXJ5ID0gJyc7XG4gICAgICAgICAgICBzdGF0ZSA9IFFVRVJZO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXN0YXRlT3ZlcnJpZGUgJiYgY2hyID09ICcjJykge1xuICAgICAgICAgICAgdXJsLmZyYWdtZW50ID0gJyc7XG4gICAgICAgICAgICBzdGF0ZSA9IEZSQUdNRU5UO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hyICE9IEVPRikge1xuICAgICAgICAgICAgc3RhdGUgPSBQQVRIO1xuICAgICAgICAgICAgaWYgKGNociAhPSAnLycpIGNvbnRpbnVlO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBQQVRIOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNociA9PSBFT0YgfHwgY2hyID09ICcvJyB8fFxuICAgICAgICAgICAgKGNociA9PSAnXFxcXCcgJiYgdXJsLmlzU3BlY2lhbCgpKSB8fFxuICAgICAgICAgICAgKCFzdGF0ZU92ZXJyaWRlICYmIChjaHIgPT0gJz8nIHx8IGNociA9PSAnIycpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGlzRG91YmxlRG90KGJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgdXJsLnNob3J0ZW5QYXRoKCk7XG4gICAgICAgICAgICAgIGlmIChjaHIgIT0gJy8nICYmICEoY2hyID09ICdcXFxcJyAmJiB1cmwuaXNTcGVjaWFsKCkpKSB7XG4gICAgICAgICAgICAgICAgcHVzaCh1cmwucGF0aCwgJycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2luZ2xlRG90KGJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgaWYgKGNociAhPSAnLycgJiYgIShjaHIgPT0gJ1xcXFwnICYmIHVybC5pc1NwZWNpYWwoKSkpIHtcbiAgICAgICAgICAgICAgICBwdXNoKHVybC5wYXRoLCAnJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICh1cmwuc2NoZW1lID09ICdmaWxlJyAmJiAhdXJsLnBhdGgubGVuZ3RoICYmIGlzV2luZG93c0RyaXZlTGV0dGVyKGJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodXJsLmhvc3QpIHVybC5ob3N0ID0gJyc7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gY2hhckF0KGJ1ZmZlciwgMCkgKyAnOic7IC8vIG5vcm1hbGl6ZSB3aW5kb3dzIGRyaXZlIGxldHRlclxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHB1c2godXJsLnBhdGgsIGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXIgPSAnJztcbiAgICAgICAgICAgIGlmICh1cmwuc2NoZW1lID09ICdmaWxlJyAmJiAoY2hyID09IEVPRiB8fCBjaHIgPT0gJz8nIHx8IGNociA9PSAnIycpKSB7XG4gICAgICAgICAgICAgIHdoaWxlICh1cmwucGF0aC5sZW5ndGggPiAxICYmIHVybC5wYXRoWzBdID09PSAnJykge1xuICAgICAgICAgICAgICAgIHNoaWZ0KHVybC5wYXRoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNociA9PSAnPycpIHtcbiAgICAgICAgICAgICAgdXJsLnF1ZXJ5ID0gJyc7XG4gICAgICAgICAgICAgIHN0YXRlID0gUVVFUlk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNociA9PSAnIycpIHtcbiAgICAgICAgICAgICAgdXJsLmZyYWdtZW50ID0gJyc7XG4gICAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBwZXJjZW50RW5jb2RlKGNociwgcGF0aFBlcmNlbnRFbmNvZGVTZXQpO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBDQU5OT1RfQkVfQV9CQVNFX1VSTF9QQVRIOlxuICAgICAgICAgIGlmIChjaHIgPT0gJz8nKSB7XG4gICAgICAgICAgICB1cmwucXVlcnkgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gUVVFUlk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgIT0gRU9GKSB7XG4gICAgICAgICAgICB1cmwucGF0aFswXSArPSBwZXJjZW50RW5jb2RlKGNociwgQzBDb250cm9sUGVyY2VudEVuY29kZVNldCk7XG4gICAgICAgICAgfSBicmVhaztcblxuICAgICAgICBjYXNlIFFVRVJZOlxuICAgICAgICAgIGlmICghc3RhdGVPdmVycmlkZSAmJiBjaHIgPT0gJyMnKSB7XG4gICAgICAgICAgICB1cmwuZnJhZ21lbnQgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gRlJBR01FTlQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaHIgIT0gRU9GKSB7XG4gICAgICAgICAgICBpZiAoY2hyID09IFwiJ1wiICYmIHVybC5pc1NwZWNpYWwoKSkgdXJsLnF1ZXJ5ICs9ICclMjcnO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2hyID09ICcjJykgdXJsLnF1ZXJ5ICs9ICclMjMnO1xuICAgICAgICAgICAgZWxzZSB1cmwucXVlcnkgKz0gcGVyY2VudEVuY29kZShjaHIsIEMwQ29udHJvbFBlcmNlbnRFbmNvZGVTZXQpO1xuICAgICAgICAgIH0gYnJlYWs7XG5cbiAgICAgICAgY2FzZSBGUkFHTUVOVDpcbiAgICAgICAgICBpZiAoY2hyICE9IEVPRikgdXJsLmZyYWdtZW50ICs9IHBlcmNlbnRFbmNvZGUoY2hyLCBmcmFnbWVudFBlcmNlbnRFbmNvZGVTZXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBwb2ludGVyKys7XG4gICAgfVxuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2hvc3QtcGFyc2luZ1xuICBwYXJzZUhvc3Q6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHZhciByZXN1bHQsIGNvZGVQb2ludHMsIGluZGV4O1xuICAgIGlmIChjaGFyQXQoaW5wdXQsIDApID09ICdbJykge1xuICAgICAgaWYgKGNoYXJBdChpbnB1dCwgaW5wdXQubGVuZ3RoIC0gMSkgIT0gJ10nKSByZXR1cm4gSU5WQUxJRF9IT1NUO1xuICAgICAgcmVzdWx0ID0gcGFyc2VJUHY2KHN0cmluZ1NsaWNlKGlucHV0LCAxLCAtMSkpO1xuICAgICAgaWYgKCFyZXN1bHQpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICB0aGlzLmhvc3QgPSByZXN1bHQ7XG4gICAgLy8gb3BhcXVlIGhvc3RcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU3BlY2lhbCgpKSB7XG4gICAgICBpZiAoZXhlYyhGT1JCSURERU5fSE9TVF9DT0RFX1BPSU5UX0VYQ0xVRElOR19QRVJDRU5ULCBpbnB1dCkpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICByZXN1bHQgPSAnJztcbiAgICAgIGNvZGVQb2ludHMgPSBhcnJheUZyb20oaW5wdXQpO1xuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29kZVBvaW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgcmVzdWx0ICs9IHBlcmNlbnRFbmNvZGUoY29kZVBvaW50c1tpbmRleF0sIEMwQ29udHJvbFBlcmNlbnRFbmNvZGVTZXQpO1xuICAgICAgfVxuICAgICAgdGhpcy5ob3N0ID0gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dCA9IHRvQVNDSUkoaW5wdXQpO1xuICAgICAgaWYgKGV4ZWMoRk9SQklEREVOX0hPU1RfQ09ERV9QT0lOVCwgaW5wdXQpKSByZXR1cm4gSU5WQUxJRF9IT1NUO1xuICAgICAgcmVzdWx0ID0gcGFyc2VJUHY0KGlucHV0KTtcbiAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHJldHVybiBJTlZBTElEX0hPU1Q7XG4gICAgICB0aGlzLmhvc3QgPSByZXN1bHQ7XG4gICAgfVxuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2Nhbm5vdC1oYXZlLWEtdXNlcm5hbWUtcGFzc3dvcmQtcG9ydFxuICBjYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gIXRoaXMuaG9zdCB8fCB0aGlzLmNhbm5vdEJlQUJhc2VVUkwgfHwgdGhpcy5zY2hlbWUgPT0gJ2ZpbGUnO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2luY2x1ZGUtY3JlZGVudGlhbHNcbiAgaW5jbHVkZXNDcmVkZW50aWFsczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJuYW1lICE9ICcnIHx8IHRoaXMucGFzc3dvcmQgIT0gJyc7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jaXMtc3BlY2lhbFxuICBpc1NwZWNpYWw6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaGFzT3duKHNwZWNpYWxTY2hlbWVzLCB0aGlzLnNjaGVtZSk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jc2hvcnRlbi1hLXVybHMtcGF0aFxuICBzaG9ydGVuUGF0aDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXRoID0gdGhpcy5wYXRoO1xuICAgIHZhciBwYXRoU2l6ZSA9IHBhdGgubGVuZ3RoO1xuICAgIGlmIChwYXRoU2l6ZSAmJiAodGhpcy5zY2hlbWUgIT0gJ2ZpbGUnIHx8IHBhdGhTaXplICE9IDEgfHwgIWlzV2luZG93c0RyaXZlTGV0dGVyKHBhdGhbMF0sIHRydWUpKSkge1xuICAgICAgcGF0aC5sZW5ndGgtLTtcbiAgICB9XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC11cmwtc2VyaWFsaXplclxuICBzZXJpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXJsID0gdGhpcztcbiAgICB2YXIgc2NoZW1lID0gdXJsLnNjaGVtZTtcbiAgICB2YXIgdXNlcm5hbWUgPSB1cmwudXNlcm5hbWU7XG4gICAgdmFyIHBhc3N3b3JkID0gdXJsLnBhc3N3b3JkO1xuICAgIHZhciBob3N0ID0gdXJsLmhvc3Q7XG4gICAgdmFyIHBvcnQgPSB1cmwucG9ydDtcbiAgICB2YXIgcGF0aCA9IHVybC5wYXRoO1xuICAgIHZhciBxdWVyeSA9IHVybC5xdWVyeTtcbiAgICB2YXIgZnJhZ21lbnQgPSB1cmwuZnJhZ21lbnQ7XG4gICAgdmFyIG91dHB1dCA9IHNjaGVtZSArICc6JztcbiAgICBpZiAoaG9zdCAhPT0gbnVsbCkge1xuICAgICAgb3V0cHV0ICs9ICcvLyc7XG4gICAgICBpZiAodXJsLmluY2x1ZGVzQ3JlZGVudGlhbHMoKSkge1xuICAgICAgICBvdXRwdXQgKz0gdXNlcm5hbWUgKyAocGFzc3dvcmQgPyAnOicgKyBwYXNzd29yZCA6ICcnKSArICdAJztcbiAgICAgIH1cbiAgICAgIG91dHB1dCArPSBzZXJpYWxpemVIb3N0KGhvc3QpO1xuICAgICAgaWYgKHBvcnQgIT09IG51bGwpIG91dHB1dCArPSAnOicgKyBwb3J0O1xuICAgIH0gZWxzZSBpZiAoc2NoZW1lID09ICdmaWxlJykgb3V0cHV0ICs9ICcvLyc7XG4gICAgb3V0cHV0ICs9IHVybC5jYW5ub3RCZUFCYXNlVVJMID8gcGF0aFswXSA6IHBhdGgubGVuZ3RoID8gJy8nICsgam9pbihwYXRoLCAnLycpIDogJyc7XG4gICAgaWYgKHF1ZXJ5ICE9PSBudWxsKSBvdXRwdXQgKz0gJz8nICsgcXVlcnk7XG4gICAgaWYgKGZyYWdtZW50ICE9PSBudWxsKSBvdXRwdXQgKz0gJyMnICsgZnJhZ21lbnQ7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLWhyZWZcbiAgc2V0SHJlZjogZnVuY3Rpb24gKGhyZWYpIHtcbiAgICB2YXIgZmFpbHVyZSA9IHRoaXMucGFyc2UoaHJlZik7XG4gICAgaWYgKGZhaWx1cmUpIHRocm93IFR5cGVFcnJvcihmYWlsdXJlKTtcbiAgICB0aGlzLnNlYXJjaFBhcmFtcy51cGRhdGUoKTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLW9yaWdpblxuICBnZXRPcmlnaW46IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2NoZW1lID0gdGhpcy5zY2hlbWU7XG4gICAgdmFyIHBvcnQgPSB0aGlzLnBvcnQ7XG4gICAgaWYgKHNjaGVtZSA9PSAnYmxvYicpIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IFVSTENvbnN0cnVjdG9yKHNjaGVtZS5wYXRoWzBdKS5vcmlnaW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgIGlmIChzY2hlbWUgPT0gJ2ZpbGUnIHx8ICF0aGlzLmlzU3BlY2lhbCgpKSByZXR1cm4gJ251bGwnO1xuICAgIHJldHVybiBzY2hlbWUgKyAnOi8vJyArIHNlcmlhbGl6ZUhvc3QodGhpcy5ob3N0KSArIChwb3J0ICE9PSBudWxsID8gJzonICsgcG9ydCA6ICcnKTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXByb3RvY29sXG4gIGdldFByb3RvY29sOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NoZW1lICsgJzonO1xuICB9LFxuICBzZXRQcm90b2NvbDogZnVuY3Rpb24gKHByb3RvY29sKSB7XG4gICAgdGhpcy5wYXJzZSgkdG9TdHJpbmcocHJvdG9jb2wpICsgJzonLCBTQ0hFTUVfU1RBUlQpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtdXNlcm5hbWVcbiAgZ2V0VXNlcm5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VybmFtZTtcbiAgfSxcbiAgc2V0VXNlcm5hbWU6IGZ1bmN0aW9uICh1c2VybmFtZSkge1xuICAgIHZhciBjb2RlUG9pbnRzID0gYXJyYXlGcm9tKCR0b1N0cmluZyh1c2VybmFtZSkpO1xuICAgIGlmICh0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpKSByZXR1cm47XG4gICAgdGhpcy51c2VybmFtZSA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29kZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy51c2VybmFtZSArPSBwZXJjZW50RW5jb2RlKGNvZGVQb2ludHNbaV0sIHVzZXJpbmZvUGVyY2VudEVuY29kZVNldCk7XG4gICAgfVxuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcGFzc3dvcmRcbiAgZ2V0UGFzc3dvcmQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXNzd29yZDtcbiAgfSxcbiAgc2V0UGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgIHZhciBjb2RlUG9pbnRzID0gYXJyYXlGcm9tKCR0b1N0cmluZyhwYXNzd29yZCkpO1xuICAgIGlmICh0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpKSByZXR1cm47XG4gICAgdGhpcy5wYXNzd29yZCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29kZVBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wYXNzd29yZCArPSBwZXJjZW50RW5jb2RlKGNvZGVQb2ludHNbaV0sIHVzZXJpbmZvUGVyY2VudEVuY29kZVNldCk7XG4gICAgfVxuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaG9zdFxuICBnZXRIb3N0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gICAgdmFyIHBvcnQgPSB0aGlzLnBvcnQ7XG4gICAgcmV0dXJuIGhvc3QgPT09IG51bGwgPyAnJ1xuICAgICAgOiBwb3J0ID09PSBudWxsID8gc2VyaWFsaXplSG9zdChob3N0KVxuICAgICAgOiBzZXJpYWxpemVIb3N0KGhvc3QpICsgJzonICsgcG9ydDtcbiAgfSxcbiAgc2V0SG9zdDogZnVuY3Rpb24gKGhvc3QpIHtcbiAgICBpZiAodGhpcy5jYW5ub3RCZUFCYXNlVVJMKSByZXR1cm47XG4gICAgdGhpcy5wYXJzZShob3N0LCBIT1NUKTtcbiAgfSxcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLWhvc3RuYW1lXG4gIGdldEhvc3RuYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gICAgcmV0dXJuIGhvc3QgPT09IG51bGwgPyAnJyA6IHNlcmlhbGl6ZUhvc3QoaG9zdCk7XG4gIH0sXG4gIHNldEhvc3RuYW1lOiBmdW5jdGlvbiAoaG9zdG5hbWUpIHtcbiAgICBpZiAodGhpcy5jYW5ub3RCZUFCYXNlVVJMKSByZXR1cm47XG4gICAgdGhpcy5wYXJzZShob3N0bmFtZSwgSE9TVE5BTUUpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcG9ydFxuICBnZXRQb3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBvcnQgPSB0aGlzLnBvcnQ7XG4gICAgcmV0dXJuIHBvcnQgPT09IG51bGwgPyAnJyA6ICR0b1N0cmluZyhwb3J0KTtcbiAgfSxcbiAgc2V0UG9ydDogZnVuY3Rpb24gKHBvcnQpIHtcbiAgICBpZiAodGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKSkgcmV0dXJuO1xuICAgIHBvcnQgPSAkdG9TdHJpbmcocG9ydCk7XG4gICAgaWYgKHBvcnQgPT0gJycpIHRoaXMucG9ydCA9IG51bGw7XG4gICAgZWxzZSB0aGlzLnBhcnNlKHBvcnQsIFBPUlQpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcGF0aG5hbWVcbiAgZ2V0UGF0aG5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGF0aCA9IHRoaXMucGF0aDtcbiAgICByZXR1cm4gdGhpcy5jYW5ub3RCZUFCYXNlVVJMID8gcGF0aFswXSA6IHBhdGgubGVuZ3RoID8gJy8nICsgam9pbihwYXRoLCAnLycpIDogJyc7XG4gIH0sXG4gIHNldFBhdGhuYW1lOiBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICBpZiAodGhpcy5jYW5ub3RCZUFCYXNlVVJMKSByZXR1cm47XG4gICAgdGhpcy5wYXRoID0gW107XG4gICAgdGhpcy5wYXJzZShwYXRobmFtZSwgUEFUSF9TVEFSVCk7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1zZWFyY2hcbiAgZ2V0U2VhcmNoOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeTtcbiAgICByZXR1cm4gcXVlcnkgPyAnPycgKyBxdWVyeSA6ICcnO1xuICB9LFxuICBzZXRTZWFyY2g6IGZ1bmN0aW9uIChzZWFyY2gpIHtcbiAgICBzZWFyY2ggPSAkdG9TdHJpbmcoc2VhcmNoKTtcbiAgICBpZiAoc2VhcmNoID09ICcnKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCc/JyA9PSBjaGFyQXQoc2VhcmNoLCAwKSkgc2VhcmNoID0gc3RyaW5nU2xpY2Uoc2VhcmNoLCAxKTtcbiAgICAgIHRoaXMucXVlcnkgPSAnJztcbiAgICAgIHRoaXMucGFyc2Uoc2VhcmNoLCBRVUVSWSk7XG4gICAgfVxuICAgIHRoaXMuc2VhcmNoUGFyYW1zLnVwZGF0ZSgpO1xuICB9LFxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtc2VhcmNocGFyYW1zXG4gIGdldFNlYXJjaFBhcmFtczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaFBhcmFtcy5mYWNhZGU7XG4gIH0sXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1oYXNoXG4gIGdldEhhc2g6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgIHJldHVybiBmcmFnbWVudCA/ICcjJyArIGZyYWdtZW50IDogJyc7XG4gIH0sXG4gIHNldEhhc2g6IGZ1bmN0aW9uIChoYXNoKSB7XG4gICAgaGFzaCA9ICR0b1N0cmluZyhoYXNoKTtcbiAgICBpZiAoaGFzaCA9PSAnJykge1xuICAgICAgdGhpcy5mcmFnbWVudCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgnIycgPT0gY2hhckF0KGhhc2gsIDApKSBoYXNoID0gc3RyaW5nU2xpY2UoaGFzaCwgMSk7XG4gICAgdGhpcy5mcmFnbWVudCA9ICcnO1xuICAgIHRoaXMucGFyc2UoaGFzaCwgRlJBR01FTlQpO1xuICB9LFxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2hQYXJhbXMuc2VyaWFsaXplKCkgfHwgbnVsbDtcbiAgfVxufTtcblxuLy8gYFVSTGAgY29uc3RydWN0b3Jcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLWNsYXNzXG52YXIgVVJMQ29uc3RydWN0b3IgPSBmdW5jdGlvbiBVUkwodXJsIC8qICwgYmFzZSAqLykge1xuICB2YXIgdGhhdCA9IGFuSW5zdGFuY2UodGhpcywgVVJMUHJvdG90eXBlKTtcbiAgdmFyIGJhc2UgPSB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKSA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gIHZhciBzdGF0ZSA9IHNldEludGVybmFsU3RhdGUodGhhdCwgbmV3IFVSTFN0YXRlKHVybCwgZmFsc2UsIGJhc2UpKTtcbiAgaWYgKCFERVNDUklQVE9SUykge1xuICAgIHRoYXQuaHJlZiA9IHN0YXRlLnNlcmlhbGl6ZSgpO1xuICAgIHRoYXQub3JpZ2luID0gc3RhdGUuZ2V0T3JpZ2luKCk7XG4gICAgdGhhdC5wcm90b2NvbCA9IHN0YXRlLmdldFByb3RvY29sKCk7XG4gICAgdGhhdC51c2VybmFtZSA9IHN0YXRlLmdldFVzZXJuYW1lKCk7XG4gICAgdGhhdC5wYXNzd29yZCA9IHN0YXRlLmdldFBhc3N3b3JkKCk7XG4gICAgdGhhdC5ob3N0ID0gc3RhdGUuZ2V0SG9zdCgpO1xuICAgIHRoYXQuaG9zdG5hbWUgPSBzdGF0ZS5nZXRIb3N0bmFtZSgpO1xuICAgIHRoYXQucG9ydCA9IHN0YXRlLmdldFBvcnQoKTtcbiAgICB0aGF0LnBhdGhuYW1lID0gc3RhdGUuZ2V0UGF0aG5hbWUoKTtcbiAgICB0aGF0LnNlYXJjaCA9IHN0YXRlLmdldFNlYXJjaCgpO1xuICAgIHRoYXQuc2VhcmNoUGFyYW1zID0gc3RhdGUuZ2V0U2VhcmNoUGFyYW1zKCk7XG4gICAgdGhhdC5oYXNoID0gc3RhdGUuZ2V0SGFzaCgpO1xuICB9XG59O1xuXG52YXIgVVJMUHJvdG90eXBlID0gVVJMQ29uc3RydWN0b3IucHJvdG90eXBlO1xuXG52YXIgYWNjZXNzb3JEZXNjcmlwdG9yID0gZnVuY3Rpb24gKGdldHRlciwgc2V0dGVyKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0SW50ZXJuYWxVUkxTdGF0ZSh0aGlzKVtnZXR0ZXJdKCk7XG4gICAgfSxcbiAgICBzZXQ6IHNldHRlciAmJiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBnZXRJbnRlcm5hbFVSTFN0YXRlKHRoaXMpW3NldHRlcl0odmFsdWUpO1xuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IHRydWVcbiAgfTtcbn07XG5cbmlmIChERVNDUklQVE9SUykge1xuICAvLyBgVVJMLnByb3RvdHlwZS5ocmVmYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaHJlZlxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAnaHJlZicsIGFjY2Vzc29yRGVzY3JpcHRvcignc2VyaWFsaXplJywgJ3NldEhyZWYnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLm9yaWdpbmAgZ2V0dGVyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1vcmlnaW5cbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ29yaWdpbicsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0T3JpZ2luJykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5wcm90b2NvbGAgYWNjZXNzb3JzIHBhaXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXByb3RvY29sXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdwcm90b2NvbCcsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0UHJvdG9jb2wnLCAnc2V0UHJvdG9jb2wnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLnVzZXJuYW1lYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtdXNlcm5hbWVcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3VzZXJuYW1lJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRVc2VybmFtZScsICdzZXRVc2VybmFtZScpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUucGFzc3dvcmRgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wYXNzd29yZFxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAncGFzc3dvcmQnLCBhY2Nlc3NvckRlc2NyaXB0b3IoJ2dldFBhc3N3b3JkJywgJ3NldFBhc3N3b3JkJykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5ob3N0YCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaG9zdFxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAnaG9zdCcsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0SG9zdCcsICdzZXRIb3N0JykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5ob3N0bmFtZWAgYWNjZXNzb3JzIHBhaXJcbiAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLWhvc3RuYW1lXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdob3N0bmFtZScsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0SG9zdG5hbWUnLCAnc2V0SG9zdG5hbWUnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLnBvcnRgIGFjY2Vzc29ycyBwYWlyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1wb3J0XG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdwb3J0JywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRQb3J0JywgJ3NldFBvcnQnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLnBhdGhuYW1lYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtcGF0aG5hbWVcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3BhdGhuYW1lJywgYWNjZXNzb3JEZXNjcmlwdG9yKCdnZXRQYXRobmFtZScsICdzZXRQYXRobmFtZScpKTtcbiAgLy8gYFVSTC5wcm90b3R5cGUuc2VhcmNoYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtc2VhcmNoXG4gIGRlZmluZUJ1aWx0SW5BY2Nlc3NvcihVUkxQcm90b3R5cGUsICdzZWFyY2gnLCBhY2Nlc3NvckRlc2NyaXB0b3IoJ2dldFNlYXJjaCcsICdzZXRTZWFyY2gnKSk7XG4gIC8vIGBVUkwucHJvdG90eXBlLnNlYXJjaFBhcmFtc2AgZ2V0dGVyXG4gIC8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybC1zZWFyY2hwYXJhbXNcbiAgZGVmaW5lQnVpbHRJbkFjY2Vzc29yKFVSTFByb3RvdHlwZSwgJ3NlYXJjaFBhcmFtcycsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0U2VhcmNoUGFyYW1zJykpO1xuICAvLyBgVVJMLnByb3RvdHlwZS5oYXNoYCBhY2Nlc3NvcnMgcGFpclxuICAvLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmwtaGFzaFxuICBkZWZpbmVCdWlsdEluQWNjZXNzb3IoVVJMUHJvdG90eXBlLCAnaGFzaCcsIGFjY2Vzc29yRGVzY3JpcHRvcignZ2V0SGFzaCcsICdzZXRIYXNoJykpO1xufVxuXG4vLyBgVVJMLnByb3RvdHlwZS50b0pTT05gIG1ldGhvZFxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsLXRvanNvblxuZGVmaW5lQnVpbHRJbihVUkxQcm90b3R5cGUsICd0b0pTT04nLCBmdW5jdGlvbiB0b0pTT04oKSB7XG4gIHJldHVybiBnZXRJbnRlcm5hbFVSTFN0YXRlKHRoaXMpLnNlcmlhbGl6ZSgpO1xufSwgeyBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuXG4vLyBgVVJMLnByb3RvdHlwZS50b1N0cmluZ2AgbWV0aG9kXG4vLyBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI1VSTC1zdHJpbmdpZmljYXRpb24tYmVoYXZpb3JcbmRlZmluZUJ1aWx0SW4oVVJMUHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIGdldEludGVybmFsVVJMU3RhdGUodGhpcykuc2VyaWFsaXplKCk7XG59LCB7IGVudW1lcmFibGU6IHRydWUgfSk7XG5cbmlmIChOYXRpdmVVUkwpIHtcbiAgdmFyIG5hdGl2ZUNyZWF0ZU9iamVjdFVSTCA9IE5hdGl2ZVVSTC5jcmVhdGVPYmplY3RVUkw7XG4gIHZhciBuYXRpdmVSZXZva2VPYmplY3RVUkwgPSBOYXRpdmVVUkwucmV2b2tlT2JqZWN0VVJMO1xuICAvLyBgVVJMLmNyZWF0ZU9iamVjdFVSTGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9VUkwvY3JlYXRlT2JqZWN0VVJMXG4gIGlmIChuYXRpdmVDcmVhdGVPYmplY3RVUkwpIGRlZmluZUJ1aWx0SW4oVVJMQ29uc3RydWN0b3IsICdjcmVhdGVPYmplY3RVUkwnLCBiaW5kKG5hdGl2ZUNyZWF0ZU9iamVjdFVSTCwgTmF0aXZlVVJMKSk7XG4gIC8vIGBVUkwucmV2b2tlT2JqZWN0VVJMYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1VSTC9yZXZva2VPYmplY3RVUkxcbiAgaWYgKG5hdGl2ZVJldm9rZU9iamVjdFVSTCkgZGVmaW5lQnVpbHRJbihVUkxDb25zdHJ1Y3RvciwgJ3Jldm9rZU9iamVjdFVSTCcsIGJpbmQobmF0aXZlUmV2b2tlT2JqZWN0VVJMLCBOYXRpdmVVUkwpKTtcbn1cblxuc2V0VG9TdHJpbmdUYWcoVVJMQ29uc3RydWN0b3IsICdVUkwnKTtcblxuJCh7IGdsb2JhbDogdHJ1ZSwgY29uc3RydWN0b3I6IHRydWUsIGZvcmNlZDogIVVTRV9OQVRJVkVfVVJMLCBzaGFtOiAhREVTQ1JJUFRPUlMgfSwge1xuICBVUkw6IFVSTENvbnN0cnVjdG9yXG59KTtcbiIsIi8vIFRPRE86IFJlbW92ZSB0aGlzIG1vZHVsZSBmcm9tIGBjb3JlLWpzQDRgIHNpbmNlIGl0J3MgcmVwbGFjZWQgdG8gbW9kdWxlIGJlbG93XG5yZXF1aXJlKCcuLi9tb2R1bGVzL3dlYi51cmwuY29uc3RydWN0b3InKTtcbiIsImltcG9ydCB7Q2hhcnQsIHJlZ2lzdGVyYWJsZXN9IGZyb20gJy4uL2Rpc3QvY2hhcnQubWpzJztcblxuQ2hhcnQucmVnaXN0ZXIoLi4ucmVnaXN0ZXJhYmxlcyk7XG5cbmV4cG9ydCBkZWZhdWx0IENoYXJ0O1xuIiwiLyohXG4gKiBDaGFydC5qcyB2My45LjFcbiAqIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnXG4gKiAoYykgMjAyMiBDaGFydC5qcyBDb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlcXVlc3RBbmltRnJhbWUsIGEgYXMgcmVzb2x2ZSwgZSBhcyBlZmZlY3RzLCBjIGFzIGNvbG9yLCBkIGFzIGRlZmF1bHRzLCBpIGFzIGlzT2JqZWN0LCBiIGFzIGlzQXJyYXksIHYgYXMgdmFsdWVPckRlZmF1bHQsIHUgYXMgdW5saXN0ZW5BcnJheUV2ZW50cywgbCBhcyBsaXN0ZW5BcnJheUV2ZW50cywgZiBhcyByZXNvbHZlT2JqZWN0S2V5LCBnIGFzIGlzTnVtYmVyRmluaXRlLCBoIGFzIGNyZWF0ZUNvbnRleHQsIGogYXMgZGVmaW5lZCwgcyBhcyBzaWduLCBrIGFzIGlzTnVsbE9yVW5kZWYsIF8gYXMgX2FycmF5VW5pcXVlLCB0IGFzIHRvUmFkaWFucywgbSBhcyB0b1BlcmNlbnRhZ2UsIG4gYXMgdG9EaW1lbnNpb24sIFQgYXMgVEFVLCBvIGFzIGZvcm1hdE51bWJlciwgcCBhcyBfYW5nbGVCZXR3ZWVuLCBIIGFzIEhBTEZfUEksIFAgYXMgUEksIHEgYXMgX2dldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHMsIHcgYXMgX3NjYWxlUmFuZ2VzQ2hhbmdlZCwgeCBhcyBpc051bWJlciwgeSBhcyBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUsIHogYXMgbG9nMTAsIEEgYXMgX2ZhY3Rvcml6ZSwgQiBhcyBmaW5pdGVPckRlZmF1bHQsIEMgYXMgY2FsbGJhY2ssIEQgYXMgX2FkZEdyYWNlLCBFIGFzIF9saW1pdFZhbHVlLCBGIGFzIHRvRGVncmVlcywgRyBhcyBfbWVhc3VyZVRleHQsIEkgYXMgX2ludDE2UmFuZ2UsIEogYXMgX2FsaWduUGl4ZWwsIEsgYXMgdG9QYWRkaW5nLCBMIGFzIGNsaXBBcmVhLCBNIGFzIHJlbmRlclRleHQsIE4gYXMgdW5jbGlwQXJlYSwgTyBhcyB0b0ZvbnQsIFEgYXMgZWFjaCwgUiBhcyBfdG9MZWZ0UmlnaHRDZW50ZXIsIFMgYXMgX2FsaWduU3RhcnRFbmQsIFUgYXMgb3ZlcnJpZGVzLCBWIGFzIG1lcmdlLCBXIGFzIF9jYXBpdGFsaXplLCBYIGFzIGdldFJlbGF0aXZlUG9zaXRpb24sIFkgYXMgX3Jsb29rdXBCeUtleSwgWiBhcyBfbG9va3VwQnlLZXksICQgYXMgX2lzUG9pbnRJbkFyZWEsIGEwIGFzIGdldEFuZ2xlRnJvbVBvaW50LCBhMSBhcyBnZXRNYXhpbXVtU2l6ZSwgYTIgYXMgX2dldFBhcmVudE5vZGUsIGEzIGFzIHJlYWRVc2VkU2l6ZSwgYTQgYXMgdGhyb3R0bGVkLCBhNSBhcyBzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zLCBhNiBhcyBfaXNEb21TdXBwb3J0ZWQsIGE3IGFzIGRlc2NyaXB0b3JzLCBhOCBhcyBpc0Z1bmN0aW9uLCBhOSBhcyBfYXR0YWNoQ29udGV4dCwgYWEgYXMgX2NyZWF0ZVJlc29sdmVyLCBhYiBhcyBfZGVzY3JpcHRvcnMsIGFjIGFzIG1lcmdlSWYsIGFkIGFzIHVpZCwgYWUgYXMgZGVib3VuY2UsIGFmIGFzIHJldGluYVNjYWxlLCBhZyBhcyBjbGVhckNhbnZhcywgYWggYXMgc2V0c0VxdWFsLCBhaSBhcyBfZWxlbWVudHNFcXVhbCwgYWogYXMgX2lzQ2xpY2tFdmVudCwgYWsgYXMgX2lzQmV0d2VlbiwgYWwgYXMgX3JlYWRWYWx1ZVRvUHJvcHMsIGFtIGFzIF91cGRhdGVCZXppZXJDb250cm9sUG9pbnRzLCBhbiBhcyBfY29tcHV0ZVNlZ21lbnRzLCBhbyBhcyBfYm91bmRTZWdtZW50cywgYXAgYXMgX3N0ZXBwZWRJbnRlcnBvbGF0aW9uLCBhcSBhcyBfYmV6aWVySW50ZXJwb2xhdGlvbiwgYXIgYXMgX3BvaW50SW5MaW5lLCBhcyBhcyBfc3RlcHBlZExpbmVUbywgYXQgYXMgX2JlemllckN1cnZlVG8sIGF1IGFzIGRyYXdQb2ludCwgYXYgYXMgYWRkUm91bmRlZFJlY3RQYXRoLCBhdyBhcyB0b1RSQkwsIGF4IGFzIHRvVFJCTENvcm5lcnMsIGF5IGFzIF9ib3VuZFNlZ21lbnQsIGF6IGFzIF9ub3JtYWxpemVBbmdsZSwgYUEgYXMgZ2V0UnRsQWRhcHRlciwgYUIgYXMgb3ZlcnJpZGVUZXh0RGlyZWN0aW9uLCBhQyBhcyBfdGV4dFgsIGFEIGFzIHJlc3RvcmVUZXh0RGlyZWN0aW9uLCBhRSBhcyBkcmF3UG9pbnRMZWdlbmQsIGFGIGFzIG5vb3AsIGFHIGFzIGRpc3RhbmNlQmV0d2VlblBvaW50cywgYUggYXMgX3NldE1pbkFuZE1heEJ5S2V5LCBhSSBhcyBuaWNlTnVtLCBhSiBhcyBhbG1vc3RXaG9sZSwgYUsgYXMgYWxtb3N0RXF1YWxzLCBhTCBhcyBfZGVjaW1hbFBsYWNlcywgYU0gYXMgX2xvbmdlc3RUZXh0LCBhTiBhcyBfZmlsdGVyQmV0d2VlbiwgYU8gYXMgX2xvb2t1cCB9IGZyb20gJy4vY2h1bmtzL2hlbHBlcnMuc2VnbWVudC5tanMnO1xuZXhwb3J0IHsgZCBhcyBkZWZhdWx0cyB9IGZyb20gJy4vY2h1bmtzL2hlbHBlcnMuc2VnbWVudC5tanMnO1xuXG5jbGFzcyBBbmltYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3JlcXVlc3QgPSBudWxsO1xuICAgIHRoaXMuX2NoYXJ0cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fbGFzdERhdGUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgX25vdGlmeShjaGFydCwgYW5pbXMsIGRhdGUsIHR5cGUpIHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSBhbmltcy5saXN0ZW5lcnNbdHlwZV07XG4gICAgY29uc3QgbnVtU3RlcHMgPSBhbmltcy5kdXJhdGlvbjtcbiAgICBjYWxsYmFja3MuZm9yRWFjaChmbiA9PiBmbih7XG4gICAgICBjaGFydCxcbiAgICAgIGluaXRpYWw6IGFuaW1zLmluaXRpYWwsXG4gICAgICBudW1TdGVwcyxcbiAgICAgIGN1cnJlbnRTdGVwOiBNYXRoLm1pbihkYXRlIC0gYW5pbXMuc3RhcnQsIG51bVN0ZXBzKVxuICAgIH0pKTtcbiAgfVxuICBfcmVmcmVzaCgpIHtcbiAgICBpZiAodGhpcy5fcmVxdWVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICB0aGlzLl9yZXF1ZXN0ID0gcmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdywgKCkgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICB0aGlzLl9yZXF1ZXN0ID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLl9ydW5uaW5nKSB7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBfdXBkYXRlKGRhdGUgPSBEYXRlLm5vdygpKSB7XG4gICAgbGV0IHJlbWFpbmluZyA9IDA7XG4gICAgdGhpcy5fY2hhcnRzLmZvckVhY2goKGFuaW1zLCBjaGFydCkgPT4ge1xuICAgICAgaWYgKCFhbmltcy5ydW5uaW5nIHx8ICFhbmltcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXRlbXMgPSBhbmltcy5pdGVtcztcbiAgICAgIGxldCBpID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgIGxldCBkcmF3ID0gZmFsc2U7XG4gICAgICBsZXQgaXRlbTtcbiAgICAgIGZvciAoOyBpID49IDA7IC0taSkge1xuICAgICAgICBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgIGlmIChpdGVtLl9hY3RpdmUpIHtcbiAgICAgICAgICBpZiAoaXRlbS5fdG90YWwgPiBhbmltcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgYW5pbXMuZHVyYXRpb24gPSBpdGVtLl90b3RhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXRlbS50aWNrKGRhdGUpO1xuICAgICAgICAgIGRyYXcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1zW2ldID0gaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaXRlbXMucG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkcmF3KSB7XG4gICAgICAgIGNoYXJ0LmRyYXcoKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5KGNoYXJ0LCBhbmltcywgZGF0ZSwgJ3Byb2dyZXNzJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICBhbmltcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX25vdGlmeShjaGFydCwgYW5pbXMsIGRhdGUsICdjb21wbGV0ZScpO1xuICAgICAgICBhbmltcy5pbml0aWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZW1haW5pbmcgKz0gaXRlbXMubGVuZ3RoO1xuICAgIH0pO1xuICAgIHRoaXMuX2xhc3REYXRlID0gZGF0ZTtcbiAgICBpZiAocmVtYWluaW5nID09PSAwKSB7XG4gICAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIF9nZXRBbmltcyhjaGFydCkge1xuICAgIGNvbnN0IGNoYXJ0cyA9IHRoaXMuX2NoYXJ0cztcbiAgICBsZXQgYW5pbXMgPSBjaGFydHMuZ2V0KGNoYXJ0KTtcbiAgICBpZiAoIWFuaW1zKSB7XG4gICAgICBhbmltcyA9IHtcbiAgICAgICAgcnVubmluZzogZmFsc2UsXG4gICAgICAgIGluaXRpYWw6IHRydWUsXG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgbGlzdGVuZXJzOiB7XG4gICAgICAgICAgY29tcGxldGU6IFtdLFxuICAgICAgICAgIHByb2dyZXNzOiBbXVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2hhcnRzLnNldChjaGFydCwgYW5pbXMpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbXM7XG4gIH1cbiAgbGlzdGVuKGNoYXJ0LCBldmVudCwgY2IpIHtcbiAgICB0aGlzLl9nZXRBbmltcyhjaGFydCkubGlzdGVuZXJzW2V2ZW50XS5wdXNoKGNiKTtcbiAgfVxuICBhZGQoY2hhcnQsIGl0ZW1zKSB7XG4gICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2dldEFuaW1zKGNoYXJ0KS5pdGVtcy5wdXNoKC4uLml0ZW1zKTtcbiAgfVxuICBoYXMoY2hhcnQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0QW5pbXMoY2hhcnQpLml0ZW1zLmxlbmd0aCA+IDA7XG4gIH1cbiAgc3RhcnQoY2hhcnQpIHtcbiAgICBjb25zdCBhbmltcyA9IHRoaXMuX2NoYXJ0cy5nZXQoY2hhcnQpO1xuICAgIGlmICghYW5pbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYW5pbXMucnVubmluZyA9IHRydWU7XG4gICAgYW5pbXMuc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGFuaW1zLmR1cmF0aW9uID0gYW5pbXMuaXRlbXMucmVkdWNlKChhY2MsIGN1cikgPT4gTWF0aC5tYXgoYWNjLCBjdXIuX2R1cmF0aW9uKSwgMCk7XG4gICAgdGhpcy5fcmVmcmVzaCgpO1xuICB9XG4gIHJ1bm5pbmcoY2hhcnQpIHtcbiAgICBpZiAoIXRoaXMuX3J1bm5pbmcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYW5pbXMgPSB0aGlzLl9jaGFydHMuZ2V0KGNoYXJ0KTtcbiAgICBpZiAoIWFuaW1zIHx8ICFhbmltcy5ydW5uaW5nIHx8ICFhbmltcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgc3RvcChjaGFydCkge1xuICAgIGNvbnN0IGFuaW1zID0gdGhpcy5fY2hhcnRzLmdldChjaGFydCk7XG4gICAgaWYgKCFhbmltcyB8fCAhYW5pbXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gYW5pbXMuaXRlbXM7XG4gICAgbGV0IGkgPSBpdGVtcy5sZW5ndGggLSAxO1xuICAgIGZvciAoOyBpID49IDA7IC0taSkge1xuICAgICAgaXRlbXNbaV0uY2FuY2VsKCk7XG4gICAgfVxuICAgIGFuaW1zLml0ZW1zID0gW107XG4gICAgdGhpcy5fbm90aWZ5KGNoYXJ0LCBhbmltcywgRGF0ZS5ub3coKSwgJ2NvbXBsZXRlJyk7XG4gIH1cbiAgcmVtb3ZlKGNoYXJ0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYXJ0cy5kZWxldGUoY2hhcnQpO1xuICB9XG59XG52YXIgYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcblxuY29uc3QgdHJhbnNwYXJlbnQgPSAndHJhbnNwYXJlbnQnO1xuY29uc3QgaW50ZXJwb2xhdG9ycyA9IHtcbiAgYm9vbGVhbihmcm9tLCB0bywgZmFjdG9yKSB7XG4gICAgcmV0dXJuIGZhY3RvciA+IDAuNSA/IHRvIDogZnJvbTtcbiAgfSxcbiAgY29sb3IoZnJvbSwgdG8sIGZhY3Rvcikge1xuICAgIGNvbnN0IGMwID0gY29sb3IoZnJvbSB8fCB0cmFuc3BhcmVudCk7XG4gICAgY29uc3QgYzEgPSBjMC52YWxpZCAmJiBjb2xvcih0byB8fCB0cmFuc3BhcmVudCk7XG4gICAgcmV0dXJuIGMxICYmIGMxLnZhbGlkXG4gICAgICA/IGMxLm1peChjMCwgZmFjdG9yKS5oZXhTdHJpbmcoKVxuICAgICAgOiB0bztcbiAgfSxcbiAgbnVtYmVyKGZyb20sIHRvLCBmYWN0b3IpIHtcbiAgICByZXR1cm4gZnJvbSArICh0byAtIGZyb20pICogZmFjdG9yO1xuICB9XG59O1xuY2xhc3MgQW5pbWF0aW9uIHtcbiAgY29uc3RydWN0b3IoY2ZnLCB0YXJnZXQsIHByb3AsIHRvKSB7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuICAgIHRvID0gcmVzb2x2ZShbY2ZnLnRvLCB0bywgY3VycmVudFZhbHVlLCBjZmcuZnJvbV0pO1xuICAgIGNvbnN0IGZyb20gPSByZXNvbHZlKFtjZmcuZnJvbSwgY3VycmVudFZhbHVlLCB0b10pO1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5fZm4gPSBjZmcuZm4gfHwgaW50ZXJwb2xhdG9yc1tjZmcudHlwZSB8fCB0eXBlb2YgZnJvbV07XG4gICAgdGhpcy5fZWFzaW5nID0gZWZmZWN0c1tjZmcuZWFzaW5nXSB8fCBlZmZlY3RzLmxpbmVhcjtcbiAgICB0aGlzLl9zdGFydCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSArIChjZmcuZGVsYXkgfHwgMCkpO1xuICAgIHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fdG90YWwgPSBNYXRoLmZsb29yKGNmZy5kdXJhdGlvbik7XG4gICAgdGhpcy5fbG9vcCA9ICEhY2ZnLmxvb3A7XG4gICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMuX3Byb3AgPSBwcm9wO1xuICAgIHRoaXMuX2Zyb20gPSBmcm9tO1xuICAgIHRoaXMuX3RvID0gdG87XG4gICAgdGhpcy5fcHJvbWlzZXMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gIH1cbiAgdXBkYXRlKGNmZywgdG8sIGRhdGUpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9ub3RpZnkoZmFsc2UpO1xuICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fdGFyZ2V0W3RoaXMuX3Byb3BdO1xuICAgICAgY29uc3QgZWxhcHNlZCA9IGRhdGUgLSB0aGlzLl9zdGFydDtcbiAgICAgIGNvbnN0IHJlbWFpbiA9IHRoaXMuX2R1cmF0aW9uIC0gZWxhcHNlZDtcbiAgICAgIHRoaXMuX3N0YXJ0ID0gZGF0ZTtcbiAgICAgIHRoaXMuX2R1cmF0aW9uID0gTWF0aC5mbG9vcihNYXRoLm1heChyZW1haW4sIGNmZy5kdXJhdGlvbikpO1xuICAgICAgdGhpcy5fdG90YWwgKz0gZWxhcHNlZDtcbiAgICAgIHRoaXMuX2xvb3AgPSAhIWNmZy5sb29wO1xuICAgICAgdGhpcy5fdG8gPSByZXNvbHZlKFtjZmcudG8sIHRvLCBjdXJyZW50VmFsdWUsIGNmZy5mcm9tXSk7XG4gICAgICB0aGlzLl9mcm9tID0gcmVzb2x2ZShbY2ZnLmZyb20sIGN1cnJlbnRWYWx1ZSwgdG9dKTtcbiAgICB9XG4gIH1cbiAgY2FuY2VsKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMudGljayhEYXRlLm5vdygpKTtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fbm90aWZ5KGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgdGljayhkYXRlKSB7XG4gICAgY29uc3QgZWxhcHNlZCA9IGRhdGUgLSB0aGlzLl9zdGFydDtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuX2R1cmF0aW9uO1xuICAgIGNvbnN0IHByb3AgPSB0aGlzLl9wcm9wO1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLl9mcm9tO1xuICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wO1xuICAgIGNvbnN0IHRvID0gdGhpcy5fdG87XG4gICAgbGV0IGZhY3RvcjtcbiAgICB0aGlzLl9hY3RpdmUgPSBmcm9tICE9PSB0byAmJiAobG9vcCB8fCAoZWxhcHNlZCA8IGR1cmF0aW9uKSk7XG4gICAgaWYgKCF0aGlzLl9hY3RpdmUpIHtcbiAgICAgIHRoaXMuX3RhcmdldFtwcm9wXSA9IHRvO1xuICAgICAgdGhpcy5fbm90aWZ5KHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZWxhcHNlZCA8IDApIHtcbiAgICAgIHRoaXMuX3RhcmdldFtwcm9wXSA9IGZyb207XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZhY3RvciA9IChlbGFwc2VkIC8gZHVyYXRpb24pICUgMjtcbiAgICBmYWN0b3IgPSBsb29wICYmIGZhY3RvciA+IDEgPyAyIC0gZmFjdG9yIDogZmFjdG9yO1xuICAgIGZhY3RvciA9IHRoaXMuX2Vhc2luZyhNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBmYWN0b3IpKSk7XG4gICAgdGhpcy5fdGFyZ2V0W3Byb3BdID0gdGhpcy5fZm4oZnJvbSwgdG8sIGZhY3Rvcik7XG4gIH1cbiAgd2FpdCgpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuX3Byb21pc2VzIHx8ICh0aGlzLl9wcm9taXNlcyA9IFtdKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgICBwcm9taXNlcy5wdXNoKHtyZXMsIHJlan0pO1xuICAgIH0pO1xuICB9XG4gIF9ub3RpZnkocmVzb2x2ZWQpIHtcbiAgICBjb25zdCBtZXRob2QgPSByZXNvbHZlZCA/ICdyZXMnIDogJ3Jlaic7XG4gICAgY29uc3QgcHJvbWlzZXMgPSB0aGlzLl9wcm9taXNlcyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9taXNlc1tpXVttZXRob2RdKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG51bWJlcnMgPSBbJ3gnLCAneScsICdib3JkZXJXaWR0aCcsICdyYWRpdXMnLCAndGVuc2lvbiddO1xuY29uc3QgY29sb3JzID0gWydjb2xvcicsICdib3JkZXJDb2xvcicsICdiYWNrZ3JvdW5kQ29sb3InXTtcbmRlZmF1bHRzLnNldCgnYW5pbWF0aW9uJywge1xuICBkZWxheTogdW5kZWZpbmVkLFxuICBkdXJhdGlvbjogMTAwMCxcbiAgZWFzaW5nOiAnZWFzZU91dFF1YXJ0JyxcbiAgZm46IHVuZGVmaW5lZCxcbiAgZnJvbTogdW5kZWZpbmVkLFxuICBsb29wOiB1bmRlZmluZWQsXG4gIHRvOiB1bmRlZmluZWQsXG4gIHR5cGU6IHVuZGVmaW5lZCxcbn0pO1xuY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IE9iamVjdC5rZXlzKGRlZmF1bHRzLmFuaW1hdGlvbik7XG5kZWZhdWx0cy5kZXNjcmliZSgnYW5pbWF0aW9uJywge1xuICBfZmFsbGJhY2s6IGZhbHNlLFxuICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnb25Qcm9ncmVzcycgJiYgbmFtZSAhPT0gJ29uQ29tcGxldGUnICYmIG5hbWUgIT09ICdmbicsXG59KTtcbmRlZmF1bHRzLnNldCgnYW5pbWF0aW9ucycsIHtcbiAgY29sb3JzOiB7XG4gICAgdHlwZTogJ2NvbG9yJyxcbiAgICBwcm9wZXJ0aWVzOiBjb2xvcnNcbiAgfSxcbiAgbnVtYmVyczoge1xuICAgIHR5cGU6ICdudW1iZXInLFxuICAgIHByb3BlcnRpZXM6IG51bWJlcnNcbiAgfSxcbn0pO1xuZGVmYXVsdHMuZGVzY3JpYmUoJ2FuaW1hdGlvbnMnLCB7XG4gIF9mYWxsYmFjazogJ2FuaW1hdGlvbicsXG59KTtcbmRlZmF1bHRzLnNldCgndHJhbnNpdGlvbnMnLCB7XG4gIGFjdGl2ZToge1xuICAgIGFuaW1hdGlvbjoge1xuICAgICAgZHVyYXRpb246IDQwMFxuICAgIH1cbiAgfSxcbiAgcmVzaXplOiB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMFxuICAgIH1cbiAgfSxcbiAgc2hvdzoge1xuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIGNvbG9yczoge1xuICAgICAgICBmcm9tOiAndHJhbnNwYXJlbnQnXG4gICAgICB9LFxuICAgICAgdmlzaWJsZToge1xuICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgIGR1cmF0aW9uOiAwXG4gICAgICB9LFxuICAgIH1cbiAgfSxcbiAgaGlkZToge1xuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIGNvbG9yczoge1xuICAgICAgICB0bzogJ3RyYW5zcGFyZW50J1xuICAgICAgfSxcbiAgICAgIHZpc2libGU6IHtcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgICAgICBmbjogdiA9PiB2IHwgMFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn0pO1xuY2xhc3MgQW5pbWF0aW9ucyB7XG4gIGNvbnN0cnVjdG9yKGNoYXJ0LCBjb25maWcpIHtcbiAgICB0aGlzLl9jaGFydCA9IGNoYXJ0O1xuICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5jb25maWd1cmUoY29uZmlnKTtcbiAgfVxuICBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgaWYgKCFpc09iamVjdChjb25maWcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGVkUHJvcHMgPSB0aGlzLl9wcm9wZXJ0aWVzO1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGNvbmZpZykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgY2ZnID0gY29uZmlnW2tleV07XG4gICAgICBpZiAoIWlzT2JqZWN0KGNmZykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzb2x2ZWQgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGFuaW1hdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgcmVzb2x2ZWRbb3B0aW9uXSA9IGNmZ1tvcHRpb25dO1xuICAgICAgfVxuICAgICAgKGlzQXJyYXkoY2ZnLnByb3BlcnRpZXMpICYmIGNmZy5wcm9wZXJ0aWVzIHx8IFtrZXldKS5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICAgIGlmIChwcm9wID09PSBrZXkgfHwgIWFuaW1hdGVkUHJvcHMuaGFzKHByb3ApKSB7XG4gICAgICAgICAgYW5pbWF0ZWRQcm9wcy5zZXQocHJvcCwgcmVzb2x2ZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBfYW5pbWF0ZU9wdGlvbnModGFyZ2V0LCB2YWx1ZXMpIHtcbiAgICBjb25zdCBuZXdPcHRpb25zID0gdmFsdWVzLm9wdGlvbnM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVUYXJnZXRPcHRpb25zKHRhcmdldCwgbmV3T3B0aW9ucyk7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLl9jcmVhdGVBbmltYXRpb25zKG9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICAgIGlmIChuZXdPcHRpb25zLiRzaGFyZWQpIHtcbiAgICAgIGF3YWl0QWxsKHRhcmdldC5vcHRpb25zLiRhbmltYXRpb25zLCBuZXdPcHRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGFyZ2V0Lm9wdGlvbnMgPSBuZXdPcHRpb25zO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbmltYXRpb25zO1xuICB9XG4gIF9jcmVhdGVBbmltYXRpb25zKHRhcmdldCwgdmFsdWVzKSB7XG4gICAgY29uc3QgYW5pbWF0ZWRQcm9wcyA9IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IHJ1bm5pbmcgPSB0YXJnZXQuJGFuaW1hdGlvbnMgfHwgKHRhcmdldC4kYW5pbWF0aW9ucyA9IHt9KTtcbiAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKHZhbHVlcyk7XG4gICAgY29uc3QgZGF0ZSA9IERhdGUubm93KCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gcHJvcHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmIChwcm9wLmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb3AgPT09ICdvcHRpb25zJykge1xuICAgICAgICBhbmltYXRpb25zLnB1c2goLi4udGhpcy5fYW5pbWF0ZU9wdGlvbnModGFyZ2V0LCB2YWx1ZXMpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1twcm9wXTtcbiAgICAgIGxldCBhbmltYXRpb24gPSBydW5uaW5nW3Byb3BdO1xuICAgICAgY29uc3QgY2ZnID0gYW5pbWF0ZWRQcm9wcy5nZXQocHJvcCk7XG4gICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIGlmIChjZmcgJiYgYW5pbWF0aW9uLmFjdGl2ZSgpKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnVwZGF0ZShjZmcsIHZhbHVlLCBkYXRlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghY2ZnIHx8ICFjZmcuZHVyYXRpb24pIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcnVubmluZ1twcm9wXSA9IGFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oY2ZnLCB0YXJnZXQsIHByb3AsIHZhbHVlKTtcbiAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgfVxuICB1cGRhdGUodGFyZ2V0LCB2YWx1ZXMpIHtcbiAgICBpZiAodGhpcy5fcHJvcGVydGllcy5zaXplID09PSAwKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgdmFsdWVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnModGFyZ2V0LCB2YWx1ZXMpO1xuICAgIGlmIChhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgYW5pbWF0b3IuYWRkKHRoaXMuX2NoYXJ0LCBhbmltYXRpb25zKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gYXdhaXRBbGwoYW5pbWF0aW9ucywgcHJvcGVydGllcykge1xuICBjb25zdCBydW5uaW5nID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYW5pbSA9IGFuaW1hdGlvbnNba2V5c1tpXV07XG4gICAgaWYgKGFuaW0gJiYgYW5pbS5hY3RpdmUoKSkge1xuICAgICAgcnVubmluZy5wdXNoKGFuaW0ud2FpdCgpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFByb21pc2UuYWxsKHJ1bm5pbmcpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRhcmdldE9wdGlvbnModGFyZ2V0LCBuZXdPcHRpb25zKSB7XG4gIGlmICghbmV3T3B0aW9ucykge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgb3B0aW9ucyA9IHRhcmdldC5vcHRpb25zO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICB0YXJnZXQub3B0aW9ucyA9IG5ld09wdGlvbnM7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChvcHRpb25zLiRzaGFyZWQpIHtcbiAgICB0YXJnZXQub3B0aW9ucyA9IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7JHNoYXJlZDogZmFsc2UsICRhbmltYXRpb25zOiB7fX0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5mdW5jdGlvbiBzY2FsZUNsaXAoc2NhbGUsIGFsbG93ZWRPdmVyZmxvdykge1xuICBjb25zdCBvcHRzID0gc2NhbGUgJiYgc2NhbGUub3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgcmV2ZXJzZSA9IG9wdHMucmV2ZXJzZTtcbiAgY29uc3QgbWluID0gb3B0cy5taW4gPT09IHVuZGVmaW5lZCA/IGFsbG93ZWRPdmVyZmxvdyA6IDA7XG4gIGNvbnN0IG1heCA9IG9wdHMubWF4ID09PSB1bmRlZmluZWQgPyBhbGxvd2VkT3ZlcmZsb3cgOiAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiByZXZlcnNlID8gbWF4IDogbWluLFxuICAgIGVuZDogcmV2ZXJzZSA/IG1pbiA6IG1heFxuICB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdENsaXAoeFNjYWxlLCB5U2NhbGUsIGFsbG93ZWRPdmVyZmxvdykge1xuICBpZiAoYWxsb3dlZE92ZXJmbG93ID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB4ID0gc2NhbGVDbGlwKHhTY2FsZSwgYWxsb3dlZE92ZXJmbG93KTtcbiAgY29uc3QgeSA9IHNjYWxlQ2xpcCh5U2NhbGUsIGFsbG93ZWRPdmVyZmxvdyk7XG4gIHJldHVybiB7XG4gICAgdG9wOiB5LmVuZCxcbiAgICByaWdodDogeC5lbmQsXG4gICAgYm90dG9tOiB5LnN0YXJ0LFxuICAgIGxlZnQ6IHguc3RhcnRcbiAgfTtcbn1cbmZ1bmN0aW9uIHRvQ2xpcCh2YWx1ZSkge1xuICBsZXQgdCwgciwgYiwgbDtcbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHQgPSB2YWx1ZS50b3A7XG4gICAgciA9IHZhbHVlLnJpZ2h0O1xuICAgIGIgPSB2YWx1ZS5ib3R0b207XG4gICAgbCA9IHZhbHVlLmxlZnQ7XG4gIH0gZWxzZSB7XG4gICAgdCA9IHIgPSBiID0gbCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdG9wOiB0LFxuICAgIHJpZ2h0OiByLFxuICAgIGJvdHRvbTogYixcbiAgICBsZWZ0OiBsLFxuICAgIGRpc2FibGVkOiB2YWx1ZSA9PT0gZmFsc2VcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFNvcnRlZERhdGFzZXRJbmRpY2VzKGNoYXJ0LCBmaWx0ZXJWaXNpYmxlKSB7XG4gIGNvbnN0IGtleXMgPSBbXTtcbiAgY29uc3QgbWV0YXNldHMgPSBjaGFydC5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKGZpbHRlclZpc2libGUpO1xuICBsZXQgaSwgaWxlbjtcbiAgZm9yIChpID0gMCwgaWxlbiA9IG1ldGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGtleXMucHVzaChtZXRhc2V0c1tpXS5pbmRleCk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5mdW5jdGlvbiBhcHBseVN0YWNrKHN0YWNrLCB2YWx1ZSwgZHNJbmRleCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGtleXMgPSBzdGFjay5rZXlzO1xuICBjb25zdCBzaW5nbGVNb2RlID0gb3B0aW9ucy5tb2RlID09PSAnc2luZ2xlJztcbiAgbGV0IGksIGlsZW4sIGRhdGFzZXRJbmRleCwgb3RoZXJWYWx1ZTtcbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGRhdGFzZXRJbmRleCA9ICtrZXlzW2ldO1xuICAgIGlmIChkYXRhc2V0SW5kZXggPT09IGRzSW5kZXgpIHtcbiAgICAgIGlmIChvcHRpb25zLmFsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvdGhlclZhbHVlID0gc3RhY2sudmFsdWVzW2RhdGFzZXRJbmRleF07XG4gICAgaWYgKGlzTnVtYmVyRmluaXRlKG90aGVyVmFsdWUpICYmIChzaW5nbGVNb2RlIHx8ICh2YWx1ZSA9PT0gMCB8fCBzaWduKHZhbHVlKSA9PT0gc2lnbihvdGhlclZhbHVlKSkpKSB7XG4gICAgICB2YWx1ZSArPSBvdGhlclZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb252ZXJ0T2JqZWN0RGF0YVRvQXJyYXkoZGF0YSkge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XG4gIGNvbnN0IGFkYXRhID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgbGV0IGksIGlsZW4sIGtleTtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGtleXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBhZGF0YVtpXSA9IHtcbiAgICAgIHg6IGtleSxcbiAgICAgIHk6IGRhdGFba2V5XVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGFkYXRhO1xufVxuZnVuY3Rpb24gaXNTdGFja2VkKHNjYWxlLCBtZXRhKSB7XG4gIGNvbnN0IHN0YWNrZWQgPSBzY2FsZSAmJiBzY2FsZS5vcHRpb25zLnN0YWNrZWQ7XG4gIHJldHVybiBzdGFja2VkIHx8IChzdGFja2VkID09PSB1bmRlZmluZWQgJiYgbWV0YS5zdGFjayAhPT0gdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIGdldFN0YWNrS2V5KGluZGV4U2NhbGUsIHZhbHVlU2NhbGUsIG1ldGEpIHtcbiAgcmV0dXJuIGAke2luZGV4U2NhbGUuaWR9LiR7dmFsdWVTY2FsZS5pZH0uJHttZXRhLnN0YWNrIHx8IG1ldGEudHlwZX1gO1xufVxuZnVuY3Rpb24gZ2V0VXNlckJvdW5kcyhzY2FsZSkge1xuICBjb25zdCB7bWluLCBtYXgsIG1pbkRlZmluZWQsIG1heERlZmluZWR9ID0gc2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICByZXR1cm4ge1xuICAgIG1pbjogbWluRGVmaW5lZCA/IG1pbiA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICBtYXg6IG1heERlZmluZWQgPyBtYXggOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlU3RhY2soc3RhY2tzLCBzdGFja0tleSwgaW5kZXhWYWx1ZSkge1xuICBjb25zdCBzdWJTdGFjayA9IHN0YWNrc1tzdGFja0tleV0gfHwgKHN0YWNrc1tzdGFja0tleV0gPSB7fSk7XG4gIHJldHVybiBzdWJTdGFja1tpbmRleFZhbHVlXSB8fCAoc3ViU3RhY2tbaW5kZXhWYWx1ZV0gPSB7fSk7XG59XG5mdW5jdGlvbiBnZXRMYXN0SW5kZXhJblN0YWNrKHN0YWNrLCB2U2NhbGUsIHBvc2l0aXZlLCB0eXBlKSB7XG4gIGZvciAoY29uc3QgbWV0YSBvZiB2U2NhbGUuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXModHlwZSkucmV2ZXJzZSgpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdGFja1ttZXRhLmluZGV4XTtcbiAgICBpZiAoKHBvc2l0aXZlICYmIHZhbHVlID4gMCkgfHwgKCFwb3NpdGl2ZSAmJiB2YWx1ZSA8IDApKSB7XG4gICAgICByZXR1cm4gbWV0YS5pbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1cGRhdGVTdGFja3MoY29udHJvbGxlciwgcGFyc2VkKSB7XG4gIGNvbnN0IHtjaGFydCwgX2NhY2hlZE1ldGE6IG1ldGF9ID0gY29udHJvbGxlcjtcbiAgY29uc3Qgc3RhY2tzID0gY2hhcnQuX3N0YWNrcyB8fCAoY2hhcnQuX3N0YWNrcyA9IHt9KTtcbiAgY29uc3Qge2lTY2FsZSwgdlNjYWxlLCBpbmRleDogZGF0YXNldEluZGV4fSA9IG1ldGE7XG4gIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gIGNvbnN0IGtleSA9IGdldFN0YWNrS2V5KGlTY2FsZSwgdlNjYWxlLCBtZXRhKTtcbiAgY29uc3QgaWxlbiA9IHBhcnNlZC5sZW5ndGg7XG4gIGxldCBzdGFjaztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBjb25zdCBpdGVtID0gcGFyc2VkW2ldO1xuICAgIGNvbnN0IHtbaUF4aXNdOiBpbmRleCwgW3ZBeGlzXTogdmFsdWV9ID0gaXRlbTtcbiAgICBjb25zdCBpdGVtU3RhY2tzID0gaXRlbS5fc3RhY2tzIHx8IChpdGVtLl9zdGFja3MgPSB7fSk7XG4gICAgc3RhY2sgPSBpdGVtU3RhY2tzW3ZBeGlzXSA9IGdldE9yQ3JlYXRlU3RhY2soc3RhY2tzLCBrZXksIGluZGV4KTtcbiAgICBzdGFja1tkYXRhc2V0SW5kZXhdID0gdmFsdWU7XG4gICAgc3RhY2suX3RvcCA9IGdldExhc3RJbmRleEluU3RhY2soc3RhY2ssIHZTY2FsZSwgdHJ1ZSwgbWV0YS50eXBlKTtcbiAgICBzdGFjay5fYm90dG9tID0gZ2V0TGFzdEluZGV4SW5TdGFjayhzdGFjaywgdlNjYWxlLCBmYWxzZSwgbWV0YS50eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Rmlyc3RTY2FsZUlkKGNoYXJ0LCBheGlzKSB7XG4gIGNvbnN0IHNjYWxlcyA9IGNoYXJ0LnNjYWxlcztcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHNjYWxlcykuZmlsdGVyKGtleSA9PiBzY2FsZXNba2V5XS5heGlzID09PSBheGlzKS5zaGlmdCgpO1xufVxuZnVuY3Rpb24gY3JlYXRlRGF0YXNldENvbnRleHQocGFyZW50LCBpbmRleCkge1xuICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsXG4gICAge1xuICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIGRhdGFzZXQ6IHVuZGVmaW5lZCxcbiAgICAgIGRhdGFzZXRJbmRleDogaW5kZXgsXG4gICAgICBpbmRleCxcbiAgICAgIG1vZGU6ICdkZWZhdWx0JyxcbiAgICAgIHR5cGU6ICdkYXRhc2V0J1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURhdGFDb250ZXh0KHBhcmVudCwgaW5kZXgsIGVsZW1lbnQpIHtcbiAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgYWN0aXZlOiBmYWxzZSxcbiAgICBkYXRhSW5kZXg6IGluZGV4LFxuICAgIHBhcnNlZDogdW5kZWZpbmVkLFxuICAgIHJhdzogdW5kZWZpbmVkLFxuICAgIGVsZW1lbnQsXG4gICAgaW5kZXgsXG4gICAgbW9kZTogJ2RlZmF1bHQnLFxuICAgIHR5cGU6ICdkYXRhJ1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNsZWFyU3RhY2tzKG1ldGEsIGl0ZW1zKSB7XG4gIGNvbnN0IGRhdGFzZXRJbmRleCA9IG1ldGEuY29udHJvbGxlci5pbmRleDtcbiAgY29uc3QgYXhpcyA9IG1ldGEudlNjYWxlICYmIG1ldGEudlNjYWxlLmF4aXM7XG4gIGlmICghYXhpcykge1xuICAgIHJldHVybjtcbiAgfVxuICBpdGVtcyA9IGl0ZW1zIHx8IG1ldGEuX3BhcnNlZDtcbiAgZm9yIChjb25zdCBwYXJzZWQgb2YgaXRlbXMpIHtcbiAgICBjb25zdCBzdGFja3MgPSBwYXJzZWQuX3N0YWNrcztcbiAgICBpZiAoIXN0YWNrcyB8fCBzdGFja3NbYXhpc10gPT09IHVuZGVmaW5lZCB8fCBzdGFja3NbYXhpc11bZGF0YXNldEluZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlbGV0ZSBzdGFja3NbYXhpc11bZGF0YXNldEluZGV4XTtcbiAgfVxufVxuY29uc3QgaXNEaXJlY3RVcGRhdGVNb2RlID0gKG1vZGUpID0+IG1vZGUgPT09ICdyZXNldCcgfHwgbW9kZSA9PT0gJ25vbmUnO1xuY29uc3QgY2xvbmVJZk5vdFNoYXJlZCA9IChjYWNoZWQsIHNoYXJlZCkgPT4gc2hhcmVkID8gY2FjaGVkIDogT2JqZWN0LmFzc2lnbih7fSwgY2FjaGVkKTtcbmNvbnN0IGNyZWF0ZVN0YWNrID0gKGNhblN0YWNrLCBtZXRhLCBjaGFydCkgPT4gY2FuU3RhY2sgJiYgIW1ldGEuaGlkZGVuICYmIG1ldGEuX3N0YWNrZWRcbiAgJiYge2tleXM6IGdldFNvcnRlZERhdGFzZXRJbmRpY2VzKGNoYXJ0LCB0cnVlKSwgdmFsdWVzOiBudWxsfTtcbmNsYXNzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoY2hhcnQsIGRhdGFzZXRJbmRleCkge1xuICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICB0aGlzLl9jdHggPSBjaGFydC5jdHg7XG4gICAgdGhpcy5pbmRleCA9IGRhdGFzZXRJbmRleDtcbiAgICB0aGlzLl9jYWNoZWREYXRhT3B0cyA9IHt9O1xuICAgIHRoaXMuX2NhY2hlZE1ldGEgPSB0aGlzLmdldE1ldGEoKTtcbiAgICB0aGlzLl90eXBlID0gdGhpcy5fY2FjaGVkTWV0YS50eXBlO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9wYXJzaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fZGF0YSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9vYmplY3REYXRhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3NoYXJlZE9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZHJhd1N0YXJ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2RyYXdDb3VudCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnN1cHBvcnRzRGVjaW1hdGlvbiA9IGZhbHNlO1xuICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3luY0xpc3QgPSBbXTtcbiAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuICBpbml0aWFsaXplKCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIHRoaXMuY29uZmlndXJlKCk7XG4gICAgdGhpcy5saW5rU2NhbGVzKCk7XG4gICAgbWV0YS5fc3RhY2tlZCA9IGlzU3RhY2tlZChtZXRhLnZTY2FsZSwgbWV0YSk7XG4gICAgdGhpcy5hZGRFbGVtZW50cygpO1xuICB9XG4gIHVwZGF0ZUluZGV4KGRhdGFzZXRJbmRleCkge1xuICAgIGlmICh0aGlzLmluZGV4ICE9PSBkYXRhc2V0SW5kZXgpIHtcbiAgICAgIGNsZWFyU3RhY2tzKHRoaXMuX2NhY2hlZE1ldGEpO1xuICAgIH1cbiAgICB0aGlzLmluZGV4ID0gZGF0YXNldEluZGV4O1xuICB9XG4gIGxpbmtTY2FsZXMoKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGRhdGFzZXQgPSB0aGlzLmdldERhdGFzZXQoKTtcbiAgICBjb25zdCBjaG9vc2VJZCA9IChheGlzLCB4LCB5LCByKSA9PiBheGlzID09PSAneCcgPyB4IDogYXhpcyA9PT0gJ3InID8gciA6IHk7XG4gICAgY29uc3QgeGlkID0gbWV0YS54QXhpc0lEID0gdmFsdWVPckRlZmF1bHQoZGF0YXNldC54QXhpc0lELCBnZXRGaXJzdFNjYWxlSWQoY2hhcnQsICd4JykpO1xuICAgIGNvbnN0IHlpZCA9IG1ldGEueUF4aXNJRCA9IHZhbHVlT3JEZWZhdWx0KGRhdGFzZXQueUF4aXNJRCwgZ2V0Rmlyc3RTY2FsZUlkKGNoYXJ0LCAneScpKTtcbiAgICBjb25zdCByaWQgPSBtZXRhLnJBeGlzSUQgPSB2YWx1ZU9yRGVmYXVsdChkYXRhc2V0LnJBeGlzSUQsIGdldEZpcnN0U2NhbGVJZChjaGFydCwgJ3InKSk7XG4gICAgY29uc3QgaW5kZXhBeGlzID0gbWV0YS5pbmRleEF4aXM7XG4gICAgY29uc3QgaWlkID0gbWV0YS5pQXhpc0lEID0gY2hvb3NlSWQoaW5kZXhBeGlzLCB4aWQsIHlpZCwgcmlkKTtcbiAgICBjb25zdCB2aWQgPSBtZXRhLnZBeGlzSUQgPSBjaG9vc2VJZChpbmRleEF4aXMsIHlpZCwgeGlkLCByaWQpO1xuICAgIG1ldGEueFNjYWxlID0gdGhpcy5nZXRTY2FsZUZvcklkKHhpZCk7XG4gICAgbWV0YS55U2NhbGUgPSB0aGlzLmdldFNjYWxlRm9ySWQoeWlkKTtcbiAgICBtZXRhLnJTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZChyaWQpO1xuICAgIG1ldGEuaVNjYWxlID0gdGhpcy5nZXRTY2FsZUZvcklkKGlpZCk7XG4gICAgbWV0YS52U2NhbGUgPSB0aGlzLmdldFNjYWxlRm9ySWQodmlkKTtcbiAgfVxuICBnZXREYXRhc2V0KCkge1xuICAgIHJldHVybiB0aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbdGhpcy5pbmRleF07XG4gIH1cbiAgZ2V0TWV0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YSh0aGlzLmluZGV4KTtcbiAgfVxuICBnZXRTY2FsZUZvcklkKHNjYWxlSUQpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFydC5zY2FsZXNbc2NhbGVJRF07XG4gIH1cbiAgX2dldE90aGVyU2NhbGUoc2NhbGUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICByZXR1cm4gc2NhbGUgPT09IG1ldGEuaVNjYWxlXG4gICAgICA/IG1ldGEudlNjYWxlXG4gICAgICA6IG1ldGEuaVNjYWxlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3VwZGF0ZSgncmVzZXQnKTtcbiAgfVxuICBfZGVzdHJveSgpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgdW5saXN0ZW5BcnJheUV2ZW50cyh0aGlzLl9kYXRhLCB0aGlzKTtcbiAgICB9XG4gICAgaWYgKG1ldGEuX3N0YWNrZWQpIHtcbiAgICAgIGNsZWFyU3RhY2tzKG1ldGEpO1xuICAgIH1cbiAgfVxuICBfZGF0YUNoZWNrKCkge1xuICAgIGNvbnN0IGRhdGFzZXQgPSB0aGlzLmdldERhdGFzZXQoKTtcbiAgICBjb25zdCBkYXRhID0gZGF0YXNldC5kYXRhIHx8IChkYXRhc2V0LmRhdGEgPSBbXSk7XG4gICAgY29uc3QgX2RhdGEgPSB0aGlzLl9kYXRhO1xuICAgIGlmIChpc09iamVjdChkYXRhKSkge1xuICAgICAgdGhpcy5fZGF0YSA9IGNvbnZlcnRPYmplY3REYXRhVG9BcnJheShkYXRhKTtcbiAgICB9IGVsc2UgaWYgKF9kYXRhICE9PSBkYXRhKSB7XG4gICAgICBpZiAoX2RhdGEpIHtcbiAgICAgICAgdW5saXN0ZW5BcnJheUV2ZW50cyhfZGF0YSwgdGhpcyk7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjbGVhclN0YWNrcyhtZXRhKTtcbiAgICAgICAgbWV0YS5fcGFyc2VkID0gW107XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGRhdGEpKSB7XG4gICAgICAgIGxpc3RlbkFycmF5RXZlbnRzKGRhdGEsIHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3luY0xpc3QgPSBbXTtcbiAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIH1cbiAgfVxuICBhZGRFbGVtZW50cygpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICB0aGlzLl9kYXRhQ2hlY2soKTtcbiAgICBpZiAodGhpcy5kYXRhc2V0RWxlbWVudFR5cGUpIHtcbiAgICAgIG1ldGEuZGF0YXNldCA9IG5ldyB0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSgpO1xuICAgIH1cbiAgfVxuICBidWlsZE9yVXBkYXRlRWxlbWVudHMocmVzZXROZXdFbGVtZW50cykge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGRhdGFzZXQgPSB0aGlzLmdldERhdGFzZXQoKTtcbiAgICBsZXQgc3RhY2tDaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy5fZGF0YUNoZWNrKCk7XG4gICAgY29uc3Qgb2xkU3RhY2tlZCA9IG1ldGEuX3N0YWNrZWQ7XG4gICAgbWV0YS5fc3RhY2tlZCA9IGlzU3RhY2tlZChtZXRhLnZTY2FsZSwgbWV0YSk7XG4gICAgaWYgKG1ldGEuc3RhY2sgIT09IGRhdGFzZXQuc3RhY2spIHtcbiAgICAgIHN0YWNrQ2hhbmdlZCA9IHRydWU7XG4gICAgICBjbGVhclN0YWNrcyhtZXRhKTtcbiAgICAgIG1ldGEuc3RhY2sgPSBkYXRhc2V0LnN0YWNrO1xuICAgIH1cbiAgICB0aGlzLl9yZXN5bmNFbGVtZW50cyhyZXNldE5ld0VsZW1lbnRzKTtcbiAgICBpZiAoc3RhY2tDaGFuZ2VkIHx8IG9sZFN0YWNrZWQgIT09IG1ldGEuX3N0YWNrZWQpIHtcbiAgICAgIHVwZGF0ZVN0YWNrcyh0aGlzLCBtZXRhLl9wYXJzZWQpO1xuICAgIH1cbiAgfVxuICBjb25maWd1cmUoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jaGFydC5jb25maWc7XG4gICAgY29uc3Qgc2NvcGVLZXlzID0gY29uZmlnLmRhdGFzZXRTY29wZUtleXModGhpcy5fdHlwZSk7XG4gICAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSwgc2NvcGVLZXlzLCB0cnVlKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBjb25maWcuY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCB0aGlzLmdldENvbnRleHQoKSk7XG4gICAgdGhpcy5fcGFyc2luZyA9IHRoaXMub3B0aW9ucy5wYXJzaW5nO1xuICAgIHRoaXMuX2NhY2hlZERhdGFPcHRzID0ge307XG4gIH1cbiAgcGFyc2Uoc3RhcnQsIGNvdW50KSB7XG4gICAgY29uc3Qge19jYWNoZWRNZXRhOiBtZXRhLCBfZGF0YTogZGF0YX0gPSB0aGlzO1xuICAgIGNvbnN0IHtpU2NhbGUsIF9zdGFja2VkfSA9IG1ldGE7XG4gICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICBsZXQgc29ydGVkID0gc3RhcnQgPT09IDAgJiYgY291bnQgPT09IGRhdGEubGVuZ3RoID8gdHJ1ZSA6IG1ldGEuX3NvcnRlZDtcbiAgICBsZXQgcHJldiA9IHN0YXJ0ID4gMCAmJiBtZXRhLl9wYXJzZWRbc3RhcnQgLSAxXTtcbiAgICBsZXQgaSwgY3VyLCBwYXJzZWQ7XG4gICAgaWYgKHRoaXMuX3BhcnNpbmcgPT09IGZhbHNlKSB7XG4gICAgICBtZXRhLl9wYXJzZWQgPSBkYXRhO1xuICAgICAgbWV0YS5fc29ydGVkID0gdHJ1ZTtcbiAgICAgIHBhcnNlZCA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc0FycmF5KGRhdGFbc3RhcnRdKSkge1xuICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGRhdGFbc3RhcnRdKSkge1xuICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkID0gdGhpcy5wYXJzZVByaW1pdGl2ZURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzTm90SW5PcmRlckNvbXBhcmVkVG9QcmV2ID0gKCkgPT4gY3VyW2lBeGlzXSA9PT0gbnVsbCB8fCAocHJldiAmJiBjdXJbaUF4aXNdIDwgcHJldltpQXhpc10pO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyArK2kpIHtcbiAgICAgICAgbWV0YS5fcGFyc2VkW2kgKyBzdGFydF0gPSBjdXIgPSBwYXJzZWRbaV07XG4gICAgICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgICAgICBpZiAoaXNOb3RJbk9yZGVyQ29tcGFyZWRUb1ByZXYoKSkge1xuICAgICAgICAgICAgc29ydGVkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1ldGEuX3NvcnRlZCA9IHNvcnRlZDtcbiAgICB9XG4gICAgaWYgKF9zdGFja2VkKSB7XG4gICAgICB1cGRhdGVTdGFja3ModGhpcywgcGFyc2VkKTtcbiAgICB9XG4gIH1cbiAgcGFyc2VQcmltaXRpdmVEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHtpU2NhbGUsIHZTY2FsZX0gPSBtZXRhO1xuICAgIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gICAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgICBjb25zdCBsYWJlbHMgPSBpU2NhbGUuZ2V0TGFiZWxzKCk7XG4gICAgY29uc3Qgc2luZ2xlU2NhbGUgPSBpU2NhbGUgPT09IHZTY2FsZTtcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGxldCBpLCBpbGVuLCBpbmRleDtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGluZGV4ID0gaSArIHN0YXJ0O1xuICAgICAgcGFyc2VkW2ldID0ge1xuICAgICAgICBbaUF4aXNdOiBzaW5nbGVTY2FsZSB8fCBpU2NhbGUucGFyc2UobGFiZWxzW2luZGV4XSwgaW5kZXgpLFxuICAgICAgICBbdkF4aXNdOiB2U2NhbGUucGFyc2UoZGF0YVtpbmRleF0sIGluZGV4KVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuICBwYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCB7eFNjYWxlLCB5U2NhbGV9ID0gbWV0YTtcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgQXJyYXkoY291bnQpO1xuICAgIGxldCBpLCBpbGVuLCBpbmRleCwgaXRlbTtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGluZGV4ID0gaSArIHN0YXJ0O1xuICAgICAgaXRlbSA9IGRhdGFbaW5kZXhdO1xuICAgICAgcGFyc2VkW2ldID0ge1xuICAgICAgICB4OiB4U2NhbGUucGFyc2UoaXRlbVswXSwgaW5kZXgpLFxuICAgICAgICB5OiB5U2NhbGUucGFyc2UoaXRlbVsxXSwgaW5kZXgpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCB7eFNjYWxlLCB5U2NhbGV9ID0gbWV0YTtcbiAgICBjb25zdCB7eEF4aXNLZXkgPSAneCcsIHlBeGlzS2V5ID0gJ3knfSA9IHRoaXMuX3BhcnNpbmc7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBsZXQgaSwgaWxlbiwgaW5kZXgsIGl0ZW07XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGNvdW50OyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBpbmRleCA9IGkgKyBzdGFydDtcbiAgICAgIGl0ZW0gPSBkYXRhW2luZGV4XTtcbiAgICAgIHBhcnNlZFtpXSA9IHtcbiAgICAgICAgeDogeFNjYWxlLnBhcnNlKHJlc29sdmVPYmplY3RLZXkoaXRlbSwgeEF4aXNLZXkpLCBpbmRleCksXG4gICAgICAgIHk6IHlTY2FsZS5wYXJzZShyZXNvbHZlT2JqZWN0S2V5KGl0ZW0sIHlBeGlzS2V5KSwgaW5kZXgpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIGdldFBhcnNlZChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLl9jYWNoZWRNZXRhLl9wYXJzZWRbaW5kZXhdO1xuICB9XG4gIGdldERhdGFFbGVtZW50KGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhY2hlZE1ldGEuZGF0YVtpbmRleF07XG4gIH1cbiAgYXBwbHlTdGFjayhzY2FsZSwgcGFyc2VkLCBtb2RlKSB7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VkW3NjYWxlLmF4aXNdO1xuICAgIGNvbnN0IHN0YWNrID0ge1xuICAgICAga2V5czogZ2V0U29ydGVkRGF0YXNldEluZGljZXMoY2hhcnQsIHRydWUpLFxuICAgICAgdmFsdWVzOiBwYXJzZWQuX3N0YWNrc1tzY2FsZS5heGlzXVxuICAgIH07XG4gICAgcmV0dXJuIGFwcGx5U3RhY2soc3RhY2ssIHZhbHVlLCBtZXRhLmluZGV4LCB7bW9kZX0pO1xuICB9XG4gIHVwZGF0ZVJhbmdlRnJvbVBhcnNlZChyYW5nZSwgc2NhbGUsIHBhcnNlZCwgc3RhY2spIHtcbiAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlZFtzY2FsZS5heGlzXTtcbiAgICBsZXQgdmFsdWUgPSBwYXJzZWRWYWx1ZSA9PT0gbnVsbCA/IE5hTiA6IHBhcnNlZFZhbHVlO1xuICAgIGNvbnN0IHZhbHVlcyA9IHN0YWNrICYmIHBhcnNlZC5fc3RhY2tzW3NjYWxlLmF4aXNdO1xuICAgIGlmIChzdGFjayAmJiB2YWx1ZXMpIHtcbiAgICAgIHN0YWNrLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgIHZhbHVlID0gYXBwbHlTdGFjayhzdGFjaywgcGFyc2VkVmFsdWUsIHRoaXMuX2NhY2hlZE1ldGEuaW5kZXgpO1xuICAgIH1cbiAgICByYW5nZS5taW4gPSBNYXRoLm1pbihyYW5nZS5taW4sIHZhbHVlKTtcbiAgICByYW5nZS5tYXggPSBNYXRoLm1heChyYW5nZS5tYXgsIHZhbHVlKTtcbiAgfVxuICBnZXRNaW5NYXgoc2NhbGUsIGNhblN0YWNrKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgX3BhcnNlZCA9IG1ldGEuX3BhcnNlZDtcbiAgICBjb25zdCBzb3J0ZWQgPSBtZXRhLl9zb3J0ZWQgJiYgc2NhbGUgPT09IG1ldGEuaVNjYWxlO1xuICAgIGNvbnN0IGlsZW4gPSBfcGFyc2VkLmxlbmd0aDtcbiAgICBjb25zdCBvdGhlclNjYWxlID0gdGhpcy5fZ2V0T3RoZXJTY2FsZShzY2FsZSk7XG4gICAgY29uc3Qgc3RhY2sgPSBjcmVhdGVTdGFjayhjYW5TdGFjaywgbWV0YSwgdGhpcy5jaGFydCk7XG4gICAgY29uc3QgcmFuZ2UgPSB7bWluOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIG1heDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfTtcbiAgICBjb25zdCB7bWluOiBvdGhlck1pbiwgbWF4OiBvdGhlck1heH0gPSBnZXRVc2VyQm91bmRzKG90aGVyU2NhbGUpO1xuICAgIGxldCBpLCBwYXJzZWQ7XG4gICAgZnVuY3Rpb24gX3NraXAoKSB7XG4gICAgICBwYXJzZWQgPSBfcGFyc2VkW2ldO1xuICAgICAgY29uc3Qgb3RoZXJWYWx1ZSA9IHBhcnNlZFtvdGhlclNjYWxlLmF4aXNdO1xuICAgICAgcmV0dXJuICFpc051bWJlckZpbml0ZShwYXJzZWRbc2NhbGUuYXhpc10pIHx8IG90aGVyTWluID4gb3RoZXJWYWx1ZSB8fCBvdGhlck1heCA8IG90aGVyVmFsdWU7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGlmIChfc2tpcCgpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVSYW5nZUZyb21QYXJzZWQocmFuZ2UsIHNjYWxlLCBwYXJzZWQsIHN0YWNrKTtcbiAgICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgIGZvciAoaSA9IGlsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICBpZiAoX3NraXAoKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHJhbmdlLCBzY2FsZSwgcGFyc2VkLCBzdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgZ2V0QWxsUGFyc2VkVmFsdWVzKHNjYWxlKSB7XG4gICAgY29uc3QgcGFyc2VkID0gdGhpcy5fY2FjaGVkTWV0YS5fcGFyc2VkO1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGxldCBpLCBpbGVuLCB2YWx1ZTtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gcGFyc2VkLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgdmFsdWUgPSBwYXJzZWRbaV1bc2NhbGUuYXhpc107XG4gICAgICBpZiAoaXNOdW1iZXJGaW5pdGUodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuICBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGlTY2FsZSA9IG1ldGEuaVNjYWxlO1xuICAgIGNvbnN0IHZTY2FsZSA9IG1ldGEudlNjYWxlO1xuICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IGlTY2FsZSA/ICcnICsgaVNjYWxlLmdldExhYmVsRm9yVmFsdWUocGFyc2VkW2lTY2FsZS5heGlzXSkgOiAnJyxcbiAgICAgIHZhbHVlOiB2U2NhbGUgPyAnJyArIHZTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZFt2U2NhbGUuYXhpc10pIDogJydcbiAgICB9O1xuICB9XG4gIF91cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIHRoaXMudXBkYXRlKG1vZGUgfHwgJ2RlZmF1bHQnKTtcbiAgICBtZXRhLl9jbGlwID0gdG9DbGlwKHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5jbGlwLCBkZWZhdWx0Q2xpcChtZXRhLnhTY2FsZSwgbWV0YS55U2NhbGUsIHRoaXMuZ2V0TWF4T3ZlcmZsb3coKSkpKTtcbiAgfVxuICB1cGRhdGUobW9kZSkge31cbiAgZHJhdygpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLl9jdHg7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgIGNvbnN0IGFyZWEgPSBjaGFydC5jaGFydEFyZWE7XG4gICAgY29uc3QgYWN0aXZlID0gW107XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9kcmF3U3RhcnQgfHwgMDtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuX2RyYXdDb3VudCB8fCAoZWxlbWVudHMubGVuZ3RoIC0gc3RhcnQpO1xuICAgIGNvbnN0IGRyYXdBY3RpdmVFbGVtZW50c09uVG9wID0gdGhpcy5vcHRpb25zLmRyYXdBY3RpdmVFbGVtZW50c09uVG9wO1xuICAgIGxldCBpO1xuICAgIGlmIChtZXRhLmRhdGFzZXQpIHtcbiAgICAgIG1ldGEuZGF0YXNldC5kcmF3KGN0eCwgYXJlYSwgc3RhcnQsIGNvdW50KTtcbiAgICB9XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBzdGFydCArIGNvdW50OyArK2kpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgIGlmIChlbGVtZW50LmhpZGRlbikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LmFjdGl2ZSAmJiBkcmF3QWN0aXZlRWxlbWVudHNPblRvcCkge1xuICAgICAgICBhY3RpdmUucHVzaChlbGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuZHJhdyhjdHgsIGFyZWEpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgKytpKSB7XG4gICAgICBhY3RpdmVbaV0uZHJhdyhjdHgsIGFyZWEpO1xuICAgIH1cbiAgfVxuICBnZXRTdHlsZShpbmRleCwgYWN0aXZlKSB7XG4gICAgY29uc3QgbW9kZSA9IGFjdGl2ZSA/ICdhY3RpdmUnIDogJ2RlZmF1bHQnO1xuICAgIHJldHVybiBpbmRleCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuX2NhY2hlZE1ldGEuZGF0YXNldFxuICAgICAgPyB0aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobW9kZSlcbiAgICAgIDogdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGluZGV4IHx8IDAsIG1vZGUpO1xuICB9XG4gIGdldENvbnRleHQoaW5kZXgsIGFjdGl2ZSwgbW9kZSkge1xuICAgIGNvbnN0IGRhdGFzZXQgPSB0aGlzLmdldERhdGFzZXQoKTtcbiAgICBsZXQgY29udGV4dDtcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGFbaW5kZXhdO1xuICAgICAgY29udGV4dCA9IGVsZW1lbnQuJGNvbnRleHQgfHxcbiAgICAgICAgKGVsZW1lbnQuJGNvbnRleHQgPSBjcmVhdGVEYXRhQ29udGV4dCh0aGlzLmdldENvbnRleHQoKSwgaW5kZXgsIGVsZW1lbnQpKTtcbiAgICAgIGNvbnRleHQucGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgICAgY29udGV4dC5yYXcgPSBkYXRhc2V0LmRhdGFbaW5kZXhdO1xuICAgICAgY29udGV4dC5pbmRleCA9IGNvbnRleHQuZGF0YUluZGV4ID0gaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzLiRjb250ZXh0IHx8XG4gICAgICAgICh0aGlzLiRjb250ZXh0ID0gY3JlYXRlRGF0YXNldENvbnRleHQodGhpcy5jaGFydC5nZXRDb250ZXh0KCksIHRoaXMuaW5kZXgpKTtcbiAgICAgIGNvbnRleHQuZGF0YXNldCA9IGRhdGFzZXQ7XG4gICAgICBjb250ZXh0LmluZGV4ID0gY29udGV4dC5kYXRhc2V0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgIH1cbiAgICBjb250ZXh0LmFjdGl2ZSA9ICEhYWN0aXZlO1xuICAgIGNvbnRleHQubW9kZSA9IG1vZGU7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH1cbiAgcmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVFbGVtZW50T3B0aW9ucyh0aGlzLmRhdGFzZXRFbGVtZW50VHlwZS5pZCwgbW9kZSk7XG4gIH1cbiAgcmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpbmRleCwgbW9kZSkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlRWxlbWVudE9wdGlvbnModGhpcy5kYXRhRWxlbWVudFR5cGUuaWQsIG1vZGUsIGluZGV4KTtcbiAgfVxuICBfcmVzb2x2ZUVsZW1lbnRPcHRpb25zKGVsZW1lbnRUeXBlLCBtb2RlID0gJ2RlZmF1bHQnLCBpbmRleCkge1xuICAgIGNvbnN0IGFjdGl2ZSA9IG1vZGUgPT09ICdhY3RpdmUnO1xuICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGVkRGF0YU9wdHM7XG4gICAgY29uc3QgY2FjaGVLZXkgPSBlbGVtZW50VHlwZSArICctJyArIG1vZGU7XG4gICAgY29uc3QgY2FjaGVkID0gY2FjaGVbY2FjaGVLZXldO1xuICAgIGNvbnN0IHNoYXJpbmcgPSB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgJiYgZGVmaW5lZChpbmRleCk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIGNsb25lSWZOb3RTaGFyZWQoY2FjaGVkLCBzaGFyaW5nKTtcbiAgICB9XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5jaGFydC5jb25maWc7XG4gICAgY29uc3Qgc2NvcGVLZXlzID0gY29uZmlnLmRhdGFzZXRFbGVtZW50U2NvcGVLZXlzKHRoaXMuX3R5cGUsIGVsZW1lbnRUeXBlKTtcbiAgICBjb25zdCBwcmVmaXhlcyA9IGFjdGl2ZSA/IFtgJHtlbGVtZW50VHlwZX1Ib3ZlcmAsICdob3ZlcicsIGVsZW1lbnRUeXBlLCAnJ10gOiBbZWxlbWVudFR5cGUsICcnXTtcbiAgICBjb25zdCBzY29wZXMgPSBjb25maWcuZ2V0T3B0aW9uU2NvcGVzKHRoaXMuZ2V0RGF0YXNldCgpLCBzY29wZUtleXMpO1xuICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoZGVmYXVsdHMuZWxlbWVudHNbZWxlbWVudFR5cGVdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gKCkgPT4gdGhpcy5nZXRDb250ZXh0KGluZGV4LCBhY3RpdmUpO1xuICAgIGNvbnN0IHZhbHVlcyA9IGNvbmZpZy5yZXNvbHZlTmFtZWRPcHRpb25zKHNjb3BlcywgbmFtZXMsIGNvbnRleHQsIHByZWZpeGVzKTtcbiAgICBpZiAodmFsdWVzLiRzaGFyZWQpIHtcbiAgICAgIHZhbHVlcy4kc2hhcmVkID0gc2hhcmluZztcbiAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IE9iamVjdC5mcmVlemUoY2xvbmVJZk5vdFNoYXJlZCh2YWx1ZXMsIHNoYXJpbmcpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuICBfcmVzb2x2ZUFuaW1hdGlvbnMoaW5kZXgsIHRyYW5zaXRpb24sIGFjdGl2ZSkge1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuX2NhY2hlZERhdGFPcHRzO1xuICAgIGNvbnN0IGNhY2hlS2V5ID0gYGFuaW1hdGlvbi0ke3RyYW5zaXRpb259YDtcbiAgICBjb25zdCBjYWNoZWQgPSBjYWNoZVtjYWNoZUtleV07XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgbGV0IG9wdGlvbnM7XG4gICAgaWYgKGNoYXJ0Lm9wdGlvbnMuYW5pbWF0aW9uICE9PSBmYWxzZSkge1xuICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5jaGFydC5jb25maWc7XG4gICAgICBjb25zdCBzY29wZUtleXMgPSBjb25maWcuZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyh0aGlzLl90eXBlLCB0cmFuc2l0aW9uKTtcbiAgICAgIGNvbnN0IHNjb3BlcyA9IGNvbmZpZy5nZXRPcHRpb25TY29wZXModGhpcy5nZXREYXRhc2V0KCksIHNjb3BlS2V5cyk7XG4gICAgICBvcHRpb25zID0gY29uZmlnLmNyZWF0ZVJlc29sdmVyKHNjb3BlcywgdGhpcy5nZXRDb250ZXh0KGluZGV4LCBhY3RpdmUsIHRyYW5zaXRpb24pKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IG5ldyBBbmltYXRpb25zKGNoYXJ0LCBvcHRpb25zICYmIG9wdGlvbnMuYW5pbWF0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5fY2FjaGVhYmxlKSB7XG4gICAgICBjYWNoZVtjYWNoZUtleV0gPSBPYmplY3QuZnJlZXplKGFuaW1hdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgfVxuICBnZXRTaGFyZWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMuJHNoYXJlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2hhcmVkT3B0aW9ucyB8fCAodGhpcy5fc2hhcmVkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKTtcbiAgfVxuICBpbmNsdWRlT3B0aW9ucyhtb2RlLCBzaGFyZWRPcHRpb25zKSB7XG4gICAgcmV0dXJuICFzaGFyZWRPcHRpb25zIHx8IGlzRGlyZWN0VXBkYXRlTW9kZShtb2RlKSB8fCB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQ7XG4gIH1cbiAgX2dldFNoYXJlZE9wdGlvbnMoc3RhcnQsIG1vZGUpIHtcbiAgICBjb25zdCBmaXJzdE9wdHMgPSB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoc3RhcnQsIG1vZGUpO1xuICAgIGNvbnN0IHByZXZpb3VzbHlTaGFyZWRPcHRpb25zID0gdGhpcy5fc2hhcmVkT3B0aW9ucztcbiAgICBjb25zdCBzaGFyZWRPcHRpb25zID0gdGhpcy5nZXRTaGFyZWRPcHRpb25zKGZpcnN0T3B0cyk7XG4gICAgY29uc3QgaW5jbHVkZU9wdGlvbnMgPSB0aGlzLmluY2x1ZGVPcHRpb25zKG1vZGUsIHNoYXJlZE9wdGlvbnMpIHx8IChzaGFyZWRPcHRpb25zICE9PSBwcmV2aW91c2x5U2hhcmVkT3B0aW9ucyk7XG4gICAgdGhpcy51cGRhdGVTaGFyZWRPcHRpb25zKHNoYXJlZE9wdGlvbnMsIG1vZGUsIGZpcnN0T3B0cyk7XG4gICAgcmV0dXJuIHtzaGFyZWRPcHRpb25zLCBpbmNsdWRlT3B0aW9uc307XG4gIH1cbiAgdXBkYXRlRWxlbWVudChlbGVtZW50LCBpbmRleCwgcHJvcGVydGllcywgbW9kZSkge1xuICAgIGlmIChpc0RpcmVjdFVwZGF0ZU1vZGUobW9kZSkpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKGluZGV4LCBtb2RlKS51cGRhdGUoZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVNoYXJlZE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgbW9kZSwgbmV3T3B0aW9ucykge1xuICAgIGlmIChzaGFyZWRPcHRpb25zICYmICFpc0RpcmVjdFVwZGF0ZU1vZGUobW9kZSkpIHtcbiAgICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKHVuZGVmaW5lZCwgbW9kZSkudXBkYXRlKHNoYXJlZE9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBfc2V0U3R5bGUoZWxlbWVudCwgaW5kZXgsIG1vZGUsIGFjdGl2ZSkge1xuICAgIGVsZW1lbnQuYWN0aXZlID0gYWN0aXZlO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldFN0eWxlKGluZGV4LCBhY3RpdmUpO1xuICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKGluZGV4LCBtb2RlLCBhY3RpdmUpLnVwZGF0ZShlbGVtZW50LCB7XG4gICAgICBvcHRpb25zOiAoIWFjdGl2ZSAmJiB0aGlzLmdldFNoYXJlZE9wdGlvbnMob3B0aW9ucykpIHx8IG9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICByZW1vdmVIb3ZlclN0eWxlKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCBpbmRleCwgJ2FjdGl2ZScsIGZhbHNlKTtcbiAgfVxuICBzZXRIb3ZlclN0eWxlKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCBpbmRleCwgJ2FjdGl2ZScsIHRydWUpO1xuICB9XG4gIF9yZW1vdmVEYXRhc2V0SG92ZXJTdHlsZSgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0O1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCB1bmRlZmluZWQsICdhY3RpdmUnLCBmYWxzZSk7XG4gICAgfVxuICB9XG4gIF9zZXREYXRhc2V0SG92ZXJTdHlsZSgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0O1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCB1bmRlZmluZWQsICdhY3RpdmUnLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgX3Jlc3luY0VsZW1lbnRzKHJlc2V0TmV3RWxlbWVudHMpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5fZGF0YTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuX2NhY2hlZE1ldGEuZGF0YTtcbiAgICBmb3IgKGNvbnN0IFttZXRob2QsIGFyZzEsIGFyZzJdIG9mIHRoaXMuX3N5bmNMaXN0KSB7XG4gICAgICB0aGlzW21ldGhvZF0oYXJnMSwgYXJnMik7XG4gICAgfVxuICAgIHRoaXMuX3N5bmNMaXN0ID0gW107XG4gICAgY29uc3QgbnVtTWV0YSA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICBjb25zdCBudW1EYXRhID0gZGF0YS5sZW5ndGg7XG4gICAgY29uc3QgY291bnQgPSBNYXRoLm1pbihudW1EYXRhLCBudW1NZXRhKTtcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIHRoaXMucGFyc2UoMCwgY291bnQpO1xuICAgIH1cbiAgICBpZiAobnVtRGF0YSA+IG51bU1ldGEpIHtcbiAgICAgIHRoaXMuX2luc2VydEVsZW1lbnRzKG51bU1ldGEsIG51bURhdGEgLSBudW1NZXRhLCByZXNldE5ld0VsZW1lbnRzKTtcbiAgICB9IGVsc2UgaWYgKG51bURhdGEgPCBudW1NZXRhKSB7XG4gICAgICB0aGlzLl9yZW1vdmVFbGVtZW50cyhudW1EYXRhLCBudW1NZXRhIC0gbnVtRGF0YSk7XG4gICAgfVxuICB9XG4gIF9pbnNlcnRFbGVtZW50cyhzdGFydCwgY291bnQsIHJlc2V0TmV3RWxlbWVudHMgPSB0cnVlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3QgZGF0YSA9IG1ldGEuZGF0YTtcbiAgICBjb25zdCBlbmQgPSBzdGFydCArIGNvdW50O1xuICAgIGxldCBpO1xuICAgIGNvbnN0IG1vdmUgPSAoYXJyKSA9PiB7XG4gICAgICBhcnIubGVuZ3RoICs9IGNvdW50O1xuICAgICAgZm9yIChpID0gYXJyLmxlbmd0aCAtIDE7IGkgPj0gZW5kOyBpLS0pIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgLSBjb3VudF07XG4gICAgICB9XG4gICAgfTtcbiAgICBtb3ZlKGRhdGEpO1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIGRhdGFbaV0gPSBuZXcgdGhpcy5kYXRhRWxlbWVudFR5cGUoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICAgIG1vdmUobWV0YS5fcGFyc2VkKTtcbiAgICB9XG4gICAgdGhpcy5wYXJzZShzdGFydCwgY291bnQpO1xuICAgIGlmIChyZXNldE5ld0VsZW1lbnRzKSB7XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKGRhdGEsIHN0YXJ0LCBjb3VudCwgJ3Jlc2V0Jyk7XG4gICAgfVxuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKGVsZW1lbnQsIHN0YXJ0LCBjb3VudCwgbW9kZSkge31cbiAgX3JlbW92ZUVsZW1lbnRzKHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGlmICh0aGlzLl9wYXJzaW5nKSB7XG4gICAgICBjb25zdCByZW1vdmVkID0gbWV0YS5fcGFyc2VkLnNwbGljZShzdGFydCwgY291bnQpO1xuICAgICAgaWYgKG1ldGEuX3N0YWNrZWQpIHtcbiAgICAgICAgY2xlYXJTdGFja3MobWV0YSwgcmVtb3ZlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIG1ldGEuZGF0YS5zcGxpY2Uoc3RhcnQsIGNvdW50KTtcbiAgfVxuICBfc3luYyhhcmdzKSB7XG4gICAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICAgIHRoaXMuX3N5bmNMaXN0LnB1c2goYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IFttZXRob2QsIGFyZzEsIGFyZzJdID0gYXJncztcbiAgICAgIHRoaXNbbWV0aG9kXShhcmcxLCBhcmcyKTtcbiAgICB9XG4gICAgdGhpcy5jaGFydC5fZGF0YUNoYW5nZXMucHVzaChbdGhpcy5pbmRleCwgLi4uYXJnc10pO1xuICB9XG4gIF9vbkRhdGFQdXNoKCkge1xuICAgIGNvbnN0IGNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB0aGlzLl9zeW5jKFsnX2luc2VydEVsZW1lbnRzJywgdGhpcy5nZXREYXRhc2V0KCkuZGF0YS5sZW5ndGggLSBjb3VudCwgY291bnRdKTtcbiAgfVxuICBfb25EYXRhUG9wKCkge1xuICAgIHRoaXMuX3N5bmMoWydfcmVtb3ZlRWxlbWVudHMnLCB0aGlzLl9jYWNoZWRNZXRhLmRhdGEubGVuZ3RoIC0gMSwgMV0pO1xuICB9XG4gIF9vbkRhdGFTaGlmdCgpIHtcbiAgICB0aGlzLl9zeW5jKFsnX3JlbW92ZUVsZW1lbnRzJywgMCwgMV0pO1xuICB9XG4gIF9vbkRhdGFTcGxpY2Uoc3RhcnQsIGNvdW50KSB7XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICB0aGlzLl9zeW5jKFsnX3JlbW92ZUVsZW1lbnRzJywgc3RhcnQsIGNvdW50XSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgaWYgKG5ld0NvdW50KSB7XG4gICAgICB0aGlzLl9zeW5jKFsnX2luc2VydEVsZW1lbnRzJywgc3RhcnQsIG5ld0NvdW50XSk7XG4gICAgfVxuICB9XG4gIF9vbkRhdGFVbnNoaWZ0KCkge1xuICAgIHRoaXMuX3N5bmMoWydfaW5zZXJ0RWxlbWVudHMnLCAwLCBhcmd1bWVudHMubGVuZ3RoXSk7XG4gIH1cbn1cbkRhdGFzZXRDb250cm9sbGVyLmRlZmF1bHRzID0ge307XG5EYXRhc2V0Q29udHJvbGxlci5wcm90b3R5cGUuZGF0YXNldEVsZW1lbnRUeXBlID0gbnVsbDtcbkRhdGFzZXRDb250cm9sbGVyLnByb3RvdHlwZS5kYXRhRWxlbWVudFR5cGUgPSBudWxsO1xuXG5mdW5jdGlvbiBnZXRBbGxTY2FsZVZhbHVlcyhzY2FsZSwgdHlwZSkge1xuICBpZiAoIXNjYWxlLl9jYWNoZS4kYmFyKSB7XG4gICAgY29uc3QgdmlzaWJsZU1ldGFzID0gc2NhbGUuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXModHlwZSk7XG4gICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBpbGVuID0gdmlzaWJsZU1ldGFzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgdmFsdWVzID0gdmFsdWVzLmNvbmNhdCh2aXNpYmxlTWV0YXNbaV0uY29udHJvbGxlci5nZXRBbGxQYXJzZWRWYWx1ZXMoc2NhbGUpKTtcbiAgICB9XG4gICAgc2NhbGUuX2NhY2hlLiRiYXIgPSBfYXJyYXlVbmlxdWUodmFsdWVzLnNvcnQoKGEsIGIpID0+IGEgLSBiKSk7XG4gIH1cbiAgcmV0dXJuIHNjYWxlLl9jYWNoZS4kYmFyO1xufVxuZnVuY3Rpb24gY29tcHV0ZU1pblNhbXBsZVNpemUobWV0YSkge1xuICBjb25zdCBzY2FsZSA9IG1ldGEuaVNjYWxlO1xuICBjb25zdCB2YWx1ZXMgPSBnZXRBbGxTY2FsZVZhbHVlcyhzY2FsZSwgbWV0YS50eXBlKTtcbiAgbGV0IG1pbiA9IHNjYWxlLl9sZW5ndGg7XG4gIGxldCBpLCBpbGVuLCBjdXJyLCBwcmV2O1xuICBjb25zdCB1cGRhdGVNaW5BbmRQcmV2ID0gKCkgPT4ge1xuICAgIGlmIChjdXJyID09PSAzMjc2NyB8fCBjdXJyID09PSAtMzI3NjgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRlZmluZWQocHJldikpIHtcbiAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgTWF0aC5hYnMoY3VyciAtIHByZXYpIHx8IG1pbik7XG4gICAgfVxuICAgIHByZXYgPSBjdXJyO1xuICB9O1xuICBmb3IgKGkgPSAwLCBpbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGN1cnIgPSBzY2FsZS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlc1tpXSk7XG4gICAgdXBkYXRlTWluQW5kUHJldigpO1xuICB9XG4gIHByZXYgPSB1bmRlZmluZWQ7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBzY2FsZS50aWNrcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBjdXJyID0gc2NhbGUuZ2V0UGl4ZWxGb3JUaWNrKGkpO1xuICAgIHVwZGF0ZU1pbkFuZFByZXYoKTtcbiAgfVxuICByZXR1cm4gbWluO1xufVxuZnVuY3Rpb24gY29tcHV0ZUZpdENhdGVnb3J5VHJhaXRzKGluZGV4LCBydWxlciwgb3B0aW9ucywgc3RhY2tDb3VudCkge1xuICBjb25zdCB0aGlja25lc3MgPSBvcHRpb25zLmJhclRoaWNrbmVzcztcbiAgbGV0IHNpemUsIHJhdGlvO1xuICBpZiAoaXNOdWxsT3JVbmRlZih0aGlja25lc3MpKSB7XG4gICAgc2l6ZSA9IHJ1bGVyLm1pbiAqIG9wdGlvbnMuY2F0ZWdvcnlQZXJjZW50YWdlO1xuICAgIHJhdGlvID0gb3B0aW9ucy5iYXJQZXJjZW50YWdlO1xuICB9IGVsc2Uge1xuICAgIHNpemUgPSB0aGlja25lc3MgKiBzdGFja0NvdW50O1xuICAgIHJhdGlvID0gMTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNodW5rOiBzaXplIC8gc3RhY2tDb3VudCxcbiAgICByYXRpbyxcbiAgICBzdGFydDogcnVsZXIucGl4ZWxzW2luZGV4XSAtIChzaXplIC8gMilcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVGbGV4Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KSB7XG4gIGNvbnN0IHBpeGVscyA9IHJ1bGVyLnBpeGVscztcbiAgY29uc3QgY3VyciA9IHBpeGVsc1tpbmRleF07XG4gIGxldCBwcmV2ID0gaW5kZXggPiAwID8gcGl4ZWxzW2luZGV4IC0gMV0gOiBudWxsO1xuICBsZXQgbmV4dCA9IGluZGV4IDwgcGl4ZWxzLmxlbmd0aCAtIDEgPyBwaXhlbHNbaW5kZXggKyAxXSA6IG51bGw7XG4gIGNvbnN0IHBlcmNlbnQgPSBvcHRpb25zLmNhdGVnb3J5UGVyY2VudGFnZTtcbiAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICBwcmV2ID0gY3VyciAtIChuZXh0ID09PSBudWxsID8gcnVsZXIuZW5kIC0gcnVsZXIuc3RhcnQgOiBuZXh0IC0gY3Vycik7XG4gIH1cbiAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICBuZXh0ID0gY3VyciArIGN1cnIgLSBwcmV2O1xuICB9XG4gIGNvbnN0IHN0YXJ0ID0gY3VyciAtIChjdXJyIC0gTWF0aC5taW4ocHJldiwgbmV4dCkpIC8gMiAqIHBlcmNlbnQ7XG4gIGNvbnN0IHNpemUgPSBNYXRoLmFicyhuZXh0IC0gcHJldikgLyAyICogcGVyY2VudDtcbiAgcmV0dXJuIHtcbiAgICBjaHVuazogc2l6ZSAvIHN0YWNrQ291bnQsXG4gICAgcmF0aW86IG9wdGlvbnMuYmFyUGVyY2VudGFnZSxcbiAgICBzdGFydFxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VGbG9hdEJhcihlbnRyeSwgaXRlbSwgdlNjYWxlLCBpKSB7XG4gIGNvbnN0IHN0YXJ0VmFsdWUgPSB2U2NhbGUucGFyc2UoZW50cnlbMF0sIGkpO1xuICBjb25zdCBlbmRWYWx1ZSA9IHZTY2FsZS5wYXJzZShlbnRyeVsxXSwgaSk7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgoc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICBsZXQgYmFyU3RhcnQgPSBtaW47XG4gIGxldCBiYXJFbmQgPSBtYXg7XG4gIGlmIChNYXRoLmFicyhtaW4pID4gTWF0aC5hYnMobWF4KSkge1xuICAgIGJhclN0YXJ0ID0gbWF4O1xuICAgIGJhckVuZCA9IG1pbjtcbiAgfVxuICBpdGVtW3ZTY2FsZS5heGlzXSA9IGJhckVuZDtcbiAgaXRlbS5fY3VzdG9tID0ge1xuICAgIGJhclN0YXJ0LFxuICAgIGJhckVuZCxcbiAgICBzdGFydDogc3RhcnRWYWx1ZSxcbiAgICBlbmQ6IGVuZFZhbHVlLFxuICAgIG1pbixcbiAgICBtYXhcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlVmFsdWUoZW50cnksIGl0ZW0sIHZTY2FsZSwgaSkge1xuICBpZiAoaXNBcnJheShlbnRyeSkpIHtcbiAgICBwYXJzZUZsb2F0QmFyKGVudHJ5LCBpdGVtLCB2U2NhbGUsIGkpO1xuICB9IGVsc2Uge1xuICAgIGl0ZW1bdlNjYWxlLmF4aXNdID0gdlNjYWxlLnBhcnNlKGVudHJ5LCBpKTtcbiAgfVxuICByZXR1cm4gaXRlbTtcbn1cbmZ1bmN0aW9uIHBhcnNlQXJyYXlPclByaW1pdGl2ZShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgY29uc3QgaVNjYWxlID0gbWV0YS5pU2NhbGU7XG4gIGNvbnN0IHZTY2FsZSA9IG1ldGEudlNjYWxlO1xuICBjb25zdCBsYWJlbHMgPSBpU2NhbGUuZ2V0TGFiZWxzKCk7XG4gIGNvbnN0IHNpbmdsZVNjYWxlID0gaVNjYWxlID09PSB2U2NhbGU7XG4gIGNvbnN0IHBhcnNlZCA9IFtdO1xuICBsZXQgaSwgaWxlbiwgaXRlbSwgZW50cnk7XG4gIGZvciAoaSA9IHN0YXJ0LCBpbGVuID0gc3RhcnQgKyBjb3VudDsgaSA8IGlsZW47ICsraSkge1xuICAgIGVudHJ5ID0gZGF0YVtpXTtcbiAgICBpdGVtID0ge307XG4gICAgaXRlbVtpU2NhbGUuYXhpc10gPSBzaW5nbGVTY2FsZSB8fCBpU2NhbGUucGFyc2UobGFiZWxzW2ldLCBpKTtcbiAgICBwYXJzZWQucHVzaChwYXJzZVZhbHVlKGVudHJ5LCBpdGVtLCB2U2NhbGUsIGkpKTtcbiAgfVxuICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24gaXNGbG9hdEJhcihjdXN0b20pIHtcbiAgcmV0dXJuIGN1c3RvbSAmJiBjdXN0b20uYmFyU3RhcnQgIT09IHVuZGVmaW5lZCAmJiBjdXN0b20uYmFyRW5kICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBiYXJTaWduKHNpemUsIHZTY2FsZSwgYWN0dWFsQmFzZSkge1xuICBpZiAoc2l6ZSAhPT0gMCkge1xuICAgIHJldHVybiBzaWduKHNpemUpO1xuICB9XG4gIHJldHVybiAodlNjYWxlLmlzSG9yaXpvbnRhbCgpID8gMSA6IC0xKSAqICh2U2NhbGUubWluID49IGFjdHVhbEJhc2UgPyAxIDogLTEpO1xufVxuZnVuY3Rpb24gYm9yZGVyUHJvcHMocHJvcGVydGllcykge1xuICBsZXQgcmV2ZXJzZSwgc3RhcnQsIGVuZCwgdG9wLCBib3R0b207XG4gIGlmIChwcm9wZXJ0aWVzLmhvcml6b250YWwpIHtcbiAgICByZXZlcnNlID0gcHJvcGVydGllcy5iYXNlID4gcHJvcGVydGllcy54O1xuICAgIHN0YXJ0ID0gJ2xlZnQnO1xuICAgIGVuZCA9ICdyaWdodCc7XG4gIH0gZWxzZSB7XG4gICAgcmV2ZXJzZSA9IHByb3BlcnRpZXMuYmFzZSA8IHByb3BlcnRpZXMueTtcbiAgICBzdGFydCA9ICdib3R0b20nO1xuICAgIGVuZCA9ICd0b3AnO1xuICB9XG4gIGlmIChyZXZlcnNlKSB7XG4gICAgdG9wID0gJ2VuZCc7XG4gICAgYm90dG9tID0gJ3N0YXJ0JztcbiAgfSBlbHNlIHtcbiAgICB0b3AgPSAnc3RhcnQnO1xuICAgIGJvdHRvbSA9ICdlbmQnO1xuICB9XG4gIHJldHVybiB7c3RhcnQsIGVuZCwgcmV2ZXJzZSwgdG9wLCBib3R0b219O1xufVxuZnVuY3Rpb24gc2V0Qm9yZGVyU2tpcHBlZChwcm9wZXJ0aWVzLCBvcHRpb25zLCBzdGFjaywgaW5kZXgpIHtcbiAgbGV0IGVkZ2UgPSBvcHRpb25zLmJvcmRlclNraXBwZWQ7XG4gIGNvbnN0IHJlcyA9IHt9O1xuICBpZiAoIWVkZ2UpIHtcbiAgICBwcm9wZXJ0aWVzLmJvcmRlclNraXBwZWQgPSByZXM7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChlZGdlID09PSB0cnVlKSB7XG4gICAgcHJvcGVydGllcy5ib3JkZXJTa2lwcGVkID0ge3RvcDogdHJ1ZSwgcmlnaHQ6IHRydWUsIGJvdHRvbTogdHJ1ZSwgbGVmdDogdHJ1ZX07XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHtzdGFydCwgZW5kLCByZXZlcnNlLCB0b3AsIGJvdHRvbX0gPSBib3JkZXJQcm9wcyhwcm9wZXJ0aWVzKTtcbiAgaWYgKGVkZ2UgPT09ICdtaWRkbGUnICYmIHN0YWNrKSB7XG4gICAgcHJvcGVydGllcy5lbmFibGVCb3JkZXJSYWRpdXMgPSB0cnVlO1xuICAgIGlmICgoc3RhY2suX3RvcCB8fCAwKSA9PT0gaW5kZXgpIHtcbiAgICAgIGVkZ2UgPSB0b3A7XG4gICAgfSBlbHNlIGlmICgoc3RhY2suX2JvdHRvbSB8fCAwKSA9PT0gaW5kZXgpIHtcbiAgICAgIGVkZ2UgPSBib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc1twYXJzZUVkZ2UoYm90dG9tLCBzdGFydCwgZW5kLCByZXZlcnNlKV0gPSB0cnVlO1xuICAgICAgZWRnZSA9IHRvcDtcbiAgICB9XG4gIH1cbiAgcmVzW3BhcnNlRWRnZShlZGdlLCBzdGFydCwgZW5kLCByZXZlcnNlKV0gPSB0cnVlO1xuICBwcm9wZXJ0aWVzLmJvcmRlclNraXBwZWQgPSByZXM7XG59XG5mdW5jdGlvbiBwYXJzZUVkZ2UoZWRnZSwgYSwgYiwgcmV2ZXJzZSkge1xuICBpZiAocmV2ZXJzZSkge1xuICAgIGVkZ2UgPSBzd2FwKGVkZ2UsIGEsIGIpO1xuICAgIGVkZ2UgPSBzdGFydEVuZChlZGdlLCBiLCBhKTtcbiAgfSBlbHNlIHtcbiAgICBlZGdlID0gc3RhcnRFbmQoZWRnZSwgYSwgYik7XG4gIH1cbiAgcmV0dXJuIGVkZ2U7XG59XG5mdW5jdGlvbiBzd2FwKG9yaWcsIHYxLCB2Mikge1xuICByZXR1cm4gb3JpZyA9PT0gdjEgPyB2MiA6IG9yaWcgPT09IHYyID8gdjEgOiBvcmlnO1xufVxuZnVuY3Rpb24gc3RhcnRFbmQodiwgc3RhcnQsIGVuZCkge1xuICByZXR1cm4gdiA9PT0gJ3N0YXJ0JyA/IHN0YXJ0IDogdiA9PT0gJ2VuZCcgPyBlbmQgOiB2O1xufVxuZnVuY3Rpb24gc2V0SW5mbGF0ZUFtb3VudChwcm9wZXJ0aWVzLCB7aW5mbGF0ZUFtb3VudH0sIHJhdGlvKSB7XG4gIHByb3BlcnRpZXMuaW5mbGF0ZUFtb3VudCA9IGluZmxhdGVBbW91bnQgPT09ICdhdXRvJ1xuICAgID8gcmF0aW8gPT09IDEgPyAwLjMzIDogMFxuICAgIDogaW5mbGF0ZUFtb3VudDtcbn1cbmNsYXNzIEJhckNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIHBhcnNlUHJpbWl0aXZlRGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICByZXR1cm4gcGFyc2VBcnJheU9yUHJpbWl0aXZlKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gIH1cbiAgcGFyc2VBcnJheURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgcmV0dXJuIHBhcnNlQXJyYXlPclByaW1pdGl2ZShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICB9XG4gIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCB7aVNjYWxlLCB2U2NhbGV9ID0gbWV0YTtcbiAgICBjb25zdCB7eEF4aXNLZXkgPSAneCcsIHlBeGlzS2V5ID0gJ3knfSA9IHRoaXMuX3BhcnNpbmc7XG4gICAgY29uc3QgaUF4aXNLZXkgPSBpU2NhbGUuYXhpcyA9PT0gJ3gnID8geEF4aXNLZXkgOiB5QXhpc0tleTtcbiAgICBjb25zdCB2QXhpc0tleSA9IHZTY2FsZS5heGlzID09PSAneCcgPyB4QXhpc0tleSA6IHlBeGlzS2V5O1xuICAgIGNvbnN0IHBhcnNlZCA9IFtdO1xuICAgIGxldCBpLCBpbGVuLCBpdGVtLCBvYmo7XG4gICAgZm9yIChpID0gc3RhcnQsIGlsZW4gPSBzdGFydCArIGNvdW50OyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBvYmogPSBkYXRhW2ldO1xuICAgICAgaXRlbSA9IHt9O1xuICAgICAgaXRlbVtpU2NhbGUuYXhpc10gPSBpU2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShvYmosIGlBeGlzS2V5KSwgaSk7XG4gICAgICBwYXJzZWQucHVzaChwYXJzZVZhbHVlKHJlc29sdmVPYmplY3RLZXkob2JqLCB2QXhpc0tleSksIGl0ZW0sIHZTY2FsZSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIHVwZGF0ZVJhbmdlRnJvbVBhcnNlZChyYW5nZSwgc2NhbGUsIHBhcnNlZCwgc3RhY2spIHtcbiAgICBzdXBlci51cGRhdGVSYW5nZUZyb21QYXJzZWQocmFuZ2UsIHNjYWxlLCBwYXJzZWQsIHN0YWNrKTtcbiAgICBjb25zdCBjdXN0b20gPSBwYXJzZWQuX2N1c3RvbTtcbiAgICBpZiAoY3VzdG9tICYmIHNjYWxlID09PSB0aGlzLl9jYWNoZWRNZXRhLnZTY2FsZSkge1xuICAgICAgcmFuZ2UubWluID0gTWF0aC5taW4ocmFuZ2UubWluLCBjdXN0b20ubWluKTtcbiAgICAgIHJhbmdlLm1heCA9IE1hdGgubWF4KHJhbmdlLm1heCwgY3VzdG9tLm1heCk7XG4gICAgfVxuICB9XG4gIGdldE1heE92ZXJmbG93KCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGdldExhYmVsQW5kVmFsdWUoaW5kZXgpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCB7aVNjYWxlLCB2U2NhbGV9ID0gbWV0YTtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgY29uc3QgY3VzdG9tID0gcGFyc2VkLl9jdXN0b207XG4gICAgY29uc3QgdmFsdWUgPSBpc0Zsb2F0QmFyKGN1c3RvbSlcbiAgICAgID8gJ1snICsgY3VzdG9tLnN0YXJ0ICsgJywgJyArIGN1c3RvbS5lbmQgKyAnXSdcbiAgICAgIDogJycgKyB2U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbdlNjYWxlLmF4aXNdKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6ICcnICsgaVNjYWxlLmdldExhYmVsRm9yVmFsdWUocGFyc2VkW2lTY2FsZS5heGlzXSksXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSB0cnVlO1xuICAgIHN1cGVyLmluaXRpYWxpemUoKTtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBtZXRhLnN0YWNrID0gdGhpcy5nZXREYXRhc2V0KCkuc3RhY2s7XG4gIH1cbiAgdXBkYXRlKG1vZGUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKG1ldGEuZGF0YSwgMCwgbWV0YS5kYXRhLmxlbmd0aCwgbW9kZSk7XG4gIH1cbiAgdXBkYXRlRWxlbWVudHMoYmFycywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgIGNvbnN0IHtpbmRleCwgX2NhY2hlZE1ldGE6IHt2U2NhbGV9fSA9IHRoaXM7XG4gICAgY29uc3QgYmFzZSA9IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKTtcbiAgICBjb25zdCBob3Jpem9udGFsID0gdlNjYWxlLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHJ1bGVyID0gdGhpcy5fZ2V0UnVsZXIoKTtcbiAgICBjb25zdCB7c2hhcmVkT3B0aW9ucywgaW5jbHVkZU9wdGlvbnN9ID0gdGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpKTtcbiAgICAgIGNvbnN0IHZwaXhlbHMgPSByZXNldCB8fCBpc051bGxPclVuZGVmKHBhcnNlZFt2U2NhbGUuYXhpc10pID8ge2Jhc2UsIGhlYWQ6IGJhc2V9IDogdGhpcy5fY2FsY3VsYXRlQmFyVmFsdWVQaXhlbHMoaSk7XG4gICAgICBjb25zdCBpcGl4ZWxzID0gdGhpcy5fY2FsY3VsYXRlQmFySW5kZXhQaXhlbHMoaSwgcnVsZXIpO1xuICAgICAgY29uc3Qgc3RhY2sgPSAocGFyc2VkLl9zdGFja3MgfHwge30pW3ZTY2FsZS5heGlzXTtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGhvcml6b250YWwsXG4gICAgICAgIGJhc2U6IHZwaXhlbHMuYmFzZSxcbiAgICAgICAgZW5hYmxlQm9yZGVyUmFkaXVzOiAhc3RhY2sgfHwgaXNGbG9hdEJhcihwYXJzZWQuX2N1c3RvbSkgfHwgKGluZGV4ID09PSBzdGFjay5fdG9wIHx8IGluZGV4ID09PSBzdGFjay5fYm90dG9tKSxcbiAgICAgICAgeDogaG9yaXpvbnRhbCA/IHZwaXhlbHMuaGVhZCA6IGlwaXhlbHMuY2VudGVyLFxuICAgICAgICB5OiBob3Jpem9udGFsID8gaXBpeGVscy5jZW50ZXIgOiB2cGl4ZWxzLmhlYWQsXG4gICAgICAgIGhlaWdodDogaG9yaXpvbnRhbCA/IGlwaXhlbHMuc2l6ZSA6IE1hdGguYWJzKHZwaXhlbHMuc2l6ZSksXG4gICAgICAgIHdpZHRoOiBob3Jpem9udGFsID8gTWF0aC5hYnModnBpeGVscy5zaXplKSA6IGlwaXhlbHMuc2l6ZVxuICAgICAgfTtcbiAgICAgIGlmIChpbmNsdWRlT3B0aW9ucykge1xuICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBiYXJzW2ldLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSk7XG4gICAgICB9XG4gICAgICBjb25zdCBvcHRpb25zID0gcHJvcGVydGllcy5vcHRpb25zIHx8IGJhcnNbaV0ub3B0aW9ucztcbiAgICAgIHNldEJvcmRlclNraXBwZWQocHJvcGVydGllcywgb3B0aW9ucywgc3RhY2ssIGluZGV4KTtcbiAgICAgIHNldEluZmxhdGVBbW91bnQocHJvcGVydGllcywgb3B0aW9ucywgcnVsZXIucmF0aW8pO1xuICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGJhcnNbaV0sIGksIHByb3BlcnRpZXMsIG1vZGUpO1xuICAgIH1cbiAgfVxuICBfZ2V0U3RhY2tzKGxhc3QsIGRhdGFJbmRleCkge1xuICAgIGNvbnN0IHtpU2NhbGV9ID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBtZXRhc2V0cyA9IGlTY2FsZS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0aGlzLl90eXBlKVxuICAgICAgLmZpbHRlcihtZXRhID0+IG1ldGEuY29udHJvbGxlci5vcHRpb25zLmdyb3VwZWQpO1xuICAgIGNvbnN0IHN0YWNrZWQgPSBpU2NhbGUub3B0aW9ucy5zdGFja2VkO1xuICAgIGNvbnN0IHN0YWNrcyA9IFtdO1xuICAgIGNvbnN0IHNraXBOdWxsID0gKG1ldGEpID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IG1ldGEuY29udHJvbGxlci5nZXRQYXJzZWQoZGF0YUluZGV4KTtcbiAgICAgIGNvbnN0IHZhbCA9IHBhcnNlZCAmJiBwYXJzZWRbbWV0YS52U2NhbGUuYXhpc107XG4gICAgICBpZiAoaXNOdWxsT3JVbmRlZih2YWwpIHx8IGlzTmFOKHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IG1ldGEgb2YgbWV0YXNldHMpIHtcbiAgICAgIGlmIChkYXRhSW5kZXggIT09IHVuZGVmaW5lZCAmJiBza2lwTnVsbChtZXRhKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFja2VkID09PSBmYWxzZSB8fCBzdGFja3MuaW5kZXhPZihtZXRhLnN0YWNrKSA9PT0gLTEgfHxcblx0XHRcdFx0KHN0YWNrZWQgPT09IHVuZGVmaW5lZCAmJiBtZXRhLnN0YWNrID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHN0YWNrcy5wdXNoKG1ldGEuc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKG1ldGEuaW5kZXggPT09IGxhc3QpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc3RhY2tzLmxlbmd0aCkge1xuICAgICAgc3RhY2tzLnB1c2godW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YWNrcztcbiAgfVxuICBfZ2V0U3RhY2tDb3VudChpbmRleCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRTdGFja3ModW5kZWZpbmVkLCBpbmRleCkubGVuZ3RoO1xuICB9XG4gIF9nZXRTdGFja0luZGV4KGRhdGFzZXRJbmRleCwgbmFtZSwgZGF0YUluZGV4KSB7XG4gICAgY29uc3Qgc3RhY2tzID0gdGhpcy5fZ2V0U3RhY2tzKGRhdGFzZXRJbmRleCwgZGF0YUluZGV4KTtcbiAgICBjb25zdCBpbmRleCA9IChuYW1lICE9PSB1bmRlZmluZWQpXG4gICAgICA/IHN0YWNrcy5pbmRleE9mKG5hbWUpXG4gICAgICA6IC0xO1xuICAgIHJldHVybiAoaW5kZXggPT09IC0xKVxuICAgICAgPyBzdGFja3MubGVuZ3RoIC0gMVxuICAgICAgOiBpbmRleDtcbiAgfVxuICBfZ2V0UnVsZXIoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBpU2NhbGUgPSBtZXRhLmlTY2FsZTtcbiAgICBjb25zdCBwaXhlbHMgPSBbXTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gbWV0YS5kYXRhLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgcGl4ZWxzLnB1c2goaVNjYWxlLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoaSlbaVNjYWxlLmF4aXNdLCBpKSk7XG4gICAgfVxuICAgIGNvbnN0IGJhclRoaWNrbmVzcyA9IG9wdHMuYmFyVGhpY2tuZXNzO1xuICAgIGNvbnN0IG1pbiA9IGJhclRoaWNrbmVzcyB8fCBjb21wdXRlTWluU2FtcGxlU2l6ZShtZXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWluLFxuICAgICAgcGl4ZWxzLFxuICAgICAgc3RhcnQ6IGlTY2FsZS5fc3RhcnRQaXhlbCxcbiAgICAgIGVuZDogaVNjYWxlLl9lbmRQaXhlbCxcbiAgICAgIHN0YWNrQ291bnQ6IHRoaXMuX2dldFN0YWNrQ291bnQoKSxcbiAgICAgIHNjYWxlOiBpU2NhbGUsXG4gICAgICBncm91cGVkOiBvcHRzLmdyb3VwZWQsXG4gICAgICByYXRpbzogYmFyVGhpY2tuZXNzID8gMSA6IG9wdHMuY2F0ZWdvcnlQZXJjZW50YWdlICogb3B0cy5iYXJQZXJjZW50YWdlXG4gICAgfTtcbiAgfVxuICBfY2FsY3VsYXRlQmFyVmFsdWVQaXhlbHMoaW5kZXgpIHtcbiAgICBjb25zdCB7X2NhY2hlZE1ldGE6IHt2U2NhbGUsIF9zdGFja2VkfSwgb3B0aW9uczoge2Jhc2U6IGJhc2VWYWx1ZSwgbWluQmFyTGVuZ3RofX0gPSB0aGlzO1xuICAgIGNvbnN0IGFjdHVhbEJhc2UgPSBiYXNlVmFsdWUgfHwgMDtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgY29uc3QgY3VzdG9tID0gcGFyc2VkLl9jdXN0b207XG4gICAgY29uc3QgZmxvYXRpbmcgPSBpc0Zsb2F0QmFyKGN1c3RvbSk7XG4gICAgbGV0IHZhbHVlID0gcGFyc2VkW3ZTY2FsZS5heGlzXTtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBsZW5ndGggPSBfc3RhY2tlZCA/IHRoaXMuYXBwbHlTdGFjayh2U2NhbGUsIHBhcnNlZCwgX3N0YWNrZWQpIDogdmFsdWU7XG4gICAgbGV0IGhlYWQsIHNpemU7XG4gICAgaWYgKGxlbmd0aCAhPT0gdmFsdWUpIHtcbiAgICAgIHN0YXJ0ID0gbGVuZ3RoIC0gdmFsdWU7XG4gICAgICBsZW5ndGggPSB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGZsb2F0aW5nKSB7XG4gICAgICB2YWx1ZSA9IGN1c3RvbS5iYXJTdGFydDtcbiAgICAgIGxlbmd0aCA9IGN1c3RvbS5iYXJFbmQgLSBjdXN0b20uYmFyU3RhcnQ7XG4gICAgICBpZiAodmFsdWUgIT09IDAgJiYgc2lnbih2YWx1ZSkgIT09IHNpZ24oY3VzdG9tLmJhckVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgfVxuICAgICAgc3RhcnQgKz0gdmFsdWU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSAhaXNOdWxsT3JVbmRlZihiYXNlVmFsdWUpICYmICFmbG9hdGluZyA/IGJhc2VWYWx1ZSA6IHN0YXJ0O1xuICAgIGxldCBiYXNlID0gdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoc3RhcnRWYWx1ZSk7XG4gICAgaWYgKHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICBoZWFkID0gdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoc3RhcnQgKyBsZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkID0gYmFzZTtcbiAgICB9XG4gICAgc2l6ZSA9IGhlYWQgLSBiYXNlO1xuICAgIGlmIChNYXRoLmFicyhzaXplKSA8IG1pbkJhckxlbmd0aCkge1xuICAgICAgc2l6ZSA9IGJhclNpZ24oc2l6ZSwgdlNjYWxlLCBhY3R1YWxCYXNlKSAqIG1pbkJhckxlbmd0aDtcbiAgICAgIGlmICh2YWx1ZSA9PT0gYWN0dWFsQmFzZSkge1xuICAgICAgICBiYXNlIC09IHNpemUgLyAyO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhcnRQaXhlbCA9IHZTY2FsZS5nZXRQaXhlbEZvckRlY2ltYWwoMCk7XG4gICAgICBjb25zdCBlbmRQaXhlbCA9IHZTY2FsZS5nZXRQaXhlbEZvckRlY2ltYWwoMSk7XG4gICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFBpeGVsLCBlbmRQaXhlbCk7XG4gICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFBpeGVsLCBlbmRQaXhlbCk7XG4gICAgICBiYXNlID0gTWF0aC5tYXgoTWF0aC5taW4oYmFzZSwgbWF4KSwgbWluKTtcbiAgICAgIGhlYWQgPSBiYXNlICsgc2l6ZTtcbiAgICB9XG4gICAgaWYgKGJhc2UgPT09IHZTY2FsZS5nZXRQaXhlbEZvclZhbHVlKGFjdHVhbEJhc2UpKSB7XG4gICAgICBjb25zdCBoYWxmR3JpZCA9IHNpZ24oc2l6ZSkgKiB2U2NhbGUuZ2V0TGluZVdpZHRoRm9yVmFsdWUoYWN0dWFsQmFzZSkgLyAyO1xuICAgICAgYmFzZSArPSBoYWxmR3JpZDtcbiAgICAgIHNpemUgLT0gaGFsZkdyaWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzaXplLFxuICAgICAgYmFzZSxcbiAgICAgIGhlYWQsXG4gICAgICBjZW50ZXI6IGhlYWQgKyBzaXplIC8gMlxuICAgIH07XG4gIH1cbiAgX2NhbGN1bGF0ZUJhckluZGV4UGl4ZWxzKGluZGV4LCBydWxlcikge1xuICAgIGNvbnN0IHNjYWxlID0gcnVsZXIuc2NhbGU7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBza2lwTnVsbCA9IG9wdGlvbnMuc2tpcE51bGw7XG4gICAgY29uc3QgbWF4QmFyVGhpY2tuZXNzID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5tYXhCYXJUaGlja25lc3MsIEluZmluaXR5KTtcbiAgICBsZXQgY2VudGVyLCBzaXplO1xuICAgIGlmIChydWxlci5ncm91cGVkKSB7XG4gICAgICBjb25zdCBzdGFja0NvdW50ID0gc2tpcE51bGwgPyB0aGlzLl9nZXRTdGFja0NvdW50KGluZGV4KSA6IHJ1bGVyLnN0YWNrQ291bnQ7XG4gICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMuYmFyVGhpY2tuZXNzID09PSAnZmxleCdcbiAgICAgICAgPyBjb21wdXRlRmxleENhdGVnb3J5VHJhaXRzKGluZGV4LCBydWxlciwgb3B0aW9ucywgc3RhY2tDb3VudClcbiAgICAgICAgOiBjb21wdXRlRml0Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KTtcbiAgICAgIGNvbnN0IHN0YWNrSW5kZXggPSB0aGlzLl9nZXRTdGFja0luZGV4KHRoaXMuaW5kZXgsIHRoaXMuX2NhY2hlZE1ldGEuc3RhY2ssIHNraXBOdWxsID8gaW5kZXggOiB1bmRlZmluZWQpO1xuICAgICAgY2VudGVyID0gcmFuZ2Uuc3RhcnQgKyAocmFuZ2UuY2h1bmsgKiBzdGFja0luZGV4KSArIChyYW5nZS5jaHVuayAvIDIpO1xuICAgICAgc2l6ZSA9IE1hdGgubWluKG1heEJhclRoaWNrbmVzcywgcmFuZ2UuY2h1bmsgKiByYW5nZS5yYXRpbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNlbnRlciA9IHNjYWxlLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoaW5kZXgpW3NjYWxlLmF4aXNdLCBpbmRleCk7XG4gICAgICBzaXplID0gTWF0aC5taW4obWF4QmFyVGhpY2tuZXNzLCBydWxlci5taW4gKiBydWxlci5yYXRpbyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBiYXNlOiBjZW50ZXIgLSBzaXplIC8gMixcbiAgICAgIGhlYWQ6IGNlbnRlciArIHNpemUgLyAyLFxuICAgICAgY2VudGVyLFxuICAgICAgc2l6ZVxuICAgIH07XG4gIH1cbiAgZHJhdygpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCB2U2NhbGUgPSBtZXRhLnZTY2FsZTtcbiAgICBjb25zdCByZWN0cyA9IG1ldGEuZGF0YTtcbiAgICBjb25zdCBpbGVuID0gcmVjdHMubGVuZ3RoO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgaWYgKHRoaXMuZ2V0UGFyc2VkKGkpW3ZTY2FsZS5heGlzXSAhPT0gbnVsbCkge1xuICAgICAgICByZWN0c1tpXS5kcmF3KHRoaXMuX2N0eCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5CYXJDb250cm9sbGVyLmlkID0gJ2Jhcic7XG5CYXJDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6IGZhbHNlLFxuICBkYXRhRWxlbWVudFR5cGU6ICdiYXInLFxuICBjYXRlZ29yeVBlcmNlbnRhZ2U6IDAuOCxcbiAgYmFyUGVyY2VudGFnZTogMC45LFxuICBncm91cGVkOiB0cnVlLFxuICBhbmltYXRpb25zOiB7XG4gICAgbnVtYmVyczoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBwcm9wZXJ0aWVzOiBbJ3gnLCAneScsICdiYXNlJywgJ3dpZHRoJywgJ2hlaWdodCddXG4gICAgfVxuICB9XG59O1xuQmFyQ29udHJvbGxlci5vdmVycmlkZXMgPSB7XG4gIHNjYWxlczoge1xuICAgIF9pbmRleF86IHtcbiAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICBvZmZzZXQ6IHRydWUsXG4gICAgICBncmlkOiB7XG4gICAgICAgIG9mZnNldDogdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgX3ZhbHVlXzoge1xuICAgICAgdHlwZTogJ2xpbmVhcicsXG4gICAgICBiZWdpbkF0WmVybzogdHJ1ZSxcbiAgICB9XG4gIH1cbn07XG5cbmNsYXNzIEJ1YmJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nID0gdHJ1ZTtcbiAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gIH1cbiAgcGFyc2VQcmltaXRpdmVEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHBhcnNlZCA9IHN1cGVyLnBhcnNlUHJpbWl0aXZlRGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXJzZWRbaV0uX2N1c3RvbSA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpICsgc3RhcnQpLnJhZGl1cztcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuICBwYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBzdXBlci5wYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyc2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gZGF0YVtzdGFydCArIGldO1xuICAgICAgcGFyc2VkW2ldLl9jdXN0b20gPSB2YWx1ZU9yRGVmYXVsdChpdGVtWzJdLCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSArIHN0YXJ0KS5yYWRpdXMpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VkO1xuICB9XG4gIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCBwYXJzZWQgPSBzdXBlci5wYXJzZU9iamVjdERhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGRhdGFbc3RhcnQgKyBpXTtcbiAgICAgIHBhcnNlZFtpXS5fY3VzdG9tID0gdmFsdWVPckRlZmF1bHQoaXRlbSAmJiBpdGVtLnIgJiYgK2l0ZW0uciwgdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkgKyBzdGFydCkucmFkaXVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuICBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAobGV0IGkgPSBkYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBtYXggPSBNYXRoLm1heChtYXgsIGRhdGFbaV0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSkpIC8gMik7XG4gICAgfVxuICAgIHJldHVybiBtYXggPiAwICYmIG1heDtcbiAgfVxuICBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3Qge3hTY2FsZSwgeVNjYWxlfSA9IG1ldGE7XG4gICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgIGNvbnN0IHggPSB4U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWQueCk7XG4gICAgY29uc3QgeSA9IHlTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZC55KTtcbiAgICBjb25zdCByID0gcGFyc2VkLl9jdXN0b207XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiBtZXRhLmxhYmVsLFxuICAgICAgdmFsdWU6ICcoJyArIHggKyAnLCAnICsgeSArIChyID8gJywgJyArIHIgOiAnJykgKyAnKSdcbiAgICB9O1xuICB9XG4gIHVwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgcG9pbnRzID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhO1xuICAgIHRoaXMudXBkYXRlRWxlbWVudHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBtb2RlKTtcbiAgfVxuICB1cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBjb25zdCB7aVNjYWxlLCB2U2NhbGV9ID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCB7c2hhcmVkT3B0aW9ucywgaW5jbHVkZU9wdGlvbnN9ID0gdGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICBjb25zdCB2QXhpcyA9IHZTY2FsZS5heGlzO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICBjb25zdCBwYXJzZWQgPSAhcmVzZXQgJiYgdGhpcy5nZXRQYXJzZWQoaSk7XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG4gICAgICBjb25zdCBpUGl4ZWwgPSBwcm9wZXJ0aWVzW2lBeGlzXSA9IHJlc2V0ID8gaVNjYWxlLmdldFBpeGVsRm9yRGVjaW1hbCgwLjUpIDogaVNjYWxlLmdldFBpeGVsRm9yVmFsdWUocGFyc2VkW2lBeGlzXSk7XG4gICAgICBjb25zdCB2UGl4ZWwgPSBwcm9wZXJ0aWVzW3ZBeGlzXSA9IHJlc2V0ID8gdlNjYWxlLmdldEJhc2VQaXhlbCgpIDogdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUocGFyc2VkW3ZBeGlzXSk7XG4gICAgICBwcm9wZXJ0aWVzLnNraXAgPSBpc05hTihpUGl4ZWwpIHx8IGlzTmFOKHZQaXhlbCk7XG4gICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgcG9pbnQuYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgcHJvcGVydGllcy5vcHRpb25zLnJhZGl1cyA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgfVxuICB9XG4gIHJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXgsIG1vZGUpIHtcbiAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgbGV0IHZhbHVlcyA9IHN1cGVyLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXgsIG1vZGUpO1xuICAgIGlmICh2YWx1ZXMuJHNoYXJlZCkge1xuICAgICAgdmFsdWVzID0gT2JqZWN0LmFzc2lnbih7fSwgdmFsdWVzLCB7JHNoYXJlZDogZmFsc2V9KTtcbiAgICB9XG4gICAgY29uc3QgcmFkaXVzID0gdmFsdWVzLnJhZGl1cztcbiAgICBpZiAobW9kZSAhPT0gJ2FjdGl2ZScpIHtcbiAgICAgIHZhbHVlcy5yYWRpdXMgPSAwO1xuICAgIH1cbiAgICB2YWx1ZXMucmFkaXVzICs9IHZhbHVlT3JEZWZhdWx0KHBhcnNlZCAmJiBwYXJzZWQuX2N1c3RvbSwgcmFkaXVzKTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG59XG5CdWJibGVDb250cm9sbGVyLmlkID0gJ2J1YmJsZSc7XG5CdWJibGVDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6IGZhbHNlLFxuICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gIGFuaW1hdGlvbnM6IHtcbiAgICBudW1iZXJzOiB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIHByb3BlcnRpZXM6IFsneCcsICd5JywgJ2JvcmRlcldpZHRoJywgJ3JhZGl1cyddXG4gICAgfVxuICB9XG59O1xuQnViYmxlQ29udHJvbGxlci5vdmVycmlkZXMgPSB7XG4gIHNjYWxlczoge1xuICAgIHg6IHtcbiAgICAgIHR5cGU6ICdsaW5lYXInXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICB0eXBlOiAnbGluZWFyJ1xuICAgIH1cbiAgfSxcbiAgcGx1Z2luczoge1xuICAgIHRvb2x0aXA6IHtcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICB0aXRsZSgpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldFJhdGlvQW5kT2Zmc2V0KHJvdGF0aW9uLCBjaXJjdW1mZXJlbmNlLCBjdXRvdXQpIHtcbiAgbGV0IHJhdGlvWCA9IDE7XG4gIGxldCByYXRpb1kgPSAxO1xuICBsZXQgb2Zmc2V0WCA9IDA7XG4gIGxldCBvZmZzZXRZID0gMDtcbiAgaWYgKGNpcmN1bWZlcmVuY2UgPCBUQVUpIHtcbiAgICBjb25zdCBzdGFydEFuZ2xlID0gcm90YXRpb247XG4gICAgY29uc3QgZW5kQW5nbGUgPSBzdGFydEFuZ2xlICsgY2lyY3VtZmVyZW5jZTtcbiAgICBjb25zdCBzdGFydFggPSBNYXRoLmNvcyhzdGFydEFuZ2xlKTtcbiAgICBjb25zdCBzdGFydFkgPSBNYXRoLnNpbihzdGFydEFuZ2xlKTtcbiAgICBjb25zdCBlbmRYID0gTWF0aC5jb3MoZW5kQW5nbGUpO1xuICAgIGNvbnN0IGVuZFkgPSBNYXRoLnNpbihlbmRBbmdsZSk7XG4gICAgY29uc3QgY2FsY01heCA9IChhbmdsZSwgYSwgYikgPT4gX2FuZ2xlQmV0d2VlbihhbmdsZSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIHRydWUpID8gMSA6IE1hdGgubWF4KGEsIGEgKiBjdXRvdXQsIGIsIGIgKiBjdXRvdXQpO1xuICAgIGNvbnN0IGNhbGNNaW4gPSAoYW5nbGUsIGEsIGIpID0+IF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCB0cnVlKSA/IC0xIDogTWF0aC5taW4oYSwgYSAqIGN1dG91dCwgYiwgYiAqIGN1dG91dCk7XG4gICAgY29uc3QgbWF4WCA9IGNhbGNNYXgoMCwgc3RhcnRYLCBlbmRYKTtcbiAgICBjb25zdCBtYXhZID0gY2FsY01heChIQUxGX1BJLCBzdGFydFksIGVuZFkpO1xuICAgIGNvbnN0IG1pblggPSBjYWxjTWluKFBJLCBzdGFydFgsIGVuZFgpO1xuICAgIGNvbnN0IG1pblkgPSBjYWxjTWluKFBJICsgSEFMRl9QSSwgc3RhcnRZLCBlbmRZKTtcbiAgICByYXRpb1ggPSAobWF4WCAtIG1pblgpIC8gMjtcbiAgICByYXRpb1kgPSAobWF4WSAtIG1pblkpIC8gMjtcbiAgICBvZmZzZXRYID0gLShtYXhYICsgbWluWCkgLyAyO1xuICAgIG9mZnNldFkgPSAtKG1heFkgKyBtaW5ZKSAvIDI7XG4gIH1cbiAgcmV0dXJuIHtyYXRpb1gsIHJhdGlvWSwgb2Zmc2V0WCwgb2Zmc2V0WX07XG59XG5jbGFzcyBEb3VnaG51dENvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNoYXJ0LCBkYXRhc2V0SW5kZXgpIHtcbiAgICBzdXBlcihjaGFydCwgZGF0YXNldEluZGV4KTtcbiAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSB0cnVlO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vdXRlclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm9mZnNldFggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vZmZzZXRZID0gdW5kZWZpbmVkO1xuICB9XG4gIGxpbmtTY2FsZXMoKSB7fVxuICBwYXJzZShzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5nZXREYXRhc2V0KCkuZGF0YTtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBpZiAodGhpcy5fcGFyc2luZyA9PT0gZmFsc2UpIHtcbiAgICAgIG1ldGEuX3BhcnNlZCA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBnZXR0ZXIgPSAoaSkgPT4gK2RhdGFbaV07XG4gICAgICBpZiAoaXNPYmplY3QoZGF0YVtzdGFydF0pKSB7XG4gICAgICAgIGNvbnN0IHtrZXkgPSAndmFsdWUnfSA9IHRoaXMuX3BhcnNpbmc7XG4gICAgICAgIGdldHRlciA9IChpKSA9PiArcmVzb2x2ZU9iamVjdEtleShkYXRhW2ldLCBrZXkpO1xuICAgICAgfVxuICAgICAgbGV0IGksIGlsZW47XG4gICAgICBmb3IgKGkgPSBzdGFydCwgaWxlbiA9IHN0YXJ0ICsgY291bnQ7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgICAgbWV0YS5fcGFyc2VkW2ldID0gZ2V0dGVyKGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfZ2V0Um90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRvUmFkaWFucyh0aGlzLm9wdGlvbnMucm90YXRpb24gLSA5MCk7XG4gIH1cbiAgX2dldENpcmN1bWZlcmVuY2UoKSB7XG4gICAgcmV0dXJuIHRvUmFkaWFucyh0aGlzLm9wdGlvbnMuY2lyY3VtZmVyZW5jZSk7XG4gIH1cbiAgX2dldFJvdGF0aW9uRXh0ZW50cygpIHtcbiAgICBsZXQgbWluID0gVEFVO1xuICAgIGxldCBtYXggPSAtVEFVO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAodGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKGkpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB0aGlzLmNoYXJ0LmdldERhdGFzZXRNZXRhKGkpLmNvbnRyb2xsZXI7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gY29udHJvbGxlci5fZ2V0Um90YXRpb24oKTtcbiAgICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IGNvbnRyb2xsZXIuX2dldENpcmN1bWZlcmVuY2UoKTtcbiAgICAgICAgbWluID0gTWF0aC5taW4obWluLCByb3RhdGlvbik7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgcm90YXRpb24gKyBjaXJjdW1mZXJlbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvdGF0aW9uOiBtaW4sXG4gICAgICBjaXJjdW1mZXJlbmNlOiBtYXggLSBtaW4sXG4gICAgfTtcbiAgfVxuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCB7Y2hhcnRBcmVhfSA9IGNoYXJ0O1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGFyY3MgPSBtZXRhLmRhdGE7XG4gICAgY29uc3Qgc3BhY2luZyA9IHRoaXMuZ2V0TWF4Qm9yZGVyV2lkdGgoKSArIHRoaXMuZ2V0TWF4T2Zmc2V0KGFyY3MpICsgdGhpcy5vcHRpb25zLnNwYWNpbmc7XG4gICAgY29uc3QgbWF4U2l6ZSA9IE1hdGgubWF4KChNYXRoLm1pbihjaGFydEFyZWEud2lkdGgsIGNoYXJ0QXJlYS5oZWlnaHQpIC0gc3BhY2luZykgLyAyLCAwKTtcbiAgICBjb25zdCBjdXRvdXQgPSBNYXRoLm1pbih0b1BlcmNlbnRhZ2UodGhpcy5vcHRpb25zLmN1dG91dCwgbWF4U2l6ZSksIDEpO1xuICAgIGNvbnN0IGNoYXJ0V2VpZ2h0ID0gdGhpcy5fZ2V0UmluZ1dlaWdodCh0aGlzLmluZGV4KTtcbiAgICBjb25zdCB7Y2lyY3VtZmVyZW5jZSwgcm90YXRpb259ID0gdGhpcy5fZ2V0Um90YXRpb25FeHRlbnRzKCk7XG4gICAgY29uc3Qge3JhdGlvWCwgcmF0aW9ZLCBvZmZzZXRYLCBvZmZzZXRZfSA9IGdldFJhdGlvQW5kT2Zmc2V0KHJvdGF0aW9uLCBjaXJjdW1mZXJlbmNlLCBjdXRvdXQpO1xuICAgIGNvbnN0IG1heFdpZHRoID0gKGNoYXJ0QXJlYS53aWR0aCAtIHNwYWNpbmcpIC8gcmF0aW9YO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IChjaGFydEFyZWEuaGVpZ2h0IC0gc3BhY2luZykgLyByYXRpb1k7XG4gICAgY29uc3QgbWF4UmFkaXVzID0gTWF0aC5tYXgoTWF0aC5taW4obWF4V2lkdGgsIG1heEhlaWdodCkgLyAyLCAwKTtcbiAgICBjb25zdCBvdXRlclJhZGl1cyA9IHRvRGltZW5zaW9uKHRoaXMub3B0aW9ucy5yYWRpdXMsIG1heFJhZGl1cyk7XG4gICAgY29uc3QgaW5uZXJSYWRpdXMgPSBNYXRoLm1heChvdXRlclJhZGl1cyAqIGN1dG91dCwgMCk7XG4gICAgY29uc3QgcmFkaXVzTGVuZ3RoID0gKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpIC8gdGhpcy5fZ2V0VmlzaWJsZURhdGFzZXRXZWlnaHRUb3RhbCgpO1xuICAgIHRoaXMub2Zmc2V0WCA9IG9mZnNldFggKiBvdXRlclJhZGl1cztcbiAgICB0aGlzLm9mZnNldFkgPSBvZmZzZXRZICogb3V0ZXJSYWRpdXM7XG4gICAgbWV0YS50b3RhbCA9IHRoaXMuY2FsY3VsYXRlVG90YWwoKTtcbiAgICB0aGlzLm91dGVyUmFkaXVzID0gb3V0ZXJSYWRpdXMgLSByYWRpdXNMZW5ndGggKiB0aGlzLl9nZXRSaW5nV2VpZ2h0T2Zmc2V0KHRoaXMuaW5kZXgpO1xuICAgIHRoaXMuaW5uZXJSYWRpdXMgPSBNYXRoLm1heCh0aGlzLm91dGVyUmFkaXVzIC0gcmFkaXVzTGVuZ3RoICogY2hhcnRXZWlnaHQsIDApO1xuICAgIHRoaXMudXBkYXRlRWxlbWVudHMoYXJjcywgMCwgYXJjcy5sZW5ndGgsIG1vZGUpO1xuICB9XG4gIF9jaXJjdW1mZXJlbmNlKGksIHJlc2V0KSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBjaXJjdW1mZXJlbmNlID0gdGhpcy5fZ2V0Q2lyY3VtZmVyZW5jZSgpO1xuICAgIGlmICgocmVzZXQgJiYgb3B0cy5hbmltYXRpb24uYW5pbWF0ZVJvdGF0ZSkgfHwgIXRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaSkgfHwgbWV0YS5fcGFyc2VkW2ldID09PSBudWxsIHx8IG1ldGEuZGF0YVtpXS5oaWRkZW4pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVDaXJjdW1mZXJlbmNlKG1ldGEuX3BhcnNlZFtpXSAqIGNpcmN1bWZlcmVuY2UgLyBUQVUpO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKGFyY3MsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgY2hhcnRBcmVhID0gY2hhcnQuY2hhcnRBcmVhO1xuICAgIGNvbnN0IG9wdHMgPSBjaGFydC5vcHRpb25zO1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdHMgPSBvcHRzLmFuaW1hdGlvbjtcbiAgICBjb25zdCBjZW50ZXJYID0gKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDI7XG4gICAgY29uc3QgY2VudGVyWSA9IChjaGFydEFyZWEudG9wICsgY2hhcnRBcmVhLmJvdHRvbSkgLyAyO1xuICAgIGNvbnN0IGFuaW1hdGVTY2FsZSA9IHJlc2V0ICYmIGFuaW1hdGlvbk9wdHMuYW5pbWF0ZVNjYWxlO1xuICAgIGNvbnN0IGlubmVyUmFkaXVzID0gYW5pbWF0ZVNjYWxlID8gMCA6IHRoaXMuaW5uZXJSYWRpdXM7XG4gICAgY29uc3Qgb3V0ZXJSYWRpdXMgPSBhbmltYXRlU2NhbGUgPyAwIDogdGhpcy5vdXRlclJhZGl1cztcbiAgICBjb25zdCB7c2hhcmVkT3B0aW9ucywgaW5jbHVkZU9wdGlvbnN9ID0gdGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgbGV0IHN0YXJ0QW5nbGUgPSB0aGlzLl9nZXRSb3RhdGlvbigpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzdGFydDsgKytpKSB7XG4gICAgICBzdGFydEFuZ2xlICs9IHRoaXMuX2NpcmN1bWZlcmVuY2UoaSwgcmVzZXQpO1xuICAgIH1cbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7ICsraSkge1xuICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IHRoaXMuX2NpcmN1bWZlcmVuY2UoaSwgcmVzZXQpO1xuICAgICAgY29uc3QgYXJjID0gYXJjc1tpXTtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIHg6IGNlbnRlclggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgIHk6IGNlbnRlclkgKyB0aGlzLm9mZnNldFksXG4gICAgICAgIHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlOiBzdGFydEFuZ2xlICsgY2lyY3VtZmVyZW5jZSxcbiAgICAgICAgY2lyY3VtZmVyZW5jZSxcbiAgICAgICAgb3V0ZXJSYWRpdXMsXG4gICAgICAgIGlubmVyUmFkaXVzXG4gICAgICB9O1xuICAgICAgaWYgKGluY2x1ZGVPcHRpb25zKSB7XG4gICAgICAgIHByb3BlcnRpZXMub3B0aW9ucyA9IHNoYXJlZE9wdGlvbnMgfHwgdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGksIGFyYy5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgfVxuICAgICAgc3RhcnRBbmdsZSArPSBjaXJjdW1mZXJlbmNlO1xuICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGFyYywgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgfVxuICB9XG4gIGNhbGN1bGF0ZVRvdGFsKCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IG1ldGFEYXRhID0gbWV0YS5kYXRhO1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IG1ldGFEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG1ldGEuX3BhcnNlZFtpXTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAhaXNOYU4odmFsdWUpICYmIHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaSkgJiYgIW1ldGFEYXRhW2ldLmhpZGRlbikge1xuICAgICAgICB0b3RhbCArPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuICBjYWxjdWxhdGVDaXJjdW1mZXJlbmNlKHZhbHVlKSB7XG4gICAgY29uc3QgdG90YWwgPSB0aGlzLl9jYWNoZWRNZXRhLnRvdGFsO1xuICAgIGlmICh0b3RhbCA+IDAgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIFRBVSAqIChNYXRoLmFicyh2YWx1ZSkgLyB0b3RhbCk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGdldExhYmVsQW5kVmFsdWUoaW5kZXgpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgbGFiZWxzID0gY2hhcnQuZGF0YS5sYWJlbHMgfHwgW107XG4gICAgY29uc3QgdmFsdWUgPSBmb3JtYXROdW1iZXIobWV0YS5fcGFyc2VkW2luZGV4XSwgY2hhcnQub3B0aW9ucy5sb2NhbGUpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogbGFiZWxzW2luZGV4XSB8fCAnJyxcbiAgICAgIHZhbHVlLFxuICAgIH07XG4gIH1cbiAgZ2V0TWF4Qm9yZGVyV2lkdGgoYXJjcykge1xuICAgIGxldCBtYXggPSAwO1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBsZXQgaSwgaWxlbiwgbWV0YSwgY29udHJvbGxlciwgb3B0aW9ucztcbiAgICBpZiAoIWFyY3MpIHtcbiAgICAgIGZvciAoaSA9IDAsIGlsZW4gPSBjaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgICBpZiAoY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSkge1xuICAgICAgICAgIG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgICAgICBhcmNzID0gbWV0YS5kYXRhO1xuICAgICAgICAgIGNvbnRyb2xsZXIgPSBtZXRhLmNvbnRyb2xsZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhcmNzKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGFyY3MubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBvcHRpb25zID0gY29udHJvbGxlci5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkpO1xuICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyQWxpZ24gIT09ICdpbm5lcicpIHtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBvcHRpb25zLmJvcmRlcldpZHRoIHx8IDAsIG9wdGlvbnMuaG92ZXJCb3JkZXJXaWR0aCB8fCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbiAgfVxuICBnZXRNYXhPZmZzZXQoYXJjcykge1xuICAgIGxldCBtYXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwLCBpbGVuID0gYXJjcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSk7XG4gICAgICBtYXggPSBNYXRoLm1heChtYXgsIG9wdGlvbnMub2Zmc2V0IHx8IDAsIG9wdGlvbnMuaG92ZXJPZmZzZXQgfHwgMCk7XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG4gIH1cbiAgX2dldFJpbmdXZWlnaHRPZmZzZXQoZGF0YXNldEluZGV4KSB7XG4gICAgbGV0IHJpbmdXZWlnaHRPZmZzZXQgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YXNldEluZGV4OyArK2kpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkpIHtcbiAgICAgICAgcmluZ1dlaWdodE9mZnNldCArPSB0aGlzLl9nZXRSaW5nV2VpZ2h0KGkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmluZ1dlaWdodE9mZnNldDtcbiAgfVxuICBfZ2V0UmluZ1dlaWdodChkYXRhc2V0SW5kZXgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgodmFsdWVPckRlZmF1bHQodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW2RhdGFzZXRJbmRleF0ud2VpZ2h0LCAxKSwgMCk7XG4gIH1cbiAgX2dldFZpc2libGVEYXRhc2V0V2VpZ2h0VG90YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldFJpbmdXZWlnaHRPZmZzZXQodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aCkgfHwgMTtcbiAgfVxufVxuRG91Z2hudXRDb250cm9sbGVyLmlkID0gJ2RvdWdobnV0JztcbkRvdWdobnV0Q29udHJvbGxlci5kZWZhdWx0cyA9IHtcbiAgZGF0YXNldEVsZW1lbnRUeXBlOiBmYWxzZSxcbiAgZGF0YUVsZW1lbnRUeXBlOiAnYXJjJyxcbiAgYW5pbWF0aW9uOiB7XG4gICAgYW5pbWF0ZVJvdGF0ZTogdHJ1ZSxcbiAgICBhbmltYXRlU2NhbGU6IGZhbHNlXG4gIH0sXG4gIGFuaW1hdGlvbnM6IHtcbiAgICBudW1iZXJzOiB7XG4gICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIHByb3BlcnRpZXM6IFsnY2lyY3VtZmVyZW5jZScsICdlbmRBbmdsZScsICdpbm5lclJhZGl1cycsICdvdXRlclJhZGl1cycsICdzdGFydEFuZ2xlJywgJ3gnLCAneScsICdvZmZzZXQnLCAnYm9yZGVyV2lkdGgnLCAnc3BhY2luZyddXG4gICAgfSxcbiAgfSxcbiAgY3V0b3V0OiAnNTAlJyxcbiAgcm90YXRpb246IDAsXG4gIGNpcmN1bWZlcmVuY2U6IDM2MCxcbiAgcmFkaXVzOiAnMTAwJScsXG4gIHNwYWNpbmc6IDAsXG4gIGluZGV4QXhpczogJ3InLFxufTtcbkRvdWdobnV0Q29udHJvbGxlci5kZXNjcmlwdG9ycyA9IHtcbiAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnc3BhY2luZycsXG4gIF9pbmRleGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnc3BhY2luZycsXG59O1xuRG91Z2hudXRDb250cm9sbGVyLm92ZXJyaWRlcyA9IHtcbiAgYXNwZWN0UmF0aW86IDEsXG4gIHBsdWdpbnM6IHtcbiAgICBsZWdlbmQ6IHtcbiAgICAgIGxhYmVsczoge1xuICAgICAgICBnZW5lcmF0ZUxhYmVscyhjaGFydCkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBjaGFydC5kYXRhO1xuICAgICAgICAgIGlmIChkYXRhLmxhYmVscy5sZW5ndGggJiYgZGF0YS5kYXRhc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHtsYWJlbHM6IHtwb2ludFN0eWxlfX0gPSBjaGFydC5sZWdlbmQub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmxhYmVscy5tYXAoKGxhYmVsLCBpKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YSgwKTtcbiAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBtZXRhLmNvbnRyb2xsZXIuZ2V0U3R5bGUoaSk7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbGFiZWwsXG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0eWxlLmJvcmRlckNvbG9yLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3R5bGUuYm9yZGVyV2lkdGgsXG4gICAgICAgICAgICAgICAgcG9pbnRTdHlsZTogcG9pbnRTdHlsZSxcbiAgICAgICAgICAgICAgICBoaWRkZW46ICFjaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSxcbiAgICAgICAgICAgICAgICBpbmRleDogaVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQ2xpY2soZSwgbGVnZW5kSXRlbSwgbGVnZW5kKSB7XG4gICAgICAgIGxlZ2VuZC5jaGFydC50b2dnbGVEYXRhVmlzaWJpbGl0eShsZWdlbmRJdGVtLmluZGV4KTtcbiAgICAgICAgbGVnZW5kLmNoYXJ0LnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHRpdGxlKCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWwodG9vbHRpcEl0ZW0pIHtcbiAgICAgICAgICBsZXQgZGF0YUxhYmVsID0gdG9vbHRpcEl0ZW0ubGFiZWw7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSAnOiAnICsgdG9vbHRpcEl0ZW0uZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YUxhYmVsKSkge1xuICAgICAgICAgICAgZGF0YUxhYmVsID0gZGF0YUxhYmVsLnNsaWNlKCk7XG4gICAgICAgICAgICBkYXRhTGFiZWxbMF0gKz0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGFMYWJlbCArPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRhdGFMYWJlbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY2xhc3MgTGluZUNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnN1cHBvcnRzRGVjaW1hdGlvbiA9IHRydWU7XG4gICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIHVwZGF0ZShtb2RlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgY29uc3Qge2RhdGFzZXQ6IGxpbmUsIGRhdGE6IHBvaW50cyA9IFtdLCBfZGF0YXNldH0gPSBtZXRhO1xuICAgIGNvbnN0IGFuaW1hdGlvbnNEaXNhYmxlZCA9IHRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZDtcbiAgICBsZXQge3N0YXJ0LCBjb3VudH0gPSBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyhtZXRhLCBwb2ludHMsIGFuaW1hdGlvbnNEaXNhYmxlZCk7XG4gICAgdGhpcy5fZHJhd1N0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5fZHJhd0NvdW50ID0gY291bnQ7XG4gICAgaWYgKF9zY2FsZVJhbmdlc0NoYW5nZWQobWV0YSkpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB9XG4gICAgbGluZS5fY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGxpbmUuX2RhdGFzZXRJbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgbGluZS5fZGVjaW1hdGVkID0gISFfZGF0YXNldC5fZGVjaW1hdGVkO1xuICAgIGxpbmUucG9pbnRzID0gcG9pbnRzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobW9kZSk7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuc2hvd0xpbmUpIHtcbiAgICAgIG9wdGlvbnMuYm9yZGVyV2lkdGggPSAwO1xuICAgIH1cbiAgICBvcHRpb25zLnNlZ21lbnQgPSB0aGlzLm9wdGlvbnMuc2VnbWVudDtcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnQobGluZSwgdW5kZWZpbmVkLCB7XG4gICAgICBhbmltYXRlZDogIWFuaW1hdGlvbnNEaXNhYmxlZCxcbiAgICAgIG9wdGlvbnNcbiAgICB9LCBtb2RlKTtcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKTtcbiAgfVxuICB1cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBjb25zdCB7aVNjYWxlLCB2U2NhbGUsIF9zdGFja2VkLCBfZGF0YXNldH0gPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHtzaGFyZWRPcHRpb25zLCBpbmNsdWRlT3B0aW9uc30gPSB0aGlzLl9nZXRTaGFyZWRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICBjb25zdCBpQXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgY29uc3Qge3NwYW5HYXBzLCBzZWdtZW50fSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBtYXhHYXBMZW5ndGggPSBpc051bWJlcihzcGFuR2FwcykgPyBzcGFuR2FwcyA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBkaXJlY3RVcGRhdGUgPSB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQgfHwgcmVzZXQgfHwgbW9kZSA9PT0gJ25vbmUnO1xuICAgIGxldCBwcmV2UGFyc2VkID0gc3RhcnQgPiAwICYmIHRoaXMuZ2V0UGFyc2VkKHN0YXJ0IC0gMSk7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IGRpcmVjdFVwZGF0ZSA/IHBvaW50IDoge307XG4gICAgICBjb25zdCBudWxsRGF0YSA9IGlzTnVsbE9yVW5kZWYocGFyc2VkW3ZBeGlzXSk7XG4gICAgICBjb25zdCBpUGl4ZWwgPSBwcm9wZXJ0aWVzW2lBeGlzXSA9IGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKHBhcnNlZFtpQXhpc10sIGkpO1xuICAgICAgY29uc3QgdlBpeGVsID0gcHJvcGVydGllc1t2QXhpc10gPSByZXNldCB8fCBudWxsRGF0YSA/IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKSA6IHZTY2FsZS5nZXRQaXhlbEZvclZhbHVlKF9zdGFja2VkID8gdGhpcy5hcHBseVN0YWNrKHZTY2FsZSwgcGFyc2VkLCBfc3RhY2tlZCkgOiBwYXJzZWRbdkF4aXNdLCBpKTtcbiAgICAgIHByb3BlcnRpZXMuc2tpcCA9IGlzTmFOKGlQaXhlbCkgfHwgaXNOYU4odlBpeGVsKSB8fCBudWxsRGF0YTtcbiAgICAgIHByb3BlcnRpZXMuc3RvcCA9IGkgPiAwICYmIChNYXRoLmFicyhwYXJzZWRbaUF4aXNdIC0gcHJldlBhcnNlZFtpQXhpc10pKSA+IG1heEdhcExlbmd0aDtcbiAgICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIHByb3BlcnRpZXMucGFyc2VkID0gcGFyc2VkO1xuICAgICAgICBwcm9wZXJ0aWVzLnJhdyA9IF9kYXRhc2V0LmRhdGFbaV07XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgcG9pbnQuYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGlyZWN0VXBkYXRlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgICB9XG4gICAgICBwcmV2UGFyc2VkID0gcGFyc2VkO1xuICAgIH1cbiAgfVxuICBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBkYXRhc2V0ID0gbWV0YS5kYXRhc2V0O1xuICAgIGNvbnN0IGJvcmRlciA9IGRhdGFzZXQub3B0aW9ucyAmJiBkYXRhc2V0Lm9wdGlvbnMuYm9yZGVyV2lkdGggfHwgMDtcbiAgICBjb25zdCBkYXRhID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBib3JkZXI7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBkYXRhWzBdLnNpemUodGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKDApKTtcbiAgICBjb25zdCBsYXN0UG9pbnQgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoZGF0YS5sZW5ndGggLSAxKSk7XG4gICAgcmV0dXJuIE1hdGgubWF4KGJvcmRlciwgZmlyc3RQb2ludCwgbGFzdFBvaW50KSAvIDI7XG4gIH1cbiAgZHJhdygpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBtZXRhLmRhdGFzZXQudXBkYXRlQ29udHJvbFBvaW50cyh0aGlzLmNoYXJ0LmNoYXJ0QXJlYSwgbWV0YS5pU2NhbGUuYXhpcyk7XG4gICAgc3VwZXIuZHJhdygpO1xuICB9XG59XG5MaW5lQ29udHJvbGxlci5pZCA9ICdsaW5lJztcbkxpbmVDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6ICdsaW5lJyxcbiAgZGF0YUVsZW1lbnRUeXBlOiAncG9pbnQnLFxuICBzaG93TGluZTogdHJ1ZSxcbiAgc3BhbkdhcHM6IGZhbHNlLFxufTtcbkxpbmVDb250cm9sbGVyLm92ZXJyaWRlcyA9IHtcbiAgc2NhbGVzOiB7XG4gICAgX2luZGV4Xzoge1xuICAgICAgdHlwZTogJ2NhdGVnb3J5JyxcbiAgICB9LFxuICAgIF92YWx1ZV86IHtcbiAgICAgIHR5cGU6ICdsaW5lYXInLFxuICAgIH0sXG4gIH1cbn07XG5cbmNsYXNzIFBvbGFyQXJlYUNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNoYXJ0LCBkYXRhc2V0SW5kZXgpIHtcbiAgICBzdXBlcihjaGFydCwgZGF0YXNldEluZGV4KTtcbiAgICB0aGlzLmlubmVyUmFkaXVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBsYWJlbHMgPSBjaGFydC5kYXRhLmxhYmVscyB8fCBbXTtcbiAgICBjb25zdCB2YWx1ZSA9IGZvcm1hdE51bWJlcihtZXRhLl9wYXJzZWRbaW5kZXhdLnIsIGNoYXJ0Lm9wdGlvbnMubG9jYWxlKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IGxhYmVsc1tpbmRleF0gfHwgJycsXG4gICAgICB2YWx1ZSxcbiAgICB9O1xuICB9XG4gIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICByZXR1cm4gX3BhcnNlT2JqZWN0RGF0YVJhZGlhbFNjYWxlLmJpbmQodGhpcykobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgfVxuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IGFyY3MgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGE7XG4gICAgdGhpcy5fdXBkYXRlUmFkaXVzKCk7XG4gICAgdGhpcy51cGRhdGVFbGVtZW50cyhhcmNzLCAwLCBhcmNzLmxlbmd0aCwgbW9kZSk7XG4gIH1cbiAgZ2V0TWluTWF4KCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHJhbmdlID0ge21pbjogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBtYXg6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWX07XG4gICAgbWV0YS5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCkucjtcbiAgICAgIGlmICghaXNOYU4ocGFyc2VkKSAmJiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGluZGV4KSkge1xuICAgICAgICBpZiAocGFyc2VkIDwgcmFuZ2UubWluKSB7XG4gICAgICAgICAgcmFuZ2UubWluID0gcGFyc2VkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWQgPiByYW5nZS5tYXgpIHtcbiAgICAgICAgICByYW5nZS5tYXggPSBwYXJzZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgX3VwZGF0ZVJhZGl1cygpIHtcbiAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgY29uc3QgY2hhcnRBcmVhID0gY2hhcnQuY2hhcnRBcmVhO1xuICAgIGNvbnN0IG9wdHMgPSBjaGFydC5vcHRpb25zO1xuICAgIGNvbnN0IG1pblNpemUgPSBNYXRoLm1pbihjaGFydEFyZWEucmlnaHQgLSBjaGFydEFyZWEubGVmdCwgY2hhcnRBcmVhLmJvdHRvbSAtIGNoYXJ0QXJlYS50b3ApO1xuICAgIGNvbnN0IG91dGVyUmFkaXVzID0gTWF0aC5tYXgobWluU2l6ZSAvIDIsIDApO1xuICAgIGNvbnN0IGlubmVyUmFkaXVzID0gTWF0aC5tYXgob3B0cy5jdXRvdXRQZXJjZW50YWdlID8gKG91dGVyUmFkaXVzIC8gMTAwKSAqIChvcHRzLmN1dG91dFBlcmNlbnRhZ2UpIDogMSwgMCk7XG4gICAgY29uc3QgcmFkaXVzTGVuZ3RoID0gKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpIC8gY2hhcnQuZ2V0VmlzaWJsZURhdGFzZXRDb3VudCgpO1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSBvdXRlclJhZGl1cyAtIChyYWRpdXNMZW5ndGggKiB0aGlzLmluZGV4KTtcbiAgICB0aGlzLmlubmVyUmFkaXVzID0gdGhpcy5vdXRlclJhZGl1cyAtIHJhZGl1c0xlbmd0aDtcbiAgfVxuICB1cGRhdGVFbGVtZW50cyhhcmNzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICBjb25zdCByZXNldCA9IG1vZGUgPT09ICdyZXNldCc7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG9wdHMgPSBjaGFydC5vcHRpb25zO1xuICAgIGNvbnN0IGFuaW1hdGlvbk9wdHMgPSBvcHRzLmFuaW1hdGlvbjtcbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhY2hlZE1ldGEuclNjYWxlO1xuICAgIGNvbnN0IGNlbnRlclggPSBzY2FsZS54Q2VudGVyO1xuICAgIGNvbnN0IGNlbnRlclkgPSBzY2FsZS55Q2VudGVyO1xuICAgIGNvbnN0IGRhdGFzZXRTdGFydEFuZ2xlID0gc2NhbGUuZ2V0SW5kZXhBbmdsZSgwKSAtIDAuNSAqIFBJO1xuICAgIGxldCBhbmdsZSA9IGRhdGFzZXRTdGFydEFuZ2xlO1xuICAgIGxldCBpO1xuICAgIGNvbnN0IGRlZmF1bHRBbmdsZSA9IDM2MCAvIHRoaXMuY291bnRWaXNpYmxlRWxlbWVudHMoKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RhcnQ7ICsraSkge1xuICAgICAgYW5nbGUgKz0gdGhpcy5fY29tcHV0ZUFuZ2xlKGksIG1vZGUsIGRlZmF1bHRBbmdsZSk7XG4gICAgfVxuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBhcmMgPSBhcmNzW2ldO1xuICAgICAgbGV0IHN0YXJ0QW5nbGUgPSBhbmdsZTtcbiAgICAgIGxldCBlbmRBbmdsZSA9IGFuZ2xlICsgdGhpcy5fY29tcHV0ZUFuZ2xlKGksIG1vZGUsIGRlZmF1bHRBbmdsZSk7XG4gICAgICBsZXQgb3V0ZXJSYWRpdXMgPSBjaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSA/IHNjYWxlLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRoaXMuZ2V0UGFyc2VkKGkpLnIpIDogMDtcbiAgICAgIGFuZ2xlID0gZW5kQW5nbGU7XG4gICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbk9wdHMuYW5pbWF0ZVNjYWxlKSB7XG4gICAgICAgICAgb3V0ZXJSYWRpdXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmltYXRpb25PcHRzLmFuaW1hdGVSb3RhdGUpIHtcbiAgICAgICAgICBzdGFydEFuZ2xlID0gZW5kQW5nbGUgPSBkYXRhc2V0U3RhcnRBbmdsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgeDogY2VudGVyWCxcbiAgICAgICAgeTogY2VudGVyWSxcbiAgICAgICAgaW5uZXJSYWRpdXM6IDAsXG4gICAgICAgIG91dGVyUmFkaXVzLFxuICAgICAgICBzdGFydEFuZ2xlLFxuICAgICAgICBlbmRBbmdsZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGksIGFyYy5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpXG4gICAgICB9O1xuICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGFyYywgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgfVxuICB9XG4gIGNvdW50VmlzaWJsZUVsZW1lbnRzKCkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgbWV0YS5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIWlzTmFOKHRoaXMuZ2V0UGFyc2VkKGluZGV4KS5yKSAmJiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGluZGV4KSkge1xuICAgICAgICBjb3VudCsrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb3VudDtcbiAgfVxuICBfY29tcHV0ZUFuZ2xlKGluZGV4LCBtb2RlLCBkZWZhdWx0QW5nbGUpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpbmRleClcbiAgICAgID8gdG9SYWRpYW5zKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpbmRleCwgbW9kZSkuYW5nbGUgfHwgZGVmYXVsdEFuZ2xlKVxuICAgICAgOiAwO1xuICB9XG59XG5Qb2xhckFyZWFDb250cm9sbGVyLmlkID0gJ3BvbGFyQXJlYSc7XG5Qb2xhckFyZWFDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhRWxlbWVudFR5cGU6ICdhcmMnLFxuICBhbmltYXRpb246IHtcbiAgICBhbmltYXRlUm90YXRlOiB0cnVlLFxuICAgIGFuaW1hdGVTY2FsZTogdHJ1ZVxuICB9LFxuICBhbmltYXRpb25zOiB7XG4gICAgbnVtYmVyczoge1xuICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICBwcm9wZXJ0aWVzOiBbJ3gnLCAneScsICdzdGFydEFuZ2xlJywgJ2VuZEFuZ2xlJywgJ2lubmVyUmFkaXVzJywgJ291dGVyUmFkaXVzJ11cbiAgICB9LFxuICB9LFxuICBpbmRleEF4aXM6ICdyJyxcbiAgc3RhcnRBbmdsZTogMCxcbn07XG5Qb2xhckFyZWFDb250cm9sbGVyLm92ZXJyaWRlcyA9IHtcbiAgYXNwZWN0UmF0aW86IDEsXG4gIHBsdWdpbnM6IHtcbiAgICBsZWdlbmQ6IHtcbiAgICAgIGxhYmVsczoge1xuICAgICAgICBnZW5lcmF0ZUxhYmVscyhjaGFydCkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBjaGFydC5kYXRhO1xuICAgICAgICAgIGlmIChkYXRhLmxhYmVscy5sZW5ndGggJiYgZGF0YS5kYXRhc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHtsYWJlbHM6IHtwb2ludFN0eWxlfX0gPSBjaGFydC5sZWdlbmQub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmxhYmVscy5tYXAoKGxhYmVsLCBpKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YSgwKTtcbiAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBtZXRhLmNvbnRyb2xsZXIuZ2V0U3R5bGUoaSk7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGV4dDogbGFiZWwsXG4gICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0eWxlLmJvcmRlckNvbG9yLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogc3R5bGUuYm9yZGVyV2lkdGgsXG4gICAgICAgICAgICAgICAgcG9pbnRTdHlsZTogcG9pbnRTdHlsZSxcbiAgICAgICAgICAgICAgICBoaWRkZW46ICFjaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSxcbiAgICAgICAgICAgICAgICBpbmRleDogaVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uQ2xpY2soZSwgbGVnZW5kSXRlbSwgbGVnZW5kKSB7XG4gICAgICAgIGxlZ2VuZC5jaGFydC50b2dnbGVEYXRhVmlzaWJpbGl0eShsZWdlbmRJdGVtLmluZGV4KTtcbiAgICAgICAgbGVnZW5kLmNoYXJ0LnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHRpdGxlKCkge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWwoY29udGV4dCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmNoYXJ0LmRhdGEubGFiZWxzW2NvbnRleHQuZGF0YUluZGV4XSArICc6ICcgKyBjb250ZXh0LmZvcm1hdHRlZFZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzY2FsZXM6IHtcbiAgICByOiB7XG4gICAgICB0eXBlOiAncmFkaWFsTGluZWFyJyxcbiAgICAgIGFuZ2xlTGluZXM6IHtcbiAgICAgICAgZGlzcGxheTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBiZWdpbkF0WmVybzogdHJ1ZSxcbiAgICAgIGdyaWQ6IHtcbiAgICAgICAgY2lyY3VsYXI6IHRydWVcbiAgICAgIH0sXG4gICAgICBwb2ludExhYmVsczoge1xuICAgICAgICBkaXNwbGF5OiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHN0YXJ0QW5nbGU6IDBcbiAgICB9XG4gIH1cbn07XG5cbmNsYXNzIFBpZUNvbnRyb2xsZXIgZXh0ZW5kcyBEb3VnaG51dENvbnRyb2xsZXIge1xufVxuUGllQ29udHJvbGxlci5pZCA9ICdwaWUnO1xuUGllQ29udHJvbGxlci5kZWZhdWx0cyA9IHtcbiAgY3V0b3V0OiAwLFxuICByb3RhdGlvbjogMCxcbiAgY2lyY3VtZmVyZW5jZTogMzYwLFxuICByYWRpdXM6ICcxMDAlJ1xufTtcblxuY2xhc3MgUmFkYXJDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgY29uc3QgdlNjYWxlID0gdGhpcy5fY2FjaGVkTWV0YS52U2NhbGU7XG4gICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogdlNjYWxlLmdldExhYmVscygpW2luZGV4XSxcbiAgICAgIHZhbHVlOiAnJyArIHZTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZFt2U2NhbGUuYXhpc10pXG4gICAgfTtcbiAgfVxuICBwYXJzZU9iamVjdERhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgcmV0dXJuIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZS5iaW5kKHRoaXMpKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gIH1cbiAgdXBkYXRlKG1vZGUpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBsaW5lID0gbWV0YS5kYXRhc2V0O1xuICAgIGNvbnN0IHBvaW50cyA9IG1ldGEuZGF0YSB8fCBbXTtcbiAgICBjb25zdCBsYWJlbHMgPSBtZXRhLmlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgICBsaW5lLnBvaW50cyA9IHBvaW50cztcbiAgICBpZiAobW9kZSAhPT0gJ3Jlc2l6ZScpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobW9kZSk7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaG93TGluZSkge1xuICAgICAgICBvcHRpb25zLmJvcmRlcldpZHRoID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIF9sb29wOiB0cnVlLFxuICAgICAgICBfZnVsbExvb3A6IGxhYmVscy5sZW5ndGggPT09IHBvaW50cy5sZW5ndGgsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH07XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQobGluZSwgdW5kZWZpbmVkLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVFbGVtZW50cyhwb2ludHMsIDAsIHBvaW50cy5sZW5ndGgsIG1vZGUpO1xuICB9XG4gIHVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9jYWNoZWRNZXRhLnJTY2FsZTtcbiAgICBjb25zdCByZXNldCA9IG1vZGUgPT09ICdyZXNldCc7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgcG9pbnQuYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgIGNvbnN0IHBvaW50UG9zaXRpb24gPSBzY2FsZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoaSwgdGhpcy5nZXRQYXJzZWQoaSkucik7XG4gICAgICBjb25zdCB4ID0gcmVzZXQgPyBzY2FsZS54Q2VudGVyIDogcG9pbnRQb3NpdGlvbi54O1xuICAgICAgY29uc3QgeSA9IHJlc2V0ID8gc2NhbGUueUNlbnRlciA6IHBvaW50UG9zaXRpb24ueTtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGFuZ2xlOiBwb2ludFBvc2l0aW9uLmFuZ2xlLFxuICAgICAgICBza2lwOiBpc05hTih4KSB8fCBpc05hTih5KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfTtcbiAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgfVxuICB9XG59XG5SYWRhckNvbnRyb2xsZXIuaWQgPSAncmFkYXInO1xuUmFkYXJDb250cm9sbGVyLmRlZmF1bHRzID0ge1xuICBkYXRhc2V0RWxlbWVudFR5cGU6ICdsaW5lJyxcbiAgZGF0YUVsZW1lbnRUeXBlOiAncG9pbnQnLFxuICBpbmRleEF4aXM6ICdyJyxcbiAgc2hvd0xpbmU6IHRydWUsXG4gIGVsZW1lbnRzOiB7XG4gICAgbGluZToge1xuICAgICAgZmlsbDogJ3N0YXJ0J1xuICAgIH1cbiAgfSxcbn07XG5SYWRhckNvbnRyb2xsZXIub3ZlcnJpZGVzID0ge1xuICBhc3BlY3RSYXRpbzogMSxcbiAgc2NhbGVzOiB7XG4gICAgcjoge1xuICAgICAgdHlwZTogJ3JhZGlhbExpbmVhcicsXG4gICAgfVxuICB9XG59O1xuXG5jbGFzcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy54ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMueSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLiRhbmltYXRpb25zID0gdW5kZWZpbmVkO1xuICB9XG4gIHRvb2x0aXBQb3NpdGlvbih1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3Qge3gsIHl9ID0gdGhpcy5nZXRQcm9wcyhbJ3gnLCAneSddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICByZXR1cm4ge3gsIHl9O1xuICB9XG4gIGhhc1ZhbHVlKCkge1xuICAgIHJldHVybiBpc051bWJlcih0aGlzLngpICYmIGlzTnVtYmVyKHRoaXMueSk7XG4gIH1cbiAgZ2V0UHJvcHMocHJvcHMsIGZpbmFsKSB7XG4gICAgY29uc3QgYW5pbXMgPSB0aGlzLiRhbmltYXRpb25zO1xuICAgIGlmICghZmluYWwgfHwgIWFuaW1zKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgcHJvcHMuZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIHJldFtwcm9wXSA9IGFuaW1zW3Byb3BdICYmIGFuaW1zW3Byb3BdLmFjdGl2ZSgpID8gYW5pbXNbcHJvcF0uX3RvIDogdGhpc1twcm9wXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG59XG5FbGVtZW50LmRlZmF1bHRzID0ge307XG5FbGVtZW50LmRlZmF1bHRSb3V0ZXMgPSB1bmRlZmluZWQ7XG5cbmNvbnN0IGZvcm1hdHRlcnMgPSB7XG4gIHZhbHVlcyh2YWx1ZSkge1xuICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogJycgKyB2YWx1ZTtcbiAgfSxcbiAgbnVtZXJpYyh0aWNrVmFsdWUsIGluZGV4LCB0aWNrcykge1xuICAgIGlmICh0aWNrVmFsdWUgPT09IDApIHtcbiAgICAgIHJldHVybiAnMCc7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsZSA9IHRoaXMuY2hhcnQub3B0aW9ucy5sb2NhbGU7XG4gICAgbGV0IG5vdGF0aW9uO1xuICAgIGxldCBkZWx0YSA9IHRpY2tWYWx1ZTtcbiAgICBpZiAodGlja3MubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgbWF4VGljayA9IE1hdGgubWF4KE1hdGguYWJzKHRpY2tzWzBdLnZhbHVlKSwgTWF0aC5hYnModGlja3NbdGlja3MubGVuZ3RoIC0gMV0udmFsdWUpKTtcbiAgICAgIGlmIChtYXhUaWNrIDwgMWUtNCB8fCBtYXhUaWNrID4gMWUrMTUpIHtcbiAgICAgICAgbm90YXRpb24gPSAnc2NpZW50aWZpYyc7XG4gICAgICB9XG4gICAgICBkZWx0YSA9IGNhbGN1bGF0ZURlbHRhKHRpY2tWYWx1ZSwgdGlja3MpO1xuICAgIH1cbiAgICBjb25zdCBsb2dEZWx0YSA9IGxvZzEwKE1hdGguYWJzKGRlbHRhKSk7XG4gICAgY29uc3QgbnVtRGVjaW1hbCA9IE1hdGgubWF4KE1hdGgubWluKC0xICogTWF0aC5mbG9vcihsb2dEZWx0YSksIDIwKSwgMCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtub3RhdGlvbiwgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBudW1EZWNpbWFsLCBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IG51bURlY2ltYWx9O1xuICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgdGhpcy5vcHRpb25zLnRpY2tzLmZvcm1hdCk7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aWNrVmFsdWUsIGxvY2FsZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGxvZ2FyaXRobWljKHRpY2tWYWx1ZSwgaW5kZXgsIHRpY2tzKSB7XG4gICAgaWYgKHRpY2tWYWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcwJztcbiAgICB9XG4gICAgY29uc3QgcmVtYWluID0gdGlja1ZhbHVlIC8gKE1hdGgucG93KDEwLCBNYXRoLmZsb29yKGxvZzEwKHRpY2tWYWx1ZSkpKSk7XG4gICAgaWYgKHJlbWFpbiA9PT0gMSB8fCByZW1haW4gPT09IDIgfHwgcmVtYWluID09PSA1KSB7XG4gICAgICByZXR1cm4gZm9ybWF0dGVycy5udW1lcmljLmNhbGwodGhpcywgdGlja1ZhbHVlLCBpbmRleCwgdGlja3MpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5mdW5jdGlvbiBjYWxjdWxhdGVEZWx0YSh0aWNrVmFsdWUsIHRpY2tzKSB7XG4gIGxldCBkZWx0YSA9IHRpY2tzLmxlbmd0aCA+IDMgPyB0aWNrc1syXS52YWx1ZSAtIHRpY2tzWzFdLnZhbHVlIDogdGlja3NbMV0udmFsdWUgLSB0aWNrc1swXS52YWx1ZTtcbiAgaWYgKE1hdGguYWJzKGRlbHRhKSA+PSAxICYmIHRpY2tWYWx1ZSAhPT0gTWF0aC5mbG9vcih0aWNrVmFsdWUpKSB7XG4gICAgZGVsdGEgPSB0aWNrVmFsdWUgLSBNYXRoLmZsb29yKHRpY2tWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGRlbHRhO1xufVxudmFyIFRpY2tzID0ge2Zvcm1hdHRlcnN9O1xuXG5kZWZhdWx0cy5zZXQoJ3NjYWxlJywge1xuICBkaXNwbGF5OiB0cnVlLFxuICBvZmZzZXQ6IGZhbHNlLFxuICByZXZlcnNlOiBmYWxzZSxcbiAgYmVnaW5BdFplcm86IGZhbHNlLFxuICBib3VuZHM6ICd0aWNrcycsXG4gIGdyYWNlOiAwLFxuICBncmlkOiB7XG4gICAgZGlzcGxheTogdHJ1ZSxcbiAgICBsaW5lV2lkdGg6IDEsXG4gICAgZHJhd0JvcmRlcjogdHJ1ZSxcbiAgICBkcmF3T25DaGFydEFyZWE6IHRydWUsXG4gICAgZHJhd1RpY2tzOiB0cnVlLFxuICAgIHRpY2tMZW5ndGg6IDgsXG4gICAgdGlja1dpZHRoOiAoX2N0eCwgb3B0aW9ucykgPT4gb3B0aW9ucy5saW5lV2lkdGgsXG4gICAgdGlja0NvbG9yOiAoX2N0eCwgb3B0aW9ucykgPT4gb3B0aW9ucy5jb2xvcixcbiAgICBvZmZzZXQ6IGZhbHNlLFxuICAgIGJvcmRlckRhc2g6IFtdLFxuICAgIGJvcmRlckRhc2hPZmZzZXQ6IDAuMCxcbiAgICBib3JkZXJXaWR0aDogMVxuICB9LFxuICB0aXRsZToge1xuICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgIHRleHQ6ICcnLFxuICAgIHBhZGRpbmc6IHtcbiAgICAgIHRvcDogNCxcbiAgICAgIGJvdHRvbTogNFxuICAgIH1cbiAgfSxcbiAgdGlja3M6IHtcbiAgICBtaW5Sb3RhdGlvbjogMCxcbiAgICBtYXhSb3RhdGlvbjogNTAsXG4gICAgbWlycm9yOiBmYWxzZSxcbiAgICB0ZXh0U3Ryb2tlV2lkdGg6IDAsXG4gICAgdGV4dFN0cm9rZUNvbG9yOiAnJyxcbiAgICBwYWRkaW5nOiAzLFxuICAgIGRpc3BsYXk6IHRydWUsXG4gICAgYXV0b1NraXA6IHRydWUsXG4gICAgYXV0b1NraXBQYWRkaW5nOiAzLFxuICAgIGxhYmVsT2Zmc2V0OiAwLFxuICAgIGNhbGxiYWNrOiBUaWNrcy5mb3JtYXR0ZXJzLnZhbHVlcyxcbiAgICBtaW5vcjoge30sXG4gICAgbWFqb3I6IHt9LFxuICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICBjcm9zc0FsaWduOiAnbmVhcicsXG4gICAgc2hvd0xhYmVsQmFja2Ryb3A6IGZhbHNlLFxuICAgIGJhY2tkcm9wQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpJyxcbiAgICBiYWNrZHJvcFBhZGRpbmc6IDIsXG4gIH1cbn0pO1xuZGVmYXVsdHMucm91dGUoJ3NjYWxlLnRpY2tzJywgJ2NvbG9yJywgJycsICdjb2xvcicpO1xuZGVmYXVsdHMucm91dGUoJ3NjYWxlLmdyaWQnLCAnY29sb3InLCAnJywgJ2JvcmRlckNvbG9yJyk7XG5kZWZhdWx0cy5yb3V0ZSgnc2NhbGUuZ3JpZCcsICdib3JkZXJDb2xvcicsICcnLCAnYm9yZGVyQ29sb3InKTtcbmRlZmF1bHRzLnJvdXRlKCdzY2FsZS50aXRsZScsICdjb2xvcicsICcnLCAnY29sb3InKTtcbmRlZmF1bHRzLmRlc2NyaWJlKCdzY2FsZScsIHtcbiAgX2ZhbGxiYWNrOiBmYWxzZSxcbiAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiAhbmFtZS5zdGFydHNXaXRoKCdiZWZvcmUnKSAmJiAhbmFtZS5zdGFydHNXaXRoKCdhZnRlcicpICYmIG5hbWUgIT09ICdjYWxsYmFjaycgJiYgbmFtZSAhPT0gJ3BhcnNlcicsXG4gIF9pbmRleGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnYm9yZGVyRGFzaCcgJiYgbmFtZSAhPT0gJ3RpY2tCb3JkZXJEYXNoJyxcbn0pO1xuZGVmYXVsdHMuZGVzY3JpYmUoJ3NjYWxlcycsIHtcbiAgX2ZhbGxiYWNrOiAnc2NhbGUnLFxufSk7XG5kZWZhdWx0cy5kZXNjcmliZSgnc2NhbGUudGlja3MnLCB7XG4gIF9zY3JpcHRhYmxlOiAobmFtZSkgPT4gbmFtZSAhPT0gJ2JhY2tkcm9wUGFkZGluZycgJiYgbmFtZSAhPT0gJ2NhbGxiYWNrJyxcbiAgX2luZGV4YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdiYWNrZHJvcFBhZGRpbmcnLFxufSk7XG5cbmZ1bmN0aW9uIGF1dG9Ta2lwKHNjYWxlLCB0aWNrcykge1xuICBjb25zdCB0aWNrT3B0cyA9IHNjYWxlLm9wdGlvbnMudGlja3M7XG4gIGNvbnN0IHRpY2tzTGltaXQgPSB0aWNrT3B0cy5tYXhUaWNrc0xpbWl0IHx8IGRldGVybWluZU1heFRpY2tzKHNjYWxlKTtcbiAgY29uc3QgbWFqb3JJbmRpY2VzID0gdGlja09wdHMubWFqb3IuZW5hYmxlZCA/IGdldE1ham9ySW5kaWNlcyh0aWNrcykgOiBbXTtcbiAgY29uc3QgbnVtTWFqb3JJbmRpY2VzID0gbWFqb3JJbmRpY2VzLmxlbmd0aDtcbiAgY29uc3QgZmlyc3QgPSBtYWpvckluZGljZXNbMF07XG4gIGNvbnN0IGxhc3QgPSBtYWpvckluZGljZXNbbnVtTWFqb3JJbmRpY2VzIC0gMV07XG4gIGNvbnN0IG5ld1RpY2tzID0gW107XG4gIGlmIChudW1NYWpvckluZGljZXMgPiB0aWNrc0xpbWl0KSB7XG4gICAgc2tpcE1ham9ycyh0aWNrcywgbmV3VGlja3MsIG1ham9ySW5kaWNlcywgbnVtTWFqb3JJbmRpY2VzIC8gdGlja3NMaW1pdCk7XG4gICAgcmV0dXJuIG5ld1RpY2tzO1xuICB9XG4gIGNvbnN0IHNwYWNpbmcgPSBjYWxjdWxhdGVTcGFjaW5nKG1ham9ySW5kaWNlcywgdGlja3MsIHRpY2tzTGltaXQpO1xuICBpZiAobnVtTWFqb3JJbmRpY2VzID4gMCkge1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGNvbnN0IGF2Z01ham9yU3BhY2luZyA9IG51bU1ham9ySW5kaWNlcyA+IDEgPyBNYXRoLnJvdW5kKChsYXN0IC0gZmlyc3QpIC8gKG51bU1ham9ySW5kaWNlcyAtIDEpKSA6IG51bGw7XG4gICAgc2tpcCh0aWNrcywgbmV3VGlja3MsIHNwYWNpbmcsIGlzTnVsbE9yVW5kZWYoYXZnTWFqb3JTcGFjaW5nKSA/IDAgOiBmaXJzdCAtIGF2Z01ham9yU3BhY2luZywgZmlyc3QpO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBudW1NYWpvckluZGljZXMgLSAxOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZywgbWFqb3JJbmRpY2VzW2ldLCBtYWpvckluZGljZXNbaSArIDFdKTtcbiAgICB9XG4gICAgc2tpcCh0aWNrcywgbmV3VGlja3MsIHNwYWNpbmcsIGxhc3QsIGlzTnVsbE9yVW5kZWYoYXZnTWFqb3JTcGFjaW5nKSA/IHRpY2tzLmxlbmd0aCA6IGxhc3QgKyBhdmdNYWpvclNwYWNpbmcpO1xuICAgIHJldHVybiBuZXdUaWNrcztcbiAgfVxuICBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZyk7XG4gIHJldHVybiBuZXdUaWNrcztcbn1cbmZ1bmN0aW9uIGRldGVybWluZU1heFRpY2tzKHNjYWxlKSB7XG4gIGNvbnN0IG9mZnNldCA9IHNjYWxlLm9wdGlvbnMub2Zmc2V0O1xuICBjb25zdCB0aWNrTGVuZ3RoID0gc2NhbGUuX3RpY2tTaXplKCk7XG4gIGNvbnN0IG1heFNjYWxlID0gc2NhbGUuX2xlbmd0aCAvIHRpY2tMZW5ndGggKyAob2Zmc2V0ID8gMCA6IDEpO1xuICBjb25zdCBtYXhDaGFydCA9IHNjYWxlLl9tYXhMZW5ndGggLyB0aWNrTGVuZ3RoO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLm1pbihtYXhTY2FsZSwgbWF4Q2hhcnQpKTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNwYWNpbmcobWFqb3JJbmRpY2VzLCB0aWNrcywgdGlja3NMaW1pdCkge1xuICBjb25zdCBldmVuTWFqb3JTcGFjaW5nID0gZ2V0RXZlblNwYWNpbmcobWFqb3JJbmRpY2VzKTtcbiAgY29uc3Qgc3BhY2luZyA9IHRpY2tzLmxlbmd0aCAvIHRpY2tzTGltaXQ7XG4gIGlmICghZXZlbk1ham9yU3BhY2luZykge1xuICAgIHJldHVybiBNYXRoLm1heChzcGFjaW5nLCAxKTtcbiAgfVxuICBjb25zdCBmYWN0b3JzID0gX2ZhY3Rvcml6ZShldmVuTWFqb3JTcGFjaW5nKTtcbiAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSBmYWN0b3JzLmxlbmd0aCAtIDE7IGkgPCBpbGVuOyBpKyspIHtcbiAgICBjb25zdCBmYWN0b3IgPSBmYWN0b3JzW2ldO1xuICAgIGlmIChmYWN0b3IgPiBzcGFjaW5nKSB7XG4gICAgICByZXR1cm4gZmFjdG9yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoc3BhY2luZywgMSk7XG59XG5mdW5jdGlvbiBnZXRNYWpvckluZGljZXModGlja3MpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGxldCBpLCBpbGVuO1xuICBmb3IgKGkgPSAwLCBpbGVuID0gdGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgaWYgKHRpY2tzW2ldLm1ham9yKSB7XG4gICAgICByZXN1bHQucHVzaChpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNraXBNYWpvcnModGlja3MsIG5ld1RpY2tzLCBtYWpvckluZGljZXMsIHNwYWNpbmcpIHtcbiAgbGV0IGNvdW50ID0gMDtcbiAgbGV0IG5leHQgPSBtYWpvckluZGljZXNbMF07XG4gIGxldCBpO1xuICBzcGFjaW5nID0gTWF0aC5jZWlsKHNwYWNpbmcpO1xuICBmb3IgKGkgPSAwOyBpIDwgdGlja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSA9PT0gbmV4dCkge1xuICAgICAgbmV3VGlja3MucHVzaCh0aWNrc1tpXSk7XG4gICAgICBjb3VudCsrO1xuICAgICAgbmV4dCA9IG1ham9ySW5kaWNlc1tjb3VudCAqIHNwYWNpbmddO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2tpcCh0aWNrcywgbmV3VGlja3MsIHNwYWNpbmcsIG1ham9yU3RhcnQsIG1ham9yRW5kKSB7XG4gIGNvbnN0IHN0YXJ0ID0gdmFsdWVPckRlZmF1bHQobWFqb3JTdGFydCwgMCk7XG4gIGNvbnN0IGVuZCA9IE1hdGgubWluKHZhbHVlT3JEZWZhdWx0KG1ham9yRW5kLCB0aWNrcy5sZW5ndGgpLCB0aWNrcy5sZW5ndGgpO1xuICBsZXQgY291bnQgPSAwO1xuICBsZXQgbGVuZ3RoLCBpLCBuZXh0O1xuICBzcGFjaW5nID0gTWF0aC5jZWlsKHNwYWNpbmcpO1xuICBpZiAobWFqb3JFbmQpIHtcbiAgICBsZW5ndGggPSBtYWpvckVuZCAtIG1ham9yU3RhcnQ7XG4gICAgc3BhY2luZyA9IGxlbmd0aCAvIE1hdGguZmxvb3IobGVuZ3RoIC8gc3BhY2luZyk7XG4gIH1cbiAgbmV4dCA9IHN0YXJ0O1xuICB3aGlsZSAobmV4dCA8IDApIHtcbiAgICBjb3VudCsrO1xuICAgIG5leHQgPSBNYXRoLnJvdW5kKHN0YXJ0ICsgY291bnQgKiBzcGFjaW5nKTtcbiAgfVxuICBmb3IgKGkgPSBNYXRoLm1heChzdGFydCwgMCk7IGkgPCBlbmQ7IGkrKykge1xuICAgIGlmIChpID09PSBuZXh0KSB7XG4gICAgICBuZXdUaWNrcy5wdXNoKHRpY2tzW2ldKTtcbiAgICAgIGNvdW50Kys7XG4gICAgICBuZXh0ID0gTWF0aC5yb3VuZChzdGFydCArIGNvdW50ICogc3BhY2luZyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBnZXRFdmVuU3BhY2luZyhhcnIpIHtcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgbGV0IGksIGRpZmY7XG4gIGlmIChsZW4gPCAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoZGlmZiA9IGFyclswXSwgaSA9IDE7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhcnJbaV0gLSBhcnJbaSAtIDFdICE9PSBkaWZmKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaWZmO1xufVxuXG5jb25zdCByZXZlcnNlQWxpZ24gPSAoYWxpZ24pID0+IGFsaWduID09PSAnbGVmdCcgPyAncmlnaHQnIDogYWxpZ24gPT09ICdyaWdodCcgPyAnbGVmdCcgOiBhbGlnbjtcbmNvbnN0IG9mZnNldEZyb21FZGdlID0gKHNjYWxlLCBlZGdlLCBvZmZzZXQpID0+IGVkZ2UgPT09ICd0b3AnIHx8IGVkZ2UgPT09ICdsZWZ0JyA/IHNjYWxlW2VkZ2VdICsgb2Zmc2V0IDogc2NhbGVbZWRnZV0gLSBvZmZzZXQ7XG5mdW5jdGlvbiBzYW1wbGUoYXJyLCBudW1JdGVtcykge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3QgaW5jcmVtZW50ID0gYXJyLmxlbmd0aCAvIG51bUl0ZW1zO1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBsZXQgaSA9IDA7XG4gIGZvciAoOyBpIDwgbGVuOyBpICs9IGluY3JlbWVudCkge1xuICAgIHJlc3VsdC5wdXNoKGFycltNYXRoLmZsb29yKGkpXSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFBpeGVsRm9yR3JpZExpbmUoc2NhbGUsIGluZGV4LCBvZmZzZXRHcmlkTGluZXMpIHtcbiAgY29uc3QgbGVuZ3RoID0gc2NhbGUudGlja3MubGVuZ3RoO1xuICBjb25zdCB2YWxpZEluZGV4ID0gTWF0aC5taW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICBjb25zdCBzdGFydCA9IHNjYWxlLl9zdGFydFBpeGVsO1xuICBjb25zdCBlbmQgPSBzY2FsZS5fZW5kUGl4ZWw7XG4gIGNvbnN0IGVwc2lsb24gPSAxZS02O1xuICBsZXQgbGluZVZhbHVlID0gc2NhbGUuZ2V0UGl4ZWxGb3JUaWNrKHZhbGlkSW5kZXgpO1xuICBsZXQgb2Zmc2V0O1xuICBpZiAob2Zmc2V0R3JpZExpbmVzKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgobGluZVZhbHVlIC0gc3RhcnQsIGVuZCAtIGxpbmVWYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgb2Zmc2V0ID0gKHNjYWxlLmdldFBpeGVsRm9yVGljaygxKSAtIGxpbmVWYWx1ZSkgLyAyO1xuICAgIH0gZWxzZSB7XG4gICAgICBvZmZzZXQgPSAobGluZVZhbHVlIC0gc2NhbGUuZ2V0UGl4ZWxGb3JUaWNrKHZhbGlkSW5kZXggLSAxKSkgLyAyO1xuICAgIH1cbiAgICBsaW5lVmFsdWUgKz0gdmFsaWRJbmRleCA8IGluZGV4ID8gb2Zmc2V0IDogLW9mZnNldDtcbiAgICBpZiAobGluZVZhbHVlIDwgc3RhcnQgLSBlcHNpbG9uIHx8IGxpbmVWYWx1ZSA+IGVuZCArIGVwc2lsb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpbmVWYWx1ZTtcbn1cbmZ1bmN0aW9uIGdhcmJhZ2VDb2xsZWN0KGNhY2hlcywgbGVuZ3RoKSB7XG4gIGVhY2goY2FjaGVzLCAoY2FjaGUpID0+IHtcbiAgICBjb25zdCBnYyA9IGNhY2hlLmdjO1xuICAgIGNvbnN0IGdjTGVuID0gZ2MubGVuZ3RoIC8gMjtcbiAgICBsZXQgaTtcbiAgICBpZiAoZ2NMZW4gPiBsZW5ndGgpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBnY0xlbjsgKytpKSB7XG4gICAgICAgIGRlbGV0ZSBjYWNoZS5kYXRhW2djW2ldXTtcbiAgICAgIH1cbiAgICAgIGdjLnNwbGljZSgwLCBnY0xlbik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFRpY2tNYXJrTGVuZ3RoKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG9wdGlvbnMuZHJhd1RpY2tzID8gb3B0aW9ucy50aWNrTGVuZ3RoIDogMDtcbn1cbmZ1bmN0aW9uIGdldFRpdGxlSGVpZ2h0KG9wdGlvbnMsIGZhbGxiYWNrKSB7XG4gIGlmICghb3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgZm9udCA9IHRvRm9udChvcHRpb25zLmZvbnQsIGZhbGxiYWNrKTtcbiAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICBjb25zdCBsaW5lcyA9IGlzQXJyYXkob3B0aW9ucy50ZXh0KSA/IG9wdGlvbnMudGV4dC5sZW5ndGggOiAxO1xuICByZXR1cm4gKGxpbmVzICogZm9udC5saW5lSGVpZ2h0KSArIHBhZGRpbmcuaGVpZ2h0O1xufVxuZnVuY3Rpb24gY3JlYXRlU2NhbGVDb250ZXh0KHBhcmVudCwgc2NhbGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgc2NhbGUsXG4gICAgdHlwZTogJ3NjYWxlJ1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRpY2tDb250ZXh0KHBhcmVudCwgaW5kZXgsIHRpY2spIHtcbiAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgdGljayxcbiAgICBpbmRleCxcbiAgICB0eXBlOiAndGljaydcbiAgfSk7XG59XG5mdW5jdGlvbiB0aXRsZUFsaWduKGFsaWduLCBwb3NpdGlvbiwgcmV2ZXJzZSkge1xuICBsZXQgcmV0ID0gX3RvTGVmdFJpZ2h0Q2VudGVyKGFsaWduKTtcbiAgaWYgKChyZXZlcnNlICYmIHBvc2l0aW9uICE9PSAncmlnaHQnKSB8fCAoIXJldmVyc2UgJiYgcG9zaXRpb24gPT09ICdyaWdodCcpKSB7XG4gICAgcmV0ID0gcmV2ZXJzZUFsaWduKHJldCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHRpdGxlQXJncyhzY2FsZSwgb2Zmc2V0LCBwb3NpdGlvbiwgYWxpZ24pIHtcbiAgY29uc3Qge3RvcCwgbGVmdCwgYm90dG9tLCByaWdodCwgY2hhcnR9ID0gc2NhbGU7XG4gIGNvbnN0IHtjaGFydEFyZWEsIHNjYWxlc30gPSBjaGFydDtcbiAgbGV0IHJvdGF0aW9uID0gMDtcbiAgbGV0IG1heFdpZHRoLCB0aXRsZVgsIHRpdGxlWTtcbiAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xuICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgaWYgKHNjYWxlLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgdGl0bGVYID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIGxlZnQsIHJpZ2h0KTtcbiAgICBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgdGl0bGVZID0gc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKSArIGhlaWdodCAtIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgdGl0bGVZID0gKGNoYXJ0QXJlYS5ib3R0b20gKyBjaGFydEFyZWEudG9wKSAvIDIgKyBoZWlnaHQgLSBvZmZzZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpdGxlWSA9IG9mZnNldEZyb21FZGdlKHNjYWxlLCBwb3NpdGlvbiwgb2Zmc2V0KTtcbiAgICB9XG4gICAgbWF4V2lkdGggPSByaWdodCAtIGxlZnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzT2JqZWN0KHBvc2l0aW9uKSkge1xuICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgIHRpdGxlWCA9IHNjYWxlc1twb3NpdGlvbkF4aXNJRF0uZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkgLSB3aWR0aCArIG9mZnNldDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgdGl0bGVYID0gKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDIgLSB3aWR0aCArIG9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGVYID0gb2Zmc2V0RnJvbUVkZ2Uoc2NhbGUsIHBvc2l0aW9uLCBvZmZzZXQpO1xuICAgIH1cbiAgICB0aXRsZVkgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgYm90dG9tLCB0b3ApO1xuICAgIHJvdGF0aW9uID0gcG9zaXRpb24gPT09ICdsZWZ0JyA/IC1IQUxGX1BJIDogSEFMRl9QSTtcbiAgfVxuICByZXR1cm4ge3RpdGxlWCwgdGl0bGVZLCBtYXhXaWR0aCwgcm90YXRpb259O1xufVxuY2xhc3MgU2NhbGUgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlkID0gY2ZnLmlkO1xuICAgIHRoaXMudHlwZSA9IGNmZy50eXBlO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmN0eCA9IGNmZy5jdHg7XG4gICAgdGhpcy5jaGFydCA9IGNmZy5jaGFydDtcbiAgICB0aGlzLnRvcCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJvdHRvbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpZHRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX21hcmdpbnMgPSB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDBcbiAgICB9O1xuICAgIHRoaXMubWF4V2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tYXhIZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wYWRkaW5nVG9wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYXhpcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxhYmVsUm90YXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5taW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tYXggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50aWNrcyA9IFtdO1xuICAgIHRoaXMuX2dyaWRMaW5lSXRlbXMgPSBudWxsO1xuICAgIHRoaXMuX2xhYmVsSXRlbXMgPSBudWxsO1xuICAgIHRoaXMuX2xhYmVsU2l6ZXMgPSBudWxsO1xuICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWF4TGVuZ3RoID0gMDtcbiAgICB0aGlzLl9sb25nZXN0VGV4dENhY2hlID0ge307XG4gICAgdGhpcy5fc3RhcnRQaXhlbCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9lbmRQaXhlbCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9yZXZlcnNlUGl4ZWxzID0gZmFsc2U7XG4gICAgdGhpcy5fdXNlck1heCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl91c2VyTWluID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1Z2dlc3RlZE1heCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdWdnZXN0ZWRNaW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdGlja3NMZW5ndGggPSAwO1xuICAgIHRoaXMuX2JvcmRlclZhbHVlID0gMDtcbiAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICB9XG4gIGluaXQob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgdGhpcy5heGlzID0gb3B0aW9ucy5heGlzO1xuICAgIHRoaXMuX3VzZXJNaW4gPSB0aGlzLnBhcnNlKG9wdGlvbnMubWluKTtcbiAgICB0aGlzLl91c2VyTWF4ID0gdGhpcy5wYXJzZShvcHRpb25zLm1heCk7XG4gICAgdGhpcy5fc3VnZ2VzdGVkTWluID0gdGhpcy5wYXJzZShvcHRpb25zLnN1Z2dlc3RlZE1pbik7XG4gICAgdGhpcy5fc3VnZ2VzdGVkTWF4ID0gdGhpcy5wYXJzZShvcHRpb25zLnN1Z2dlc3RlZE1heCk7XG4gIH1cbiAgcGFyc2UocmF3LCBpbmRleCkge1xuICAgIHJldHVybiByYXc7XG4gIH1cbiAgZ2V0VXNlckJvdW5kcygpIHtcbiAgICBsZXQge191c2VyTWluLCBfdXNlck1heCwgX3N1Z2dlc3RlZE1pbiwgX3N1Z2dlc3RlZE1heH0gPSB0aGlzO1xuICAgIF91c2VyTWluID0gZmluaXRlT3JEZWZhdWx0KF91c2VyTWluLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgIF91c2VyTWF4ID0gZmluaXRlT3JEZWZhdWx0KF91c2VyTWF4LCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgIF9zdWdnZXN0ZWRNaW4gPSBmaW5pdGVPckRlZmF1bHQoX3N1Z2dlc3RlZE1pbiwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICBfc3VnZ2VzdGVkTWF4ID0gZmluaXRlT3JEZWZhdWx0KF9zdWdnZXN0ZWRNYXgsIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pbjogZmluaXRlT3JEZWZhdWx0KF91c2VyTWluLCBfc3VnZ2VzdGVkTWluKSxcbiAgICAgIG1heDogZmluaXRlT3JEZWZhdWx0KF91c2VyTWF4LCBfc3VnZ2VzdGVkTWF4KSxcbiAgICAgIG1pbkRlZmluZWQ6IGlzTnVtYmVyRmluaXRlKF91c2VyTWluKSxcbiAgICAgIG1heERlZmluZWQ6IGlzTnVtYmVyRmluaXRlKF91c2VyTWF4KVxuICAgIH07XG4gIH1cbiAgZ2V0TWluTWF4KGNhblN0YWNrKSB7XG4gICAgbGV0IHttaW4sIG1heCwgbWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICBsZXQgcmFuZ2U7XG4gICAgaWYgKG1pbkRlZmluZWQgJiYgbWF4RGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHttaW4sIG1heH07XG4gICAgfVxuICAgIGNvbnN0IG1ldGFzID0gdGhpcy5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygpO1xuICAgIGZvciAobGV0IGkgPSAwLCBpbGVuID0gbWV0YXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICByYW5nZSA9IG1ldGFzW2ldLmNvbnRyb2xsZXIuZ2V0TWluTWF4KHRoaXMsIGNhblN0YWNrKTtcbiAgICAgIGlmICghbWluRGVmaW5lZCkge1xuICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHJhbmdlLm1pbik7XG4gICAgICB9XG4gICAgICBpZiAoIW1heERlZmluZWQpIHtcbiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCByYW5nZS5tYXgpO1xuICAgICAgfVxuICAgIH1cbiAgICBtaW4gPSBtYXhEZWZpbmVkICYmIG1pbiA+IG1heCA/IG1heCA6IG1pbjtcbiAgICBtYXggPSBtaW5EZWZpbmVkICYmIG1pbiA+IG1heCA/IG1pbiA6IG1heDtcbiAgICByZXR1cm4ge1xuICAgICAgbWluOiBmaW5pdGVPckRlZmF1bHQobWluLCBmaW5pdGVPckRlZmF1bHQobWF4LCBtaW4pKSxcbiAgICAgIG1heDogZmluaXRlT3JEZWZhdWx0KG1heCwgZmluaXRlT3JEZWZhdWx0KG1pbiwgbWF4KSlcbiAgICB9O1xuICB9XG4gIGdldFBhZGRpbmcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IHRoaXMucGFkZGluZ0xlZnQgfHwgMCxcbiAgICAgIHRvcDogdGhpcy5wYWRkaW5nVG9wIHx8IDAsXG4gICAgICByaWdodDogdGhpcy5wYWRkaW5nUmlnaHQgfHwgMCxcbiAgICAgIGJvdHRvbTogdGhpcy5wYWRkaW5nQm90dG9tIHx8IDBcbiAgICB9O1xuICB9XG4gIGdldFRpY2tzKCkge1xuICAgIHJldHVybiB0aGlzLnRpY2tzO1xuICB9XG4gIGdldExhYmVscygpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5jaGFydC5kYXRhO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubGFiZWxzIHx8ICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gZGF0YS54TGFiZWxzIDogZGF0YS55TGFiZWxzKSB8fCBkYXRhLmxhYmVscyB8fCBbXTtcbiAgfVxuICBiZWZvcmVMYXlvdXQoKSB7XG4gICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB0aGlzLl9kYXRhTGltaXRzQ2FjaGVkID0gZmFsc2U7XG4gIH1cbiAgYmVmb3JlVXBkYXRlKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVVcGRhdGUsIFt0aGlzXSk7XG4gIH1cbiAgdXBkYXRlKG1heFdpZHRoLCBtYXhIZWlnaHQsIG1hcmdpbnMpIHtcbiAgICBjb25zdCB7YmVnaW5BdFplcm8sIGdyYWNlLCB0aWNrczogdGlja09wdHN9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHNhbXBsZVNpemUgPSB0aWNrT3B0cy5zYW1wbGVTaXplO1xuICAgIHRoaXMuYmVmb3JlVXBkYXRlKCk7XG4gICAgdGhpcy5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgIHRoaXMubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgIHRoaXMuX21hcmdpbnMgPSBtYXJnaW5zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDBcbiAgICB9LCBtYXJnaW5zKTtcbiAgICB0aGlzLnRpY2tzID0gbnVsbDtcbiAgICB0aGlzLl9sYWJlbFNpemVzID0gbnVsbDtcbiAgICB0aGlzLl9ncmlkTGluZUl0ZW1zID0gbnVsbDtcbiAgICB0aGlzLl9sYWJlbEl0ZW1zID0gbnVsbDtcbiAgICB0aGlzLmJlZm9yZVNldERpbWVuc2lvbnMoKTtcbiAgICB0aGlzLnNldERpbWVuc2lvbnMoKTtcbiAgICB0aGlzLmFmdGVyU2V0RGltZW5zaW9ucygpO1xuICAgIHRoaXMuX21heExlbmd0aCA9IHRoaXMuaXNIb3Jpem9udGFsKClcbiAgICAgID8gdGhpcy53aWR0aCArIG1hcmdpbnMubGVmdCArIG1hcmdpbnMucmlnaHRcbiAgICAgIDogdGhpcy5oZWlnaHQgKyBtYXJnaW5zLnRvcCArIG1hcmdpbnMuYm90dG9tO1xuICAgIGlmICghdGhpcy5fZGF0YUxpbWl0c0NhY2hlZCkge1xuICAgICAgdGhpcy5iZWZvcmVEYXRhTGltaXRzKCk7XG4gICAgICB0aGlzLmRldGVybWluZURhdGFMaW1pdHMoKTtcbiAgICAgIHRoaXMuYWZ0ZXJEYXRhTGltaXRzKCk7XG4gICAgICB0aGlzLl9yYW5nZSA9IF9hZGRHcmFjZSh0aGlzLCBncmFjZSwgYmVnaW5BdFplcm8pO1xuICAgICAgdGhpcy5fZGF0YUxpbWl0c0NhY2hlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYmVmb3JlQnVpbGRUaWNrcygpO1xuICAgIHRoaXMudGlja3MgPSB0aGlzLmJ1aWxkVGlja3MoKSB8fCBbXTtcbiAgICB0aGlzLmFmdGVyQnVpbGRUaWNrcygpO1xuICAgIGNvbnN0IHNhbXBsaW5nRW5hYmxlZCA9IHNhbXBsZVNpemUgPCB0aGlzLnRpY2tzLmxlbmd0aDtcbiAgICB0aGlzLl9jb252ZXJ0VGlja3NUb0xhYmVscyhzYW1wbGluZ0VuYWJsZWQgPyBzYW1wbGUodGhpcy50aWNrcywgc2FtcGxlU2l6ZSkgOiB0aGlzLnRpY2tzKTtcbiAgICB0aGlzLmNvbmZpZ3VyZSgpO1xuICAgIHRoaXMuYmVmb3JlQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpO1xuICAgIHRoaXMuY2FsY3VsYXRlTGFiZWxSb3RhdGlvbigpO1xuICAgIHRoaXMuYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCk7XG4gICAgaWYgKHRpY2tPcHRzLmRpc3BsYXkgJiYgKHRpY2tPcHRzLmF1dG9Ta2lwIHx8IHRpY2tPcHRzLnNvdXJjZSA9PT0gJ2F1dG8nKSkge1xuICAgICAgdGhpcy50aWNrcyA9IGF1dG9Ta2lwKHRoaXMsIHRoaXMudGlja3MpO1xuICAgICAgdGhpcy5fbGFiZWxTaXplcyA9IG51bGw7XG4gICAgICB0aGlzLmFmdGVyQXV0b1NraXAoKTtcbiAgICB9XG4gICAgaWYgKHNhbXBsaW5nRW5hYmxlZCkge1xuICAgICAgdGhpcy5fY29udmVydFRpY2tzVG9MYWJlbHModGhpcy50aWNrcyk7XG4gICAgfVxuICAgIHRoaXMuYmVmb3JlRml0KCk7XG4gICAgdGhpcy5maXQoKTtcbiAgICB0aGlzLmFmdGVyRml0KCk7XG4gICAgdGhpcy5hZnRlclVwZGF0ZSgpO1xuICB9XG4gIGNvbmZpZ3VyZSgpIHtcbiAgICBsZXQgcmV2ZXJzZVBpeGVscyA9IHRoaXMub3B0aW9ucy5yZXZlcnNlO1xuICAgIGxldCBzdGFydFBpeGVsLCBlbmRQaXhlbDtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgc3RhcnRQaXhlbCA9IHRoaXMubGVmdDtcbiAgICAgIGVuZFBpeGVsID0gdGhpcy5yaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRQaXhlbCA9IHRoaXMudG9wO1xuICAgICAgZW5kUGl4ZWwgPSB0aGlzLmJvdHRvbTtcbiAgICAgIHJldmVyc2VQaXhlbHMgPSAhcmV2ZXJzZVBpeGVscztcbiAgICB9XG4gICAgdGhpcy5fc3RhcnRQaXhlbCA9IHN0YXJ0UGl4ZWw7XG4gICAgdGhpcy5fZW5kUGl4ZWwgPSBlbmRQaXhlbDtcbiAgICB0aGlzLl9yZXZlcnNlUGl4ZWxzID0gcmV2ZXJzZVBpeGVscztcbiAgICB0aGlzLl9sZW5ndGggPSBlbmRQaXhlbCAtIHN0YXJ0UGl4ZWw7XG4gICAgdGhpcy5fYWxpZ25Ub1BpeGVscyA9IHRoaXMub3B0aW9ucy5hbGlnblRvUGl4ZWxzO1xuICB9XG4gIGFmdGVyVXBkYXRlKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclVwZGF0ZSwgW3RoaXNdKTtcbiAgfVxuICBiZWZvcmVTZXREaW1lbnNpb25zKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVTZXREaW1lbnNpb25zLCBbdGhpc10pO1xuICB9XG4gIHNldERpbWVuc2lvbnMoKSB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLm1heFdpZHRoO1xuICAgICAgdGhpcy5sZWZ0ID0gMDtcbiAgICAgIHRoaXMucmlnaHQgPSB0aGlzLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMubWF4SGVpZ2h0O1xuICAgICAgdGhpcy50b3AgPSAwO1xuICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgdGhpcy5wYWRkaW5nTGVmdCA9IDA7XG4gICAgdGhpcy5wYWRkaW5nVG9wID0gMDtcbiAgICB0aGlzLnBhZGRpbmdSaWdodCA9IDA7XG4gICAgdGhpcy5wYWRkaW5nQm90dG9tID0gMDtcbiAgfVxuICBhZnRlclNldERpbWVuc2lvbnMoKSB7XG4gICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyU2V0RGltZW5zaW9ucywgW3RoaXNdKTtcbiAgfVxuICBfY2FsbEhvb2tzKG5hbWUpIHtcbiAgICB0aGlzLmNoYXJ0Lm5vdGlmeVBsdWdpbnMobmFtZSwgdGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9uc1tuYW1lXSwgW3RoaXNdKTtcbiAgfVxuICBiZWZvcmVEYXRhTGltaXRzKCkge1xuICAgIHRoaXMuX2NhbGxIb29rcygnYmVmb3JlRGF0YUxpbWl0cycpO1xuICB9XG4gIGRldGVybWluZURhdGFMaW1pdHMoKSB7fVxuICBhZnRlckRhdGFMaW1pdHMoKSB7XG4gICAgdGhpcy5fY2FsbEhvb2tzKCdhZnRlckRhdGFMaW1pdHMnKTtcbiAgfVxuICBiZWZvcmVCdWlsZFRpY2tzKCkge1xuICAgIHRoaXMuX2NhbGxIb29rcygnYmVmb3JlQnVpbGRUaWNrcycpO1xuICB9XG4gIGJ1aWxkVGlja3MoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGFmdGVyQnVpbGRUaWNrcygpIHtcbiAgICB0aGlzLl9jYWxsSG9va3MoJ2FmdGVyQnVpbGRUaWNrcycpO1xuICB9XG4gIGJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbigpIHtcbiAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uLCBbdGhpc10pO1xuICB9XG4gIGdlbmVyYXRlVGlja0xhYmVscyh0aWNrcykge1xuICAgIGNvbnN0IHRpY2tPcHRzID0gdGhpcy5vcHRpb25zLnRpY2tzO1xuICAgIGxldCBpLCBpbGVuLCB0aWNrO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSB0aWNrcy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIHRpY2sgPSB0aWNrc1tpXTtcbiAgICAgIHRpY2subGFiZWwgPSBjYWxsYmFjayh0aWNrT3B0cy5jYWxsYmFjaywgW3RpY2sudmFsdWUsIGksIHRpY2tzXSwgdGhpcyk7XG4gICAgfVxuICB9XG4gIGFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclRpY2tUb0xhYmVsQ29udmVyc2lvbiwgW3RoaXNdKTtcbiAgfVxuICBiZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uLCBbdGhpc10pO1xuICB9XG4gIGNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB0aWNrT3B0cyA9IG9wdGlvbnMudGlja3M7XG4gICAgY29uc3QgbnVtVGlja3MgPSB0aGlzLnRpY2tzLmxlbmd0aDtcbiAgICBjb25zdCBtaW5Sb3RhdGlvbiA9IHRpY2tPcHRzLm1pblJvdGF0aW9uIHx8IDA7XG4gICAgY29uc3QgbWF4Um90YXRpb24gPSB0aWNrT3B0cy5tYXhSb3RhdGlvbjtcbiAgICBsZXQgbGFiZWxSb3RhdGlvbiA9IG1pblJvdGF0aW9uO1xuICAgIGxldCB0aWNrV2lkdGgsIG1heEhlaWdodCwgbWF4TGFiZWxEaWFnb25hbDtcbiAgICBpZiAoIXRoaXMuX2lzVmlzaWJsZSgpIHx8ICF0aWNrT3B0cy5kaXNwbGF5IHx8IG1pblJvdGF0aW9uID49IG1heFJvdGF0aW9uIHx8IG51bVRpY2tzIDw9IDEgfHwgIXRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHRoaXMubGFiZWxSb3RhdGlvbiA9IG1pblJvdGF0aW9uO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbFNpemVzID0gdGhpcy5fZ2V0TGFiZWxTaXplcygpO1xuICAgIGNvbnN0IG1heExhYmVsV2lkdGggPSBsYWJlbFNpemVzLndpZGVzdC53aWR0aDtcbiAgICBjb25zdCBtYXhMYWJlbEhlaWdodCA9IGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQ7XG4gICAgY29uc3QgbWF4V2lkdGggPSBfbGltaXRWYWx1ZSh0aGlzLmNoYXJ0LndpZHRoIC0gbWF4TGFiZWxXaWR0aCwgMCwgdGhpcy5tYXhXaWR0aCk7XG4gICAgdGlja1dpZHRoID0gb3B0aW9ucy5vZmZzZXQgPyB0aGlzLm1heFdpZHRoIC8gbnVtVGlja3MgOiBtYXhXaWR0aCAvIChudW1UaWNrcyAtIDEpO1xuICAgIGlmIChtYXhMYWJlbFdpZHRoICsgNiA+IHRpY2tXaWR0aCkge1xuICAgICAgdGlja1dpZHRoID0gbWF4V2lkdGggLyAobnVtVGlja3MgLSAob3B0aW9ucy5vZmZzZXQgPyAwLjUgOiAxKSk7XG4gICAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAtIGdldFRpY2tNYXJrTGVuZ3RoKG9wdGlvbnMuZ3JpZClcblx0XHRcdFx0LSB0aWNrT3B0cy5wYWRkaW5nIC0gZ2V0VGl0bGVIZWlnaHQob3B0aW9ucy50aXRsZSwgdGhpcy5jaGFydC5vcHRpb25zLmZvbnQpO1xuICAgICAgbWF4TGFiZWxEaWFnb25hbCA9IE1hdGguc3FydChtYXhMYWJlbFdpZHRoICogbWF4TGFiZWxXaWR0aCArIG1heExhYmVsSGVpZ2h0ICogbWF4TGFiZWxIZWlnaHQpO1xuICAgICAgbGFiZWxSb3RhdGlvbiA9IHRvRGVncmVlcyhNYXRoLm1pbihcbiAgICAgICAgTWF0aC5hc2luKF9saW1pdFZhbHVlKChsYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0ICsgNikgLyB0aWNrV2lkdGgsIC0xLCAxKSksXG4gICAgICAgIE1hdGguYXNpbihfbGltaXRWYWx1ZShtYXhIZWlnaHQgLyBtYXhMYWJlbERpYWdvbmFsLCAtMSwgMSkpIC0gTWF0aC5hc2luKF9saW1pdFZhbHVlKG1heExhYmVsSGVpZ2h0IC8gbWF4TGFiZWxEaWFnb25hbCwgLTEsIDEpKVxuICAgICAgKSk7XG4gICAgICBsYWJlbFJvdGF0aW9uID0gTWF0aC5tYXgobWluUm90YXRpb24sIE1hdGgubWluKG1heFJvdGF0aW9uLCBsYWJlbFJvdGF0aW9uKSk7XG4gICAgfVxuICAgIHRoaXMubGFiZWxSb3RhdGlvbiA9IGxhYmVsUm90YXRpb247XG4gIH1cbiAgYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCkge1xuICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlckNhbGN1bGF0ZUxhYmVsUm90YXRpb24sIFt0aGlzXSk7XG4gIH1cbiAgYWZ0ZXJBdXRvU2tpcCgpIHt9XG4gIGJlZm9yZUZpdCgpIHtcbiAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYmVmb3JlRml0LCBbdGhpc10pO1xuICB9XG4gIGZpdCgpIHtcbiAgICBjb25zdCBtaW5TaXplID0ge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIGNvbnN0IHtjaGFydCwgb3B0aW9uczoge3RpY2tzOiB0aWNrT3B0cywgdGl0bGU6IHRpdGxlT3B0cywgZ3JpZDogZ3JpZE9wdHN9fSA9IHRoaXM7XG4gICAgY29uc3QgZGlzcGxheSA9IHRoaXMuX2lzVmlzaWJsZSgpO1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7XG4gICAgaWYgKGRpc3BsYXkpIHtcbiAgICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gZ2V0VGl0bGVIZWlnaHQodGl0bGVPcHRzLCBjaGFydC5vcHRpb25zLmZvbnQpO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBtaW5TaXplLndpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgICAgbWluU2l6ZS5oZWlnaHQgPSBnZXRUaWNrTWFya0xlbmd0aChncmlkT3B0cykgKyB0aXRsZUhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pblNpemUuaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICAgIG1pblNpemUud2lkdGggPSBnZXRUaWNrTWFya0xlbmd0aChncmlkT3B0cykgKyB0aXRsZUhlaWdodDtcbiAgICAgIH1cbiAgICAgIGlmICh0aWNrT3B0cy5kaXNwbGF5ICYmIHRoaXMudGlja3MubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHtmaXJzdCwgbGFzdCwgd2lkZXN0LCBoaWdoZXN0fSA9IHRoaXMuX2dldExhYmVsU2l6ZXMoKTtcbiAgICAgICAgY29uc3QgdGlja1BhZGRpbmcgPSB0aWNrT3B0cy5wYWRkaW5nICogMjtcbiAgICAgICAgY29uc3QgYW5nbGVSYWRpYW5zID0gdG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKGFuZ2xlUmFkaWFucyk7XG4gICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlUmFkaWFucyk7XG4gICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICBjb25zdCBsYWJlbEhlaWdodCA9IHRpY2tPcHRzLm1pcnJvciA/IDAgOiBzaW4gKiB3aWRlc3Qud2lkdGggKyBjb3MgKiBoaWdoZXN0LmhlaWdodDtcbiAgICAgICAgICBtaW5TaXplLmhlaWdodCA9IE1hdGgubWluKHRoaXMubWF4SGVpZ2h0LCBtaW5TaXplLmhlaWdodCArIGxhYmVsSGVpZ2h0ICsgdGlja1BhZGRpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGxhYmVsV2lkdGggPSB0aWNrT3B0cy5taXJyb3IgPyAwIDogY29zICogd2lkZXN0LndpZHRoICsgc2luICogaGlnaGVzdC5oZWlnaHQ7XG4gICAgICAgICAgbWluU2l6ZS53aWR0aCA9IE1hdGgubWluKHRoaXMubWF4V2lkdGgsIG1pblNpemUud2lkdGggKyBsYWJlbFdpZHRoICsgdGlja1BhZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBhZGRpbmcoZmlyc3QsIGxhc3QsIHNpbiwgY29zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5faGFuZGxlTWFyZ2lucygpO1xuICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLl9sZW5ndGggPSBjaGFydC53aWR0aCAtIHRoaXMuX21hcmdpbnMubGVmdCAtIHRoaXMuX21hcmdpbnMucmlnaHQ7XG4gICAgICB0aGlzLmhlaWdodCA9IG1pblNpemUuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndpZHRoID0gbWluU2l6ZS53aWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5fbGVuZ3RoID0gY2hhcnQuaGVpZ2h0IC0gdGhpcy5fbWFyZ2lucy50b3AgLSB0aGlzLl9tYXJnaW5zLmJvdHRvbTtcbiAgICB9XG4gIH1cbiAgX2NhbGN1bGF0ZVBhZGRpbmcoZmlyc3QsIGxhc3QsIHNpbiwgY29zKSB7XG4gICAgY29uc3Qge3RpY2tzOiB7YWxpZ24sIHBhZGRpbmd9LCBwb3NpdGlvbn0gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgaXNSb3RhdGVkID0gdGhpcy5sYWJlbFJvdGF0aW9uICE9PSAwO1xuICAgIGNvbnN0IGxhYmVsc0JlbG93VGlja3MgPSBwb3NpdGlvbiAhPT0gJ3RvcCcgJiYgdGhpcy5heGlzID09PSAneCc7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIGNvbnN0IG9mZnNldExlZnQgPSB0aGlzLmdldFBpeGVsRm9yVGljaygwKSAtIHRoaXMubGVmdDtcbiAgICAgIGNvbnN0IG9mZnNldFJpZ2h0ID0gdGhpcy5yaWdodCAtIHRoaXMuZ2V0UGl4ZWxGb3JUaWNrKHRoaXMudGlja3MubGVuZ3RoIC0gMSk7XG4gICAgICBsZXQgcGFkZGluZ0xlZnQgPSAwO1xuICAgICAgbGV0IHBhZGRpbmdSaWdodCA9IDA7XG4gICAgICBpZiAoaXNSb3RhdGVkKSB7XG4gICAgICAgIGlmIChsYWJlbHNCZWxvd1RpY2tzKSB7XG4gICAgICAgICAgcGFkZGluZ0xlZnQgPSBjb3MgKiBmaXJzdC53aWR0aDtcbiAgICAgICAgICBwYWRkaW5nUmlnaHQgPSBzaW4gKiBsYXN0LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWRkaW5nTGVmdCA9IHNpbiAqIGZpcnN0LmhlaWdodDtcbiAgICAgICAgICBwYWRkaW5nUmlnaHQgPSBjb3MgKiBsYXN0LndpZHRoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHBhZGRpbmdSaWdodCA9IGxhc3Qud2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICBwYWRkaW5nTGVmdCA9IGZpcnN0LndpZHRoO1xuICAgICAgfSBlbHNlIGlmIChhbGlnbiAhPT0gJ2lubmVyJykge1xuICAgICAgICBwYWRkaW5nTGVmdCA9IGZpcnN0LndpZHRoIC8gMjtcbiAgICAgICAgcGFkZGluZ1JpZ2h0ID0gbGFzdC53aWR0aCAvIDI7XG4gICAgICB9XG4gICAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gTWF0aC5tYXgoKHBhZGRpbmdMZWZ0IC0gb2Zmc2V0TGVmdCArIHBhZGRpbmcpICogdGhpcy53aWR0aCAvICh0aGlzLndpZHRoIC0gb2Zmc2V0TGVmdCksIDApO1xuICAgICAgdGhpcy5wYWRkaW5nUmlnaHQgPSBNYXRoLm1heCgocGFkZGluZ1JpZ2h0IC0gb2Zmc2V0UmlnaHQgKyBwYWRkaW5nKSAqIHRoaXMud2lkdGggLyAodGhpcy53aWR0aCAtIG9mZnNldFJpZ2h0KSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwYWRkaW5nVG9wID0gbGFzdC5oZWlnaHQgLyAyO1xuICAgICAgbGV0IHBhZGRpbmdCb3R0b20gPSBmaXJzdC5oZWlnaHQgLyAyO1xuICAgICAgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHBhZGRpbmdUb3AgPSAwO1xuICAgICAgICBwYWRkaW5nQm90dG9tID0gZmlyc3QuaGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgcGFkZGluZ1RvcCA9IGxhc3QuaGVpZ2h0O1xuICAgICAgICBwYWRkaW5nQm90dG9tID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nO1xuICAgICAgdGhpcy5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbSArIHBhZGRpbmc7XG4gICAgfVxuICB9XG4gIF9oYW5kbGVNYXJnaW5zKCkge1xuICAgIGlmICh0aGlzLl9tYXJnaW5zKSB7XG4gICAgICB0aGlzLl9tYXJnaW5zLmxlZnQgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdMZWZ0LCB0aGlzLl9tYXJnaW5zLmxlZnQpO1xuICAgICAgdGhpcy5fbWFyZ2lucy50b3AgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdUb3AsIHRoaXMuX21hcmdpbnMudG9wKTtcbiAgICAgIHRoaXMuX21hcmdpbnMucmlnaHQgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdSaWdodCwgdGhpcy5fbWFyZ2lucy5yaWdodCk7XG4gICAgICB0aGlzLl9tYXJnaW5zLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMucGFkZGluZ0JvdHRvbSwgdGhpcy5fbWFyZ2lucy5ib3R0b20pO1xuICAgIH1cbiAgfVxuICBhZnRlckZpdCgpIHtcbiAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJGaXQsIFt0aGlzXSk7XG4gIH1cbiAgaXNIb3Jpem9udGFsKCkge1xuICAgIGNvbnN0IHtheGlzLCBwb3NpdGlvbn0gPSB0aGlzLm9wdGlvbnM7XG4gICAgcmV0dXJuIHBvc2l0aW9uID09PSAndG9wJyB8fCBwb3NpdGlvbiA9PT0gJ2JvdHRvbScgfHwgYXhpcyA9PT0gJ3gnO1xuICB9XG4gIGlzRnVsbFNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5mdWxsU2l6ZTtcbiAgfVxuICBfY29udmVydFRpY2tzVG9MYWJlbHModGlja3MpIHtcbiAgICB0aGlzLmJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbigpO1xuICAgIHRoaXMuZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gdGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICBpZiAoaXNOdWxsT3JVbmRlZih0aWNrc1tpXS5sYWJlbCkpIHtcbiAgICAgICAgdGlja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICBpbGVuLS07XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hZnRlclRpY2tUb0xhYmVsQ29udmVyc2lvbigpO1xuICB9XG4gIF9nZXRMYWJlbFNpemVzKCkge1xuICAgIGxldCBsYWJlbFNpemVzID0gdGhpcy5fbGFiZWxTaXplcztcbiAgICBpZiAoIWxhYmVsU2l6ZXMpIHtcbiAgICAgIGNvbnN0IHNhbXBsZVNpemUgPSB0aGlzLm9wdGlvbnMudGlja3Muc2FtcGxlU2l6ZTtcbiAgICAgIGxldCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgICBpZiAoc2FtcGxlU2l6ZSA8IHRpY2tzLmxlbmd0aCkge1xuICAgICAgICB0aWNrcyA9IHNhbXBsZSh0aWNrcywgc2FtcGxlU2l6ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sYWJlbFNpemVzID0gbGFiZWxTaXplcyA9IHRoaXMuX2NvbXB1dGVMYWJlbFNpemVzKHRpY2tzLCB0aWNrcy5sZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gbGFiZWxTaXplcztcbiAgfVxuICBfY29tcHV0ZUxhYmVsU2l6ZXModGlja3MsIGxlbmd0aCkge1xuICAgIGNvbnN0IHtjdHgsIF9sb25nZXN0VGV4dENhY2hlOiBjYWNoZXN9ID0gdGhpcztcbiAgICBjb25zdCB3aWR0aHMgPSBbXTtcbiAgICBjb25zdCBoZWlnaHRzID0gW107XG4gICAgbGV0IHdpZGVzdExhYmVsU2l6ZSA9IDA7XG4gICAgbGV0IGhpZ2hlc3RMYWJlbFNpemUgPSAwO1xuICAgIGxldCBpLCBqLCBqbGVuLCBsYWJlbCwgdGlja0ZvbnQsIGZvbnRTdHJpbmcsIGNhY2hlLCBsaW5lSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBuZXN0ZWRMYWJlbDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgIGxhYmVsID0gdGlja3NbaV0ubGFiZWw7XG4gICAgICB0aWNrRm9udCA9IHRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoaSk7XG4gICAgICBjdHguZm9udCA9IGZvbnRTdHJpbmcgPSB0aWNrRm9udC5zdHJpbmc7XG4gICAgICBjYWNoZSA9IGNhY2hlc1tmb250U3RyaW5nXSA9IGNhY2hlc1tmb250U3RyaW5nXSB8fCB7ZGF0YToge30sIGdjOiBbXX07XG4gICAgICBsaW5lSGVpZ2h0ID0gdGlja0ZvbnQubGluZUhlaWdodDtcbiAgICAgIHdpZHRoID0gaGVpZ2h0ID0gMDtcbiAgICAgIGlmICghaXNOdWxsT3JVbmRlZihsYWJlbCkgJiYgIWlzQXJyYXkobGFiZWwpKSB7XG4gICAgICAgIHdpZHRoID0gX21lYXN1cmVUZXh0KGN0eCwgY2FjaGUuZGF0YSwgY2FjaGUuZ2MsIHdpZHRoLCBsYWJlbCk7XG4gICAgICAgIGhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobGFiZWwpKSB7XG4gICAgICAgIGZvciAoaiA9IDAsIGpsZW4gPSBsYWJlbC5sZW5ndGg7IGogPCBqbGVuOyArK2opIHtcbiAgICAgICAgICBuZXN0ZWRMYWJlbCA9IGxhYmVsW2pdO1xuICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZihuZXN0ZWRMYWJlbCkgJiYgIWlzQXJyYXkobmVzdGVkTGFiZWwpKSB7XG4gICAgICAgICAgICB3aWR0aCA9IF9tZWFzdXJlVGV4dChjdHgsIGNhY2hlLmRhdGEsIGNhY2hlLmdjLCB3aWR0aCwgbmVzdGVkTGFiZWwpO1xuICAgICAgICAgICAgaGVpZ2h0ICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aWR0aHMucHVzaCh3aWR0aCk7XG4gICAgICBoZWlnaHRzLnB1c2goaGVpZ2h0KTtcbiAgICAgIHdpZGVzdExhYmVsU2l6ZSA9IE1hdGgubWF4KHdpZHRoLCB3aWRlc3RMYWJlbFNpemUpO1xuICAgICAgaGlnaGVzdExhYmVsU2l6ZSA9IE1hdGgubWF4KGhlaWdodCwgaGlnaGVzdExhYmVsU2l6ZSk7XG4gICAgfVxuICAgIGdhcmJhZ2VDb2xsZWN0KGNhY2hlcywgbGVuZ3RoKTtcbiAgICBjb25zdCB3aWRlc3QgPSB3aWR0aHMuaW5kZXhPZih3aWRlc3RMYWJlbFNpemUpO1xuICAgIGNvbnN0IGhpZ2hlc3QgPSBoZWlnaHRzLmluZGV4T2YoaGlnaGVzdExhYmVsU2l6ZSk7XG4gICAgY29uc3QgdmFsdWVBdCA9IChpZHgpID0+ICh7d2lkdGg6IHdpZHRoc1tpZHhdIHx8IDAsIGhlaWdodDogaGVpZ2h0c1tpZHhdIHx8IDB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IHZhbHVlQXQoMCksXG4gICAgICBsYXN0OiB2YWx1ZUF0KGxlbmd0aCAtIDEpLFxuICAgICAgd2lkZXN0OiB2YWx1ZUF0KHdpZGVzdCksXG4gICAgICBoaWdoZXN0OiB2YWx1ZUF0KGhpZ2hlc3QpLFxuICAgICAgd2lkdGhzLFxuICAgICAgaGVpZ2h0cyxcbiAgICB9O1xuICB9XG4gIGdldExhYmVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICByZXR1cm4gTmFOO1xuICB9XG4gIGdldFZhbHVlRm9yUGl4ZWwocGl4ZWwpIHt9XG4gIGdldFBpeGVsRm9yVGljayhpbmRleCkge1xuICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGlja3MubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGlja3NbaW5kZXhdLnZhbHVlKTtcbiAgfVxuICBnZXRQaXhlbEZvckRlY2ltYWwoZGVjaW1hbCkge1xuICAgIGlmICh0aGlzLl9yZXZlcnNlUGl4ZWxzKSB7XG4gICAgICBkZWNpbWFsID0gMSAtIGRlY2ltYWw7XG4gICAgfVxuICAgIGNvbnN0IHBpeGVsID0gdGhpcy5fc3RhcnRQaXhlbCArIGRlY2ltYWwgKiB0aGlzLl9sZW5ndGg7XG4gICAgcmV0dXJuIF9pbnQxNlJhbmdlKHRoaXMuX2FsaWduVG9QaXhlbHMgPyBfYWxpZ25QaXhlbCh0aGlzLmNoYXJ0LCBwaXhlbCwgMCkgOiBwaXhlbCk7XG4gIH1cbiAgZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSB7XG4gICAgY29uc3QgZGVjaW1hbCA9IChwaXhlbCAtIHRoaXMuX3N0YXJ0UGl4ZWwpIC8gdGhpcy5fbGVuZ3RoO1xuICAgIHJldHVybiB0aGlzLl9yZXZlcnNlUGl4ZWxzID8gMSAtIGRlY2ltYWwgOiBkZWNpbWFsO1xuICB9XG4gIGdldEJhc2VQaXhlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRoaXMuZ2V0QmFzZVZhbHVlKCkpO1xuICB9XG4gIGdldEJhc2VWYWx1ZSgpIHtcbiAgICBjb25zdCB7bWluLCBtYXh9ID0gdGhpcztcbiAgICByZXR1cm4gbWluIDwgMCAmJiBtYXggPCAwID8gbWF4IDpcbiAgICAgIG1pbiA+IDAgJiYgbWF4ID4gMCA/IG1pbiA6XG4gICAgICAwO1xuICB9XG4gIGdldENvbnRleHQoaW5kZXgpIHtcbiAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3MgfHwgW107XG4gICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aWNrcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHRpY2sgPSB0aWNrc1tpbmRleF07XG4gICAgICByZXR1cm4gdGljay4kY29udGV4dCB8fFxuXHRcdFx0XHQodGljay4kY29udGV4dCA9IGNyZWF0ZVRpY2tDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpLCBpbmRleCwgdGljaykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy4kY29udGV4dCB8fFxuXHRcdFx0KHRoaXMuJGNvbnRleHQgPSBjcmVhdGVTY2FsZUNvbnRleHQodGhpcy5jaGFydC5nZXRDb250ZXh0KCksIHRoaXMpKTtcbiAgfVxuICBfdGlja1NpemUoKSB7XG4gICAgY29uc3Qgb3B0aW9uVGlja3MgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgY29uc3Qgcm90ID0gdG9SYWRpYW5zKHRoaXMubGFiZWxSb3RhdGlvbik7XG4gICAgY29uc3QgY29zID0gTWF0aC5hYnMoTWF0aC5jb3Mocm90KSk7XG4gICAgY29uc3Qgc2luID0gTWF0aC5hYnMoTWF0aC5zaW4ocm90KSk7XG4gICAgY29uc3QgbGFiZWxTaXplcyA9IHRoaXMuX2dldExhYmVsU2l6ZXMoKTtcbiAgICBjb25zdCBwYWRkaW5nID0gb3B0aW9uVGlja3MuYXV0b1NraXBQYWRkaW5nIHx8IDA7XG4gICAgY29uc3QgdyA9IGxhYmVsU2l6ZXMgPyBsYWJlbFNpemVzLndpZGVzdC53aWR0aCArIHBhZGRpbmcgOiAwO1xuICAgIGNvbnN0IGggPSBsYWJlbFNpemVzID8gbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCArIHBhZGRpbmcgOiAwO1xuICAgIHJldHVybiB0aGlzLmlzSG9yaXpvbnRhbCgpXG4gICAgICA/IGggKiBjb3MgPiB3ICogc2luID8gdyAvIGNvcyA6IGggLyBzaW5cbiAgICAgIDogaCAqIHNpbiA8IHcgKiBjb3MgPyBoIC8gY29zIDogdyAvIHNpbjtcbiAgfVxuICBfaXNWaXNpYmxlKCkge1xuICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLm9wdGlvbnMuZGlzcGxheTtcbiAgICBpZiAoZGlzcGxheSAhPT0gJ2F1dG8nKSB7XG4gICAgICByZXR1cm4gISFkaXNwbGF5O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygpLmxlbmd0aCA+IDA7XG4gIH1cbiAgX2NvbXB1dGVHcmlkTGluZUl0ZW1zKGNoYXJ0QXJlYSkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XG4gICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qge2dyaWQsIHBvc2l0aW9ufSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgb2Zmc2V0ID0gZ3JpZC5vZmZzZXQ7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgY29uc3QgdGlja3NMZW5ndGggPSB0aWNrcy5sZW5ndGggKyAob2Zmc2V0ID8gMSA6IDApO1xuICAgIGNvbnN0IHRsID0gZ2V0VGlja01hcmtMZW5ndGgoZ3JpZCk7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCBib3JkZXJPcHRzID0gZ3JpZC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICBjb25zdCBheGlzV2lkdGggPSBib3JkZXJPcHRzLmRyYXdCb3JkZXIgPyBib3JkZXJPcHRzLmJvcmRlcldpZHRoIDogMDtcbiAgICBjb25zdCBheGlzSGFsZldpZHRoID0gYXhpc1dpZHRoIC8gMjtcbiAgICBjb25zdCBhbGlnbkJvcmRlclZhbHVlID0gZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgIHJldHVybiBfYWxpZ25QaXhlbChjaGFydCwgcGl4ZWwsIGF4aXNXaWR0aCk7XG4gICAgfTtcbiAgICBsZXQgYm9yZGVyVmFsdWUsIGksIGxpbmVWYWx1ZSwgYWxpZ25lZExpbmVWYWx1ZTtcbiAgICBsZXQgdHgxLCB0eTEsIHR4MiwgdHkyLCB4MSwgeTEsIHgyLCB5MjtcbiAgICBpZiAocG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5ib3R0b20pO1xuICAgICAgdHkxID0gdGhpcy5ib3R0b20gLSB0bDtcbiAgICAgIHR5MiA9IGJvcmRlclZhbHVlIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgIHkxID0gYWxpZ25Cb3JkZXJWYWx1ZShjaGFydEFyZWEudG9wKSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICB5MiA9IGNoYXJ0QXJlYS5ib3R0b207XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIGJvcmRlclZhbHVlID0gYWxpZ25Cb3JkZXJWYWx1ZSh0aGlzLnRvcCk7XG4gICAgICB5MSA9IGNoYXJ0QXJlYS50b3A7XG4gICAgICB5MiA9IGFsaWduQm9yZGVyVmFsdWUoY2hhcnRBcmVhLmJvdHRvbSkgLSBheGlzSGFsZldpZHRoO1xuICAgICAgdHkxID0gYm9yZGVyVmFsdWUgKyBheGlzSGFsZldpZHRoO1xuICAgICAgdHkyID0gdGhpcy50b3AgKyB0bDtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgIGJvcmRlclZhbHVlID0gYWxpZ25Cb3JkZXJWYWx1ZSh0aGlzLnJpZ2h0KTtcbiAgICAgIHR4MSA9IHRoaXMucmlnaHQgLSB0bDtcbiAgICAgIHR4MiA9IGJvcmRlclZhbHVlIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgIHgxID0gYWxpZ25Cb3JkZXJWYWx1ZShjaGFydEFyZWEubGVmdCkgKyBheGlzSGFsZldpZHRoO1xuICAgICAgeDIgPSBjaGFydEFyZWEucmlnaHQ7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMubGVmdCk7XG4gICAgICB4MSA9IGNoYXJ0QXJlYS5sZWZ0O1xuICAgICAgeDIgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS5yaWdodCkgLSBheGlzSGFsZldpZHRoO1xuICAgICAgdHgxID0gYm9yZGVyVmFsdWUgKyBheGlzSGFsZldpZHRoO1xuICAgICAgdHgyID0gdGhpcy5sZWZ0ICsgdGw7XG4gICAgfSBlbHNlIGlmIChheGlzID09PSAneCcpIHtcbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKChjaGFydEFyZWEudG9wICsgY2hhcnRBcmVhLmJvdHRvbSkgLyAyICsgMC41KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQXhpc0lEID0gT2JqZWN0LmtleXMocG9zaXRpb24pWzBdO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMuY2hhcnQuc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKSk7XG4gICAgICB9XG4gICAgICB5MSA9IGNoYXJ0QXJlYS50b3A7XG4gICAgICB5MiA9IGNoYXJ0QXJlYS5ib3R0b207XG4gICAgICB0eTEgPSBib3JkZXJWYWx1ZSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICB0eTIgPSB0eTEgKyB0bDtcbiAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUoKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDIpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIHR4MSA9IGJvcmRlclZhbHVlIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgIHR4MiA9IHR4MSAtIHRsO1xuICAgICAgeDEgPSBjaGFydEFyZWEubGVmdDtcbiAgICAgIHgyID0gY2hhcnRBcmVhLnJpZ2h0O1xuICAgIH1cbiAgICBjb25zdCBsaW1pdCA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdCwgdGlja3NMZW5ndGgpO1xuICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwodGlja3NMZW5ndGggLyBsaW1pdCkpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aWNrc0xlbmd0aDsgaSArPSBzdGVwKSB7XG4gICAgICBjb25zdCBvcHRzQXRJbmRleCA9IGdyaWQuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoaSkpO1xuICAgICAgY29uc3QgbGluZVdpZHRoID0gb3B0c0F0SW5kZXgubGluZVdpZHRoO1xuICAgICAgY29uc3QgbGluZUNvbG9yID0gb3B0c0F0SW5kZXguY29sb3I7XG4gICAgICBjb25zdCBib3JkZXJEYXNoID0gb3B0c0F0SW5kZXguYm9yZGVyRGFzaCB8fCBbXTtcbiAgICAgIGNvbnN0IGJvcmRlckRhc2hPZmZzZXQgPSBvcHRzQXRJbmRleC5ib3JkZXJEYXNoT2Zmc2V0O1xuICAgICAgY29uc3QgdGlja1dpZHRoID0gb3B0c0F0SW5kZXgudGlja1dpZHRoO1xuICAgICAgY29uc3QgdGlja0NvbG9yID0gb3B0c0F0SW5kZXgudGlja0NvbG9yO1xuICAgICAgY29uc3QgdGlja0JvcmRlckRhc2ggPSBvcHRzQXRJbmRleC50aWNrQm9yZGVyRGFzaCB8fCBbXTtcbiAgICAgIGNvbnN0IHRpY2tCb3JkZXJEYXNoT2Zmc2V0ID0gb3B0c0F0SW5kZXgudGlja0JvcmRlckRhc2hPZmZzZXQ7XG4gICAgICBsaW5lVmFsdWUgPSBnZXRQaXhlbEZvckdyaWRMaW5lKHRoaXMsIGksIG9mZnNldCk7XG4gICAgICBpZiAobGluZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBhbGlnbmVkTGluZVZhbHVlID0gX2FsaWduUGl4ZWwoY2hhcnQsIGxpbmVWYWx1ZSwgbGluZVdpZHRoKTtcbiAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgdHgxID0gdHgyID0geDEgPSB4MiA9IGFsaWduZWRMaW5lVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eTEgPSB0eTIgPSB5MSA9IHkyID0gYWxpZ25lZExpbmVWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICB0eDEsXG4gICAgICAgIHR5MSxcbiAgICAgICAgdHgyLFxuICAgICAgICB0eTIsXG4gICAgICAgIHgxLFxuICAgICAgICB5MSxcbiAgICAgICAgeDIsXG4gICAgICAgIHkyLFxuICAgICAgICB3aWR0aDogbGluZVdpZHRoLFxuICAgICAgICBjb2xvcjogbGluZUNvbG9yLFxuICAgICAgICBib3JkZXJEYXNoLFxuICAgICAgICBib3JkZXJEYXNoT2Zmc2V0LFxuICAgICAgICB0aWNrV2lkdGgsXG4gICAgICAgIHRpY2tDb2xvcixcbiAgICAgICAgdGlja0JvcmRlckRhc2gsXG4gICAgICAgIHRpY2tCb3JkZXJEYXNoT2Zmc2V0LFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3RpY2tzTGVuZ3RoID0gdGlja3NMZW5ndGg7XG4gICAgdGhpcy5fYm9yZGVyVmFsdWUgPSBib3JkZXJWYWx1ZTtcbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cbiAgX2NvbXB1dGVMYWJlbEl0ZW1zKGNoYXJ0QXJlYSkge1xuICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB7cG9zaXRpb24sIHRpY2tzOiBvcHRpb25UaWNrc30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7XG4gICAgY29uc3QgdGlja3MgPSB0aGlzLnRpY2tzO1xuICAgIGNvbnN0IHthbGlnbiwgY3Jvc3NBbGlnbiwgcGFkZGluZywgbWlycm9yfSA9IG9wdGlvblRpY2tzO1xuICAgIGNvbnN0IHRsID0gZ2V0VGlja01hcmtMZW5ndGgob3B0aW9ucy5ncmlkKTtcbiAgICBjb25zdCB0aWNrQW5kUGFkZGluZyA9IHRsICsgcGFkZGluZztcbiAgICBjb25zdCBoVGlja0FuZFBhZGRpbmcgPSBtaXJyb3IgPyAtcGFkZGluZyA6IHRpY2tBbmRQYWRkaW5nO1xuICAgIGNvbnN0IHJvdGF0aW9uID0gLXRvUmFkaWFucyh0aGlzLmxhYmVsUm90YXRpb24pO1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgbGV0IGksIGlsZW4sIHRpY2ssIGxhYmVsLCB4LCB5LCB0ZXh0QWxpZ24sIHBpeGVsLCBmb250LCBsaW5lSGVpZ2h0LCBsaW5lQ291bnQsIHRleHRPZmZzZXQ7XG4gICAgbGV0IHRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgIHkgPSB0aGlzLmJvdHRvbSAtIGhUaWNrQW5kUGFkZGluZztcbiAgICAgIHRleHRBbGlnbiA9IHRoaXMuX2dldFhBeGlzTGFiZWxBbGlnbm1lbnQoKTtcbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgeSA9IHRoaXMudG9wICsgaFRpY2tBbmRQYWRkaW5nO1xuICAgICAgdGV4dEFsaWduID0gdGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpO1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgY29uc3QgcmV0ID0gdGhpcy5fZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0bCk7XG4gICAgICB0ZXh0QWxpZ24gPSByZXQudGV4dEFsaWduO1xuICAgICAgeCA9IHJldC54O1xuICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgIGNvbnN0IHJldCA9IHRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQodGwpO1xuICAgICAgdGV4dEFsaWduID0gcmV0LnRleHRBbGlnbjtcbiAgICAgIHggPSByZXQueDtcbiAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICB5ID0gKChjaGFydEFyZWEudG9wICsgY2hhcnRBcmVhLmJvdHRvbSkgLyAyKSArIHRpY2tBbmRQYWRkaW5nO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICB5ID0gdGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpICsgdGlja0FuZFBhZGRpbmc7XG4gICAgICB9XG4gICAgICB0ZXh0QWxpZ24gPSB0aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCk7XG4gICAgfSBlbHNlIGlmIChheGlzID09PSAneScpIHtcbiAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgeCA9ICgoY2hhcnRBcmVhLmxlZnQgKyBjaGFydEFyZWEucmlnaHQpIC8gMikgLSB0aWNrQW5kUGFkZGluZztcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQXhpc0lEID0gT2JqZWN0LmtleXMocG9zaXRpb24pWzBdO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgICAgeCA9IHRoaXMuY2hhcnQuc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRleHRBbGlnbiA9IHRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQodGwpLnRleHRBbGlnbjtcbiAgICB9XG4gICAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgICAgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgdGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxhYmVsU2l6ZXMgPSB0aGlzLl9nZXRMYWJlbFNpemVzKCk7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgdGljayA9IHRpY2tzW2ldO1xuICAgICAgbGFiZWwgPSB0aWNrLmxhYmVsO1xuICAgICAgY29uc3Qgb3B0c0F0SW5kZXggPSBvcHRpb25UaWNrcy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpKSk7XG4gICAgICBwaXhlbCA9IHRoaXMuZ2V0UGl4ZWxGb3JUaWNrKGkpICsgb3B0aW9uVGlja3MubGFiZWxPZmZzZXQ7XG4gICAgICBmb250ID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucyhpKTtcbiAgICAgIGxpbmVIZWlnaHQgPSBmb250LmxpbmVIZWlnaHQ7XG4gICAgICBsaW5lQ291bnQgPSBpc0FycmF5KGxhYmVsKSA/IGxhYmVsLmxlbmd0aCA6IDE7XG4gICAgICBjb25zdCBoYWxmQ291bnQgPSBsaW5lQ291bnQgLyAyO1xuICAgICAgY29uc3QgY29sb3IgPSBvcHRzQXRJbmRleC5jb2xvcjtcbiAgICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gb3B0c0F0SW5kZXgudGV4dFN0cm9rZUNvbG9yO1xuICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBvcHRzQXRJbmRleC50ZXh0U3Ryb2tlV2lkdGg7XG4gICAgICBsZXQgdGlja1RleHRBbGlnbiA9IHRleHRBbGlnbjtcbiAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgeCA9IHBpeGVsO1xuICAgICAgICBpZiAodGV4dEFsaWduID09PSAnaW5uZXInKSB7XG4gICAgICAgICAgaWYgKGkgPT09IGlsZW4gLSAxKSB7XG4gICAgICAgICAgICB0aWNrVGV4dEFsaWduID0gIXRoaXMub3B0aW9ucy5yZXZlcnNlID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIHRpY2tUZXh0QWxpZ24gPSAhdGhpcy5vcHRpb25zLnJldmVyc2UgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aWNrVGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gLWxpbmVDb3VudCAqIGxpbmVIZWlnaHQgKyBsaW5lSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gLWxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgLyAyIC0gaGFsZkNvdW50ICogbGluZUhlaWdodCArIGxpbmVIZWlnaHQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHRPZmZzZXQgPSAtbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCArIGxpbmVIZWlnaHQgLyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gbGluZUhlaWdodCAvIDI7XG4gICAgICAgICAgfSBlbHNlIGlmIChjcm9zc0FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgdGV4dE9mZnNldCA9IGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgLyAyIC0gaGFsZkNvdW50ICogbGluZUhlaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dE9mZnNldCA9IGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgLSBsaW5lQ291bnQgKiBsaW5lSGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWlycm9yKSB7XG4gICAgICAgICAgdGV4dE9mZnNldCAqPSAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeSA9IHBpeGVsO1xuICAgICAgICB0ZXh0T2Zmc2V0ID0gKDEgLSBsaW5lQ291bnQpICogbGluZUhlaWdodCAvIDI7XG4gICAgICB9XG4gICAgICBsZXQgYmFja2Ryb3A7XG4gICAgICBpZiAob3B0c0F0SW5kZXguc2hvd0xhYmVsQmFja2Ryb3ApIHtcbiAgICAgICAgY29uc3QgbGFiZWxQYWRkaW5nID0gdG9QYWRkaW5nKG9wdHNBdEluZGV4LmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGxhYmVsU2l6ZXMuaGVpZ2h0c1tpXTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBsYWJlbFNpemVzLndpZHRoc1tpXTtcbiAgICAgICAgbGV0IHRvcCA9IHkgKyB0ZXh0T2Zmc2V0IC0gbGFiZWxQYWRkaW5nLnRvcDtcbiAgICAgICAgbGV0IGxlZnQgPSB4IC0gbGFiZWxQYWRkaW5nLmxlZnQ7XG4gICAgICAgIHN3aXRjaCAodGV4dEJhc2VsaW5lKSB7XG4gICAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgICAgdG9wIC09IGhlaWdodCAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRleHRBbGlnbikge1xuICAgICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAgIGxlZnQgLT0gd2lkdGggLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBiYWNrZHJvcCA9IHtcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIHRvcCxcbiAgICAgICAgICB3aWR0aDogd2lkdGggKyBsYWJlbFBhZGRpbmcud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyBsYWJlbFBhZGRpbmcuaGVpZ2h0LFxuICAgICAgICAgIGNvbG9yOiBvcHRzQXRJbmRleC5iYWNrZHJvcENvbG9yLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgIHJvdGF0aW9uLFxuICAgICAgICBsYWJlbCxcbiAgICAgICAgZm9udCxcbiAgICAgICAgY29sb3IsXG4gICAgICAgIHN0cm9rZUNvbG9yLFxuICAgICAgICBzdHJva2VXaWR0aCxcbiAgICAgICAgdGV4dE9mZnNldCxcbiAgICAgICAgdGV4dEFsaWduOiB0aWNrVGV4dEFsaWduLFxuICAgICAgICB0ZXh0QmFzZWxpbmUsXG4gICAgICAgIHRyYW5zbGF0aW9uOiBbeCwgeV0sXG4gICAgICAgIGJhY2tkcm9wLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtcztcbiAgfVxuICBfZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpIHtcbiAgICBjb25zdCB7cG9zaXRpb24sIHRpY2tzfSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCByb3RhdGlvbiA9IC10b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICBpZiAocm90YXRpb24pIHtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ3RvcCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIH1cbiAgICBsZXQgYWxpZ24gPSAnY2VudGVyJztcbiAgICBpZiAodGlja3MuYWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgIGFsaWduID0gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAodGlja3MuYWxpZ24gPT09ICdlbmQnKSB7XG4gICAgICBhbGlnbiA9ICdyaWdodCc7XG4gICAgfSBlbHNlIGlmICh0aWNrcy5hbGlnbiA9PT0gJ2lubmVyJykge1xuICAgICAgYWxpZ24gPSAnaW5uZXInO1xuICAgIH1cbiAgICByZXR1cm4gYWxpZ247XG4gIH1cbiAgX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQodGwpIHtcbiAgICBjb25zdCB7cG9zaXRpb24sIHRpY2tzOiB7Y3Jvc3NBbGlnbiwgbWlycm9yLCBwYWRkaW5nfX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgbGFiZWxTaXplcyA9IHRoaXMuX2dldExhYmVsU2l6ZXMoKTtcbiAgICBjb25zdCB0aWNrQW5kUGFkZGluZyA9IHRsICsgcGFkZGluZztcbiAgICBjb25zdCB3aWRlc3QgPSBsYWJlbFNpemVzLndpZGVzdC53aWR0aDtcbiAgICBsZXQgdGV4dEFsaWduO1xuICAgIGxldCB4O1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICBpZiAobWlycm9yKSB7XG4gICAgICAgIHggPSB0aGlzLnJpZ2h0ICsgcGFkZGluZztcbiAgICAgICAgaWYgKGNyb3NzQWxpZ24gPT09ICduZWFyJykge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc0FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgIHggKz0gKHdpZGVzdCAvIDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgICAgeCArPSB3aWRlc3Q7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSB0aGlzLnJpZ2h0IC0gdGlja0FuZFBhZGRpbmc7XG4gICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAncmlnaHQnO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgeCAtPSAod2lkZXN0IC8gMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgIHggPSB0aGlzLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICBpZiAobWlycm9yKSB7XG4gICAgICAgIHggPSB0aGlzLmxlZnQgKyBwYWRkaW5nO1xuICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgfSBlbHNlIGlmIChjcm9zc0FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgIHggLT0gKHdpZGVzdCAvIDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICB4IC09IHdpZGVzdDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeCA9IHRoaXMubGVmdCArIHRpY2tBbmRQYWRkaW5nO1xuICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgdGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgeCArPSB3aWRlc3QgLyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgICAgeCA9IHRoaXMucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICB9XG4gICAgcmV0dXJuIHt0ZXh0QWxpZ24sIHh9O1xuICB9XG4gIF9jb21wdXRlTGFiZWxBcmVhKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudGlja3MubWlycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICBpZiAocG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgcmV0dXJuIHt0b3A6IDAsIGxlZnQ6IHRoaXMubGVmdCwgYm90dG9tOiBjaGFydC5oZWlnaHQsIHJpZ2h0OiB0aGlzLnJpZ2h0fTtcbiAgICB9IGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICByZXR1cm4ge3RvcDogdGhpcy50b3AsIGxlZnQ6IDAsIGJvdHRvbTogdGhpcy5ib3R0b20sIHJpZ2h0OiBjaGFydC53aWR0aH07XG4gICAgfVxuICB9XG4gIGRyYXdCYWNrZ3JvdW5kKCkge1xuICAgIGNvbnN0IHtjdHgsIG9wdGlvbnM6IHtiYWNrZ3JvdW5kQ29sb3J9LCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHR9ID0gdGhpcztcbiAgICBpZiAoYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0TGluZVdpZHRoRm9yVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBncmlkID0gdGhpcy5vcHRpb25zLmdyaWQ7XG4gICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSB8fCAhZ3JpZC5kaXNwbGF5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3QgdGlja3MgPSB0aGlzLnRpY2tzO1xuICAgIGNvbnN0IGluZGV4ID0gdGlja3MuZmluZEluZGV4KHQgPT4gdC52YWx1ZSA9PT0gdmFsdWUpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBjb25zdCBvcHRzID0gZ3JpZC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpbmRleCkpO1xuICAgICAgcmV0dXJuIG9wdHMubGluZVdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuICBkcmF3R3JpZChjaGFydEFyZWEpIHtcbiAgICBjb25zdCBncmlkID0gdGhpcy5vcHRpb25zLmdyaWQ7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLl9ncmlkTGluZUl0ZW1zIHx8ICh0aGlzLl9ncmlkTGluZUl0ZW1zID0gdGhpcy5fY29tcHV0ZUdyaWRMaW5lSXRlbXMoY2hhcnRBcmVhKSk7XG4gICAgbGV0IGksIGlsZW47XG4gICAgY29uc3QgZHJhd0xpbmUgPSAocDEsIHAyLCBzdHlsZSkgPT4ge1xuICAgICAgaWYgKCFzdHlsZS53aWR0aCB8fCAhc3R5bGUuY29sb3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBzdHlsZS53aWR0aDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlLmNvbG9yO1xuICAgICAgY3R4LnNldExpbmVEYXNoKHN0eWxlLmJvcmRlckRhc2ggfHwgW10pO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gc3R5bGUuYm9yZGVyRGFzaE9mZnNldDtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8ocDEueCwgcDEueSk7XG4gICAgICBjdHgubGluZVRvKHAyLngsIHAyLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9O1xuICAgIGlmIChncmlkLmRpc3BsYXkpIHtcbiAgICAgIGZvciAoaSA9IDAsIGlsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICBpZiAoZ3JpZC5kcmF3T25DaGFydEFyZWEpIHtcbiAgICAgICAgICBkcmF3TGluZShcbiAgICAgICAgICAgIHt4OiBpdGVtLngxLCB5OiBpdGVtLnkxfSxcbiAgICAgICAgICAgIHt4OiBpdGVtLngyLCB5OiBpdGVtLnkyfSxcbiAgICAgICAgICAgIGl0ZW1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChncmlkLmRyYXdUaWNrcykge1xuICAgICAgICAgIGRyYXdMaW5lKFxuICAgICAgICAgICAge3g6IGl0ZW0udHgxLCB5OiBpdGVtLnR5MX0sXG4gICAgICAgICAgICB7eDogaXRlbS50eDIsIHk6IGl0ZW0udHkyfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29sb3I6IGl0ZW0udGlja0NvbG9yLFxuICAgICAgICAgICAgICB3aWR0aDogaXRlbS50aWNrV2lkdGgsXG4gICAgICAgICAgICAgIGJvcmRlckRhc2g6IGl0ZW0udGlja0JvcmRlckRhc2gsXG4gICAgICAgICAgICAgIGJvcmRlckRhc2hPZmZzZXQ6IGl0ZW0udGlja0JvcmRlckRhc2hPZmZzZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRyYXdCb3JkZXIoKSB7XG4gICAgY29uc3Qge2NoYXJ0LCBjdHgsIG9wdGlvbnM6IHtncmlkfX0gPSB0aGlzO1xuICAgIGNvbnN0IGJvcmRlck9wdHMgPSBncmlkLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNvbnN0IGF4aXNXaWR0aCA9IGdyaWQuZHJhd0JvcmRlciA/IGJvcmRlck9wdHMuYm9yZGVyV2lkdGggOiAwO1xuICAgIGlmICghYXhpc1dpZHRoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxhc3RMaW5lV2lkdGggPSBncmlkLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KDApKS5saW5lV2lkdGg7XG4gICAgY29uc3QgYm9yZGVyVmFsdWUgPSB0aGlzLl9ib3JkZXJWYWx1ZTtcbiAgICBsZXQgeDEsIHgyLCB5MSwgeTI7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHgxID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMubGVmdCwgYXhpc1dpZHRoKSAtIGF4aXNXaWR0aCAvIDI7XG4gICAgICB4MiA9IF9hbGlnblBpeGVsKGNoYXJ0LCB0aGlzLnJpZ2h0LCBsYXN0TGluZVdpZHRoKSArIGxhc3RMaW5lV2lkdGggLyAyO1xuICAgICAgeTEgPSB5MiA9IGJvcmRlclZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB5MSA9IF9hbGlnblBpeGVsKGNoYXJ0LCB0aGlzLnRvcCwgYXhpc1dpZHRoKSAtIGF4aXNXaWR0aCAvIDI7XG4gICAgICB5MiA9IF9hbGlnblBpeGVsKGNoYXJ0LCB0aGlzLmJvdHRvbSwgbGFzdExpbmVXaWR0aCkgKyBsYXN0TGluZVdpZHRoIC8gMjtcbiAgICAgIHgxID0geDIgPSBib3JkZXJWYWx1ZTtcbiAgICB9XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgubGluZVdpZHRoID0gYm9yZGVyT3B0cy5ib3JkZXJXaWR0aDtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBib3JkZXJPcHRzLmJvcmRlckNvbG9yO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHgxLCB5MSk7XG4gICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG4gIGRyYXdMYWJlbHMoY2hhcnRBcmVhKSB7XG4gICAgY29uc3Qgb3B0aW9uVGlja3MgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgaWYgKCFvcHRpb25UaWNrcy5kaXNwbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IGFyZWEgPSB0aGlzLl9jb21wdXRlTGFiZWxBcmVhKCk7XG4gICAgaWYgKGFyZWEpIHtcbiAgICAgIGNsaXBBcmVhKGN0eCwgYXJlYSk7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbGFiZWxJdGVtcyB8fCAodGhpcy5fbGFiZWxJdGVtcyA9IHRoaXMuX2NvbXB1dGVMYWJlbEl0ZW1zKGNoYXJ0QXJlYSkpO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGNvbnN0IHRpY2tGb250ID0gaXRlbS5mb250O1xuICAgICAgY29uc3QgbGFiZWwgPSBpdGVtLmxhYmVsO1xuICAgICAgaWYgKGl0ZW0uYmFja2Ryb3ApIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGl0ZW0uYmFja2Ryb3AuY29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdChpdGVtLmJhY2tkcm9wLmxlZnQsIGl0ZW0uYmFja2Ryb3AudG9wLCBpdGVtLmJhY2tkcm9wLndpZHRoLCBpdGVtLmJhY2tkcm9wLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBsZXQgeSA9IGl0ZW0udGV4dE9mZnNldDtcbiAgICAgIHJlbmRlclRleHQoY3R4LCBsYWJlbCwgMCwgeSwgdGlja0ZvbnQsIGl0ZW0pO1xuICAgIH1cbiAgICBpZiAoYXJlYSkge1xuICAgICAgdW5jbGlwQXJlYShjdHgpO1xuICAgIH1cbiAgfVxuICBkcmF3VGl0bGUoKSB7XG4gICAgY29uc3Qge2N0eCwgb3B0aW9uczoge3Bvc2l0aW9uLCB0aXRsZSwgcmV2ZXJzZX19ID0gdGhpcztcbiAgICBpZiAoIXRpdGxlLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9udCA9IHRvRm9udCh0aXRsZS5mb250KTtcbiAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKHRpdGxlLnBhZGRpbmcpO1xuICAgIGNvbnN0IGFsaWduID0gdGl0bGUuYWxpZ247XG4gICAgbGV0IG9mZnNldCA9IGZvbnQubGluZUhlaWdodCAvIDI7XG4gICAgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJyB8fCBwb3NpdGlvbiA9PT0gJ2NlbnRlcicgfHwgaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICBvZmZzZXQgKz0gcGFkZGluZy5ib3R0b207XG4gICAgICBpZiAoaXNBcnJheSh0aXRsZS50ZXh0KSkge1xuICAgICAgICBvZmZzZXQgKz0gZm9udC5saW5lSGVpZ2h0ICogKHRpdGxlLnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9mZnNldCArPSBwYWRkaW5nLnRvcDtcbiAgICB9XG4gICAgY29uc3Qge3RpdGxlWCwgdGl0bGVZLCBtYXhXaWR0aCwgcm90YXRpb259ID0gdGl0bGVBcmdzKHRoaXMsIG9mZnNldCwgcG9zaXRpb24sIGFsaWduKTtcbiAgICByZW5kZXJUZXh0KGN0eCwgdGl0bGUudGV4dCwgMCwgMCwgZm9udCwge1xuICAgICAgY29sb3I6IHRpdGxlLmNvbG9yLFxuICAgICAgbWF4V2lkdGgsXG4gICAgICByb3RhdGlvbixcbiAgICAgIHRleHRBbGlnbjogdGl0bGVBbGlnbihhbGlnbiwgcG9zaXRpb24sIHJldmVyc2UpLFxuICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiBbdGl0bGVYLCB0aXRsZVldLFxuICAgIH0pO1xuICB9XG4gIGRyYXcoY2hhcnRBcmVhKSB7XG4gICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKCk7XG4gICAgdGhpcy5kcmF3R3JpZChjaGFydEFyZWEpO1xuICAgIHRoaXMuZHJhd0JvcmRlcigpO1xuICAgIHRoaXMuZHJhd1RpdGxlKCk7XG4gICAgdGhpcy5kcmF3TGFiZWxzKGNoYXJ0QXJlYSk7XG4gIH1cbiAgX2xheWVycygpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHR6ID0gb3B0cy50aWNrcyAmJiBvcHRzLnRpY2tzLnogfHwgMDtcbiAgICBjb25zdCBneiA9IHZhbHVlT3JEZWZhdWx0KG9wdHMuZ3JpZCAmJiBvcHRzLmdyaWQueiwgLTEpO1xuICAgIGlmICghdGhpcy5faXNWaXNpYmxlKCkgfHwgdGhpcy5kcmF3ICE9PSBTY2FsZS5wcm90b3R5cGUuZHJhdykge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIHo6IHR6LFxuICAgICAgICBkcmF3OiAoY2hhcnRBcmVhKSA9PiB7XG4gICAgICAgICAgdGhpcy5kcmF3KGNoYXJ0QXJlYSk7XG4gICAgICAgIH1cbiAgICAgIH1dO1xuICAgIH1cbiAgICByZXR1cm4gW3tcbiAgICAgIHo6IGd6LFxuICAgICAgZHJhdzogKGNoYXJ0QXJlYSkgPT4ge1xuICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKCk7XG4gICAgICAgIHRoaXMuZHJhd0dyaWQoY2hhcnRBcmVhKTtcbiAgICAgICAgdGhpcy5kcmF3VGl0bGUoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICB6OiBneiArIDEsXG4gICAgICBkcmF3OiAoKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd0JvcmRlcigpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHo6IHR6LFxuICAgICAgZHJhdzogKGNoYXJ0QXJlYSkgPT4ge1xuICAgICAgICB0aGlzLmRyYXdMYWJlbHMoY2hhcnRBcmVhKTtcbiAgICAgIH1cbiAgICB9XTtcbiAgfVxuICBnZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0eXBlKSB7XG4gICAgY29uc3QgbWV0YXMgPSB0aGlzLmNoYXJ0LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtcbiAgICBjb25zdCBheGlzSUQgPSB0aGlzLmF4aXMgKyAnQXhpc0lEJztcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gbWV0YXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBjb25zdCBtZXRhID0gbWV0YXNbaV07XG4gICAgICBpZiAobWV0YVtheGlzSURdID09PSB0aGlzLmlkICYmICghdHlwZSB8fCBtZXRhLnR5cGUgPT09IHR5cGUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG1ldGEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIF9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKGluZGV4KSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpbmRleCkpO1xuICAgIHJldHVybiB0b0ZvbnQob3B0cy5mb250KTtcbiAgfVxuICBfbWF4RGlnaXRzKCkge1xuICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5saW5lSGVpZ2h0O1xuICAgIHJldHVybiAodGhpcy5pc0hvcml6b250YWwoKSA/IHRoaXMud2lkdGggOiB0aGlzLmhlaWdodCkgLyBmb250U2l6ZTtcbiAgfVxufVxuXG5jbGFzcyBUeXBlZFJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IodHlwZSwgc2NvcGUsIG92ZXJyaWRlKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgdGhpcy5vdmVycmlkZSA9IG92ZXJyaWRlO1xuICAgIHRoaXMuaXRlbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG4gIGlzRm9yVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaXNQcm90b3R5cGVPZi5jYWxsKHRoaXMudHlwZS5wcm90b3R5cGUsIHR5cGUucHJvdG90eXBlKTtcbiAgfVxuICByZWdpc3RlcihpdGVtKSB7XG4gICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoaXRlbSk7XG4gICAgbGV0IHBhcmVudFNjb3BlO1xuICAgIGlmIChpc0lDaGFydENvbXBvbmVudChwcm90bykpIHtcbiAgICAgIHBhcmVudFNjb3BlID0gdGhpcy5yZWdpc3Rlcihwcm90byk7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlICsgJy4nICsgaWQ7XG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjbGFzcyBkb2VzIG5vdCBoYXZlIGlkOiAnICsgaXRlbSk7XG4gICAgfVxuICAgIGlmIChpZCBpbiBpdGVtcykge1xuICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH1cbiAgICBpdGVtc1tpZF0gPSBpdGVtO1xuICAgIHJlZ2lzdGVyRGVmYXVsdHMoaXRlbSwgc2NvcGUsIHBhcmVudFNjb3BlKTtcbiAgICBpZiAodGhpcy5vdmVycmlkZSkge1xuICAgICAgZGVmYXVsdHMub3ZlcnJpZGUoaXRlbS5pZCwgaXRlbS5vdmVycmlkZXMpO1xuICAgIH1cbiAgICByZXR1cm4gc2NvcGU7XG4gIH1cbiAgZ2V0KGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNbaWRdO1xuICB9XG4gIHVucmVnaXN0ZXIoaXRlbSkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlO1xuICAgIGlmIChpZCBpbiBpdGVtcykge1xuICAgICAgZGVsZXRlIGl0ZW1zW2lkXTtcbiAgICB9XG4gICAgaWYgKHNjb3BlICYmIGlkIGluIGRlZmF1bHRzW3Njb3BlXSkge1xuICAgICAgZGVsZXRlIGRlZmF1bHRzW3Njb3BlXVtpZF07XG4gICAgICBpZiAodGhpcy5vdmVycmlkZSkge1xuICAgICAgICBkZWxldGUgb3ZlcnJpZGVzW2lkXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdHMoaXRlbSwgc2NvcGUsIHBhcmVudFNjb3BlKSB7XG4gIGNvbnN0IGl0ZW1EZWZhdWx0cyA9IG1lcmdlKE9iamVjdC5jcmVhdGUobnVsbCksIFtcbiAgICBwYXJlbnRTY29wZSA/IGRlZmF1bHRzLmdldChwYXJlbnRTY29wZSkgOiB7fSxcbiAgICBkZWZhdWx0cy5nZXQoc2NvcGUpLFxuICAgIGl0ZW0uZGVmYXVsdHNcbiAgXSk7XG4gIGRlZmF1bHRzLnNldChzY29wZSwgaXRlbURlZmF1bHRzKTtcbiAgaWYgKGl0ZW0uZGVmYXVsdFJvdXRlcykge1xuICAgIHJvdXRlRGVmYXVsdHMoc2NvcGUsIGl0ZW0uZGVmYXVsdFJvdXRlcyk7XG4gIH1cbiAgaWYgKGl0ZW0uZGVzY3JpcHRvcnMpIHtcbiAgICBkZWZhdWx0cy5kZXNjcmliZShzY29wZSwgaXRlbS5kZXNjcmlwdG9ycyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJvdXRlRGVmYXVsdHMoc2NvcGUsIHJvdXRlcykge1xuICBPYmplY3Qua2V5cyhyb3V0ZXMpLmZvckVhY2gocHJvcGVydHkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5UGFydHMgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHNvdXJjZU5hbWUgPSBwcm9wZXJ0eVBhcnRzLnBvcCgpO1xuICAgIGNvbnN0IHNvdXJjZVNjb3BlID0gW3Njb3BlXS5jb25jYXQocHJvcGVydHlQYXJ0cykuam9pbignLicpO1xuICAgIGNvbnN0IHBhcnRzID0gcm91dGVzW3Byb3BlcnR5XS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IHRhcmdldE5hbWUgPSBwYXJ0cy5wb3AoKTtcbiAgICBjb25zdCB0YXJnZXRTY29wZSA9IHBhcnRzLmpvaW4oJy4nKTtcbiAgICBkZWZhdWx0cy5yb3V0ZShzb3VyY2VTY29wZSwgc291cmNlTmFtZSwgdGFyZ2V0U2NvcGUsIHRhcmdldE5hbWUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzSUNoYXJ0Q29tcG9uZW50KHByb3RvKSB7XG4gIHJldHVybiAnaWQnIGluIHByb3RvICYmICdkZWZhdWx0cycgaW4gcHJvdG87XG59XG5cbmNsYXNzIFJlZ2lzdHJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb250cm9sbGVycyA9IG5ldyBUeXBlZFJlZ2lzdHJ5KERhdGFzZXRDb250cm9sbGVyLCAnZGF0YXNldHMnLCB0cnVlKTtcbiAgICB0aGlzLmVsZW1lbnRzID0gbmV3IFR5cGVkUmVnaXN0cnkoRWxlbWVudCwgJ2VsZW1lbnRzJyk7XG4gICAgdGhpcy5wbHVnaW5zID0gbmV3IFR5cGVkUmVnaXN0cnkoT2JqZWN0LCAncGx1Z2lucycpO1xuICAgIHRoaXMuc2NhbGVzID0gbmV3IFR5cGVkUmVnaXN0cnkoU2NhbGUsICdzY2FsZXMnKTtcbiAgICB0aGlzLl90eXBlZFJlZ2lzdHJpZXMgPSBbdGhpcy5jb250cm9sbGVycywgdGhpcy5zY2FsZXMsIHRoaXMuZWxlbWVudHNdO1xuICB9XG4gIGFkZCguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgncmVnaXN0ZXInLCBhcmdzKTtcbiAgfVxuICByZW1vdmUoLi4uYXJncykge1xuICAgIHRoaXMuX2VhY2goJ3VucmVnaXN0ZXInLCBhcmdzKTtcbiAgfVxuICBhZGRDb250cm9sbGVycyguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgncmVnaXN0ZXInLCBhcmdzLCB0aGlzLmNvbnRyb2xsZXJzKTtcbiAgfVxuICBhZGRFbGVtZW50cyguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgncmVnaXN0ZXInLCBhcmdzLCB0aGlzLmVsZW1lbnRzKTtcbiAgfVxuICBhZGRQbHVnaW5zKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMucGx1Z2lucyk7XG4gIH1cbiAgYWRkU2NhbGVzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMuc2NhbGVzKTtcbiAgfVxuICBnZXRDb250cm9sbGVyKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldChpZCwgdGhpcy5jb250cm9sbGVycywgJ2NvbnRyb2xsZXInKTtcbiAgfVxuICBnZXRFbGVtZW50KGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldChpZCwgdGhpcy5lbGVtZW50cywgJ2VsZW1lbnQnKTtcbiAgfVxuICBnZXRQbHVnaW4oaWQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KGlkLCB0aGlzLnBsdWdpbnMsICdwbHVnaW4nKTtcbiAgfVxuICBnZXRTY2FsZShpZCkge1xuICAgIHJldHVybiB0aGlzLl9nZXQoaWQsIHRoaXMuc2NhbGVzLCAnc2NhbGUnKTtcbiAgfVxuICByZW1vdmVDb250cm9sbGVycyguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgndW5yZWdpc3RlcicsIGFyZ3MsIHRoaXMuY29udHJvbGxlcnMpO1xuICB9XG4gIHJlbW92ZUVsZW1lbnRzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5lbGVtZW50cyk7XG4gIH1cbiAgcmVtb3ZlUGx1Z2lucyguLi5hcmdzKSB7XG4gICAgdGhpcy5fZWFjaCgndW5yZWdpc3RlcicsIGFyZ3MsIHRoaXMucGx1Z2lucyk7XG4gIH1cbiAgcmVtb3ZlU2NhbGVzKC4uLmFyZ3MpIHtcbiAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5zY2FsZXMpO1xuICB9XG4gIF9lYWNoKG1ldGhvZCwgYXJncywgdHlwZWRSZWdpc3RyeSkge1xuICAgIFsuLi5hcmdzXS5mb3JFYWNoKGFyZyA9PiB7XG4gICAgICBjb25zdCByZWcgPSB0eXBlZFJlZ2lzdHJ5IHx8IHRoaXMuX2dldFJlZ2lzdHJ5Rm9yVHlwZShhcmcpO1xuICAgICAgaWYgKHR5cGVkUmVnaXN0cnkgfHwgcmVnLmlzRm9yVHlwZShhcmcpIHx8IChyZWcgPT09IHRoaXMucGx1Z2lucyAmJiBhcmcuaWQpKSB7XG4gICAgICAgIHRoaXMuX2V4ZWMobWV0aG9kLCByZWcsIGFyZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlYWNoKGFyZywgaXRlbSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbVJlZyA9IHR5cGVkUmVnaXN0cnkgfHwgdGhpcy5fZ2V0UmVnaXN0cnlGb3JUeXBlKGl0ZW0pO1xuICAgICAgICAgIHRoaXMuX2V4ZWMobWV0aG9kLCBpdGVtUmVnLCBpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgX2V4ZWMobWV0aG9kLCByZWdpc3RyeSwgY29tcG9uZW50KSB7XG4gICAgY29uc3QgY2FtZWxNZXRob2QgPSBfY2FwaXRhbGl6ZShtZXRob2QpO1xuICAgIGNhbGxiYWNrKGNvbXBvbmVudFsnYmVmb3JlJyArIGNhbWVsTWV0aG9kXSwgW10sIGNvbXBvbmVudCk7XG4gICAgcmVnaXN0cnlbbWV0aG9kXShjb21wb25lbnQpO1xuICAgIGNhbGxiYWNrKGNvbXBvbmVudFsnYWZ0ZXInICsgY2FtZWxNZXRob2RdLCBbXSwgY29tcG9uZW50KTtcbiAgfVxuICBfZ2V0UmVnaXN0cnlGb3JUeXBlKHR5cGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3R5cGVkUmVnaXN0cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVnID0gdGhpcy5fdHlwZWRSZWdpc3RyaWVzW2ldO1xuICAgICAgaWYgKHJlZy5pc0ZvclR5cGUodHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGx1Z2lucztcbiAgfVxuICBfZ2V0KGlkLCB0eXBlZFJlZ2lzdHJ5LCB0eXBlKSB7XG4gICAgY29uc3QgaXRlbSA9IHR5cGVkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGlkICsgJ1wiIGlzIG5vdCBhIHJlZ2lzdGVyZWQgJyArIHR5cGUgKyAnLicpO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbiAgfVxufVxudmFyIHJlZ2lzdHJ5ID0gbmV3IFJlZ2lzdHJ5KCk7XG5cbmNsYXNzIFNjYXR0ZXJDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICB1cGRhdGUobW9kZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IHtkYXRhOiBwb2ludHMgPSBbXX0gPSBtZXRhO1xuICAgIGNvbnN0IGFuaW1hdGlvbnNEaXNhYmxlZCA9IHRoaXMuY2hhcnQuX2FuaW1hdGlvbnNEaXNhYmxlZDtcbiAgICBsZXQge3N0YXJ0LCBjb3VudH0gPSBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyhtZXRhLCBwb2ludHMsIGFuaW1hdGlvbnNEaXNhYmxlZCk7XG4gICAgdGhpcy5fZHJhd1N0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5fZHJhd0NvdW50ID0gY291bnQ7XG4gICAgaWYgKF9zY2FsZVJhbmdlc0NoYW5nZWQobWV0YSkpIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93TGluZSkge1xuICAgICAgY29uc3Qge2RhdGFzZXQ6IGxpbmUsIF9kYXRhc2V0fSA9IG1ldGE7XG4gICAgICBsaW5lLl9jaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICBsaW5lLl9kYXRhc2V0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgbGluZS5fZGVjaW1hdGVkID0gISFfZGF0YXNldC5fZGVjaW1hdGVkO1xuICAgICAgbGluZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5yZXNvbHZlRGF0YXNldEVsZW1lbnRPcHRpb25zKG1vZGUpO1xuICAgICAgb3B0aW9ucy5zZWdtZW50ID0gdGhpcy5vcHRpb25zLnNlZ21lbnQ7XG4gICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQobGluZSwgdW5kZWZpbmVkLCB7XG4gICAgICAgIGFuaW1hdGVkOiAhYW5pbWF0aW9uc0Rpc2FibGVkLFxuICAgICAgICBvcHRpb25zXG4gICAgICB9LCBtb2RlKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSk7XG4gIH1cbiAgYWRkRWxlbWVudHMoKSB7XG4gICAgY29uc3Qge3Nob3dMaW5lfSA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoIXRoaXMuZGF0YXNldEVsZW1lbnRUeXBlICYmIHNob3dMaW5lKSB7XG4gICAgICB0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSA9IHJlZ2lzdHJ5LmdldEVsZW1lbnQoJ2xpbmUnKTtcbiAgICB9XG4gICAgc3VwZXIuYWRkRWxlbWVudHMoKTtcbiAgfVxuICB1cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICBjb25zdCB7aVNjYWxlLCB2U2NhbGUsIF9zdGFja2VkLCBfZGF0YXNldH0gPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgIGNvbnN0IGZpcnN0T3B0cyA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgY29uc3Qgc2hhcmVkT3B0aW9ucyA9IHRoaXMuZ2V0U2hhcmVkT3B0aW9ucyhmaXJzdE9wdHMpO1xuICAgIGNvbnN0IGluY2x1ZGVPcHRpb25zID0gdGhpcy5pbmNsdWRlT3B0aW9ucyhtb2RlLCBzaGFyZWRPcHRpb25zKTtcbiAgICBjb25zdCBpQXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgY29uc3Qge3NwYW5HYXBzLCBzZWdtZW50fSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBtYXhHYXBMZW5ndGggPSBpc051bWJlcihzcGFuR2FwcykgPyBzcGFuR2FwcyA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBjb25zdCBkaXJlY3RVcGRhdGUgPSB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQgfHwgcmVzZXQgfHwgbW9kZSA9PT0gJ25vbmUnO1xuICAgIGxldCBwcmV2UGFyc2VkID0gc3RhcnQgPiAwICYmIHRoaXMuZ2V0UGFyc2VkKHN0YXJ0IC0gMSk7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKSB7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IGRpcmVjdFVwZGF0ZSA/IHBvaW50IDoge307XG4gICAgICBjb25zdCBudWxsRGF0YSA9IGlzTnVsbE9yVW5kZWYocGFyc2VkW3ZBeGlzXSk7XG4gICAgICBjb25zdCBpUGl4ZWwgPSBwcm9wZXJ0aWVzW2lBeGlzXSA9IGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKHBhcnNlZFtpQXhpc10sIGkpO1xuICAgICAgY29uc3QgdlBpeGVsID0gcHJvcGVydGllc1t2QXhpc10gPSByZXNldCB8fCBudWxsRGF0YSA/IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKSA6IHZTY2FsZS5nZXRQaXhlbEZvclZhbHVlKF9zdGFja2VkID8gdGhpcy5hcHBseVN0YWNrKHZTY2FsZSwgcGFyc2VkLCBfc3RhY2tlZCkgOiBwYXJzZWRbdkF4aXNdLCBpKTtcbiAgICAgIHByb3BlcnRpZXMuc2tpcCA9IGlzTmFOKGlQaXhlbCkgfHwgaXNOYU4odlBpeGVsKSB8fCBudWxsRGF0YTtcbiAgICAgIHByb3BlcnRpZXMuc3RvcCA9IGkgPiAwICYmIChNYXRoLmFicyhwYXJzZWRbaUF4aXNdIC0gcHJldlBhcnNlZFtpQXhpc10pKSA+IG1heEdhcExlbmd0aDtcbiAgICAgIGlmIChzZWdtZW50KSB7XG4gICAgICAgIHByb3BlcnRpZXMucGFyc2VkID0gcGFyc2VkO1xuICAgICAgICBwcm9wZXJ0aWVzLnJhdyA9IF9kYXRhc2V0LmRhdGFbaV07XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgcG9pbnQuYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgIH1cbiAgICAgIGlmICghZGlyZWN0VXBkYXRlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgICB9XG4gICAgICBwcmV2UGFyc2VkID0gcGFyc2VkO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVNoYXJlZE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgbW9kZSwgZmlyc3RPcHRzKTtcbiAgfVxuICBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICBjb25zdCBkYXRhID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICBsZXQgbWF4ID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSBkYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgZGF0YVtpXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpKSkgLyAyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXggPiAwICYmIG1heDtcbiAgICB9XG4gICAgY29uc3QgZGF0YXNldCA9IG1ldGEuZGF0YXNldDtcbiAgICBjb25zdCBib3JkZXIgPSBkYXRhc2V0Lm9wdGlvbnMgJiYgZGF0YXNldC5vcHRpb25zLmJvcmRlcldpZHRoIHx8IDA7XG4gICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGJvcmRlcjtcbiAgICB9XG4gICAgY29uc3QgZmlyc3RQb2ludCA9IGRhdGFbMF0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoMCkpO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhkYXRhLmxlbmd0aCAtIDEpKTtcbiAgICByZXR1cm4gTWF0aC5tYXgoYm9yZGVyLCBmaXJzdFBvaW50LCBsYXN0UG9pbnQpIC8gMjtcbiAgfVxufVxuU2NhdHRlckNvbnRyb2xsZXIuaWQgPSAnc2NhdHRlcic7XG5TY2F0dGVyQ29udHJvbGxlci5kZWZhdWx0cyA9IHtcbiAgZGF0YXNldEVsZW1lbnRUeXBlOiBmYWxzZSxcbiAgZGF0YUVsZW1lbnRUeXBlOiAncG9pbnQnLFxuICBzaG93TGluZTogZmFsc2UsXG4gIGZpbGw6IGZhbHNlXG59O1xuU2NhdHRlckNvbnRyb2xsZXIub3ZlcnJpZGVzID0ge1xuICBpbnRlcmFjdGlvbjoge1xuICAgIG1vZGU6ICdwb2ludCdcbiAgfSxcbiAgcGx1Z2luczoge1xuICAgIHRvb2x0aXA6IHtcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICB0aXRsZSgpIHtcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gJygnICsgaXRlbS5sYWJlbCArICcsICcgKyBpdGVtLmZvcm1hdHRlZFZhbHVlICsgJyknO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzY2FsZXM6IHtcbiAgICB4OiB7XG4gICAgICB0eXBlOiAnbGluZWFyJ1xuICAgIH0sXG4gICAgeToge1xuICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICB9XG4gIH1cbn07XG5cbnZhciBjb250cm9sbGVycyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbl9fcHJvdG9fXzogbnVsbCxcbkJhckNvbnRyb2xsZXI6IEJhckNvbnRyb2xsZXIsXG5CdWJibGVDb250cm9sbGVyOiBCdWJibGVDb250cm9sbGVyLFxuRG91Z2hudXRDb250cm9sbGVyOiBEb3VnaG51dENvbnRyb2xsZXIsXG5MaW5lQ29udHJvbGxlcjogTGluZUNvbnRyb2xsZXIsXG5Qb2xhckFyZWFDb250cm9sbGVyOiBQb2xhckFyZWFDb250cm9sbGVyLFxuUGllQ29udHJvbGxlcjogUGllQ29udHJvbGxlcixcblJhZGFyQ29udHJvbGxlcjogUmFkYXJDb250cm9sbGVyLFxuU2NhdHRlckNvbnRyb2xsZXI6IFNjYXR0ZXJDb250cm9sbGVyXG59KTtcblxuZnVuY3Rpb24gYWJzdHJhY3QoKSB7XG4gIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkOiBDaGVjayB0aGF0IGEgY29tcGxldGUgZGF0ZSBhZGFwdGVyIGlzIHByb3ZpZGVkLicpO1xufVxuY2xhc3MgRGF0ZUFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgfVxuICBpbml0KGNoYXJ0T3B0aW9ucykge31cbiAgZm9ybWF0cygpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBwYXJzZSh2YWx1ZSwgZm9ybWF0KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cbiAgZm9ybWF0KHRpbWVzdGFtcCwgZm9ybWF0KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cbiAgYWRkKHRpbWVzdGFtcCwgYW1vdW50LCB1bml0KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cbiAgZGlmZihhLCBiLCB1bml0KSB7XG4gICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gIH1cbiAgc3RhcnRPZih0aW1lc3RhbXAsIHVuaXQsIHdlZWtkYXkpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxuICBlbmRPZih0aW1lc3RhbXAsIHVuaXQpIHtcbiAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgfVxufVxuRGF0ZUFkYXB0ZXIub3ZlcnJpZGUgPSBmdW5jdGlvbihtZW1iZXJzKSB7XG4gIE9iamVjdC5hc3NpZ24oRGF0ZUFkYXB0ZXIucHJvdG90eXBlLCBtZW1iZXJzKTtcbn07XG52YXIgYWRhcHRlcnMgPSB7XG4gIF9kYXRlOiBEYXRlQWRhcHRlclxufTtcblxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKG1ldGFzZXQsIGF4aXMsIHZhbHVlLCBpbnRlcnNlY3QpIHtcbiAgY29uc3Qge2NvbnRyb2xsZXIsIGRhdGEsIF9zb3J0ZWR9ID0gbWV0YXNldDtcbiAgY29uc3QgaVNjYWxlID0gY29udHJvbGxlci5fY2FjaGVkTWV0YS5pU2NhbGU7XG4gIGlmIChpU2NhbGUgJiYgYXhpcyA9PT0gaVNjYWxlLmF4aXMgJiYgYXhpcyAhPT0gJ3InICYmIF9zb3J0ZWQgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICBjb25zdCBsb29rdXBNZXRob2QgPSBpU2NhbGUuX3JldmVyc2VQaXhlbHMgPyBfcmxvb2t1cEJ5S2V5IDogX2xvb2t1cEJ5S2V5O1xuICAgIGlmICghaW50ZXJzZWN0KSB7XG4gICAgICByZXR1cm4gbG9va3VwTWV0aG9kKGRhdGEsIGF4aXMsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIuX3NoYXJlZE9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IGVsID0gZGF0YVswXTtcbiAgICAgIGNvbnN0IHJhbmdlID0gdHlwZW9mIGVsLmdldFJhbmdlID09PSAnZnVuY3Rpb24nICYmIGVsLmdldFJhbmdlKGF4aXMpO1xuICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gbG9va3VwTWV0aG9kKGRhdGEsIGF4aXMsIHZhbHVlIC0gcmFuZ2UpO1xuICAgICAgICBjb25zdCBlbmQgPSBsb29rdXBNZXRob2QoZGF0YSwgYXhpcywgdmFsdWUgKyByYW5nZSk7XG4gICAgICAgIHJldHVybiB7bG86IHN0YXJ0LmxvLCBoaTogZW5kLmhpfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtsbzogMCwgaGk6IGRhdGEubGVuZ3RoIC0gMX07XG59XG5mdW5jdGlvbiBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMoY2hhcnQsIGF4aXMsIHBvc2l0aW9uLCBoYW5kbGVyLCBpbnRlcnNlY3QpIHtcbiAgY29uc3QgbWV0YXNldHMgPSBjaGFydC5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCk7XG4gIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bYXhpc107XG4gIGZvciAobGV0IGkgPSAwLCBpbGVuID0gbWV0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgY29uc3Qge2luZGV4LCBkYXRhfSA9IG1ldGFzZXRzW2ldO1xuICAgIGNvbnN0IHtsbywgaGl9ID0gYmluYXJ5U2VhcmNoKG1ldGFzZXRzW2ldLCBheGlzLCB2YWx1ZSwgaW50ZXJzZWN0KTtcbiAgICBmb3IgKGxldCBqID0gbG87IGogPD0gaGk7ICsraikge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRhdGFbal07XG4gICAgICBpZiAoIWVsZW1lbnQuc2tpcCkge1xuICAgICAgICBoYW5kbGVyKGVsZW1lbnQsIGluZGV4LCBqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldERpc3RhbmNlTWV0cmljRm9yQXhpcyhheGlzKSB7XG4gIGNvbnN0IHVzZVggPSBheGlzLmluZGV4T2YoJ3gnKSAhPT0gLTE7XG4gIGNvbnN0IHVzZVkgPSBheGlzLmluZGV4T2YoJ3knKSAhPT0gLTE7XG4gIHJldHVybiBmdW5jdGlvbihwdDEsIHB0Mikge1xuICAgIGNvbnN0IGRlbHRhWCA9IHVzZVggPyBNYXRoLmFicyhwdDEueCAtIHB0Mi54KSA6IDA7XG4gICAgY29uc3QgZGVsdGFZID0gdXNlWSA/IE1hdGguYWJzKHB0MS55IC0gcHQyLnkpIDogMDtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGRlbHRhWCwgMikgKyBNYXRoLnBvdyhkZWx0YVksIDIpKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkge1xuICBjb25zdCBpdGVtcyA9IFtdO1xuICBpZiAoIWluY2x1ZGVJbnZpc2libGUgJiYgIWNoYXJ0LmlzUG9pbnRJbkFyZWEocG9zaXRpb24pKSB7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG4gIGNvbnN0IGV2YWx1YXRpb25GdW5jID0gZnVuY3Rpb24oZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgIGlmICghaW5jbHVkZUludmlzaWJsZSAmJiAhX2lzUG9pbnRJbkFyZWEoZWxlbWVudCwgY2hhcnQuY2hhcnRBcmVhLCAwKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5pblJhbmdlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHVzZUZpbmFsUG9zaXRpb24pKSB7XG4gICAgICBpdGVtcy5wdXNoKHtlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fSk7XG4gICAgfVxuICB9O1xuICBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMoY2hhcnQsIGF4aXMsIHBvc2l0aW9uLCBldmFsdWF0aW9uRnVuYywgdHJ1ZSk7XG4gIHJldHVybiBpdGVtcztcbn1cbmZ1bmN0aW9uIGdldE5lYXJlc3RSYWRpYWxJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgbGV0IGl0ZW1zID0gW107XG4gIGZ1bmN0aW9uIGV2YWx1YXRpb25GdW5jKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICBjb25zdCB7c3RhcnRBbmdsZSwgZW5kQW5nbGV9ID0gZWxlbWVudC5nZXRQcm9wcyhbJ3N0YXJ0QW5nbGUnLCAnZW5kQW5nbGUnXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgY29uc3Qge2FuZ2xlfSA9IGdldEFuZ2xlRnJvbVBvaW50KGVsZW1lbnQsIHt4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55fSk7XG4gICAgaWYgKF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSkge1xuICAgICAgaXRlbXMucHVzaCh7ZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleH0pO1xuICAgIH1cbiAgfVxuICBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMoY2hhcnQsIGF4aXMsIHBvc2l0aW9uLCBldmFsdWF0aW9uRnVuYyk7XG4gIHJldHVybiBpdGVtcztcbn1cbmZ1bmN0aW9uIGdldE5lYXJlc3RDYXJ0ZXNpYW5JdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIGludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkge1xuICBsZXQgaXRlbXMgPSBbXTtcbiAgY29uc3QgZGlzdGFuY2VNZXRyaWMgPSBnZXREaXN0YW5jZU1ldHJpY0ZvckF4aXMoYXhpcyk7XG4gIGxldCBtaW5EaXN0YW5jZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgZnVuY3Rpb24gZXZhbHVhdGlvbkZ1bmMoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgIGNvbnN0IGluUmFuZ2UgPSBlbGVtZW50LmluUmFuZ2UocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgaWYgKGludGVyc2VjdCAmJiAhaW5SYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjZW50ZXIgPSBlbGVtZW50LmdldENlbnRlclBvaW50KHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIGNvbnN0IHBvaW50SW5BcmVhID0gISFpbmNsdWRlSW52aXNpYmxlIHx8IGNoYXJ0LmlzUG9pbnRJbkFyZWEoY2VudGVyKTtcbiAgICBpZiAoIXBvaW50SW5BcmVhICYmICFpblJhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VNZXRyaWMocG9zaXRpb24sIGNlbnRlcik7XG4gICAgaWYgKGRpc3RhbmNlIDwgbWluRGlzdGFuY2UpIHtcbiAgICAgIGl0ZW1zID0gW3tlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fV07XG4gICAgICBtaW5EaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIH0gZWxzZSBpZiAoZGlzdGFuY2UgPT09IG1pbkRpc3RhbmNlKSB7XG4gICAgICBpdGVtcy5wdXNoKHtlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fSk7XG4gICAgfVxuICB9XG4gIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGV2YWx1YXRpb25GdW5jKTtcbiAgcmV0dXJuIGl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0TmVhcmVzdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKSB7XG4gIGlmICghaW5jbHVkZUludmlzaWJsZSAmJiAhY2hhcnQuaXNQb2ludEluQXJlYShwb3NpdGlvbikpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIGF4aXMgPT09ICdyJyAmJiAhaW50ZXJzZWN0XG4gICAgPyBnZXROZWFyZXN0UmFkaWFsSXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCB1c2VGaW5hbFBvc2l0aW9uKVxuICAgIDogZ2V0TmVhcmVzdENhcnRlc2lhbkl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKTtcbn1cbmZ1bmN0aW9uIGdldEF4aXNJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIGludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbikge1xuICBjb25zdCBpdGVtcyA9IFtdO1xuICBjb25zdCByYW5nZU1ldGhvZCA9IGF4aXMgPT09ICd4JyA/ICdpblhSYW5nZScgOiAnaW5ZUmFuZ2UnO1xuICBsZXQgaW50ZXJzZWN0c0l0ZW0gPSBmYWxzZTtcbiAgZXZhbHVhdGVJbnRlcmFjdGlvbkl0ZW1zKGNoYXJ0LCBheGlzLCBwb3NpdGlvbiwgKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpID0+IHtcbiAgICBpZiAoZWxlbWVudFtyYW5nZU1ldGhvZF0ocG9zaXRpb25bYXhpc10sIHVzZUZpbmFsUG9zaXRpb24pKSB7XG4gICAgICBpdGVtcy5wdXNoKHtlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4fSk7XG4gICAgICBpbnRlcnNlY3RzSXRlbSA9IGludGVyc2VjdHNJdGVtIHx8IGVsZW1lbnQuaW5SYW5nZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG4gIH0pO1xuICBpZiAoaW50ZXJzZWN0ICYmICFpbnRlcnNlY3RzSXRlbSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICByZXR1cm4gaXRlbXM7XG59XG52YXIgSW50ZXJhY3Rpb24gPSB7XG4gIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyxcbiAgbW9kZXM6IHtcbiAgICBpbmRleChjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgIGNvbnN0IGF4aXMgPSBvcHRpb25zLmF4aXMgfHwgJ3gnO1xuICAgICAgY29uc3QgaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCBmYWxzZTtcbiAgICAgIGNvbnN0IGl0ZW1zID0gb3B0aW9ucy5pbnRlcnNlY3RcbiAgICAgICAgPyBnZXRJbnRlcnNlY3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpXG4gICAgICAgIDogZ2V0TmVhcmVzdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgZmFsc2UsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGNoYXJ0LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKS5mb3JFYWNoKChtZXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaXRlbXNbMF0uaW5kZXg7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBtZXRhLmRhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhZWxlbWVudC5za2lwKSB7XG4gICAgICAgICAgZWxlbWVudHMucHVzaCh7ZWxlbWVudCwgZGF0YXNldEluZGV4OiBtZXRhLmluZGV4LCBpbmRleH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9LFxuICAgIGRhdGFzZXQoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICBjb25zdCBheGlzID0gb3B0aW9ucy5heGlzIHx8ICd4eSc7XG4gICAgICBjb25zdCBpbmNsdWRlSW52aXNpYmxlID0gb3B0aW9ucy5pbmNsdWRlSW52aXNpYmxlIHx8IGZhbHNlO1xuICAgICAgbGV0IGl0ZW1zID0gb3B0aW9ucy5pbnRlcnNlY3RcbiAgICAgICAgPyBnZXRJbnRlcnNlY3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpIDpcbiAgICAgICAgZ2V0TmVhcmVzdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgZmFsc2UsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZGF0YXNldEluZGV4ID0gaXRlbXNbMF0uZGF0YXNldEluZGV4O1xuICAgICAgICBjb25zdCBkYXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5kYXRhO1xuICAgICAgICBpdGVtcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBpdGVtcy5wdXNoKHtlbGVtZW50OiBkYXRhW2ldLCBkYXRhc2V0SW5kZXgsIGluZGV4OiBpfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVtcztcbiAgICB9LFxuICAgIHBvaW50KGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMuYXhpcyB8fCAneHknO1xuICAgICAgY29uc3QgaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCBmYWxzZTtcbiAgICAgIHJldHVybiBnZXRJbnRlcnNlY3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xuICAgIH0sXG4gICAgbmVhcmVzdChjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgIGNvbnN0IGF4aXMgPSBvcHRpb25zLmF4aXMgfHwgJ3h5JztcbiAgICAgIGNvbnN0IGluY2x1ZGVJbnZpc2libGUgPSBvcHRpb25zLmluY2x1ZGVJbnZpc2libGUgfHwgZmFsc2U7XG4gICAgICByZXR1cm4gZ2V0TmVhcmVzdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgb3B0aW9ucy5pbnRlcnNlY3QsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xuICAgIH0sXG4gICAgeChjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgIHJldHVybiBnZXRBeGlzSXRlbXMoY2hhcnQsIHBvc2l0aW9uLCAneCcsIG9wdGlvbnMuaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9LFxuICAgIHkoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICByZXR1cm4gZ2V0QXhpc0l0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgJ3knLCBvcHRpb25zLmludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBTVEFUSUNfUE9TSVRJT05TID0gWydsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nXTtcbmZ1bmN0aW9uIGZpbHRlckJ5UG9zaXRpb24oYXJyYXksIHBvc2l0aW9uKSB7XG4gIHJldHVybiBhcnJheS5maWx0ZXIodiA9PiB2LnBvcyA9PT0gcG9zaXRpb24pO1xufVxuZnVuY3Rpb24gZmlsdGVyRHluYW1pY1Bvc2l0aW9uQnlBeGlzKGFycmF5LCBheGlzKSB7XG4gIHJldHVybiBhcnJheS5maWx0ZXIodiA9PiBTVEFUSUNfUE9TSVRJT05TLmluZGV4T2Yodi5wb3MpID09PSAtMSAmJiB2LmJveC5heGlzID09PSBheGlzKTtcbn1cbmZ1bmN0aW9uIHNvcnRCeVdlaWdodChhcnJheSwgcmV2ZXJzZSkge1xuICByZXR1cm4gYXJyYXkuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IHYwID0gcmV2ZXJzZSA/IGIgOiBhO1xuICAgIGNvbnN0IHYxID0gcmV2ZXJzZSA/IGEgOiBiO1xuICAgIHJldHVybiB2MC53ZWlnaHQgPT09IHYxLndlaWdodCA/XG4gICAgICB2MC5pbmRleCAtIHYxLmluZGV4IDpcbiAgICAgIHYwLndlaWdodCAtIHYxLndlaWdodDtcbiAgfSk7XG59XG5mdW5jdGlvbiB3cmFwQm94ZXMoYm94ZXMpIHtcbiAgY29uc3QgbGF5b3V0Qm94ZXMgPSBbXTtcbiAgbGV0IGksIGlsZW4sIGJveCwgcG9zLCBzdGFjaywgc3RhY2tXZWlnaHQ7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSAoYm94ZXMgfHwgW10pLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGJveCA9IGJveGVzW2ldO1xuICAgICh7cG9zaXRpb246IHBvcywgb3B0aW9uczoge3N0YWNrLCBzdGFja1dlaWdodCA9IDF9fSA9IGJveCk7XG4gICAgbGF5b3V0Qm94ZXMucHVzaCh7XG4gICAgICBpbmRleDogaSxcbiAgICAgIGJveCxcbiAgICAgIHBvcyxcbiAgICAgIGhvcml6b250YWw6IGJveC5pc0hvcml6b250YWwoKSxcbiAgICAgIHdlaWdodDogYm94LndlaWdodCxcbiAgICAgIHN0YWNrOiBzdGFjayAmJiAocG9zICsgc3RhY2spLFxuICAgICAgc3RhY2tXZWlnaHRcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbGF5b3V0Qm94ZXM7XG59XG5mdW5jdGlvbiBidWlsZFN0YWNrcyhsYXlvdXRzKSB7XG4gIGNvbnN0IHN0YWNrcyA9IHt9O1xuICBmb3IgKGNvbnN0IHdyYXAgb2YgbGF5b3V0cykge1xuICAgIGNvbnN0IHtzdGFjaywgcG9zLCBzdGFja1dlaWdodH0gPSB3cmFwO1xuICAgIGlmICghc3RhY2sgfHwgIVNUQVRJQ19QT1NJVElPTlMuaW5jbHVkZXMocG9zKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IF9zdGFjayA9IHN0YWNrc1tzdGFja10gfHwgKHN0YWNrc1tzdGFja10gPSB7Y291bnQ6IDAsIHBsYWNlZDogMCwgd2VpZ2h0OiAwLCBzaXplOiAwfSk7XG4gICAgX3N0YWNrLmNvdW50Kys7XG4gICAgX3N0YWNrLndlaWdodCArPSBzdGFja1dlaWdodDtcbiAgfVxuICByZXR1cm4gc3RhY2tzO1xufVxuZnVuY3Rpb24gc2V0TGF5b3V0RGltcyhsYXlvdXRzLCBwYXJhbXMpIHtcbiAgY29uc3Qgc3RhY2tzID0gYnVpbGRTdGFja3MobGF5b3V0cyk7XG4gIGNvbnN0IHt2Qm94TWF4V2lkdGgsIGhCb3hNYXhIZWlnaHR9ID0gcGFyYW1zO1xuICBsZXQgaSwgaWxlbiwgbGF5b3V0O1xuICBmb3IgKGkgPSAwLCBpbGVuID0gbGF5b3V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICBsYXlvdXQgPSBsYXlvdXRzW2ldO1xuICAgIGNvbnN0IHtmdWxsU2l6ZX0gPSBsYXlvdXQuYm94O1xuICAgIGNvbnN0IHN0YWNrID0gc3RhY2tzW2xheW91dC5zdGFja107XG4gICAgY29uc3QgZmFjdG9yID0gc3RhY2sgJiYgbGF5b3V0LnN0YWNrV2VpZ2h0IC8gc3RhY2sud2VpZ2h0O1xuICAgIGlmIChsYXlvdXQuaG9yaXpvbnRhbCkge1xuICAgICAgbGF5b3V0LndpZHRoID0gZmFjdG9yID8gZmFjdG9yICogdkJveE1heFdpZHRoIDogZnVsbFNpemUgJiYgcGFyYW1zLmF2YWlsYWJsZVdpZHRoO1xuICAgICAgbGF5b3V0LmhlaWdodCA9IGhCb3hNYXhIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheW91dC53aWR0aCA9IHZCb3hNYXhXaWR0aDtcbiAgICAgIGxheW91dC5oZWlnaHQgPSBmYWN0b3IgPyBmYWN0b3IgKiBoQm94TWF4SGVpZ2h0IDogZnVsbFNpemUgJiYgcGFyYW1zLmF2YWlsYWJsZUhlaWdodDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YWNrcztcbn1cbmZ1bmN0aW9uIGJ1aWxkTGF5b3V0Qm94ZXMoYm94ZXMpIHtcbiAgY29uc3QgbGF5b3V0Qm94ZXMgPSB3cmFwQm94ZXMoYm94ZXMpO1xuICBjb25zdCBmdWxsU2l6ZSA9IHNvcnRCeVdlaWdodChsYXlvdXRCb3hlcy5maWx0ZXIod3JhcCA9PiB3cmFwLmJveC5mdWxsU2l6ZSksIHRydWUpO1xuICBjb25zdCBsZWZ0ID0gc29ydEJ5V2VpZ2h0KGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICdsZWZ0JyksIHRydWUpO1xuICBjb25zdCByaWdodCA9IHNvcnRCeVdlaWdodChmaWx0ZXJCeVBvc2l0aW9uKGxheW91dEJveGVzLCAncmlnaHQnKSk7XG4gIGNvbnN0IHRvcCA9IHNvcnRCeVdlaWdodChmaWx0ZXJCeVBvc2l0aW9uKGxheW91dEJveGVzLCAndG9wJyksIHRydWUpO1xuICBjb25zdCBib3R0b20gPSBzb3J0QnlXZWlnaHQoZmlsdGVyQnlQb3NpdGlvbihsYXlvdXRCb3hlcywgJ2JvdHRvbScpKTtcbiAgY29uc3QgY2VudGVySG9yaXpvbnRhbCA9IGZpbHRlckR5bmFtaWNQb3NpdGlvbkJ5QXhpcyhsYXlvdXRCb3hlcywgJ3gnKTtcbiAgY29uc3QgY2VudGVyVmVydGljYWwgPSBmaWx0ZXJEeW5hbWljUG9zaXRpb25CeUF4aXMobGF5b3V0Qm94ZXMsICd5Jyk7XG4gIHJldHVybiB7XG4gICAgZnVsbFNpemUsXG4gICAgbGVmdEFuZFRvcDogbGVmdC5jb25jYXQodG9wKSxcbiAgICByaWdodEFuZEJvdHRvbTogcmlnaHQuY29uY2F0KGNlbnRlclZlcnRpY2FsKS5jb25jYXQoYm90dG9tKS5jb25jYXQoY2VudGVySG9yaXpvbnRhbCksXG4gICAgY2hhcnRBcmVhOiBmaWx0ZXJCeVBvc2l0aW9uKGxheW91dEJveGVzLCAnY2hhcnRBcmVhJyksXG4gICAgdmVydGljYWw6IGxlZnQuY29uY2F0KHJpZ2h0KS5jb25jYXQoY2VudGVyVmVydGljYWwpLFxuICAgIGhvcml6b250YWw6IHRvcC5jb25jYXQoYm90dG9tKS5jb25jYXQoY2VudGVySG9yaXpvbnRhbClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENvbWJpbmVkTWF4KG1heFBhZGRpbmcsIGNoYXJ0QXJlYSwgYSwgYikge1xuICByZXR1cm4gTWF0aC5tYXgobWF4UGFkZGluZ1thXSwgY2hhcnRBcmVhW2FdKSArIE1hdGgubWF4KG1heFBhZGRpbmdbYl0sIGNoYXJ0QXJlYVtiXSk7XG59XG5mdW5jdGlvbiB1cGRhdGVNYXhQYWRkaW5nKG1heFBhZGRpbmcsIGJveFBhZGRpbmcpIHtcbiAgbWF4UGFkZGluZy50b3AgPSBNYXRoLm1heChtYXhQYWRkaW5nLnRvcCwgYm94UGFkZGluZy50b3ApO1xuICBtYXhQYWRkaW5nLmxlZnQgPSBNYXRoLm1heChtYXhQYWRkaW5nLmxlZnQsIGJveFBhZGRpbmcubGVmdCk7XG4gIG1heFBhZGRpbmcuYm90dG9tID0gTWF0aC5tYXgobWF4UGFkZGluZy5ib3R0b20sIGJveFBhZGRpbmcuYm90dG9tKTtcbiAgbWF4UGFkZGluZy5yaWdodCA9IE1hdGgubWF4KG1heFBhZGRpbmcucmlnaHQsIGJveFBhZGRpbmcucmlnaHQpO1xufVxuZnVuY3Rpb24gdXBkYXRlRGltcyhjaGFydEFyZWEsIHBhcmFtcywgbGF5b3V0LCBzdGFja3MpIHtcbiAgY29uc3Qge3BvcywgYm94fSA9IGxheW91dDtcbiAgY29uc3QgbWF4UGFkZGluZyA9IGNoYXJ0QXJlYS5tYXhQYWRkaW5nO1xuICBpZiAoIWlzT2JqZWN0KHBvcykpIHtcbiAgICBpZiAobGF5b3V0LnNpemUpIHtcbiAgICAgIGNoYXJ0QXJlYVtwb3NdIC09IGxheW91dC5zaXplO1xuICAgIH1cbiAgICBjb25zdCBzdGFjayA9IHN0YWNrc1tsYXlvdXQuc3RhY2tdIHx8IHtzaXplOiAwLCBjb3VudDogMX07XG4gICAgc3RhY2suc2l6ZSA9IE1hdGgubWF4KHN0YWNrLnNpemUsIGxheW91dC5ob3Jpem9udGFsID8gYm94LmhlaWdodCA6IGJveC53aWR0aCk7XG4gICAgbGF5b3V0LnNpemUgPSBzdGFjay5zaXplIC8gc3RhY2suY291bnQ7XG4gICAgY2hhcnRBcmVhW3Bvc10gKz0gbGF5b3V0LnNpemU7XG4gIH1cbiAgaWYgKGJveC5nZXRQYWRkaW5nKSB7XG4gICAgdXBkYXRlTWF4UGFkZGluZyhtYXhQYWRkaW5nLCBib3guZ2V0UGFkZGluZygpKTtcbiAgfVxuICBjb25zdCBuZXdXaWR0aCA9IE1hdGgubWF4KDAsIHBhcmFtcy5vdXRlcldpZHRoIC0gZ2V0Q29tYmluZWRNYXgobWF4UGFkZGluZywgY2hhcnRBcmVhLCAnbGVmdCcsICdyaWdodCcpKTtcbiAgY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5tYXgoMCwgcGFyYW1zLm91dGVySGVpZ2h0IC0gZ2V0Q29tYmluZWRNYXgobWF4UGFkZGluZywgY2hhcnRBcmVhLCAndG9wJywgJ2JvdHRvbScpKTtcbiAgY29uc3Qgd2lkdGhDaGFuZ2VkID0gbmV3V2lkdGggIT09IGNoYXJ0QXJlYS53O1xuICBjb25zdCBoZWlnaHRDaGFuZ2VkID0gbmV3SGVpZ2h0ICE9PSBjaGFydEFyZWEuaDtcbiAgY2hhcnRBcmVhLncgPSBuZXdXaWR0aDtcbiAgY2hhcnRBcmVhLmggPSBuZXdIZWlnaHQ7XG4gIHJldHVybiBsYXlvdXQuaG9yaXpvbnRhbFxuICAgID8ge3NhbWU6IHdpZHRoQ2hhbmdlZCwgb3RoZXI6IGhlaWdodENoYW5nZWR9XG4gICAgOiB7c2FtZTogaGVpZ2h0Q2hhbmdlZCwgb3RoZXI6IHdpZHRoQ2hhbmdlZH07XG59XG5mdW5jdGlvbiBoYW5kbGVNYXhQYWRkaW5nKGNoYXJ0QXJlYSkge1xuICBjb25zdCBtYXhQYWRkaW5nID0gY2hhcnRBcmVhLm1heFBhZGRpbmc7XG4gIGZ1bmN0aW9uIHVwZGF0ZVBvcyhwb3MpIHtcbiAgICBjb25zdCBjaGFuZ2UgPSBNYXRoLm1heChtYXhQYWRkaW5nW3Bvc10gLSBjaGFydEFyZWFbcG9zXSwgMCk7XG4gICAgY2hhcnRBcmVhW3Bvc10gKz0gY2hhbmdlO1xuICAgIHJldHVybiBjaGFuZ2U7XG4gIH1cbiAgY2hhcnRBcmVhLnkgKz0gdXBkYXRlUG9zKCd0b3AnKTtcbiAgY2hhcnRBcmVhLnggKz0gdXBkYXRlUG9zKCdsZWZ0Jyk7XG4gIHVwZGF0ZVBvcygncmlnaHQnKTtcbiAgdXBkYXRlUG9zKCdib3R0b20nKTtcbn1cbmZ1bmN0aW9uIGdldE1hcmdpbnMoaG9yaXpvbnRhbCwgY2hhcnRBcmVhKSB7XG4gIGNvbnN0IG1heFBhZGRpbmcgPSBjaGFydEFyZWEubWF4UGFkZGluZztcbiAgZnVuY3Rpb24gbWFyZ2luRm9yUG9zaXRpb25zKHBvc2l0aW9ucykge1xuICAgIGNvbnN0IG1hcmdpbiA9IHtsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDB9O1xuICAgIHBvc2l0aW9ucy5mb3JFYWNoKChwb3MpID0+IHtcbiAgICAgIG1hcmdpbltwb3NdID0gTWF0aC5tYXgoY2hhcnRBcmVhW3Bvc10sIG1heFBhZGRpbmdbcG9zXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1hcmdpbjtcbiAgfVxuICByZXR1cm4gaG9yaXpvbnRhbFxuICAgID8gbWFyZ2luRm9yUG9zaXRpb25zKFsnbGVmdCcsICdyaWdodCddKVxuICAgIDogbWFyZ2luRm9yUG9zaXRpb25zKFsndG9wJywgJ2JvdHRvbSddKTtcbn1cbmZ1bmN0aW9uIGZpdEJveGVzKGJveGVzLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKSB7XG4gIGNvbnN0IHJlZml0Qm94ZXMgPSBbXTtcbiAgbGV0IGksIGlsZW4sIGxheW91dCwgYm94LCByZWZpdCwgY2hhbmdlZDtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGJveGVzLmxlbmd0aCwgcmVmaXQgPSAwOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgbGF5b3V0ID0gYm94ZXNbaV07XG4gICAgYm94ID0gbGF5b3V0LmJveDtcbiAgICBib3gudXBkYXRlKFxuICAgICAgbGF5b3V0LndpZHRoIHx8IGNoYXJ0QXJlYS53LFxuICAgICAgbGF5b3V0LmhlaWdodCB8fCBjaGFydEFyZWEuaCxcbiAgICAgIGdldE1hcmdpbnMobGF5b3V0Lmhvcml6b250YWwsIGNoYXJ0QXJlYSlcbiAgICApO1xuICAgIGNvbnN0IHtzYW1lLCBvdGhlcn0gPSB1cGRhdGVEaW1zKGNoYXJ0QXJlYSwgcGFyYW1zLCBsYXlvdXQsIHN0YWNrcyk7XG4gICAgcmVmaXQgfD0gc2FtZSAmJiByZWZpdEJveGVzLmxlbmd0aDtcbiAgICBjaGFuZ2VkID0gY2hhbmdlZCB8fCBvdGhlcjtcbiAgICBpZiAoIWJveC5mdWxsU2l6ZSkge1xuICAgICAgcmVmaXRCb3hlcy5wdXNoKGxheW91dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZWZpdCAmJiBmaXRCb3hlcyhyZWZpdEJveGVzLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKSB8fCBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gc2V0Qm94RGltcyhib3gsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICBib3gudG9wID0gdG9wO1xuICBib3gubGVmdCA9IGxlZnQ7XG4gIGJveC5yaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgYm94LmJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgYm94LndpZHRoID0gd2lkdGg7XG4gIGJveC5oZWlnaHQgPSBoZWlnaHQ7XG59XG5mdW5jdGlvbiBwbGFjZUJveGVzKGJveGVzLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKSB7XG4gIGNvbnN0IHVzZXJQYWRkaW5nID0gcGFyYW1zLnBhZGRpbmc7XG4gIGxldCB7eCwgeX0gPSBjaGFydEFyZWE7XG4gIGZvciAoY29uc3QgbGF5b3V0IG9mIGJveGVzKSB7XG4gICAgY29uc3QgYm94ID0gbGF5b3V0LmJveDtcbiAgICBjb25zdCBzdGFjayA9IHN0YWNrc1tsYXlvdXQuc3RhY2tdIHx8IHtjb3VudDogMSwgcGxhY2VkOiAwLCB3ZWlnaHQ6IDF9O1xuICAgIGNvbnN0IHdlaWdodCA9IChsYXlvdXQuc3RhY2tXZWlnaHQgLyBzdGFjay53ZWlnaHQpIHx8IDE7XG4gICAgaWYgKGxheW91dC5ob3Jpem9udGFsKSB7XG4gICAgICBjb25zdCB3aWR0aCA9IGNoYXJ0QXJlYS53ICogd2VpZ2h0O1xuICAgICAgY29uc3QgaGVpZ2h0ID0gc3RhY2suc2l6ZSB8fCBib3guaGVpZ2h0O1xuICAgICAgaWYgKGRlZmluZWQoc3RhY2suc3RhcnQpKSB7XG4gICAgICAgIHkgPSBzdGFjay5zdGFydDtcbiAgICAgIH1cbiAgICAgIGlmIChib3guZnVsbFNpemUpIHtcbiAgICAgICAgc2V0Qm94RGltcyhib3gsIHVzZXJQYWRkaW5nLmxlZnQsIHksIHBhcmFtcy5vdXRlcldpZHRoIC0gdXNlclBhZGRpbmcucmlnaHQgLSB1c2VyUGFkZGluZy5sZWZ0LCBoZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0Qm94RGltcyhib3gsIGNoYXJ0QXJlYS5sZWZ0ICsgc3RhY2sucGxhY2VkLCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnN0YXJ0ID0geTtcbiAgICAgIHN0YWNrLnBsYWNlZCArPSB3aWR0aDtcbiAgICAgIHkgPSBib3guYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBjaGFydEFyZWEuaCAqIHdlaWdodDtcbiAgICAgIGNvbnN0IHdpZHRoID0gc3RhY2suc2l6ZSB8fCBib3gud2lkdGg7XG4gICAgICBpZiAoZGVmaW5lZChzdGFjay5zdGFydCkpIHtcbiAgICAgICAgeCA9IHN0YWNrLnN0YXJ0O1xuICAgICAgfVxuICAgICAgaWYgKGJveC5mdWxsU2l6ZSkge1xuICAgICAgICBzZXRCb3hEaW1zKGJveCwgeCwgdXNlclBhZGRpbmcudG9wLCB3aWR0aCwgcGFyYW1zLm91dGVySGVpZ2h0IC0gdXNlclBhZGRpbmcuYm90dG9tIC0gdXNlclBhZGRpbmcudG9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEJveERpbXMoYm94LCB4LCBjaGFydEFyZWEudG9wICsgc3RhY2sucGxhY2VkLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnN0YXJ0ID0geDtcbiAgICAgIHN0YWNrLnBsYWNlZCArPSBoZWlnaHQ7XG4gICAgICB4ID0gYm94LnJpZ2h0O1xuICAgIH1cbiAgfVxuICBjaGFydEFyZWEueCA9IHg7XG4gIGNoYXJ0QXJlYS55ID0geTtcbn1cbmRlZmF1bHRzLnNldCgnbGF5b3V0Jywge1xuICBhdXRvUGFkZGluZzogdHJ1ZSxcbiAgcGFkZGluZzoge1xuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgICBib3R0b206IDAsXG4gICAgbGVmdDogMFxuICB9XG59KTtcbnZhciBsYXlvdXRzID0ge1xuICBhZGRCb3goY2hhcnQsIGl0ZW0pIHtcbiAgICBpZiAoIWNoYXJ0LmJveGVzKSB7XG4gICAgICBjaGFydC5ib3hlcyA9IFtdO1xuICAgIH1cbiAgICBpdGVtLmZ1bGxTaXplID0gaXRlbS5mdWxsU2l6ZSB8fCBmYWxzZTtcbiAgICBpdGVtLnBvc2l0aW9uID0gaXRlbS5wb3NpdGlvbiB8fCAndG9wJztcbiAgICBpdGVtLndlaWdodCA9IGl0ZW0ud2VpZ2h0IHx8IDA7XG4gICAgaXRlbS5fbGF5ZXJzID0gaXRlbS5fbGF5ZXJzIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIHo6IDAsXG4gICAgICAgIGRyYXcoY2hhcnRBcmVhKSB7XG4gICAgICAgICAgaXRlbS5kcmF3KGNoYXJ0QXJlYSk7XG4gICAgICAgIH1cbiAgICAgIH1dO1xuICAgIH07XG4gICAgY2hhcnQuYm94ZXMucHVzaChpdGVtKTtcbiAgfSxcbiAgcmVtb3ZlQm94KGNoYXJ0LCBsYXlvdXRJdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBjaGFydC5ib3hlcyA/IGNoYXJ0LmJveGVzLmluZGV4T2YobGF5b3V0SXRlbSkgOiAtMTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBjaGFydC5ib3hlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfSxcbiAgY29uZmlndXJlKGNoYXJ0LCBpdGVtLCBvcHRpb25zKSB7XG4gICAgaXRlbS5mdWxsU2l6ZSA9IG9wdGlvbnMuZnVsbFNpemU7XG4gICAgaXRlbS5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XG4gICAgaXRlbS53ZWlnaHQgPSBvcHRpb25zLndlaWdodDtcbiAgfSxcbiAgdXBkYXRlKGNoYXJ0LCB3aWR0aCwgaGVpZ2h0LCBtaW5QYWRkaW5nKSB7XG4gICAgaWYgKCFjaGFydCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKGNoYXJ0Lm9wdGlvbnMubGF5b3V0LnBhZGRpbmcpO1xuICAgIGNvbnN0IGF2YWlsYWJsZVdpZHRoID0gTWF0aC5tYXgod2lkdGggLSBwYWRkaW5nLndpZHRoLCAwKTtcbiAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgLSBwYWRkaW5nLmhlaWdodCwgMCk7XG4gICAgY29uc3QgYm94ZXMgPSBidWlsZExheW91dEJveGVzKGNoYXJ0LmJveGVzKTtcbiAgICBjb25zdCB2ZXJ0aWNhbEJveGVzID0gYm94ZXMudmVydGljYWw7XG4gICAgY29uc3QgaG9yaXpvbnRhbEJveGVzID0gYm94ZXMuaG9yaXpvbnRhbDtcbiAgICBlYWNoKGNoYXJ0LmJveGVzLCBib3ggPT4ge1xuICAgICAgaWYgKHR5cGVvZiBib3guYmVmb3JlTGF5b3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGJveC5iZWZvcmVMYXlvdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCB2aXNpYmxlVmVydGljYWxCb3hDb3VudCA9IHZlcnRpY2FsQm94ZXMucmVkdWNlKCh0b3RhbCwgd3JhcCkgPT5cbiAgICAgIHdyYXAuYm94Lm9wdGlvbnMgJiYgd3JhcC5ib3gub3B0aW9ucy5kaXNwbGF5ID09PSBmYWxzZSA/IHRvdGFsIDogdG90YWwgKyAxLCAwKSB8fCAxO1xuICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgb3V0ZXJXaWR0aDogd2lkdGgsXG4gICAgICBvdXRlckhlaWdodDogaGVpZ2h0LFxuICAgICAgcGFkZGluZyxcbiAgICAgIGF2YWlsYWJsZVdpZHRoLFxuICAgICAgYXZhaWxhYmxlSGVpZ2h0LFxuICAgICAgdkJveE1heFdpZHRoOiBhdmFpbGFibGVXaWR0aCAvIDIgLyB2aXNpYmxlVmVydGljYWxCb3hDb3VudCxcbiAgICAgIGhCb3hNYXhIZWlnaHQ6IGF2YWlsYWJsZUhlaWdodCAvIDJcbiAgICB9KTtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gT2JqZWN0LmFzc2lnbih7fSwgcGFkZGluZyk7XG4gICAgdXBkYXRlTWF4UGFkZGluZyhtYXhQYWRkaW5nLCB0b1BhZGRpbmcobWluUGFkZGluZykpO1xuICAgIGNvbnN0IGNoYXJ0QXJlYSA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWF4UGFkZGluZyxcbiAgICAgIHc6IGF2YWlsYWJsZVdpZHRoLFxuICAgICAgaDogYXZhaWxhYmxlSGVpZ2h0LFxuICAgICAgeDogcGFkZGluZy5sZWZ0LFxuICAgICAgeTogcGFkZGluZy50b3BcbiAgICB9LCBwYWRkaW5nKTtcbiAgICBjb25zdCBzdGFja3MgPSBzZXRMYXlvdXREaW1zKHZlcnRpY2FsQm94ZXMuY29uY2F0KGhvcml6b250YWxCb3hlcyksIHBhcmFtcyk7XG4gICAgZml0Qm94ZXMoYm94ZXMuZnVsbFNpemUsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpO1xuICAgIGZpdEJveGVzKHZlcnRpY2FsQm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpO1xuICAgIGlmIChmaXRCb3hlcyhob3Jpem9udGFsQm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpKSB7XG4gICAgICBmaXRCb3hlcyh2ZXJ0aWNhbEJveGVzLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKTtcbiAgICB9XG4gICAgaGFuZGxlTWF4UGFkZGluZyhjaGFydEFyZWEpO1xuICAgIHBsYWNlQm94ZXMoYm94ZXMubGVmdEFuZFRvcCwgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgY2hhcnRBcmVhLnggKz0gY2hhcnRBcmVhLnc7XG4gICAgY2hhcnRBcmVhLnkgKz0gY2hhcnRBcmVhLmg7XG4gICAgcGxhY2VCb3hlcyhib3hlcy5yaWdodEFuZEJvdHRvbSwgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgY2hhcnQuY2hhcnRBcmVhID0ge1xuICAgICAgbGVmdDogY2hhcnRBcmVhLmxlZnQsXG4gICAgICB0b3A6IGNoYXJ0QXJlYS50b3AsXG4gICAgICByaWdodDogY2hhcnRBcmVhLmxlZnQgKyBjaGFydEFyZWEudyxcbiAgICAgIGJvdHRvbTogY2hhcnRBcmVhLnRvcCArIGNoYXJ0QXJlYS5oLFxuICAgICAgaGVpZ2h0OiBjaGFydEFyZWEuaCxcbiAgICAgIHdpZHRoOiBjaGFydEFyZWEudyxcbiAgICB9O1xuICAgIGVhY2goYm94ZXMuY2hhcnRBcmVhLCAobGF5b3V0KSA9PiB7XG4gICAgICBjb25zdCBib3ggPSBsYXlvdXQuYm94O1xuICAgICAgT2JqZWN0LmFzc2lnbihib3gsIGNoYXJ0LmNoYXJ0QXJlYSk7XG4gICAgICBib3gudXBkYXRlKGNoYXJ0QXJlYS53LCBjaGFydEFyZWEuaCwge2xlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMH0pO1xuICAgIH0pO1xuICB9XG59O1xuXG5jbGFzcyBCYXNlUGxhdGZvcm0ge1xuICBhY3F1aXJlQ29udGV4dChjYW52YXMsIGFzcGVjdFJhdGlvKSB7fVxuICByZWxlYXNlQ29udGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZEV2ZW50TGlzdGVuZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7fVxuICByZW1vdmVFdmVudExpc3RlbmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge31cbiAgZ2V0RGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBnZXRNYXhpbXVtU2l6ZShlbGVtZW50LCB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbykge1xuICAgIHdpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggfHwgZWxlbWVudC53aWR0aCk7XG4gICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IGVsZW1lbnQuaGVpZ2h0O1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoMCwgYXNwZWN0UmF0aW8gPyBNYXRoLmZsb29yKHdpZHRoIC8gYXNwZWN0UmF0aW8pIDogaGVpZ2h0KVxuICAgIH07XG4gIH1cbiAgaXNBdHRhY2hlZChjYW52YXMpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gIH1cbn1cblxuY2xhc3MgQmFzaWNQbGF0Zm9ybSBleHRlbmRzIEJhc2VQbGF0Zm9ybSB7XG4gIGFjcXVpcmVDb250ZXh0KGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAmJiBpdGVtLmdldENvbnRleHQgJiYgaXRlbS5nZXRDb250ZXh0KCcyZCcpIHx8IG51bGw7XG4gIH1cbiAgdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgIGNvbmZpZy5vcHRpb25zLmFuaW1hdGlvbiA9IGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IEVYUEFORE9fS0VZID0gJyRjaGFydGpzJztcbmNvbnN0IEVWRU5UX1RZUEVTID0ge1xuICB0b3VjaHN0YXJ0OiAnbW91c2Vkb3duJyxcbiAgdG91Y2htb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgdG91Y2hlbmQ6ICdtb3VzZXVwJyxcbiAgcG9pbnRlcmVudGVyOiAnbW91c2VlbnRlcicsXG4gIHBvaW50ZXJkb3duOiAnbW91c2Vkb3duJyxcbiAgcG9pbnRlcm1vdmU6ICdtb3VzZW1vdmUnLFxuICBwb2ludGVydXA6ICdtb3VzZXVwJyxcbiAgcG9pbnRlcmxlYXZlOiAnbW91c2VvdXQnLFxuICBwb2ludGVyb3V0OiAnbW91c2VvdXQnXG59O1xuY29uc3QgaXNOdWxsT3JFbXB0eSA9IHZhbHVlID0+IHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSAnJztcbmZ1bmN0aW9uIGluaXRDYW52YXMoY2FudmFzLCBhc3BlY3RSYXRpbykge1xuICBjb25zdCBzdHlsZSA9IGNhbnZhcy5zdHlsZTtcbiAgY29uc3QgcmVuZGVySGVpZ2h0ID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG4gIGNvbnN0IHJlbmRlcldpZHRoID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgY2FudmFzW0VYUEFORE9fS0VZXSA9IHtcbiAgICBpbml0aWFsOiB7XG4gICAgICBoZWlnaHQ6IHJlbmRlckhlaWdodCxcbiAgICAgIHdpZHRoOiByZW5kZXJXaWR0aCxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IHN0eWxlLmRpc3BsYXksXG4gICAgICAgIGhlaWdodDogc3R5bGUuaGVpZ2h0LFxuICAgICAgICB3aWR0aDogc3R5bGUud2lkdGhcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHN0eWxlLmRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5IHx8ICdibG9jayc7XG4gIHN0eWxlLmJveFNpemluZyA9IHN0eWxlLmJveFNpemluZyB8fCAnYm9yZGVyLWJveCc7XG4gIGlmIChpc051bGxPckVtcHR5KHJlbmRlcldpZHRoKSkge1xuICAgIGNvbnN0IGRpc3BsYXlXaWR0aCA9IHJlYWRVc2VkU2l6ZShjYW52YXMsICd3aWR0aCcpO1xuICAgIGlmIChkaXNwbGF5V2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FudmFzLndpZHRoID0gZGlzcGxheVdpZHRoO1xuICAgIH1cbiAgfVxuICBpZiAoaXNOdWxsT3JFbXB0eShyZW5kZXJIZWlnaHQpKSB7XG4gICAgaWYgKGNhbnZhcy5zdHlsZS5oZWlnaHQgPT09ICcnKSB7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLndpZHRoIC8gKGFzcGVjdFJhdGlvIHx8IDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkaXNwbGF5SGVpZ2h0ID0gcmVhZFVzZWRTaXplKGNhbnZhcywgJ2hlaWdodCcpO1xuICAgICAgaWYgKGRpc3BsYXlIZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNhbnZhcztcbn1cbmNvbnN0IGV2ZW50TGlzdGVuZXJPcHRpb25zID0gc3VwcG9ydHNFdmVudExpc3RlbmVyT3B0aW9ucyA/IHtwYXNzaXZlOiB0cnVlfSA6IGZhbHNlO1xuZnVuY3Rpb24gYWRkTGlzdGVuZXIobm9kZSwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBldmVudExpc3RlbmVyT3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hhcnQuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGZyb21OYXRpdmVFdmVudChldmVudCwgY2hhcnQpIHtcbiAgY29uc3QgdHlwZSA9IEVWRU5UX1RZUEVTW2V2ZW50LnR5cGVdIHx8IGV2ZW50LnR5cGU7XG4gIGNvbnN0IHt4LCB5fSA9IGdldFJlbGF0aXZlUG9zaXRpb24oZXZlbnQsIGNoYXJ0KTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlLFxuICAgIGNoYXJ0LFxuICAgIG5hdGl2ZTogZXZlbnQsXG4gICAgeDogeCAhPT0gdW5kZWZpbmVkID8geCA6IG51bGwsXG4gICAgeTogeSAhPT0gdW5kZWZpbmVkID8geSA6IG51bGwsXG4gIH07XG59XG5mdW5jdGlvbiBub2RlTGlzdENvbnRhaW5zKG5vZGVMaXN0LCBjYW52YXMpIHtcbiAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVMaXN0KSB7XG4gICAgaWYgKG5vZGUgPT09IGNhbnZhcyB8fCBub2RlLmNvbnRhaW5zKGNhbnZhcykpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQXR0YWNoT2JzZXJ2ZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNvbnN0IGNhbnZhcyA9IGNoYXJ0LmNhbnZhcztcbiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICBsZXQgdHJpZ2dlciA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgfHwgbm9kZUxpc3RDb250YWlucyhlbnRyeS5hZGRlZE5vZGVzLCBjYW52YXMpO1xuICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgJiYgIW5vZGVMaXN0Q29udGFpbnMoZW50cnkucmVtb3ZlZE5vZGVzLCBjYW52YXMpO1xuICAgIH1cbiAgICBpZiAodHJpZ2dlcikge1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH0pO1xuICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG4gIHJldHVybiBvYnNlcnZlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURldGFjaE9ic2VydmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgbGV0IHRyaWdnZXIgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIHRyaWdnZXIgPSB0cmlnZ2VyIHx8IG5vZGVMaXN0Q29udGFpbnMoZW50cnkucmVtb3ZlZE5vZGVzLCBjYW52YXMpO1xuICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgJiYgIW5vZGVMaXN0Q29udGFpbnMoZW50cnkuYWRkZWROb2RlcywgY2FudmFzKTtcbiAgICB9XG4gICAgaWYgKHRyaWdnZXIpIHtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuICB9KTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xuICByZXR1cm4gb2JzZXJ2ZXI7XG59XG5jb25zdCBkcnBMaXN0ZW5pbmdDaGFydHMgPSBuZXcgTWFwKCk7XG5sZXQgb2xkRGV2aWNlUGl4ZWxSYXRpbyA9IDA7XG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcbiAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIGlmIChkcHIgPT09IG9sZERldmljZVBpeGVsUmF0aW8pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgb2xkRGV2aWNlUGl4ZWxSYXRpbyA9IGRwcjtcbiAgZHJwTGlzdGVuaW5nQ2hhcnRzLmZvckVhY2goKHJlc2l6ZSwgY2hhcnQpID0+IHtcbiAgICBpZiAoY2hhcnQuY3VycmVudERldmljZVBpeGVsUmF0aW8gIT09IGRwcikge1xuICAgICAgcmVzaXplKCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGxpc3RlbkRldmljZVBpeGVsUmF0aW9DaGFuZ2VzKGNoYXJ0LCByZXNpemUpIHtcbiAgaWYgKCFkcnBMaXN0ZW5pbmdDaGFydHMuc2l6ZSkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG4gIH1cbiAgZHJwTGlzdGVuaW5nQ2hhcnRzLnNldChjaGFydCwgcmVzaXplKTtcbn1cbmZ1bmN0aW9uIHVubGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQpIHtcbiAgZHJwTGlzdGVuaW5nQ2hhcnRzLmRlbGV0ZShjaGFydCk7XG4gIGlmICghZHJwTGlzdGVuaW5nQ2hhcnRzLnNpemUpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUpO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVSZXNpemVPYnNlcnZlcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICBjb25zdCBjb250YWluZXIgPSBjYW52YXMgJiYgX2dldFBhcmVudE5vZGUoY2FudmFzKTtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVzaXplID0gdGhyb3R0bGVkKCh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgdyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICBsaXN0ZW5lcih3aWR0aCwgaGVpZ2h0KTtcbiAgICBpZiAodyA8IGNvbnRhaW5lci5jbGllbnRXaWR0aCkge1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH0sIHdpbmRvdyk7XG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1swXTtcbiAgICBjb25zdCB3aWR0aCA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoO1xuICAgIGNvbnN0IGhlaWdodCA9IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodDtcbiAgICBpZiAod2lkdGggPT09IDAgJiYgaGVpZ2h0ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgfSk7XG4gIG9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyKTtcbiAgbGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQsIHJlc2l6ZSk7XG4gIHJldHVybiBvYnNlcnZlcjtcbn1cbmZ1bmN0aW9uIHJlbGVhc2VPYnNlcnZlcihjaGFydCwgdHlwZSwgb2JzZXJ2ZXIpIHtcbiAgaWYgKG9ic2VydmVyKSB7XG4gICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9XG4gIGlmICh0eXBlID09PSAncmVzaXplJykge1xuICAgIHVubGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQpO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQcm94eUFuZExpc3RlbihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICBjb25zdCBwcm94eSA9IHRocm90dGxlZCgoZXZlbnQpID0+IHtcbiAgICBpZiAoY2hhcnQuY3R4ICE9PSBudWxsKSB7XG4gICAgICBsaXN0ZW5lcihmcm9tTmF0aXZlRXZlbnQoZXZlbnQsIGNoYXJ0KSk7XG4gICAgfVxuICB9LCBjaGFydCwgKGFyZ3MpID0+IHtcbiAgICBjb25zdCBldmVudCA9IGFyZ3NbMF07XG4gICAgcmV0dXJuIFtldmVudCwgZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07XG4gIH0pO1xuICBhZGRMaXN0ZW5lcihjYW52YXMsIHR5cGUsIHByb3h5KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuY2xhc3MgRG9tUGxhdGZvcm0gZXh0ZW5kcyBCYXNlUGxhdGZvcm0ge1xuICBhY3F1aXJlQ29udGV4dChjYW52YXMsIGFzcGVjdFJhdGlvKSB7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcyAmJiBjYW52YXMuZ2V0Q29udGV4dCAmJiBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcyA9PT0gY2FudmFzKSB7XG4gICAgICBpbml0Q2FudmFzKGNhbnZhcywgYXNwZWN0UmF0aW8pO1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJlbGVhc2VDb250ZXh0KGNvbnRleHQpIHtcbiAgICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICBpZiAoIWNhbnZhc1tFWFBBTkRPX0tFWV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaW5pdGlhbCA9IGNhbnZhc1tFWFBBTkRPX0tFWV0uaW5pdGlhbDtcbiAgICBbJ2hlaWdodCcsICd3aWR0aCddLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFtwcm9wXTtcbiAgICAgIGlmIChpc051bGxPclVuZGVmKHZhbHVlKSkge1xuICAgICAgICBjYW52YXMucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc3R5bGUgPSBpbml0aWFsLnN0eWxlIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKHN0eWxlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNhbnZhcy5zdHlsZVtrZXldID0gc3R5bGVba2V5XTtcbiAgICB9KTtcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XG4gICAgZGVsZXRlIGNhbnZhc1tFWFBBTkRPX0tFWV07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgYWRkRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoY2hhcnQsIHR5cGUpO1xuICAgIGNvbnN0IHByb3hpZXMgPSBjaGFydC4kcHJveGllcyB8fCAoY2hhcnQuJHByb3hpZXMgPSB7fSk7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB7XG4gICAgICBhdHRhY2g6IGNyZWF0ZUF0dGFjaE9ic2VydmVyLFxuICAgICAgZGV0YWNoOiBjcmVhdGVEZXRhY2hPYnNlcnZlcixcbiAgICAgIHJlc2l6ZTogY3JlYXRlUmVzaXplT2JzZXJ2ZXJcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0eXBlXSB8fCBjcmVhdGVQcm94eUFuZExpc3RlbjtcbiAgICBwcm94aWVzW3R5cGVdID0gaGFuZGxlcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpO1xuICB9XG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoY2hhcnQsIHR5cGUpIHtcbiAgICBjb25zdCBwcm94aWVzID0gY2hhcnQuJHByb3hpZXMgfHwgKGNoYXJ0LiRwcm94aWVzID0ge30pO1xuICAgIGNvbnN0IHByb3h5ID0gcHJveGllc1t0eXBlXTtcbiAgICBpZiAoIXByb3h5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZXJzID0ge1xuICAgICAgYXR0YWNoOiByZWxlYXNlT2JzZXJ2ZXIsXG4gICAgICBkZXRhY2g6IHJlbGVhc2VPYnNlcnZlcixcbiAgICAgIHJlc2l6ZTogcmVsZWFzZU9ic2VydmVyXG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbdHlwZV0gfHwgcmVtb3ZlTGlzdGVuZXI7XG4gICAgaGFuZGxlcihjaGFydCwgdHlwZSwgcHJveHkpO1xuICAgIHByb3hpZXNbdHlwZV0gPSB1bmRlZmluZWQ7XG4gIH1cbiAgZ2V0RGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gIH1cbiAgZ2V0TWF4aW11bVNpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbykge1xuICAgIHJldHVybiBnZXRNYXhpbXVtU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKTtcbiAgfVxuICBpc0F0dGFjaGVkKGNhbnZhcykge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IF9nZXRQYXJlbnROb2RlKGNhbnZhcyk7XG4gICAgcmV0dXJuICEhKGNvbnRhaW5lciAmJiBjb250YWluZXIuaXNDb25uZWN0ZWQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9kZXRlY3RQbGF0Zm9ybShjYW52YXMpIHtcbiAgaWYgKCFfaXNEb21TdXBwb3J0ZWQoKSB8fCAodHlwZW9mIE9mZnNjcmVlbkNhbnZhcyAhPT0gJ3VuZGVmaW5lZCcgJiYgY2FudmFzIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSkge1xuICAgIHJldHVybiBCYXNpY1BsYXRmb3JtO1xuICB9XG4gIHJldHVybiBEb21QbGF0Zm9ybTtcbn1cblxuY2xhc3MgUGx1Z2luU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2luaXQgPSBbXTtcbiAgfVxuICBub3RpZnkoY2hhcnQsIGhvb2ssIGFyZ3MsIGZpbHRlcikge1xuICAgIGlmIChob29rID09PSAnYmVmb3JlSW5pdCcpIHtcbiAgICAgIHRoaXMuX2luaXQgPSB0aGlzLl9jcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwgdHJ1ZSk7XG4gICAgICB0aGlzLl9ub3RpZnkodGhpcy5faW5pdCwgY2hhcnQsICdpbnN0YWxsJyk7XG4gICAgfVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gZmlsdGVyID8gdGhpcy5fZGVzY3JpcHRvcnMoY2hhcnQpLmZpbHRlcihmaWx0ZXIpIDogdGhpcy5fZGVzY3JpcHRvcnMoY2hhcnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX25vdGlmeShkZXNjcmlwdG9ycywgY2hhcnQsIGhvb2ssIGFyZ3MpO1xuICAgIGlmIChob29rID09PSAnYWZ0ZXJEZXN0cm95Jykge1xuICAgICAgdGhpcy5fbm90aWZ5KGRlc2NyaXB0b3JzLCBjaGFydCwgJ3N0b3AnKTtcbiAgICAgIHRoaXMuX25vdGlmeSh0aGlzLl9pbml0LCBjaGFydCwgJ3VuaW5zdGFsbCcpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIF9ub3RpZnkoZGVzY3JpcHRvcnMsIGNoYXJ0LCBob29rLCBhcmdzKSB7XG4gICAgYXJncyA9IGFyZ3MgfHwge307XG4gICAgZm9yIChjb25zdCBkZXNjcmlwdG9yIG9mIGRlc2NyaXB0b3JzKSB7XG4gICAgICBjb25zdCBwbHVnaW4gPSBkZXNjcmlwdG9yLnBsdWdpbjtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IHBsdWdpbltob29rXTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IFtjaGFydCwgYXJncywgZGVzY3JpcHRvci5vcHRpb25zXTtcbiAgICAgIGlmIChjYWxsYmFjayhtZXRob2QsIHBhcmFtcywgcGx1Z2luKSA9PT0gZmFsc2UgJiYgYXJncy5jYW5jZWxhYmxlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaW52YWxpZGF0ZSgpIHtcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWYodGhpcy5fY2FjaGUpKSB7XG4gICAgICB0aGlzLl9vbGRDYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgICAgdGhpcy5fY2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIF9kZXNjcmlwdG9ycyhjaGFydCkge1xuICAgIGlmICh0aGlzLl9jYWNoZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlO1xuICAgIH1cbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IHRoaXMuX2NhY2hlID0gdGhpcy5fY3JlYXRlRGVzY3JpcHRvcnMoY2hhcnQpO1xuICAgIHRoaXMuX25vdGlmeVN0YXRlQ2hhbmdlcyhjaGFydCk7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICB9XG4gIF9jcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwgYWxsKSB7XG4gICAgY29uc3QgY29uZmlnID0gY2hhcnQgJiYgY2hhcnQuY29uZmlnO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB2YWx1ZU9yRGVmYXVsdChjb25maWcub3B0aW9ucyAmJiBjb25maWcub3B0aW9ucy5wbHVnaW5zLCB7fSk7XG4gICAgY29uc3QgcGx1Z2lucyA9IGFsbFBsdWdpbnMoY29uZmlnKTtcbiAgICByZXR1cm4gb3B0aW9ucyA9PT0gZmFsc2UgJiYgIWFsbCA/IFtdIDogY3JlYXRlRGVzY3JpcHRvcnMoY2hhcnQsIHBsdWdpbnMsIG9wdGlvbnMsIGFsbCk7XG4gIH1cbiAgX25vdGlmeVN0YXRlQ2hhbmdlcyhjaGFydCkge1xuICAgIGNvbnN0IHByZXZpb3VzRGVzY3JpcHRvcnMgPSB0aGlzLl9vbGRDYWNoZSB8fCBbXTtcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IHRoaXMuX2NhY2hlO1xuICAgIGNvbnN0IGRpZmYgPSAoYSwgYikgPT4gYS5maWx0ZXIoeCA9PiAhYi5zb21lKHkgPT4geC5wbHVnaW4uaWQgPT09IHkucGx1Z2luLmlkKSk7XG4gICAgdGhpcy5fbm90aWZ5KGRpZmYocHJldmlvdXNEZXNjcmlwdG9ycywgZGVzY3JpcHRvcnMpLCBjaGFydCwgJ3N0b3AnKTtcbiAgICB0aGlzLl9ub3RpZnkoZGlmZihkZXNjcmlwdG9ycywgcHJldmlvdXNEZXNjcmlwdG9ycyksIGNoYXJ0LCAnc3RhcnQnKTtcbiAgfVxufVxuZnVuY3Rpb24gYWxsUGx1Z2lucyhjb25maWcpIHtcbiAgY29uc3QgbG9jYWxJZHMgPSB7fTtcbiAgY29uc3QgcGx1Z2lucyA9IFtdO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmVnaXN0cnkucGx1Z2lucy5pdGVtcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHBsdWdpbnMucHVzaChyZWdpc3RyeS5nZXRQbHVnaW4oa2V5c1tpXSkpO1xuICB9XG4gIGNvbnN0IGxvY2FsID0gY29uZmlnLnBsdWdpbnMgfHwgW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwbHVnaW4gPSBsb2NhbFtpXTtcbiAgICBpZiAocGx1Z2lucy5pbmRleE9mKHBsdWdpbikgPT09IC0xKSB7XG4gICAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICAgIGxvY2FsSWRzW3BsdWdpbi5pZF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge3BsdWdpbnMsIGxvY2FsSWRzfTtcbn1cbmZ1bmN0aW9uIGdldE9wdHMob3B0aW9ucywgYWxsKSB7XG4gIGlmICghYWxsICYmIG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKG9wdGlvbnMgPT09IHRydWUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwge3BsdWdpbnMsIGxvY2FsSWRzfSwgb3B0aW9ucywgYWxsKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCBjb250ZXh0ID0gY2hhcnQuZ2V0Q29udGV4dCgpO1xuICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBwbHVnaW5zKSB7XG4gICAgY29uc3QgaWQgPSBwbHVnaW4uaWQ7XG4gICAgY29uc3Qgb3B0cyA9IGdldE9wdHMob3B0aW9uc1tpZF0sIGFsbCk7XG4gICAgaWYgKG9wdHMgPT09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXN1bHQucHVzaCh7XG4gICAgICBwbHVnaW4sXG4gICAgICBvcHRpb25zOiBwbHVnaW5PcHRzKGNoYXJ0LmNvbmZpZywge3BsdWdpbiwgbG9jYWw6IGxvY2FsSWRzW2lkXX0sIG9wdHMsIGNvbnRleHQpXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHBsdWdpbk9wdHMoY29uZmlnLCB7cGx1Z2luLCBsb2NhbH0sIG9wdHMsIGNvbnRleHQpIHtcbiAgY29uc3Qga2V5cyA9IGNvbmZpZy5wbHVnaW5TY29wZUtleXMocGx1Z2luKTtcbiAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3BlcyhvcHRzLCBrZXlzKTtcbiAgaWYgKGxvY2FsICYmIHBsdWdpbi5kZWZhdWx0cykge1xuICAgIHNjb3Blcy5wdXNoKHBsdWdpbi5kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZy5jcmVhdGVSZXNvbHZlcihzY29wZXMsIGNvbnRleHQsIFsnJ10sIHtcbiAgICBzY3JpcHRhYmxlOiBmYWxzZSxcbiAgICBpbmRleGFibGU6IGZhbHNlLFxuICAgIGFsbEtleXM6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEluZGV4QXhpcyh0eXBlLCBvcHRpb25zKSB7XG4gIGNvbnN0IGRhdGFzZXREZWZhdWx0cyA9IGRlZmF1bHRzLmRhdGFzZXRzW3R5cGVdIHx8IHt9O1xuICBjb25zdCBkYXRhc2V0T3B0aW9ucyA9IChvcHRpb25zLmRhdGFzZXRzIHx8IHt9KVt0eXBlXSB8fCB7fTtcbiAgcmV0dXJuIGRhdGFzZXRPcHRpb25zLmluZGV4QXhpcyB8fCBvcHRpb25zLmluZGV4QXhpcyB8fCBkYXRhc2V0RGVmYXVsdHMuaW5kZXhBeGlzIHx8ICd4Jztcbn1cbmZ1bmN0aW9uIGdldEF4aXNGcm9tRGVmYXVsdFNjYWxlSUQoaWQsIGluZGV4QXhpcykge1xuICBsZXQgYXhpcyA9IGlkO1xuICBpZiAoaWQgPT09ICdfaW5kZXhfJykge1xuICAgIGF4aXMgPSBpbmRleEF4aXM7XG4gIH0gZWxzZSBpZiAoaWQgPT09ICdfdmFsdWVfJykge1xuICAgIGF4aXMgPSBpbmRleEF4aXMgPT09ICd4JyA/ICd5JyA6ICd4JztcbiAgfVxuICByZXR1cm4gYXhpcztcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRTY2FsZUlERnJvbUF4aXMoYXhpcywgaW5kZXhBeGlzKSB7XG4gIHJldHVybiBheGlzID09PSBpbmRleEF4aXMgPyAnX2luZGV4XycgOiAnX3ZhbHVlXyc7XG59XG5mdW5jdGlvbiBheGlzRnJvbVBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgcmV0dXJuICd4JztcbiAgfVxuICBpZiAocG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHJldHVybiAneSc7XG4gIH1cbn1cbmZ1bmN0aW9uIGRldGVybWluZUF4aXMoaWQsIHNjYWxlT3B0aW9ucykge1xuICBpZiAoaWQgPT09ICd4JyB8fCBpZCA9PT0gJ3knKSB7XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIHJldHVybiBzY2FsZU9wdGlvbnMuYXhpcyB8fCBheGlzRnJvbVBvc2l0aW9uKHNjYWxlT3B0aW9ucy5wb3NpdGlvbikgfHwgaWQuY2hhckF0KDApLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBtZXJnZVNjYWxlQ29uZmlnKGNvbmZpZywgb3B0aW9ucykge1xuICBjb25zdCBjaGFydERlZmF1bHRzID0gb3ZlcnJpZGVzW2NvbmZpZy50eXBlXSB8fCB7c2NhbGVzOiB7fX07XG4gIGNvbnN0IGNvbmZpZ1NjYWxlcyA9IG9wdGlvbnMuc2NhbGVzIHx8IHt9O1xuICBjb25zdCBjaGFydEluZGV4QXhpcyA9IGdldEluZGV4QXhpcyhjb25maWcudHlwZSwgb3B0aW9ucyk7XG4gIGNvbnN0IGZpcnN0SURzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3Qgc2NhbGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgT2JqZWN0LmtleXMoY29uZmlnU2NhbGVzKS5mb3JFYWNoKGlkID0+IHtcbiAgICBjb25zdCBzY2FsZUNvbmYgPSBjb25maWdTY2FsZXNbaWRdO1xuICAgIGlmICghaXNPYmplY3Qoc2NhbGVDb25mKSkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgc2NhbGUgY29uZmlndXJhdGlvbiBmb3Igc2NhbGU6ICR7aWR9YCk7XG4gICAgfVxuICAgIGlmIChzY2FsZUNvbmYuX3Byb3h5KSB7XG4gICAgICByZXR1cm4gY29uc29sZS53YXJuKGBJZ25vcmluZyByZXNvbHZlciBwYXNzZWQgYXMgb3B0aW9ucyBmb3Igc2NhbGU6ICR7aWR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGF4aXMgPSBkZXRlcm1pbmVBeGlzKGlkLCBzY2FsZUNvbmYpO1xuICAgIGNvbnN0IGRlZmF1bHRJZCA9IGdldERlZmF1bHRTY2FsZUlERnJvbUF4aXMoYXhpcywgY2hhcnRJbmRleEF4aXMpO1xuICAgIGNvbnN0IGRlZmF1bHRTY2FsZU9wdGlvbnMgPSBjaGFydERlZmF1bHRzLnNjYWxlcyB8fCB7fTtcbiAgICBmaXJzdElEc1theGlzXSA9IGZpcnN0SURzW2F4aXNdIHx8IGlkO1xuICAgIHNjYWxlc1tpZF0gPSBtZXJnZUlmKE9iamVjdC5jcmVhdGUobnVsbCksIFt7YXhpc30sIHNjYWxlQ29uZiwgZGVmYXVsdFNjYWxlT3B0aW9uc1theGlzXSwgZGVmYXVsdFNjYWxlT3B0aW9uc1tkZWZhdWx0SWRdXSk7XG4gIH0pO1xuICBjb25maWcuZGF0YS5kYXRhc2V0cy5mb3JFYWNoKGRhdGFzZXQgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSBkYXRhc2V0LnR5cGUgfHwgY29uZmlnLnR5cGU7XG4gICAgY29uc3QgaW5kZXhBeGlzID0gZGF0YXNldC5pbmRleEF4aXMgfHwgZ2V0SW5kZXhBeGlzKHR5cGUsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGRhdGFzZXREZWZhdWx0cyA9IG92ZXJyaWRlc1t0eXBlXSB8fCB7fTtcbiAgICBjb25zdCBkZWZhdWx0U2NhbGVPcHRpb25zID0gZGF0YXNldERlZmF1bHRzLnNjYWxlcyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhkZWZhdWx0U2NhbGVPcHRpb25zKS5mb3JFYWNoKGRlZmF1bHRJRCA9PiB7XG4gICAgICBjb25zdCBheGlzID0gZ2V0QXhpc0Zyb21EZWZhdWx0U2NhbGVJRChkZWZhdWx0SUQsIGluZGV4QXhpcyk7XG4gICAgICBjb25zdCBpZCA9IGRhdGFzZXRbYXhpcyArICdBeGlzSUQnXSB8fCBmaXJzdElEc1theGlzXSB8fCBheGlzO1xuICAgICAgc2NhbGVzW2lkXSA9IHNjYWxlc1tpZF0gfHwgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIG1lcmdlSWYoc2NhbGVzW2lkXSwgW3theGlzfSwgY29uZmlnU2NhbGVzW2lkXSwgZGVmYXVsdFNjYWxlT3B0aW9uc1tkZWZhdWx0SURdXSk7XG4gICAgfSk7XG4gIH0pO1xuICBPYmplY3Qua2V5cyhzY2FsZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCBzY2FsZSA9IHNjYWxlc1trZXldO1xuICAgIG1lcmdlSWYoc2NhbGUsIFtkZWZhdWx0cy5zY2FsZXNbc2NhbGUudHlwZV0sIGRlZmF1bHRzLnNjYWxlXSk7XG4gIH0pO1xuICByZXR1cm4gc2NhbGVzO1xufVxuZnVuY3Rpb24gaW5pdE9wdGlvbnMoY29uZmlnKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCAoY29uZmlnLm9wdGlvbnMgPSB7fSk7XG4gIG9wdGlvbnMucGx1Z2lucyA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMucGx1Z2lucywge30pO1xuICBvcHRpb25zLnNjYWxlcyA9IG1lcmdlU2NhbGVDb25maWcoY29uZmlnLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGluaXREYXRhKGRhdGEpIHtcbiAgZGF0YSA9IGRhdGEgfHwge307XG4gIGRhdGEuZGF0YXNldHMgPSBkYXRhLmRhdGFzZXRzIHx8IFtdO1xuICBkYXRhLmxhYmVscyA9IGRhdGEubGFiZWxzIHx8IFtdO1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGluaXRDb25maWcoY29uZmlnKSB7XG4gIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgY29uZmlnLmRhdGEgPSBpbml0RGF0YShjb25maWcuZGF0YSk7XG4gIGluaXRPcHRpb25zKGNvbmZpZyk7XG4gIHJldHVybiBjb25maWc7XG59XG5jb25zdCBrZXlDYWNoZSA9IG5ldyBNYXAoKTtcbmNvbnN0IGtleXNDYWNoZWQgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBjYWNoZWRLZXlzKGNhY2hlS2V5LCBnZW5lcmF0ZSkge1xuICBsZXQga2V5cyA9IGtleUNhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmICgha2V5cykge1xuICAgIGtleXMgPSBnZW5lcmF0ZSgpO1xuICAgIGtleUNhY2hlLnNldChjYWNoZUtleSwga2V5cyk7XG4gICAga2V5c0NhY2hlZC5hZGQoa2V5cyk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59XG5jb25zdCBhZGRJZkZvdW5kID0gKHNldCwgb2JqLCBrZXkpID0+IHtcbiAgY29uc3Qgb3B0cyA9IHJlc29sdmVPYmplY3RLZXkob2JqLCBrZXkpO1xuICBpZiAob3B0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgc2V0LmFkZChvcHRzKTtcbiAgfVxufTtcbmNsYXNzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuX2NvbmZpZyA9IGluaXRDb25maWcoY29uZmlnKTtcbiAgICB0aGlzLl9zY29wZUNhY2hlID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX3Jlc29sdmVyQ2FjaGUgPSBuZXcgTWFwKCk7XG4gIH1cbiAgZ2V0IHBsYXRmb3JtKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcucGxhdGZvcm07XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy50eXBlO1xuICB9XG4gIHNldCB0eXBlKHR5cGUpIHtcbiAgICB0aGlzLl9jb25maWcudHlwZSA9IHR5cGU7XG4gIH1cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5kYXRhO1xuICB9XG4gIHNldCBkYXRhKGRhdGEpIHtcbiAgICB0aGlzLl9jb25maWcuZGF0YSA9IGluaXREYXRhKGRhdGEpO1xuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcub3B0aW9ucztcbiAgfVxuICBzZXQgb3B0aW9ucyhvcHRpb25zKSB7XG4gICAgdGhpcy5fY29uZmlnLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIGdldCBwbHVnaW5zKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcucGx1Z2lucztcbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgIGluaXRPcHRpb25zKGNvbmZpZyk7XG4gIH1cbiAgY2xlYXJDYWNoZSgpIHtcbiAgICB0aGlzLl9zY29wZUNhY2hlLmNsZWFyKCk7XG4gICAgdGhpcy5fcmVzb2x2ZXJDYWNoZS5jbGVhcigpO1xuICB9XG4gIGRhdGFzZXRTY29wZUtleXMoZGF0YXNldFR5cGUpIHtcbiAgICByZXR1cm4gY2FjaGVkS2V5cyhkYXRhc2V0VHlwZSxcbiAgICAgICgpID0+IFtbXG4gICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfWAsXG4gICAgICAgICcnXG4gICAgICBdXSk7XG4gIH1cbiAgZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyhkYXRhc2V0VHlwZSwgdHJhbnNpdGlvbikge1xuICAgIHJldHVybiBjYWNoZWRLZXlzKGAke2RhdGFzZXRUeXBlfS50cmFuc2l0aW9uLiR7dHJhbnNpdGlvbn1gLFxuICAgICAgKCkgPT4gW1xuICAgICAgICBbXG4gICAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9LnRyYW5zaXRpb25zLiR7dHJhbnNpdGlvbn1gLFxuICAgICAgICAgIGB0cmFuc2l0aW9ucy4ke3RyYW5zaXRpb259YCxcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfWAsXG4gICAgICAgICAgJydcbiAgICAgICAgXVxuICAgICAgXSk7XG4gIH1cbiAgZGF0YXNldEVsZW1lbnRTY29wZUtleXMoZGF0YXNldFR5cGUsIGVsZW1lbnRUeXBlKSB7XG4gICAgcmV0dXJuIGNhY2hlZEtleXMoYCR7ZGF0YXNldFR5cGV9LSR7ZWxlbWVudFR5cGV9YCxcbiAgICAgICgpID0+IFtbXG4gICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfS5lbGVtZW50cy4ke2VsZW1lbnRUeXBlfWAsXG4gICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfWAsXG4gICAgICAgIGBlbGVtZW50cy4ke2VsZW1lbnRUeXBlfWAsXG4gICAgICAgICcnXG4gICAgICBdXSk7XG4gIH1cbiAgcGx1Z2luU2NvcGVLZXlzKHBsdWdpbikge1xuICAgIGNvbnN0IGlkID0gcGx1Z2luLmlkO1xuICAgIGNvbnN0IHR5cGUgPSB0aGlzLnR5cGU7XG4gICAgcmV0dXJuIGNhY2hlZEtleXMoYCR7dHlwZX0tcGx1Z2luLSR7aWR9YCxcbiAgICAgICgpID0+IFtbXG4gICAgICAgIGBwbHVnaW5zLiR7aWR9YCxcbiAgICAgICAgLi4ucGx1Z2luLmFkZGl0aW9uYWxPcHRpb25TY29wZXMgfHwgW10sXG4gICAgICBdXSk7XG4gIH1cbiAgX2NhY2hlZFNjb3BlcyhtYWluU2NvcGUsIHJlc2V0Q2FjaGUpIHtcbiAgICBjb25zdCBfc2NvcGVDYWNoZSA9IHRoaXMuX3Njb3BlQ2FjaGU7XG4gICAgbGV0IGNhY2hlID0gX3Njb3BlQ2FjaGUuZ2V0KG1haW5TY29wZSk7XG4gICAgaWYgKCFjYWNoZSB8fCByZXNldENhY2hlKSB7XG4gICAgICBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgIF9zY29wZUNhY2hlLnNldChtYWluU2NvcGUsIGNhY2hlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlO1xuICB9XG4gIGdldE9wdGlvblNjb3BlcyhtYWluU2NvcGUsIGtleUxpc3RzLCByZXNldENhY2hlKSB7XG4gICAgY29uc3Qge29wdGlvbnMsIHR5cGV9ID0gdGhpcztcbiAgICBjb25zdCBjYWNoZSA9IHRoaXMuX2NhY2hlZFNjb3BlcyhtYWluU2NvcGUsIHJlc2V0Q2FjaGUpO1xuICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXlMaXN0cyk7XG4gICAgaWYgKGNhY2hlZCkge1xuICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICB9XG4gICAgY29uc3Qgc2NvcGVzID0gbmV3IFNldCgpO1xuICAgIGtleUxpc3RzLmZvckVhY2goa2V5cyA9PiB7XG4gICAgICBpZiAobWFpblNjb3BlKSB7XG4gICAgICAgIHNjb3Blcy5hZGQobWFpblNjb3BlKTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiBhZGRJZkZvdW5kKHNjb3BlcywgbWFpblNjb3BlLCBrZXkpKTtcbiAgICAgIH1cbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4gYWRkSWZGb3VuZChzY29wZXMsIG9wdGlvbnMsIGtleSkpO1xuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiBhZGRJZkZvdW5kKHNjb3Blcywgb3ZlcnJpZGVzW3R5cGVdIHx8IHt9LCBrZXkpKTtcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4gYWRkSWZGb3VuZChzY29wZXMsIGRlZmF1bHRzLCBrZXkpKTtcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4gYWRkSWZGb3VuZChzY29wZXMsIGRlc2NyaXB0b3JzLCBrZXkpKTtcbiAgICB9KTtcbiAgICBjb25zdCBhcnJheSA9IEFycmF5LmZyb20oc2NvcGVzKTtcbiAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICBhcnJheS5wdXNoKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIH1cbiAgICBpZiAoa2V5c0NhY2hlZC5oYXMoa2V5TGlzdHMpKSB7XG4gICAgICBjYWNoZS5zZXQoa2V5TGlzdHMsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIGNoYXJ0T3B0aW9uU2NvcGVzKCkge1xuICAgIGNvbnN0IHtvcHRpb25zLCB0eXBlfSA9IHRoaXM7XG4gICAgcmV0dXJuIFtcbiAgICAgIG9wdGlvbnMsXG4gICAgICBvdmVycmlkZXNbdHlwZV0gfHwge30sXG4gICAgICBkZWZhdWx0cy5kYXRhc2V0c1t0eXBlXSB8fCB7fSxcbiAgICAgIHt0eXBlfSxcbiAgICAgIGRlZmF1bHRzLFxuICAgICAgZGVzY3JpcHRvcnNcbiAgICBdO1xuICB9XG4gIHJlc29sdmVOYW1lZE9wdGlvbnMoc2NvcGVzLCBuYW1lcywgY29udGV4dCwgcHJlZml4ZXMgPSBbJyddKSB7XG4gICAgY29uc3QgcmVzdWx0ID0geyRzaGFyZWQ6IHRydWV9O1xuICAgIGNvbnN0IHtyZXNvbHZlciwgc3ViUHJlZml4ZXN9ID0gZ2V0UmVzb2x2ZXIodGhpcy5fcmVzb2x2ZXJDYWNoZSwgc2NvcGVzLCBwcmVmaXhlcyk7XG4gICAgbGV0IG9wdGlvbnMgPSByZXNvbHZlcjtcbiAgICBpZiAobmVlZENvbnRleHQocmVzb2x2ZXIsIG5hbWVzKSkge1xuICAgICAgcmVzdWx0LiRzaGFyZWQgPSBmYWxzZTtcbiAgICAgIGNvbnRleHQgPSBpc0Z1bmN0aW9uKGNvbnRleHQpID8gY29udGV4dCgpIDogY29udGV4dDtcbiAgICAgIGNvbnN0IHN1YlJlc29sdmVyID0gdGhpcy5jcmVhdGVSZXNvbHZlcihzY29wZXMsIGNvbnRleHQsIHN1YlByZWZpeGVzKTtcbiAgICAgIG9wdGlvbnMgPSBfYXR0YWNoQ29udGV4dChyZXNvbHZlciwgY29udGV4dCwgc3ViUmVzb2x2ZXIpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgbmFtZXMpIHtcbiAgICAgIHJlc3VsdFtwcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCBjb250ZXh0LCBwcmVmaXhlcyA9IFsnJ10sIGRlc2NyaXB0b3JEZWZhdWx0cykge1xuICAgIGNvbnN0IHtyZXNvbHZlcn0gPSBnZXRSZXNvbHZlcih0aGlzLl9yZXNvbHZlckNhY2hlLCBzY29wZXMsIHByZWZpeGVzKTtcbiAgICByZXR1cm4gaXNPYmplY3QoY29udGV4dClcbiAgICAgID8gX2F0dGFjaENvbnRleHQocmVzb2x2ZXIsIGNvbnRleHQsIHVuZGVmaW5lZCwgZGVzY3JpcHRvckRlZmF1bHRzKVxuICAgICAgOiByZXNvbHZlcjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0UmVzb2x2ZXIocmVzb2x2ZXJDYWNoZSwgc2NvcGVzLCBwcmVmaXhlcykge1xuICBsZXQgY2FjaGUgPSByZXNvbHZlckNhY2hlLmdldChzY29wZXMpO1xuICBpZiAoIWNhY2hlKSB7XG4gICAgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgcmVzb2x2ZXJDYWNoZS5zZXQoc2NvcGVzLCBjYWNoZSk7XG4gIH1cbiAgY29uc3QgY2FjaGVLZXkgPSBwcmVmaXhlcy5qb2luKCk7XG4gIGxldCBjYWNoZWQgPSBjYWNoZS5nZXQoY2FjaGVLZXkpO1xuICBpZiAoIWNhY2hlZCkge1xuICAgIGNvbnN0IHJlc29sdmVyID0gX2NyZWF0ZVJlc29sdmVyKHNjb3BlcywgcHJlZml4ZXMpO1xuICAgIGNhY2hlZCA9IHtcbiAgICAgIHJlc29sdmVyLFxuICAgICAgc3ViUHJlZml4ZXM6IHByZWZpeGVzLmZpbHRlcihwID0+ICFwLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2hvdmVyJykpXG4gICAgfTtcbiAgICBjYWNoZS5zZXQoY2FjaGVLZXksIGNhY2hlZCk7XG4gIH1cbiAgcmV0dXJuIGNhY2hlZDtcbn1cbmNvbnN0IGhhc0Z1bmN0aW9uID0gdmFsdWUgPT4gaXNPYmplY3QodmFsdWUpXG4gICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2MgfHwgaXNGdW5jdGlvbih2YWx1ZVtrZXldKSwgZmFsc2UpO1xuZnVuY3Rpb24gbmVlZENvbnRleHQocHJveHksIG5hbWVzKSB7XG4gIGNvbnN0IHtpc1NjcmlwdGFibGUsIGlzSW5kZXhhYmxlfSA9IF9kZXNjcmlwdG9ycyhwcm94eSk7XG4gIGZvciAoY29uc3QgcHJvcCBvZiBuYW1lcykge1xuICAgIGNvbnN0IHNjcmlwdGFibGUgPSBpc1NjcmlwdGFibGUocHJvcCk7XG4gICAgY29uc3QgaW5kZXhhYmxlID0gaXNJbmRleGFibGUocHJvcCk7XG4gICAgY29uc3QgdmFsdWUgPSAoaW5kZXhhYmxlIHx8IHNjcmlwdGFibGUpICYmIHByb3h5W3Byb3BdO1xuICAgIGlmICgoc2NyaXB0YWJsZSAmJiAoaXNGdW5jdGlvbih2YWx1ZSkgfHwgaGFzRnVuY3Rpb24odmFsdWUpKSlcbiAgICAgIHx8IChpbmRleGFibGUgJiYgaXNBcnJheSh2YWx1ZSkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgdmVyc2lvbiA9IFwiMy45LjFcIjtcblxuY29uc3QgS05PV05fUE9TSVRJT05TID0gWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2hhcnRBcmVhJ107XG5mdW5jdGlvbiBwb3NpdGlvbklzSG9yaXpvbnRhbChwb3NpdGlvbiwgYXhpcykge1xuICByZXR1cm4gcG9zaXRpb24gPT09ICd0b3AnIHx8IHBvc2l0aW9uID09PSAnYm90dG9tJyB8fCAoS05PV05fUE9TSVRJT05TLmluZGV4T2YocG9zaXRpb24pID09PSAtMSAmJiBheGlzID09PSAneCcpO1xufVxuZnVuY3Rpb24gY29tcGFyZTJMZXZlbChsMSwgbDIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYVtsMV0gPT09IGJbbDFdXG4gICAgICA/IGFbbDJdIC0gYltsMl1cbiAgICAgIDogYVtsMV0gLSBiW2wxXTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG9uQW5pbWF0aW9uc0NvbXBsZXRlKGNvbnRleHQpIHtcbiAgY29uc3QgY2hhcnQgPSBjb250ZXh0LmNoYXJ0O1xuICBjb25zdCBhbmltYXRpb25PcHRpb25zID0gY2hhcnQub3B0aW9ucy5hbmltYXRpb247XG4gIGNoYXJ0Lm5vdGlmeVBsdWdpbnMoJ2FmdGVyUmVuZGVyJyk7XG4gIGNhbGxiYWNrKGFuaW1hdGlvbk9wdGlvbnMgJiYgYW5pbWF0aW9uT3B0aW9ucy5vbkNvbXBsZXRlLCBbY29udGV4dF0sIGNoYXJ0KTtcbn1cbmZ1bmN0aW9uIG9uQW5pbWF0aW9uUHJvZ3Jlc3MoY29udGV4dCkge1xuICBjb25zdCBjaGFydCA9IGNvbnRleHQuY2hhcnQ7XG4gIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSBjaGFydC5vcHRpb25zLmFuaW1hdGlvbjtcbiAgY2FsbGJhY2soYW5pbWF0aW9uT3B0aW9ucyAmJiBhbmltYXRpb25PcHRpb25zLm9uUHJvZ3Jlc3MsIFtjb250ZXh0XSwgY2hhcnQpO1xufVxuZnVuY3Rpb24gZ2V0Q2FudmFzKGl0ZW0pIHtcbiAgaWYgKF9pc0RvbVN1cHBvcnRlZCgpICYmIHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgIGl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtKTtcbiAgfSBlbHNlIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoKSB7XG4gICAgaXRlbSA9IGl0ZW1bMF07XG4gIH1cbiAgaWYgKGl0ZW0gJiYgaXRlbS5jYW52YXMpIHtcbiAgICBpdGVtID0gaXRlbS5jYW52YXM7XG4gIH1cbiAgcmV0dXJuIGl0ZW07XG59XG5jb25zdCBpbnN0YW5jZXMgPSB7fTtcbmNvbnN0IGdldENoYXJ0ID0gKGtleSkgPT4ge1xuICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXMoa2V5KTtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoaW5zdGFuY2VzKS5maWx0ZXIoKGMpID0+IGMuY2FudmFzID09PSBjYW52YXMpLnBvcCgpO1xufTtcbmZ1bmN0aW9uIG1vdmVOdW1lcmljS2V5cyhvYmosIHN0YXJ0LCBtb3ZlKSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgY29uc3QgaW50S2V5ID0gK2tleTtcbiAgICBpZiAoaW50S2V5ID49IHN0YXJ0KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgaWYgKG1vdmUgPiAwIHx8IGludEtleSA+IHN0YXJ0KSB7XG4gICAgICAgIG9ialtpbnRLZXkgKyBtb3ZlXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZGV0ZXJtaW5lTGFzdEV2ZW50KGUsIGxhc3RFdmVudCwgaW5DaGFydEFyZWEsIGlzQ2xpY2spIHtcbiAgaWYgKCFpbkNoYXJ0QXJlYSB8fCBlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNDbGljaykge1xuICAgIHJldHVybiBsYXN0RXZlbnQ7XG4gIH1cbiAgcmV0dXJuIGU7XG59XG5jbGFzcyBDaGFydCB7XG4gIGNvbnN0cnVjdG9yKGl0ZW0sIHVzZXJDb25maWcpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZyA9IG5ldyBDb25maWcodXNlckNvbmZpZyk7XG4gICAgY29uc3QgaW5pdGlhbENhbnZhcyA9IGdldENhbnZhcyhpdGVtKTtcbiAgICBjb25zdCBleGlzdGluZ0NoYXJ0ID0gZ2V0Q2hhcnQoaW5pdGlhbENhbnZhcyk7XG4gICAgaWYgKGV4aXN0aW5nQ2hhcnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0NhbnZhcyBpcyBhbHJlYWR5IGluIHVzZS4gQ2hhcnQgd2l0aCBJRCBcXCcnICsgZXhpc3RpbmdDaGFydC5pZCArICdcXCcnICtcblx0XHRcdFx0JyBtdXN0IGJlIGRlc3Ryb3llZCBiZWZvcmUgdGhlIGNhbnZhcyB3aXRoIElEIFxcJycgKyBleGlzdGluZ0NoYXJ0LmNhbnZhcy5pZCArICdcXCcgY2FuIGJlIHJldXNlZC4nXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25zID0gY29uZmlnLmNyZWF0ZVJlc29sdmVyKGNvbmZpZy5jaGFydE9wdGlvblNjb3BlcygpLCB0aGlzLmdldENvbnRleHQoKSk7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IG5ldyAoY29uZmlnLnBsYXRmb3JtIHx8IF9kZXRlY3RQbGF0Zm9ybShpbml0aWFsQ2FudmFzKSkoKTtcbiAgICB0aGlzLnBsYXRmb3JtLnVwZGF0ZUNvbmZpZyhjb25maWcpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBsYXRmb3JtLmFjcXVpcmVDb250ZXh0KGluaXRpYWxDYW52YXMsIG9wdGlvbnMuYXNwZWN0UmF0aW8pO1xuICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQgJiYgY29udGV4dC5jYW52YXM7XG4gICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzICYmIGNhbnZhcy5oZWlnaHQ7XG4gICAgY29uc3Qgd2lkdGggPSBjYW52YXMgJiYgY2FudmFzLndpZHRoO1xuICAgIHRoaXMuaWQgPSB1aWQoKTtcbiAgICB0aGlzLmN0eCA9IGNvbnRleHQ7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuX2FzcGVjdFJhdGlvID0gdGhpcy5hc3BlY3RSYXRpbztcbiAgICB0aGlzLl9sYXllcnMgPSBbXTtcbiAgICB0aGlzLl9tZXRhc2V0cyA9IFtdO1xuICAgIHRoaXMuX3N0YWNrcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJveGVzID0gW107XG4gICAgdGhpcy5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNoYXJ0QXJlYSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9hY3RpdmUgPSBbXTtcbiAgICB0aGlzLl9sYXN0RXZlbnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fbGlzdGVuZXJzID0ge307XG4gICAgdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zb3J0ZWRNZXRhc2V0cyA9IFtdO1xuICAgIHRoaXMuc2NhbGVzID0ge307XG4gICAgdGhpcy5fcGx1Z2lucyA9IG5ldyBQbHVnaW5TZXJ2aWNlKCk7XG4gICAgdGhpcy4kcHJveGllcyA9IHt9O1xuICAgIHRoaXMuX2hpZGRlbkluZGljZXMgPSB7fTtcbiAgICB0aGlzLmF0dGFjaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fYW5pbWF0aW9uc0Rpc2FibGVkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZG9SZXNpemUgPSBkZWJvdW5jZShtb2RlID0+IHRoaXMudXBkYXRlKG1vZGUpLCBvcHRpb25zLnJlc2l6ZURlbGF5IHx8IDApO1xuICAgIHRoaXMuX2RhdGFDaGFuZ2VzID0gW107XG4gICAgaW5zdGFuY2VzW3RoaXMuaWRdID0gdGhpcztcbiAgICBpZiAoIWNvbnRleHQgfHwgIWNhbnZhcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgY2hhcnQ6IGNhbid0IGFjcXVpcmUgY29udGV4dCBmcm9tIHRoZSBnaXZlbiBpdGVtXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhbmltYXRvci5saXN0ZW4odGhpcywgJ2NvbXBsZXRlJywgb25BbmltYXRpb25zQ29tcGxldGUpO1xuICAgIGFuaW1hdG9yLmxpc3Rlbih0aGlzLCAncHJvZ3Jlc3MnLCBvbkFuaW1hdGlvblByb2dyZXNzKTtcbiAgICB0aGlzLl9pbml0aWFsaXplKCk7XG4gICAgaWYgKHRoaXMuYXR0YWNoZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG4gIGdldCBhc3BlY3RSYXRpbygpIHtcbiAgICBjb25zdCB7b3B0aW9uczoge2FzcGVjdFJhdGlvLCBtYWludGFpbkFzcGVjdFJhdGlvfSwgd2lkdGgsIGhlaWdodCwgX2FzcGVjdFJhdGlvfSA9IHRoaXM7XG4gICAgaWYgKCFpc051bGxPclVuZGVmKGFzcGVjdFJhdGlvKSkge1xuICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgIH1cbiAgICBpZiAobWFpbnRhaW5Bc3BlY3RSYXRpbyAmJiBfYXNwZWN0UmF0aW8pIHtcbiAgICAgIHJldHVybiBfYXNwZWN0UmF0aW87XG4gICAgfVxuICAgIHJldHVybiBoZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IG51bGw7XG4gIH1cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLmRhdGE7XG4gIH1cbiAgc2V0IGRhdGEoZGF0YSkge1xuICAgIHRoaXMuY29uZmlnLmRhdGEgPSBkYXRhO1xuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICB9XG4gIHNldCBvcHRpb25zKG9wdGlvbnMpIHtcbiAgICB0aGlzLmNvbmZpZy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBfaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZUluaXQnKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldGluYVNjYWxlKHRoaXMsIHRoaXMub3B0aW9ucy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICB9XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckluaXQnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBjbGVhcigpIHtcbiAgICBjbGVhckNhbnZhcyh0aGlzLmNhbnZhcywgdGhpcy5jdHgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN0b3AoKSB7XG4gICAgYW5pbWF0b3Iuc3RvcCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgIGlmICghYW5pbWF0b3IucnVubmluZyh0aGlzKSkge1xuICAgICAgdGhpcy5fcmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZXNpemVCZWZvcmVEcmF3ID0ge3dpZHRoLCBoZWlnaHR9O1xuICAgIH1cbiAgfVxuICBfcmVzaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgIGNvbnN0IGFzcGVjdFJhdGlvID0gb3B0aW9ucy5tYWludGFpbkFzcGVjdFJhdGlvICYmIHRoaXMuYXNwZWN0UmF0aW87XG4gICAgY29uc3QgbmV3U2l6ZSA9IHRoaXMucGxhdGZvcm0uZ2V0TWF4aW11bVNpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbyk7XG4gICAgY29uc3QgbmV3UmF0aW8gPSBvcHRpb25zLmRldmljZVBpeGVsUmF0aW8gfHwgdGhpcy5wbGF0Zm9ybS5nZXREZXZpY2VQaXhlbFJhdGlvKCk7XG4gICAgY29uc3QgbW9kZSA9IHRoaXMud2lkdGggPyAncmVzaXplJyA6ICdhdHRhY2gnO1xuICAgIHRoaXMud2lkdGggPSBuZXdTaXplLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gbmV3U2l6ZS5oZWlnaHQ7XG4gICAgdGhpcy5fYXNwZWN0UmF0aW8gPSB0aGlzLmFzcGVjdFJhdGlvO1xuICAgIGlmICghcmV0aW5hU2NhbGUodGhpcywgbmV3UmF0aW8sIHRydWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubm90aWZ5UGx1Z2lucygncmVzaXplJywge3NpemU6IG5ld1NpemV9KTtcbiAgICBjYWxsYmFjayhvcHRpb25zLm9uUmVzaXplLCBbdGhpcywgbmV3U2l6ZV0sIHRoaXMpO1xuICAgIGlmICh0aGlzLmF0dGFjaGVkKSB7XG4gICAgICBpZiAodGhpcy5fZG9SZXNpemUobW9kZSkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZW5zdXJlU2NhbGVzSGF2ZUlEcygpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHNjYWxlc09wdGlvbnMgPSBvcHRpb25zLnNjYWxlcyB8fCB7fTtcbiAgICBlYWNoKHNjYWxlc09wdGlvbnMsIChheGlzT3B0aW9ucywgYXhpc0lEKSA9PiB7XG4gICAgICBheGlzT3B0aW9ucy5pZCA9IGF4aXNJRDtcbiAgICB9KTtcbiAgfVxuICBidWlsZE9yVXBkYXRlU2NhbGVzKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qgc2NhbGVPcHRzID0gb3B0aW9ucy5zY2FsZXM7XG4gICAgY29uc3Qgc2NhbGVzID0gdGhpcy5zY2FsZXM7XG4gICAgY29uc3QgdXBkYXRlZCA9IE9iamVjdC5rZXlzKHNjYWxlcykucmVkdWNlKChvYmosIGlkKSA9PiB7XG4gICAgICBvYmpbaWRdID0gZmFsc2U7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sIHt9KTtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBpZiAoc2NhbGVPcHRzKSB7XG4gICAgICBpdGVtcyA9IGl0ZW1zLmNvbmNhdChcbiAgICAgICAgT2JqZWN0LmtleXMoc2NhbGVPcHRzKS5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2NhbGVPcHRpb25zID0gc2NhbGVPcHRzW2lkXTtcbiAgICAgICAgICBjb25zdCBheGlzID0gZGV0ZXJtaW5lQXhpcyhpZCwgc2NhbGVPcHRpb25zKTtcbiAgICAgICAgICBjb25zdCBpc1JhZGlhbCA9IGF4aXMgPT09ICdyJztcbiAgICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSBheGlzID09PSAneCc7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wdGlvbnM6IHNjYWxlT3B0aW9ucyxcbiAgICAgICAgICAgIGRwb3NpdGlvbjogaXNSYWRpYWwgPyAnY2hhcnRBcmVhJyA6IGlzSG9yaXpvbnRhbCA/ICdib3R0b20nIDogJ2xlZnQnLFxuICAgICAgICAgICAgZHR5cGU6IGlzUmFkaWFsID8gJ3JhZGlhbExpbmVhcicgOiBpc0hvcml6b250YWwgPyAnY2F0ZWdvcnknIDogJ2xpbmVhcidcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZWFjaChpdGVtcywgKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHNjYWxlT3B0aW9ucyA9IGl0ZW0ub3B0aW9ucztcbiAgICAgIGNvbnN0IGlkID0gc2NhbGVPcHRpb25zLmlkO1xuICAgICAgY29uc3QgYXhpcyA9IGRldGVybWluZUF4aXMoaWQsIHNjYWxlT3B0aW9ucyk7XG4gICAgICBjb25zdCBzY2FsZVR5cGUgPSB2YWx1ZU9yRGVmYXVsdChzY2FsZU9wdGlvbnMudHlwZSwgaXRlbS5kdHlwZSk7XG4gICAgICBpZiAoc2NhbGVPcHRpb25zLnBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb25Jc0hvcml6b250YWwoc2NhbGVPcHRpb25zLnBvc2l0aW9uLCBheGlzKSAhPT0gcG9zaXRpb25Jc0hvcml6b250YWwoaXRlbS5kcG9zaXRpb24pKSB7XG4gICAgICAgIHNjYWxlT3B0aW9ucy5wb3NpdGlvbiA9IGl0ZW0uZHBvc2l0aW9uO1xuICAgICAgfVxuICAgICAgdXBkYXRlZFtpZF0gPSB0cnVlO1xuICAgICAgbGV0IHNjYWxlID0gbnVsbDtcbiAgICAgIGlmIChpZCBpbiBzY2FsZXMgJiYgc2NhbGVzW2lkXS50eXBlID09PSBzY2FsZVR5cGUpIHtcbiAgICAgICAgc2NhbGUgPSBzY2FsZXNbaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2NhbGVDbGFzcyA9IHJlZ2lzdHJ5LmdldFNjYWxlKHNjYWxlVHlwZSk7XG4gICAgICAgIHNjYWxlID0gbmV3IHNjYWxlQ2xhc3Moe1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6IHNjYWxlVHlwZSxcbiAgICAgICAgICBjdHg6IHRoaXMuY3R4LFxuICAgICAgICAgIGNoYXJ0OiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgICBzY2FsZXNbc2NhbGUuaWRdID0gc2NhbGU7XG4gICAgICB9XG4gICAgICBzY2FsZS5pbml0KHNjYWxlT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgZWFjaCh1cGRhdGVkLCAoaGFzVXBkYXRlZCwgaWQpID0+IHtcbiAgICAgIGlmICghaGFzVXBkYXRlZCkge1xuICAgICAgICBkZWxldGUgc2NhbGVzW2lkXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlYWNoKHNjYWxlcywgKHNjYWxlKSA9PiB7XG4gICAgICBsYXlvdXRzLmNvbmZpZ3VyZSh0aGlzLCBzY2FsZSwgc2NhbGUub3B0aW9ucyk7XG4gICAgICBsYXlvdXRzLmFkZEJveCh0aGlzLCBzY2FsZSk7XG4gICAgfSk7XG4gIH1cbiAgX3VwZGF0ZU1ldGFzZXRzKCkge1xuICAgIGNvbnN0IG1ldGFzZXRzID0gdGhpcy5fbWV0YXNldHM7XG4gICAgY29uc3QgbnVtRGF0YSA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7XG4gICAgY29uc3QgbnVtTWV0YSA9IG1ldGFzZXRzLmxlbmd0aDtcbiAgICBtZXRhc2V0cy5zb3J0KChhLCBiKSA9PiBhLmluZGV4IC0gYi5pbmRleCk7XG4gICAgaWYgKG51bU1ldGEgPiBudW1EYXRhKSB7XG4gICAgICBmb3IgKGxldCBpID0gbnVtRGF0YTsgaSA8IG51bU1ldGE7ICsraSkge1xuICAgICAgICB0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaSk7XG4gICAgICB9XG4gICAgICBtZXRhc2V0cy5zcGxpY2UobnVtRGF0YSwgbnVtTWV0YSAtIG51bURhdGEpO1xuICAgIH1cbiAgICB0aGlzLl9zb3J0ZWRNZXRhc2V0cyA9IG1ldGFzZXRzLnNsaWNlKDApLnNvcnQoY29tcGFyZTJMZXZlbCgnb3JkZXInLCAnaW5kZXgnKSk7XG4gIH1cbiAgX3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCkge1xuICAgIGNvbnN0IHtfbWV0YXNldHM6IG1ldGFzZXRzLCBkYXRhOiB7ZGF0YXNldHN9fSA9IHRoaXM7XG4gICAgaWYgKG1ldGFzZXRzLmxlbmd0aCA+IGRhdGFzZXRzLmxlbmd0aCkge1xuICAgICAgZGVsZXRlIHRoaXMuX3N0YWNrcztcbiAgICB9XG4gICAgbWV0YXNldHMuZm9yRWFjaCgobWV0YSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChkYXRhc2V0cy5maWx0ZXIoeCA9PiB4ID09PSBtZXRhLl9kYXRhc2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveURhdGFzZXRNZXRhKGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBidWlsZE9yVXBkYXRlQ29udHJvbGxlcnMoKSB7XG4gICAgY29uc3QgbmV3Q29udHJvbGxlcnMgPSBbXTtcbiAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZGF0YS5kYXRhc2V0cztcbiAgICBsZXQgaSwgaWxlbjtcbiAgICB0aGlzLl9yZW1vdmVVbnJlZmVyZW5jZWRNZXRhc2V0cygpO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBkYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGRhdGFzZXQgPSBkYXRhc2V0c1tpXTtcbiAgICAgIGxldCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgIGNvbnN0IHR5cGUgPSBkYXRhc2V0LnR5cGUgfHwgdGhpcy5jb25maWcudHlwZTtcbiAgICAgIGlmIChtZXRhLnR5cGUgJiYgbWV0YS50eXBlICE9PSB0eXBlKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShpKTtcbiAgICAgICAgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICB9XG4gICAgICBtZXRhLnR5cGUgPSB0eXBlO1xuICAgICAgbWV0YS5pbmRleEF4aXMgPSBkYXRhc2V0LmluZGV4QXhpcyB8fCBnZXRJbmRleEF4aXModHlwZSwgdGhpcy5vcHRpb25zKTtcbiAgICAgIG1ldGEub3JkZXIgPSBkYXRhc2V0Lm9yZGVyIHx8IDA7XG4gICAgICBtZXRhLmluZGV4ID0gaTtcbiAgICAgIG1ldGEubGFiZWwgPSAnJyArIGRhdGFzZXQubGFiZWw7XG4gICAgICBtZXRhLnZpc2libGUgPSB0aGlzLmlzRGF0YXNldFZpc2libGUoaSk7XG4gICAgICBpZiAobWV0YS5jb250cm9sbGVyKSB7XG4gICAgICAgIG1ldGEuY29udHJvbGxlci51cGRhdGVJbmRleChpKTtcbiAgICAgICAgbWV0YS5jb250cm9sbGVyLmxpbmtTY2FsZXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IENvbnRyb2xsZXJDbGFzcyA9IHJlZ2lzdHJ5LmdldENvbnRyb2xsZXIodHlwZSk7XG4gICAgICAgIGNvbnN0IHtkYXRhc2V0RWxlbWVudFR5cGUsIGRhdGFFbGVtZW50VHlwZX0gPSBkZWZhdWx0cy5kYXRhc2V0c1t0eXBlXTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihDb250cm9sbGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgZGF0YUVsZW1lbnRUeXBlOiByZWdpc3RyeS5nZXRFbGVtZW50KGRhdGFFbGVtZW50VHlwZSksXG4gICAgICAgICAgZGF0YXNldEVsZW1lbnRUeXBlOiBkYXRhc2V0RWxlbWVudFR5cGUgJiYgcmVnaXN0cnkuZ2V0RWxlbWVudChkYXRhc2V0RWxlbWVudFR5cGUpXG4gICAgICAgIH0pO1xuICAgICAgICBtZXRhLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlckNsYXNzKHRoaXMsIGkpO1xuICAgICAgICBuZXdDb250cm9sbGVycy5wdXNoKG1ldGEuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZU1ldGFzZXRzKCk7XG4gICAgcmV0dXJuIG5ld0NvbnRyb2xsZXJzO1xuICB9XG4gIF9yZXNldEVsZW1lbnRzKCkge1xuICAgIGVhY2godGhpcy5kYXRhLmRhdGFzZXRzLCAoZGF0YXNldCwgZGF0YXNldEluZGV4KSA9PiB7XG4gICAgICB0aGlzLmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCkuY29udHJvbGxlci5yZXNldCgpO1xuICAgIH0sIHRoaXMpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3Jlc2V0RWxlbWVudHMoKTtcbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ3Jlc2V0Jyk7XG4gIH1cbiAgdXBkYXRlKG1vZGUpIHtcbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICBjb25maWcudXBkYXRlKCk7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX29wdGlvbnMgPSBjb25maWcuY3JlYXRlUmVzb2x2ZXIoY29uZmlnLmNoYXJ0T3B0aW9uU2NvcGVzKCksIHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICBjb25zdCBhbmltc0Rpc2FibGVkID0gdGhpcy5fYW5pbWF0aW9uc0Rpc2FibGVkID0gIW9wdGlvbnMuYW5pbWF0aW9uO1xuICAgIHRoaXMuX3VwZGF0ZVNjYWxlcygpO1xuICAgIHRoaXMuX2NoZWNrRXZlbnRCaW5kaW5ncygpO1xuICAgIHRoaXMuX3VwZGF0ZUhpZGRlbkluZGljZXMoKTtcbiAgICB0aGlzLl9wbHVnaW5zLmludmFsaWRhdGUoKTtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVVcGRhdGUnLCB7bW9kZSwgY2FuY2VsYWJsZTogdHJ1ZX0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXdDb250cm9sbGVycyA9IHRoaXMuYnVpbGRPclVwZGF0ZUNvbnRyb2xsZXJzKCk7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVFbGVtZW50c1VwZGF0ZScpO1xuICAgIGxldCBtaW5QYWRkaW5nID0gMDtcbiAgICBmb3IgKGxldCBpID0gMCwgaWxlbiA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IHtjb250cm9sbGVyfSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICBjb25zdCByZXNldCA9ICFhbmltc0Rpc2FibGVkICYmIG5ld0NvbnRyb2xsZXJzLmluZGV4T2YoY29udHJvbGxlcikgPT09IC0xO1xuICAgICAgY29udHJvbGxlci5idWlsZE9yVXBkYXRlRWxlbWVudHMocmVzZXQpO1xuICAgICAgbWluUGFkZGluZyA9IE1hdGgubWF4KCtjb250cm9sbGVyLmdldE1heE92ZXJmbG93KCksIG1pblBhZGRpbmcpO1xuICAgIH1cbiAgICBtaW5QYWRkaW5nID0gdGhpcy5fbWluUGFkZGluZyA9IG9wdGlvbnMubGF5b3V0LmF1dG9QYWRkaW5nID8gbWluUGFkZGluZyA6IDA7XG4gICAgdGhpcy5fdXBkYXRlTGF5b3V0KG1pblBhZGRpbmcpO1xuICAgIGlmICghYW5pbXNEaXNhYmxlZCkge1xuICAgICAgZWFjaChuZXdDb250cm9sbGVycywgKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5yZXNldCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZURhdGFzZXRzKG1vZGUpO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJVcGRhdGUnLCB7bW9kZX0pO1xuICAgIHRoaXMuX2xheWVycy5zb3J0KGNvbXBhcmUyTGV2ZWwoJ3onLCAnX2lkeCcpKTtcbiAgICBjb25zdCB7X2FjdGl2ZSwgX2xhc3RFdmVudH0gPSB0aGlzO1xuICAgIGlmIChfbGFzdEV2ZW50KSB7XG4gICAgICB0aGlzLl9ldmVudEhhbmRsZXIoX2xhc3RFdmVudCwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChfYWN0aXZlLmxlbmd0aCkge1xuICAgICAgdGhpcy5fdXBkYXRlSG92ZXJTdHlsZXMoX2FjdGl2ZSwgX2FjdGl2ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgX3VwZGF0ZVNjYWxlcygpIHtcbiAgICBlYWNoKHRoaXMuc2NhbGVzLCAoc2NhbGUpID0+IHtcbiAgICAgIGxheW91dHMucmVtb3ZlQm94KHRoaXMsIHNjYWxlKTtcbiAgICB9KTtcbiAgICB0aGlzLmVuc3VyZVNjYWxlc0hhdmVJRHMoKTtcbiAgICB0aGlzLmJ1aWxkT3JVcGRhdGVTY2FsZXMoKTtcbiAgfVxuICBfY2hlY2tFdmVudEJpbmRpbmdzKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgZXhpc3RpbmdFdmVudHMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMuX2xpc3RlbmVycykpO1xuICAgIGNvbnN0IG5ld0V2ZW50cyA9IG5ldyBTZXQob3B0aW9ucy5ldmVudHMpO1xuICAgIGlmICghc2V0c0VxdWFsKGV4aXN0aW5nRXZlbnRzLCBuZXdFdmVudHMpIHx8ICEhdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyAhPT0gb3B0aW9ucy5yZXNwb25zaXZlKSB7XG4gICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVIaWRkZW5JbmRpY2VzKCkge1xuICAgIGNvbnN0IHtfaGlkZGVuSW5kaWNlc30gPSB0aGlzO1xuICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLl9nZXRVbmlmb3JtRGF0YUNoYW5nZXMoKSB8fCBbXTtcbiAgICBmb3IgKGNvbnN0IHttZXRob2QsIHN0YXJ0LCBjb3VudH0gb2YgY2hhbmdlcykge1xuICAgICAgY29uc3QgbW92ZSA9IG1ldGhvZCA9PT0gJ19yZW1vdmVFbGVtZW50cycgPyAtY291bnQgOiBjb3VudDtcbiAgICAgIG1vdmVOdW1lcmljS2V5cyhfaGlkZGVuSW5kaWNlcywgc3RhcnQsIG1vdmUpO1xuICAgIH1cbiAgfVxuICBfZ2V0VW5pZm9ybURhdGFDaGFuZ2VzKCkge1xuICAgIGNvbnN0IF9kYXRhQ2hhbmdlcyA9IHRoaXMuX2RhdGFDaGFuZ2VzO1xuICAgIGlmICghX2RhdGFDaGFuZ2VzIHx8ICFfZGF0YUNoYW5nZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2RhdGFDaGFuZ2VzID0gW107XG4gICAgY29uc3QgZGF0YXNldENvdW50ID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDtcbiAgICBjb25zdCBtYWtlU2V0ID0gKGlkeCkgPT4gbmV3IFNldChcbiAgICAgIF9kYXRhQ2hhbmdlc1xuICAgICAgICAuZmlsdGVyKGMgPT4gY1swXSA9PT0gaWR4KVxuICAgICAgICAubWFwKChjLCBpKSA9PiBpICsgJywnICsgYy5zcGxpY2UoMSkuam9pbignLCcpKVxuICAgICk7XG4gICAgY29uc3QgY2hhbmdlU2V0ID0gbWFrZVNldCgwKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGRhdGFzZXRDb3VudDsgaSsrKSB7XG4gICAgICBpZiAoIXNldHNFcXVhbChjaGFuZ2VTZXQsIG1ha2VTZXQoaSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20oY2hhbmdlU2V0KVxuICAgICAgLm1hcChjID0+IGMuc3BsaXQoJywnKSlcbiAgICAgIC5tYXAoYSA9PiAoe21ldGhvZDogYVsxXSwgc3RhcnQ6ICthWzJdLCBjb3VudDogK2FbM119KSk7XG4gIH1cbiAgX3VwZGF0ZUxheW91dChtaW5QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlTGF5b3V0Jywge2NhbmNlbGFibGU6IHRydWV9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGF5b3V0cy51cGRhdGUodGhpcywgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIG1pblBhZGRpbmcpO1xuICAgIGNvbnN0IGFyZWEgPSB0aGlzLmNoYXJ0QXJlYTtcbiAgICBjb25zdCBub0FyZWEgPSBhcmVhLndpZHRoIDw9IDAgfHwgYXJlYS5oZWlnaHQgPD0gMDtcbiAgICB0aGlzLl9sYXllcnMgPSBbXTtcbiAgICBlYWNoKHRoaXMuYm94ZXMsIChib3gpID0+IHtcbiAgICAgIGlmIChub0FyZWEgJiYgYm94LnBvc2l0aW9uID09PSAnY2hhcnRBcmVhJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYm94LmNvbmZpZ3VyZSkge1xuICAgICAgICBib3guY29uZmlndXJlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sYXllcnMucHVzaCguLi5ib3guX2xheWVycygpKTtcbiAgICB9LCB0aGlzKTtcbiAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGl0ZW0uX2lkeCA9IGluZGV4O1xuICAgIH0pO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJMYXlvdXQnKTtcbiAgfVxuICBfdXBkYXRlRGF0YXNldHMobW9kZSkge1xuICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURhdGFzZXRzVXBkYXRlJywge21vZGUsIGNhbmNlbGFibGU6IHRydWV9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGlsZW4gPSB0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aGlzLmdldERhdGFzZXRNZXRhKGkpLmNvbnRyb2xsZXIuY29uZmlndXJlKCk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwLCBpbGVuID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgdGhpcy5fdXBkYXRlRGF0YXNldChpLCBpc0Z1bmN0aW9uKG1vZGUpID8gbW9kZSh7ZGF0YXNldEluZGV4OiBpfSkgOiBtb2RlKTtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRhdGFzZXRzVXBkYXRlJywge21vZGV9KTtcbiAgfVxuICBfdXBkYXRlRGF0YXNldChpbmRleCwgbW9kZSkge1xuICAgIGNvbnN0IG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGluZGV4KTtcbiAgICBjb25zdCBhcmdzID0ge21ldGEsIGluZGV4LCBtb2RlLCBjYW5jZWxhYmxlOiB0cnVlfTtcbiAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVEYXRhc2V0VXBkYXRlJywgYXJncykgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1ldGEuY29udHJvbGxlci5fdXBkYXRlKG1vZGUpO1xuICAgIGFyZ3MuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJEYXRhc2V0VXBkYXRlJywgYXJncyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZVJlbmRlcicsIHtjYW5jZWxhYmxlOiB0cnVlfSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChhbmltYXRvci5oYXModGhpcykpIHtcbiAgICAgIGlmICh0aGlzLmF0dGFjaGVkICYmICFhbmltYXRvci5ydW5uaW5nKHRoaXMpKSB7XG4gICAgICAgIGFuaW1hdG9yLnN0YXJ0KHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYXcoKTtcbiAgICAgIG9uQW5pbWF0aW9uc0NvbXBsZXRlKHtjaGFydDogdGhpc30pO1xuICAgIH1cbiAgfVxuICBkcmF3KCkge1xuICAgIGxldCBpO1xuICAgIGlmICh0aGlzLl9yZXNpemVCZWZvcmVEcmF3KSB7XG4gICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSB0aGlzLl9yZXNpemVCZWZvcmVEcmF3O1xuICAgICAgdGhpcy5fcmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgdGhpcy5fcmVzaXplQmVmb3JlRHJhdyA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuY2xlYXIoKTtcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRHJhdycsIHtjYW5jZWxhYmxlOiB0cnVlfSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2xheWVycztcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aCAmJiBsYXllcnNbaV0ueiA8PSAwOyArK2kpIHtcbiAgICAgIGxheWVyc1tpXS5kcmF3KHRoaXMuY2hhcnRBcmVhKTtcbiAgICB9XG4gICAgdGhpcy5fZHJhd0RhdGFzZXRzKCk7XG4gICAgZm9yICg7IGkgPCBsYXllcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxheWVyc1tpXS5kcmF3KHRoaXMuY2hhcnRBcmVhKTtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRyYXcnKTtcbiAgfVxuICBfZ2V0U29ydGVkRGF0YXNldE1ldGFzKGZpbHRlclZpc2libGUpIHtcbiAgICBjb25zdCBtZXRhc2V0cyA9IHRoaXMuX3NvcnRlZE1ldGFzZXRzO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBpLCBpbGVuO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBtZXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IG1ldGEgPSBtZXRhc2V0c1tpXTtcbiAgICAgIGlmICghZmlsdGVyVmlzaWJsZSB8fCBtZXRhLnZpc2libGUpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobWV0YSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0U29ydGVkRGF0YXNldE1ldGFzKHRydWUpO1xuICB9XG4gIF9kcmF3RGF0YXNldHMoKSB7XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRGF0YXNldHNEcmF3Jywge2NhbmNlbGFibGU6IHRydWV9KSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0YXNldHMgPSB0aGlzLmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtcbiAgICBmb3IgKGxldCBpID0gbWV0YXNldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRoaXMuX2RyYXdEYXRhc2V0KG1ldGFzZXRzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRhdGFzZXRzRHJhdycpO1xuICB9XG4gIF9kcmF3RGF0YXNldChtZXRhKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgY2xpcCA9IG1ldGEuX2NsaXA7XG4gICAgY29uc3QgdXNlQ2xpcCA9ICFjbGlwLmRpc2FibGVkO1xuICAgIGNvbnN0IGFyZWEgPSB0aGlzLmNoYXJ0QXJlYTtcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgbWV0YSxcbiAgICAgIGluZGV4OiBtZXRhLmluZGV4LFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH07XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRGF0YXNldERyYXcnLCBhcmdzKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHVzZUNsaXApIHtcbiAgICAgIGNsaXBBcmVhKGN0eCwge1xuICAgICAgICBsZWZ0OiBjbGlwLmxlZnQgPT09IGZhbHNlID8gMCA6IGFyZWEubGVmdCAtIGNsaXAubGVmdCxcbiAgICAgICAgcmlnaHQ6IGNsaXAucmlnaHQgPT09IGZhbHNlID8gdGhpcy53aWR0aCA6IGFyZWEucmlnaHQgKyBjbGlwLnJpZ2h0LFxuICAgICAgICB0b3A6IGNsaXAudG9wID09PSBmYWxzZSA/IDAgOiBhcmVhLnRvcCAtIGNsaXAudG9wLFxuICAgICAgICBib3R0b206IGNsaXAuYm90dG9tID09PSBmYWxzZSA/IHRoaXMuaGVpZ2h0IDogYXJlYS5ib3R0b20gKyBjbGlwLmJvdHRvbVxuICAgICAgfSk7XG4gICAgfVxuICAgIG1ldGEuY29udHJvbGxlci5kcmF3KCk7XG4gICAgaWYgKHVzZUNsaXApIHtcbiAgICAgIHVuY2xpcEFyZWEoY3R4KTtcbiAgICB9XG4gICAgYXJncy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdhZnRlckRhdGFzZXREcmF3JywgYXJncyk7XG4gIH1cbiAgaXNQb2ludEluQXJlYShwb2ludCkge1xuICAgIHJldHVybiBfaXNQb2ludEluQXJlYShwb2ludCwgdGhpcy5jaGFydEFyZWEsIHRoaXMuX21pblBhZGRpbmcpO1xuICB9XG4gIGdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZSwgbW9kZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IG1ldGhvZCA9IEludGVyYWN0aW9uLm1vZGVzW21vZGVdO1xuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gbWV0aG9kKHRoaXMsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KSB7XG4gICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZGF0YS5kYXRhc2V0c1tkYXRhc2V0SW5kZXhdO1xuICAgIGNvbnN0IG1ldGFzZXRzID0gdGhpcy5fbWV0YXNldHM7XG4gICAgbGV0IG1ldGEgPSBtZXRhc2V0cy5maWx0ZXIoeCA9PiB4ICYmIHguX2RhdGFzZXQgPT09IGRhdGFzZXQpLnBvcCgpO1xuICAgIGlmICghbWV0YSkge1xuICAgICAgbWV0YSA9IHtcbiAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIGRhdGFzZXQ6IG51bGwsXG4gICAgICAgIGNvbnRyb2xsZXI6IG51bGwsXG4gICAgICAgIGhpZGRlbjogbnVsbCxcbiAgICAgICAgeEF4aXNJRDogbnVsbCxcbiAgICAgICAgeUF4aXNJRDogbnVsbCxcbiAgICAgICAgb3JkZXI6IGRhdGFzZXQgJiYgZGF0YXNldC5vcmRlciB8fCAwLFxuICAgICAgICBpbmRleDogZGF0YXNldEluZGV4LFxuICAgICAgICBfZGF0YXNldDogZGF0YXNldCxcbiAgICAgICAgX3BhcnNlZDogW10sXG4gICAgICAgIF9zb3J0ZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgICAgbWV0YXNldHMucHVzaChtZXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGE7XG4gIH1cbiAgZ2V0Q29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dCB8fCAodGhpcy4kY29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCwge2NoYXJ0OiB0aGlzLCB0eXBlOiAnY2hhcnQnfSkpO1xuICB9XG4gIGdldFZpc2libGVEYXRhc2V0Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLmxlbmd0aDtcbiAgfVxuICBpc0RhdGFzZXRWaXNpYmxlKGRhdGFzZXRJbmRleCkge1xuICAgIGNvbnN0IGRhdGFzZXQgPSB0aGlzLmRhdGEuZGF0YXNldHNbZGF0YXNldEluZGV4XTtcbiAgICBpZiAoIWRhdGFzZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KTtcbiAgICByZXR1cm4gdHlwZW9mIG1ldGEuaGlkZGVuID09PSAnYm9vbGVhbicgPyAhbWV0YS5oaWRkZW4gOiAhZGF0YXNldC5oaWRkZW47XG4gIH1cbiAgc2V0RGF0YXNldFZpc2liaWxpdHkoZGF0YXNldEluZGV4LCB2aXNpYmxlKSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KTtcbiAgICBtZXRhLmhpZGRlbiA9ICF2aXNpYmxlO1xuICB9XG4gIHRvZ2dsZURhdGFWaXNpYmlsaXR5KGluZGV4KSB7XG4gICAgdGhpcy5faGlkZGVuSW5kaWNlc1tpbmRleF0gPSAhdGhpcy5faGlkZGVuSW5kaWNlc1tpbmRleF07XG4gIH1cbiAgZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpIHtcbiAgICByZXR1cm4gIXRoaXMuX2hpZGRlbkluZGljZXNbaW5kZXhdO1xuICB9XG4gIF91cGRhdGVWaXNpYmlsaXR5KGRhdGFzZXRJbmRleCwgZGF0YUluZGV4LCB2aXNpYmxlKSB7XG4gICAgY29uc3QgbW9kZSA9IHZpc2libGUgPyAnc2hvdycgOiAnaGlkZSc7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KTtcbiAgICBjb25zdCBhbmltcyA9IG1ldGEuY29udHJvbGxlci5fcmVzb2x2ZUFuaW1hdGlvbnModW5kZWZpbmVkLCBtb2RlKTtcbiAgICBpZiAoZGVmaW5lZChkYXRhSW5kZXgpKSB7XG4gICAgICBtZXRhLmRhdGFbZGF0YUluZGV4XS5oaWRkZW4gPSAhdmlzaWJsZTtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0RGF0YXNldFZpc2liaWxpdHkoZGF0YXNldEluZGV4LCB2aXNpYmxlKTtcbiAgICAgIGFuaW1zLnVwZGF0ZShtZXRhLCB7dmlzaWJsZX0pO1xuICAgICAgdGhpcy51cGRhdGUoKGN0eCkgPT4gY3R4LmRhdGFzZXRJbmRleCA9PT0gZGF0YXNldEluZGV4ID8gbW9kZSA6IHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG4gIGhpZGUoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgpIHtcbiAgICB0aGlzLl91cGRhdGVWaXNpYmlsaXR5KGRhdGFzZXRJbmRleCwgZGF0YUluZGV4LCBmYWxzZSk7XG4gIH1cbiAgc2hvdyhkYXRhc2V0SW5kZXgsIGRhdGFJbmRleCkge1xuICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgsIHRydWUpO1xuICB9XG4gIF9kZXN0cm95RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KSB7XG4gICAgY29uc3QgbWV0YSA9IHRoaXMuX21ldGFzZXRzW2RhdGFzZXRJbmRleF07XG4gICAgaWYgKG1ldGEgJiYgbWV0YS5jb250cm9sbGVyKSB7XG4gICAgICBtZXRhLmNvbnRyb2xsZXIuX2Rlc3Ryb3koKTtcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMuX21ldGFzZXRzW2RhdGFzZXRJbmRleF07XG4gIH1cbiAgX3N0b3AoKSB7XG4gICAgbGV0IGksIGlsZW47XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgYW5pbWF0b3IucmVtb3ZlKHRoaXMpO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSB0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaSk7XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVEZXN0cm95Jyk7XG4gICAgY29uc3Qge2NhbnZhcywgY3R4fSA9IHRoaXM7XG4gICAgdGhpcy5fc3RvcCgpO1xuICAgIHRoaXMuY29uZmlnLmNsZWFyQ2FjaGUoKTtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgICAgY2xlYXJDYW52YXMoY2FudmFzLCBjdHgpO1xuICAgICAgdGhpcy5wbGF0Zm9ybS5yZWxlYXNlQ29udGV4dChjdHgpO1xuICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgdGhpcy5jdHggPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2Rlc3Ryb3knKTtcbiAgICBkZWxldGUgaW5zdGFuY2VzW3RoaXMuaWRdO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJEZXN0cm95Jyk7XG4gIH1cbiAgdG9CYXNlNjRJbWFnZSguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLnRvRGF0YVVSTCguLi5hcmdzKTtcbiAgfVxuICBiaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuYmluZFVzZXJFdmVudHMoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgIHRoaXMuYmluZFJlc3BvbnNpdmVFdmVudHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hdHRhY2hlZCA9IHRydWU7XG4gICAgfVxuICB9XG4gIGJpbmRVc2VyRXZlbnRzKCkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICBjb25zdCBwbGF0Zm9ybSA9IHRoaXMucGxhdGZvcm07XG4gICAgY29uc3QgX2FkZCA9ICh0eXBlLCBsaXN0ZW5lcikgPT4ge1xuICAgICAgcGxhdGZvcm0uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lcnNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICB9O1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGUsIHgsIHkpID0+IHtcbiAgICAgIGUub2Zmc2V0WCA9IHg7XG4gICAgICBlLm9mZnNldFkgPSB5O1xuICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyKGUpO1xuICAgIH07XG4gICAgZWFjaCh0aGlzLm9wdGlvbnMuZXZlbnRzLCAodHlwZSkgPT4gX2FkZCh0eXBlLCBsaXN0ZW5lcikpO1xuICB9XG4gIGJpbmRSZXNwb25zaXZlRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycykge1xuICAgICAgdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyA9IHt9O1xuICAgIH1cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzO1xuICAgIGNvbnN0IHBsYXRmb3JtID0gdGhpcy5wbGF0Zm9ybTtcbiAgICBjb25zdCBfYWRkID0gKHR5cGUsIGxpc3RlbmVyKSA9PiB7XG4gICAgICBwbGF0Zm9ybS5hZGRFdmVudExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgIGxpc3RlbmVyc1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgIH07XG4gICAgY29uc3QgX3JlbW92ZSA9ICh0eXBlLCBsaXN0ZW5lcikgPT4ge1xuICAgICAgaWYgKGxpc3RlbmVyc1t0eXBlXSkge1xuICAgICAgICBwbGF0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgZGVsZXRlIGxpc3RlbmVyc1t0eXBlXTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxldCBkZXRhY2hlZDtcbiAgICBjb25zdCBhdHRhY2hlZCA9ICgpID0+IHtcbiAgICAgIF9yZW1vdmUoJ2F0dGFjaCcsIGF0dGFjaGVkKTtcbiAgICAgIHRoaXMuYXR0YWNoZWQgPSB0cnVlO1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgIF9hZGQoJ3Jlc2l6ZScsIGxpc3RlbmVyKTtcbiAgICAgIF9hZGQoJ2RldGFjaCcsIGRldGFjaGVkKTtcbiAgICB9O1xuICAgIGRldGFjaGVkID0gKCkgPT4ge1xuICAgICAgdGhpcy5hdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgX3JlbW92ZSgncmVzaXplJywgbGlzdGVuZXIpO1xuICAgICAgdGhpcy5fc3RvcCgpO1xuICAgICAgdGhpcy5fcmVzaXplKDAsIDApO1xuICAgICAgX2FkZCgnYXR0YWNoJywgYXR0YWNoZWQpO1xuICAgIH07XG4gICAgaWYgKHBsYXRmb3JtLmlzQXR0YWNoZWQodGhpcy5jYW52YXMpKSB7XG4gICAgICBhdHRhY2hlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXRhY2hlZCgpO1xuICAgIH1cbiAgfVxuICB1bmJpbmRFdmVudHMoKSB7XG4gICAgZWFjaCh0aGlzLl9saXN0ZW5lcnMsIChsaXN0ZW5lciwgdHlwZSkgPT4ge1xuICAgICAgdGhpcy5wbGF0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9KTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICBlYWNoKHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnMsIChsaXN0ZW5lciwgdHlwZSkgPT4ge1xuICAgICAgdGhpcy5wbGF0Zm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9KTtcbiAgICB0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuICB9XG4gIHVwZGF0ZUhvdmVyU3R5bGUoaXRlbXMsIG1vZGUsIGVuYWJsZWQpIHtcbiAgICBjb25zdCBwcmVmaXggPSBlbmFibGVkID8gJ3NldCcgOiAncmVtb3ZlJztcbiAgICBsZXQgbWV0YSwgaXRlbSwgaSwgaWxlbjtcbiAgICBpZiAobW9kZSA9PT0gJ2RhdGFzZXQnKSB7XG4gICAgICBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShpdGVtc1swXS5kYXRhc2V0SW5kZXgpO1xuICAgICAgbWV0YS5jb250cm9sbGVyWydfJyArIHByZWZpeCArICdEYXRhc2V0SG92ZXJTdHlsZSddKCk7XG4gICAgfVxuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGl0ZW0gPSBpdGVtc1tpXTtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBpdGVtICYmIHRoaXMuZ2V0RGF0YXNldE1ldGEoaXRlbS5kYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXI7XG4gICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyW3ByZWZpeCArICdIb3ZlclN0eWxlJ10oaXRlbS5lbGVtZW50LCBpdGVtLmRhdGFzZXRJbmRleCwgaXRlbS5pbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldEFjdGl2ZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmUgfHwgW107XG4gIH1cbiAgc2V0QWN0aXZlRWxlbWVudHMoYWN0aXZlRWxlbWVudHMpIHtcbiAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgIGNvbnN0IGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnRzLm1hcCgoe2RhdGFzZXRJbmRleCwgaW5kZXh9KSA9PiB7XG4gICAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gZGF0YXNldCBmb3VuZCBhdCBpbmRleCAnICsgZGF0YXNldEluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgZWxlbWVudDogbWV0YS5kYXRhW2luZGV4XSxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IGNoYW5nZWQgPSAhX2VsZW1lbnRzRXF1YWwoYWN0aXZlLCBsYXN0QWN0aXZlKTtcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5fYWN0aXZlID0gYWN0aXZlO1xuICAgICAgdGhpcy5fbGFzdEV2ZW50ID0gbnVsbDtcbiAgICAgIHRoaXMuX3VwZGF0ZUhvdmVyU3R5bGVzKGFjdGl2ZSwgbGFzdEFjdGl2ZSk7XG4gICAgfVxuICB9XG4gIG5vdGlmeVBsdWdpbnMoaG9vaywgYXJncywgZmlsdGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BsdWdpbnMubm90aWZ5KHRoaXMsIGhvb2ssIGFyZ3MsIGZpbHRlcik7XG4gIH1cbiAgX3VwZGF0ZUhvdmVyU3R5bGVzKGFjdGl2ZSwgbGFzdEFjdGl2ZSwgcmVwbGF5KSB7XG4gICAgY29uc3QgaG92ZXJPcHRpb25zID0gdGhpcy5vcHRpb25zLmhvdmVyO1xuICAgIGNvbnN0IGRpZmYgPSAoYSwgYikgPT4gYS5maWx0ZXIoeCA9PiAhYi5zb21lKHkgPT4geC5kYXRhc2V0SW5kZXggPT09IHkuZGF0YXNldEluZGV4ICYmIHguaW5kZXggPT09IHkuaW5kZXgpKTtcbiAgICBjb25zdCBkZWFjdGl2YXRlZCA9IGRpZmYobGFzdEFjdGl2ZSwgYWN0aXZlKTtcbiAgICBjb25zdCBhY3RpdmF0ZWQgPSByZXBsYXkgPyBhY3RpdmUgOiBkaWZmKGFjdGl2ZSwgbGFzdEFjdGl2ZSk7XG4gICAgaWYgKGRlYWN0aXZhdGVkLmxlbmd0aCkge1xuICAgICAgdGhpcy51cGRhdGVIb3ZlclN0eWxlKGRlYWN0aXZhdGVkLCBob3Zlck9wdGlvbnMubW9kZSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoYWN0aXZhdGVkLmxlbmd0aCAmJiBob3Zlck9wdGlvbnMubW9kZSkge1xuICAgICAgdGhpcy51cGRhdGVIb3ZlclN0eWxlKGFjdGl2YXRlZCwgaG92ZXJPcHRpb25zLm1vZGUsIHRydWUpO1xuICAgIH1cbiAgfVxuICBfZXZlbnRIYW5kbGVyKGUsIHJlcGxheSkge1xuICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICBldmVudDogZSxcbiAgICAgIHJlcGxheSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICBpbkNoYXJ0QXJlYTogdGhpcy5pc1BvaW50SW5BcmVhKGUpXG4gICAgfTtcbiAgICBjb25zdCBldmVudEZpbHRlciA9IChwbHVnaW4pID0+IChwbHVnaW4ub3B0aW9ucy5ldmVudHMgfHwgdGhpcy5vcHRpb25zLmV2ZW50cykuaW5jbHVkZXMoZS5uYXRpdmUudHlwZSk7XG4gICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRXZlbnQnLCBhcmdzLCBldmVudEZpbHRlcikgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9oYW5kbGVFdmVudChlLCByZXBsYXksIGFyZ3MuaW5DaGFydEFyZWEpO1xuICAgIGFyZ3MuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJFdmVudCcsIGFyZ3MsIGV2ZW50RmlsdGVyKTtcbiAgICBpZiAoY2hhbmdlZCB8fCBhcmdzLmNoYW5nZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIF9oYW5kbGVFdmVudChlLCByZXBsYXksIGluQ2hhcnRBcmVhKSB7XG4gICAgY29uc3Qge19hY3RpdmU6IGxhc3RBY3RpdmUgPSBbXSwgb3B0aW9uc30gPSB0aGlzO1xuICAgIGNvbnN0IHVzZUZpbmFsUG9zaXRpb24gPSByZXBsYXk7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fZ2V0QWN0aXZlRWxlbWVudHMoZSwgbGFzdEFjdGl2ZSwgaW5DaGFydEFyZWEsIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIGNvbnN0IGlzQ2xpY2sgPSBfaXNDbGlja0V2ZW50KGUpO1xuICAgIGNvbnN0IGxhc3RFdmVudCA9IGRldGVybWluZUxhc3RFdmVudChlLCB0aGlzLl9sYXN0RXZlbnQsIGluQ2hhcnRBcmVhLCBpc0NsaWNrKTtcbiAgICBpZiAoaW5DaGFydEFyZWEpIHtcbiAgICAgIHRoaXMuX2xhc3RFdmVudCA9IG51bGw7XG4gICAgICBjYWxsYmFjayhvcHRpb25zLm9uSG92ZXIsIFtlLCBhY3RpdmUsIHRoaXNdLCB0aGlzKTtcbiAgICAgIGlmIChpc0NsaWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG9wdGlvbnMub25DbGljaywgW2UsIGFjdGl2ZSwgdGhpc10sIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VkID0gIV9lbGVtZW50c0VxdWFsKGFjdGl2ZSwgbGFzdEFjdGl2ZSk7XG4gICAgaWYgKGNoYW5nZWQgfHwgcmVwbGF5KSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XG4gICAgICB0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhhY3RpdmUsIGxhc3RBY3RpdmUsIHJlcGxheSk7XG4gICAgfVxuICAgIHRoaXMuX2xhc3RFdmVudCA9IGxhc3RFdmVudDtcbiAgICByZXR1cm4gY2hhbmdlZDtcbiAgfVxuICBfZ2V0QWN0aXZlRWxlbWVudHMoZSwgbGFzdEFjdGl2ZSwgaW5DaGFydEFyZWEsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBpZiAoZS50eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghaW5DaGFydEFyZWEpIHtcbiAgICAgIHJldHVybiBsYXN0QWN0aXZlO1xuICAgIH1cbiAgICBjb25zdCBob3Zlck9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuaG92ZXI7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBob3Zlck9wdGlvbnMubW9kZSwgaG92ZXJPcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxufVxuY29uc3QgaW52YWxpZGF0ZVBsdWdpbnMgPSAoKSA9PiBlYWNoKENoYXJ0Lmluc3RhbmNlcywgKGNoYXJ0KSA9PiBjaGFydC5fcGx1Z2lucy5pbnZhbGlkYXRlKCkpO1xuY29uc3QgZW51bWVyYWJsZSA9IHRydWU7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDaGFydCwge1xuICBkZWZhdWx0czoge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6IGRlZmF1bHRzXG4gIH0sXG4gIGluc3RhbmNlczoge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6IGluc3RhbmNlc1xuICB9LFxuICBvdmVycmlkZXM6IHtcbiAgICBlbnVtZXJhYmxlLFxuICAgIHZhbHVlOiBvdmVycmlkZXNcbiAgfSxcbiAgcmVnaXN0cnk6IHtcbiAgICBlbnVtZXJhYmxlLFxuICAgIHZhbHVlOiByZWdpc3RyeVxuICB9LFxuICB2ZXJzaW9uOiB7XG4gICAgZW51bWVyYWJsZSxcbiAgICB2YWx1ZTogdmVyc2lvblxuICB9LFxuICBnZXRDaGFydDoge1xuICAgIGVudW1lcmFibGUsXG4gICAgdmFsdWU6IGdldENoYXJ0XG4gIH0sXG4gIHJlZ2lzdGVyOiB7XG4gICAgZW51bWVyYWJsZSxcbiAgICB2YWx1ZTogKC4uLml0ZW1zKSA9PiB7XG4gICAgICByZWdpc3RyeS5hZGQoLi4uaXRlbXMpO1xuICAgICAgaW52YWxpZGF0ZVBsdWdpbnMoKTtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXI6IHtcbiAgICBlbnVtZXJhYmxlLFxuICAgIHZhbHVlOiAoLi4uaXRlbXMpID0+IHtcbiAgICAgIHJlZ2lzdHJ5LnJlbW92ZSguLi5pdGVtcyk7XG4gICAgICBpbnZhbGlkYXRlUGx1Z2lucygpO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGNsaXBBcmMoY3R4LCBlbGVtZW50LCBlbmRBbmdsZSkge1xuICBjb25zdCB7c3RhcnRBbmdsZSwgcGl4ZWxNYXJnaW4sIHgsIHksIG91dGVyUmFkaXVzLCBpbm5lclJhZGl1c30gPSBlbGVtZW50O1xuICBsZXQgYW5nbGVNYXJnaW4gPSBwaXhlbE1hcmdpbiAvIG91dGVyUmFkaXVzO1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5hcmMoeCwgeSwgb3V0ZXJSYWRpdXMsIHN0YXJ0QW5nbGUgLSBhbmdsZU1hcmdpbiwgZW5kQW5nbGUgKyBhbmdsZU1hcmdpbik7XG4gIGlmIChpbm5lclJhZGl1cyA+IHBpeGVsTWFyZ2luKSB7XG4gICAgYW5nbGVNYXJnaW4gPSBwaXhlbE1hcmdpbiAvIGlubmVyUmFkaXVzO1xuICAgIGN0eC5hcmMoeCwgeSwgaW5uZXJSYWRpdXMsIGVuZEFuZ2xlICsgYW5nbGVNYXJnaW4sIHN0YXJ0QW5nbGUgLSBhbmdsZU1hcmdpbiwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgY3R4LmFyYyh4LCB5LCBwaXhlbE1hcmdpbiwgZW5kQW5nbGUgKyBIQUxGX1BJLCBzdGFydEFuZ2xlIC0gSEFMRl9QSSk7XG4gIH1cbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguY2xpcCgpO1xufVxuZnVuY3Rpb24gdG9SYWRpdXNDb3JuZXJzKHZhbHVlKSB7XG4gIHJldHVybiBfcmVhZFZhbHVlVG9Qcm9wcyh2YWx1ZSwgWydvdXRlclN0YXJ0JywgJ291dGVyRW5kJywgJ2lubmVyU3RhcnQnLCAnaW5uZXJFbmQnXSk7XG59XG5mdW5jdGlvbiBwYXJzZUJvcmRlclJhZGl1cyQxKGFyYywgaW5uZXJSYWRpdXMsIG91dGVyUmFkaXVzLCBhbmdsZURlbHRhKSB7XG4gIGNvbnN0IG8gPSB0b1JhZGl1c0Nvcm5lcnMoYXJjLm9wdGlvbnMuYm9yZGVyUmFkaXVzKTtcbiAgY29uc3QgaGFsZlRoaWNrbmVzcyA9IChvdXRlclJhZGl1cyAtIGlubmVyUmFkaXVzKSAvIDI7XG4gIGNvbnN0IGlubmVyTGltaXQgPSBNYXRoLm1pbihoYWxmVGhpY2tuZXNzLCBhbmdsZURlbHRhICogaW5uZXJSYWRpdXMgLyAyKTtcbiAgY29uc3QgY29tcHV0ZU91dGVyTGltaXQgPSAodmFsKSA9PiB7XG4gICAgY29uc3Qgb3V0ZXJBcmNMaW1pdCA9IChvdXRlclJhZGl1cyAtIE1hdGgubWluKGhhbGZUaGlja25lc3MsIHZhbCkpICogYW5nbGVEZWx0YSAvIDI7XG4gICAgcmV0dXJuIF9saW1pdFZhbHVlKHZhbCwgMCwgTWF0aC5taW4oaGFsZlRoaWNrbmVzcywgb3V0ZXJBcmNMaW1pdCkpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIG91dGVyU3RhcnQ6IGNvbXB1dGVPdXRlckxpbWl0KG8ub3V0ZXJTdGFydCksXG4gICAgb3V0ZXJFbmQ6IGNvbXB1dGVPdXRlckxpbWl0KG8ub3V0ZXJFbmQpLFxuICAgIGlubmVyU3RhcnQ6IF9saW1pdFZhbHVlKG8uaW5uZXJTdGFydCwgMCwgaW5uZXJMaW1pdCksXG4gICAgaW5uZXJFbmQ6IF9saW1pdFZhbHVlKG8uaW5uZXJFbmQsIDAsIGlubmVyTGltaXQpLFxuICB9O1xufVxuZnVuY3Rpb24gclRoZXRhVG9YWShyLCB0aGV0YSwgeCwgeSkge1xuICByZXR1cm4ge1xuICAgIHg6IHggKyByICogTWF0aC5jb3ModGhldGEpLFxuICAgIHk6IHkgKyByICogTWF0aC5zaW4odGhldGEpLFxuICB9O1xufVxuZnVuY3Rpb24gcGF0aEFyYyhjdHgsIGVsZW1lbnQsIG9mZnNldCwgc3BhY2luZywgZW5kLCBjaXJjdWxhcikge1xuICBjb25zdCB7eCwgeSwgc3RhcnRBbmdsZTogc3RhcnQsIHBpeGVsTWFyZ2luLCBpbm5lclJhZGl1czogaW5uZXJSfSA9IGVsZW1lbnQ7XG4gIGNvbnN0IG91dGVyUmFkaXVzID0gTWF0aC5tYXgoZWxlbWVudC5vdXRlclJhZGl1cyArIHNwYWNpbmcgKyBvZmZzZXQgLSBwaXhlbE1hcmdpbiwgMCk7XG4gIGNvbnN0IGlubmVyUmFkaXVzID0gaW5uZXJSID4gMCA/IGlubmVyUiArIHNwYWNpbmcgKyBvZmZzZXQgKyBwaXhlbE1hcmdpbiA6IDA7XG4gIGxldCBzcGFjaW5nT2Zmc2V0ID0gMDtcbiAgY29uc3QgYWxwaGEgPSBlbmQgLSBzdGFydDtcbiAgaWYgKHNwYWNpbmcpIHtcbiAgICBjb25zdCBub1NwYWNpbmdJbm5lclJhZGl1cyA9IGlubmVyUiA+IDAgPyBpbm5lclIgLSBzcGFjaW5nIDogMDtcbiAgICBjb25zdCBub1NwYWNpbmdPdXRlclJhZGl1cyA9IG91dGVyUmFkaXVzID4gMCA/IG91dGVyUmFkaXVzIC0gc3BhY2luZyA6IDA7XG4gICAgY29uc3QgYXZOb2dTcGFjaW5nUmFkaXVzID0gKG5vU3BhY2luZ0lubmVyUmFkaXVzICsgbm9TcGFjaW5nT3V0ZXJSYWRpdXMpIC8gMjtcbiAgICBjb25zdCBhZGp1c3RlZEFuZ2xlID0gYXZOb2dTcGFjaW5nUmFkaXVzICE9PSAwID8gKGFscGhhICogYXZOb2dTcGFjaW5nUmFkaXVzKSAvIChhdk5vZ1NwYWNpbmdSYWRpdXMgKyBzcGFjaW5nKSA6IGFscGhhO1xuICAgIHNwYWNpbmdPZmZzZXQgPSAoYWxwaGEgLSBhZGp1c3RlZEFuZ2xlKSAvIDI7XG4gIH1cbiAgY29uc3QgYmV0YSA9IE1hdGgubWF4KDAuMDAxLCBhbHBoYSAqIG91dGVyUmFkaXVzIC0gb2Zmc2V0IC8gUEkpIC8gb3V0ZXJSYWRpdXM7XG4gIGNvbnN0IGFuZ2xlT2Zmc2V0ID0gKGFscGhhIC0gYmV0YSkgLyAyO1xuICBjb25zdCBzdGFydEFuZ2xlID0gc3RhcnQgKyBhbmdsZU9mZnNldCArIHNwYWNpbmdPZmZzZXQ7XG4gIGNvbnN0IGVuZEFuZ2xlID0gZW5kIC0gYW5nbGVPZmZzZXQgLSBzcGFjaW5nT2Zmc2V0O1xuICBjb25zdCB7b3V0ZXJTdGFydCwgb3V0ZXJFbmQsIGlubmVyU3RhcnQsIGlubmVyRW5kfSA9IHBhcnNlQm9yZGVyUmFkaXVzJDEoZWxlbWVudCwgaW5uZXJSYWRpdXMsIG91dGVyUmFkaXVzLCBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpO1xuICBjb25zdCBvdXRlclN0YXJ0QWRqdXN0ZWRSYWRpdXMgPSBvdXRlclJhZGl1cyAtIG91dGVyU3RhcnQ7XG4gIGNvbnN0IG91dGVyRW5kQWRqdXN0ZWRSYWRpdXMgPSBvdXRlclJhZGl1cyAtIG91dGVyRW5kO1xuICBjb25zdCBvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBvdXRlclN0YXJ0IC8gb3V0ZXJTdGFydEFkanVzdGVkUmFkaXVzO1xuICBjb25zdCBvdXRlckVuZEFkanVzdGVkQW5nbGUgPSBlbmRBbmdsZSAtIG91dGVyRW5kIC8gb3V0ZXJFbmRBZGp1c3RlZFJhZGl1cztcbiAgY29uc3QgaW5uZXJTdGFydEFkanVzdGVkUmFkaXVzID0gaW5uZXJSYWRpdXMgKyBpbm5lclN0YXJ0O1xuICBjb25zdCBpbm5lckVuZEFkanVzdGVkUmFkaXVzID0gaW5uZXJSYWRpdXMgKyBpbm5lckVuZDtcbiAgY29uc3QgaW5uZXJTdGFydEFkanVzdGVkQW5nbGUgPSBzdGFydEFuZ2xlICsgaW5uZXJTdGFydCAvIGlubmVyU3RhcnRBZGp1c3RlZFJhZGl1cztcbiAgY29uc3QgaW5uZXJFbmRBZGp1c3RlZEFuZ2xlID0gZW5kQW5nbGUgLSBpbm5lckVuZCAvIGlubmVyRW5kQWRqdXN0ZWRSYWRpdXM7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgaWYgKGNpcmN1bGFyKSB7XG4gICAgY3R4LmFyYyh4LCB5LCBvdXRlclJhZGl1cywgb3V0ZXJTdGFydEFkanVzdGVkQW5nbGUsIG91dGVyRW5kQWRqdXN0ZWRBbmdsZSk7XG4gICAgaWYgKG91dGVyRW5kID4gMCkge1xuICAgICAgY29uc3QgcENlbnRlciA9IHJUaGV0YVRvWFkob3V0ZXJFbmRBZGp1c3RlZFJhZGl1cywgb3V0ZXJFbmRBZGp1c3RlZEFuZ2xlLCB4LCB5KTtcbiAgICAgIGN0eC5hcmMocENlbnRlci54LCBwQ2VudGVyLnksIG91dGVyRW5kLCBvdXRlckVuZEFkanVzdGVkQW5nbGUsIGVuZEFuZ2xlICsgSEFMRl9QSSk7XG4gICAgfVxuICAgIGNvbnN0IHA0ID0gclRoZXRhVG9YWShpbm5lckVuZEFkanVzdGVkUmFkaXVzLCBlbmRBbmdsZSwgeCwgeSk7XG4gICAgY3R4LmxpbmVUbyhwNC54LCBwNC55KTtcbiAgICBpZiAoaW5uZXJFbmQgPiAwKSB7XG4gICAgICBjb25zdCBwQ2VudGVyID0gclRoZXRhVG9YWShpbm5lckVuZEFkanVzdGVkUmFkaXVzLCBpbm5lckVuZEFkanVzdGVkQW5nbGUsIHgsIHkpO1xuICAgICAgY3R4LmFyYyhwQ2VudGVyLngsIHBDZW50ZXIueSwgaW5uZXJFbmQsIGVuZEFuZ2xlICsgSEFMRl9QSSwgaW5uZXJFbmRBZGp1c3RlZEFuZ2xlICsgTWF0aC5QSSk7XG4gICAgfVxuICAgIGN0eC5hcmMoeCwgeSwgaW5uZXJSYWRpdXMsIGVuZEFuZ2xlIC0gKGlubmVyRW5kIC8gaW5uZXJSYWRpdXMpLCBzdGFydEFuZ2xlICsgKGlubmVyU3RhcnQgLyBpbm5lclJhZGl1cyksIHRydWUpO1xuICAgIGlmIChpbm5lclN0YXJ0ID4gMCkge1xuICAgICAgY29uc3QgcENlbnRlciA9IHJUaGV0YVRvWFkoaW5uZXJTdGFydEFkanVzdGVkUmFkaXVzLCBpbm5lclN0YXJ0QWRqdXN0ZWRBbmdsZSwgeCwgeSk7XG4gICAgICBjdHguYXJjKHBDZW50ZXIueCwgcENlbnRlci55LCBpbm5lclN0YXJ0LCBpbm5lclN0YXJ0QWRqdXN0ZWRBbmdsZSArIE1hdGguUEksIHN0YXJ0QW5nbGUgLSBIQUxGX1BJKTtcbiAgICB9XG4gICAgY29uc3QgcDggPSByVGhldGFUb1hZKG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cywgc3RhcnRBbmdsZSwgeCwgeSk7XG4gICAgY3R4LmxpbmVUbyhwOC54LCBwOC55KTtcbiAgICBpZiAob3V0ZXJTdGFydCA+IDApIHtcbiAgICAgIGNvbnN0IHBDZW50ZXIgPSByVGhldGFUb1hZKG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cywgb3V0ZXJTdGFydEFkanVzdGVkQW5nbGUsIHgsIHkpO1xuICAgICAgY3R4LmFyYyhwQ2VudGVyLngsIHBDZW50ZXIueSwgb3V0ZXJTdGFydCwgc3RhcnRBbmdsZSAtIEhBTEZfUEksIG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY3R4Lm1vdmVUbyh4LCB5KTtcbiAgICBjb25zdCBvdXRlclN0YXJ0WCA9IE1hdGguY29zKG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlKSAqIG91dGVyUmFkaXVzICsgeDtcbiAgICBjb25zdCBvdXRlclN0YXJ0WSA9IE1hdGguc2luKG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlKSAqIG91dGVyUmFkaXVzICsgeTtcbiAgICBjdHgubGluZVRvKG91dGVyU3RhcnRYLCBvdXRlclN0YXJ0WSk7XG4gICAgY29uc3Qgb3V0ZXJFbmRYID0gTWF0aC5jb3Mob3V0ZXJFbmRBZGp1c3RlZEFuZ2xlKSAqIG91dGVyUmFkaXVzICsgeDtcbiAgICBjb25zdCBvdXRlckVuZFkgPSBNYXRoLnNpbihvdXRlckVuZEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB5O1xuICAgIGN0eC5saW5lVG8ob3V0ZXJFbmRYLCBvdXRlckVuZFkpO1xuICB9XG4gIGN0eC5jbG9zZVBhdGgoKTtcbn1cbmZ1bmN0aW9uIGRyYXdBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGNpcmN1bGFyKSB7XG4gIGNvbnN0IHtmdWxsQ2lyY2xlcywgc3RhcnRBbmdsZSwgY2lyY3VtZmVyZW5jZX0gPSBlbGVtZW50O1xuICBsZXQgZW5kQW5nbGUgPSBlbGVtZW50LmVuZEFuZ2xlO1xuICBpZiAoZnVsbENpcmNsZXMpIHtcbiAgICBwYXRoQXJjKGN0eCwgZWxlbWVudCwgb2Zmc2V0LCBzcGFjaW5nLCBzdGFydEFuZ2xlICsgVEFVLCBjaXJjdWxhcik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdWxsQ2lyY2xlczsgKytpKSB7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBpZiAoIWlzTmFOKGNpcmN1bWZlcmVuY2UpKSB7XG4gICAgICBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBjaXJjdW1mZXJlbmNlICUgVEFVO1xuICAgICAgaWYgKGNpcmN1bWZlcmVuY2UgJSBUQVUgPT09IDApIHtcbiAgICAgICAgZW5kQW5nbGUgKz0gVEFVO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXRoQXJjKGN0eCwgZWxlbWVudCwgb2Zmc2V0LCBzcGFjaW5nLCBlbmRBbmdsZSwgY2lyY3VsYXIpO1xuICBjdHguZmlsbCgpO1xuICByZXR1cm4gZW5kQW5nbGU7XG59XG5mdW5jdGlvbiBkcmF3RnVsbENpcmNsZUJvcmRlcnMoY3R4LCBlbGVtZW50LCBpbm5lcikge1xuICBjb25zdCB7eCwgeSwgc3RhcnRBbmdsZSwgcGl4ZWxNYXJnaW4sIGZ1bGxDaXJjbGVzfSA9IGVsZW1lbnQ7XG4gIGNvbnN0IG91dGVyUmFkaXVzID0gTWF0aC5tYXgoZWxlbWVudC5vdXRlclJhZGl1cyAtIHBpeGVsTWFyZ2luLCAwKTtcbiAgY29uc3QgaW5uZXJSYWRpdXMgPSBlbGVtZW50LmlubmVyUmFkaXVzICsgcGl4ZWxNYXJnaW47XG4gIGxldCBpO1xuICBpZiAoaW5uZXIpIHtcbiAgICBjbGlwQXJjKGN0eCwgZWxlbWVudCwgc3RhcnRBbmdsZSArIFRBVSk7XG4gIH1cbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHgsIHksIGlubmVyUmFkaXVzLCBzdGFydEFuZ2xlICsgVEFVLCBzdGFydEFuZ2xlLCB0cnVlKTtcbiAgZm9yIChpID0gMDsgaSA8IGZ1bGxDaXJjbGVzOyArK2kpIHtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKHgsIHksIG91dGVyUmFkaXVzLCBzdGFydEFuZ2xlLCBzdGFydEFuZ2xlICsgVEFVKTtcbiAgZm9yIChpID0gMDsgaSA8IGZ1bGxDaXJjbGVzOyArK2kpIHtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRyYXdCb3JkZXIoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcikge1xuICBjb25zdCB7b3B0aW9uc30gPSBlbGVtZW50O1xuICBjb25zdCB7Ym9yZGVyV2lkdGgsIGJvcmRlckpvaW5TdHlsZX0gPSBvcHRpb25zO1xuICBjb25zdCBpbm5lciA9IG9wdGlvbnMuYm9yZGVyQWxpZ24gPT09ICdpbm5lcic7XG4gIGlmICghYm9yZGVyV2lkdGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlubmVyKSB7XG4gICAgY3R4LmxpbmVXaWR0aCA9IGJvcmRlcldpZHRoICogMjtcbiAgICBjdHgubGluZUpvaW4gPSBib3JkZXJKb2luU3R5bGUgfHwgJ3JvdW5kJztcbiAgfSBlbHNlIHtcbiAgICBjdHgubGluZVdpZHRoID0gYm9yZGVyV2lkdGg7XG4gICAgY3R4LmxpbmVKb2luID0gYm9yZGVySm9pblN0eWxlIHx8ICdiZXZlbCc7XG4gIH1cbiAgaWYgKGVsZW1lbnQuZnVsbENpcmNsZXMpIHtcbiAgICBkcmF3RnVsbENpcmNsZUJvcmRlcnMoY3R4LCBlbGVtZW50LCBpbm5lcik7XG4gIH1cbiAgaWYgKGlubmVyKSB7XG4gICAgY2xpcEFyYyhjdHgsIGVsZW1lbnQsIGVuZEFuZ2xlKTtcbiAgfVxuICBwYXRoQXJjKGN0eCwgZWxlbWVudCwgb2Zmc2V0LCBzcGFjaW5nLCBlbmRBbmdsZSwgY2lyY3VsYXIpO1xuICBjdHguc3Ryb2tlKCk7XG59XG5jbGFzcyBBcmNFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2lyY3VtZmVyZW5jZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnN0YXJ0QW5nbGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5lbmRBbmdsZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlubmVyUmFkaXVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMub3V0ZXJSYWRpdXMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5waXhlbE1hcmdpbiA9IDA7XG4gICAgdGhpcy5mdWxsQ2lyY2xlcyA9IDA7XG4gICAgaWYgKGNmZykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjZmcpO1xuICAgIH1cbiAgfVxuICBpblJhbmdlKGNoYXJ0WCwgY2hhcnRZLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3QgcG9pbnQgPSB0aGlzLmdldFByb3BzKFsneCcsICd5J10sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIGNvbnN0IHthbmdsZSwgZGlzdGFuY2V9ID0gZ2V0QW5nbGVGcm9tUG9pbnQocG9pbnQsIHt4OiBjaGFydFgsIHk6IGNoYXJ0WX0pO1xuICAgIGNvbnN0IHtzdGFydEFuZ2xlLCBlbmRBbmdsZSwgaW5uZXJSYWRpdXMsIG91dGVyUmFkaXVzLCBjaXJjdW1mZXJlbmNlfSA9IHRoaXMuZ2V0UHJvcHMoW1xuICAgICAgJ3N0YXJ0QW5nbGUnLFxuICAgICAgJ2VuZEFuZ2xlJyxcbiAgICAgICdpbm5lclJhZGl1cycsXG4gICAgICAnb3V0ZXJSYWRpdXMnLFxuICAgICAgJ2NpcmN1bWZlcmVuY2UnXG4gICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgY29uc3QgckFkanVzdCA9IHRoaXMub3B0aW9ucy5zcGFjaW5nIC8gMjtcbiAgICBjb25zdCBfY2lyY3VtZmVyZW5jZSA9IHZhbHVlT3JEZWZhdWx0KGNpcmN1bWZlcmVuY2UsIGVuZEFuZ2xlIC0gc3RhcnRBbmdsZSk7XG4gICAgY29uc3QgYmV0d2VlbkFuZ2xlcyA9IF9jaXJjdW1mZXJlbmNlID49IFRBVSB8fCBfYW5nbGVCZXR3ZWVuKGFuZ2xlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSk7XG4gICAgY29uc3Qgd2l0aGluUmFkaXVzID0gX2lzQmV0d2VlbihkaXN0YW5jZSwgaW5uZXJSYWRpdXMgKyByQWRqdXN0LCBvdXRlclJhZGl1cyArIHJBZGp1c3QpO1xuICAgIHJldHVybiAoYmV0d2VlbkFuZ2xlcyAmJiB3aXRoaW5SYWRpdXMpO1xuICB9XG4gIGdldENlbnRlclBvaW50KHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCB7eCwgeSwgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGlubmVyUmFkaXVzLCBvdXRlclJhZGl1c30gPSB0aGlzLmdldFByb3BzKFtcbiAgICAgICd4JyxcbiAgICAgICd5JyxcbiAgICAgICdzdGFydEFuZ2xlJyxcbiAgICAgICdlbmRBbmdsZScsXG4gICAgICAnaW5uZXJSYWRpdXMnLFxuICAgICAgJ291dGVyUmFkaXVzJyxcbiAgICAgICdjaXJjdW1mZXJlbmNlJyxcbiAgICBdLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICBjb25zdCB7b2Zmc2V0LCBzcGFjaW5nfSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBoYWxmQW5nbGUgPSAoc3RhcnRBbmdsZSArIGVuZEFuZ2xlKSAvIDI7XG4gICAgY29uc3QgaGFsZlJhZGl1cyA9IChpbm5lclJhZGl1cyArIG91dGVyUmFkaXVzICsgc3BhY2luZyArIG9mZnNldCkgLyAyO1xuICAgIHJldHVybiB7XG4gICAgICB4OiB4ICsgTWF0aC5jb3MoaGFsZkFuZ2xlKSAqIGhhbGZSYWRpdXMsXG4gICAgICB5OiB5ICsgTWF0aC5zaW4oaGFsZkFuZ2xlKSAqIGhhbGZSYWRpdXNcbiAgICB9O1xuICB9XG4gIHRvb2x0aXBQb3NpdGlvbih1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbik7XG4gIH1cbiAgZHJhdyhjdHgpIHtcbiAgICBjb25zdCB7b3B0aW9ucywgY2lyY3VtZmVyZW5jZX0gPSB0aGlzO1xuICAgIGNvbnN0IG9mZnNldCA9IChvcHRpb25zLm9mZnNldCB8fCAwKSAvIDI7XG4gICAgY29uc3Qgc3BhY2luZyA9IChvcHRpb25zLnNwYWNpbmcgfHwgMCkgLyAyO1xuICAgIGNvbnN0IGNpcmN1bGFyID0gb3B0aW9ucy5jaXJjdWxhcjtcbiAgICB0aGlzLnBpeGVsTWFyZ2luID0gKG9wdGlvbnMuYm9yZGVyQWxpZ24gPT09ICdpbm5lcicpID8gMC4zMyA6IDA7XG4gICAgdGhpcy5mdWxsQ2lyY2xlcyA9IGNpcmN1bWZlcmVuY2UgPiBUQVUgPyBNYXRoLmZsb29yKGNpcmN1bWZlcmVuY2UgLyBUQVUpIDogMDtcbiAgICBpZiAoY2lyY3VtZmVyZW5jZSA9PT0gMCB8fCB0aGlzLmlubmVyUmFkaXVzIDwgMCB8fCB0aGlzLm91dGVyUmFkaXVzIDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHguc2F2ZSgpO1xuICAgIGxldCByYWRpdXNPZmZzZXQgPSAwO1xuICAgIGlmIChvZmZzZXQpIHtcbiAgICAgIHJhZGl1c09mZnNldCA9IG9mZnNldCAvIDI7XG4gICAgICBjb25zdCBoYWxmQW5nbGUgPSAodGhpcy5zdGFydEFuZ2xlICsgdGhpcy5lbmRBbmdsZSkgLyAyO1xuICAgICAgY3R4LnRyYW5zbGF0ZShNYXRoLmNvcyhoYWxmQW5nbGUpICogcmFkaXVzT2Zmc2V0LCBNYXRoLnNpbihoYWxmQW5nbGUpICogcmFkaXVzT2Zmc2V0KTtcbiAgICAgIGlmICh0aGlzLmNpcmN1bWZlcmVuY2UgPj0gUEkpIHtcbiAgICAgICAgcmFkaXVzT2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgfVxuICAgIH1cbiAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gb3B0aW9ucy5ib3JkZXJDb2xvcjtcbiAgICBjb25zdCBlbmRBbmdsZSA9IGRyYXdBcmMoY3R4LCB0aGlzLCByYWRpdXNPZmZzZXQsIHNwYWNpbmcsIGNpcmN1bGFyKTtcbiAgICBkcmF3Qm9yZGVyKGN0eCwgdGhpcywgcmFkaXVzT2Zmc2V0LCBzcGFjaW5nLCBlbmRBbmdsZSwgY2lyY3VsYXIpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbkFyY0VsZW1lbnQuaWQgPSAnYXJjJztcbkFyY0VsZW1lbnQuZGVmYXVsdHMgPSB7XG4gIGJvcmRlckFsaWduOiAnY2VudGVyJyxcbiAgYm9yZGVyQ29sb3I6ICcjZmZmJyxcbiAgYm9yZGVySm9pblN0eWxlOiB1bmRlZmluZWQsXG4gIGJvcmRlclJhZGl1czogMCxcbiAgYm9yZGVyV2lkdGg6IDIsXG4gIG9mZnNldDogMCxcbiAgc3BhY2luZzogMCxcbiAgYW5nbGU6IHVuZGVmaW5lZCxcbiAgY2lyY3VsYXI6IHRydWUsXG59O1xuQXJjRWxlbWVudC5kZWZhdWx0Um91dGVzID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6ICdiYWNrZ3JvdW5kQ29sb3InXG59O1xuXG5mdW5jdGlvbiBzZXRTdHlsZShjdHgsIG9wdGlvbnMsIHN0eWxlID0gb3B0aW9ucykge1xuICBjdHgubGluZUNhcCA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckNhcFN0eWxlLCBvcHRpb25zLmJvcmRlckNhcFN0eWxlKTtcbiAgY3R4LnNldExpbmVEYXNoKHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckRhc2gsIG9wdGlvbnMuYm9yZGVyRGFzaCkpO1xuICBjdHgubGluZURhc2hPZmZzZXQgPSB2YWx1ZU9yRGVmYXVsdChzdHlsZS5ib3JkZXJEYXNoT2Zmc2V0LCBvcHRpb25zLmJvcmRlckRhc2hPZmZzZXQpO1xuICBjdHgubGluZUpvaW4gPSB2YWx1ZU9yRGVmYXVsdChzdHlsZS5ib3JkZXJKb2luU3R5bGUsIG9wdGlvbnMuYm9yZGVySm9pblN0eWxlKTtcbiAgY3R4LmxpbmVXaWR0aCA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlcldpZHRoLCBvcHRpb25zLmJvcmRlcldpZHRoKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gdmFsdWVPckRlZmF1bHQoc3R5bGUuYm9yZGVyQ29sb3IsIG9wdGlvbnMuYm9yZGVyQ29sb3IpO1xufVxuZnVuY3Rpb24gbGluZVRvKGN0eCwgcHJldmlvdXMsIHRhcmdldCkge1xuICBjdHgubGluZVRvKHRhcmdldC54LCB0YXJnZXQueSk7XG59XG5mdW5jdGlvbiBnZXRMaW5lTWV0aG9kKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuc3RlcHBlZCkge1xuICAgIHJldHVybiBfc3RlcHBlZExpbmVUbztcbiAgfVxuICBpZiAob3B0aW9ucy50ZW5zaW9uIHx8IG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykge1xuICAgIHJldHVybiBfYmV6aWVyQ3VydmVUbztcbiAgfVxuICByZXR1cm4gbGluZVRvO1xufVxuZnVuY3Rpb24gcGF0aFZhcnMocG9pbnRzLCBzZWdtZW50LCBwYXJhbXMgPSB7fSkge1xuICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGNvbnN0IHtzdGFydDogcGFyYW1zU3RhcnQgPSAwLCBlbmQ6IHBhcmFtc0VuZCA9IGNvdW50IC0gMX0gPSBwYXJhbXM7XG4gIGNvbnN0IHtzdGFydDogc2VnbWVudFN0YXJ0LCBlbmQ6IHNlZ21lbnRFbmR9ID0gc2VnbWVudDtcbiAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heChwYXJhbXNTdGFydCwgc2VnbWVudFN0YXJ0KTtcbiAgY29uc3QgZW5kID0gTWF0aC5taW4ocGFyYW1zRW5kLCBzZWdtZW50RW5kKTtcbiAgY29uc3Qgb3V0c2lkZSA9IHBhcmFtc1N0YXJ0IDwgc2VnbWVudFN0YXJ0ICYmIHBhcmFtc0VuZCA8IHNlZ21lbnRTdGFydCB8fCBwYXJhbXNTdGFydCA+IHNlZ21lbnRFbmQgJiYgcGFyYW1zRW5kID4gc2VnbWVudEVuZDtcbiAgcmV0dXJuIHtcbiAgICBjb3VudCxcbiAgICBzdGFydCxcbiAgICBsb29wOiBzZWdtZW50Lmxvb3AsXG4gICAgaWxlbjogZW5kIDwgc3RhcnQgJiYgIW91dHNpZGUgPyBjb3VudCArIGVuZCAtIHN0YXJ0IDogZW5kIC0gc3RhcnRcbiAgfTtcbn1cbmZ1bmN0aW9uIHBhdGhTZWdtZW50KGN0eCwgbGluZSwgc2VnbWVudCwgcGFyYW1zKSB7XG4gIGNvbnN0IHtwb2ludHMsIG9wdGlvbnN9ID0gbGluZTtcbiAgY29uc3Qge2NvdW50LCBzdGFydCwgbG9vcCwgaWxlbn0gPSBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyk7XG4gIGNvbnN0IGxpbmVNZXRob2QgPSBnZXRMaW5lTWV0aG9kKG9wdGlvbnMpO1xuICBsZXQge21vdmUgPSB0cnVlLCByZXZlcnNlfSA9IHBhcmFtcyB8fCB7fTtcbiAgbGV0IGksIHBvaW50LCBwcmV2O1xuICBmb3IgKGkgPSAwOyBpIDw9IGlsZW47ICsraSkge1xuICAgIHBvaW50ID0gcG9pbnRzWyhzdGFydCArIChyZXZlcnNlID8gaWxlbiAtIGkgOiBpKSkgJSBjb3VudF07XG4gICAgaWYgKHBvaW50LnNraXApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAobW92ZSkge1xuICAgICAgY3R4Lm1vdmVUbyhwb2ludC54LCBwb2ludC55KTtcbiAgICAgIG1vdmUgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZU1ldGhvZChjdHgsIHByZXYsIHBvaW50LCByZXZlcnNlLCBvcHRpb25zLnN0ZXBwZWQpO1xuICAgIH1cbiAgICBwcmV2ID0gcG9pbnQ7XG4gIH1cbiAgaWYgKGxvb3ApIHtcbiAgICBwb2ludCA9IHBvaW50c1soc3RhcnQgKyAocmV2ZXJzZSA/IGlsZW4gOiAwKSkgJSBjb3VudF07XG4gICAgbGluZU1ldGhvZChjdHgsIHByZXYsIHBvaW50LCByZXZlcnNlLCBvcHRpb25zLnN0ZXBwZWQpO1xuICB9XG4gIHJldHVybiAhIWxvb3A7XG59XG5mdW5jdGlvbiBmYXN0UGF0aFNlZ21lbnQoY3R4LCBsaW5lLCBzZWdtZW50LCBwYXJhbXMpIHtcbiAgY29uc3QgcG9pbnRzID0gbGluZS5wb2ludHM7XG4gIGNvbnN0IHtjb3VudCwgc3RhcnQsIGlsZW59ID0gcGF0aFZhcnMocG9pbnRzLCBzZWdtZW50LCBwYXJhbXMpO1xuICBjb25zdCB7bW92ZSA9IHRydWUsIHJldmVyc2V9ID0gcGFyYW1zIHx8IHt9O1xuICBsZXQgYXZnWCA9IDA7XG4gIGxldCBjb3VudFggPSAwO1xuICBsZXQgaSwgcG9pbnQsIHByZXZYLCBtaW5ZLCBtYXhZLCBsYXN0WTtcbiAgY29uc3QgcG9pbnRJbmRleCA9IChpbmRleCkgPT4gKHN0YXJ0ICsgKHJldmVyc2UgPyBpbGVuIC0gaW5kZXggOiBpbmRleCkpICUgY291bnQ7XG4gIGNvbnN0IGRyYXdYID0gKCkgPT4ge1xuICAgIGlmIChtaW5ZICE9PSBtYXhZKSB7XG4gICAgICBjdHgubGluZVRvKGF2Z1gsIG1heFkpO1xuICAgICAgY3R4LmxpbmVUbyhhdmdYLCBtaW5ZKTtcbiAgICAgIGN0eC5saW5lVG8oYXZnWCwgbGFzdFkpO1xuICAgIH1cbiAgfTtcbiAgaWYgKG1vdmUpIHtcbiAgICBwb2ludCA9IHBvaW50c1twb2ludEluZGV4KDApXTtcbiAgICBjdHgubW92ZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPD0gaWxlbjsgKytpKSB7XG4gICAgcG9pbnQgPSBwb2ludHNbcG9pbnRJbmRleChpKV07XG4gICAgaWYgKHBvaW50LnNraXApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCB4ID0gcG9pbnQueDtcbiAgICBjb25zdCB5ID0gcG9pbnQueTtcbiAgICBjb25zdCB0cnVuY1ggPSB4IHwgMDtcbiAgICBpZiAodHJ1bmNYID09PSBwcmV2WCkge1xuICAgICAgaWYgKHkgPCBtaW5ZKSB7XG4gICAgICAgIG1pblkgPSB5O1xuICAgICAgfSBlbHNlIGlmICh5ID4gbWF4WSkge1xuICAgICAgICBtYXhZID0geTtcbiAgICAgIH1cbiAgICAgIGF2Z1ggPSAoY291bnRYICogYXZnWCArIHgpIC8gKytjb3VudFg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYXdYKCk7XG4gICAgICBjdHgubGluZVRvKHgsIHkpO1xuICAgICAgcHJldlggPSB0cnVuY1g7XG4gICAgICBjb3VudFggPSAwO1xuICAgICAgbWluWSA9IG1heFkgPSB5O1xuICAgIH1cbiAgICBsYXN0WSA9IHk7XG4gIH1cbiAgZHJhd1goKTtcbn1cbmZ1bmN0aW9uIF9nZXRTZWdtZW50TWV0aG9kKGxpbmUpIHtcbiAgY29uc3Qgb3B0cyA9IGxpbmUub3B0aW9ucztcbiAgY29uc3QgYm9yZGVyRGFzaCA9IG9wdHMuYm9yZGVyRGFzaCAmJiBvcHRzLmJvcmRlckRhc2gubGVuZ3RoO1xuICBjb25zdCB1c2VGYXN0UGF0aCA9ICFsaW5lLl9kZWNpbWF0ZWQgJiYgIWxpbmUuX2xvb3AgJiYgIW9wdHMudGVuc2lvbiAmJiBvcHRzLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgIT09ICdtb25vdG9uZScgJiYgIW9wdHMuc3RlcHBlZCAmJiAhYm9yZGVyRGFzaDtcbiAgcmV0dXJuIHVzZUZhc3RQYXRoID8gZmFzdFBhdGhTZWdtZW50IDogcGF0aFNlZ21lbnQ7XG59XG5mdW5jdGlvbiBfZ2V0SW50ZXJwb2xhdGlvbk1ldGhvZChvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLnN0ZXBwZWQpIHtcbiAgICByZXR1cm4gX3N0ZXBwZWRJbnRlcnBvbGF0aW9uO1xuICB9XG4gIGlmIChvcHRpb25zLnRlbnNpb24gfHwgb3B0aW9ucy5jdWJpY0ludGVycG9sYXRpb25Nb2RlID09PSAnbW9ub3RvbmUnKSB7XG4gICAgcmV0dXJuIF9iZXppZXJJbnRlcnBvbGF0aW9uO1xuICB9XG4gIHJldHVybiBfcG9pbnRJbkxpbmU7XG59XG5mdW5jdGlvbiBzdHJva2VQYXRoV2l0aENhY2hlKGN0eCwgbGluZSwgc3RhcnQsIGNvdW50KSB7XG4gIGxldCBwYXRoID0gbGluZS5fcGF0aDtcbiAgaWYgKCFwYXRoKSB7XG4gICAgcGF0aCA9IGxpbmUuX3BhdGggPSBuZXcgUGF0aDJEKCk7XG4gICAgaWYgKGxpbmUucGF0aChwYXRoLCBzdGFydCwgY291bnQpKSB7XG4gICAgICBwYXRoLmNsb3NlUGF0aCgpO1xuICAgIH1cbiAgfVxuICBzZXRTdHlsZShjdHgsIGxpbmUub3B0aW9ucyk7XG4gIGN0eC5zdHJva2UocGF0aCk7XG59XG5mdW5jdGlvbiBzdHJva2VQYXRoRGlyZWN0KGN0eCwgbGluZSwgc3RhcnQsIGNvdW50KSB7XG4gIGNvbnN0IHtzZWdtZW50cywgb3B0aW9uc30gPSBsaW5lO1xuICBjb25zdCBzZWdtZW50TWV0aG9kID0gX2dldFNlZ21lbnRNZXRob2QobGluZSk7XG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgIHNldFN0eWxlKGN0eCwgb3B0aW9ucywgc2VnbWVudC5zdHlsZSk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGlmIChzZWdtZW50TWV0aG9kKGN0eCwgbGluZSwgc2VnbWVudCwge3N0YXJ0LCBlbmQ6IHN0YXJ0ICsgY291bnQgLSAxfSkpIHtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9XG59XG5jb25zdCB1c2VQYXRoMkQgPSB0eXBlb2YgUGF0aDJEID09PSAnZnVuY3Rpb24nO1xuZnVuY3Rpb24gZHJhdyhjdHgsIGxpbmUsIHN0YXJ0LCBjb3VudCkge1xuICBpZiAodXNlUGF0aDJEICYmICFsaW5lLm9wdGlvbnMuc2VnbWVudCkge1xuICAgIHN0cm9rZVBhdGhXaXRoQ2FjaGUoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpO1xuICB9IGVsc2Uge1xuICAgIHN0cm9rZVBhdGhEaXJlY3QoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpO1xuICB9XG59XG5jbGFzcyBMaW5lRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihjZmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9jaGFydCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9sb29wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2Z1bGxMb29wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3BhdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fcG9pbnRzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3NlZ21lbnRzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX2RlY2ltYXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BvaW50c1VwZGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9kYXRhc2V0SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgaWYgKGNmZykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjZmcpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVDb250cm9sUG9pbnRzKGNoYXJ0QXJlYSwgaW5kZXhBeGlzKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoKG9wdGlvbnMudGVuc2lvbiB8fCBvcHRpb25zLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgPT09ICdtb25vdG9uZScpICYmICFvcHRpb25zLnN0ZXBwZWQgJiYgIXRoaXMuX3BvaW50c1VwZGF0ZWQpIHtcbiAgICAgIGNvbnN0IGxvb3AgPSBvcHRpb25zLnNwYW5HYXBzID8gdGhpcy5fbG9vcCA6IHRoaXMuX2Z1bGxMb29wO1xuICAgICAgX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHModGhpcy5fcG9pbnRzLCBvcHRpb25zLCBjaGFydEFyZWEsIGxvb3AsIGluZGV4QXhpcyk7XG4gICAgICB0aGlzLl9wb2ludHNVcGRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgc2V0IHBvaW50cyhwb2ludHMpIHtcbiAgICB0aGlzLl9wb2ludHMgPSBwb2ludHM7XG4gICAgZGVsZXRlIHRoaXMuX3NlZ21lbnRzO1xuICAgIGRlbGV0ZSB0aGlzLl9wYXRoO1xuICAgIHRoaXMuX3BvaW50c1VwZGF0ZWQgPSBmYWxzZTtcbiAgfVxuICBnZXQgcG9pbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9wb2ludHM7XG4gIH1cbiAgZ2V0IHNlZ21lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9zZWdtZW50cyB8fCAodGhpcy5fc2VnbWVudHMgPSBfY29tcHV0ZVNlZ21lbnRzKHRoaXMsIHRoaXMub3B0aW9ucy5zZWdtZW50KSk7XG4gIH1cbiAgZmlyc3QoKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIHJldHVybiBzZWdtZW50cy5sZW5ndGggJiYgcG9pbnRzW3NlZ21lbnRzWzBdLnN0YXJ0XTtcbiAgfVxuICBsYXN0KCkge1xuICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICBjb25zdCBjb3VudCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gY291bnQgJiYgcG9pbnRzW3NlZ21lbnRzW2NvdW50IC0gMV0uZW5kXTtcbiAgfVxuICBpbnRlcnBvbGF0ZShwb2ludCwgcHJvcGVydHkpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHZhbHVlID0gcG9pbnRbcHJvcGVydHldO1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IHNlZ21lbnRzID0gX2JvdW5kU2VnbWVudHModGhpcywge3Byb3BlcnR5LCBzdGFydDogdmFsdWUsIGVuZDogdmFsdWV9KTtcbiAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBfaW50ZXJwb2xhdGUgPSBfZ2V0SW50ZXJwb2xhdGlvbk1ldGhvZChvcHRpb25zKTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBjb25zdCB7c3RhcnQsIGVuZH0gPSBzZWdtZW50c1tpXTtcbiAgICAgIGNvbnN0IHAxID0gcG9pbnRzW3N0YXJ0XTtcbiAgICAgIGNvbnN0IHAyID0gcG9pbnRzW2VuZF07XG4gICAgICBpZiAocDEgPT09IHAyKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHAxKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB0ID0gTWF0aC5hYnMoKHZhbHVlIC0gcDFbcHJvcGVydHldKSAvIChwMltwcm9wZXJ0eV0gLSBwMVtwcm9wZXJ0eV0pKTtcbiAgICAgIGNvbnN0IGludGVycG9sYXRlZCA9IF9pbnRlcnBvbGF0ZShwMSwgcDIsIHQsIG9wdGlvbnMuc3RlcHBlZCk7XG4gICAgICBpbnRlcnBvbGF0ZWRbcHJvcGVydHldID0gcG9pbnRbcHJvcGVydHldO1xuICAgICAgcmVzdWx0LnB1c2goaW50ZXJwb2xhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPT09IDEgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gIH1cbiAgcGF0aFNlZ21lbnQoY3R4LCBzZWdtZW50LCBwYXJhbXMpIHtcbiAgICBjb25zdCBzZWdtZW50TWV0aG9kID0gX2dldFNlZ21lbnRNZXRob2QodGhpcyk7XG4gICAgcmV0dXJuIHNlZ21lbnRNZXRob2QoY3R4LCB0aGlzLCBzZWdtZW50LCBwYXJhbXMpO1xuICB9XG4gIHBhdGgoY3R4LCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgY29uc3Qgc2VnbWVudE1ldGhvZCA9IF9nZXRTZWdtZW50TWV0aG9kKHRoaXMpO1xuICAgIGxldCBsb29wID0gdGhpcy5fbG9vcDtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgY291bnQgPSBjb3VudCB8fCAodGhpcy5wb2ludHMubGVuZ3RoIC0gc3RhcnQpO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgICAgbG9vcCAmPSBzZWdtZW50TWV0aG9kKGN0eCwgdGhpcywgc2VnbWVudCwge3N0YXJ0LCBlbmQ6IHN0YXJ0ICsgY291bnQgLSAxfSk7XG4gICAgfVxuICAgIHJldHVybiAhIWxvb3A7XG4gIH1cbiAgZHJhdyhjdHgsIGNoYXJ0QXJlYSwgc3RhcnQsIGNvdW50KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cyB8fCBbXTtcbiAgICBpZiAocG9pbnRzLmxlbmd0aCAmJiBvcHRpb25zLmJvcmRlcldpZHRoKSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgZHJhdyhjdHgsIHRoaXMsIHN0YXJ0LCBjb3VudCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbmltYXRlZCkge1xuICAgICAgdGhpcy5fcG9pbnRzVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fcGF0aCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cbkxpbmVFbGVtZW50LmlkID0gJ2xpbmUnO1xuTGluZUVsZW1lbnQuZGVmYXVsdHMgPSB7XG4gIGJvcmRlckNhcFN0eWxlOiAnYnV0dCcsXG4gIGJvcmRlckRhc2g6IFtdLFxuICBib3JkZXJEYXNoT2Zmc2V0OiAwLFxuICBib3JkZXJKb2luU3R5bGU6ICdtaXRlcicsXG4gIGJvcmRlcldpZHRoOiAzLFxuICBjYXBCZXppZXJQb2ludHM6IHRydWUsXG4gIGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdkZWZhdWx0JyxcbiAgZmlsbDogZmFsc2UsXG4gIHNwYW5HYXBzOiBmYWxzZSxcbiAgc3RlcHBlZDogZmFsc2UsXG4gIHRlbnNpb246IDAsXG59O1xuTGluZUVsZW1lbnQuZGVmYXVsdFJvdXRlcyA9IHtcbiAgYmFja2dyb3VuZENvbG9yOiAnYmFja2dyb3VuZENvbG9yJyxcbiAgYm9yZGVyQ29sb3I6ICdib3JkZXJDb2xvcidcbn07XG5MaW5lRWxlbWVudC5kZXNjcmlwdG9ycyA9IHtcbiAgX3NjcmlwdGFibGU6IHRydWUsXG4gIF9pbmRleGFibGU6IChuYW1lKSA9PiBuYW1lICE9PSAnYm9yZGVyRGFzaCcgJiYgbmFtZSAhPT0gJ2ZpbGwnLFxufTtcblxuZnVuY3Rpb24gaW5SYW5nZSQxKGVsLCBwb3MsIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IGVsLm9wdGlvbnM7XG4gIGNvbnN0IHtbYXhpc106IHZhbHVlfSA9IGVsLmdldFByb3BzKFtheGlzXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gIHJldHVybiAoTWF0aC5hYnMocG9zIC0gdmFsdWUpIDwgb3B0aW9ucy5yYWRpdXMgKyBvcHRpb25zLmhpdFJhZGl1cyk7XG59XG5jbGFzcyBQb2ludEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY2ZnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wYXJzZWQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5za2lwID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc3RvcCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoY2ZnKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZyk7XG4gICAgfVxuICB9XG4gIGluUmFuZ2UobW91c2VYLCBtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMuZ2V0UHJvcHMoWyd4JywgJ3knXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgcmV0dXJuICgoTWF0aC5wb3cobW91c2VYIC0geCwgMikgKyBNYXRoLnBvdyhtb3VzZVkgLSB5LCAyKSkgPCBNYXRoLnBvdyhvcHRpb25zLmhpdFJhZGl1cyArIG9wdGlvbnMucmFkaXVzLCAyKSk7XG4gIH1cbiAgaW5YUmFuZ2UobW91c2VYLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGluUmFuZ2UkMSh0aGlzLCBtb3VzZVgsICd4JywgdXNlRmluYWxQb3NpdGlvbik7XG4gIH1cbiAgaW5ZUmFuZ2UobW91c2VZLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGluUmFuZ2UkMSh0aGlzLCBtb3VzZVksICd5JywgdXNlRmluYWxQb3NpdGlvbik7XG4gIH1cbiAgZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IHt4LCB5fSA9IHRoaXMuZ2V0UHJvcHMoWyd4JywgJ3knXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgcmV0dXJuIHt4LCB5fTtcbiAgfVxuICBzaXplKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMgfHwge307XG4gICAgbGV0IHJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IDA7XG4gICAgcmFkaXVzID0gTWF0aC5tYXgocmFkaXVzLCByYWRpdXMgJiYgb3B0aW9ucy5ob3ZlclJhZGl1cyB8fCAwKTtcbiAgICBjb25zdCBib3JkZXJXaWR0aCA9IHJhZGl1cyAmJiBvcHRpb25zLmJvcmRlcldpZHRoIHx8IDA7XG4gICAgcmV0dXJuIChyYWRpdXMgKyBib3JkZXJXaWR0aCkgKiAyO1xuICB9XG4gIGRyYXcoY3R4LCBhcmVhKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAodGhpcy5za2lwIHx8IG9wdGlvbnMucmFkaXVzIDwgMC4xIHx8ICFfaXNQb2ludEluQXJlYSh0aGlzLCBhcmVhLCB0aGlzLnNpemUob3B0aW9ucykgLyAyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmJvcmRlckNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSBvcHRpb25zLmJvcmRlcldpZHRoO1xuICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICBkcmF3UG9pbnQoY3R4LCBvcHRpb25zLCB0aGlzLngsIHRoaXMueSk7XG4gIH1cbiAgZ2V0UmFuZ2UoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gb3B0aW9ucy5yYWRpdXMgKyBvcHRpb25zLmhpdFJhZGl1cztcbiAgfVxufVxuUG9pbnRFbGVtZW50LmlkID0gJ3BvaW50JztcblBvaW50RWxlbWVudC5kZWZhdWx0cyA9IHtcbiAgYm9yZGVyV2lkdGg6IDEsXG4gIGhpdFJhZGl1czogMSxcbiAgaG92ZXJCb3JkZXJXaWR0aDogMSxcbiAgaG92ZXJSYWRpdXM6IDQsXG4gIHBvaW50U3R5bGU6ICdjaXJjbGUnLFxuICByYWRpdXM6IDMsXG4gIHJvdGF0aW9uOiAwXG59O1xuUG9pbnRFbGVtZW50LmRlZmF1bHRSb3V0ZXMgPSB7XG4gIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcicsXG4gIGJvcmRlckNvbG9yOiAnYm9yZGVyQ29sb3InXG59O1xuXG5mdW5jdGlvbiBnZXRCYXJCb3VuZHMoYmFyLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gIGNvbnN0IHt4LCB5LCBiYXNlLCB3aWR0aCwgaGVpZ2h0fSA9IGJhci5nZXRQcm9wcyhbJ3gnLCAneScsICdiYXNlJywgJ3dpZHRoJywgJ2hlaWdodCddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgbGV0IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgaGFsZjtcbiAgaWYgKGJhci5ob3Jpem9udGFsKSB7XG4gICAgaGFsZiA9IGhlaWdodCAvIDI7XG4gICAgbGVmdCA9IE1hdGgubWluKHgsIGJhc2UpO1xuICAgIHJpZ2h0ID0gTWF0aC5tYXgoeCwgYmFzZSk7XG4gICAgdG9wID0geSAtIGhhbGY7XG4gICAgYm90dG9tID0geSArIGhhbGY7XG4gIH0gZWxzZSB7XG4gICAgaGFsZiA9IHdpZHRoIC8gMjtcbiAgICBsZWZ0ID0geCAtIGhhbGY7XG4gICAgcmlnaHQgPSB4ICsgaGFsZjtcbiAgICB0b3AgPSBNYXRoLm1pbih5LCBiYXNlKTtcbiAgICBib3R0b20gPSBNYXRoLm1heCh5LCBiYXNlKTtcbiAgfVxuICByZXR1cm4ge2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbX07XG59XG5mdW5jdGlvbiBza2lwT3JMaW1pdChza2lwLCB2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIHNraXAgPyAwIDogX2xpbWl0VmFsdWUodmFsdWUsIG1pbiwgbWF4KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQm9yZGVyV2lkdGgoYmFyLCBtYXhXLCBtYXhIKSB7XG4gIGNvbnN0IHZhbHVlID0gYmFyLm9wdGlvbnMuYm9yZGVyV2lkdGg7XG4gIGNvbnN0IHNraXAgPSBiYXIuYm9yZGVyU2tpcHBlZDtcbiAgY29uc3QgbyA9IHRvVFJCTCh2YWx1ZSk7XG4gIHJldHVybiB7XG4gICAgdDogc2tpcE9yTGltaXQoc2tpcC50b3AsIG8udG9wLCAwLCBtYXhIKSxcbiAgICByOiBza2lwT3JMaW1pdChza2lwLnJpZ2h0LCBvLnJpZ2h0LCAwLCBtYXhXKSxcbiAgICBiOiBza2lwT3JMaW1pdChza2lwLmJvdHRvbSwgby5ib3R0b20sIDAsIG1heEgpLFxuICAgIGw6IHNraXBPckxpbWl0KHNraXAubGVmdCwgby5sZWZ0LCAwLCBtYXhXKVxuICB9O1xufVxuZnVuY3Rpb24gcGFyc2VCb3JkZXJSYWRpdXMoYmFyLCBtYXhXLCBtYXhIKSB7XG4gIGNvbnN0IHtlbmFibGVCb3JkZXJSYWRpdXN9ID0gYmFyLmdldFByb3BzKFsnZW5hYmxlQm9yZGVyUmFkaXVzJ10pO1xuICBjb25zdCB2YWx1ZSA9IGJhci5vcHRpb25zLmJvcmRlclJhZGl1cztcbiAgY29uc3QgbyA9IHRvVFJCTENvcm5lcnModmFsdWUpO1xuICBjb25zdCBtYXhSID0gTWF0aC5taW4obWF4VywgbWF4SCk7XG4gIGNvbnN0IHNraXAgPSBiYXIuYm9yZGVyU2tpcHBlZDtcbiAgY29uc3QgZW5hYmxlQm9yZGVyID0gZW5hYmxlQm9yZGVyUmFkaXVzIHx8IGlzT2JqZWN0KHZhbHVlKTtcbiAgcmV0dXJuIHtcbiAgICB0b3BMZWZ0OiBza2lwT3JMaW1pdCghZW5hYmxlQm9yZGVyIHx8IHNraXAudG9wIHx8IHNraXAubGVmdCwgby50b3BMZWZ0LCAwLCBtYXhSKSxcbiAgICB0b3BSaWdodDogc2tpcE9yTGltaXQoIWVuYWJsZUJvcmRlciB8fCBza2lwLnRvcCB8fCBza2lwLnJpZ2h0LCBvLnRvcFJpZ2h0LCAwLCBtYXhSKSxcbiAgICBib3R0b21MZWZ0OiBza2lwT3JMaW1pdCghZW5hYmxlQm9yZGVyIHx8IHNraXAuYm90dG9tIHx8IHNraXAubGVmdCwgby5ib3R0b21MZWZ0LCAwLCBtYXhSKSxcbiAgICBib3R0b21SaWdodDogc2tpcE9yTGltaXQoIWVuYWJsZUJvcmRlciB8fCBza2lwLmJvdHRvbSB8fCBza2lwLnJpZ2h0LCBvLmJvdHRvbVJpZ2h0LCAwLCBtYXhSKVxuICB9O1xufVxuZnVuY3Rpb24gYm91bmRpbmdSZWN0cyhiYXIpIHtcbiAgY29uc3QgYm91bmRzID0gZ2V0QmFyQm91bmRzKGJhcik7XG4gIGNvbnN0IHdpZHRoID0gYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQ7XG4gIGNvbnN0IGhlaWdodCA9IGJvdW5kcy5ib3R0b20gLSBib3VuZHMudG9wO1xuICBjb25zdCBib3JkZXIgPSBwYXJzZUJvcmRlcldpZHRoKGJhciwgd2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgY29uc3QgcmFkaXVzID0gcGFyc2VCb3JkZXJSYWRpdXMoYmFyLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICByZXR1cm4ge1xuICAgIG91dGVyOiB7XG4gICAgICB4OiBib3VuZHMubGVmdCxcbiAgICAgIHk6IGJvdW5kcy50b3AsXG4gICAgICB3OiB3aWR0aCxcbiAgICAgIGg6IGhlaWdodCxcbiAgICAgIHJhZGl1c1xuICAgIH0sXG4gICAgaW5uZXI6IHtcbiAgICAgIHg6IGJvdW5kcy5sZWZ0ICsgYm9yZGVyLmwsXG4gICAgICB5OiBib3VuZHMudG9wICsgYm9yZGVyLnQsXG4gICAgICB3OiB3aWR0aCAtIGJvcmRlci5sIC0gYm9yZGVyLnIsXG4gICAgICBoOiBoZWlnaHQgLSBib3JkZXIudCAtIGJvcmRlci5iLFxuICAgICAgcmFkaXVzOiB7XG4gICAgICAgIHRvcExlZnQ6IE1hdGgubWF4KDAsIHJhZGl1cy50b3BMZWZ0IC0gTWF0aC5tYXgoYm9yZGVyLnQsIGJvcmRlci5sKSksXG4gICAgICAgIHRvcFJpZ2h0OiBNYXRoLm1heCgwLCByYWRpdXMudG9wUmlnaHQgLSBNYXRoLm1heChib3JkZXIudCwgYm9yZGVyLnIpKSxcbiAgICAgICAgYm90dG9tTGVmdDogTWF0aC5tYXgoMCwgcmFkaXVzLmJvdHRvbUxlZnQgLSBNYXRoLm1heChib3JkZXIuYiwgYm9yZGVyLmwpKSxcbiAgICAgICAgYm90dG9tUmlnaHQ6IE1hdGgubWF4KDAsIHJhZGl1cy5ib3R0b21SaWdodCAtIE1hdGgubWF4KGJvcmRlci5iLCBib3JkZXIucikpLFxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGluUmFuZ2UoYmFyLCB4LCB5LCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gIGNvbnN0IHNraXBYID0geCA9PT0gbnVsbDtcbiAgY29uc3Qgc2tpcFkgPSB5ID09PSBudWxsO1xuICBjb25zdCBza2lwQm90aCA9IHNraXBYICYmIHNraXBZO1xuICBjb25zdCBib3VuZHMgPSBiYXIgJiYgIXNraXBCb3RoICYmIGdldEJhckJvdW5kcyhiYXIsIHVzZUZpbmFsUG9zaXRpb24pO1xuICByZXR1cm4gYm91bmRzXG5cdFx0JiYgKHNraXBYIHx8IF9pc0JldHdlZW4oeCwgYm91bmRzLmxlZnQsIGJvdW5kcy5yaWdodCkpXG5cdFx0JiYgKHNraXBZIHx8IF9pc0JldHdlZW4oeSwgYm91bmRzLnRvcCwgYm91bmRzLmJvdHRvbSkpO1xufVxuZnVuY3Rpb24gaGFzUmFkaXVzKHJhZGl1cykge1xuICByZXR1cm4gcmFkaXVzLnRvcExlZnQgfHwgcmFkaXVzLnRvcFJpZ2h0IHx8IHJhZGl1cy5ib3R0b21MZWZ0IHx8IHJhZGl1cy5ib3R0b21SaWdodDtcbn1cbmZ1bmN0aW9uIGFkZE5vcm1hbFJlY3RQYXRoKGN0eCwgcmVjdCkge1xuICBjdHgucmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53LCByZWN0LmgpO1xufVxuZnVuY3Rpb24gaW5mbGF0ZVJlY3QocmVjdCwgYW1vdW50LCByZWZSZWN0ID0ge30pIHtcbiAgY29uc3QgeCA9IHJlY3QueCAhPT0gcmVmUmVjdC54ID8gLWFtb3VudCA6IDA7XG4gIGNvbnN0IHkgPSByZWN0LnkgIT09IHJlZlJlY3QueSA/IC1hbW91bnQgOiAwO1xuICBjb25zdCB3ID0gKHJlY3QueCArIHJlY3QudyAhPT0gcmVmUmVjdC54ICsgcmVmUmVjdC53ID8gYW1vdW50IDogMCkgLSB4O1xuICBjb25zdCBoID0gKHJlY3QueSArIHJlY3QuaCAhPT0gcmVmUmVjdC55ICsgcmVmUmVjdC5oID8gYW1vdW50IDogMCkgLSB5O1xuICByZXR1cm4ge1xuICAgIHg6IHJlY3QueCArIHgsXG4gICAgeTogcmVjdC55ICsgeSxcbiAgICB3OiByZWN0LncgKyB3LFxuICAgIGg6IHJlY3QuaCArIGgsXG4gICAgcmFkaXVzOiByZWN0LnJhZGl1c1xuICB9O1xufVxuY2xhc3MgQmFyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcihjZmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhvcml6b250YWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5iYXNlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5oZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5pbmZsYXRlQW1vdW50ID0gdW5kZWZpbmVkO1xuICAgIGlmIChjZmcpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY2ZnKTtcbiAgICB9XG4gIH1cbiAgZHJhdyhjdHgpIHtcbiAgICBjb25zdCB7aW5mbGF0ZUFtb3VudCwgb3B0aW9uczoge2JvcmRlckNvbG9yLCBiYWNrZ3JvdW5kQ29sb3J9fSA9IHRoaXM7XG4gICAgY29uc3Qge2lubmVyLCBvdXRlcn0gPSBib3VuZGluZ1JlY3RzKHRoaXMpO1xuICAgIGNvbnN0IGFkZFJlY3RQYXRoID0gaGFzUmFkaXVzKG91dGVyLnJhZGl1cykgPyBhZGRSb3VuZGVkUmVjdFBhdGggOiBhZGROb3JtYWxSZWN0UGF0aDtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGlmIChvdXRlci53ICE9PSBpbm5lci53IHx8IG91dGVyLmggIT09IGlubmVyLmgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGFkZFJlY3RQYXRoKGN0eCwgaW5mbGF0ZVJlY3Qob3V0ZXIsIGluZmxhdGVBbW91bnQsIGlubmVyKSk7XG4gICAgICBjdHguY2xpcCgpO1xuICAgICAgYWRkUmVjdFBhdGgoY3R4LCBpbmZsYXRlUmVjdChpbm5lciwgLWluZmxhdGVBbW91bnQsIG91dGVyKSk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYm9yZGVyQ29sb3I7XG4gICAgICBjdHguZmlsbCgnZXZlbm9kZCcpO1xuICAgIH1cbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgYWRkUmVjdFBhdGgoY3R4LCBpbmZsYXRlUmVjdChpbm5lciwgaW5mbGF0ZUFtb3VudCkpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgY3R4LmZpbGwoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG4gIGluUmFuZ2UobW91c2VYLCBtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5SYW5nZSh0aGlzLCBtb3VzZVgsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbik7XG4gIH1cbiAgaW5YUmFuZ2UobW91c2VYLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIGluUmFuZ2UodGhpcywgbW91c2VYLCBudWxsLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgfVxuICBpbllSYW5nZShtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5SYW5nZSh0aGlzLCBudWxsLCBtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pO1xuICB9XG4gIGdldENlbnRlclBvaW50KHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCB7eCwgeSwgYmFzZSwgaG9yaXpvbnRhbH0gPSB0aGlzLmdldFByb3BzKFsneCcsICd5JywgJ2Jhc2UnLCAnaG9yaXpvbnRhbCddLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogaG9yaXpvbnRhbCA/ICh4ICsgYmFzZSkgLyAyIDogeCxcbiAgICAgIHk6IGhvcml6b250YWwgPyB5IDogKHkgKyBiYXNlKSAvIDJcbiAgICB9O1xuICB9XG4gIGdldFJhbmdlKGF4aXMpIHtcbiAgICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gdGhpcy53aWR0aCAvIDIgOiB0aGlzLmhlaWdodCAvIDI7XG4gIH1cbn1cbkJhckVsZW1lbnQuaWQgPSAnYmFyJztcbkJhckVsZW1lbnQuZGVmYXVsdHMgPSB7XG4gIGJvcmRlclNraXBwZWQ6ICdzdGFydCcsXG4gIGJvcmRlcldpZHRoOiAwLFxuICBib3JkZXJSYWRpdXM6IDAsXG4gIGluZmxhdGVBbW91bnQ6ICdhdXRvJyxcbiAgcG9pbnRTdHlsZTogdW5kZWZpbmVkXG59O1xuQmFyRWxlbWVudC5kZWZhdWx0Um91dGVzID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6ICdiYWNrZ3JvdW5kQ29sb3InLFxuICBib3JkZXJDb2xvcjogJ2JvcmRlckNvbG9yJ1xufTtcblxudmFyIGVsZW1lbnRzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuX19wcm90b19fOiBudWxsLFxuQXJjRWxlbWVudDogQXJjRWxlbWVudCxcbkxpbmVFbGVtZW50OiBMaW5lRWxlbWVudCxcblBvaW50RWxlbWVudDogUG9pbnRFbGVtZW50LFxuQmFyRWxlbWVudDogQmFyRWxlbWVudFxufSk7XG5cbmZ1bmN0aW9uIGx0dGJEZWNpbWF0aW9uKGRhdGEsIHN0YXJ0LCBjb3VudCwgYXZhaWxhYmxlV2lkdGgsIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2FtcGxlcyA9IG9wdGlvbnMuc2FtcGxlcyB8fCBhdmFpbGFibGVXaWR0aDtcbiAgaWYgKHNhbXBsZXMgPj0gY291bnQpIHtcbiAgICByZXR1cm4gZGF0YS5zbGljZShzdGFydCwgc3RhcnQgKyBjb3VudCk7XG4gIH1cbiAgY29uc3QgZGVjaW1hdGVkID0gW107XG4gIGNvbnN0IGJ1Y2tldFdpZHRoID0gKGNvdW50IC0gMikgLyAoc2FtcGxlcyAtIDIpO1xuICBsZXQgc2FtcGxlZEluZGV4ID0gMDtcbiAgY29uc3QgZW5kSW5kZXggPSBzdGFydCArIGNvdW50IC0gMTtcbiAgbGV0IGEgPSBzdGFydDtcbiAgbGV0IGksIG1heEFyZWFQb2ludCwgbWF4QXJlYSwgYXJlYSwgbmV4dEE7XG4gIGRlY2ltYXRlZFtzYW1wbGVkSW5kZXgrK10gPSBkYXRhW2FdO1xuICBmb3IgKGkgPSAwOyBpIDwgc2FtcGxlcyAtIDI7IGkrKykge1xuICAgIGxldCBhdmdYID0gMDtcbiAgICBsZXQgYXZnWSA9IDA7XG4gICAgbGV0IGo7XG4gICAgY29uc3QgYXZnUmFuZ2VTdGFydCA9IE1hdGguZmxvb3IoKGkgKyAxKSAqIGJ1Y2tldFdpZHRoKSArIDEgKyBzdGFydDtcbiAgICBjb25zdCBhdmdSYW5nZUVuZCA9IE1hdGgubWluKE1hdGguZmxvb3IoKGkgKyAyKSAqIGJ1Y2tldFdpZHRoKSArIDEsIGNvdW50KSArIHN0YXJ0O1xuICAgIGNvbnN0IGF2Z1JhbmdlTGVuZ3RoID0gYXZnUmFuZ2VFbmQgLSBhdmdSYW5nZVN0YXJ0O1xuICAgIGZvciAoaiA9IGF2Z1JhbmdlU3RhcnQ7IGogPCBhdmdSYW5nZUVuZDsgaisrKSB7XG4gICAgICBhdmdYICs9IGRhdGFbal0ueDtcbiAgICAgIGF2Z1kgKz0gZGF0YVtqXS55O1xuICAgIH1cbiAgICBhdmdYIC89IGF2Z1JhbmdlTGVuZ3RoO1xuICAgIGF2Z1kgLz0gYXZnUmFuZ2VMZW5ndGg7XG4gICAgY29uc3QgcmFuZ2VPZmZzID0gTWF0aC5mbG9vcihpICogYnVja2V0V2lkdGgpICsgMSArIHN0YXJ0O1xuICAgIGNvbnN0IHJhbmdlVG8gPSBNYXRoLm1pbihNYXRoLmZsb29yKChpICsgMSkgKiBidWNrZXRXaWR0aCkgKyAxLCBjb3VudCkgKyBzdGFydDtcbiAgICBjb25zdCB7eDogcG9pbnRBeCwgeTogcG9pbnRBeX0gPSBkYXRhW2FdO1xuICAgIG1heEFyZWEgPSBhcmVhID0gLTE7XG4gICAgZm9yIChqID0gcmFuZ2VPZmZzOyBqIDwgcmFuZ2VUbzsgaisrKSB7XG4gICAgICBhcmVhID0gMC41ICogTWF0aC5hYnMoXG4gICAgICAgIChwb2ludEF4IC0gYXZnWCkgKiAoZGF0YVtqXS55IC0gcG9pbnRBeSkgLVxuICAgICAgICAocG9pbnRBeCAtIGRhdGFbal0ueCkgKiAoYXZnWSAtIHBvaW50QXkpXG4gICAgICApO1xuICAgICAgaWYgKGFyZWEgPiBtYXhBcmVhKSB7XG4gICAgICAgIG1heEFyZWEgPSBhcmVhO1xuICAgICAgICBtYXhBcmVhUG9pbnQgPSBkYXRhW2pdO1xuICAgICAgICBuZXh0QSA9IGo7XG4gICAgICB9XG4gICAgfVxuICAgIGRlY2ltYXRlZFtzYW1wbGVkSW5kZXgrK10gPSBtYXhBcmVhUG9pbnQ7XG4gICAgYSA9IG5leHRBO1xuICB9XG4gIGRlY2ltYXRlZFtzYW1wbGVkSW5kZXgrK10gPSBkYXRhW2VuZEluZGV4XTtcbiAgcmV0dXJuIGRlY2ltYXRlZDtcbn1cbmZ1bmN0aW9uIG1pbk1heERlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCkge1xuICBsZXQgYXZnWCA9IDA7XG4gIGxldCBjb3VudFggPSAwO1xuICBsZXQgaSwgcG9pbnQsIHgsIHksIHByZXZYLCBtaW5JbmRleCwgbWF4SW5kZXgsIHN0YXJ0SW5kZXgsIG1pblksIG1heFk7XG4gIGNvbnN0IGRlY2ltYXRlZCA9IFtdO1xuICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0ICsgY291bnQgLSAxO1xuICBjb25zdCB4TWluID0gZGF0YVtzdGFydF0ueDtcbiAgY29uc3QgeE1heCA9IGRhdGFbZW5kSW5kZXhdLng7XG4gIGNvbnN0IGR4ID0geE1heCAtIHhNaW47XG4gIGZvciAoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKSB7XG4gICAgcG9pbnQgPSBkYXRhW2ldO1xuICAgIHggPSAocG9pbnQueCAtIHhNaW4pIC8gZHggKiBhdmFpbGFibGVXaWR0aDtcbiAgICB5ID0gcG9pbnQueTtcbiAgICBjb25zdCB0cnVuY1ggPSB4IHwgMDtcbiAgICBpZiAodHJ1bmNYID09PSBwcmV2WCkge1xuICAgICAgaWYgKHkgPCBtaW5ZKSB7XG4gICAgICAgIG1pblkgPSB5O1xuICAgICAgICBtaW5JbmRleCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgIG1heFkgPSB5O1xuICAgICAgICBtYXhJbmRleCA9IGk7XG4gICAgICB9XG4gICAgICBhdmdYID0gKGNvdW50WCAqIGF2Z1ggKyBwb2ludC54KSAvICsrY291bnRYO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsYXN0SW5kZXggPSBpIC0gMTtcbiAgICAgIGlmICghaXNOdWxsT3JVbmRlZihtaW5JbmRleCkgJiYgIWlzTnVsbE9yVW5kZWYobWF4SW5kZXgpKSB7XG4gICAgICAgIGNvbnN0IGludGVybWVkaWF0ZUluZGV4MSA9IE1hdGgubWluKG1pbkluZGV4LCBtYXhJbmRleCk7XG4gICAgICAgIGNvbnN0IGludGVybWVkaWF0ZUluZGV4MiA9IE1hdGgubWF4KG1pbkluZGV4LCBtYXhJbmRleCk7XG4gICAgICAgIGlmIChpbnRlcm1lZGlhdGVJbmRleDEgIT09IHN0YXJ0SW5kZXggJiYgaW50ZXJtZWRpYXRlSW5kZXgxICE9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBkZWNpbWF0ZWQucHVzaCh7XG4gICAgICAgICAgICAuLi5kYXRhW2ludGVybWVkaWF0ZUluZGV4MV0sXG4gICAgICAgICAgICB4OiBhdmdYLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcm1lZGlhdGVJbmRleDIgIT09IHN0YXJ0SW5kZXggJiYgaW50ZXJtZWRpYXRlSW5kZXgyICE9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBkZWNpbWF0ZWQucHVzaCh7XG4gICAgICAgICAgICAuLi5kYXRhW2ludGVybWVkaWF0ZUluZGV4Ml0sXG4gICAgICAgICAgICB4OiBhdmdYXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpID4gMCAmJiBsYXN0SW5kZXggIT09IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgZGVjaW1hdGVkLnB1c2goZGF0YVtsYXN0SW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIGRlY2ltYXRlZC5wdXNoKHBvaW50KTtcbiAgICAgIHByZXZYID0gdHJ1bmNYO1xuICAgICAgY291bnRYID0gMDtcbiAgICAgIG1pblkgPSBtYXhZID0geTtcbiAgICAgIG1pbkluZGV4ID0gbWF4SW5kZXggPSBzdGFydEluZGV4ID0gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlY2ltYXRlZDtcbn1cbmZ1bmN0aW9uIGNsZWFuRGVjaW1hdGVkRGF0YXNldChkYXRhc2V0KSB7XG4gIGlmIChkYXRhc2V0Ll9kZWNpbWF0ZWQpIHtcbiAgICBjb25zdCBkYXRhID0gZGF0YXNldC5fZGF0YTtcbiAgICBkZWxldGUgZGF0YXNldC5fZGVjaW1hdGVkO1xuICAgIGRlbGV0ZSBkYXRhc2V0Ll9kYXRhO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhc2V0LCAnZGF0YScsIHt2YWx1ZTogZGF0YX0pO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbkRlY2ltYXRlZERhdGEoY2hhcnQpIHtcbiAgY2hhcnQuZGF0YS5kYXRhc2V0cy5mb3JFYWNoKChkYXRhc2V0KSA9PiB7XG4gICAgY2xlYW5EZWNpbWF0ZWREYXRhc2V0KGRhdGFzZXQpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHNTaW1wbGlmaWVkKG1ldGEsIHBvaW50cykge1xuICBjb25zdCBwb2ludENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgbGV0IGNvdW50O1xuICBjb25zdCB7aVNjYWxlfSA9IG1ldGE7XG4gIGNvbnN0IHttaW4sIG1heCwgbWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSBpU2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICBpZiAobWluRGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gX2xpbWl0VmFsdWUoX2xvb2t1cEJ5S2V5KHBvaW50cywgaVNjYWxlLmF4aXMsIG1pbikubG8sIDAsIHBvaW50Q291bnQgLSAxKTtcbiAgfVxuICBpZiAobWF4RGVmaW5lZCkge1xuICAgIGNvdW50ID0gX2xpbWl0VmFsdWUoX2xvb2t1cEJ5S2V5KHBvaW50cywgaVNjYWxlLmF4aXMsIG1heCkuaGkgKyAxLCBzdGFydCwgcG9pbnRDb3VudCkgLSBzdGFydDtcbiAgfSBlbHNlIHtcbiAgICBjb3VudCA9IHBvaW50Q291bnQgLSBzdGFydDtcbiAgfVxuICByZXR1cm4ge3N0YXJ0LCBjb3VudH07XG59XG52YXIgcGx1Z2luX2RlY2ltYXRpb24gPSB7XG4gIGlkOiAnZGVjaW1hdGlvbicsXG4gIGRlZmF1bHRzOiB7XG4gICAgYWxnb3JpdGhtOiAnbWluLW1heCcsXG4gICAgZW5hYmxlZDogZmFsc2UsXG4gIH0sXG4gIGJlZm9yZUVsZW1lbnRzVXBkYXRlOiAoY2hhcnQsIGFyZ3MsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAoIW9wdGlvbnMuZW5hYmxlZCkge1xuICAgICAgY2xlYW5EZWNpbWF0ZWREYXRhKGNoYXJ0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBjaGFydC53aWR0aDtcbiAgICBjaGFydC5kYXRhLmRhdGFzZXRzLmZvckVhY2goKGRhdGFzZXQsIGRhdGFzZXRJbmRleCkgPT4ge1xuICAgICAgY29uc3Qge19kYXRhLCBpbmRleEF4aXN9ID0gZGF0YXNldDtcbiAgICAgIGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgY29uc3QgZGF0YSA9IF9kYXRhIHx8IGRhdGFzZXQuZGF0YTtcbiAgICAgIGlmIChyZXNvbHZlKFtpbmRleEF4aXMsIGNoYXJ0Lm9wdGlvbnMuaW5kZXhBeGlzXSkgPT09ICd5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIW1ldGEuY29udHJvbGxlci5zdXBwb3J0c0RlY2ltYXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeEF4aXMgPSBjaGFydC5zY2FsZXNbbWV0YS54QXhpc0lEXTtcbiAgICAgIGlmICh4QXhpcy50eXBlICE9PSAnbGluZWFyJyAmJiB4QXhpcy50eXBlICE9PSAndGltZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucGFyc2luZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQge3N0YXJ0LCBjb3VudH0gPSBnZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzU2ltcGxpZmllZChtZXRhLCBkYXRhKTtcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkIHx8IDQgKiBhdmFpbGFibGVXaWR0aDtcbiAgICAgIGlmIChjb3VudCA8PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgY2xlYW5EZWNpbWF0ZWREYXRhc2V0KGRhdGFzZXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNOdWxsT3JVbmRlZihfZGF0YSkpIHtcbiAgICAgICAgZGF0YXNldC5fZGF0YSA9IGRhdGE7XG4gICAgICAgIGRlbGV0ZSBkYXRhc2V0LmRhdGE7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhc2V0LCAnZGF0YScsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlY2ltYXRlZDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGxldCBkZWNpbWF0ZWQ7XG4gICAgICBzd2l0Y2ggKG9wdGlvbnMuYWxnb3JpdGhtKSB7XG4gICAgICBjYXNlICdsdHRiJzpcbiAgICAgICAgZGVjaW1hdGVkID0gbHR0YkRlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCwgb3B0aW9ucyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWluLW1heCc6XG4gICAgICAgIGRlY2ltYXRlZCA9IG1pbk1heERlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkZWNpbWF0aW9uIGFsZ29yaXRobSAnJHtvcHRpb25zLmFsZ29yaXRobX0nYCk7XG4gICAgICB9XG4gICAgICBkYXRhc2V0Ll9kZWNpbWF0ZWQgPSBkZWNpbWF0ZWQ7XG4gICAgfSk7XG4gIH0sXG4gIGRlc3Ryb3koY2hhcnQpIHtcbiAgICBjbGVhbkRlY2ltYXRlZERhdGEoY2hhcnQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfc2VnbWVudHMobGluZSwgdGFyZ2V0LCBwcm9wZXJ0eSkge1xuICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gIGNvbnN0IHBvaW50cyA9IGxpbmUucG9pbnRzO1xuICBjb25zdCB0cG9pbnRzID0gdGFyZ2V0LnBvaW50cztcbiAgY29uc3QgcGFydHMgPSBbXTtcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgbGV0IHtzdGFydCwgZW5kfSA9IHNlZ21lbnQ7XG4gICAgZW5kID0gX2ZpbmRTZWdtZW50RW5kKHN0YXJ0LCBlbmQsIHBvaW50cyk7XG4gICAgY29uc3QgYm91bmRzID0gX2dldEJvdW5kcyhwcm9wZXJ0eSwgcG9pbnRzW3N0YXJ0XSwgcG9pbnRzW2VuZF0sIHNlZ21lbnQubG9vcCk7XG4gICAgaWYgKCF0YXJnZXQuc2VnbWVudHMpIHtcbiAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICBzb3VyY2U6IHNlZ21lbnQsXG4gICAgICAgIHRhcmdldDogYm91bmRzLFxuICAgICAgICBzdGFydDogcG9pbnRzW3N0YXJ0XSxcbiAgICAgICAgZW5kOiBwb2ludHNbZW5kXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0U2VnbWVudHMgPSBfYm91bmRTZWdtZW50cyh0YXJnZXQsIGJvdW5kcyk7XG4gICAgZm9yIChjb25zdCB0Z3Qgb2YgdGFyZ2V0U2VnbWVudHMpIHtcbiAgICAgIGNvbnN0IHN1YkJvdW5kcyA9IF9nZXRCb3VuZHMocHJvcGVydHksIHRwb2ludHNbdGd0LnN0YXJ0XSwgdHBvaW50c1t0Z3QuZW5kXSwgdGd0Lmxvb3ApO1xuICAgICAgY29uc3QgZmlsbFNvdXJjZXMgPSBfYm91bmRTZWdtZW50KHNlZ21lbnQsIHBvaW50cywgc3ViQm91bmRzKTtcbiAgICAgIGZvciAoY29uc3QgZmlsbFNvdXJjZSBvZiBmaWxsU291cmNlcykge1xuICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICBzb3VyY2U6IGZpbGxTb3VyY2UsXG4gICAgICAgICAgdGFyZ2V0OiB0Z3QsXG4gICAgICAgICAgc3RhcnQ6IHtcbiAgICAgICAgICAgIFtwcm9wZXJ0eV06IF9nZXRFZGdlKGJvdW5kcywgc3ViQm91bmRzLCAnc3RhcnQnLCBNYXRoLm1heClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVuZDoge1xuICAgICAgICAgICAgW3Byb3BlcnR5XTogX2dldEVkZ2UoYm91bmRzLCBzdWJCb3VuZHMsICdlbmQnLCBNYXRoLm1pbilcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5mdW5jdGlvbiBfZ2V0Qm91bmRzKHByb3BlcnR5LCBmaXJzdCwgbGFzdCwgbG9vcCkge1xuICBpZiAobG9vcCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc3RhcnQgPSBmaXJzdFtwcm9wZXJ0eV07XG4gIGxldCBlbmQgPSBsYXN0W3Byb3BlcnR5XTtcbiAgaWYgKHByb3BlcnR5ID09PSAnYW5nbGUnKSB7XG4gICAgc3RhcnQgPSBfbm9ybWFsaXplQW5nbGUoc3RhcnQpO1xuICAgIGVuZCA9IF9ub3JtYWxpemVBbmdsZShlbmQpO1xuICB9XG4gIHJldHVybiB7cHJvcGVydHksIHN0YXJ0LCBlbmR9O1xufVxuZnVuY3Rpb24gX3BvaW50c0Zyb21TZWdtZW50cyhib3VuZGFyeSwgbGluZSkge1xuICBjb25zdCB7eCA9IG51bGwsIHkgPSBudWxsfSA9IGJvdW5kYXJ5IHx8IHt9O1xuICBjb25zdCBsaW5lUG9pbnRzID0gbGluZS5wb2ludHM7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBsaW5lLnNlZ21lbnRzLmZvckVhY2goKHtzdGFydCwgZW5kfSkgPT4ge1xuICAgIGVuZCA9IF9maW5kU2VnbWVudEVuZChzdGFydCwgZW5kLCBsaW5lUG9pbnRzKTtcbiAgICBjb25zdCBmaXJzdCA9IGxpbmVQb2ludHNbc3RhcnRdO1xuICAgIGNvbnN0IGxhc3QgPSBsaW5lUG9pbnRzW2VuZF07XG4gICAgaWYgKHkgIT09IG51bGwpIHtcbiAgICAgIHBvaW50cy5wdXNoKHt4OiBmaXJzdC54LCB5fSk7XG4gICAgICBwb2ludHMucHVzaCh7eDogbGFzdC54LCB5fSk7XG4gICAgfSBlbHNlIGlmICh4ICE9PSBudWxsKSB7XG4gICAgICBwb2ludHMucHVzaCh7eCwgeTogZmlyc3QueX0pO1xuICAgICAgcG9pbnRzLnB1c2goe3gsIHk6IGxhc3QueX0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBwb2ludHM7XG59XG5mdW5jdGlvbiBfZmluZFNlZ21lbnRFbmQoc3RhcnQsIGVuZCwgcG9pbnRzKSB7XG4gIGZvciAoO2VuZCA+IHN0YXJ0OyBlbmQtLSkge1xuICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2VuZF07XG4gICAgaWYgKCFpc05hTihwb2ludC54KSAmJiAhaXNOYU4ocG9pbnQueSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZW5kO1xufVxuZnVuY3Rpb24gX2dldEVkZ2UoYSwgYiwgcHJvcCwgZm4pIHtcbiAgaWYgKGEgJiYgYikge1xuICAgIHJldHVybiBmbihhW3Byb3BdLCBiW3Byb3BdKTtcbiAgfVxuICByZXR1cm4gYSA/IGFbcHJvcF0gOiBiID8gYltwcm9wXSA6IDA7XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVCb3VuZGFyeUxpbmUoYm91bmRhcnksIGxpbmUpIHtcbiAgbGV0IHBvaW50cyA9IFtdO1xuICBsZXQgX2xvb3AgPSBmYWxzZTtcbiAgaWYgKGlzQXJyYXkoYm91bmRhcnkpKSB7XG4gICAgX2xvb3AgPSB0cnVlO1xuICAgIHBvaW50cyA9IGJvdW5kYXJ5O1xuICB9IGVsc2Uge1xuICAgIHBvaW50cyA9IF9wb2ludHNGcm9tU2VnbWVudHMoYm91bmRhcnksIGxpbmUpO1xuICB9XG4gIHJldHVybiBwb2ludHMubGVuZ3RoID8gbmV3IExpbmVFbGVtZW50KHtcbiAgICBwb2ludHMsXG4gICAgb3B0aW9uczoge3RlbnNpb246IDB9LFxuICAgIF9sb29wLFxuICAgIF9mdWxsTG9vcDogX2xvb3BcbiAgfSkgOiBudWxsO1xufVxuZnVuY3Rpb24gX3Nob3VsZEFwcGx5RmlsbChzb3VyY2UpIHtcbiAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2UuZmlsbCAhPT0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIF9yZXNvbHZlVGFyZ2V0KHNvdXJjZXMsIGluZGV4LCBwcm9wYWdhdGUpIHtcbiAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gIGxldCBmaWxsID0gc291cmNlLmZpbGw7XG4gIGNvbnN0IHZpc2l0ZWQgPSBbaW5kZXhdO1xuICBsZXQgdGFyZ2V0O1xuICBpZiAoIXByb3BhZ2F0ZSkge1xuICAgIHJldHVybiBmaWxsO1xuICB9XG4gIHdoaWxlIChmaWxsICE9PSBmYWxzZSAmJiB2aXNpdGVkLmluZGV4T2YoZmlsbCkgPT09IC0xKSB7XG4gICAgaWYgKCFpc051bWJlckZpbml0ZShmaWxsKSkge1xuICAgICAgcmV0dXJuIGZpbGw7XG4gICAgfVxuICAgIHRhcmdldCA9IHNvdXJjZXNbZmlsbF07XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRhcmdldC52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gZmlsbDtcbiAgICB9XG4gICAgdmlzaXRlZC5wdXNoKGZpbGwpO1xuICAgIGZpbGwgPSB0YXJnZXQuZmlsbDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBfZGVjb2RlRmlsbChsaW5lLCBpbmRleCwgY291bnQpIHtcbiAgY29uc3QgZmlsbCA9IHBhcnNlRmlsbE9wdGlvbihsaW5lKTtcbiAgaWYgKGlzT2JqZWN0KGZpbGwpKSB7XG4gICAgcmV0dXJuIGlzTmFOKGZpbGwudmFsdWUpID8gZmFsc2UgOiBmaWxsO1xuICB9XG4gIGxldCB0YXJnZXQgPSBwYXJzZUZsb2F0KGZpbGwpO1xuICBpZiAoaXNOdW1iZXJGaW5pdGUodGFyZ2V0KSAmJiBNYXRoLmZsb29yKHRhcmdldCkgPT09IHRhcmdldCkge1xuICAgIHJldHVybiBkZWNvZGVUYXJnZXRJbmRleChmaWxsWzBdLCBpbmRleCwgdGFyZ2V0LCBjb3VudCk7XG4gIH1cbiAgcmV0dXJuIFsnb3JpZ2luJywgJ3N0YXJ0JywgJ2VuZCcsICdzdGFjaycsICdzaGFwZSddLmluZGV4T2YoZmlsbCkgPj0gMCAmJiBmaWxsO1xufVxuZnVuY3Rpb24gZGVjb2RlVGFyZ2V0SW5kZXgoZmlyc3RDaCwgaW5kZXgsIHRhcmdldCwgY291bnQpIHtcbiAgaWYgKGZpcnN0Q2ggPT09ICctJyB8fCBmaXJzdENoID09PSAnKycpIHtcbiAgICB0YXJnZXQgPSBpbmRleCArIHRhcmdldDtcbiAgfVxuICBpZiAodGFyZ2V0ID09PSBpbmRleCB8fCB0YXJnZXQgPCAwIHx8IHRhcmdldCA+PSBjb3VudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gX2dldFRhcmdldFBpeGVsKGZpbGwsIHNjYWxlKSB7XG4gIGxldCBwaXhlbCA9IG51bGw7XG4gIGlmIChmaWxsID09PSAnc3RhcnQnKSB7XG4gICAgcGl4ZWwgPSBzY2FsZS5ib3R0b207XG4gIH0gZWxzZSBpZiAoZmlsbCA9PT0gJ2VuZCcpIHtcbiAgICBwaXhlbCA9IHNjYWxlLnRvcDtcbiAgfSBlbHNlIGlmIChpc09iamVjdChmaWxsKSkge1xuICAgIHBpeGVsID0gc2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShmaWxsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChzY2FsZS5nZXRCYXNlUGl4ZWwpIHtcbiAgICBwaXhlbCA9IHNjYWxlLmdldEJhc2VQaXhlbCgpO1xuICB9XG4gIHJldHVybiBwaXhlbDtcbn1cbmZ1bmN0aW9uIF9nZXRUYXJnZXRWYWx1ZShmaWxsLCBzY2FsZSwgc3RhcnRWYWx1ZSkge1xuICBsZXQgdmFsdWU7XG4gIGlmIChmaWxsID09PSAnc3RhcnQnKSB7XG4gICAgdmFsdWUgPSBzdGFydFZhbHVlO1xuICB9IGVsc2UgaWYgKGZpbGwgPT09ICdlbmQnKSB7XG4gICAgdmFsdWUgPSBzY2FsZS5vcHRpb25zLnJldmVyc2UgPyBzY2FsZS5taW4gOiBzY2FsZS5tYXg7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZmlsbCkpIHtcbiAgICB2YWx1ZSA9IGZpbGwudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBzY2FsZS5nZXRCYXNlVmFsdWUoKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBwYXJzZUZpbGxPcHRpb24obGluZSkge1xuICBjb25zdCBvcHRpb25zID0gbGluZS5vcHRpb25zO1xuICBjb25zdCBmaWxsT3B0aW9uID0gb3B0aW9ucy5maWxsO1xuICBsZXQgZmlsbCA9IHZhbHVlT3JEZWZhdWx0KGZpbGxPcHRpb24gJiYgZmlsbE9wdGlvbi50YXJnZXQsIGZpbGxPcHRpb24pO1xuICBpZiAoZmlsbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZmlsbCA9ICEhb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I7XG4gIH1cbiAgaWYgKGZpbGwgPT09IGZhbHNlIHx8IGZpbGwgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGZpbGwgPT09IHRydWUpIHtcbiAgICByZXR1cm4gJ29yaWdpbic7XG4gIH1cbiAgcmV0dXJuIGZpbGw7XG59XG5cbmZ1bmN0aW9uIF9idWlsZFN0YWNrTGluZShzb3VyY2UpIHtcbiAgY29uc3Qge3NjYWxlLCBpbmRleCwgbGluZX0gPSBzb3VyY2U7XG4gIGNvbnN0IHBvaW50cyA9IFtdO1xuICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gIGNvbnN0IHNvdXJjZVBvaW50cyA9IGxpbmUucG9pbnRzO1xuICBjb25zdCBsaW5lc0JlbG93ID0gZ2V0TGluZXNCZWxvdyhzY2FsZSwgaW5kZXgpO1xuICBsaW5lc0JlbG93LnB1c2goX2NyZWF0ZUJvdW5kYXJ5TGluZSh7eDogbnVsbCwgeTogc2NhbGUuYm90dG9tfSwgbGluZSkpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2ldO1xuICAgIGZvciAobGV0IGogPSBzZWdtZW50LnN0YXJ0OyBqIDw9IHNlZ21lbnQuZW5kOyBqKyspIHtcbiAgICAgIGFkZFBvaW50c0JlbG93KHBvaW50cywgc291cmNlUG9pbnRzW2pdLCBsaW5lc0JlbG93KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBMaW5lRWxlbWVudCh7cG9pbnRzLCBvcHRpb25zOiB7fX0pO1xufVxuZnVuY3Rpb24gZ2V0TGluZXNCZWxvdyhzY2FsZSwgaW5kZXgpIHtcbiAgY29uc3QgYmVsb3cgPSBbXTtcbiAgY29uc3QgbWV0YXMgPSBzY2FsZS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygnbGluZScpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1ldGFzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbWV0YSA9IG1ldGFzW2ldO1xuICAgIGlmIChtZXRhLmluZGV4ID09PSBpbmRleCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmICghbWV0YS5oaWRkZW4pIHtcbiAgICAgIGJlbG93LnVuc2hpZnQobWV0YS5kYXRhc2V0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJlbG93O1xufVxuZnVuY3Rpb24gYWRkUG9pbnRzQmVsb3cocG9pbnRzLCBzb3VyY2VQb2ludCwgbGluZXNCZWxvdykge1xuICBjb25zdCBwb3N0cG9uZWQgPSBbXTtcbiAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lc0JlbG93Lmxlbmd0aDsgaisrKSB7XG4gICAgY29uc3QgbGluZSA9IGxpbmVzQmVsb3dbal07XG4gICAgY29uc3Qge2ZpcnN0LCBsYXN0LCBwb2ludH0gPSBmaW5kUG9pbnQobGluZSwgc291cmNlUG9pbnQsICd4Jyk7XG4gICAgaWYgKCFwb2ludCB8fCAoZmlyc3QgJiYgbGFzdCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoZmlyc3QpIHtcbiAgICAgIHBvc3Rwb25lZC51bnNoaWZ0KHBvaW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgaWYgKCFsYXN0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwb2ludHMucHVzaCguLi5wb3N0cG9uZWQpO1xufVxuZnVuY3Rpb24gZmluZFBvaW50KGxpbmUsIHNvdXJjZVBvaW50LCBwcm9wZXJ0eSkge1xuICBjb25zdCBwb2ludCA9IGxpbmUuaW50ZXJwb2xhdGUoc291cmNlUG9pbnQsIHByb3BlcnR5KTtcbiAgaWYgKCFwb2ludCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBwb2ludFZhbHVlID0gcG9pbnRbcHJvcGVydHldO1xuICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gIGNvbnN0IGxpbmVQb2ludHMgPSBsaW5lLnBvaW50cztcbiAgbGV0IGZpcnN0ID0gZmFsc2U7XG4gIGxldCBsYXN0ID0gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgY29uc3QgZmlyc3RWYWx1ZSA9IGxpbmVQb2ludHNbc2VnbWVudC5zdGFydF1bcHJvcGVydHldO1xuICAgIGNvbnN0IGxhc3RWYWx1ZSA9IGxpbmVQb2ludHNbc2VnbWVudC5lbmRdW3Byb3BlcnR5XTtcbiAgICBpZiAoX2lzQmV0d2Vlbihwb2ludFZhbHVlLCBmaXJzdFZhbHVlLCBsYXN0VmFsdWUpKSB7XG4gICAgICBmaXJzdCA9IHBvaW50VmFsdWUgPT09IGZpcnN0VmFsdWU7XG4gICAgICBsYXN0ID0gcG9pbnRWYWx1ZSA9PT0gbGFzdFZhbHVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB7Zmlyc3QsIGxhc3QsIHBvaW50fTtcbn1cblxuY2xhc3Mgc2ltcGxlQXJjIHtcbiAgY29uc3RydWN0b3Iob3B0cykge1xuICAgIHRoaXMueCA9IG9wdHMueDtcbiAgICB0aGlzLnkgPSBvcHRzLnk7XG4gICAgdGhpcy5yYWRpdXMgPSBvcHRzLnJhZGl1cztcbiAgfVxuICBwYXRoU2VnbWVudChjdHgsIGJvdW5kcywgb3B0cykge1xuICAgIGNvbnN0IHt4LCB5LCByYWRpdXN9ID0gdGhpcztcbiAgICBib3VuZHMgPSBib3VuZHMgfHwge3N0YXJ0OiAwLCBlbmQ6IFRBVX07XG4gICAgY3R4LmFyYyh4LCB5LCByYWRpdXMsIGJvdW5kcy5lbmQsIGJvdW5kcy5zdGFydCwgdHJ1ZSk7XG4gICAgcmV0dXJuICFvcHRzLmJvdW5kcztcbiAgfVxuICBpbnRlcnBvbGF0ZShwb2ludCkge1xuICAgIGNvbnN0IHt4LCB5LCByYWRpdXN9ID0gdGhpcztcbiAgICBjb25zdCBhbmdsZSA9IHBvaW50LmFuZ2xlO1xuICAgIHJldHVybiB7XG4gICAgICB4OiB4ICsgTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgeTogeSArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cyxcbiAgICAgIGFuZ2xlXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZ2V0VGFyZ2V0KHNvdXJjZSkge1xuICBjb25zdCB7Y2hhcnQsIGZpbGwsIGxpbmV9ID0gc291cmNlO1xuICBpZiAoaXNOdW1iZXJGaW5pdGUoZmlsbCkpIHtcbiAgICByZXR1cm4gZ2V0TGluZUJ5SW5kZXgoY2hhcnQsIGZpbGwpO1xuICB9XG4gIGlmIChmaWxsID09PSAnc3RhY2snKSB7XG4gICAgcmV0dXJuIF9idWlsZFN0YWNrTGluZShzb3VyY2UpO1xuICB9XG4gIGlmIChmaWxsID09PSAnc2hhcGUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgYm91bmRhcnkgPSBjb21wdXRlQm91bmRhcnkoc291cmNlKTtcbiAgaWYgKGJvdW5kYXJ5IGluc3RhbmNlb2Ygc2ltcGxlQXJjKSB7XG4gICAgcmV0dXJuIGJvdW5kYXJ5O1xuICB9XG4gIHJldHVybiBfY3JlYXRlQm91bmRhcnlMaW5lKGJvdW5kYXJ5LCBsaW5lKTtcbn1cbmZ1bmN0aW9uIGdldExpbmVCeUluZGV4KGNoYXJ0LCBpbmRleCkge1xuICBjb25zdCBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpO1xuICBjb25zdCB2aXNpYmxlID0gbWV0YSAmJiBjaGFydC5pc0RhdGFzZXRWaXNpYmxlKGluZGV4KTtcbiAgcmV0dXJuIHZpc2libGUgPyBtZXRhLmRhdGFzZXQgOiBudWxsO1xufVxuZnVuY3Rpb24gY29tcHV0ZUJvdW5kYXJ5KHNvdXJjZSkge1xuICBjb25zdCBzY2FsZSA9IHNvdXJjZS5zY2FsZSB8fCB7fTtcbiAgaWYgKHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZSkge1xuICAgIHJldHVybiBjb21wdXRlQ2lyY3VsYXJCb3VuZGFyeShzb3VyY2UpO1xuICB9XG4gIHJldHVybiBjb21wdXRlTGluZWFyQm91bmRhcnkoc291cmNlKTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVMaW5lYXJCb3VuZGFyeShzb3VyY2UpIHtcbiAgY29uc3Qge3NjYWxlID0ge30sIGZpbGx9ID0gc291cmNlO1xuICBjb25zdCBwaXhlbCA9IF9nZXRUYXJnZXRQaXhlbChmaWxsLCBzY2FsZSk7XG4gIGlmIChpc051bWJlckZpbml0ZShwaXhlbCkpIHtcbiAgICBjb25zdCBob3Jpem9udGFsID0gc2NhbGUuaXNIb3Jpem9udGFsKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGhvcml6b250YWwgPyBwaXhlbCA6IG51bGwsXG4gICAgICB5OiBob3Jpem9udGFsID8gbnVsbCA6IHBpeGVsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVDaXJjdWxhckJvdW5kYXJ5KHNvdXJjZSkge1xuICBjb25zdCB7c2NhbGUsIGZpbGx9ID0gc291cmNlO1xuICBjb25zdCBvcHRpb25zID0gc2NhbGUub3B0aW9ucztcbiAgY29uc3QgbGVuZ3RoID0gc2NhbGUuZ2V0TGFiZWxzKCkubGVuZ3RoO1xuICBjb25zdCBzdGFydCA9IG9wdGlvbnMucmV2ZXJzZSA/IHNjYWxlLm1heCA6IHNjYWxlLm1pbjtcbiAgY29uc3QgdmFsdWUgPSBfZ2V0VGFyZ2V0VmFsdWUoZmlsbCwgc2NhbGUsIHN0YXJ0KTtcbiAgY29uc3QgdGFyZ2V0ID0gW107XG4gIGlmIChvcHRpb25zLmdyaWQuY2lyY3VsYXIpIHtcbiAgICBjb25zdCBjZW50ZXIgPSBzY2FsZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoMCwgc3RhcnQpO1xuICAgIHJldHVybiBuZXcgc2ltcGxlQXJjKHtcbiAgICAgIHg6IGNlbnRlci54LFxuICAgICAgeTogY2VudGVyLnksXG4gICAgICByYWRpdXM6IHNjYWxlLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHZhbHVlKVxuICAgIH0pO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB0YXJnZXQucHVzaChzY2FsZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoaSwgdmFsdWUpKTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZHJhd2ZpbGwoY3R4LCBzb3VyY2UsIGFyZWEpIHtcbiAgY29uc3QgdGFyZ2V0ID0gX2dldFRhcmdldChzb3VyY2UpO1xuICBjb25zdCB7bGluZSwgc2NhbGUsIGF4aXN9ID0gc291cmNlO1xuICBjb25zdCBsaW5lT3B0cyA9IGxpbmUub3B0aW9ucztcbiAgY29uc3QgZmlsbE9wdGlvbiA9IGxpbmVPcHRzLmZpbGw7XG4gIGNvbnN0IGNvbG9yID0gbGluZU9wdHMuYmFja2dyb3VuZENvbG9yO1xuICBjb25zdCB7YWJvdmUgPSBjb2xvciwgYmVsb3cgPSBjb2xvcn0gPSBmaWxsT3B0aW9uIHx8IHt9O1xuICBpZiAodGFyZ2V0ICYmIGxpbmUucG9pbnRzLmxlbmd0aCkge1xuICAgIGNsaXBBcmVhKGN0eCwgYXJlYSk7XG4gICAgZG9GaWxsKGN0eCwge2xpbmUsIHRhcmdldCwgYWJvdmUsIGJlbG93LCBhcmVhLCBzY2FsZSwgYXhpc30pO1xuICAgIHVuY2xpcEFyZWEoY3R4KTtcbiAgfVxufVxuZnVuY3Rpb24gZG9GaWxsKGN0eCwgY2ZnKSB7XG4gIGNvbnN0IHtsaW5lLCB0YXJnZXQsIGFib3ZlLCBiZWxvdywgYXJlYSwgc2NhbGV9ID0gY2ZnO1xuICBjb25zdCBwcm9wZXJ0eSA9IGxpbmUuX2xvb3AgPyAnYW5nbGUnIDogY2ZnLmF4aXM7XG4gIGN0eC5zYXZlKCk7XG4gIGlmIChwcm9wZXJ0eSA9PT0gJ3gnICYmIGJlbG93ICE9PSBhYm92ZSkge1xuICAgIGNsaXBWZXJ0aWNhbChjdHgsIHRhcmdldCwgYXJlYS50b3ApO1xuICAgIGZpbGwoY3R4LCB7bGluZSwgdGFyZ2V0LCBjb2xvcjogYWJvdmUsIHNjYWxlLCBwcm9wZXJ0eX0pO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjbGlwVmVydGljYWwoY3R4LCB0YXJnZXQsIGFyZWEuYm90dG9tKTtcbiAgfVxuICBmaWxsKGN0eCwge2xpbmUsIHRhcmdldCwgY29sb3I6IGJlbG93LCBzY2FsZSwgcHJvcGVydHl9KTtcbiAgY3R4LnJlc3RvcmUoKTtcbn1cbmZ1bmN0aW9uIGNsaXBWZXJ0aWNhbChjdHgsIHRhcmdldCwgY2xpcFkpIHtcbiAgY29uc3Qge3NlZ21lbnRzLCBwb2ludHN9ID0gdGFyZ2V0O1xuICBsZXQgZmlyc3QgPSB0cnVlO1xuICBsZXQgbGluZUxvb3AgPSBmYWxzZTtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICBjb25zdCB7c3RhcnQsIGVuZH0gPSBzZWdtZW50O1xuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBwb2ludHNbc3RhcnRdO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IHBvaW50c1tfZmluZFNlZ21lbnRFbmQoc3RhcnQsIGVuZCwgcG9pbnRzKV07XG4gICAgaWYgKGZpcnN0KSB7XG4gICAgICBjdHgubW92ZVRvKGZpcnN0UG9pbnQueCwgZmlyc3RQb2ludC55KTtcbiAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5saW5lVG8oZmlyc3RQb2ludC54LCBjbGlwWSk7XG4gICAgICBjdHgubGluZVRvKGZpcnN0UG9pbnQueCwgZmlyc3RQb2ludC55KTtcbiAgICB9XG4gICAgbGluZUxvb3AgPSAhIXRhcmdldC5wYXRoU2VnbWVudChjdHgsIHNlZ21lbnQsIHttb3ZlOiBsaW5lTG9vcH0pO1xuICAgIGlmIChsaW5lTG9vcCkge1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHgubGluZVRvKGxhc3RQb2ludC54LCBjbGlwWSk7XG4gICAgfVxuICB9XG4gIGN0eC5saW5lVG8odGFyZ2V0LmZpcnN0KCkueCwgY2xpcFkpO1xuICBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5jbGlwKCk7XG59XG5mdW5jdGlvbiBmaWxsKGN0eCwgY2ZnKSB7XG4gIGNvbnN0IHtsaW5lLCB0YXJnZXQsIHByb3BlcnR5LCBjb2xvciwgc2NhbGV9ID0gY2ZnO1xuICBjb25zdCBzZWdtZW50cyA9IF9zZWdtZW50cyhsaW5lLCB0YXJnZXQsIHByb3BlcnR5KTtcbiAgZm9yIChjb25zdCB7c291cmNlOiBzcmMsIHRhcmdldDogdGd0LCBzdGFydCwgZW5kfSBvZiBzZWdtZW50cykge1xuICAgIGNvbnN0IHtzdHlsZToge2JhY2tncm91bmRDb2xvciA9IGNvbG9yfSA9IHt9fSA9IHNyYztcbiAgICBjb25zdCBub3RTaGFwZSA9IHRhcmdldCAhPT0gdHJ1ZTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgY2xpcEJvdW5kcyhjdHgsIHNjYWxlLCBub3RTaGFwZSAmJiBfZ2V0Qm91bmRzKHByb3BlcnR5LCBzdGFydCwgZW5kKSk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGNvbnN0IGxpbmVMb29wID0gISFsaW5lLnBhdGhTZWdtZW50KGN0eCwgc3JjKTtcbiAgICBsZXQgbG9vcDtcbiAgICBpZiAobm90U2hhcGUpIHtcbiAgICAgIGlmIChsaW5lTG9vcCkge1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnRlcnBvbGF0ZWRMaW5lVG8oY3R4LCB0YXJnZXQsIGVuZCwgcHJvcGVydHkpO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFyZ2V0TG9vcCA9ICEhdGFyZ2V0LnBhdGhTZWdtZW50KGN0eCwgdGd0LCB7bW92ZTogbGluZUxvb3AsIHJldmVyc2U6IHRydWV9KTtcbiAgICAgIGxvb3AgPSBsaW5lTG9vcCAmJiB0YXJnZXRMb29wO1xuICAgICAgaWYgKCFsb29wKSB7XG4gICAgICAgIGludGVycG9sYXRlZExpbmVUbyhjdHgsIHRhcmdldCwgc3RhcnQsIHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKGxvb3AgPyAnZXZlbm9kZCcgOiAnbm9uemVybycpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsaXBCb3VuZHMoY3R4LCBzY2FsZSwgYm91bmRzKSB7XG4gIGNvbnN0IHt0b3AsIGJvdHRvbX0gPSBzY2FsZS5jaGFydC5jaGFydEFyZWE7XG4gIGNvbnN0IHtwcm9wZXJ0eSwgc3RhcnQsIGVuZH0gPSBib3VuZHMgfHwge307XG4gIGlmIChwcm9wZXJ0eSA9PT0gJ3gnKSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5yZWN0KHN0YXJ0LCB0b3AsIGVuZCAtIHN0YXJ0LCBib3R0b20gLSB0b3ApO1xuICAgIGN0eC5jbGlwKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGludGVycG9sYXRlZExpbmVUbyhjdHgsIHRhcmdldCwgcG9pbnQsIHByb3BlcnR5KSB7XG4gIGNvbnN0IGludGVycG9sYXRlZFBvaW50ID0gdGFyZ2V0LmludGVycG9sYXRlKHBvaW50LCBwcm9wZXJ0eSk7XG4gIGlmIChpbnRlcnBvbGF0ZWRQb2ludCkge1xuICAgIGN0eC5saW5lVG8oaW50ZXJwb2xhdGVkUG9pbnQueCwgaW50ZXJwb2xhdGVkUG9pbnQueSk7XG4gIH1cbn1cblxudmFyIGluZGV4ID0ge1xuICBpZDogJ2ZpbGxlcicsXG4gIGFmdGVyRGF0YXNldHNVcGRhdGUoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY291bnQgPSAoY2hhcnQuZGF0YS5kYXRhc2V0cyB8fCBbXSkubGVuZ3RoO1xuICAgIGNvbnN0IHNvdXJjZXMgPSBbXTtcbiAgICBsZXQgbWV0YSwgaSwgbGluZSwgc291cmNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG4gICAgICBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICBsaW5lID0gbWV0YS5kYXRhc2V0O1xuICAgICAgc291cmNlID0gbnVsbDtcbiAgICAgIGlmIChsaW5lICYmIGxpbmUub3B0aW9ucyAmJiBsaW5lIGluc3RhbmNlb2YgTGluZUVsZW1lbnQpIHtcbiAgICAgICAgc291cmNlID0ge1xuICAgICAgICAgIHZpc2libGU6IGNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSksXG4gICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgZmlsbDogX2RlY29kZUZpbGwobGluZSwgaSwgY291bnQpLFxuICAgICAgICAgIGNoYXJ0LFxuICAgICAgICAgIGF4aXM6IG1ldGEuY29udHJvbGxlci5vcHRpb25zLmluZGV4QXhpcyxcbiAgICAgICAgICBzY2FsZTogbWV0YS52U2NhbGUsXG4gICAgICAgICAgbGluZSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIG1ldGEuJGZpbGxlciA9IHNvdXJjZTtcbiAgICAgIHNvdXJjZXMucHVzaChzb3VyY2UpO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgc291cmNlID0gc291cmNlc1tpXTtcbiAgICAgIGlmICghc291cmNlIHx8IHNvdXJjZS5maWxsID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZS5maWxsID0gX3Jlc29sdmVUYXJnZXQoc291cmNlcywgaSwgb3B0aW9ucy5wcm9wYWdhdGUpO1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlRHJhdyhjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkcmF3ID0gb3B0aW9ucy5kcmF3VGltZSA9PT0gJ2JlZm9yZURyYXcnO1xuICAgIGNvbnN0IG1ldGFzZXRzID0gY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgIGNvbnN0IGFyZWEgPSBjaGFydC5jaGFydEFyZWE7XG4gICAgZm9yIChsZXQgaSA9IG1ldGFzZXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBzb3VyY2UgPSBtZXRhc2V0c1tpXS4kZmlsbGVyO1xuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzb3VyY2UubGluZS51cGRhdGVDb250cm9sUG9pbnRzKGFyZWEsIHNvdXJjZS5heGlzKTtcbiAgICAgIGlmIChkcmF3ICYmIHNvdXJjZS5maWxsKSB7XG4gICAgICAgIF9kcmF3ZmlsbChjaGFydC5jdHgsIHNvdXJjZSwgYXJlYSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBiZWZvcmVEYXRhc2V0c0RyYXcoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZHJhd1RpbWUgIT09ICdiZWZvcmVEYXRhc2V0c0RyYXcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1ldGFzZXRzID0gY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgIGZvciAobGV0IGkgPSBtZXRhc2V0cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgY29uc3Qgc291cmNlID0gbWV0YXNldHNbaV0uJGZpbGxlcjtcbiAgICAgIGlmIChfc2hvdWxkQXBwbHlGaWxsKHNvdXJjZSkpIHtcbiAgICAgICAgX2RyYXdmaWxsKGNoYXJ0LmN0eCwgc291cmNlLCBjaGFydC5jaGFydEFyZWEpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYmVmb3JlRGF0YXNldERyYXcoY2hhcnQsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBhcmdzLm1ldGEuJGZpbGxlcjtcbiAgICBpZiAoIV9zaG91bGRBcHBseUZpbGwoc291cmNlKSB8fCBvcHRpb25zLmRyYXdUaW1lICE9PSAnYmVmb3JlRGF0YXNldERyYXcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9kcmF3ZmlsbChjaGFydC5jdHgsIHNvdXJjZSwgY2hhcnQuY2hhcnRBcmVhKTtcbiAgfSxcbiAgZGVmYXVsdHM6IHtcbiAgICBwcm9wYWdhdGU6IHRydWUsXG4gICAgZHJhd1RpbWU6ICdiZWZvcmVEYXRhc2V0RHJhdydcbiAgfVxufTtcblxuY29uc3QgZ2V0Qm94U2l6ZSA9IChsYWJlbE9wdHMsIGZvbnRTaXplKSA9PiB7XG4gIGxldCB7Ym94SGVpZ2h0ID0gZm9udFNpemUsIGJveFdpZHRoID0gZm9udFNpemV9ID0gbGFiZWxPcHRzO1xuICBpZiAobGFiZWxPcHRzLnVzZVBvaW50U3R5bGUpIHtcbiAgICBib3hIZWlnaHQgPSBNYXRoLm1pbihib3hIZWlnaHQsIGZvbnRTaXplKTtcbiAgICBib3hXaWR0aCA9IGxhYmVsT3B0cy5wb2ludFN0eWxlV2lkdGggfHwgTWF0aC5taW4oYm94V2lkdGgsIGZvbnRTaXplKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGJveFdpZHRoLFxuICAgIGJveEhlaWdodCxcbiAgICBpdGVtSGVpZ2h0OiBNYXRoLm1heChmb250U2l6ZSwgYm94SGVpZ2h0KVxuICB9O1xufTtcbmNvbnN0IGl0ZW1zRXF1YWwgPSAoYSwgYikgPT4gYSAhPT0gbnVsbCAmJiBiICE9PSBudWxsICYmIGEuZGF0YXNldEluZGV4ID09PSBiLmRhdGFzZXRJbmRleCAmJiBhLmluZGV4ID09PSBiLmluZGV4O1xuY2xhc3MgTGVnZW5kIGV4dGVuZHMgRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fYWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLmxlZ2VuZEhpdEJveGVzID0gW107XG4gICAgdGhpcy5faG92ZXJlZEl0ZW0gPSBudWxsO1xuICAgIHRoaXMuZG91Z2hudXRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5jaGFydCA9IGNvbmZpZy5jaGFydDtcbiAgICB0aGlzLm9wdGlvbnMgPSBjb25maWcub3B0aW9ucztcbiAgICB0aGlzLmN0eCA9IGNvbmZpZy5jdHg7XG4gICAgdGhpcy5sZWdlbmRJdGVtcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNvbHVtblNpemVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGluZVdpZHRocyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1heEhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLm1heFdpZHRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudG9wID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYm90dG9tID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGVmdCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fbWFyZ2lucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnBvc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud2VpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZnVsbFNpemUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgdXBkYXRlKG1heFdpZHRoLCBtYXhIZWlnaHQsIG1hcmdpbnMpIHtcbiAgICB0aGlzLm1heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgdGhpcy5fbWFyZ2lucyA9IG1hcmdpbnM7XG4gICAgdGhpcy5zZXREaW1lbnNpb25zKCk7XG4gICAgdGhpcy5idWlsZExhYmVscygpO1xuICAgIHRoaXMuZml0KCk7XG4gIH1cbiAgc2V0RGltZW5zaW9ucygpIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgdGhpcy53aWR0aCA9IHRoaXMubWF4V2lkdGg7XG4gICAgICB0aGlzLmxlZnQgPSB0aGlzLl9tYXJnaW5zLmxlZnQ7XG4gICAgICB0aGlzLnJpZ2h0ID0gdGhpcy53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcbiAgICAgIHRoaXMudG9wID0gdGhpcy5fbWFyZ2lucy50b3A7XG4gICAgICB0aGlzLmJvdHRvbSA9IHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgfVxuICBidWlsZExhYmVscygpIHtcbiAgICBjb25zdCBsYWJlbE9wdHMgPSB0aGlzLm9wdGlvbnMubGFiZWxzIHx8IHt9O1xuICAgIGxldCBsZWdlbmRJdGVtcyA9IGNhbGxiYWNrKGxhYmVsT3B0cy5nZW5lcmF0ZUxhYmVscywgW3RoaXMuY2hhcnRdLCB0aGlzKSB8fCBbXTtcbiAgICBpZiAobGFiZWxPcHRzLmZpbHRlcikge1xuICAgICAgbGVnZW5kSXRlbXMgPSBsZWdlbmRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGxhYmVsT3B0cy5maWx0ZXIoaXRlbSwgdGhpcy5jaGFydC5kYXRhKSk7XG4gICAgfVxuICAgIGlmIChsYWJlbE9wdHMuc29ydCkge1xuICAgICAgbGVnZW5kSXRlbXMgPSBsZWdlbmRJdGVtcy5zb3J0KChhLCBiKSA9PiBsYWJlbE9wdHMuc29ydChhLCBiLCB0aGlzLmNoYXJ0LmRhdGEpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICBsZWdlbmRJdGVtcy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHRoaXMubGVnZW5kSXRlbXMgPSBsZWdlbmRJdGVtcztcbiAgfVxuICBmaXQoKSB7XG4gICAgY29uc3Qge29wdGlvbnMsIGN0eH0gPSB0aGlzO1xuICAgIGlmICghb3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbE9wdHMgPSBvcHRpb25zLmxhYmVscztcbiAgICBjb25zdCBsYWJlbEZvbnQgPSB0b0ZvbnQobGFiZWxPcHRzLmZvbnQpO1xuICAgIGNvbnN0IGZvbnRTaXplID0gbGFiZWxGb250LnNpemU7XG4gICAgY29uc3QgdGl0bGVIZWlnaHQgPSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKTtcbiAgICBjb25zdCB7Ym94V2lkdGgsIGl0ZW1IZWlnaHR9ID0gZ2V0Qm94U2l6ZShsYWJlbE9wdHMsIGZvbnRTaXplKTtcbiAgICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgICBjdHguZm9udCA9IGxhYmVsRm9udC5zdHJpbmc7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHdpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgIGhlaWdodCA9IHRoaXMuX2ZpdFJvd3ModGl0bGVIZWlnaHQsIGZvbnRTaXplLCBib3hXaWR0aCwgaXRlbUhlaWdodCkgKyAxMDtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICB3aWR0aCA9IHRoaXMuX2ZpdENvbHModGl0bGVIZWlnaHQsIGZvbnRTaXplLCBib3hXaWR0aCwgaXRlbUhlaWdodCkgKyAxMDtcbiAgICB9XG4gICAgdGhpcy53aWR0aCA9IE1hdGgubWluKHdpZHRoLCBvcHRpb25zLm1heFdpZHRoIHx8IHRoaXMubWF4V2lkdGgpO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5taW4oaGVpZ2h0LCBvcHRpb25zLm1heEhlaWdodCB8fCB0aGlzLm1heEhlaWdodCk7XG4gIH1cbiAgX2ZpdFJvd3ModGl0bGVIZWlnaHQsIGZvbnRTaXplLCBib3hXaWR0aCwgaXRlbUhlaWdodCkge1xuICAgIGNvbnN0IHtjdHgsIG1heFdpZHRoLCBvcHRpb25zOiB7bGFiZWxzOiB7cGFkZGluZ319fSA9IHRoaXM7XG4gICAgY29uc3QgaGl0Ym94ZXMgPSB0aGlzLmxlZ2VuZEhpdEJveGVzID0gW107XG4gICAgY29uc3QgbGluZVdpZHRocyA9IHRoaXMubGluZVdpZHRocyA9IFswXTtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gaXRlbUhlaWdodCArIHBhZGRpbmc7XG4gICAgbGV0IHRvdGFsSGVpZ2h0ID0gdGl0bGVIZWlnaHQ7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgbGV0IHJvdyA9IC0xO1xuICAgIGxldCB0b3AgPSAtbGluZUhlaWdodDtcbiAgICB0aGlzLmxlZ2VuZEl0ZW1zLmZvckVhY2goKGxlZ2VuZEl0ZW0sIGkpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGJveFdpZHRoICsgKGZvbnRTaXplIC8gMikgKyBjdHgubWVhc3VyZVRleHQobGVnZW5kSXRlbS50ZXh0KS53aWR0aDtcbiAgICAgIGlmIChpID09PSAwIHx8IGxpbmVXaWR0aHNbbGluZVdpZHRocy5sZW5ndGggLSAxXSArIGl0ZW1XaWR0aCArIDIgKiBwYWRkaW5nID4gbWF4V2lkdGgpIHtcbiAgICAgICAgdG90YWxIZWlnaHQgKz0gbGluZUhlaWdodDtcbiAgICAgICAgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIChpID4gMCA/IDAgOiAxKV0gPSAwO1xuICAgICAgICB0b3AgKz0gbGluZUhlaWdodDtcbiAgICAgICAgcm93Kys7XG4gICAgICB9XG4gICAgICBoaXRib3hlc1tpXSA9IHtsZWZ0OiAwLCB0b3AsIHJvdywgd2lkdGg6IGl0ZW1XaWR0aCwgaGVpZ2h0OiBpdGVtSGVpZ2h0fTtcbiAgICAgIGxpbmVXaWR0aHNbbGluZVdpZHRocy5sZW5ndGggLSAxXSArPSBpdGVtV2lkdGggKyBwYWRkaW5nO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3RhbEhlaWdodDtcbiAgfVxuICBfZml0Q29scyh0aXRsZUhlaWdodCwgZm9udFNpemUsIGJveFdpZHRoLCBpdGVtSGVpZ2h0KSB7XG4gICAgY29uc3Qge2N0eCwgbWF4SGVpZ2h0LCBvcHRpb25zOiB7bGFiZWxzOiB7cGFkZGluZ319fSA9IHRoaXM7XG4gICAgY29uc3QgaGl0Ym94ZXMgPSB0aGlzLmxlZ2VuZEhpdEJveGVzID0gW107XG4gICAgY29uc3QgY29sdW1uU2l6ZXMgPSB0aGlzLmNvbHVtblNpemVzID0gW107XG4gICAgY29uc3QgaGVpZ2h0TGltaXQgPSBtYXhIZWlnaHQgLSB0aXRsZUhlaWdodDtcbiAgICBsZXQgdG90YWxXaWR0aCA9IHBhZGRpbmc7XG4gICAgbGV0IGN1cnJlbnRDb2xXaWR0aCA9IDA7XG4gICAgbGV0IGN1cnJlbnRDb2xIZWlnaHQgPSAwO1xuICAgIGxldCBsZWZ0ID0gMDtcbiAgICBsZXQgY29sID0gMDtcbiAgICB0aGlzLmxlZ2VuZEl0ZW1zLmZvckVhY2goKGxlZ2VuZEl0ZW0sIGkpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGJveFdpZHRoICsgKGZvbnRTaXplIC8gMikgKyBjdHgubWVhc3VyZVRleHQobGVnZW5kSXRlbS50ZXh0KS53aWR0aDtcbiAgICAgIGlmIChpID4gMCAmJiBjdXJyZW50Q29sSGVpZ2h0ICsgaXRlbUhlaWdodCArIDIgKiBwYWRkaW5nID4gaGVpZ2h0TGltaXQpIHtcbiAgICAgICAgdG90YWxXaWR0aCArPSBjdXJyZW50Q29sV2lkdGggKyBwYWRkaW5nO1xuICAgICAgICBjb2x1bW5TaXplcy5wdXNoKHt3aWR0aDogY3VycmVudENvbFdpZHRoLCBoZWlnaHQ6IGN1cnJlbnRDb2xIZWlnaHR9KTtcbiAgICAgICAgbGVmdCArPSBjdXJyZW50Q29sV2lkdGggKyBwYWRkaW5nO1xuICAgICAgICBjb2wrKztcbiAgICAgICAgY3VycmVudENvbFdpZHRoID0gY3VycmVudENvbEhlaWdodCA9IDA7XG4gICAgICB9XG4gICAgICBoaXRib3hlc1tpXSA9IHtsZWZ0LCB0b3A6IGN1cnJlbnRDb2xIZWlnaHQsIGNvbCwgd2lkdGg6IGl0ZW1XaWR0aCwgaGVpZ2h0OiBpdGVtSGVpZ2h0fTtcbiAgICAgIGN1cnJlbnRDb2xXaWR0aCA9IE1hdGgubWF4KGN1cnJlbnRDb2xXaWR0aCwgaXRlbVdpZHRoKTtcbiAgICAgIGN1cnJlbnRDb2xIZWlnaHQgKz0gaXRlbUhlaWdodCArIHBhZGRpbmc7XG4gICAgfSk7XG4gICAgdG90YWxXaWR0aCArPSBjdXJyZW50Q29sV2lkdGg7XG4gICAgY29sdW1uU2l6ZXMucHVzaCh7d2lkdGg6IGN1cnJlbnRDb2xXaWR0aCwgaGVpZ2h0OiBjdXJyZW50Q29sSGVpZ2h0fSk7XG4gICAgcmV0dXJuIHRvdGFsV2lkdGg7XG4gIH1cbiAgYWRqdXN0SGl0Qm94ZXMoKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzcGxheSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZUhlaWdodCA9IHRoaXMuX2NvbXB1dGVUaXRsZUhlaWdodCgpO1xuICAgIGNvbnN0IHtsZWdlbmRIaXRCb3hlczogaGl0Ym94ZXMsIG9wdGlvbnM6IHthbGlnbiwgbGFiZWxzOiB7cGFkZGluZ30sIHJ0bH19ID0gdGhpcztcbiAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKHJ0bCwgdGhpcy5sZWZ0LCB0aGlzLndpZHRoKTtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgbGV0IHJvdyA9IDA7XG4gICAgICBsZXQgbGVmdCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gdGhpcy5saW5lV2lkdGhzW3Jvd10pO1xuICAgICAgZm9yIChjb25zdCBoaXRib3ggb2YgaGl0Ym94ZXMpIHtcbiAgICAgICAgaWYgKHJvdyAhPT0gaGl0Ym94LnJvdykge1xuICAgICAgICAgIHJvdyA9IGhpdGJveC5yb3c7XG4gICAgICAgICAgbGVmdCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gdGhpcy5saW5lV2lkdGhzW3Jvd10pO1xuICAgICAgICB9XG4gICAgICAgIGhpdGJveC50b3AgKz0gdGhpcy50b3AgKyB0aXRsZUhlaWdodCArIHBhZGRpbmc7XG4gICAgICAgIGhpdGJveC5sZWZ0ID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsSGVscGVyLngobGVmdCksIGhpdGJveC53aWR0aCk7XG4gICAgICAgIGxlZnQgKz0gaGl0Ym94LndpZHRoICsgcGFkZGluZztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNvbCA9IDA7XG4gICAgICBsZXQgdG9wID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMudG9wICsgdGl0bGVIZWlnaHQgKyBwYWRkaW5nLCB0aGlzLmJvdHRvbSAtIHRoaXMuY29sdW1uU2l6ZXNbY29sXS5oZWlnaHQpO1xuICAgICAgZm9yIChjb25zdCBoaXRib3ggb2YgaGl0Ym94ZXMpIHtcbiAgICAgICAgaWYgKGhpdGJveC5jb2wgIT09IGNvbCkge1xuICAgICAgICAgIGNvbCA9IGhpdGJveC5jb2w7XG4gICAgICAgICAgdG9wID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMudG9wICsgdGl0bGVIZWlnaHQgKyBwYWRkaW5nLCB0aGlzLmJvdHRvbSAtIHRoaXMuY29sdW1uU2l6ZXNbY29sXS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGhpdGJveC50b3AgPSB0b3A7XG4gICAgICAgIGhpdGJveC5sZWZ0ICs9IHRoaXMubGVmdCArIHBhZGRpbmc7XG4gICAgICAgIGhpdGJveC5sZWZ0ID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsSGVscGVyLngoaGl0Ym94LmxlZnQpLCBoaXRib3gud2lkdGgpO1xuICAgICAgICB0b3AgKz0gaGl0Ym94LmhlaWdodCArIHBhZGRpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlzSG9yaXpvbnRhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSAndG9wJyB8fCB0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICdib3R0b20nO1xuICB9XG4gIGRyYXcoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgIGNsaXBBcmVhKGN0eCwgdGhpcyk7XG4gICAgICB0aGlzLl9kcmF3KCk7XG4gICAgICB1bmNsaXBBcmVhKGN0eCk7XG4gICAgfVxuICB9XG4gIF9kcmF3KCkge1xuICAgIGNvbnN0IHtvcHRpb25zOiBvcHRzLCBjb2x1bW5TaXplcywgbGluZVdpZHRocywgY3R4fSA9IHRoaXM7XG4gICAgY29uc3Qge2FsaWduLCBsYWJlbHM6IGxhYmVsT3B0c30gPSBvcHRzO1xuICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IGRlZmF1bHRzLmNvbG9yO1xuICAgIGNvbnN0IHJ0bEhlbHBlciA9IGdldFJ0bEFkYXB0ZXIob3B0cy5ydGwsIHRoaXMubGVmdCwgdGhpcy53aWR0aCk7XG4gICAgY29uc3QgbGFiZWxGb250ID0gdG9Gb250KGxhYmVsT3B0cy5mb250KTtcbiAgICBjb25zdCB7Y29sb3I6IGZvbnRDb2xvciwgcGFkZGluZ30gPSBsYWJlbE9wdHM7XG4gICAgY29uc3QgZm9udFNpemUgPSBsYWJlbEZvbnQuc2l6ZTtcbiAgICBjb25zdCBoYWxmRm9udFNpemUgPSBmb250U2l6ZSAvIDI7XG4gICAgbGV0IGN1cnNvcjtcbiAgICB0aGlzLmRyYXdUaXRsZSgpO1xuICAgIGN0eC50ZXh0QWxpZ24gPSBydGxIZWxwZXIudGV4dEFsaWduKCdsZWZ0Jyk7XG4gICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIGN0eC5saW5lV2lkdGggPSAwLjU7XG4gICAgY3R4LmZvbnQgPSBsYWJlbEZvbnQuc3RyaW5nO1xuICAgIGNvbnN0IHtib3hXaWR0aCwgYm94SGVpZ2h0LCBpdGVtSGVpZ2h0fSA9IGdldEJveFNpemUobGFiZWxPcHRzLCBmb250U2l6ZSk7XG4gICAgY29uc3QgZHJhd0xlZ2VuZEJveCA9IGZ1bmN0aW9uKHgsIHksIGxlZ2VuZEl0ZW0pIHtcbiAgICAgIGlmIChpc05hTihib3hXaWR0aCkgfHwgYm94V2lkdGggPD0gMCB8fCBpc05hTihib3hIZWlnaHQpIHx8IGJveEhlaWdodCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0ubGluZVdpZHRoLCAxKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmZpbGxTdHlsZSwgZGVmYXVsdENvbG9yKTtcbiAgICAgIGN0eC5saW5lQ2FwID0gdmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lQ2FwLCAnYnV0dCcpO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gdmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lRGFzaE9mZnNldCwgMCk7XG4gICAgICBjdHgubGluZUpvaW4gPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmxpbmVKb2luLCAnbWl0ZXInKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLnN0cm9rZVN0eWxlLCBkZWZhdWx0Q29sb3IpO1xuICAgICAgY3R4LnNldExpbmVEYXNoKHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0ubGluZURhc2gsIFtdKSk7XG4gICAgICBpZiAobGFiZWxPcHRzLnVzZVBvaW50U3R5bGUpIHtcbiAgICAgICAgY29uc3QgZHJhd09wdGlvbnMgPSB7XG4gICAgICAgICAgcmFkaXVzOiBib3hIZWlnaHQgKiBNYXRoLlNRUlQyIC8gMixcbiAgICAgICAgICBwb2ludFN0eWxlOiBsZWdlbmRJdGVtLnBvaW50U3R5bGUsXG4gICAgICAgICAgcm90YXRpb246IGxlZ2VuZEl0ZW0ucm90YXRpb24sXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IGxpbmVXaWR0aFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gcnRsSGVscGVyLnhQbHVzKHgsIGJveFdpZHRoIC8gMik7XG4gICAgICAgIGNvbnN0IGNlbnRlclkgPSB5ICsgaGFsZkZvbnRTaXplO1xuICAgICAgICBkcmF3UG9pbnRMZWdlbmQoY3R4LCBkcmF3T3B0aW9ucywgY2VudGVyWCwgY2VudGVyWSwgbGFiZWxPcHRzLnBvaW50U3R5bGVXaWR0aCAmJiBib3hXaWR0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB5Qm94VG9wID0geSArIE1hdGgubWF4KChmb250U2l6ZSAtIGJveEhlaWdodCkgLyAyLCAwKTtcbiAgICAgICAgY29uc3QgeEJveExlZnQgPSBydGxIZWxwZXIubGVmdEZvckx0cih4LCBib3hXaWR0aCk7XG4gICAgICAgIGNvbnN0IGJvcmRlclJhZGl1cyA9IHRvVFJCTENvcm5lcnMobGVnZW5kSXRlbS5ib3JkZXJSYWRpdXMpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChPYmplY3QudmFsdWVzKGJvcmRlclJhZGl1cykuc29tZSh2ID0+IHYgIT09IDApKSB7XG4gICAgICAgICAgYWRkUm91bmRlZFJlY3RQYXRoKGN0eCwge1xuICAgICAgICAgICAgeDogeEJveExlZnQsXG4gICAgICAgICAgICB5OiB5Qm94VG9wLFxuICAgICAgICAgICAgdzogYm94V2lkdGgsXG4gICAgICAgICAgICBoOiBib3hIZWlnaHQsXG4gICAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHgucmVjdCh4Qm94TGVmdCwgeUJveFRvcCwgYm94V2lkdGgsIGJveEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYgKGxpbmVXaWR0aCAhPT0gMCkge1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGZpbGxUZXh0ID0gZnVuY3Rpb24oeCwgeSwgbGVnZW5kSXRlbSkge1xuICAgICAgcmVuZGVyVGV4dChjdHgsIGxlZ2VuZEl0ZW0udGV4dCwgeCwgeSArIChpdGVtSGVpZ2h0IC8gMiksIGxhYmVsRm9udCwge1xuICAgICAgICBzdHJpa2V0aHJvdWdoOiBsZWdlbmRJdGVtLmhpZGRlbixcbiAgICAgICAgdGV4dEFsaWduOiBydGxIZWxwZXIudGV4dEFsaWduKGxlZ2VuZEl0ZW0udGV4dEFsaWduKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpO1xuICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gdGhpcy5fY29tcHV0ZVRpdGxlSGVpZ2h0KCk7XG4gICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgY3Vyc29yID0ge1xuICAgICAgICB4OiBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy5sZWZ0ICsgcGFkZGluZywgdGhpcy5yaWdodCAtIGxpbmVXaWR0aHNbMF0pLFxuICAgICAgICB5OiB0aGlzLnRvcCArIHBhZGRpbmcgKyB0aXRsZUhlaWdodCxcbiAgICAgICAgbGluZTogMFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3Vyc29yID0ge1xuICAgICAgICB4OiB0aGlzLmxlZnQgKyBwYWRkaW5nLFxuICAgICAgICB5OiBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy50b3AgKyB0aXRsZUhlaWdodCArIHBhZGRpbmcsIHRoaXMuYm90dG9tIC0gY29sdW1uU2l6ZXNbMF0uaGVpZ2h0KSxcbiAgICAgICAgbGluZTogMFxuICAgICAgfTtcbiAgICB9XG4gICAgb3ZlcnJpZGVUZXh0RGlyZWN0aW9uKHRoaXMuY3R4LCBvcHRzLnRleHREaXJlY3Rpb24pO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBpdGVtSGVpZ2h0ICsgcGFkZGluZztcbiAgICB0aGlzLmxlZ2VuZEl0ZW1zLmZvckVhY2goKGxlZ2VuZEl0ZW0sIGkpID0+IHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGxlZ2VuZEl0ZW0uZm9udENvbG9yIHx8IGZvbnRDb2xvcjtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBsZWdlbmRJdGVtLmZvbnRDb2xvciB8fCBmb250Q29sb3I7XG4gICAgICBjb25zdCB0ZXh0V2lkdGggPSBjdHgubWVhc3VyZVRleHQobGVnZW5kSXRlbS50ZXh0KS53aWR0aDtcbiAgICAgIGNvbnN0IHRleHRBbGlnbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24obGVnZW5kSXRlbS50ZXh0QWxpZ24gfHwgKGxlZ2VuZEl0ZW0udGV4dEFsaWduID0gbGFiZWxPcHRzLnRleHRBbGlnbikpO1xuICAgICAgY29uc3Qgd2lkdGggPSBib3hXaWR0aCArIGhhbGZGb250U2l6ZSArIHRleHRXaWR0aDtcbiAgICAgIGxldCB4ID0gY3Vyc29yLng7XG4gICAgICBsZXQgeSA9IGN1cnNvci55O1xuICAgICAgcnRsSGVscGVyLnNldFdpZHRoKHRoaXMud2lkdGgpO1xuICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICBpZiAoaSA+IDAgJiYgeCArIHdpZHRoICsgcGFkZGluZyA+IHRoaXMucmlnaHQpIHtcbiAgICAgICAgICB5ID0gY3Vyc29yLnkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICBjdXJzb3IubGluZSsrO1xuICAgICAgICAgIHggPSBjdXJzb3IueCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gbGluZVdpZHRoc1tjdXJzb3IubGluZV0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGkgPiAwICYmIHkgKyBsaW5lSGVpZ2h0ID4gdGhpcy5ib3R0b20pIHtcbiAgICAgICAgeCA9IGN1cnNvci54ID0geCArIGNvbHVtblNpemVzW2N1cnNvci5saW5lXS53aWR0aCArIHBhZGRpbmc7XG4gICAgICAgIGN1cnNvci5saW5lKys7XG4gICAgICAgIHkgPSBjdXJzb3IueSA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZywgdGhpcy5ib3R0b20gLSBjb2x1bW5TaXplc1tjdXJzb3IubGluZV0uaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlYWxYID0gcnRsSGVscGVyLngoeCk7XG4gICAgICBkcmF3TGVnZW5kQm94KHJlYWxYLCB5LCBsZWdlbmRJdGVtKTtcbiAgICAgIHggPSBfdGV4dFgodGV4dEFsaWduLCB4ICsgYm94V2lkdGggKyBoYWxmRm9udFNpemUsIGlzSG9yaXpvbnRhbCA/IHggKyB3aWR0aCA6IHRoaXMucmlnaHQsIG9wdHMucnRsKTtcbiAgICAgIGZpbGxUZXh0KHJ0bEhlbHBlci54KHgpLCB5LCBsZWdlbmRJdGVtKTtcbiAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgY3Vyc29yLnggKz0gd2lkdGggKyBwYWRkaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3Vyc29yLnkgKz0gbGluZUhlaWdodDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXN0b3JlVGV4dERpcmVjdGlvbih0aGlzLmN0eCwgb3B0cy50ZXh0RGlyZWN0aW9uKTtcbiAgfVxuICBkcmF3VGl0bGUoKSB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB0aXRsZU9wdHMgPSBvcHRzLnRpdGxlO1xuICAgIGNvbnN0IHRpdGxlRm9udCA9IHRvRm9udCh0aXRsZU9wdHMuZm9udCk7XG4gICAgY29uc3QgdGl0bGVQYWRkaW5nID0gdG9QYWRkaW5nKHRpdGxlT3B0cy5wYWRkaW5nKTtcbiAgICBpZiAoIXRpdGxlT3B0cy5kaXNwbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJ0bEhlbHBlciA9IGdldFJ0bEFkYXB0ZXIob3B0cy5ydGwsIHRoaXMubGVmdCwgdGhpcy53aWR0aCk7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aXRsZU9wdHMucG9zaXRpb247XG4gICAgY29uc3QgaGFsZkZvbnRTaXplID0gdGl0bGVGb250LnNpemUgLyAyO1xuICAgIGNvbnN0IHRvcFBhZGRpbmdQbHVzSGFsZkZvbnRTaXplID0gdGl0bGVQYWRkaW5nLnRvcCArIGhhbGZGb250U2l6ZTtcbiAgICBsZXQgeTtcbiAgICBsZXQgbGVmdCA9IHRoaXMubGVmdDtcbiAgICBsZXQgbWF4V2lkdGggPSB0aGlzLndpZHRoO1xuICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLnRoaXMubGluZVdpZHRocyk7XG4gICAgICB5ID0gdGhpcy50b3AgKyB0b3BQYWRkaW5nUGx1c0hhbGZGb250U2l6ZTtcbiAgICAgIGxlZnQgPSBfYWxpZ25TdGFydEVuZChvcHRzLmFsaWduLCBsZWZ0LCB0aGlzLnJpZ2h0IC0gbWF4V2lkdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtYXhIZWlnaHQgPSB0aGlzLmNvbHVtblNpemVzLnJlZHVjZSgoYWNjLCBzaXplKSA9PiBNYXRoLm1heChhY2MsIHNpemUuaGVpZ2h0KSwgMCk7XG4gICAgICB5ID0gdG9wUGFkZGluZ1BsdXNIYWxmRm9udFNpemUgKyBfYWxpZ25TdGFydEVuZChvcHRzLmFsaWduLCB0aGlzLnRvcCwgdGhpcy5ib3R0b20gLSBtYXhIZWlnaHQgLSBvcHRzLmxhYmVscy5wYWRkaW5nIC0gdGhpcy5fY29tcHV0ZVRpdGxlSGVpZ2h0KCkpO1xuICAgIH1cbiAgICBjb25zdCB4ID0gX2FsaWduU3RhcnRFbmQocG9zaXRpb24sIGxlZnQsIGxlZnQgKyBtYXhXaWR0aCk7XG4gICAgY3R4LnRleHRBbGlnbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24oX3RvTGVmdFJpZ2h0Q2VudGVyKHBvc2l0aW9uKSk7XG4gICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRpdGxlT3B0cy5jb2xvcjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGl0bGVPcHRzLmNvbG9yO1xuICAgIGN0eC5mb250ID0gdGl0bGVGb250LnN0cmluZztcbiAgICByZW5kZXJUZXh0KGN0eCwgdGl0bGVPcHRzLnRleHQsIHgsIHksIHRpdGxlRm9udCk7XG4gIH1cbiAgX2NvbXB1dGVUaXRsZUhlaWdodCgpIHtcbiAgICBjb25zdCB0aXRsZU9wdHMgPSB0aGlzLm9wdGlvbnMudGl0bGU7XG4gICAgY29uc3QgdGl0bGVGb250ID0gdG9Gb250KHRpdGxlT3B0cy5mb250KTtcbiAgICBjb25zdCB0aXRsZVBhZGRpbmcgPSB0b1BhZGRpbmcodGl0bGVPcHRzLnBhZGRpbmcpO1xuICAgIHJldHVybiB0aXRsZU9wdHMuZGlzcGxheSA/IHRpdGxlRm9udC5saW5lSGVpZ2h0ICsgdGl0bGVQYWRkaW5nLmhlaWdodCA6IDA7XG4gIH1cbiAgX2dldExlZ2VuZEl0ZW1BdCh4LCB5KSB7XG4gICAgbGV0IGksIGhpdEJveCwgbGg7XG4gICAgaWYgKF9pc0JldHdlZW4oeCwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KVxuICAgICAgJiYgX2lzQmV0d2Vlbih5LCB0aGlzLnRvcCwgdGhpcy5ib3R0b20pKSB7XG4gICAgICBsaCA9IHRoaXMubGVnZW5kSGl0Qm94ZXM7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaGl0Qm94ID0gbGhbaV07XG4gICAgICAgIGlmIChfaXNCZXR3ZWVuKHgsIGhpdEJveC5sZWZ0LCBoaXRCb3gubGVmdCArIGhpdEJveC53aWR0aClcbiAgICAgICAgICAmJiBfaXNCZXR3ZWVuKHksIGhpdEJveC50b3AsIGhpdEJveC50b3AgKyBoaXRCb3guaGVpZ2h0KSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxlZ2VuZEl0ZW1zW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGhhbmRsZUV2ZW50KGUpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICghaXNMaXN0ZW5lZChlLnR5cGUsIG9wdHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGhvdmVyZWRJdGVtID0gdGhpcy5fZ2V0TGVnZW5kSXRlbUF0KGUueCwgZS55KTtcbiAgICBpZiAoZS50eXBlID09PSAnbW91c2Vtb3ZlJyB8fCBlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgIGNvbnN0IHByZXZpb3VzID0gdGhpcy5faG92ZXJlZEl0ZW07XG4gICAgICBjb25zdCBzYW1lSXRlbSA9IGl0ZW1zRXF1YWwocHJldmlvdXMsIGhvdmVyZWRJdGVtKTtcbiAgICAgIGlmIChwcmV2aW91cyAmJiAhc2FtZUl0ZW0pIHtcbiAgICAgICAgY2FsbGJhY2sob3B0cy5vbkxlYXZlLCBbZSwgcHJldmlvdXMsIHRoaXNdLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hvdmVyZWRJdGVtID0gaG92ZXJlZEl0ZW07XG4gICAgICBpZiAoaG92ZXJlZEl0ZW0gJiYgIXNhbWVJdGVtKSB7XG4gICAgICAgIGNhbGxiYWNrKG9wdHMub25Ib3ZlciwgW2UsIGhvdmVyZWRJdGVtLCB0aGlzXSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChob3ZlcmVkSXRlbSkge1xuICAgICAgY2FsbGJhY2sob3B0cy5vbkNsaWNrLCBbZSwgaG92ZXJlZEl0ZW0sIHRoaXNdLCB0aGlzKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGlzTGlzdGVuZWQodHlwZSwgb3B0cykge1xuICBpZiAoKHR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpICYmIChvcHRzLm9uSG92ZXIgfHwgb3B0cy5vbkxlYXZlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChvcHRzLm9uQ2xpY2sgJiYgKHR5cGUgPT09ICdjbGljaycgfHwgdHlwZSA9PT0gJ21vdXNldXAnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbnZhciBwbHVnaW5fbGVnZW5kID0ge1xuICBpZDogJ2xlZ2VuZCcsXG4gIF9lbGVtZW50OiBMZWdlbmQsXG4gIHN0YXJ0KGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZCA9IG5ldyBMZWdlbmQoe2N0eDogY2hhcnQuY3R4LCBvcHRpb25zLCBjaGFydH0pO1xuICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCBsZWdlbmQsIG9wdGlvbnMpO1xuICAgIGxheW91dHMuYWRkQm94KGNoYXJ0LCBsZWdlbmQpO1xuICB9LFxuICBzdG9wKGNoYXJ0KSB7XG4gICAgbGF5b3V0cy5yZW1vdmVCb3goY2hhcnQsIGNoYXJ0LmxlZ2VuZCk7XG4gICAgZGVsZXRlIGNoYXJ0LmxlZ2VuZDtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZDtcbiAgICBsYXlvdXRzLmNvbmZpZ3VyZShjaGFydCwgbGVnZW5kLCBvcHRpb25zKTtcbiAgICBsZWdlbmQub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH0sXG4gIGFmdGVyVXBkYXRlKGNoYXJ0KSB7XG4gICAgY29uc3QgbGVnZW5kID0gY2hhcnQubGVnZW5kO1xuICAgIGxlZ2VuZC5idWlsZExhYmVscygpO1xuICAgIGxlZ2VuZC5hZGp1c3RIaXRCb3hlcygpO1xuICB9LFxuICBhZnRlckV2ZW50KGNoYXJ0LCBhcmdzKSB7XG4gICAgaWYgKCFhcmdzLnJlcGxheSkge1xuICAgICAgY2hhcnQubGVnZW5kLmhhbmRsZUV2ZW50KGFyZ3MuZXZlbnQpO1xuICAgIH1cbiAgfSxcbiAgZGVmYXVsdHM6IHtcbiAgICBkaXNwbGF5OiB0cnVlLFxuICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgZnVsbFNpemU6IHRydWUsXG4gICAgcmV2ZXJzZTogZmFsc2UsXG4gICAgd2VpZ2h0OiAxMDAwLFxuICAgIG9uQ2xpY2soZSwgbGVnZW5kSXRlbSwgbGVnZW5kKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGxlZ2VuZEl0ZW0uZGF0YXNldEluZGV4O1xuICAgICAgY29uc3QgY2kgPSBsZWdlbmQuY2hhcnQ7XG4gICAgICBpZiAoY2kuaXNEYXRhc2V0VmlzaWJsZShpbmRleCkpIHtcbiAgICAgICAgY2kuaGlkZShpbmRleCk7XG4gICAgICAgIGxlZ2VuZEl0ZW0uaGlkZGVuID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNpLnNob3coaW5kZXgpO1xuICAgICAgICBsZWdlbmRJdGVtLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25Ib3ZlcjogbnVsbCxcbiAgICBvbkxlYXZlOiBudWxsLFxuICAgIGxhYmVsczoge1xuICAgICAgY29sb3I6IChjdHgpID0+IGN0eC5jaGFydC5vcHRpb25zLmNvbG9yLFxuICAgICAgYm94V2lkdGg6IDQwLFxuICAgICAgcGFkZGluZzogMTAsXG4gICAgICBnZW5lcmF0ZUxhYmVscyhjaGFydCkge1xuICAgICAgICBjb25zdCBkYXRhc2V0cyA9IGNoYXJ0LmRhdGEuZGF0YXNldHM7XG4gICAgICAgIGNvbnN0IHtsYWJlbHM6IHt1c2VQb2ludFN0eWxlLCBwb2ludFN0eWxlLCB0ZXh0QWxpZ24sIGNvbG9yfX0gPSBjaGFydC5sZWdlbmQub3B0aW9ucztcbiAgICAgICAgcmV0dXJuIGNoYXJ0Ll9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoKS5tYXAoKG1ldGEpID0+IHtcbiAgICAgICAgICBjb25zdCBzdHlsZSA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZSh1c2VQb2ludFN0eWxlID8gMCA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSB0b1BhZGRpbmcoc3R5bGUuYm9yZGVyV2lkdGgpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0OiBkYXRhc2V0c1ttZXRhLmluZGV4XS5sYWJlbCxcbiAgICAgICAgICAgIGZpbGxTdHlsZTogc3R5bGUuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgZm9udENvbG9yOiBjb2xvcixcbiAgICAgICAgICAgIGhpZGRlbjogIW1ldGEudmlzaWJsZSxcbiAgICAgICAgICAgIGxpbmVDYXA6IHN0eWxlLmJvcmRlckNhcFN0eWxlLFxuICAgICAgICAgICAgbGluZURhc2g6IHN0eWxlLmJvcmRlckRhc2gsXG4gICAgICAgICAgICBsaW5lRGFzaE9mZnNldDogc3R5bGUuYm9yZGVyRGFzaE9mZnNldCxcbiAgICAgICAgICAgIGxpbmVKb2luOiBzdHlsZS5ib3JkZXJKb2luU3R5bGUsXG4gICAgICAgICAgICBsaW5lV2lkdGg6IChib3JkZXJXaWR0aC53aWR0aCArIGJvcmRlcldpZHRoLmhlaWdodCkgLyA0LFxuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6IHN0eWxlLmJvcmRlckNvbG9yLFxuICAgICAgICAgICAgcG9pbnRTdHlsZTogcG9pbnRTdHlsZSB8fCBzdHlsZS5wb2ludFN0eWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHN0eWxlLnJvdGF0aW9uLFxuICAgICAgICAgICAgdGV4dEFsaWduOiB0ZXh0QWxpZ24gfHwgc3R5bGUudGV4dEFsaWduLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAwLFxuICAgICAgICAgICAgZGF0YXNldEluZGV4OiBtZXRhLmluZGV4XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgY29sb3I6IChjdHgpID0+IGN0eC5jaGFydC5vcHRpb25zLmNvbG9yLFxuICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICBwb3NpdGlvbjogJ2NlbnRlcicsXG4gICAgICB0ZXh0OiAnJyxcbiAgICB9XG4gIH0sXG4gIGRlc2NyaXB0b3JzOiB7XG4gICAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiAhbmFtZS5zdGFydHNXaXRoKCdvbicpLFxuICAgIGxhYmVsczoge1xuICAgICAgX3NjcmlwdGFibGU6IChuYW1lKSA9PiAhWydnZW5lcmF0ZUxhYmVscycsICdmaWx0ZXInLCAnc29ydCddLmluY2x1ZGVzKG5hbWUpLFxuICAgIH1cbiAgfSxcbn07XG5cbmNsYXNzIFRpdGxlIGV4dGVuZHMgRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGFydCA9IGNvbmZpZy5jaGFydDtcbiAgICB0aGlzLm9wdGlvbnMgPSBjb25maWcub3B0aW9ucztcbiAgICB0aGlzLmN0eCA9IGNvbmZpZy5jdHg7XG4gICAgdGhpcy5fcGFkZGluZyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRvcCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJvdHRvbSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpZHRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy53ZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mdWxsU2l6ZSA9IHVuZGVmaW5lZDtcbiAgfVxuICB1cGRhdGUobWF4V2lkdGgsIG1heEhlaWdodCkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgdGhpcy5sZWZ0ID0gMDtcbiAgICB0aGlzLnRvcCA9IDA7XG4gICAgaWYgKCFvcHRzLmRpc3BsYXkpIHtcbiAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IHRoaXMucmlnaHQgPSB0aGlzLmJvdHRvbSA9IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMud2lkdGggPSB0aGlzLnJpZ2h0ID0gbWF4V2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmJvdHRvbSA9IG1heEhlaWdodDtcbiAgICBjb25zdCBsaW5lQ291bnQgPSBpc0FycmF5KG9wdHMudGV4dCkgPyBvcHRzLnRleHQubGVuZ3RoIDogMTtcbiAgICB0aGlzLl9wYWRkaW5nID0gdG9QYWRkaW5nKG9wdHMucGFkZGluZyk7XG4gICAgY29uc3QgdGV4dFNpemUgPSBsaW5lQ291bnQgKiB0b0ZvbnQob3B0cy5mb250KS5saW5lSGVpZ2h0ICsgdGhpcy5fcGFkZGluZy5oZWlnaHQ7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGV4dFNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2lkdGggPSB0ZXh0U2l6ZTtcbiAgICB9XG4gIH1cbiAgaXNIb3Jpem9udGFsKCkge1xuICAgIGNvbnN0IHBvcyA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICByZXR1cm4gcG9zID09PSAndG9wJyB8fCBwb3MgPT09ICdib3R0b20nO1xuICB9XG4gIF9kcmF3QXJncyhvZmZzZXQpIHtcbiAgICBjb25zdCB7dG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0LCBvcHRpb25zfSA9IHRoaXM7XG4gICAgY29uc3QgYWxpZ24gPSBvcHRpb25zLmFsaWduO1xuICAgIGxldCByb3RhdGlvbiA9IDA7XG4gICAgbGV0IG1heFdpZHRoLCB0aXRsZVgsIHRpdGxlWTtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgdGl0bGVYID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIGxlZnQsIHJpZ2h0KTtcbiAgICAgIHRpdGxlWSA9IHRvcCArIG9mZnNldDtcbiAgICAgIG1heFdpZHRoID0gcmlnaHQgLSBsZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHRpdGxlWCA9IGxlZnQgKyBvZmZzZXQ7XG4gICAgICAgIHRpdGxlWSA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCBib3R0b20sIHRvcCk7XG4gICAgICAgIHJvdGF0aW9uID0gUEkgKiAtMC41O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGl0bGVYID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgICAgIHRpdGxlWSA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0b3AsIGJvdHRvbSk7XG4gICAgICAgIHJvdGF0aW9uID0gUEkgKiAwLjU7XG4gICAgICB9XG4gICAgICBtYXhXaWR0aCA9IGJvdHRvbSAtIHRvcDtcbiAgICB9XG4gICAgcmV0dXJuIHt0aXRsZVgsIHRpdGxlWSwgbWF4V2lkdGgsIHJvdGF0aW9ufTtcbiAgfVxuICBkcmF3KCkge1xuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKCFvcHRzLmRpc3BsYXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm9udE9wdHMgPSB0b0ZvbnQob3B0cy5mb250KTtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gZm9udE9wdHMubGluZUhlaWdodDtcbiAgICBjb25zdCBvZmZzZXQgPSBsaW5lSGVpZ2h0IC8gMiArIHRoaXMuX3BhZGRpbmcudG9wO1xuICAgIGNvbnN0IHt0aXRsZVgsIHRpdGxlWSwgbWF4V2lkdGgsIHJvdGF0aW9ufSA9IHRoaXMuX2RyYXdBcmdzKG9mZnNldCk7XG4gICAgcmVuZGVyVGV4dChjdHgsIG9wdHMudGV4dCwgMCwgMCwgZm9udE9wdHMsIHtcbiAgICAgIGNvbG9yOiBvcHRzLmNvbG9yLFxuICAgICAgbWF4V2lkdGgsXG4gICAgICByb3RhdGlvbixcbiAgICAgIHRleHRBbGlnbjogX3RvTGVmdFJpZ2h0Q2VudGVyKG9wdHMuYWxpZ24pLFxuICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJyxcbiAgICAgIHRyYW5zbGF0aW9uOiBbdGl0bGVYLCB0aXRsZVldLFxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUaXRsZShjaGFydCwgdGl0bGVPcHRzKSB7XG4gIGNvbnN0IHRpdGxlID0gbmV3IFRpdGxlKHtcbiAgICBjdHg6IGNoYXJ0LmN0eCxcbiAgICBvcHRpb25zOiB0aXRsZU9wdHMsXG4gICAgY2hhcnRcbiAgfSk7XG4gIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgdGl0bGVPcHRzKTtcbiAgbGF5b3V0cy5hZGRCb3goY2hhcnQsIHRpdGxlKTtcbiAgY2hhcnQudGl0bGVCbG9jayA9IHRpdGxlO1xufVxudmFyIHBsdWdpbl90aXRsZSA9IHtcbiAgaWQ6ICd0aXRsZScsXG4gIF9lbGVtZW50OiBUaXRsZSxcbiAgc3RhcnQoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY3JlYXRlVGl0bGUoY2hhcnQsIG9wdGlvbnMpO1xuICB9LFxuICBzdG9wKGNoYXJ0KSB7XG4gICAgY29uc3QgdGl0bGVCbG9jayA9IGNoYXJ0LnRpdGxlQmxvY2s7XG4gICAgbGF5b3V0cy5yZW1vdmVCb3goY2hhcnQsIHRpdGxlQmxvY2spO1xuICAgIGRlbGV0ZSBjaGFydC50aXRsZUJsb2NrO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGl0bGUgPSBjaGFydC50aXRsZUJsb2NrO1xuICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgdGl0bGUub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH0sXG4gIGRlZmF1bHRzOiB7XG4gICAgYWxpZ246ICdjZW50ZXInLFxuICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgIGZvbnQ6IHtcbiAgICAgIHdlaWdodDogJ2JvbGQnLFxuICAgIH0sXG4gICAgZnVsbFNpemU6IHRydWUsXG4gICAgcGFkZGluZzogMTAsXG4gICAgcG9zaXRpb246ICd0b3AnLFxuICAgIHRleHQ6ICcnLFxuICAgIHdlaWdodDogMjAwMFxuICB9LFxuICBkZWZhdWx0Um91dGVzOiB7XG4gICAgY29sb3I6ICdjb2xvcidcbiAgfSxcbiAgZGVzY3JpcHRvcnM6IHtcbiAgICBfc2NyaXB0YWJsZTogdHJ1ZSxcbiAgICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgfSxcbn07XG5cbmNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgcGx1Z2luX3N1YnRpdGxlID0ge1xuICBpZDogJ3N1YnRpdGxlJyxcbiAgc3RhcnQoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGl0bGUgPSBuZXcgVGl0bGUoe1xuICAgICAgY3R4OiBjaGFydC5jdHgsXG4gICAgICBvcHRpb25zLFxuICAgICAgY2hhcnRcbiAgICB9KTtcbiAgICBsYXlvdXRzLmNvbmZpZ3VyZShjaGFydCwgdGl0bGUsIG9wdGlvbnMpO1xuICAgIGxheW91dHMuYWRkQm94KGNoYXJ0LCB0aXRsZSk7XG4gICAgbWFwLnNldChjaGFydCwgdGl0bGUpO1xuICB9LFxuICBzdG9wKGNoYXJ0KSB7XG4gICAgbGF5b3V0cy5yZW1vdmVCb3goY2hhcnQsIG1hcC5nZXQoY2hhcnQpKTtcbiAgICBtYXAuZGVsZXRlKGNoYXJ0KTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IHRpdGxlID0gbWFwLmdldChjaGFydCk7XG4gICAgbGF5b3V0cy5jb25maWd1cmUoY2hhcnQsIHRpdGxlLCBvcHRpb25zKTtcbiAgICB0aXRsZS5vcHRpb25zID0gb3B0aW9ucztcbiAgfSxcbiAgZGVmYXVsdHM6IHtcbiAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgZGlzcGxheTogZmFsc2UsXG4gICAgZm9udDoge1xuICAgICAgd2VpZ2h0OiAnbm9ybWFsJyxcbiAgICB9LFxuICAgIGZ1bGxTaXplOiB0cnVlLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgcG9zaXRpb246ICd0b3AnLFxuICAgIHRleHQ6ICcnLFxuICAgIHdlaWdodDogMTUwMFxuICB9LFxuICBkZWZhdWx0Um91dGVzOiB7XG4gICAgY29sb3I6ICdjb2xvcidcbiAgfSxcbiAgZGVzY3JpcHRvcnM6IHtcbiAgICBfc2NyaXB0YWJsZTogdHJ1ZSxcbiAgICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgfSxcbn07XG5cbmNvbnN0IHBvc2l0aW9uZXJzID0ge1xuICBhdmVyYWdlKGl0ZW1zKSB7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGksIGxlbjtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNvbnN0IGVsID0gaXRlbXNbaV0uZWxlbWVudDtcbiAgICAgIGlmIChlbCAmJiBlbC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IGVsLnRvb2x0aXBQb3NpdGlvbigpO1xuICAgICAgICB4ICs9IHBvcy54O1xuICAgICAgICB5ICs9IHBvcy55O1xuICAgICAgICArK2NvdW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgeDogeCAvIGNvdW50LFxuICAgICAgeTogeSAvIGNvdW50XG4gICAgfTtcbiAgfSxcbiAgbmVhcmVzdChpdGVtcywgZXZlbnRQb3NpdGlvbikge1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCB4ID0gZXZlbnRQb3NpdGlvbi54O1xuICAgIGxldCB5ID0gZXZlbnRQb3NpdGlvbi55O1xuICAgIGxldCBtaW5EaXN0YW5jZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBsZXQgaSwgbGVuLCBuZWFyZXN0RWxlbWVudDtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgY29uc3QgZWwgPSBpdGVtc1tpXS5lbGVtZW50O1xuICAgICAgaWYgKGVsICYmIGVsLmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gZWwuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgICAgY29uc3QgZCA9IGRpc3RhbmNlQmV0d2VlblBvaW50cyhldmVudFBvc2l0aW9uLCBjZW50ZXIpO1xuICAgICAgICBpZiAoZCA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICAgICAgbWluRGlzdGFuY2UgPSBkO1xuICAgICAgICAgIG5lYXJlc3RFbGVtZW50ID0gZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5lYXJlc3RFbGVtZW50KSB7XG4gICAgICBjb25zdCB0cCA9IG5lYXJlc3RFbGVtZW50LnRvb2x0aXBQb3NpdGlvbigpO1xuICAgICAgeCA9IHRwLng7XG4gICAgICB5ID0gdHAueTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHgsXG4gICAgICB5XG4gICAgfTtcbiAgfVxufTtcbmZ1bmN0aW9uIHB1c2hPckNvbmNhdChiYXNlLCB0b1B1c2gpIHtcbiAgaWYgKHRvUHVzaCkge1xuICAgIGlmIChpc0FycmF5KHRvUHVzaCkpIHtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGJhc2UsIHRvUHVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJhc2UucHVzaCh0b1B1c2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmFzZTtcbn1cbmZ1bmN0aW9uIHNwbGl0TmV3bGluZXMoc3RyKSB7XG4gIGlmICgodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgfHwgc3RyIGluc3RhbmNlb2YgU3RyaW5nKSAmJiBzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgIHJldHVybiBzdHIuc3BsaXQoJ1xcbicpO1xuICB9XG4gIHJldHVybiBzdHI7XG59XG5mdW5jdGlvbiBjcmVhdGVUb29sdGlwSXRlbShjaGFydCwgaXRlbSkge1xuICBjb25zdCB7ZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleH0gPSBpdGVtO1xuICBjb25zdCBjb250cm9sbGVyID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5jb250cm9sbGVyO1xuICBjb25zdCB7bGFiZWwsIHZhbHVlfSA9IGNvbnRyb2xsZXIuZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCk7XG4gIHJldHVybiB7XG4gICAgY2hhcnQsXG4gICAgbGFiZWwsXG4gICAgcGFyc2VkOiBjb250cm9sbGVyLmdldFBhcnNlZChpbmRleCksXG4gICAgcmF3OiBjaGFydC5kYXRhLmRhdGFzZXRzW2RhdGFzZXRJbmRleF0uZGF0YVtpbmRleF0sXG4gICAgZm9ybWF0dGVkVmFsdWU6IHZhbHVlLFxuICAgIGRhdGFzZXQ6IGNvbnRyb2xsZXIuZ2V0RGF0YXNldCgpLFxuICAgIGRhdGFJbmRleDogaW5kZXgsXG4gICAgZGF0YXNldEluZGV4LFxuICAgIGVsZW1lbnRcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFRvb2x0aXBTaXplKHRvb2x0aXAsIG9wdGlvbnMpIHtcbiAgY29uc3QgY3R4ID0gdG9vbHRpcC5jaGFydC5jdHg7XG4gIGNvbnN0IHtib2R5LCBmb290ZXIsIHRpdGxlfSA9IHRvb2x0aXA7XG4gIGNvbnN0IHtib3hXaWR0aCwgYm94SGVpZ2h0fSA9IG9wdGlvbnM7XG4gIGNvbnN0IGJvZHlGb250ID0gdG9Gb250KG9wdGlvbnMuYm9keUZvbnQpO1xuICBjb25zdCB0aXRsZUZvbnQgPSB0b0ZvbnQob3B0aW9ucy50aXRsZUZvbnQpO1xuICBjb25zdCBmb290ZXJGb250ID0gdG9Gb250KG9wdGlvbnMuZm9vdGVyRm9udCk7XG4gIGNvbnN0IHRpdGxlTGluZUNvdW50ID0gdGl0bGUubGVuZ3RoO1xuICBjb25zdCBmb290ZXJMaW5lQ291bnQgPSBmb290ZXIubGVuZ3RoO1xuICBjb25zdCBib2R5TGluZUl0ZW1Db3VudCA9IGJvZHkubGVuZ3RoO1xuICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKG9wdGlvbnMucGFkZGluZyk7XG4gIGxldCBoZWlnaHQgPSBwYWRkaW5nLmhlaWdodDtcbiAgbGV0IHdpZHRoID0gMDtcbiAgbGV0IGNvbWJpbmVkQm9keUxlbmd0aCA9IGJvZHkucmVkdWNlKChjb3VudCwgYm9keUl0ZW0pID0+IGNvdW50ICsgYm9keUl0ZW0uYmVmb3JlLmxlbmd0aCArIGJvZHlJdGVtLmxpbmVzLmxlbmd0aCArIGJvZHlJdGVtLmFmdGVyLmxlbmd0aCwgMCk7XG4gIGNvbWJpbmVkQm9keUxlbmd0aCArPSB0b29sdGlwLmJlZm9yZUJvZHkubGVuZ3RoICsgdG9vbHRpcC5hZnRlckJvZHkubGVuZ3RoO1xuICBpZiAodGl0bGVMaW5lQ291bnQpIHtcbiAgICBoZWlnaHQgKz0gdGl0bGVMaW5lQ291bnQgKiB0aXRsZUZvbnQubGluZUhlaWdodFxuXHRcdFx0KyAodGl0bGVMaW5lQ291bnQgLSAxKSAqIG9wdGlvbnMudGl0bGVTcGFjaW5nXG5cdFx0XHQrIG9wdGlvbnMudGl0bGVNYXJnaW5Cb3R0b207XG4gIH1cbiAgaWYgKGNvbWJpbmVkQm9keUxlbmd0aCkge1xuICAgIGNvbnN0IGJvZHlMaW5lSGVpZ2h0ID0gb3B0aW9ucy5kaXNwbGF5Q29sb3JzID8gTWF0aC5tYXgoYm94SGVpZ2h0LCBib2R5Rm9udC5saW5lSGVpZ2h0KSA6IGJvZHlGb250LmxpbmVIZWlnaHQ7XG4gICAgaGVpZ2h0ICs9IGJvZHlMaW5lSXRlbUNvdW50ICogYm9keUxpbmVIZWlnaHRcblx0XHRcdCsgKGNvbWJpbmVkQm9keUxlbmd0aCAtIGJvZHlMaW5lSXRlbUNvdW50KSAqIGJvZHlGb250LmxpbmVIZWlnaHRcblx0XHRcdCsgKGNvbWJpbmVkQm9keUxlbmd0aCAtIDEpICogb3B0aW9ucy5ib2R5U3BhY2luZztcbiAgfVxuICBpZiAoZm9vdGVyTGluZUNvdW50KSB7XG4gICAgaGVpZ2h0ICs9IG9wdGlvbnMuZm9vdGVyTWFyZ2luVG9wXG5cdFx0XHQrIGZvb3RlckxpbmVDb3VudCAqIGZvb3RlckZvbnQubGluZUhlaWdodFxuXHRcdFx0KyAoZm9vdGVyTGluZUNvdW50IC0gMSkgKiBvcHRpb25zLmZvb3RlclNwYWNpbmc7XG4gIH1cbiAgbGV0IHdpZHRoUGFkZGluZyA9IDA7XG4gIGNvbnN0IG1heExpbmVXaWR0aCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjdHgubWVhc3VyZVRleHQobGluZSkud2lkdGggKyB3aWR0aFBhZGRpbmcpO1xuICB9O1xuICBjdHguc2F2ZSgpO1xuICBjdHguZm9udCA9IHRpdGxlRm9udC5zdHJpbmc7XG4gIGVhY2godG9vbHRpcC50aXRsZSwgbWF4TGluZVdpZHRoKTtcbiAgY3R4LmZvbnQgPSBib2R5Rm9udC5zdHJpbmc7XG4gIGVhY2godG9vbHRpcC5iZWZvcmVCb2R5LmNvbmNhdCh0b29sdGlwLmFmdGVyQm9keSksIG1heExpbmVXaWR0aCk7XG4gIHdpZHRoUGFkZGluZyA9IG9wdGlvbnMuZGlzcGxheUNvbG9ycyA/IChib3hXaWR0aCArIDIgKyBvcHRpb25zLmJveFBhZGRpbmcpIDogMDtcbiAgZWFjaChib2R5LCAoYm9keUl0ZW0pID0+IHtcbiAgICBlYWNoKGJvZHlJdGVtLmJlZm9yZSwgbWF4TGluZVdpZHRoKTtcbiAgICBlYWNoKGJvZHlJdGVtLmxpbmVzLCBtYXhMaW5lV2lkdGgpO1xuICAgIGVhY2goYm9keUl0ZW0uYWZ0ZXIsIG1heExpbmVXaWR0aCk7XG4gIH0pO1xuICB3aWR0aFBhZGRpbmcgPSAwO1xuICBjdHguZm9udCA9IGZvb3RlckZvbnQuc3RyaW5nO1xuICBlYWNoKHRvb2x0aXAuZm9vdGVyLCBtYXhMaW5lV2lkdGgpO1xuICBjdHgucmVzdG9yZSgpO1xuICB3aWR0aCArPSBwYWRkaW5nLndpZHRoO1xuICByZXR1cm4ge3dpZHRoLCBoZWlnaHR9O1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lWUFsaWduKGNoYXJ0LCBzaXplKSB7XG4gIGNvbnN0IHt5LCBoZWlnaHR9ID0gc2l6ZTtcbiAgaWYgKHkgPCBoZWlnaHQgLyAyKSB7XG4gICAgcmV0dXJuICd0b3AnO1xuICB9IGVsc2UgaWYgKHkgPiAoY2hhcnQuaGVpZ2h0IC0gaGVpZ2h0IC8gMikpIHtcbiAgICByZXR1cm4gJ2JvdHRvbSc7XG4gIH1cbiAgcmV0dXJuICdjZW50ZXInO1xufVxuZnVuY3Rpb24gZG9lc05vdEZpdFdpdGhBbGlnbih4QWxpZ24sIGNoYXJ0LCBvcHRpb25zLCBzaXplKSB7XG4gIGNvbnN0IHt4LCB3aWR0aH0gPSBzaXplO1xuICBjb25zdCBjYXJldCA9IG9wdGlvbnMuY2FyZXRTaXplICsgb3B0aW9ucy5jYXJldFBhZGRpbmc7XG4gIGlmICh4QWxpZ24gPT09ICdsZWZ0JyAmJiB4ICsgd2lkdGggKyBjYXJldCA+IGNoYXJ0LndpZHRoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHhBbGlnbiA9PT0gJ3JpZ2h0JyAmJiB4IC0gd2lkdGggLSBjYXJldCA8IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuZnVuY3Rpb24gZGV0ZXJtaW5lWEFsaWduKGNoYXJ0LCBvcHRpb25zLCBzaXplLCB5QWxpZ24pIHtcbiAgY29uc3Qge3gsIHdpZHRofSA9IHNpemU7XG4gIGNvbnN0IHt3aWR0aDogY2hhcnRXaWR0aCwgY2hhcnRBcmVhOiB7bGVmdCwgcmlnaHR9fSA9IGNoYXJ0O1xuICBsZXQgeEFsaWduID0gJ2NlbnRlcic7XG4gIGlmICh5QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgeEFsaWduID0geCA8PSAobGVmdCArIHJpZ2h0KSAvIDIgPyAnbGVmdCcgOiAncmlnaHQnO1xuICB9IGVsc2UgaWYgKHggPD0gd2lkdGggLyAyKSB7XG4gICAgeEFsaWduID0gJ2xlZnQnO1xuICB9IGVsc2UgaWYgKHggPj0gY2hhcnRXaWR0aCAtIHdpZHRoIC8gMikge1xuICAgIHhBbGlnbiA9ICdyaWdodCc7XG4gIH1cbiAgaWYgKGRvZXNOb3RGaXRXaXRoQWxpZ24oeEFsaWduLCBjaGFydCwgb3B0aW9ucywgc2l6ZSkpIHtcbiAgICB4QWxpZ24gPSAnY2VudGVyJztcbiAgfVxuICByZXR1cm4geEFsaWduO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQWxpZ25tZW50KGNoYXJ0LCBvcHRpb25zLCBzaXplKSB7XG4gIGNvbnN0IHlBbGlnbiA9IHNpemUueUFsaWduIHx8IG9wdGlvbnMueUFsaWduIHx8IGRldGVybWluZVlBbGlnbihjaGFydCwgc2l6ZSk7XG4gIHJldHVybiB7XG4gICAgeEFsaWduOiBzaXplLnhBbGlnbiB8fCBvcHRpb25zLnhBbGlnbiB8fCBkZXRlcm1pbmVYQWxpZ24oY2hhcnQsIG9wdGlvbnMsIHNpemUsIHlBbGlnbiksXG4gICAgeUFsaWduXG4gIH07XG59XG5mdW5jdGlvbiBhbGlnblgoc2l6ZSwgeEFsaWduKSB7XG4gIGxldCB7eCwgd2lkdGh9ID0gc2l6ZTtcbiAgaWYgKHhBbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHggLT0gd2lkdGg7XG4gIH0gZWxzZSBpZiAoeEFsaWduID09PSAnY2VudGVyJykge1xuICAgIHggLT0gKHdpZHRoIC8gMik7XG4gIH1cbiAgcmV0dXJuIHg7XG59XG5mdW5jdGlvbiBhbGlnblkoc2l6ZSwgeUFsaWduLCBwYWRkaW5nQW5kU2l6ZSkge1xuICBsZXQge3ksIGhlaWdodH0gPSBzaXplO1xuICBpZiAoeUFsaWduID09PSAndG9wJykge1xuICAgIHkgKz0gcGFkZGluZ0FuZFNpemU7XG4gIH0gZWxzZSBpZiAoeUFsaWduID09PSAnYm90dG9tJykge1xuICAgIHkgLT0gaGVpZ2h0ICsgcGFkZGluZ0FuZFNpemU7XG4gIH0gZWxzZSB7XG4gICAgeSAtPSAoaGVpZ2h0IC8gMik7XG4gIH1cbiAgcmV0dXJuIHk7XG59XG5mdW5jdGlvbiBnZXRCYWNrZ3JvdW5kUG9pbnQob3B0aW9ucywgc2l6ZSwgYWxpZ25tZW50LCBjaGFydCkge1xuICBjb25zdCB7Y2FyZXRTaXplLCBjYXJldFBhZGRpbmcsIGNvcm5lclJhZGl1c30gPSBvcHRpb25zO1xuICBjb25zdCB7eEFsaWduLCB5QWxpZ259ID0gYWxpZ25tZW50O1xuICBjb25zdCBwYWRkaW5nQW5kU2l6ZSA9IGNhcmV0U2l6ZSArIGNhcmV0UGFkZGluZztcbiAgY29uc3Qge3RvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodH0gPSB0b1RSQkxDb3JuZXJzKGNvcm5lclJhZGl1cyk7XG4gIGxldCB4ID0gYWxpZ25YKHNpemUsIHhBbGlnbik7XG4gIGNvbnN0IHkgPSBhbGlnblkoc2l6ZSwgeUFsaWduLCBwYWRkaW5nQW5kU2l6ZSk7XG4gIGlmICh5QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgICB4ICs9IHBhZGRpbmdBbmRTaXplO1xuICAgIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICB4IC09IHBhZGRpbmdBbmRTaXplO1xuICAgIH1cbiAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdsZWZ0Jykge1xuICAgIHggLT0gTWF0aC5tYXgodG9wTGVmdCwgYm90dG9tTGVmdCkgKyBjYXJldFNpemU7XG4gIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgeCArPSBNYXRoLm1heCh0b3BSaWdodCwgYm90dG9tUmlnaHQpICsgY2FyZXRTaXplO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogX2xpbWl0VmFsdWUoeCwgMCwgY2hhcnQud2lkdGggLSBzaXplLndpZHRoKSxcbiAgICB5OiBfbGltaXRWYWx1ZSh5LCAwLCBjaGFydC5oZWlnaHQgLSBzaXplLmhlaWdodClcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEFsaWduZWRYKHRvb2x0aXAsIGFsaWduLCBvcHRpb25zKSB7XG4gIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0aW9ucy5wYWRkaW5nKTtcbiAgcmV0dXJuIGFsaWduID09PSAnY2VudGVyJ1xuICAgID8gdG9vbHRpcC54ICsgdG9vbHRpcC53aWR0aCAvIDJcbiAgICA6IGFsaWduID09PSAncmlnaHQnXG4gICAgICA/IHRvb2x0aXAueCArIHRvb2x0aXAud2lkdGggLSBwYWRkaW5nLnJpZ2h0XG4gICAgICA6IHRvb2x0aXAueCArIHBhZGRpbmcubGVmdDtcbn1cbmZ1bmN0aW9uIGdldEJlZm9yZUFmdGVyQm9keUxpbmVzKGNhbGxiYWNrKSB7XG4gIHJldHVybiBwdXNoT3JDb25jYXQoW10sIHNwbGl0TmV3bGluZXMoY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXBDb250ZXh0KHBhcmVudCwgdG9vbHRpcCwgdG9vbHRpcEl0ZW1zKSB7XG4gIHJldHVybiBjcmVhdGVDb250ZXh0KHBhcmVudCwge1xuICAgIHRvb2x0aXAsXG4gICAgdG9vbHRpcEl0ZW1zLFxuICAgIHR5cGU6ICd0b29sdGlwJ1xuICB9KTtcbn1cbmZ1bmN0aW9uIG92ZXJyaWRlQ2FsbGJhY2tzKGNhbGxiYWNrcywgY29udGV4dCkge1xuICBjb25zdCBvdmVycmlkZSA9IGNvbnRleHQgJiYgY29udGV4dC5kYXRhc2V0ICYmIGNvbnRleHQuZGF0YXNldC50b29sdGlwICYmIGNvbnRleHQuZGF0YXNldC50b29sdGlwLmNhbGxiYWNrcztcbiAgcmV0dXJuIG92ZXJyaWRlID8gY2FsbGJhY2tzLm92ZXJyaWRlKG92ZXJyaWRlKSA6IGNhbGxiYWNrcztcbn1cbmNsYXNzIFRvb2x0aXAgZXh0ZW5kcyBFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wYWNpdHkgPSAwO1xuICAgIHRoaXMuX2FjdGl2ZSA9IFtdO1xuICAgIHRoaXMuX2V2ZW50UG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc2l6ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9jYWNoZWRBbmltYXRpb25zID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3Rvb2x0aXBJdGVtcyA9IFtdO1xuICAgIHRoaXMuJGFuaW1hdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy4kY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmNoYXJ0ID0gY29uZmlnLmNoYXJ0IHx8IGNvbmZpZy5fY2hhcnQ7XG4gICAgdGhpcy5fY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgIHRoaXMub3B0aW9ucyA9IGNvbmZpZy5vcHRpb25zO1xuICAgIHRoaXMuZGF0YVBvaW50cyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRpdGxlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYmVmb3JlQm9keSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJvZHkgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5hZnRlckJvZHkgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mb290ZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy54QWxpZ24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy55QWxpZ24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy54ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMueSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLndpZHRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2FyZXRYID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY2FyZXRZID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGFiZWxDb2xvcnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYWJlbFBvaW50U3R5bGVzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubGFiZWxUZXh0Q29sb3JzID0gdW5kZWZpbmVkO1xuICB9XG4gIGluaXRpYWxpemUob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5fY2FjaGVkQW5pbWF0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICB9XG4gIF9yZXNvbHZlQW5pbWF0aW9ucygpIHtcbiAgICBjb25zdCBjYWNoZWQgPSB0aGlzLl9jYWNoZWRBbmltYXRpb25zO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNvbnN0IG9wdHMgPSBvcHRpb25zLmVuYWJsZWQgJiYgY2hhcnQub3B0aW9ucy5hbmltYXRpb24gJiYgb3B0aW9ucy5hbmltYXRpb25zO1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0aW9ucyh0aGlzLmNoYXJ0LCBvcHRzKTtcbiAgICBpZiAob3B0cy5fY2FjaGVhYmxlKSB7XG4gICAgICB0aGlzLl9jYWNoZWRBbmltYXRpb25zID0gT2JqZWN0LmZyZWV6ZShhbmltYXRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gIH1cbiAgZ2V0Q29udGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udGV4dCB8fFxuXHRcdFx0KHRoaXMuJGNvbnRleHQgPSBjcmVhdGVUb29sdGlwQ29udGV4dCh0aGlzLmNoYXJ0LmdldENvbnRleHQoKSwgdGhpcywgdGhpcy5fdG9vbHRpcEl0ZW1zKSk7XG4gIH1cbiAgZ2V0VGl0bGUoY29udGV4dCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHtjYWxsYmFja3N9ID0gb3B0aW9ucztcbiAgICBjb25zdCBiZWZvcmVUaXRsZSA9IGNhbGxiYWNrcy5iZWZvcmVUaXRsZS5hcHBseSh0aGlzLCBbY29udGV4dF0pO1xuICAgIGNvbnN0IHRpdGxlID0gY2FsbGJhY2tzLnRpdGxlLmFwcGx5KHRoaXMsIFtjb250ZXh0XSk7XG4gICAgY29uc3QgYWZ0ZXJUaXRsZSA9IGNhbGxiYWNrcy5hZnRlclRpdGxlLmFwcGx5KHRoaXMsIFtjb250ZXh0XSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoYmVmb3JlVGl0bGUpKTtcbiAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyh0aXRsZSkpO1xuICAgIGxpbmVzID0gcHVzaE9yQ29uY2F0KGxpbmVzLCBzcGxpdE5ld2xpbmVzKGFmdGVyVGl0bGUpKTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgZ2V0QmVmb3JlQm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0QmVmb3JlQWZ0ZXJCb2R5TGluZXMob3B0aW9ucy5jYWxsYmFja3MuYmVmb3JlQm9keS5hcHBseSh0aGlzLCBbdG9vbHRpcEl0ZW1zXSkpO1xuICB9XG4gIGdldEJvZHkodG9vbHRpcEl0ZW1zLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge2NhbGxiYWNrc30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGJvZHlJdGVtcyA9IFtdO1xuICAgIGVhY2godG9vbHRpcEl0ZW1zLCAoY29udGV4dCkgPT4ge1xuICAgICAgY29uc3QgYm9keUl0ZW0gPSB7XG4gICAgICAgIGJlZm9yZTogW10sXG4gICAgICAgIGxpbmVzOiBbXSxcbiAgICAgICAgYWZ0ZXI6IFtdXG4gICAgICB9O1xuICAgICAgY29uc3Qgc2NvcGVkID0gb3ZlcnJpZGVDYWxsYmFja3MoY2FsbGJhY2tzLCBjb250ZXh0KTtcbiAgICAgIHB1c2hPckNvbmNhdChib2R5SXRlbS5iZWZvcmUsIHNwbGl0TmV3bGluZXMoc2NvcGVkLmJlZm9yZUxhYmVsLmNhbGwodGhpcywgY29udGV4dCkpKTtcbiAgICAgIHB1c2hPckNvbmNhdChib2R5SXRlbS5saW5lcywgc2NvcGVkLmxhYmVsLmNhbGwodGhpcywgY29udGV4dCkpO1xuICAgICAgcHVzaE9yQ29uY2F0KGJvZHlJdGVtLmFmdGVyLCBzcGxpdE5ld2xpbmVzKHNjb3BlZC5hZnRlckxhYmVsLmNhbGwodGhpcywgY29udGV4dCkpKTtcbiAgICAgIGJvZHlJdGVtcy5wdXNoKGJvZHlJdGVtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYm9keUl0ZW1zO1xuICB9XG4gIGdldEFmdGVyQm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0QmVmb3JlQWZ0ZXJCb2R5TGluZXMob3B0aW9ucy5jYWxsYmFja3MuYWZ0ZXJCb2R5LmFwcGx5KHRoaXMsIFt0b29sdGlwSXRlbXNdKSk7XG4gIH1cbiAgZ2V0Rm9vdGVyKHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgIGNvbnN0IHtjYWxsYmFja3N9ID0gb3B0aW9ucztcbiAgICBjb25zdCBiZWZvcmVGb290ZXIgPSBjYWxsYmFja3MuYmVmb3JlRm9vdGVyLmFwcGx5KHRoaXMsIFt0b29sdGlwSXRlbXNdKTtcbiAgICBjb25zdCBmb290ZXIgPSBjYWxsYmFja3MuZm9vdGVyLmFwcGx5KHRoaXMsIFt0b29sdGlwSXRlbXNdKTtcbiAgICBjb25zdCBhZnRlckZvb3RlciA9IGNhbGxiYWNrcy5hZnRlckZvb3Rlci5hcHBseSh0aGlzLCBbdG9vbHRpcEl0ZW1zXSk7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoYmVmb3JlRm9vdGVyKSk7XG4gICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoZm9vdGVyKSk7XG4gICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoYWZ0ZXJGb290ZXIpKTtcbiAgICByZXR1cm4gbGluZXM7XG4gIH1cbiAgX2NyZWF0ZUl0ZW1zKG9wdGlvbnMpIHtcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9hY3RpdmU7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhcnQuZGF0YTtcbiAgICBjb25zdCBsYWJlbENvbG9ycyA9IFtdO1xuICAgIGNvbnN0IGxhYmVsUG9pbnRTdHlsZXMgPSBbXTtcbiAgICBjb25zdCBsYWJlbFRleHRDb2xvcnMgPSBbXTtcbiAgICBsZXQgdG9vbHRpcEl0ZW1zID0gW107XG4gICAgbGV0IGksIGxlbjtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBhY3RpdmUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRvb2x0aXBJdGVtcy5wdXNoKGNyZWF0ZVRvb2x0aXBJdGVtKHRoaXMuY2hhcnQsIGFjdGl2ZVtpXSkpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgIHRvb2x0aXBJdGVtcyA9IHRvb2x0aXBJdGVtcy5maWx0ZXIoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gb3B0aW9ucy5maWx0ZXIoZWxlbWVudCwgaW5kZXgsIGFycmF5LCBkYXRhKSk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLml0ZW1Tb3J0KSB7XG4gICAgICB0b29sdGlwSXRlbXMgPSB0b29sdGlwSXRlbXMuc29ydCgoYSwgYikgPT4gb3B0aW9ucy5pdGVtU29ydChhLCBiLCBkYXRhKSk7XG4gICAgfVxuICAgIGVhY2godG9vbHRpcEl0ZW1zLCAoY29udGV4dCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcGVkID0gb3ZlcnJpZGVDYWxsYmFja3Mob3B0aW9ucy5jYWxsYmFja3MsIGNvbnRleHQpO1xuICAgICAgbGFiZWxDb2xvcnMucHVzaChzY29wZWQubGFiZWxDb2xvci5jYWxsKHRoaXMsIGNvbnRleHQpKTtcbiAgICAgIGxhYmVsUG9pbnRTdHlsZXMucHVzaChzY29wZWQubGFiZWxQb2ludFN0eWxlLmNhbGwodGhpcywgY29udGV4dCkpO1xuICAgICAgbGFiZWxUZXh0Q29sb3JzLnB1c2goc2NvcGVkLmxhYmVsVGV4dENvbG9yLmNhbGwodGhpcywgY29udGV4dCkpO1xuICAgIH0pO1xuICAgIHRoaXMubGFiZWxDb2xvcnMgPSBsYWJlbENvbG9ycztcbiAgICB0aGlzLmxhYmVsUG9pbnRTdHlsZXMgPSBsYWJlbFBvaW50U3R5bGVzO1xuICAgIHRoaXMubGFiZWxUZXh0Q29sb3JzID0gbGFiZWxUZXh0Q29sb3JzO1xuICAgIHRoaXMuZGF0YVBvaW50cyA9IHRvb2x0aXBJdGVtcztcbiAgICByZXR1cm4gdG9vbHRpcEl0ZW1zO1xuICB9XG4gIHVwZGF0ZShjaGFuZ2VkLCByZXBsYXkpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZTtcbiAgICBsZXQgcHJvcGVydGllcztcbiAgICBsZXQgdG9vbHRpcEl0ZW1zID0gW107XG4gICAgaWYgKCFhY3RpdmUubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5vcGFjaXR5ICE9PSAwKSB7XG4gICAgICAgIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uZXJzW29wdGlvbnMucG9zaXRpb25dLmNhbGwodGhpcywgYWN0aXZlLCB0aGlzLl9ldmVudFBvc2l0aW9uKTtcbiAgICAgIHRvb2x0aXBJdGVtcyA9IHRoaXMuX2NyZWF0ZUl0ZW1zKG9wdGlvbnMpO1xuICAgICAgdGhpcy50aXRsZSA9IHRoaXMuZ2V0VGl0bGUodG9vbHRpcEl0ZW1zLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuYmVmb3JlQm9keSA9IHRoaXMuZ2V0QmVmb3JlQm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5ib2R5ID0gdGhpcy5nZXRCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucyk7XG4gICAgICB0aGlzLmFmdGVyQm9keSA9IHRoaXMuZ2V0QWZ0ZXJCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucyk7XG4gICAgICB0aGlzLmZvb3RlciA9IHRoaXMuZ2V0Rm9vdGVyKHRvb2x0aXBJdGVtcywgb3B0aW9ucyk7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5fc2l6ZSA9IGdldFRvb2x0aXBTaXplKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgY29uc3QgcG9zaXRpb25BbmRTaXplID0gT2JqZWN0LmFzc2lnbih7fSwgcG9zaXRpb24sIHNpemUpO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZGV0ZXJtaW5lQWxpZ25tZW50KHRoaXMuY2hhcnQsIG9wdGlvbnMsIHBvc2l0aW9uQW5kU2l6ZSk7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kUG9pbnQgPSBnZXRCYWNrZ3JvdW5kUG9pbnQob3B0aW9ucywgcG9zaXRpb25BbmRTaXplLCBhbGlnbm1lbnQsIHRoaXMuY2hhcnQpO1xuICAgICAgdGhpcy54QWxpZ24gPSBhbGlnbm1lbnQueEFsaWduO1xuICAgICAgdGhpcy55QWxpZ24gPSBhbGlnbm1lbnQueUFsaWduO1xuICAgICAgcHJvcGVydGllcyA9IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgeDogYmFja2dyb3VuZFBvaW50LngsXG4gICAgICAgIHk6IGJhY2tncm91bmRQb2ludC55LFxuICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBzaXplLmhlaWdodCxcbiAgICAgICAgY2FyZXRYOiBwb3NpdGlvbi54LFxuICAgICAgICBjYXJldFk6IHBvc2l0aW9uLnlcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuX3Rvb2x0aXBJdGVtcyA9IHRvb2x0aXBJdGVtcztcbiAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucygpLnVwZGF0ZSh0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZWQgJiYgb3B0aW9ucy5leHRlcm5hbCkge1xuICAgICAgb3B0aW9ucy5leHRlcm5hbC5jYWxsKHRoaXMsIHtjaGFydDogdGhpcy5jaGFydCwgdG9vbHRpcDogdGhpcywgcmVwbGF5fSk7XG4gICAgfVxuICB9XG4gIGRyYXdDYXJldCh0b29sdGlwUG9pbnQsIGN0eCwgc2l6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhcmV0UG9zaXRpb24gPSB0aGlzLmdldENhcmV0UG9zaXRpb24odG9vbHRpcFBvaW50LCBzaXplLCBvcHRpb25zKTtcbiAgICBjdHgubGluZVRvKGNhcmV0UG9zaXRpb24ueDEsIGNhcmV0UG9zaXRpb24ueTEpO1xuICAgIGN0eC5saW5lVG8oY2FyZXRQb3NpdGlvbi54MiwgY2FyZXRQb3NpdGlvbi55Mik7XG4gICAgY3R4LmxpbmVUbyhjYXJldFBvc2l0aW9uLngzLCBjYXJldFBvc2l0aW9uLnkzKTtcbiAgfVxuICBnZXRDYXJldFBvc2l0aW9uKHRvb2x0aXBQb2ludCwgc2l6ZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHt4QWxpZ24sIHlBbGlnbn0gPSB0aGlzO1xuICAgIGNvbnN0IHtjYXJldFNpemUsIGNvcm5lclJhZGl1c30gPSBvcHRpb25zO1xuICAgIGNvbnN0IHt0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYm90dG9tUmlnaHR9ID0gdG9UUkJMQ29ybmVycyhjb3JuZXJSYWRpdXMpO1xuICAgIGNvbnN0IHt4OiBwdFgsIHk6IHB0WX0gPSB0b29sdGlwUG9pbnQ7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gc2l6ZTtcbiAgICBsZXQgeDEsIHgyLCB4MywgeTEsIHkyLCB5MztcbiAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgeTIgPSBwdFkgKyAoaGVpZ2h0IC8gMik7XG4gICAgICBpZiAoeEFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgICAgeDEgPSBwdFg7XG4gICAgICAgIHgyID0geDEgLSBjYXJldFNpemU7XG4gICAgICAgIHkxID0geTIgKyBjYXJldFNpemU7XG4gICAgICAgIHkzID0geTIgLSBjYXJldFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MSA9IHB0WCArIHdpZHRoO1xuICAgICAgICB4MiA9IHgxICsgY2FyZXRTaXplO1xuICAgICAgICB5MSA9IHkyIC0gY2FyZXRTaXplO1xuICAgICAgICB5MyA9IHkyICsgY2FyZXRTaXplO1xuICAgICAgfVxuICAgICAgeDMgPSB4MTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgIHgyID0gcHRYICsgTWF0aC5tYXgodG9wTGVmdCwgYm90dG9tTGVmdCkgKyAoY2FyZXRTaXplKTtcbiAgICAgIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHgyID0gcHRYICsgd2lkdGggLSBNYXRoLm1heCh0b3BSaWdodCwgYm90dG9tUmlnaHQpIC0gY2FyZXRTaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDIgPSB0aGlzLmNhcmV0WDtcbiAgICAgIH1cbiAgICAgIGlmICh5QWxpZ24gPT09ICd0b3AnKSB7XG4gICAgICAgIHkxID0gcHRZO1xuICAgICAgICB5MiA9IHkxIC0gY2FyZXRTaXplO1xuICAgICAgICB4MSA9IHgyIC0gY2FyZXRTaXplO1xuICAgICAgICB4MyA9IHgyICsgY2FyZXRTaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeTEgPSBwdFkgKyBoZWlnaHQ7XG4gICAgICAgIHkyID0geTEgKyBjYXJldFNpemU7XG4gICAgICAgIHgxID0geDIgKyBjYXJldFNpemU7XG4gICAgICAgIHgzID0geDIgLSBjYXJldFNpemU7XG4gICAgICB9XG4gICAgICB5MyA9IHkxO1xuICAgIH1cbiAgICByZXR1cm4ge3gxLCB4MiwgeDMsIHkxLCB5MiwgeTN9O1xuICB9XG4gIGRyYXdUaXRsZShwdCwgY3R4LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLnRpdGxlO1xuICAgIGNvbnN0IGxlbmd0aCA9IHRpdGxlLmxlbmd0aDtcbiAgICBsZXQgdGl0bGVGb250LCB0aXRsZVNwYWNpbmcsIGk7XG4gICAgaWYgKGxlbmd0aCkge1xuICAgICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRpb25zLnJ0bCwgdGhpcy54LCB0aGlzLndpZHRoKTtcbiAgICAgIHB0LnggPSBnZXRBbGlnbmVkWCh0aGlzLCBvcHRpb25zLnRpdGxlQWxpZ24sIG9wdGlvbnMpO1xuICAgICAgY3R4LnRleHRBbGlnbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24ob3B0aW9ucy50aXRsZUFsaWduKTtcbiAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgIHRpdGxlRm9udCA9IHRvRm9udChvcHRpb25zLnRpdGxlRm9udCk7XG4gICAgICB0aXRsZVNwYWNpbmcgPSBvcHRpb25zLnRpdGxlU3BhY2luZztcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLnRpdGxlQ29sb3I7XG4gICAgICBjdHguZm9udCA9IHRpdGxlRm9udC5zdHJpbmc7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRpdGxlW2ldLCBydGxIZWxwZXIueChwdC54KSwgcHQueSArIHRpdGxlRm9udC5saW5lSGVpZ2h0IC8gMik7XG4gICAgICAgIHB0LnkgKz0gdGl0bGVGb250LmxpbmVIZWlnaHQgKyB0aXRsZVNwYWNpbmc7XG4gICAgICAgIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgcHQueSArPSBvcHRpb25zLnRpdGxlTWFyZ2luQm90dG9tIC0gdGl0bGVTcGFjaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9kcmF3Q29sb3JCb3goY3R4LCBwdCwgaSwgcnRsSGVscGVyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbGFiZWxDb2xvcnMgPSB0aGlzLmxhYmVsQ29sb3JzW2ldO1xuICAgIGNvbnN0IGxhYmVsUG9pbnRTdHlsZSA9IHRoaXMubGFiZWxQb2ludFN0eWxlc1tpXTtcbiAgICBjb25zdCB7Ym94SGVpZ2h0LCBib3hXaWR0aCwgYm94UGFkZGluZ30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGJvZHlGb250ID0gdG9Gb250KG9wdGlvbnMuYm9keUZvbnQpO1xuICAgIGNvbnN0IGNvbG9yWCA9IGdldEFsaWduZWRYKHRoaXMsICdsZWZ0Jywgb3B0aW9ucyk7XG4gICAgY29uc3QgcnRsQ29sb3JYID0gcnRsSGVscGVyLngoY29sb3JYKTtcbiAgICBjb25zdCB5T2ZmU2V0ID0gYm94SGVpZ2h0IDwgYm9keUZvbnQubGluZUhlaWdodCA/IChib2R5Rm9udC5saW5lSGVpZ2h0IC0gYm94SGVpZ2h0KSAvIDIgOiAwO1xuICAgIGNvbnN0IGNvbG9yWSA9IHB0LnkgKyB5T2ZmU2V0O1xuICAgIGlmIChvcHRpb25zLnVzZVBvaW50U3R5bGUpIHtcbiAgICAgIGNvbnN0IGRyYXdPcHRpb25zID0ge1xuICAgICAgICByYWRpdXM6IE1hdGgubWluKGJveFdpZHRoLCBib3hIZWlnaHQpIC8gMixcbiAgICAgICAgcG9pbnRTdHlsZTogbGFiZWxQb2ludFN0eWxlLnBvaW50U3R5bGUsXG4gICAgICAgIHJvdGF0aW9uOiBsYWJlbFBvaW50U3R5bGUucm90YXRpb24sXG4gICAgICAgIGJvcmRlcldpZHRoOiAxXG4gICAgICB9O1xuICAgICAgY29uc3QgY2VudGVyWCA9IHJ0bEhlbHBlci5sZWZ0Rm9yTHRyKHJ0bENvbG9yWCwgYm94V2lkdGgpICsgYm94V2lkdGggLyAyO1xuICAgICAgY29uc3QgY2VudGVyWSA9IGNvbG9yWSArIGJveEhlaWdodCAvIDI7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLm11bHRpS2V5QmFja2dyb3VuZDtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLm11bHRpS2V5QmFja2dyb3VuZDtcbiAgICAgIGRyYXdQb2ludChjdHgsIGRyYXdPcHRpb25zLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGxhYmVsQ29sb3JzLmJvcmRlckNvbG9yO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhYmVsQ29sb3JzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgIGRyYXdQb2ludChjdHgsIGRyYXdPcHRpb25zLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGlzT2JqZWN0KGxhYmVsQ29sb3JzLmJvcmRlcldpZHRoKSA/IE1hdGgubWF4KC4uLk9iamVjdC52YWx1ZXMobGFiZWxDb2xvcnMuYm9yZGVyV2lkdGgpKSA6IChsYWJlbENvbG9ycy5ib3JkZXJXaWR0aCB8fCAxKTtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGxhYmVsQ29sb3JzLmJvcmRlckNvbG9yO1xuICAgICAgY3R4LnNldExpbmVEYXNoKGxhYmVsQ29sb3JzLmJvcmRlckRhc2ggfHwgW10pO1xuICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gbGFiZWxDb2xvcnMuYm9yZGVyRGFzaE9mZnNldCB8fCAwO1xuICAgICAgY29uc3Qgb3V0ZXJYID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsQ29sb3JYLCBib3hXaWR0aCAtIGJveFBhZGRpbmcpO1xuICAgICAgY29uc3QgaW5uZXJYID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsSGVscGVyLnhQbHVzKHJ0bENvbG9yWCwgMSksIGJveFdpZHRoIC0gYm94UGFkZGluZyAtIDIpO1xuICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gdG9UUkJMQ29ybmVycyhsYWJlbENvbG9ycy5ib3JkZXJSYWRpdXMpO1xuICAgICAgaWYgKE9iamVjdC52YWx1ZXMoYm9yZGVyUmFkaXVzKS5zb21lKHYgPT4gdiAhPT0gMCkpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5tdWx0aUtleUJhY2tncm91bmQ7XG4gICAgICAgIGFkZFJvdW5kZWRSZWN0UGF0aChjdHgsIHtcbiAgICAgICAgICB4OiBvdXRlclgsXG4gICAgICAgICAgeTogY29sb3JZLFxuICAgICAgICAgIHc6IGJveFdpZHRoLFxuICAgICAgICAgIGg6IGJveEhlaWdodCxcbiAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhYmVsQ29sb3JzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCB7XG4gICAgICAgICAgeDogaW5uZXJYLFxuICAgICAgICAgIHk6IGNvbG9yWSArIDEsXG4gICAgICAgICAgdzogYm94V2lkdGggLSAyLFxuICAgICAgICAgIGg6IGJveEhlaWdodCAtIDIsXG4gICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgICAgIH0pO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMubXVsdGlLZXlCYWNrZ3JvdW5kO1xuICAgICAgICBjdHguZmlsbFJlY3Qob3V0ZXJYLCBjb2xvclksIGJveFdpZHRoLCBib3hIZWlnaHQpO1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChvdXRlclgsIGNvbG9yWSwgYm94V2lkdGgsIGJveEhlaWdodCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYWJlbENvbG9ycy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdChpbm5lclgsIGNvbG9yWSArIDEsIGJveFdpZHRoIC0gMiwgYm94SGVpZ2h0IC0gMik7XG4gICAgICB9XG4gICAgfVxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmxhYmVsVGV4dENvbG9yc1tpXTtcbiAgfVxuICBkcmF3Qm9keShwdCwgY3R4LCBvcHRpb25zKSB7XG4gICAgY29uc3Qge2JvZHl9ID0gdGhpcztcbiAgICBjb25zdCB7Ym9keVNwYWNpbmcsIGJvZHlBbGlnbiwgZGlzcGxheUNvbG9ycywgYm94SGVpZ2h0LCBib3hXaWR0aCwgYm94UGFkZGluZ30gPSBvcHRpb25zO1xuICAgIGNvbnN0IGJvZHlGb250ID0gdG9Gb250KG9wdGlvbnMuYm9keUZvbnQpO1xuICAgIGxldCBib2R5TGluZUhlaWdodCA9IGJvZHlGb250LmxpbmVIZWlnaHQ7XG4gICAgbGV0IHhMaW5lUGFkZGluZyA9IDA7XG4gICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRpb25zLnJ0bCwgdGhpcy54LCB0aGlzLndpZHRoKTtcbiAgICBjb25zdCBmaWxsTGluZU9mVGV4dCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGN0eC5maWxsVGV4dChsaW5lLCBydGxIZWxwZXIueChwdC54ICsgeExpbmVQYWRkaW5nKSwgcHQueSArIGJvZHlMaW5lSGVpZ2h0IC8gMik7XG4gICAgICBwdC55ICs9IGJvZHlMaW5lSGVpZ2h0ICsgYm9keVNwYWNpbmc7XG4gICAgfTtcbiAgICBjb25zdCBib2R5QWxpZ25Gb3JDYWxjdWxhdGlvbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24oYm9keUFsaWduKTtcbiAgICBsZXQgYm9keUl0ZW0sIHRleHRDb2xvciwgbGluZXMsIGksIGosIGlsZW4sIGpsZW47XG4gICAgY3R4LnRleHRBbGlnbiA9IGJvZHlBbGlnbjtcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgY3R4LmZvbnQgPSBib2R5Rm9udC5zdHJpbmc7XG4gICAgcHQueCA9IGdldEFsaWduZWRYKHRoaXMsIGJvZHlBbGlnbkZvckNhbGN1bGF0aW9uLCBvcHRpb25zKTtcbiAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5ib2R5Q29sb3I7XG4gICAgZWFjaCh0aGlzLmJlZm9yZUJvZHksIGZpbGxMaW5lT2ZUZXh0KTtcbiAgICB4TGluZVBhZGRpbmcgPSBkaXNwbGF5Q29sb3JzICYmIGJvZHlBbGlnbkZvckNhbGN1bGF0aW9uICE9PSAncmlnaHQnXG4gICAgICA/IGJvZHlBbGlnbiA9PT0gJ2NlbnRlcicgPyAoYm94V2lkdGggLyAyICsgYm94UGFkZGluZykgOiAoYm94V2lkdGggKyAyICsgYm94UGFkZGluZylcbiAgICAgIDogMDtcbiAgICBmb3IgKGkgPSAwLCBpbGVuID0gYm9keS5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIGJvZHlJdGVtID0gYm9keVtpXTtcbiAgICAgIHRleHRDb2xvciA9IHRoaXMubGFiZWxUZXh0Q29sb3JzW2ldO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRleHRDb2xvcjtcbiAgICAgIGVhY2goYm9keUl0ZW0uYmVmb3JlLCBmaWxsTGluZU9mVGV4dCk7XG4gICAgICBsaW5lcyA9IGJvZHlJdGVtLmxpbmVzO1xuICAgICAgaWYgKGRpc3BsYXlDb2xvcnMgJiYgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2RyYXdDb2xvckJveChjdHgsIHB0LCBpLCBydGxIZWxwZXIsIG9wdGlvbnMpO1xuICAgICAgICBib2R5TGluZUhlaWdodCA9IE1hdGgubWF4KGJvZHlGb250LmxpbmVIZWlnaHQsIGJveEhlaWdodCk7XG4gICAgICB9XG4gICAgICBmb3IgKGogPSAwLCBqbGVuID0gbGluZXMubGVuZ3RoOyBqIDwgamxlbjsgKytqKSB7XG4gICAgICAgIGZpbGxMaW5lT2ZUZXh0KGxpbmVzW2pdKTtcbiAgICAgICAgYm9keUxpbmVIZWlnaHQgPSBib2R5Rm9udC5saW5lSGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWFjaChib2R5SXRlbS5hZnRlciwgZmlsbExpbmVPZlRleHQpO1xuICAgIH1cbiAgICB4TGluZVBhZGRpbmcgPSAwO1xuICAgIGJvZHlMaW5lSGVpZ2h0ID0gYm9keUZvbnQubGluZUhlaWdodDtcbiAgICBlYWNoKHRoaXMuYWZ0ZXJCb2R5LCBmaWxsTGluZU9mVGV4dCk7XG4gICAgcHQueSAtPSBib2R5U3BhY2luZztcbiAgfVxuICBkcmF3Rm9vdGVyKHB0LCBjdHgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmb290ZXIgPSB0aGlzLmZvb3RlcjtcbiAgICBjb25zdCBsZW5ndGggPSBmb290ZXIubGVuZ3RoO1xuICAgIGxldCBmb290ZXJGb250LCBpO1xuICAgIGlmIChsZW5ndGgpIHtcbiAgICAgIGNvbnN0IHJ0bEhlbHBlciA9IGdldFJ0bEFkYXB0ZXIob3B0aW9ucy5ydGwsIHRoaXMueCwgdGhpcy53aWR0aCk7XG4gICAgICBwdC54ID0gZ2V0QWxpZ25lZFgodGhpcywgb3B0aW9ucy5mb290ZXJBbGlnbiwgb3B0aW9ucyk7XG4gICAgICBwdC55ICs9IG9wdGlvbnMuZm9vdGVyTWFyZ2luVG9wO1xuICAgICAgY3R4LnRleHRBbGlnbiA9IHJ0bEhlbHBlci50ZXh0QWxpZ24ob3B0aW9ucy5mb290ZXJBbGlnbik7XG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICBmb290ZXJGb250ID0gdG9Gb250KG9wdGlvbnMuZm9vdGVyRm9udCk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5mb290ZXJDb2xvcjtcbiAgICAgIGN0eC5mb250ID0gZm9vdGVyRm9udC5zdHJpbmc7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY3R4LmZpbGxUZXh0KGZvb3RlcltpXSwgcnRsSGVscGVyLngocHQueCksIHB0LnkgKyBmb290ZXJGb250LmxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgcHQueSArPSBmb290ZXJGb250LmxpbmVIZWlnaHQgKyBvcHRpb25zLmZvb3RlclNwYWNpbmc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRyYXdCYWNrZ3JvdW5kKHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKSB7XG4gICAgY29uc3Qge3hBbGlnbiwgeUFsaWdufSA9IHRoaXM7XG4gICAgY29uc3Qge3gsIHl9ID0gcHQ7XG4gICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gdG9vbHRpcFNpemU7XG4gICAgY29uc3Qge3RvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodH0gPSB0b1RSQkxDb3JuZXJzKG9wdGlvbnMuY29ybmVyUmFkaXVzKTtcbiAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gb3B0aW9ucy5ib3JkZXJDb2xvcjtcbiAgICBjdHgubGluZVdpZHRoID0gb3B0aW9ucy5ib3JkZXJXaWR0aDtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lm1vdmVUbyh4ICsgdG9wTGVmdCwgeSk7XG4gICAgaWYgKHlBbGlnbiA9PT0gJ3RvcCcpIHtcbiAgICAgIHRoaXMuZHJhd0NhcmV0KHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSB0b3BSaWdodCwgeSk7XG4gICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyB0b3BSaWdodCk7XG4gICAgaWYgKHlBbGlnbiA9PT0gJ2NlbnRlcicgJiYgeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICB0aGlzLmRyYXdDYXJldChwdCwgY3R4LCB0b29sdGlwU2l6ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gYm90dG9tUmlnaHQpO1xuICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gYm90dG9tUmlnaHQsIHkgKyBoZWlnaHQpO1xuICAgIGlmICh5QWxpZ24gPT09ICdib3R0b20nKSB7XG4gICAgICB0aGlzLmRyYXdDYXJldChwdCwgY3R4LCB0b29sdGlwU2l6ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGN0eC5saW5lVG8oeCArIGJvdHRvbUxlZnQsIHkgKyBoZWlnaHQpO1xuICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgKyBoZWlnaHQsIHgsIHkgKyBoZWlnaHQgLSBib3R0b21MZWZ0KTtcbiAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJyAmJiB4QWxpZ24gPT09ICdsZWZ0Jykge1xuICAgICAgdGhpcy5kcmF3Q2FyZXQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjdHgubGluZVRvKHgsIHkgKyB0b3BMZWZ0KTtcbiAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgdG9wTGVmdCwgeSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgaWYgKG9wdGlvbnMuYm9yZGVyV2lkdGggPiAwKSB7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVBbmltYXRpb25UYXJnZXQob3B0aW9ucykge1xuICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICBjb25zdCBhbmltcyA9IHRoaXMuJGFuaW1hdGlvbnM7XG4gICAgY29uc3QgYW5pbVggPSBhbmltcyAmJiBhbmltcy54O1xuICAgIGNvbnN0IGFuaW1ZID0gYW5pbXMgJiYgYW5pbXMueTtcbiAgICBpZiAoYW5pbVggfHwgYW5pbVkpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25lcnNbb3B0aW9ucy5wb3NpdGlvbl0uY2FsbCh0aGlzLCB0aGlzLl9hY3RpdmUsIHRoaXMuX2V2ZW50UG9zaXRpb24pO1xuICAgICAgaWYgKCFwb3NpdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5fc2l6ZSA9IGdldFRvb2x0aXBTaXplKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgY29uc3QgcG9zaXRpb25BbmRTaXplID0gT2JqZWN0LmFzc2lnbih7fSwgcG9zaXRpb24sIHRoaXMuX3NpemUpO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZGV0ZXJtaW5lQWxpZ25tZW50KGNoYXJ0LCBvcHRpb25zLCBwb3NpdGlvbkFuZFNpemUpO1xuICAgICAgY29uc3QgcG9pbnQgPSBnZXRCYWNrZ3JvdW5kUG9pbnQob3B0aW9ucywgcG9zaXRpb25BbmRTaXplLCBhbGlnbm1lbnQsIGNoYXJ0KTtcbiAgICAgIGlmIChhbmltWC5fdG8gIT09IHBvaW50LnggfHwgYW5pbVkuX3RvICE9PSBwb2ludC55KSB7XG4gICAgICAgIHRoaXMueEFsaWduID0gYWxpZ25tZW50LnhBbGlnbjtcbiAgICAgICAgdGhpcy55QWxpZ24gPSBhbGlnbm1lbnQueUFsaWduO1xuICAgICAgICB0aGlzLndpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgdGhpcy5jYXJldFggPSBwb3NpdGlvbi54O1xuICAgICAgICB0aGlzLmNhcmV0WSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKCkudXBkYXRlKHRoaXMsIHBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3dpbGxSZW5kZXIoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5vcGFjaXR5O1xuICB9XG4gIGRyYXcoY3R4KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICBsZXQgb3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcbiAgICBpZiAoIW9wYWNpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlQW5pbWF0aW9uVGFyZ2V0KG9wdGlvbnMpO1xuICAgIGNvbnN0IHRvb2x0aXBTaXplID0ge1xuICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XG4gICAgfTtcbiAgICBjb25zdCBwdCA9IHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH07XG4gICAgb3BhY2l0eSA9IE1hdGguYWJzKG9wYWNpdHkpIDwgMWUtMyA/IDAgOiBvcGFjaXR5O1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0aW9ucy5wYWRkaW5nKTtcbiAgICBjb25zdCBoYXNUb29sdGlwQ29udGVudCA9IHRoaXMudGl0bGUubGVuZ3RoIHx8IHRoaXMuYmVmb3JlQm9keS5sZW5ndGggfHwgdGhpcy5ib2R5Lmxlbmd0aCB8fCB0aGlzLmFmdGVyQm9keS5sZW5ndGggfHwgdGhpcy5mb290ZXIubGVuZ3RoO1xuICAgIGlmIChvcHRpb25zLmVuYWJsZWQgJiYgaGFzVG9vbHRpcENvbnRlbnQpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvcGFjaXR5O1xuICAgICAgdGhpcy5kcmF3QmFja2dyb3VuZChwdCwgY3R4LCB0b29sdGlwU2l6ZSwgb3B0aW9ucyk7XG4gICAgICBvdmVycmlkZVRleHREaXJlY3Rpb24oY3R4LCBvcHRpb25zLnRleHREaXJlY3Rpb24pO1xuICAgICAgcHQueSArPSBwYWRkaW5nLnRvcDtcbiAgICAgIHRoaXMuZHJhd1RpdGxlKHB0LCBjdHgsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5kcmF3Qm9keShwdCwgY3R4LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuZHJhd0Zvb3RlcihwdCwgY3R4LCBvcHRpb25zKTtcbiAgICAgIHJlc3RvcmVUZXh0RGlyZWN0aW9uKGN0eCwgb3B0aW9ucy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9XG4gIGdldEFjdGl2ZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmUgfHwgW107XG4gIH1cbiAgc2V0QWN0aXZlRWxlbWVudHMoYWN0aXZlRWxlbWVudHMsIGV2ZW50UG9zaXRpb24pIHtcbiAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuICAgIGNvbnN0IGFjdGl2ZSA9IGFjdGl2ZUVsZW1lbnRzLm1hcCgoe2RhdGFzZXRJbmRleCwgaW5kZXh9KSA9PiB7XG4gICAgICBjb25zdCBtZXRhID0gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgYSBkYXRhc2V0IGF0IGluZGV4ICcgKyBkYXRhc2V0SW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YXNldEluZGV4LFxuICAgICAgICBlbGVtZW50OiBtZXRhLmRhdGFbaW5kZXhdLFxuICAgICAgICBpbmRleCxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgY2hhbmdlZCA9ICFfZWxlbWVudHNFcXVhbChsYXN0QWN0aXZlLCBhY3RpdmUpO1xuICAgIGNvbnN0IHBvc2l0aW9uQ2hhbmdlZCA9IHRoaXMuX3Bvc2l0aW9uQ2hhbmdlZChhY3RpdmUsIGV2ZW50UG9zaXRpb24pO1xuICAgIGlmIChjaGFuZ2VkIHx8IHBvc2l0aW9uQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fYWN0aXZlID0gYWN0aXZlO1xuICAgICAgdGhpcy5fZXZlbnRQb3NpdGlvbiA9IGV2ZW50UG9zaXRpb247XG4gICAgICB0aGlzLl9pZ25vcmVSZXBsYXlFdmVudHMgPSB0cnVlO1xuICAgICAgdGhpcy51cGRhdGUodHJ1ZSk7XG4gICAgfVxuICB9XG4gIGhhbmRsZUV2ZW50KGUsIHJlcGxheSwgaW5DaGFydEFyZWEgPSB0cnVlKSB7XG4gICAgaWYgKHJlcGxheSAmJiB0aGlzLl9pZ25vcmVSZXBsYXlFdmVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5faWdub3JlUmVwbGF5RXZlbnRzID0gZmFsc2U7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2dldEFjdGl2ZUVsZW1lbnRzKGUsIGxhc3RBY3RpdmUsIHJlcGxheSwgaW5DaGFydEFyZWEpO1xuICAgIGNvbnN0IHBvc2l0aW9uQ2hhbmdlZCA9IHRoaXMuX3Bvc2l0aW9uQ2hhbmdlZChhY3RpdmUsIGUpO1xuICAgIGNvbnN0IGNoYW5nZWQgPSByZXBsYXkgfHwgIV9lbGVtZW50c0VxdWFsKGFjdGl2ZSwgbGFzdEFjdGl2ZSkgfHwgcG9zaXRpb25DaGFuZ2VkO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XG4gICAgICBpZiAob3B0aW9ucy5lbmFibGVkIHx8IG9wdGlvbnMuZXh0ZXJuYWwpIHtcbiAgICAgICAgdGhpcy5fZXZlbnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICB4OiBlLngsXG4gICAgICAgICAgeTogZS55XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlKHRydWUsIHJlcGxheSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9XG4gIF9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCByZXBsYXksIGluQ2hhcnRBcmVhKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoZS50eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghaW5DaGFydEFyZWEpIHtcbiAgICAgIHJldHVybiBsYXN0QWN0aXZlO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLmNoYXJ0LmdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZSwgb3B0aW9ucy5tb2RlLCBvcHRpb25zLCByZXBsYXkpO1xuICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgIGFjdGl2ZS5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHJldHVybiBhY3RpdmU7XG4gIH1cbiAgX3Bvc2l0aW9uQ2hhbmdlZChhY3RpdmUsIGUpIHtcbiAgICBjb25zdCB7Y2FyZXRYLCBjYXJldFksIG9wdGlvbnN9ID0gdGhpcztcbiAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uZXJzW29wdGlvbnMucG9zaXRpb25dLmNhbGwodGhpcywgYWN0aXZlLCBlKTtcbiAgICByZXR1cm4gcG9zaXRpb24gIT09IGZhbHNlICYmIChjYXJldFggIT09IHBvc2l0aW9uLnggfHwgY2FyZXRZICE9PSBwb3NpdGlvbi55KTtcbiAgfVxufVxuVG9vbHRpcC5wb3NpdGlvbmVycyA9IHBvc2l0aW9uZXJzO1xudmFyIHBsdWdpbl90b29sdGlwID0ge1xuICBpZDogJ3Rvb2x0aXAnLFxuICBfZWxlbWVudDogVG9vbHRpcCxcbiAgcG9zaXRpb25lcnMsXG4gIGFmdGVySW5pdChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgY2hhcnQudG9vbHRpcCA9IG5ldyBUb29sdGlwKHtjaGFydCwgb3B0aW9uc30pO1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgIGlmIChjaGFydC50b29sdGlwKSB7XG4gICAgICBjaGFydC50b29sdGlwLmluaXRpYWxpemUob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuICByZXNldChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICBpZiAoY2hhcnQudG9vbHRpcCkge1xuICAgICAgY2hhcnQudG9vbHRpcC5pbml0aWFsaXplKG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcbiAgYWZ0ZXJEcmF3KGNoYXJ0KSB7XG4gICAgY29uc3QgdG9vbHRpcCA9IGNoYXJ0LnRvb2x0aXA7XG4gICAgaWYgKHRvb2x0aXAgJiYgdG9vbHRpcC5fd2lsbFJlbmRlcigpKSB7XG4gICAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICB0b29sdGlwXG4gICAgICB9O1xuICAgICAgaWYgKGNoYXJ0Lm5vdGlmeVBsdWdpbnMoJ2JlZm9yZVRvb2x0aXBEcmF3JywgYXJncykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRvb2x0aXAuZHJhdyhjaGFydC5jdHgpO1xuICAgICAgY2hhcnQubm90aWZ5UGx1Z2lucygnYWZ0ZXJUb29sdGlwRHJhdycsIGFyZ3MpO1xuICAgIH1cbiAgfSxcbiAgYWZ0ZXJFdmVudChjaGFydCwgYXJncykge1xuICAgIGlmIChjaGFydC50b29sdGlwKSB7XG4gICAgICBjb25zdCB1c2VGaW5hbFBvc2l0aW9uID0gYXJncy5yZXBsYXk7XG4gICAgICBpZiAoY2hhcnQudG9vbHRpcC5oYW5kbGVFdmVudChhcmdzLmV2ZW50LCB1c2VGaW5hbFBvc2l0aW9uLCBhcmdzLmluQ2hhcnRBcmVhKSkge1xuICAgICAgICBhcmdzLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgZGVmYXVsdHM6IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGV4dGVybmFsOiBudWxsLFxuICAgIHBvc2l0aW9uOiAnYXZlcmFnZScsXG4gICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgwLDAsMCwwLjgpJyxcbiAgICB0aXRsZUNvbG9yOiAnI2ZmZicsXG4gICAgdGl0bGVGb250OiB7XG4gICAgICB3ZWlnaHQ6ICdib2xkJyxcbiAgICB9LFxuICAgIHRpdGxlU3BhY2luZzogMixcbiAgICB0aXRsZU1hcmdpbkJvdHRvbTogNixcbiAgICB0aXRsZUFsaWduOiAnbGVmdCcsXG4gICAgYm9keUNvbG9yOiAnI2ZmZicsXG4gICAgYm9keVNwYWNpbmc6IDIsXG4gICAgYm9keUZvbnQ6IHtcbiAgICB9LFxuICAgIGJvZHlBbGlnbjogJ2xlZnQnLFxuICAgIGZvb3RlckNvbG9yOiAnI2ZmZicsXG4gICAgZm9vdGVyU3BhY2luZzogMixcbiAgICBmb290ZXJNYXJnaW5Ub3A6IDYsXG4gICAgZm9vdGVyRm9udDoge1xuICAgICAgd2VpZ2h0OiAnYm9sZCcsXG4gICAgfSxcbiAgICBmb290ZXJBbGlnbjogJ2xlZnQnLFxuICAgIHBhZGRpbmc6IDYsXG4gICAgY2FyZXRQYWRkaW5nOiAyLFxuICAgIGNhcmV0U2l6ZTogNSxcbiAgICBjb3JuZXJSYWRpdXM6IDYsXG4gICAgYm94SGVpZ2h0OiAoY3R4LCBvcHRzKSA9PiBvcHRzLmJvZHlGb250LnNpemUsXG4gICAgYm94V2lkdGg6IChjdHgsIG9wdHMpID0+IG9wdHMuYm9keUZvbnQuc2l6ZSxcbiAgICBtdWx0aUtleUJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICBkaXNwbGF5Q29sb3JzOiB0cnVlLFxuICAgIGJveFBhZGRpbmc6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDAsMCwwLDApJyxcbiAgICBib3JkZXJXaWR0aDogMCxcbiAgICBhbmltYXRpb246IHtcbiAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnLFxuICAgIH0sXG4gICAgYW5pbWF0aW9uczoge1xuICAgICAgbnVtYmVyczoge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgcHJvcGVydGllczogWyd4JywgJ3knLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ2NhcmV0WCcsICdjYXJldFknXSxcbiAgICAgIH0sXG4gICAgICBvcGFjaXR5OiB7XG4gICAgICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbGxiYWNrczoge1xuICAgICAgYmVmb3JlVGl0bGU6IG5vb3AsXG4gICAgICB0aXRsZSh0b29sdGlwSXRlbXMpIHtcbiAgICAgICAgaWYgKHRvb2x0aXBJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRvb2x0aXBJdGVtc1swXTtcbiAgICAgICAgICBjb25zdCBsYWJlbHMgPSBpdGVtLmNoYXJ0LmRhdGEubGFiZWxzO1xuICAgICAgICAgIGNvbnN0IGxhYmVsQ291bnQgPSBsYWJlbHMgPyBsYWJlbHMubGVuZ3RoIDogMDtcbiAgICAgICAgICBpZiAodGhpcyAmJiB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLm1vZGUgPT09ICdkYXRhc2V0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YXNldC5sYWJlbCB8fCAnJztcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWxDb3VudCA+IDAgJiYgaXRlbS5kYXRhSW5kZXggPCBsYWJlbENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWxzW2l0ZW0uZGF0YUluZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfSxcbiAgICAgIGFmdGVyVGl0bGU6IG5vb3AsXG4gICAgICBiZWZvcmVCb2R5OiBub29wLFxuICAgICAgYmVmb3JlTGFiZWw6IG5vb3AsXG4gICAgICBsYWJlbCh0b29sdGlwSXRlbSkge1xuICAgICAgICBpZiAodGhpcyAmJiB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLm1vZGUgPT09ICdkYXRhc2V0Jykge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwSXRlbS5sYWJlbCArICc6ICcgKyB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZSB8fCB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFiZWwgPSB0b29sdGlwSXRlbS5kYXRhc2V0LmxhYmVsIHx8ICcnO1xuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICBsYWJlbCArPSAnOiAnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdG9vbHRpcEl0ZW0uZm9ybWF0dGVkVmFsdWU7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZih2YWx1ZSkpIHtcbiAgICAgICAgICBsYWJlbCArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICB9LFxuICAgICAgbGFiZWxDb2xvcih0b29sdGlwSXRlbSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdG9vbHRpcEl0ZW0uY2hhcnQuZ2V0RGF0YXNldE1ldGEodG9vbHRpcEl0ZW0uZGF0YXNldEluZGV4KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZSh0b29sdGlwSXRlbS5kYXRhSW5kZXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJvcmRlckNvbG9yOiBvcHRpb25zLmJvcmRlckNvbG9yLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgYm9yZGVyV2lkdGg6IG9wdGlvbnMuYm9yZGVyV2lkdGgsXG4gICAgICAgICAgYm9yZGVyRGFzaDogb3B0aW9ucy5ib3JkZXJEYXNoLFxuICAgICAgICAgIGJvcmRlckRhc2hPZmZzZXQ6IG9wdGlvbnMuYm9yZGVyRGFzaE9mZnNldCxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbGFiZWxUZXh0Q29sb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm9keUNvbG9yO1xuICAgICAgfSxcbiAgICAgIGxhYmVsUG9pbnRTdHlsZSh0b29sdGlwSXRlbSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdG9vbHRpcEl0ZW0uY2hhcnQuZ2V0RGF0YXNldE1ldGEodG9vbHRpcEl0ZW0uZGF0YXNldEluZGV4KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZSh0b29sdGlwSXRlbS5kYXRhSW5kZXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBvaW50U3R5bGU6IG9wdGlvbnMucG9pbnRTdHlsZSxcbiAgICAgICAgICByb3RhdGlvbjogb3B0aW9ucy5yb3RhdGlvbixcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBhZnRlckxhYmVsOiBub29wLFxuICAgICAgYWZ0ZXJCb2R5OiBub29wLFxuICAgICAgYmVmb3JlRm9vdGVyOiBub29wLFxuICAgICAgZm9vdGVyOiBub29wLFxuICAgICAgYWZ0ZXJGb290ZXI6IG5vb3BcbiAgICB9XG4gIH0sXG4gIGRlZmF1bHRSb3V0ZXM6IHtcbiAgICBib2R5Rm9udDogJ2ZvbnQnLFxuICAgIGZvb3RlckZvbnQ6ICdmb250JyxcbiAgICB0aXRsZUZvbnQ6ICdmb250J1xuICB9LFxuICBkZXNjcmlwdG9yczoge1xuICAgIF9zY3JpcHRhYmxlOiAobmFtZSkgPT4gbmFtZSAhPT0gJ2ZpbHRlcicgJiYgbmFtZSAhPT0gJ2l0ZW1Tb3J0JyAmJiBuYW1lICE9PSAnZXh0ZXJuYWwnLFxuICAgIF9pbmRleGFibGU6IGZhbHNlLFxuICAgIGNhbGxiYWNrczoge1xuICAgICAgX3NjcmlwdGFibGU6IGZhbHNlLFxuICAgICAgX2luZGV4YWJsZTogZmFsc2UsXG4gICAgfSxcbiAgICBhbmltYXRpb246IHtcbiAgICAgIF9mYWxsYmFjazogZmFsc2VcbiAgICB9LFxuICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgIF9mYWxsYmFjazogJ2FuaW1hdGlvbidcbiAgICB9XG4gIH0sXG4gIGFkZGl0aW9uYWxPcHRpb25TY29wZXM6IFsnaW50ZXJhY3Rpb24nXVxufTtcblxudmFyIHBsdWdpbnMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5fX3Byb3RvX186IG51bGwsXG5EZWNpbWF0aW9uOiBwbHVnaW5fZGVjaW1hdGlvbixcbkZpbGxlcjogaW5kZXgsXG5MZWdlbmQ6IHBsdWdpbl9sZWdlbmQsXG5TdWJUaXRsZTogcGx1Z2luX3N1YnRpdGxlLFxuVGl0bGU6IHBsdWdpbl90aXRsZSxcblRvb2x0aXA6IHBsdWdpbl90b29sdGlwXG59KTtcblxuY29uc3QgYWRkSWZTdHJpbmcgPSAobGFiZWxzLCByYXcsIGluZGV4LCBhZGRlZExhYmVscykgPT4ge1xuICBpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycpIHtcbiAgICBpbmRleCA9IGxhYmVscy5wdXNoKHJhdykgLSAxO1xuICAgIGFkZGVkTGFiZWxzLnVuc2hpZnQoe2luZGV4LCBsYWJlbDogcmF3fSk7XG4gIH0gZWxzZSBpZiAoaXNOYU4ocmF3KSkge1xuICAgIGluZGV4ID0gbnVsbDtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59O1xuZnVuY3Rpb24gZmluZE9yQWRkTGFiZWwobGFiZWxzLCByYXcsIGluZGV4LCBhZGRlZExhYmVscykge1xuICBjb25zdCBmaXJzdCA9IGxhYmVscy5pbmRleE9mKHJhdyk7XG4gIGlmIChmaXJzdCA9PT0gLTEpIHtcbiAgICByZXR1cm4gYWRkSWZTdHJpbmcobGFiZWxzLCByYXcsIGluZGV4LCBhZGRlZExhYmVscyk7XG4gIH1cbiAgY29uc3QgbGFzdCA9IGxhYmVscy5sYXN0SW5kZXhPZihyYXcpO1xuICByZXR1cm4gZmlyc3QgIT09IGxhc3QgPyBpbmRleCA6IGZpcnN0O1xufVxuY29uc3QgdmFsaWRJbmRleCA9IChpbmRleCwgbWF4KSA9PiBpbmRleCA9PT0gbnVsbCA/IG51bGwgOiBfbGltaXRWYWx1ZShNYXRoLnJvdW5kKGluZGV4KSwgMCwgbWF4KTtcbmNsYXNzIENhdGVnb3J5U2NhbGUgZXh0ZW5kcyBTY2FsZSB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKGNmZyk7XG4gICAgdGhpcy5fc3RhcnRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl92YWx1ZVJhbmdlID0gMDtcbiAgICB0aGlzLl9hZGRlZExhYmVscyA9IFtdO1xuICB9XG4gIGluaXQoc2NhbGVPcHRpb25zKSB7XG4gICAgY29uc3QgYWRkZWQgPSB0aGlzLl9hZGRlZExhYmVscztcbiAgICBpZiAoYWRkZWQubGVuZ3RoKSB7XG4gICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgICAgZm9yIChjb25zdCB7aW5kZXgsIGxhYmVsfSBvZiBhZGRlZCkge1xuICAgICAgICBpZiAobGFiZWxzW2luZGV4XSA9PT0gbGFiZWwpIHtcbiAgICAgICAgICBsYWJlbHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fYWRkZWRMYWJlbHMgPSBbXTtcbiAgICB9XG4gICAgc3VwZXIuaW5pdChzY2FsZU9wdGlvbnMpO1xuICB9XG4gIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICBpZiAoaXNOdWxsT3JVbmRlZihyYXcpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKTtcbiAgICBpbmRleCA9IGlzRmluaXRlKGluZGV4KSAmJiBsYWJlbHNbaW5kZXhdID09PSByYXcgPyBpbmRleFxuICAgICAgOiBmaW5kT3JBZGRMYWJlbChsYWJlbHMsIHJhdywgdmFsdWVPckRlZmF1bHQoaW5kZXgsIHJhdyksIHRoaXMuX2FkZGVkTGFiZWxzKTtcbiAgICByZXR1cm4gdmFsaWRJbmRleChpbmRleCwgbGFiZWxzLmxlbmd0aCAtIDEpO1xuICB9XG4gIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgY29uc3Qge21pbkRlZmluZWQsIG1heERlZmluZWR9ID0gdGhpcy5nZXRVc2VyQm91bmRzKCk7XG4gICAgbGV0IHttaW4sIG1heH0gPSB0aGlzLmdldE1pbk1heCh0cnVlKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmJvdW5kcyA9PT0gJ3RpY2tzJykge1xuICAgICAgaWYgKCFtaW5EZWZpbmVkKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoIW1heERlZmluZWQpIHtcbiAgICAgICAgbWF4ID0gdGhpcy5nZXRMYWJlbHMoKS5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgfVxuICBidWlsZFRpY2tzKCkge1xuICAgIGNvbnN0IG1pbiA9IHRoaXMubWluO1xuICAgIGNvbnN0IG1heCA9IHRoaXMubWF4O1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMub3B0aW9ucy5vZmZzZXQ7XG4gICAgY29uc3QgdGlja3MgPSBbXTtcbiAgICBsZXQgbGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKTtcbiAgICBsYWJlbHMgPSAobWluID09PSAwICYmIG1heCA9PT0gbGFiZWxzLmxlbmd0aCAtIDEpID8gbGFiZWxzIDogbGFiZWxzLnNsaWNlKG1pbiwgbWF4ICsgMSk7XG4gICAgdGhpcy5fdmFsdWVSYW5nZSA9IE1hdGgubWF4KGxhYmVscy5sZW5ndGggLSAob2Zmc2V0ID8gMCA6IDEpLCAxKTtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gdGhpcy5taW4gLSAob2Zmc2V0ID8gMC41IDogMCk7XG4gICAgZm9yIChsZXQgdmFsdWUgPSBtaW47IHZhbHVlIDw9IG1heDsgdmFsdWUrKykge1xuICAgICAgdGlja3MucHVzaCh7dmFsdWV9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRpY2tzO1xuICB9XG4gIGdldExhYmVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgIGlmICh2YWx1ZSA+PSAwICYmIHZhbHVlIDwgbGFiZWxzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGxhYmVsc1t2YWx1ZV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBjb25maWd1cmUoKSB7XG4gICAgc3VwZXIuY29uZmlndXJlKCk7XG4gICAgaWYgKCF0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICB0aGlzLl9yZXZlcnNlUGl4ZWxzID0gIXRoaXMuX3JldmVyc2VQaXhlbHM7XG4gICAgfVxuICB9XG4gIGdldFBpeGVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gTmFOIDogdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKHZhbHVlIC0gdGhpcy5fc3RhcnRWYWx1ZSkgLyB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgfVxuICBnZXRQaXhlbEZvclRpY2soaW5kZXgpIHtcbiAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRpY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZvclZhbHVlKHRpY2tzW2luZGV4XS52YWx1ZSk7XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuX3N0YXJ0VmFsdWUgKyB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCkgKiB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgfVxuICBnZXRCYXNlUGl4ZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuYm90dG9tO1xuICB9XG59XG5DYXRlZ29yeVNjYWxlLmlkID0gJ2NhdGVnb3J5JztcbkNhdGVnb3J5U2NhbGUuZGVmYXVsdHMgPSB7XG4gIHRpY2tzOiB7XG4gICAgY2FsbGJhY2s6IENhdGVnb3J5U2NhbGUucHJvdG90eXBlLmdldExhYmVsRm9yVmFsdWVcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVUaWNrcyQxKGdlbmVyYXRpb25PcHRpb25zLCBkYXRhUmFuZ2UpIHtcbiAgY29uc3QgdGlja3MgPSBbXTtcbiAgY29uc3QgTUlOX1NQQUNJTkcgPSAxZS0xNDtcbiAgY29uc3Qge2JvdW5kcywgc3RlcCwgbWluLCBtYXgsIHByZWNpc2lvbiwgY291bnQsIG1heFRpY2tzLCBtYXhEaWdpdHMsIGluY2x1ZGVCb3VuZHN9ID0gZ2VuZXJhdGlvbk9wdGlvbnM7XG4gIGNvbnN0IHVuaXQgPSBzdGVwIHx8IDE7XG4gIGNvbnN0IG1heFNwYWNlcyA9IG1heFRpY2tzIC0gMTtcbiAgY29uc3Qge21pbjogcm1pbiwgbWF4OiBybWF4fSA9IGRhdGFSYW5nZTtcbiAgY29uc3QgbWluRGVmaW5lZCA9ICFpc051bGxPclVuZGVmKG1pbik7XG4gIGNvbnN0IG1heERlZmluZWQgPSAhaXNOdWxsT3JVbmRlZihtYXgpO1xuICBjb25zdCBjb3VudERlZmluZWQgPSAhaXNOdWxsT3JVbmRlZihjb3VudCk7XG4gIGNvbnN0IG1pblNwYWNpbmcgPSAocm1heCAtIHJtaW4pIC8gKG1heERpZ2l0cyArIDEpO1xuICBsZXQgc3BhY2luZyA9IG5pY2VOdW0oKHJtYXggLSBybWluKSAvIG1heFNwYWNlcyAvIHVuaXQpICogdW5pdDtcbiAgbGV0IGZhY3RvciwgbmljZU1pbiwgbmljZU1heCwgbnVtU3BhY2VzO1xuICBpZiAoc3BhY2luZyA8IE1JTl9TUEFDSU5HICYmICFtaW5EZWZpbmVkICYmICFtYXhEZWZpbmVkKSB7XG4gICAgcmV0dXJuIFt7dmFsdWU6IHJtaW59LCB7dmFsdWU6IHJtYXh9XTtcbiAgfVxuICBudW1TcGFjZXMgPSBNYXRoLmNlaWwocm1heCAvIHNwYWNpbmcpIC0gTWF0aC5mbG9vcihybWluIC8gc3BhY2luZyk7XG4gIGlmIChudW1TcGFjZXMgPiBtYXhTcGFjZXMpIHtcbiAgICBzcGFjaW5nID0gbmljZU51bShudW1TcGFjZXMgKiBzcGFjaW5nIC8gbWF4U3BhY2VzIC8gdW5pdCkgKiB1bml0O1xuICB9XG4gIGlmICghaXNOdWxsT3JVbmRlZihwcmVjaXNpb24pKSB7XG4gICAgZmFjdG9yID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gICAgc3BhY2luZyA9IE1hdGguY2VpbChzcGFjaW5nICogZmFjdG9yKSAvIGZhY3RvcjtcbiAgfVxuICBpZiAoYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgbmljZU1pbiA9IE1hdGguZmxvb3Iocm1pbiAvIHNwYWNpbmcpICogc3BhY2luZztcbiAgICBuaWNlTWF4ID0gTWF0aC5jZWlsKHJtYXggLyBzcGFjaW5nKSAqIHNwYWNpbmc7XG4gIH0gZWxzZSB7XG4gICAgbmljZU1pbiA9IHJtaW47XG4gICAgbmljZU1heCA9IHJtYXg7XG4gIH1cbiAgaWYgKG1pbkRlZmluZWQgJiYgbWF4RGVmaW5lZCAmJiBzdGVwICYmIGFsbW9zdFdob2xlKChtYXggLSBtaW4pIC8gc3RlcCwgc3BhY2luZyAvIDEwMDApKSB7XG4gICAgbnVtU3BhY2VzID0gTWF0aC5yb3VuZChNYXRoLm1pbigobWF4IC0gbWluKSAvIHNwYWNpbmcsIG1heFRpY2tzKSk7XG4gICAgc3BhY2luZyA9IChtYXggLSBtaW4pIC8gbnVtU3BhY2VzO1xuICAgIG5pY2VNaW4gPSBtaW47XG4gICAgbmljZU1heCA9IG1heDtcbiAgfSBlbHNlIGlmIChjb3VudERlZmluZWQpIHtcbiAgICBuaWNlTWluID0gbWluRGVmaW5lZCA/IG1pbiA6IG5pY2VNaW47XG4gICAgbmljZU1heCA9IG1heERlZmluZWQgPyBtYXggOiBuaWNlTWF4O1xuICAgIG51bVNwYWNlcyA9IGNvdW50IC0gMTtcbiAgICBzcGFjaW5nID0gKG5pY2VNYXggLSBuaWNlTWluKSAvIG51bVNwYWNlcztcbiAgfSBlbHNlIHtcbiAgICBudW1TcGFjZXMgPSAobmljZU1heCAtIG5pY2VNaW4pIC8gc3BhY2luZztcbiAgICBpZiAoYWxtb3N0RXF1YWxzKG51bVNwYWNlcywgTWF0aC5yb3VuZChudW1TcGFjZXMpLCBzcGFjaW5nIC8gMTAwMCkpIHtcbiAgICAgIG51bVNwYWNlcyA9IE1hdGgucm91bmQobnVtU3BhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbnVtU3BhY2VzID0gTWF0aC5jZWlsKG51bVNwYWNlcyk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGRlY2ltYWxQbGFjZXMgPSBNYXRoLm1heChcbiAgICBfZGVjaW1hbFBsYWNlcyhzcGFjaW5nKSxcbiAgICBfZGVjaW1hbFBsYWNlcyhuaWNlTWluKVxuICApO1xuICBmYWN0b3IgPSBNYXRoLnBvdygxMCwgaXNOdWxsT3JVbmRlZihwcmVjaXNpb24pID8gZGVjaW1hbFBsYWNlcyA6IHByZWNpc2lvbik7XG4gIG5pY2VNaW4gPSBNYXRoLnJvdW5kKG5pY2VNaW4gKiBmYWN0b3IpIC8gZmFjdG9yO1xuICBuaWNlTWF4ID0gTWF0aC5yb3VuZChuaWNlTWF4ICogZmFjdG9yKSAvIGZhY3RvcjtcbiAgbGV0IGogPSAwO1xuICBpZiAobWluRGVmaW5lZCkge1xuICAgIGlmIChpbmNsdWRlQm91bmRzICYmIG5pY2VNaW4gIT09IG1pbikge1xuICAgICAgdGlja3MucHVzaCh7dmFsdWU6IG1pbn0pO1xuICAgICAgaWYgKG5pY2VNaW4gPCBtaW4pIHtcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgICAgaWYgKGFsbW9zdEVxdWFscyhNYXRoLnJvdW5kKChuaWNlTWluICsgaiAqIHNwYWNpbmcpICogZmFjdG9yKSAvIGZhY3RvciwgbWluLCByZWxhdGl2ZUxhYmVsU2l6ZShtaW4sIG1pblNwYWNpbmcsIGdlbmVyYXRpb25PcHRpb25zKSkpIHtcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmljZU1pbiA8IG1pbikge1xuICAgICAgaisrO1xuICAgIH1cbiAgfVxuICBmb3IgKDsgaiA8IG51bVNwYWNlczsgKytqKSB7XG4gICAgdGlja3MucHVzaCh7dmFsdWU6IE1hdGgucm91bmQoKG5pY2VNaW4gKyBqICogc3BhY2luZykgKiBmYWN0b3IpIC8gZmFjdG9yfSk7XG4gIH1cbiAgaWYgKG1heERlZmluZWQgJiYgaW5jbHVkZUJvdW5kcyAmJiBuaWNlTWF4ICE9PSBtYXgpIHtcbiAgICBpZiAodGlja3MubGVuZ3RoICYmIGFsbW9zdEVxdWFscyh0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS52YWx1ZSwgbWF4LCByZWxhdGl2ZUxhYmVsU2l6ZShtYXgsIG1pblNwYWNpbmcsIGdlbmVyYXRpb25PcHRpb25zKSkpIHtcbiAgICAgIHRpY2tzW3RpY2tzLmxlbmd0aCAtIDFdLnZhbHVlID0gbWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aWNrcy5wdXNoKHt2YWx1ZTogbWF4fSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFtYXhEZWZpbmVkIHx8IG5pY2VNYXggPT09IG1heCkge1xuICAgIHRpY2tzLnB1c2goe3ZhbHVlOiBuaWNlTWF4fSk7XG4gIH1cbiAgcmV0dXJuIHRpY2tzO1xufVxuZnVuY3Rpb24gcmVsYXRpdmVMYWJlbFNpemUodmFsdWUsIG1pblNwYWNpbmcsIHtob3Jpem9udGFsLCBtaW5Sb3RhdGlvbn0pIHtcbiAgY29uc3QgcmFkID0gdG9SYWRpYW5zKG1pblJvdGF0aW9uKTtcbiAgY29uc3QgcmF0aW8gPSAoaG9yaXpvbnRhbCA/IE1hdGguc2luKHJhZCkgOiBNYXRoLmNvcyhyYWQpKSB8fCAwLjAwMTtcbiAgY29uc3QgbGVuZ3RoID0gMC43NSAqIG1pblNwYWNpbmcgKiAoJycgKyB2YWx1ZSkubGVuZ3RoO1xuICByZXR1cm4gTWF0aC5taW4obWluU3BhY2luZyAvIHJhdGlvLCBsZW5ndGgpO1xufVxuY2xhc3MgTGluZWFyU2NhbGVCYXNlIGV4dGVuZHMgU2NhbGUge1xuICBjb25zdHJ1Y3RvcihjZmcpIHtcbiAgICBzdXBlcihjZmcpO1xuICAgIHRoaXMuc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5lbmQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RhcnRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9lbmRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl92YWx1ZVJhbmdlID0gMDtcbiAgfVxuICBwYXJzZShyYXcsIGluZGV4KSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWYocmF3KSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIHJhdyA9PT0gJ251bWJlcicgfHwgcmF3IGluc3RhbmNlb2YgTnVtYmVyKSAmJiAhaXNGaW5pdGUoK3JhdykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gK3JhdztcbiAgfVxuICBoYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCkge1xuICAgIGNvbnN0IHtiZWdpbkF0WmVyb30gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qge21pbkRlZmluZWQsIG1heERlZmluZWR9ID0gdGhpcy5nZXRVc2VyQm91bmRzKCk7XG4gICAgbGV0IHttaW4sIG1heH0gPSB0aGlzO1xuICAgIGNvbnN0IHNldE1pbiA9IHYgPT4gKG1pbiA9IG1pbkRlZmluZWQgPyBtaW4gOiB2KTtcbiAgICBjb25zdCBzZXRNYXggPSB2ID0+IChtYXggPSBtYXhEZWZpbmVkID8gbWF4IDogdik7XG4gICAgaWYgKGJlZ2luQXRaZXJvKSB7XG4gICAgICBjb25zdCBtaW5TaWduID0gc2lnbihtaW4pO1xuICAgICAgY29uc3QgbWF4U2lnbiA9IHNpZ24obWF4KTtcbiAgICAgIGlmIChtaW5TaWduIDwgMCAmJiBtYXhTaWduIDwgMCkge1xuICAgICAgICBzZXRNYXgoMCk7XG4gICAgICB9IGVsc2UgaWYgKG1pblNpZ24gPiAwICYmIG1heFNpZ24gPiAwKSB7XG4gICAgICAgIHNldE1pbigwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1pbiA9PT0gbWF4KSB7XG4gICAgICBsZXQgb2Zmc2V0ID0gMTtcbiAgICAgIGlmIChtYXggPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgbWluIDw9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIG9mZnNldCA9IE1hdGguYWJzKG1heCAqIDAuMDUpO1xuICAgICAgfVxuICAgICAgc2V0TWF4KG1heCArIG9mZnNldCk7XG4gICAgICBpZiAoIWJlZ2luQXRaZXJvKSB7XG4gICAgICAgIHNldE1pbihtaW4gLSBvZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1pbiA9IG1pbjtcbiAgICB0aGlzLm1heCA9IG1heDtcbiAgfVxuICBnZXRUaWNrTGltaXQoKSB7XG4gICAgY29uc3QgdGlja09wdHMgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgbGV0IHttYXhUaWNrc0xpbWl0LCBzdGVwU2l6ZX0gPSB0aWNrT3B0cztcbiAgICBsZXQgbWF4VGlja3M7XG4gICAgaWYgKHN0ZXBTaXplKSB7XG4gICAgICBtYXhUaWNrcyA9IE1hdGguY2VpbCh0aGlzLm1heCAvIHN0ZXBTaXplKSAtIE1hdGguZmxvb3IodGhpcy5taW4gLyBzdGVwU2l6ZSkgKyAxO1xuICAgICAgaWYgKG1heFRpY2tzID4gMTAwMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYHNjYWxlcy4ke3RoaXMuaWR9LnRpY2tzLnN0ZXBTaXplOiAke3N0ZXBTaXplfSB3b3VsZCByZXN1bHQgZ2VuZXJhdGluZyB1cCB0byAke21heFRpY2tzfSB0aWNrcy4gTGltaXRpbmcgdG8gMTAwMC5gKTtcbiAgICAgICAgbWF4VGlja3MgPSAxMDAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtYXhUaWNrcyA9IHRoaXMuY29tcHV0ZVRpY2tMaW1pdCgpO1xuICAgICAgbWF4VGlja3NMaW1pdCA9IG1heFRpY2tzTGltaXQgfHwgMTE7XG4gICAgfVxuICAgIGlmIChtYXhUaWNrc0xpbWl0KSB7XG4gICAgICBtYXhUaWNrcyA9IE1hdGgubWluKG1heFRpY2tzTGltaXQsIG1heFRpY2tzKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heFRpY2tzO1xuICB9XG4gIGNvbXB1dGVUaWNrTGltaXQoKSB7XG4gICAgcmV0dXJuIE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgfVxuICBidWlsZFRpY2tzKCkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3QgdGlja09wdHMgPSBvcHRzLnRpY2tzO1xuICAgIGxldCBtYXhUaWNrcyA9IHRoaXMuZ2V0VGlja0xpbWl0KCk7XG4gICAgbWF4VGlja3MgPSBNYXRoLm1heCgyLCBtYXhUaWNrcyk7XG4gICAgY29uc3QgbnVtZXJpY0dlbmVyYXRvck9wdGlvbnMgPSB7XG4gICAgICBtYXhUaWNrcyxcbiAgICAgIGJvdW5kczogb3B0cy5ib3VuZHMsXG4gICAgICBtaW46IG9wdHMubWluLFxuICAgICAgbWF4OiBvcHRzLm1heCxcbiAgICAgIHByZWNpc2lvbjogdGlja09wdHMucHJlY2lzaW9uLFxuICAgICAgc3RlcDogdGlja09wdHMuc3RlcFNpemUsXG4gICAgICBjb3VudDogdGlja09wdHMuY291bnQsXG4gICAgICBtYXhEaWdpdHM6IHRoaXMuX21heERpZ2l0cygpLFxuICAgICAgaG9yaXpvbnRhbDogdGhpcy5pc0hvcml6b250YWwoKSxcbiAgICAgIG1pblJvdGF0aW9uOiB0aWNrT3B0cy5taW5Sb3RhdGlvbiB8fCAwLFxuICAgICAgaW5jbHVkZUJvdW5kczogdGlja09wdHMuaW5jbHVkZUJvdW5kcyAhPT0gZmFsc2VcbiAgICB9O1xuICAgIGNvbnN0IGRhdGFSYW5nZSA9IHRoaXMuX3JhbmdlIHx8IHRoaXM7XG4gICAgY29uc3QgdGlja3MgPSBnZW5lcmF0ZVRpY2tzJDEobnVtZXJpY0dlbmVyYXRvck9wdGlvbnMsIGRhdGFSYW5nZSk7XG4gICAgaWYgKG9wdHMuYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICBfc2V0TWluQW5kTWF4QnlLZXkodGlja3MsIHRoaXMsICd2YWx1ZScpO1xuICAgIH1cbiAgICBpZiAob3B0cy5yZXZlcnNlKSB7XG4gICAgICB0aWNrcy5yZXZlcnNlKCk7XG4gICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5tYXg7XG4gICAgICB0aGlzLmVuZCA9IHRoaXMubWluO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5taW47XG4gICAgICB0aGlzLmVuZCA9IHRoaXMubWF4O1xuICAgIH1cbiAgICByZXR1cm4gdGlja3M7XG4gIH1cbiAgY29uZmlndXJlKCkge1xuICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICBsZXQgc3RhcnQgPSB0aGlzLm1pbjtcbiAgICBsZXQgZW5kID0gdGhpcy5tYXg7XG4gICAgc3VwZXIuY29uZmlndXJlKCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5vZmZzZXQgJiYgdGlja3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAoZW5kIC0gc3RhcnQpIC8gTWF0aC5tYXgodGlja3MubGVuZ3RoIC0gMSwgMSkgLyAyO1xuICAgICAgc3RhcnQgLT0gb2Zmc2V0O1xuICAgICAgZW5kICs9IG9mZnNldDtcbiAgICB9XG4gICAgdGhpcy5fc3RhcnRWYWx1ZSA9IHN0YXJ0O1xuICAgIHRoaXMuX2VuZFZhbHVlID0gZW5kO1xuICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSBlbmQgLSBzdGFydDtcbiAgfVxuICBnZXRMYWJlbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWx1ZSwgdGhpcy5jaGFydC5vcHRpb25zLmxvY2FsZSwgdGhpcy5vcHRpb25zLnRpY2tzLmZvcm1hdCk7XG4gIH1cbn1cblxuY2xhc3MgTGluZWFyU2NhbGUgZXh0ZW5kcyBMaW5lYXJTY2FsZUJhc2Uge1xuICBkZXRlcm1pbmVEYXRhTGltaXRzKCkge1xuICAgIGNvbnN0IHttaW4sIG1heH0gPSB0aGlzLmdldE1pbk1heCh0cnVlKTtcbiAgICB0aGlzLm1pbiA9IGlzTnVtYmVyRmluaXRlKG1pbikgPyBtaW4gOiAwO1xuICAgIHRoaXMubWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSA/IG1heCA6IDE7XG4gICAgdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCk7XG4gIH1cbiAgY29tcHV0ZVRpY2tMaW1pdCgpIHtcbiAgICBjb25zdCBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICBjb25zdCBsZW5ndGggPSBob3Jpem9udGFsID8gdGhpcy53aWR0aCA6IHRoaXMuaGVpZ2h0O1xuICAgIGNvbnN0IG1pblJvdGF0aW9uID0gdG9SYWRpYW5zKHRoaXMub3B0aW9ucy50aWNrcy5taW5Sb3RhdGlvbik7XG4gICAgY29uc3QgcmF0aW8gPSAoaG9yaXpvbnRhbCA/IE1hdGguc2luKG1pblJvdGF0aW9uKSA6IE1hdGguY29zKG1pblJvdGF0aW9uKSkgfHwgMC4wMDE7XG4gICAgY29uc3QgdGlja0ZvbnQgPSB0aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKDApO1xuICAgIHJldHVybiBNYXRoLmNlaWwobGVuZ3RoIC8gTWF0aC5taW4oNDAsIHRpY2tGb250LmxpbmVIZWlnaHQgLyByYXRpbykpO1xuICB9XG4gIGdldFBpeGVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBOYU4gOiB0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgodmFsdWUgLSB0aGlzLl9zdGFydFZhbHVlKSAvIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICB9XG4gIGdldFZhbHVlRm9yUGl4ZWwocGl4ZWwpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZSArIHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAqIHRoaXMuX3ZhbHVlUmFuZ2U7XG4gIH1cbn1cbkxpbmVhclNjYWxlLmlkID0gJ2xpbmVhcic7XG5MaW5lYXJTY2FsZS5kZWZhdWx0cyA9IHtcbiAgdGlja3M6IHtcbiAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5udW1lcmljXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGlzTWFqb3IodGlja1ZhbCkge1xuICBjb25zdCByZW1haW4gPSB0aWNrVmFsIC8gKE1hdGgucG93KDEwLCBNYXRoLmZsb29yKGxvZzEwKHRpY2tWYWwpKSkpO1xuICByZXR1cm4gcmVtYWluID09PSAxO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVUaWNrcyhnZW5lcmF0aW9uT3B0aW9ucywgZGF0YVJhbmdlKSB7XG4gIGNvbnN0IGVuZEV4cCA9IE1hdGguZmxvb3IobG9nMTAoZGF0YVJhbmdlLm1heCkpO1xuICBjb25zdCBlbmRTaWduaWZpY2FuZCA9IE1hdGguY2VpbChkYXRhUmFuZ2UubWF4IC8gTWF0aC5wb3coMTAsIGVuZEV4cCkpO1xuICBjb25zdCB0aWNrcyA9IFtdO1xuICBsZXQgdGlja1ZhbCA9IGZpbml0ZU9yRGVmYXVsdChnZW5lcmF0aW9uT3B0aW9ucy5taW4sIE1hdGgucG93KDEwLCBNYXRoLmZsb29yKGxvZzEwKGRhdGFSYW5nZS5taW4pKSkpO1xuICBsZXQgZXhwID0gTWF0aC5mbG9vcihsb2cxMCh0aWNrVmFsKSk7XG4gIGxldCBzaWduaWZpY2FuZCA9IE1hdGguZmxvb3IodGlja1ZhbCAvIE1hdGgucG93KDEwLCBleHApKTtcbiAgbGV0IHByZWNpc2lvbiA9IGV4cCA8IDAgPyBNYXRoLnBvdygxMCwgTWF0aC5hYnMoZXhwKSkgOiAxO1xuICBkbyB7XG4gICAgdGlja3MucHVzaCh7dmFsdWU6IHRpY2tWYWwsIG1ham9yOiBpc01ham9yKHRpY2tWYWwpfSk7XG4gICAgKytzaWduaWZpY2FuZDtcbiAgICBpZiAoc2lnbmlmaWNhbmQgPT09IDEwKSB7XG4gICAgICBzaWduaWZpY2FuZCA9IDE7XG4gICAgICArK2V4cDtcbiAgICAgIHByZWNpc2lvbiA9IGV4cCA+PSAwID8gMSA6IHByZWNpc2lvbjtcbiAgICB9XG4gICAgdGlja1ZhbCA9IE1hdGgucm91bmQoc2lnbmlmaWNhbmQgKiBNYXRoLnBvdygxMCwgZXhwKSAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247XG4gIH0gd2hpbGUgKGV4cCA8IGVuZEV4cCB8fCAoZXhwID09PSBlbmRFeHAgJiYgc2lnbmlmaWNhbmQgPCBlbmRTaWduaWZpY2FuZCkpO1xuICBjb25zdCBsYXN0VGljayA9IGZpbml0ZU9yRGVmYXVsdChnZW5lcmF0aW9uT3B0aW9ucy5tYXgsIHRpY2tWYWwpO1xuICB0aWNrcy5wdXNoKHt2YWx1ZTogbGFzdFRpY2ssIG1ham9yOiBpc01ham9yKHRpY2tWYWwpfSk7XG4gIHJldHVybiB0aWNrcztcbn1cbmNsYXNzIExvZ2FyaXRobWljU2NhbGUgZXh0ZW5kcyBTY2FsZSB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKGNmZyk7XG4gICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmVuZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSAwO1xuICB9XG4gIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IExpbmVhclNjYWxlQmFzZS5wcm90b3R5cGUucGFyc2UuYXBwbHkodGhpcywgW3JhdywgaW5kZXhdKTtcbiAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgIHRoaXMuX3plcm8gPSB0cnVlO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGlzTnVtYmVyRmluaXRlKHZhbHVlKSAmJiB2YWx1ZSA+IDAgPyB2YWx1ZSA6IG51bGw7XG4gIH1cbiAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHtcbiAgICBjb25zdCB7bWluLCBtYXh9ID0gdGhpcy5nZXRNaW5NYXgodHJ1ZSk7XG4gICAgdGhpcy5taW4gPSBpc051bWJlckZpbml0ZShtaW4pID8gTWF0aC5tYXgoMCwgbWluKSA6IG51bGw7XG4gICAgdGhpcy5tYXggPSBpc051bWJlckZpbml0ZShtYXgpID8gTWF0aC5tYXgoMCwgbWF4KSA6IG51bGw7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5iZWdpbkF0WmVybykge1xuICAgICAgdGhpcy5femVybyA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpO1xuICB9XG4gIGhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKSB7XG4gICAgY29uc3Qge21pbkRlZmluZWQsIG1heERlZmluZWR9ID0gdGhpcy5nZXRVc2VyQm91bmRzKCk7XG4gICAgbGV0IG1pbiA9IHRoaXMubWluO1xuICAgIGxldCBtYXggPSB0aGlzLm1heDtcbiAgICBjb25zdCBzZXRNaW4gPSB2ID0+IChtaW4gPSBtaW5EZWZpbmVkID8gbWluIDogdik7XG4gICAgY29uc3Qgc2V0TWF4ID0gdiA9PiAobWF4ID0gbWF4RGVmaW5lZCA/IG1heCA6IHYpO1xuICAgIGNvbnN0IGV4cCA9ICh2LCBtKSA9PiBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihsb2cxMCh2KSkgKyBtKTtcbiAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgIGlmIChtaW4gPD0gMCkge1xuICAgICAgICBzZXRNaW4oMSk7XG4gICAgICAgIHNldE1heCgxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRNaW4oZXhwKG1pbiwgLTEpKTtcbiAgICAgICAgc2V0TWF4KGV4cChtYXgsICsxKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtaW4gPD0gMCkge1xuICAgICAgc2V0TWluKGV4cChtYXgsIC0xKSk7XG4gICAgfVxuICAgIGlmIChtYXggPD0gMCkge1xuICAgICAgc2V0TWF4KGV4cChtaW4sICsxKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl96ZXJvICYmIHRoaXMubWluICE9PSB0aGlzLl9zdWdnZXN0ZWRNaW4gJiYgbWluID09PSBleHAodGhpcy5taW4sIDApKSB7XG4gICAgICBzZXRNaW4oZXhwKG1pbiwgLTEpKTtcbiAgICB9XG4gICAgdGhpcy5taW4gPSBtaW47XG4gICAgdGhpcy5tYXggPSBtYXg7XG4gIH1cbiAgYnVpbGRUaWNrcygpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGdlbmVyYXRpb25PcHRpb25zID0ge1xuICAgICAgbWluOiB0aGlzLl91c2VyTWluLFxuICAgICAgbWF4OiB0aGlzLl91c2VyTWF4XG4gICAgfTtcbiAgICBjb25zdCB0aWNrcyA9IGdlbmVyYXRlVGlja3MoZ2VuZXJhdGlvbk9wdGlvbnMsIHRoaXMpO1xuICAgIGlmIChvcHRzLmJvdW5kcyA9PT0gJ3RpY2tzJykge1xuICAgICAgX3NldE1pbkFuZE1heEJ5S2V5KHRpY2tzLCB0aGlzLCAndmFsdWUnKTtcbiAgICB9XG4gICAgaWYgKG9wdHMucmV2ZXJzZSkge1xuICAgICAgdGlja3MucmV2ZXJzZSgpO1xuICAgICAgdGhpcy5zdGFydCA9IHRoaXMubWF4O1xuICAgICAgdGhpcy5lbmQgPSB0aGlzLm1pbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGFydCA9IHRoaXMubWluO1xuICAgICAgdGhpcy5lbmQgPSB0aGlzLm1heDtcbiAgICB9XG4gICAgcmV0dXJuIHRpY2tzO1xuICB9XG4gIGdldExhYmVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyAnMCdcbiAgICAgIDogZm9ybWF0TnVtYmVyKHZhbHVlLCB0aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlLCB0aGlzLm9wdGlvbnMudGlja3MuZm9ybWF0KTtcbiAgfVxuICBjb25maWd1cmUoKSB7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLm1pbjtcbiAgICBzdXBlci5jb25maWd1cmUoKTtcbiAgICB0aGlzLl9zdGFydFZhbHVlID0gbG9nMTAoc3RhcnQpO1xuICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSBsb2cxMCh0aGlzLm1heCkgLSBsb2cxMChzdGFydCk7XG4gIH1cbiAgZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMubWluO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwodmFsdWUgPT09IHRoaXMubWluXG4gICAgICA/IDBcbiAgICAgIDogKGxvZzEwKHZhbHVlKSAtIHRoaXMuX3N0YXJ0VmFsdWUpIC8gdGhpcy5fdmFsdWVSYW5nZSk7XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgIGNvbnN0IGRlY2ltYWwgPSB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCk7XG4gICAgcmV0dXJuIE1hdGgucG93KDEwLCB0aGlzLl9zdGFydFZhbHVlICsgZGVjaW1hbCAqIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICB9XG59XG5Mb2dhcml0aG1pY1NjYWxlLmlkID0gJ2xvZ2FyaXRobWljJztcbkxvZ2FyaXRobWljU2NhbGUuZGVmYXVsdHMgPSB7XG4gIHRpY2tzOiB7XG4gICAgY2FsbGJhY2s6IFRpY2tzLmZvcm1hdHRlcnMubG9nYXJpdGhtaWMsXG4gICAgbWFqb3I6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldFRpY2tCYWNrZHJvcEhlaWdodChvcHRzKSB7XG4gIGNvbnN0IHRpY2tPcHRzID0gb3B0cy50aWNrcztcbiAgaWYgKHRpY2tPcHRzLmRpc3BsYXkgJiYgb3B0cy5kaXNwbGF5KSB7XG4gICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyh0aWNrT3B0cy5iYWNrZHJvcFBhZGRpbmcpO1xuICAgIHJldHVybiB2YWx1ZU9yRGVmYXVsdCh0aWNrT3B0cy5mb250ICYmIHRpY2tPcHRzLmZvbnQuc2l6ZSwgZGVmYXVsdHMuZm9udC5zaXplKSArIHBhZGRpbmcuaGVpZ2h0O1xuICB9XG4gIHJldHVybiAwO1xufVxuZnVuY3Rpb24gbWVhc3VyZUxhYmVsU2l6ZShjdHgsIGZvbnQsIGxhYmVsKSB7XG4gIGxhYmVsID0gaXNBcnJheShsYWJlbCkgPyBsYWJlbCA6IFtsYWJlbF07XG4gIHJldHVybiB7XG4gICAgdzogX2xvbmdlc3RUZXh0KGN0eCwgZm9udC5zdHJpbmcsIGxhYmVsKSxcbiAgICBoOiBsYWJlbC5sZW5ndGggKiBmb250LmxpbmVIZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIGRldGVybWluZUxpbWl0cyhhbmdsZSwgcG9zLCBzaXplLCBtaW4sIG1heCkge1xuICBpZiAoYW5nbGUgPT09IG1pbiB8fCBhbmdsZSA9PT0gbWF4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiBwb3MgLSAoc2l6ZSAvIDIpLFxuICAgICAgZW5kOiBwb3MgKyAoc2l6ZSAvIDIpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChhbmdsZSA8IG1pbiB8fCBhbmdsZSA+IG1heCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogcG9zIC0gc2l6ZSxcbiAgICAgIGVuZDogcG9zXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBwb3MsXG4gICAgZW5kOiBwb3MgKyBzaXplXG4gIH07XG59XG5mdW5jdGlvbiBmaXRXaXRoUG9pbnRMYWJlbHMoc2NhbGUpIHtcbiAgY29uc3Qgb3JpZyA9IHtcbiAgICBsOiBzY2FsZS5sZWZ0ICsgc2NhbGUuX3BhZGRpbmcubGVmdCxcbiAgICByOiBzY2FsZS5yaWdodCAtIHNjYWxlLl9wYWRkaW5nLnJpZ2h0LFxuICAgIHQ6IHNjYWxlLnRvcCArIHNjYWxlLl9wYWRkaW5nLnRvcCxcbiAgICBiOiBzY2FsZS5ib3R0b20gLSBzY2FsZS5fcGFkZGluZy5ib3R0b21cbiAgfTtcbiAgY29uc3QgbGltaXRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3JpZyk7XG4gIGNvbnN0IGxhYmVsU2l6ZXMgPSBbXTtcbiAgY29uc3QgcGFkZGluZyA9IFtdO1xuICBjb25zdCB2YWx1ZUNvdW50ID0gc2NhbGUuX3BvaW50TGFiZWxzLmxlbmd0aDtcbiAgY29uc3QgcG9pbnRMYWJlbE9wdHMgPSBzY2FsZS5vcHRpb25zLnBvaW50TGFiZWxzO1xuICBjb25zdCBhZGRpdGlvbmFsQW5nbGUgPSBwb2ludExhYmVsT3B0cy5jZW50ZXJQb2ludExhYmVscyA/IFBJIC8gdmFsdWVDb3VudCA6IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVDb3VudDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0cyA9IHBvaW50TGFiZWxPcHRzLnNldENvbnRleHQoc2NhbGUuZ2V0UG9pbnRMYWJlbENvbnRleHQoaSkpO1xuICAgIHBhZGRpbmdbaV0gPSBvcHRzLnBhZGRpbmc7XG4gICAgY29uc3QgcG9pbnRQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb24oaSwgc2NhbGUuZHJhd2luZ0FyZWEgKyBwYWRkaW5nW2ldLCBhZGRpdGlvbmFsQW5nbGUpO1xuICAgIGNvbnN0IHBsRm9udCA9IHRvRm9udChvcHRzLmZvbnQpO1xuICAgIGNvbnN0IHRleHRTaXplID0gbWVhc3VyZUxhYmVsU2l6ZShzY2FsZS5jdHgsIHBsRm9udCwgc2NhbGUuX3BvaW50TGFiZWxzW2ldKTtcbiAgICBsYWJlbFNpemVzW2ldID0gdGV4dFNpemU7XG4gICAgY29uc3QgYW5nbGVSYWRpYW5zID0gX25vcm1hbGl6ZUFuZ2xlKHNjYWxlLmdldEluZGV4QW5nbGUoaSkgKyBhZGRpdGlvbmFsQW5nbGUpO1xuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5yb3VuZCh0b0RlZ3JlZXMoYW5nbGVSYWRpYW5zKSk7XG4gICAgY29uc3QgaExpbWl0cyA9IGRldGVybWluZUxpbWl0cyhhbmdsZSwgcG9pbnRQb3NpdGlvbi54LCB0ZXh0U2l6ZS53LCAwLCAxODApO1xuICAgIGNvbnN0IHZMaW1pdHMgPSBkZXRlcm1pbmVMaW1pdHMoYW5nbGUsIHBvaW50UG9zaXRpb24ueSwgdGV4dFNpemUuaCwgOTAsIDI3MCk7XG4gICAgdXBkYXRlTGltaXRzKGxpbWl0cywgb3JpZywgYW5nbGVSYWRpYW5zLCBoTGltaXRzLCB2TGltaXRzKTtcbiAgfVxuICBzY2FsZS5zZXRDZW50ZXJQb2ludChcbiAgICBvcmlnLmwgLSBsaW1pdHMubCxcbiAgICBsaW1pdHMuciAtIG9yaWcucixcbiAgICBvcmlnLnQgLSBsaW1pdHMudCxcbiAgICBsaW1pdHMuYiAtIG9yaWcuYlxuICApO1xuICBzY2FsZS5fcG9pbnRMYWJlbEl0ZW1zID0gYnVpbGRQb2ludExhYmVsSXRlbXMoc2NhbGUsIGxhYmVsU2l6ZXMsIHBhZGRpbmcpO1xufVxuZnVuY3Rpb24gdXBkYXRlTGltaXRzKGxpbWl0cywgb3JpZywgYW5nbGUsIGhMaW1pdHMsIHZMaW1pdHMpIHtcbiAgY29uc3Qgc2luID0gTWF0aC5hYnMoTWF0aC5zaW4oYW5nbGUpKTtcbiAgY29uc3QgY29zID0gTWF0aC5hYnMoTWF0aC5jb3MoYW5nbGUpKTtcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGlmIChoTGltaXRzLnN0YXJ0IDwgb3JpZy5sKSB7XG4gICAgeCA9IChvcmlnLmwgLSBoTGltaXRzLnN0YXJ0KSAvIHNpbjtcbiAgICBsaW1pdHMubCA9IE1hdGgubWluKGxpbWl0cy5sLCBvcmlnLmwgLSB4KTtcbiAgfSBlbHNlIGlmIChoTGltaXRzLmVuZCA+IG9yaWcucikge1xuICAgIHggPSAoaExpbWl0cy5lbmQgLSBvcmlnLnIpIC8gc2luO1xuICAgIGxpbWl0cy5yID0gTWF0aC5tYXgobGltaXRzLnIsIG9yaWcuciArIHgpO1xuICB9XG4gIGlmICh2TGltaXRzLnN0YXJ0IDwgb3JpZy50KSB7XG4gICAgeSA9IChvcmlnLnQgLSB2TGltaXRzLnN0YXJ0KSAvIGNvcztcbiAgICBsaW1pdHMudCA9IE1hdGgubWluKGxpbWl0cy50LCBvcmlnLnQgLSB5KTtcbiAgfSBlbHNlIGlmICh2TGltaXRzLmVuZCA+IG9yaWcuYikge1xuICAgIHkgPSAodkxpbWl0cy5lbmQgLSBvcmlnLmIpIC8gY29zO1xuICAgIGxpbWl0cy5iID0gTWF0aC5tYXgobGltaXRzLmIsIG9yaWcuYiArIHkpO1xuICB9XG59XG5mdW5jdGlvbiBidWlsZFBvaW50TGFiZWxJdGVtcyhzY2FsZSwgbGFiZWxTaXplcywgcGFkZGluZykge1xuICBjb25zdCBpdGVtcyA9IFtdO1xuICBjb25zdCB2YWx1ZUNvdW50ID0gc2NhbGUuX3BvaW50TGFiZWxzLmxlbmd0aDtcbiAgY29uc3Qgb3B0cyA9IHNjYWxlLm9wdGlvbnM7XG4gIGNvbnN0IGV4dHJhID0gZ2V0VGlja0JhY2tkcm9wSGVpZ2h0KG9wdHMpIC8gMjtcbiAgY29uc3Qgb3V0ZXJEaXN0YW5jZSA9IHNjYWxlLmRyYXdpbmdBcmVhO1xuICBjb25zdCBhZGRpdGlvbmFsQW5nbGUgPSBvcHRzLnBvaW50TGFiZWxzLmNlbnRlclBvaW50TGFiZWxzID8gUEkgLyB2YWx1ZUNvdW50IDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZUNvdW50OyBpKyspIHtcbiAgICBjb25zdCBwb2ludExhYmVsUG9zaXRpb24gPSBzY2FsZS5nZXRQb2ludFBvc2l0aW9uKGksIG91dGVyRGlzdGFuY2UgKyBleHRyYSArIHBhZGRpbmdbaV0sIGFkZGl0aW9uYWxBbmdsZSk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLnJvdW5kKHRvRGVncmVlcyhfbm9ybWFsaXplQW5nbGUocG9pbnRMYWJlbFBvc2l0aW9uLmFuZ2xlICsgSEFMRl9QSSkpKTtcbiAgICBjb25zdCBzaXplID0gbGFiZWxTaXplc1tpXTtcbiAgICBjb25zdCB5ID0geUZvckFuZ2xlKHBvaW50TGFiZWxQb3NpdGlvbi55LCBzaXplLmgsIGFuZ2xlKTtcbiAgICBjb25zdCB0ZXh0QWxpZ24gPSBnZXRUZXh0QWxpZ25Gb3JBbmdsZShhbmdsZSk7XG4gICAgY29uc3QgbGVmdCA9IGxlZnRGb3JUZXh0QWxpZ24ocG9pbnRMYWJlbFBvc2l0aW9uLngsIHNpemUudywgdGV4dEFsaWduKTtcbiAgICBpdGVtcy5wdXNoKHtcbiAgICAgIHg6IHBvaW50TGFiZWxQb3NpdGlvbi54LFxuICAgICAgeSxcbiAgICAgIHRleHRBbGlnbixcbiAgICAgIGxlZnQsXG4gICAgICB0b3A6IHksXG4gICAgICByaWdodDogbGVmdCArIHNpemUudyxcbiAgICAgIGJvdHRvbTogeSArIHNpemUuaFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpdGVtcztcbn1cbmZ1bmN0aW9uIGdldFRleHRBbGlnbkZvckFuZ2xlKGFuZ2xlKSB7XG4gIGlmIChhbmdsZSA9PT0gMCB8fCBhbmdsZSA9PT0gMTgwKSB7XG4gICAgcmV0dXJuICdjZW50ZXInO1xuICB9IGVsc2UgaWYgKGFuZ2xlIDwgMTgwKSB7XG4gICAgcmV0dXJuICdsZWZ0JztcbiAgfVxuICByZXR1cm4gJ3JpZ2h0Jztcbn1cbmZ1bmN0aW9uIGxlZnRGb3JUZXh0QWxpZ24oeCwgdywgYWxpZ24pIHtcbiAgaWYgKGFsaWduID09PSAncmlnaHQnKSB7XG4gICAgeCAtPSB3O1xuICB9IGVsc2UgaWYgKGFsaWduID09PSAnY2VudGVyJykge1xuICAgIHggLT0gKHcgLyAyKTtcbiAgfVxuICByZXR1cm4geDtcbn1cbmZ1bmN0aW9uIHlGb3JBbmdsZSh5LCBoLCBhbmdsZSkge1xuICBpZiAoYW5nbGUgPT09IDkwIHx8IGFuZ2xlID09PSAyNzApIHtcbiAgICB5IC09IChoIC8gMik7XG4gIH0gZWxzZSBpZiAoYW5nbGUgPiAyNzAgfHwgYW5nbGUgPCA5MCkge1xuICAgIHkgLT0gaDtcbiAgfVxuICByZXR1cm4geTtcbn1cbmZ1bmN0aW9uIGRyYXdQb2ludExhYmVscyhzY2FsZSwgbGFiZWxDb3VudCkge1xuICBjb25zdCB7Y3R4LCBvcHRpb25zOiB7cG9pbnRMYWJlbHN9fSA9IHNjYWxlO1xuICBmb3IgKGxldCBpID0gbGFiZWxDb3VudCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3Qgb3B0c0F0SW5kZXggPSBwb2ludExhYmVscy5zZXRDb250ZXh0KHNjYWxlLmdldFBvaW50TGFiZWxDb250ZXh0KGkpKTtcbiAgICBjb25zdCBwbEZvbnQgPSB0b0ZvbnQob3B0c0F0SW5kZXguZm9udCk7XG4gICAgY29uc3Qge3gsIHksIHRleHRBbGlnbiwgbGVmdCwgdG9wLCByaWdodCwgYm90dG9tfSA9IHNjYWxlLl9wb2ludExhYmVsSXRlbXNbaV07XG4gICAgY29uc3Qge2JhY2tkcm9wQ29sb3J9ID0gb3B0c0F0SW5kZXg7XG4gICAgaWYgKCFpc051bGxPclVuZGVmKGJhY2tkcm9wQ29sb3IpKSB7XG4gICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB0b1RSQkxDb3JuZXJzKG9wdHNBdEluZGV4LmJvcmRlclJhZGl1cyk7XG4gICAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKG9wdHNBdEluZGV4LmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gYmFja2Ryb3BDb2xvcjtcbiAgICAgIGNvbnN0IGJhY2tkcm9wTGVmdCA9IGxlZnQgLSBwYWRkaW5nLmxlZnQ7XG4gICAgICBjb25zdCBiYWNrZHJvcFRvcCA9IHRvcCAtIHBhZGRpbmcudG9wO1xuICAgICAgY29uc3QgYmFja2Ryb3BXaWR0aCA9IHJpZ2h0IC0gbGVmdCArIHBhZGRpbmcud2lkdGg7XG4gICAgICBjb25zdCBiYWNrZHJvcEhlaWdodCA9IGJvdHRvbSAtIHRvcCArIHBhZGRpbmcuaGVpZ2h0O1xuICAgICAgaWYgKE9iamVjdC52YWx1ZXMoYm9yZGVyUmFkaXVzKS5zb21lKHYgPT4gdiAhPT0gMCkpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCB7XG4gICAgICAgICAgeDogYmFja2Ryb3BMZWZ0LFxuICAgICAgICAgIHk6IGJhY2tkcm9wVG9wLFxuICAgICAgICAgIHc6IGJhY2tkcm9wV2lkdGgsXG4gICAgICAgICAgaDogYmFja2Ryb3BIZWlnaHQsXG4gICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgICAgIH0pO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGxSZWN0KGJhY2tkcm9wTGVmdCwgYmFja2Ryb3BUb3AsIGJhY2tkcm9wV2lkdGgsIGJhY2tkcm9wSGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVuZGVyVGV4dChcbiAgICAgIGN0eCxcbiAgICAgIHNjYWxlLl9wb2ludExhYmVsc1tpXSxcbiAgICAgIHgsXG4gICAgICB5ICsgKHBsRm9udC5saW5lSGVpZ2h0IC8gMiksXG4gICAgICBwbEZvbnQsXG4gICAgICB7XG4gICAgICAgIGNvbG9yOiBvcHRzQXRJbmRleC5jb2xvcixcbiAgICAgICAgdGV4dEFsaWduOiB0ZXh0QWxpZ24sXG4gICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZSdcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBwYXRoUmFkaXVzTGluZShzY2FsZSwgcmFkaXVzLCBjaXJjdWxhciwgbGFiZWxDb3VudCkge1xuICBjb25zdCB7Y3R4fSA9IHNjYWxlO1xuICBpZiAoY2lyY3VsYXIpIHtcbiAgICBjdHguYXJjKHNjYWxlLnhDZW50ZXIsIHNjYWxlLnlDZW50ZXIsIHJhZGl1cywgMCwgVEFVKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcG9pbnRQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb24oMCwgcmFkaXVzKTtcbiAgICBjdHgubW92ZVRvKHBvaW50UG9zaXRpb24ueCwgcG9pbnRQb3NpdGlvbi55KTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxhYmVsQ291bnQ7IGkrKykge1xuICAgICAgcG9pbnRQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb24oaSwgcmFkaXVzKTtcbiAgICAgIGN0eC5saW5lVG8ocG9pbnRQb3NpdGlvbi54LCBwb2ludFBvc2l0aW9uLnkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZHJhd1JhZGl1c0xpbmUoc2NhbGUsIGdyaWRMaW5lT3B0cywgcmFkaXVzLCBsYWJlbENvdW50KSB7XG4gIGNvbnN0IGN0eCA9IHNjYWxlLmN0eDtcbiAgY29uc3QgY2lyY3VsYXIgPSBncmlkTGluZU9wdHMuY2lyY3VsYXI7XG4gIGNvbnN0IHtjb2xvciwgbGluZVdpZHRofSA9IGdyaWRMaW5lT3B0cztcbiAgaWYgKCghY2lyY3VsYXIgJiYgIWxhYmVsQ291bnQpIHx8ICFjb2xvciB8fCAhbGluZVdpZHRoIHx8IHJhZGl1cyA8IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3R4LnNhdmUoKTtcbiAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gIGN0eC5zZXRMaW5lRGFzaChncmlkTGluZU9wdHMuYm9yZGVyRGFzaCk7XG4gIGN0eC5saW5lRGFzaE9mZnNldCA9IGdyaWRMaW5lT3B0cy5ib3JkZXJEYXNoT2Zmc2V0O1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIHBhdGhSYWRpdXNMaW5lKHNjYWxlLCByYWRpdXMsIGNpcmN1bGFyLCBsYWJlbENvdW50KTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguc3Ryb2tlKCk7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVQb2ludExhYmVsQ29udGV4dChwYXJlbnQsIGluZGV4LCBsYWJlbCkge1xuICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICBsYWJlbCxcbiAgICBpbmRleCxcbiAgICB0eXBlOiAncG9pbnRMYWJlbCdcbiAgfSk7XG59XG5jbGFzcyBSYWRpYWxMaW5lYXJTY2FsZSBleHRlbmRzIExpbmVhclNjYWxlQmFzZSB7XG4gIGNvbnN0cnVjdG9yKGNmZykge1xuICAgIHN1cGVyKGNmZyk7XG4gICAgdGhpcy54Q2VudGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMueUNlbnRlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRyYXdpbmdBcmVhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3BvaW50TGFiZWxzID0gW107XG4gICAgdGhpcy5fcG9pbnRMYWJlbEl0ZW1zID0gW107XG4gIH1cbiAgc2V0RGltZW5zaW9ucygpIHtcbiAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fcGFkZGluZyA9IHRvUGFkZGluZyhnZXRUaWNrQmFja2Ryb3BIZWlnaHQodGhpcy5vcHRpb25zKSAvIDIpO1xuICAgIGNvbnN0IHcgPSB0aGlzLndpZHRoID0gdGhpcy5tYXhXaWR0aCAtIHBhZGRpbmcud2lkdGg7XG4gICAgY29uc3QgaCA9IHRoaXMuaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQgLSBwYWRkaW5nLmhlaWdodDtcbiAgICB0aGlzLnhDZW50ZXIgPSBNYXRoLmZsb29yKHRoaXMubGVmdCArIHcgLyAyICsgcGFkZGluZy5sZWZ0KTtcbiAgICB0aGlzLnlDZW50ZXIgPSBNYXRoLmZsb29yKHRoaXMudG9wICsgaCAvIDIgKyBwYWRkaW5nLnRvcCk7XG4gICAgdGhpcy5kcmF3aW5nQXJlYSA9IE1hdGguZmxvb3IoTWF0aC5taW4odywgaCkgLyAyKTtcbiAgfVxuICBkZXRlcm1pbmVEYXRhTGltaXRzKCkge1xuICAgIGNvbnN0IHttaW4sIG1heH0gPSB0aGlzLmdldE1pbk1heChmYWxzZSk7XG4gICAgdGhpcy5taW4gPSBpc051bWJlckZpbml0ZShtaW4pICYmICFpc05hTihtaW4pID8gbWluIDogMDtcbiAgICB0aGlzLm1heCA9IGlzTnVtYmVyRmluaXRlKG1heCkgJiYgIWlzTmFOKG1heCkgPyBtYXggOiAwO1xuICAgIHRoaXMuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpO1xuICB9XG4gIGNvbXB1dGVUaWNrTGltaXQoKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmRyYXdpbmdBcmVhIC8gZ2V0VGlja0JhY2tkcm9wSGVpZ2h0KHRoaXMub3B0aW9ucykpO1xuICB9XG4gIGdlbmVyYXRlVGlja0xhYmVscyh0aWNrcykge1xuICAgIExpbmVhclNjYWxlQmFzZS5wcm90b3R5cGUuZ2VuZXJhdGVUaWNrTGFiZWxzLmNhbGwodGhpcywgdGlja3MpO1xuICAgIHRoaXMuX3BvaW50TGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKVxuICAgICAgLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gY2FsbGJhY2sodGhpcy5vcHRpb25zLnBvaW50TGFiZWxzLmNhbGxiYWNrLCBbdmFsdWUsIGluZGV4XSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBsYWJlbCB8fCBsYWJlbCA9PT0gMCA/IGxhYmVsIDogJyc7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcigodiwgaSkgPT4gdGhpcy5jaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSk7XG4gIH1cbiAgZml0KCkge1xuICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKG9wdHMuZGlzcGxheSAmJiBvcHRzLnBvaW50TGFiZWxzLmRpc3BsYXkpIHtcbiAgICAgIGZpdFdpdGhQb2ludExhYmVscyh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRDZW50ZXJQb2ludCgwLCAwLCAwLCAwKTtcbiAgICB9XG4gIH1cbiAgc2V0Q2VudGVyUG9pbnQobGVmdE1vdmVtZW50LCByaWdodE1vdmVtZW50LCB0b3BNb3ZlbWVudCwgYm90dG9tTW92ZW1lbnQpIHtcbiAgICB0aGlzLnhDZW50ZXIgKz0gTWF0aC5mbG9vcigobGVmdE1vdmVtZW50IC0gcmlnaHRNb3ZlbWVudCkgLyAyKTtcbiAgICB0aGlzLnlDZW50ZXIgKz0gTWF0aC5mbG9vcigodG9wTW92ZW1lbnQgLSBib3R0b21Nb3ZlbWVudCkgLyAyKTtcbiAgICB0aGlzLmRyYXdpbmdBcmVhIC09IE1hdGgubWluKHRoaXMuZHJhd2luZ0FyZWEgLyAyLCBNYXRoLm1heChsZWZ0TW92ZW1lbnQsIHJpZ2h0TW92ZW1lbnQsIHRvcE1vdmVtZW50LCBib3R0b21Nb3ZlbWVudCkpO1xuICB9XG4gIGdldEluZGV4QW5nbGUoaW5kZXgpIHtcbiAgICBjb25zdCBhbmdsZU11bHRpcGxpZXIgPSBUQVUgLyAodGhpcy5fcG9pbnRMYWJlbHMubGVuZ3RoIHx8IDEpO1xuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSB0aGlzLm9wdGlvbnMuc3RhcnRBbmdsZSB8fCAwO1xuICAgIHJldHVybiBfbm9ybWFsaXplQW5nbGUoaW5kZXggKiBhbmdsZU11bHRpcGxpZXIgKyB0b1JhZGlhbnMoc3RhcnRBbmdsZSkpO1xuICB9XG4gIGdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWYodmFsdWUpKSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gdGhpcy5kcmF3aW5nQXJlYSAvICh0aGlzLm1heCAtIHRoaXMubWluKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJldmVyc2UpIHtcbiAgICAgIHJldHVybiAodGhpcy5tYXggLSB2YWx1ZSkgKiBzY2FsaW5nRmFjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gKHZhbHVlIC0gdGhpcy5taW4pICogc2NhbGluZ0ZhY3RvcjtcbiAgfVxuICBnZXRWYWx1ZUZvckRpc3RhbmNlRnJvbUNlbnRlcihkaXN0YW5jZSkge1xuICAgIGlmIChpc051bGxPclVuZGVmKGRpc3RhbmNlKSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgY29uc3Qgc2NhbGVkRGlzdGFuY2UgPSBkaXN0YW5jZSAvICh0aGlzLmRyYXdpbmdBcmVhIC8gKHRoaXMubWF4IC0gdGhpcy5taW4pKTtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLnJldmVyc2UgPyB0aGlzLm1heCAtIHNjYWxlZERpc3RhbmNlIDogdGhpcy5taW4gKyBzY2FsZWREaXN0YW5jZTtcbiAgfVxuICBnZXRQb2ludExhYmVsQ29udGV4dChpbmRleCkge1xuICAgIGNvbnN0IHBvaW50TGFiZWxzID0gdGhpcy5fcG9pbnRMYWJlbHMgfHwgW107XG4gICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCBwb2ludExhYmVscy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHBvaW50TGFiZWwgPSBwb2ludExhYmVsc1tpbmRleF07XG4gICAgICByZXR1cm4gY3JlYXRlUG9pbnRMYWJlbENvbnRleHQodGhpcy5nZXRDb250ZXh0KCksIGluZGV4LCBwb2ludExhYmVsKTtcbiAgICB9XG4gIH1cbiAgZ2V0UG9pbnRQb3NpdGlvbihpbmRleCwgZGlzdGFuY2VGcm9tQ2VudGVyLCBhZGRpdGlvbmFsQW5nbGUgPSAwKSB7XG4gICAgY29uc3QgYW5nbGUgPSB0aGlzLmdldEluZGV4QW5nbGUoaW5kZXgpIC0gSEFMRl9QSSArIGFkZGl0aW9uYWxBbmdsZTtcbiAgICByZXR1cm4ge1xuICAgICAgeDogTWF0aC5jb3MoYW5nbGUpICogZGlzdGFuY2VGcm9tQ2VudGVyICsgdGhpcy54Q2VudGVyLFxuICAgICAgeTogTWF0aC5zaW4oYW5nbGUpICogZGlzdGFuY2VGcm9tQ2VudGVyICsgdGhpcy55Q2VudGVyLFxuICAgICAgYW5nbGVcbiAgICB9O1xuICB9XG4gIGdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZShpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uKGluZGV4LCB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHZhbHVlKSk7XG4gIH1cbiAgZ2V0QmFzZVBvc2l0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKGluZGV4IHx8IDAsIHRoaXMuZ2V0QmFzZVZhbHVlKCkpO1xuICB9XG4gIGdldFBvaW50TGFiZWxQb3NpdGlvbihpbmRleCkge1xuICAgIGNvbnN0IHtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b219ID0gdGhpcy5fcG9pbnRMYWJlbEl0ZW1zW2luZGV4XTtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdCxcbiAgICAgIHRvcCxcbiAgICAgIHJpZ2h0LFxuICAgICAgYm90dG9tLFxuICAgIH07XG4gIH1cbiAgZHJhd0JhY2tncm91bmQoKSB7XG4gICAgY29uc3Qge2JhY2tncm91bmRDb2xvciwgZ3JpZDoge2NpcmN1bGFyfX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgcGF0aFJhZGl1c0xpbmUodGhpcywgdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLl9lbmRWYWx1ZSksIGNpcmN1bGFyLCB0aGlzLl9wb2ludExhYmVscy5sZW5ndGgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuICBkcmF3R3JpZCgpIHtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHthbmdsZUxpbmVzLCBncmlkfSA9IG9wdHM7XG4gICAgY29uc3QgbGFiZWxDb3VudCA9IHRoaXMuX3BvaW50TGFiZWxzLmxlbmd0aDtcbiAgICBsZXQgaSwgb2Zmc2V0LCBwb3NpdGlvbjtcbiAgICBpZiAob3B0cy5wb2ludExhYmVscy5kaXNwbGF5KSB7XG4gICAgICBkcmF3UG9pbnRMYWJlbHModGhpcywgbGFiZWxDb3VudCk7XG4gICAgfVxuICAgIGlmIChncmlkLmRpc3BsYXkpIHtcbiAgICAgIHRoaXMudGlja3MuZm9yRWFjaCgodGljaywgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aWNrLnZhbHVlKTtcbiAgICAgICAgICBjb25zdCBvcHRzQXRJbmRleCA9IGdyaWQuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoaW5kZXggLSAxKSk7XG4gICAgICAgICAgZHJhd1JhZGl1c0xpbmUodGhpcywgb3B0c0F0SW5kZXgsIG9mZnNldCwgbGFiZWxDb3VudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoYW5nbGVMaW5lcy5kaXNwbGF5KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgZm9yIChpID0gbGFiZWxDb3VudCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG9wdHNBdEluZGV4ID0gYW5nbGVMaW5lcy5zZXRDb250ZXh0KHRoaXMuZ2V0UG9pbnRMYWJlbENvbnRleHQoaSkpO1xuICAgICAgICBjb25zdCB7Y29sb3IsIGxpbmVXaWR0aH0gPSBvcHRzQXRJbmRleDtcbiAgICAgICAgaWYgKCFsaW5lV2lkdGggfHwgIWNvbG9yKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChvcHRzQXRJbmRleC5ib3JkZXJEYXNoKTtcbiAgICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gb3B0c0F0SW5kZXguYm9yZGVyRGFzaE9mZnNldDtcbiAgICAgICAgb2Zmc2V0ID0gdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZShvcHRzLnRpY2tzLnJldmVyc2UgPyB0aGlzLm1pbiA6IHRoaXMubWF4KTtcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldFBvaW50UG9zaXRpb24oaSwgb2Zmc2V0KTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHRoaXMueENlbnRlciwgdGhpcy55Q2VudGVyKTtcbiAgICAgICAgY3R4LmxpbmVUbyhwb3NpdGlvbi54LCBwb3NpdGlvbi55KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gIH1cbiAgZHJhd0JvcmRlcigpIHt9XG4gIGRyYXdMYWJlbHMoKSB7XG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB0aWNrT3B0cyA9IG9wdHMudGlja3M7XG4gICAgaWYgKCF0aWNrT3B0cy5kaXNwbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSB0aGlzLmdldEluZGV4QW5nbGUoMCk7XG4gICAgbGV0IG9mZnNldCwgd2lkdGg7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHgudHJhbnNsYXRlKHRoaXMueENlbnRlciwgdGhpcy55Q2VudGVyKTtcbiAgICBjdHgucm90YXRlKHN0YXJ0QW5nbGUpO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgdGhpcy50aWNrcy5mb3JFYWNoKCh0aWNrLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSAwICYmICFvcHRzLnJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3B0c0F0SW5kZXggPSB0aWNrT3B0cy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpbmRleCkpO1xuICAgICAgY29uc3QgdGlja0ZvbnQgPSB0b0ZvbnQob3B0c0F0SW5kZXguZm9udCk7XG4gICAgICBvZmZzZXQgPSB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHRoaXMudGlja3NbaW5kZXhdLnZhbHVlKTtcbiAgICAgIGlmIChvcHRzQXRJbmRleC5zaG93TGFiZWxCYWNrZHJvcCkge1xuICAgICAgICBjdHguZm9udCA9IHRpY2tGb250LnN0cmluZztcbiAgICAgICAgd2lkdGggPSBjdHgubWVhc3VyZVRleHQodGljay5sYWJlbCkud2lkdGg7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRzQXRJbmRleC5iYWNrZHJvcENvbG9yO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKG9wdHNBdEluZGV4LmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAtd2lkdGggLyAyIC0gcGFkZGluZy5sZWZ0LFxuICAgICAgICAgIC1vZmZzZXQgLSB0aWNrRm9udC5zaXplIC8gMiAtIHBhZGRpbmcudG9wLFxuICAgICAgICAgIHdpZHRoICsgcGFkZGluZy53aWR0aCxcbiAgICAgICAgICB0aWNrRm9udC5zaXplICsgcGFkZGluZy5oZWlnaHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclRleHQoY3R4LCB0aWNrLmxhYmVsLCAwLCAtb2Zmc2V0LCB0aWNrRm9udCwge1xuICAgICAgICBjb2xvcjogb3B0c0F0SW5kZXguY29sb3IsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG4gIGRyYXdUaXRsZSgpIHt9XG59XG5SYWRpYWxMaW5lYXJTY2FsZS5pZCA9ICdyYWRpYWxMaW5lYXInO1xuUmFkaWFsTGluZWFyU2NhbGUuZGVmYXVsdHMgPSB7XG4gIGRpc3BsYXk6IHRydWUsXG4gIGFuaW1hdGU6IHRydWUsXG4gIHBvc2l0aW9uOiAnY2hhcnRBcmVhJyxcbiAgYW5nbGVMaW5lczoge1xuICAgIGRpc3BsYXk6IHRydWUsXG4gICAgbGluZVdpZHRoOiAxLFxuICAgIGJvcmRlckRhc2g6IFtdLFxuICAgIGJvcmRlckRhc2hPZmZzZXQ6IDAuMFxuICB9LFxuICBncmlkOiB7XG4gICAgY2lyY3VsYXI6IGZhbHNlXG4gIH0sXG4gIHN0YXJ0QW5nbGU6IDAsXG4gIHRpY2tzOiB7XG4gICAgc2hvd0xhYmVsQmFja2Ryb3A6IHRydWUsXG4gICAgY2FsbGJhY2s6IFRpY2tzLmZvcm1hdHRlcnMubnVtZXJpY1xuICB9LFxuICBwb2ludExhYmVsczoge1xuICAgIGJhY2tkcm9wQ29sb3I6IHVuZGVmaW5lZCxcbiAgICBiYWNrZHJvcFBhZGRpbmc6IDIsXG4gICAgZGlzcGxheTogdHJ1ZSxcbiAgICBmb250OiB7XG4gICAgICBzaXplOiAxMFxuICAgIH0sXG4gICAgY2FsbGJhY2sobGFiZWwpIHtcbiAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9LFxuICAgIHBhZGRpbmc6IDUsXG4gICAgY2VudGVyUG9pbnRMYWJlbHM6IGZhbHNlXG4gIH1cbn07XG5SYWRpYWxMaW5lYXJTY2FsZS5kZWZhdWx0Um91dGVzID0ge1xuICAnYW5nbGVMaW5lcy5jb2xvcic6ICdib3JkZXJDb2xvcicsXG4gICdwb2ludExhYmVscy5jb2xvcic6ICdjb2xvcicsXG4gICd0aWNrcy5jb2xvcic6ICdjb2xvcidcbn07XG5SYWRpYWxMaW5lYXJTY2FsZS5kZXNjcmlwdG9ycyA9IHtcbiAgYW5nbGVMaW5lczoge1xuICAgIF9mYWxsYmFjazogJ2dyaWQnXG4gIH1cbn07XG5cbmNvbnN0IElOVEVSVkFMUyA9IHtcbiAgbWlsbGlzZWNvbmQ6IHtjb21tb246IHRydWUsIHNpemU6IDEsIHN0ZXBzOiAxMDAwfSxcbiAgc2Vjb25kOiB7Y29tbW9uOiB0cnVlLCBzaXplOiAxMDAwLCBzdGVwczogNjB9LFxuICBtaW51dGU6IHtjb21tb246IHRydWUsIHNpemU6IDYwMDAwLCBzdGVwczogNjB9LFxuICBob3VyOiB7Y29tbW9uOiB0cnVlLCBzaXplOiAzNjAwMDAwLCBzdGVwczogMjR9LFxuICBkYXk6IHtjb21tb246IHRydWUsIHNpemU6IDg2NDAwMDAwLCBzdGVwczogMzB9LFxuICB3ZWVrOiB7Y29tbW9uOiBmYWxzZSwgc2l6ZTogNjA0ODAwMDAwLCBzdGVwczogNH0sXG4gIG1vbnRoOiB7Y29tbW9uOiB0cnVlLCBzaXplOiAyLjYyOGU5LCBzdGVwczogMTJ9LFxuICBxdWFydGVyOiB7Y29tbW9uOiBmYWxzZSwgc2l6ZTogNy44ODRlOSwgc3RlcHM6IDR9LFxuICB5ZWFyOiB7Y29tbW9uOiB0cnVlLCBzaXplOiAzLjE1NGUxMH1cbn07XG5jb25zdCBVTklUUyA9IChPYmplY3Qua2V5cyhJTlRFUlZBTFMpKTtcbmZ1bmN0aW9uIHNvcnRlcihhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cbmZ1bmN0aW9uIHBhcnNlKHNjYWxlLCBpbnB1dCkge1xuICBpZiAoaXNOdWxsT3JVbmRlZihpbnB1dCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBhZGFwdGVyID0gc2NhbGUuX2FkYXB0ZXI7XG4gIGNvbnN0IHtwYXJzZXIsIHJvdW5kLCBpc29XZWVrZGF5fSA9IHNjYWxlLl9wYXJzZU9wdHM7XG4gIGxldCB2YWx1ZSA9IGlucHV0O1xuICBpZiAodHlwZW9mIHBhcnNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhbHVlID0gcGFyc2VyKHZhbHVlKTtcbiAgfVxuICBpZiAoIWlzTnVtYmVyRmluaXRlKHZhbHVlKSkge1xuICAgIHZhbHVlID0gdHlwZW9mIHBhcnNlciA9PT0gJ3N0cmluZydcbiAgICAgID8gYWRhcHRlci5wYXJzZSh2YWx1ZSwgcGFyc2VyKVxuICAgICAgOiBhZGFwdGVyLnBhcnNlKHZhbHVlKTtcbiAgfVxuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAocm91bmQpIHtcbiAgICB2YWx1ZSA9IHJvdW5kID09PSAnd2VlaycgJiYgKGlzTnVtYmVyKGlzb1dlZWtkYXkpIHx8IGlzb1dlZWtkYXkgPT09IHRydWUpXG4gICAgICA/IGFkYXB0ZXIuc3RhcnRPZih2YWx1ZSwgJ2lzb1dlZWsnLCBpc29XZWVrZGF5KVxuICAgICAgOiBhZGFwdGVyLnN0YXJ0T2YodmFsdWUsIHJvdW5kKTtcbiAgfVxuICByZXR1cm4gK3ZhbHVlO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lVW5pdEZvckF1dG9UaWNrcyhtaW5Vbml0LCBtaW4sIG1heCwgY2FwYWNpdHkpIHtcbiAgY29uc3QgaWxlbiA9IFVOSVRTLmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IFVOSVRTLmluZGV4T2YobWluVW5pdCk7IGkgPCBpbGVuIC0gMTsgKytpKSB7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBJTlRFUlZBTFNbVU5JVFNbaV1dO1xuICAgIGNvbnN0IGZhY3RvciA9IGludGVydmFsLnN0ZXBzID8gaW50ZXJ2YWwuc3RlcHMgOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICBpZiAoaW50ZXJ2YWwuY29tbW9uICYmIE1hdGguY2VpbCgobWF4IC0gbWluKSAvIChmYWN0b3IgKiBpbnRlcnZhbC5zaXplKSkgPD0gY2FwYWNpdHkpIHtcbiAgICAgIHJldHVybiBVTklUU1tpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFVOSVRTW2lsZW4gLSAxXTtcbn1cbmZ1bmN0aW9uIGRldGVybWluZVVuaXRGb3JGb3JtYXR0aW5nKHNjYWxlLCBudW1UaWNrcywgbWluVW5pdCwgbWluLCBtYXgpIHtcbiAgZm9yIChsZXQgaSA9IFVOSVRTLmxlbmd0aCAtIDE7IGkgPj0gVU5JVFMuaW5kZXhPZihtaW5Vbml0KTsgaS0tKSB7XG4gICAgY29uc3QgdW5pdCA9IFVOSVRTW2ldO1xuICAgIGlmIChJTlRFUlZBTFNbdW5pdF0uY29tbW9uICYmIHNjYWxlLl9hZGFwdGVyLmRpZmYobWF4LCBtaW4sIHVuaXQpID49IG51bVRpY2tzIC0gMSkge1xuICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBVTklUU1ttaW5Vbml0ID8gVU5JVFMuaW5kZXhPZihtaW5Vbml0KSA6IDBdO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lTWFqb3JVbml0KHVuaXQpIHtcbiAgZm9yIChsZXQgaSA9IFVOSVRTLmluZGV4T2YodW5pdCkgKyAxLCBpbGVuID0gVU5JVFMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgaWYgKElOVEVSVkFMU1tVTklUU1tpXV0uY29tbW9uKSB7XG4gICAgICByZXR1cm4gVU5JVFNbaV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhZGRUaWNrKHRpY2tzLCB0aW1lLCB0aW1lc3RhbXBzKSB7XG4gIGlmICghdGltZXN0YW1wcykge1xuICAgIHRpY2tzW3RpbWVdID0gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgIGNvbnN0IHtsbywgaGl9ID0gX2xvb2t1cCh0aW1lc3RhbXBzLCB0aW1lKTtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSB0aW1lc3RhbXBzW2xvXSA+PSB0aW1lID8gdGltZXN0YW1wc1tsb10gOiB0aW1lc3RhbXBzW2hpXTtcbiAgICB0aWNrc1t0aW1lc3RhbXBdID0gdHJ1ZTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0TWFqb3JUaWNrcyhzY2FsZSwgdGlja3MsIG1hcCwgbWFqb3JVbml0KSB7XG4gIGNvbnN0IGFkYXB0ZXIgPSBzY2FsZS5fYWRhcHRlcjtcbiAgY29uc3QgZmlyc3QgPSArYWRhcHRlci5zdGFydE9mKHRpY2tzWzBdLnZhbHVlLCBtYWpvclVuaXQpO1xuICBjb25zdCBsYXN0ID0gdGlja3NbdGlja3MubGVuZ3RoIC0gMV0udmFsdWU7XG4gIGxldCBtYWpvciwgaW5kZXg7XG4gIGZvciAobWFqb3IgPSBmaXJzdDsgbWFqb3IgPD0gbGFzdDsgbWFqb3IgPSArYWRhcHRlci5hZGQobWFqb3IsIDEsIG1ham9yVW5pdCkpIHtcbiAgICBpbmRleCA9IG1hcFttYWpvcl07XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRpY2tzW2luZGV4XS5tYWpvciA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aWNrcztcbn1cbmZ1bmN0aW9uIHRpY2tzRnJvbVRpbWVzdGFtcHMoc2NhbGUsIHZhbHVlcywgbWFqb3JVbml0KSB7XG4gIGNvbnN0IHRpY2tzID0gW107XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBjb25zdCBpbGVuID0gdmFsdWVzLmxlbmd0aDtcbiAgbGV0IGksIHZhbHVlO1xuICBmb3IgKGkgPSAwOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgbWFwW3ZhbHVlXSA9IGk7XG4gICAgdGlja3MucHVzaCh7XG4gICAgICB2YWx1ZSxcbiAgICAgIG1ham9yOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIHJldHVybiAoaWxlbiA9PT0gMCB8fCAhbWFqb3JVbml0KSA/IHRpY2tzIDogc2V0TWFqb3JUaWNrcyhzY2FsZSwgdGlja3MsIG1hcCwgbWFqb3JVbml0KTtcbn1cbmNsYXNzIFRpbWVTY2FsZSBleHRlbmRzIFNjYWxlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5fY2FjaGUgPSB7XG4gICAgICBkYXRhOiBbXSxcbiAgICAgIGxhYmVsczogW10sXG4gICAgICBhbGw6IFtdXG4gICAgfTtcbiAgICB0aGlzLl91bml0ID0gJ2RheSc7XG4gICAgdGhpcy5fbWFqb3JVbml0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX29mZnNldHMgPSB7fTtcbiAgICB0aGlzLl9ub3JtYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5fcGFyc2VPcHRzID0gdW5kZWZpbmVkO1xuICB9XG4gIGluaXQoc2NhbGVPcHRzLCBvcHRzKSB7XG4gICAgY29uc3QgdGltZSA9IHNjYWxlT3B0cy50aW1lIHx8IChzY2FsZU9wdHMudGltZSA9IHt9KTtcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlciA9IG5ldyBhZGFwdGVycy5fZGF0ZShzY2FsZU9wdHMuYWRhcHRlcnMuZGF0ZSk7XG4gICAgYWRhcHRlci5pbml0KG9wdHMpO1xuICAgIG1lcmdlSWYodGltZS5kaXNwbGF5Rm9ybWF0cywgYWRhcHRlci5mb3JtYXRzKCkpO1xuICAgIHRoaXMuX3BhcnNlT3B0cyA9IHtcbiAgICAgIHBhcnNlcjogdGltZS5wYXJzZXIsXG4gICAgICByb3VuZDogdGltZS5yb3VuZCxcbiAgICAgIGlzb1dlZWtkYXk6IHRpbWUuaXNvV2Vla2RheVxuICAgIH07XG4gICAgc3VwZXIuaW5pdChzY2FsZU9wdHMpO1xuICAgIHRoaXMuX25vcm1hbGl6ZWQgPSBvcHRzLm5vcm1hbGl6ZWQ7XG4gIH1cbiAgcGFyc2UocmF3LCBpbmRleCkge1xuICAgIGlmIChyYXcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZSh0aGlzLCByYXcpO1xuICB9XG4gIGJlZm9yZUxheW91dCgpIHtcbiAgICBzdXBlci5iZWZvcmVMYXlvdXQoKTtcbiAgICB0aGlzLl9jYWNoZSA9IHtcbiAgICAgIGRhdGE6IFtdLFxuICAgICAgbGFiZWxzOiBbXSxcbiAgICAgIGFsbDogW11cbiAgICB9O1xuICB9XG4gIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlcjtcbiAgICBjb25zdCB1bml0ID0gb3B0aW9ucy50aW1lLnVuaXQgfHwgJ2RheSc7XG4gICAgbGV0IHttaW4sIG1heCwgbWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICBmdW5jdGlvbiBfYXBwbHlCb3VuZHMoYm91bmRzKSB7XG4gICAgICBpZiAoIW1pbkRlZmluZWQgJiYgIWlzTmFOKGJvdW5kcy5taW4pKSB7XG4gICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgYm91bmRzLm1pbik7XG4gICAgICB9XG4gICAgICBpZiAoIW1heERlZmluZWQgJiYgIWlzTmFOKGJvdW5kcy5tYXgpKSB7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgYm91bmRzLm1heCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbWluRGVmaW5lZCB8fCAhbWF4RGVmaW5lZCkge1xuICAgICAgX2FwcGx5Qm91bmRzKHRoaXMuX2dldExhYmVsQm91bmRzKCkpO1xuICAgICAgaWYgKG9wdGlvbnMuYm91bmRzICE9PSAndGlja3MnIHx8IG9wdGlvbnMudGlja3Muc291cmNlICE9PSAnbGFiZWxzJykge1xuICAgICAgICBfYXBwbHlCb3VuZHModGhpcy5nZXRNaW5NYXgoZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWluID0gaXNOdW1iZXJGaW5pdGUobWluKSAmJiAhaXNOYU4obWluKSA/IG1pbiA6ICthZGFwdGVyLnN0YXJ0T2YoRGF0ZS5ub3coKSwgdW5pdCk7XG4gICAgbWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSAmJiAhaXNOYU4obWF4KSA/IG1heCA6ICthZGFwdGVyLmVuZE9mKERhdGUubm93KCksIHVuaXQpICsgMTtcbiAgICB0aGlzLm1pbiA9IE1hdGgubWluKG1pbiwgbWF4IC0gMSk7XG4gICAgdGhpcy5tYXggPSBNYXRoLm1heChtaW4gKyAxLCBtYXgpO1xuICB9XG4gIF9nZXRMYWJlbEJvdW5kcygpIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmdldExhYmVsVGltZXN0YW1wcygpO1xuICAgIGxldCBtaW4gPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgbGV0IG1heCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICBpZiAoYXJyLmxlbmd0aCkge1xuICAgICAgbWluID0gYXJyWzBdO1xuICAgICAgbWF4ID0gYXJyW2Fyci5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgcmV0dXJuIHttaW4sIG1heH07XG4gIH1cbiAgYnVpbGRUaWNrcygpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHRpbWVPcHRzID0gb3B0aW9ucy50aW1lO1xuICAgIGNvbnN0IHRpY2tPcHRzID0gb3B0aW9ucy50aWNrcztcbiAgICBjb25zdCB0aW1lc3RhbXBzID0gdGlja09wdHMuc291cmNlID09PSAnbGFiZWxzJyA/IHRoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCkgOiB0aGlzLl9nZW5lcmF0ZSgpO1xuICAgIGlmIChvcHRpb25zLmJvdW5kcyA9PT0gJ3RpY2tzJyAmJiB0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgdGhpcy5taW4gPSB0aGlzLl91c2VyTWluIHx8IHRpbWVzdGFtcHNbMF07XG4gICAgICB0aGlzLm1heCA9IHRoaXMuX3VzZXJNYXggfHwgdGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBjb25zdCBtaW4gPSB0aGlzLm1pbjtcbiAgICBjb25zdCBtYXggPSB0aGlzLm1heDtcbiAgICBjb25zdCB0aWNrcyA9IF9maWx0ZXJCZXR3ZWVuKHRpbWVzdGFtcHMsIG1pbiwgbWF4KTtcbiAgICB0aGlzLl91bml0ID0gdGltZU9wdHMudW5pdCB8fCAodGlja09wdHMuYXV0b1NraXBcbiAgICAgID8gZGV0ZXJtaW5lVW5pdEZvckF1dG9UaWNrcyh0aW1lT3B0cy5taW5Vbml0LCB0aGlzLm1pbiwgdGhpcy5tYXgsIHRoaXMuX2dldExhYmVsQ2FwYWNpdHkobWluKSlcbiAgICAgIDogZGV0ZXJtaW5lVW5pdEZvckZvcm1hdHRpbmcodGhpcywgdGlja3MubGVuZ3RoLCB0aW1lT3B0cy5taW5Vbml0LCB0aGlzLm1pbiwgdGhpcy5tYXgpKTtcbiAgICB0aGlzLl9tYWpvclVuaXQgPSAhdGlja09wdHMubWFqb3IuZW5hYmxlZCB8fCB0aGlzLl91bml0ID09PSAneWVhcicgPyB1bmRlZmluZWRcbiAgICAgIDogZGV0ZXJtaW5lTWFqb3JVbml0KHRoaXMuX3VuaXQpO1xuICAgIHRoaXMuaW5pdE9mZnNldHModGltZXN0YW1wcyk7XG4gICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgdGlja3MucmV2ZXJzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGlja3NGcm9tVGltZXN0YW1wcyh0aGlzLCB0aWNrcywgdGhpcy5fbWFqb3JVbml0KTtcbiAgfVxuICBhZnRlckF1dG9Ta2lwKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMub2Zmc2V0QWZ0ZXJBdXRvc2tpcCkge1xuICAgICAgdGhpcy5pbml0T2Zmc2V0cyh0aGlzLnRpY2tzLm1hcCh0aWNrID0+ICt0aWNrLnZhbHVlKSk7XG4gICAgfVxuICB9XG4gIGluaXRPZmZzZXRzKHRpbWVzdGFtcHMpIHtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBlbmQgPSAwO1xuICAgIGxldCBmaXJzdCwgbGFzdDtcbiAgICBpZiAodGhpcy5vcHRpb25zLm9mZnNldCAmJiB0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgZmlyc3QgPSB0aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0aW1lc3RhbXBzWzBdKTtcbiAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBzdGFydCA9IDEgLSBmaXJzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gKHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRpbWVzdGFtcHNbMV0pIC0gZmlyc3QpIC8gMjtcbiAgICAgIH1cbiAgICAgIGxhc3QgPSB0aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0aW1lc3RhbXBzW3RpbWVzdGFtcHMubGVuZ3RoIC0gMV0pO1xuICAgICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVuZCA9IGxhc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSAobGFzdCAtIHRoaXMuZ2V0RGVjaW1hbEZvclZhbHVlKHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAyXSkpIC8gMjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbGltaXQgPSB0aW1lc3RhbXBzLmxlbmd0aCA8IDMgPyAwLjUgOiAwLjI1O1xuICAgIHN0YXJ0ID0gX2xpbWl0VmFsdWUoc3RhcnQsIDAsIGxpbWl0KTtcbiAgICBlbmQgPSBfbGltaXRWYWx1ZShlbmQsIDAsIGxpbWl0KTtcbiAgICB0aGlzLl9vZmZzZXRzID0ge3N0YXJ0LCBlbmQsIGZhY3RvcjogMSAvIChzdGFydCArIDEgKyBlbmQpfTtcbiAgfVxuICBfZ2VuZXJhdGUoKSB7XG4gICAgY29uc3QgYWRhcHRlciA9IHRoaXMuX2FkYXB0ZXI7XG4gICAgY29uc3QgbWluID0gdGhpcy5taW47XG4gICAgY29uc3QgbWF4ID0gdGhpcy5tYXg7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB0aW1lT3B0cyA9IG9wdGlvbnMudGltZTtcbiAgICBjb25zdCBtaW5vciA9IHRpbWVPcHRzLnVuaXQgfHwgZGV0ZXJtaW5lVW5pdEZvckF1dG9UaWNrcyh0aW1lT3B0cy5taW5Vbml0LCBtaW4sIG1heCwgdGhpcy5fZ2V0TGFiZWxDYXBhY2l0eShtaW4pKTtcbiAgICBjb25zdCBzdGVwU2l6ZSA9IHZhbHVlT3JEZWZhdWx0KHRpbWVPcHRzLnN0ZXBTaXplLCAxKTtcbiAgICBjb25zdCB3ZWVrZGF5ID0gbWlub3IgPT09ICd3ZWVrJyA/IHRpbWVPcHRzLmlzb1dlZWtkYXkgOiBmYWxzZTtcbiAgICBjb25zdCBoYXNXZWVrZGF5ID0gaXNOdW1iZXIod2Vla2RheSkgfHwgd2Vla2RheSA9PT0gdHJ1ZTtcbiAgICBjb25zdCB0aWNrcyA9IHt9O1xuICAgIGxldCBmaXJzdCA9IG1pbjtcbiAgICBsZXQgdGltZSwgY291bnQ7XG4gICAgaWYgKGhhc1dlZWtkYXkpIHtcbiAgICAgIGZpcnN0ID0gK2FkYXB0ZXIuc3RhcnRPZihmaXJzdCwgJ2lzb1dlZWsnLCB3ZWVrZGF5KTtcbiAgICB9XG4gICAgZmlyc3QgPSArYWRhcHRlci5zdGFydE9mKGZpcnN0LCBoYXNXZWVrZGF5ID8gJ2RheScgOiBtaW5vcik7XG4gICAgaWYgKGFkYXB0ZXIuZGlmZihtYXgsIG1pbiwgbWlub3IpID4gMTAwMDAwICogc3RlcFNpemUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtaW4gKyAnIGFuZCAnICsgbWF4ICsgJyBhcmUgdG9vIGZhciBhcGFydCB3aXRoIHN0ZXBTaXplIG9mICcgKyBzdGVwU2l6ZSArICcgJyArIG1pbm9yKTtcbiAgICB9XG4gICAgY29uc3QgdGltZXN0YW1wcyA9IG9wdGlvbnMudGlja3Muc291cmNlID09PSAnZGF0YScgJiYgdGhpcy5nZXREYXRhVGltZXN0YW1wcygpO1xuICAgIGZvciAodGltZSA9IGZpcnN0LCBjb3VudCA9IDA7IHRpbWUgPCBtYXg7IHRpbWUgPSArYWRhcHRlci5hZGQodGltZSwgc3RlcFNpemUsIG1pbm9yKSwgY291bnQrKykge1xuICAgICAgYWRkVGljayh0aWNrcywgdGltZSwgdGltZXN0YW1wcyk7XG4gICAgfVxuICAgIGlmICh0aW1lID09PSBtYXggfHwgb3B0aW9ucy5ib3VuZHMgPT09ICd0aWNrcycgfHwgY291bnQgPT09IDEpIHtcbiAgICAgIGFkZFRpY2sodGlja3MsIHRpbWUsIHRpbWVzdGFtcHMpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXModGlja3MpLnNvcnQoKGEsIGIpID0+IGEgLSBiKS5tYXAoeCA9PiAreCk7XG4gIH1cbiAgZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyO1xuICAgIGNvbnN0IHRpbWVPcHRzID0gdGhpcy5vcHRpb25zLnRpbWU7XG4gICAgaWYgKHRpbWVPcHRzLnRvb2x0aXBGb3JtYXQpIHtcbiAgICAgIHJldHVybiBhZGFwdGVyLmZvcm1hdCh2YWx1ZSwgdGltZU9wdHMudG9vbHRpcEZvcm1hdCk7XG4gICAgfVxuICAgIHJldHVybiBhZGFwdGVyLmZvcm1hdCh2YWx1ZSwgdGltZU9wdHMuZGlzcGxheUZvcm1hdHMuZGF0ZXRpbWUpO1xuICB9XG4gIF90aWNrRm9ybWF0RnVuY3Rpb24odGltZSwgaW5kZXgsIHRpY2tzLCBmb3JtYXQpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGZvcm1hdHMgPSBvcHRpb25zLnRpbWUuZGlzcGxheUZvcm1hdHM7XG4gICAgY29uc3QgdW5pdCA9IHRoaXMuX3VuaXQ7XG4gICAgY29uc3QgbWFqb3JVbml0ID0gdGhpcy5fbWFqb3JVbml0O1xuICAgIGNvbnN0IG1pbm9yRm9ybWF0ID0gdW5pdCAmJiBmb3JtYXRzW3VuaXRdO1xuICAgIGNvbnN0IG1ham9yRm9ybWF0ID0gbWFqb3JVbml0ICYmIGZvcm1hdHNbbWFqb3JVbml0XTtcbiAgICBjb25zdCB0aWNrID0gdGlja3NbaW5kZXhdO1xuICAgIGNvbnN0IG1ham9yID0gbWFqb3JVbml0ICYmIG1ham9yRm9ybWF0ICYmIHRpY2sgJiYgdGljay5tYWpvcjtcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuX2FkYXB0ZXIuZm9ybWF0KHRpbWUsIGZvcm1hdCB8fCAobWFqb3IgPyBtYWpvckZvcm1hdCA6IG1pbm9yRm9ybWF0KSk7XG4gICAgY29uc3QgZm9ybWF0dGVyID0gb3B0aW9ucy50aWNrcy5jYWxsYmFjaztcbiAgICByZXR1cm4gZm9ybWF0dGVyID8gY2FsbGJhY2soZm9ybWF0dGVyLCBbbGFiZWwsIGluZGV4LCB0aWNrc10sIHRoaXMpIDogbGFiZWw7XG4gIH1cbiAgZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKSB7XG4gICAgbGV0IGksIGlsZW4sIHRpY2s7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgdGljayA9IHRpY2tzW2ldO1xuICAgICAgdGljay5sYWJlbCA9IHRoaXMuX3RpY2tGb3JtYXRGdW5jdGlvbih0aWNrLnZhbHVlLCBpLCB0aWNrcyk7XG4gICAgfVxuICB9XG4gIGdldERlY2ltYWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IE5hTiA6ICh2YWx1ZSAtIHRoaXMubWluKSAvICh0aGlzLm1heCAtIHRoaXMubWluKTtcbiAgfVxuICBnZXRQaXhlbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3Qgb2Zmc2V0cyA9IHRoaXMuX29mZnNldHM7XG4gICAgY29uc3QgcG9zID0gdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodmFsdWUpO1xuICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgob2Zmc2V0cy5zdGFydCArIHBvcykgKiBvZmZzZXRzLmZhY3Rvcik7XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgIGNvbnN0IG9mZnNldHMgPSB0aGlzLl9vZmZzZXRzO1xuICAgIGNvbnN0IHBvcyA9IHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAvIG9mZnNldHMuZmFjdG9yIC0gb2Zmc2V0cy5lbmQ7XG4gICAgcmV0dXJuIHRoaXMubWluICsgcG9zICogKHRoaXMubWF4IC0gdGhpcy5taW4pO1xuICB9XG4gIF9nZXRMYWJlbFNpemUobGFiZWwpIHtcbiAgICBjb25zdCB0aWNrc09wdHMgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgY29uc3QgdGlja0xhYmVsV2lkdGggPSB0aGlzLmN0eC5tZWFzdXJlVGV4dChsYWJlbCkud2lkdGg7XG4gICAgY29uc3QgYW5nbGUgPSB0b1JhZGlhbnModGhpcy5pc0hvcml6b250YWwoKSA/IHRpY2tzT3B0cy5tYXhSb3RhdGlvbiA6IHRpY2tzT3B0cy5taW5Sb3RhdGlvbik7XG4gICAgY29uc3QgY29zUm90YXRpb24gPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgY29uc3Qgc2luUm90YXRpb24gPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgY29uc3QgdGlja0ZvbnRTaXplID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5zaXplO1xuICAgIHJldHVybiB7XG4gICAgICB3OiAodGlja0xhYmVsV2lkdGggKiBjb3NSb3RhdGlvbikgKyAodGlja0ZvbnRTaXplICogc2luUm90YXRpb24pLFxuICAgICAgaDogKHRpY2tMYWJlbFdpZHRoICogc2luUm90YXRpb24pICsgKHRpY2tGb250U2l6ZSAqIGNvc1JvdGF0aW9uKVxuICAgIH07XG4gIH1cbiAgX2dldExhYmVsQ2FwYWNpdHkoZXhhbXBsZVRpbWUpIHtcbiAgICBjb25zdCB0aW1lT3B0cyA9IHRoaXMub3B0aW9ucy50aW1lO1xuICAgIGNvbnN0IGRpc3BsYXlGb3JtYXRzID0gdGltZU9wdHMuZGlzcGxheUZvcm1hdHM7XG4gICAgY29uc3QgZm9ybWF0ID0gZGlzcGxheUZvcm1hdHNbdGltZU9wdHMudW5pdF0gfHwgZGlzcGxheUZvcm1hdHMubWlsbGlzZWNvbmQ7XG4gICAgY29uc3QgZXhhbXBsZUxhYmVsID0gdGhpcy5fdGlja0Zvcm1hdEZ1bmN0aW9uKGV4YW1wbGVUaW1lLCAwLCB0aWNrc0Zyb21UaW1lc3RhbXBzKHRoaXMsIFtleGFtcGxlVGltZV0sIHRoaXMuX21ham9yVW5pdCksIGZvcm1hdCk7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldExhYmVsU2l6ZShleGFtcGxlTGFiZWwpO1xuICAgIGNvbnN0IGNhcGFjaXR5ID0gTWF0aC5mbG9vcih0aGlzLmlzSG9yaXpvbnRhbCgpID8gdGhpcy53aWR0aCAvIHNpemUudyA6IHRoaXMuaGVpZ2h0IC8gc2l6ZS5oKSAtIDE7XG4gICAgcmV0dXJuIGNhcGFjaXR5ID4gMCA/IGNhcGFjaXR5IDogMTtcbiAgfVxuICBnZXREYXRhVGltZXN0YW1wcygpIHtcbiAgICBsZXQgdGltZXN0YW1wcyA9IHRoaXMuX2NhY2hlLmRhdGEgfHwgW107XG4gICAgbGV0IGksIGlsZW47XG4gICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgICB9XG4gICAgY29uc3QgbWV0YXMgPSB0aGlzLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCk7XG4gICAgaWYgKHRoaXMuX25vcm1hbGl6ZWQgJiYgbWV0YXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gKHRoaXMuX2NhY2hlLmRhdGEgPSBtZXRhc1swXS5jb250cm9sbGVyLmdldEFsbFBhcnNlZFZhbHVlcyh0aGlzKSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBtZXRhcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIHRpbWVzdGFtcHMgPSB0aW1lc3RhbXBzLmNvbmNhdChtZXRhc1tpXS5jb250cm9sbGVyLmdldEFsbFBhcnNlZFZhbHVlcyh0aGlzKSk7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5fY2FjaGUuZGF0YSA9IHRoaXMubm9ybWFsaXplKHRpbWVzdGFtcHMpKTtcbiAgfVxuICBnZXRMYWJlbFRpbWVzdGFtcHMoKSB7XG4gICAgY29uc3QgdGltZXN0YW1wcyA9IHRoaXMuX2NhY2hlLmxhYmVscyB8fCBbXTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBpZiAodGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aW1lc3RhbXBzO1xuICAgIH1cbiAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBsYWJlbHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICB0aW1lc3RhbXBzLnB1c2gocGFyc2UodGhpcywgbGFiZWxzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiAodGhpcy5fY2FjaGUubGFiZWxzID0gdGhpcy5fbm9ybWFsaXplZCA/IHRpbWVzdGFtcHMgOiB0aGlzLm5vcm1hbGl6ZSh0aW1lc3RhbXBzKSk7XG4gIH1cbiAgbm9ybWFsaXplKHZhbHVlcykge1xuICAgIHJldHVybiBfYXJyYXlVbmlxdWUodmFsdWVzLnNvcnQoc29ydGVyKSk7XG4gIH1cbn1cblRpbWVTY2FsZS5pZCA9ICd0aW1lJztcblRpbWVTY2FsZS5kZWZhdWx0cyA9IHtcbiAgYm91bmRzOiAnZGF0YScsXG4gIGFkYXB0ZXJzOiB7fSxcbiAgdGltZToge1xuICAgIHBhcnNlcjogZmFsc2UsXG4gICAgdW5pdDogZmFsc2UsXG4gICAgcm91bmQ6IGZhbHNlLFxuICAgIGlzb1dlZWtkYXk6IGZhbHNlLFxuICAgIG1pblVuaXQ6ICdtaWxsaXNlY29uZCcsXG4gICAgZGlzcGxheUZvcm1hdHM6IHt9XG4gIH0sXG4gIHRpY2tzOiB7XG4gICAgc291cmNlOiAnYXV0bycsXG4gICAgbWFqb3I6IHtcbiAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh0YWJsZSwgdmFsLCByZXZlcnNlKSB7XG4gIGxldCBsbyA9IDA7XG4gIGxldCBoaSA9IHRhYmxlLmxlbmd0aCAtIDE7XG4gIGxldCBwcmV2U291cmNlLCBuZXh0U291cmNlLCBwcmV2VGFyZ2V0LCBuZXh0VGFyZ2V0O1xuICBpZiAocmV2ZXJzZSkge1xuICAgIGlmICh2YWwgPj0gdGFibGVbbG9dLnBvcyAmJiB2YWwgPD0gdGFibGVbaGldLnBvcykge1xuICAgICAgKHtsbywgaGl9ID0gX2xvb2t1cEJ5S2V5KHRhYmxlLCAncG9zJywgdmFsKSk7XG4gICAgfVxuICAgICh7cG9zOiBwcmV2U291cmNlLCB0aW1lOiBwcmV2VGFyZ2V0fSA9IHRhYmxlW2xvXSk7XG4gICAgKHtwb3M6IG5leHRTb3VyY2UsIHRpbWU6IG5leHRUYXJnZXR9ID0gdGFibGVbaGldKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsID49IHRhYmxlW2xvXS50aW1lICYmIHZhbCA8PSB0YWJsZVtoaV0udGltZSkge1xuICAgICAgKHtsbywgaGl9ID0gX2xvb2t1cEJ5S2V5KHRhYmxlLCAndGltZScsIHZhbCkpO1xuICAgIH1cbiAgICAoe3RpbWU6IHByZXZTb3VyY2UsIHBvczogcHJldlRhcmdldH0gPSB0YWJsZVtsb10pO1xuICAgICh7dGltZTogbmV4dFNvdXJjZSwgcG9zOiBuZXh0VGFyZ2V0fSA9IHRhYmxlW2hpXSk7XG4gIH1cbiAgY29uc3Qgc3BhbiA9IG5leHRTb3VyY2UgLSBwcmV2U291cmNlO1xuICByZXR1cm4gc3BhbiA/IHByZXZUYXJnZXQgKyAobmV4dFRhcmdldCAtIHByZXZUYXJnZXQpICogKHZhbCAtIHByZXZTb3VyY2UpIC8gc3BhbiA6IHByZXZUYXJnZXQ7XG59XG5jbGFzcyBUaW1lU2VyaWVzU2NhbGUgZXh0ZW5kcyBUaW1lU2NhbGUge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLl90YWJsZSA9IFtdO1xuICAgIHRoaXMuX21pblBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl90YWJsZVJhbmdlID0gdW5kZWZpbmVkO1xuICB9XG4gIGluaXRPZmZzZXRzKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aGlzLl9nZXRUaW1lc3RhbXBzRm9yVGFibGUoKTtcbiAgICBjb25zdCB0YWJsZSA9IHRoaXMuX3RhYmxlID0gdGhpcy5idWlsZExvb2t1cFRhYmxlKHRpbWVzdGFtcHMpO1xuICAgIHRoaXMuX21pblBvcyA9IGludGVycG9sYXRlKHRhYmxlLCB0aGlzLm1pbik7XG4gICAgdGhpcy5fdGFibGVSYW5nZSA9IGludGVycG9sYXRlKHRhYmxlLCB0aGlzLm1heCkgLSB0aGlzLl9taW5Qb3M7XG4gICAgc3VwZXIuaW5pdE9mZnNldHModGltZXN0YW1wcyk7XG4gIH1cbiAgYnVpbGRMb29rdXBUYWJsZSh0aW1lc3RhbXBzKSB7XG4gICAgY29uc3Qge21pbiwgbWF4fSA9IHRoaXM7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCB0YWJsZSA9IFtdO1xuICAgIGxldCBpLCBpbGVuLCBwcmV2LCBjdXJyLCBuZXh0O1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSB0aW1lc3RhbXBzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgICAgY3VyciA9IHRpbWVzdGFtcHNbaV07XG4gICAgICBpZiAoY3VyciA+PSBtaW4gJiYgY3VyciA8PSBtYXgpIHtcbiAgICAgICAgaXRlbXMucHVzaChjdXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW1zLmxlbmd0aCA8IDIpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHt0aW1lOiBtaW4sIHBvczogMH0sXG4gICAgICAgIHt0aW1lOiBtYXgsIHBvczogMX1cbiAgICAgIF07XG4gICAgfVxuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpIHtcbiAgICAgIG5leHQgPSBpdGVtc1tpICsgMV07XG4gICAgICBwcmV2ID0gaXRlbXNbaSAtIDFdO1xuICAgICAgY3VyciA9IGl0ZW1zW2ldO1xuICAgICAgaWYgKE1hdGgucm91bmQoKG5leHQgKyBwcmV2KSAvIDIpICE9PSBjdXJyKSB7XG4gICAgICAgIHRhYmxlLnB1c2goe3RpbWU6IGN1cnIsIHBvczogaSAvIChpbGVuIC0gMSl9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xuICB9XG4gIF9nZXRUaW1lc3RhbXBzRm9yVGFibGUoKSB7XG4gICAgbGV0IHRpbWVzdGFtcHMgPSB0aGlzLl9jYWNoZS5hbGwgfHwgW107XG4gICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YVRpbWVzdGFtcHMoKTtcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCk7XG4gICAgaWYgKGRhdGEubGVuZ3RoICYmIGxhYmVsLmxlbmd0aCkge1xuICAgICAgdGltZXN0YW1wcyA9IHRoaXMubm9ybWFsaXplKGRhdGEuY29uY2F0KGxhYmVsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRpbWVzdGFtcHMgPSBkYXRhLmxlbmd0aCA/IGRhdGEgOiBsYWJlbDtcbiAgICB9XG4gICAgdGltZXN0YW1wcyA9IHRoaXMuX2NhY2hlLmFsbCA9IHRpbWVzdGFtcHM7XG4gICAgcmV0dXJuIHRpbWVzdGFtcHM7XG4gIH1cbiAgZ2V0RGVjaW1hbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIChpbnRlcnBvbGF0ZSh0aGlzLl90YWJsZSwgdmFsdWUpIC0gdGhpcy5fbWluUG9zKSAvIHRoaXMuX3RhYmxlUmFuZ2U7XG4gIH1cbiAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgIGNvbnN0IG9mZnNldHMgPSB0aGlzLl9vZmZzZXRzO1xuICAgIGNvbnN0IGRlY2ltYWwgPSB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCkgLyBvZmZzZXRzLmZhY3RvciAtIG9mZnNldHMuZW5kO1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZSh0aGlzLl90YWJsZSwgZGVjaW1hbCAqIHRoaXMuX3RhYmxlUmFuZ2UgKyB0aGlzLl9taW5Qb3MsIHRydWUpO1xuICB9XG59XG5UaW1lU2VyaWVzU2NhbGUuaWQgPSAndGltZXNlcmllcyc7XG5UaW1lU2VyaWVzU2NhbGUuZGVmYXVsdHMgPSBUaW1lU2NhbGUuZGVmYXVsdHM7XG5cbnZhciBzY2FsZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5fX3Byb3RvX186IG51bGwsXG5DYXRlZ29yeVNjYWxlOiBDYXRlZ29yeVNjYWxlLFxuTGluZWFyU2NhbGU6IExpbmVhclNjYWxlLFxuTG9nYXJpdGhtaWNTY2FsZTogTG9nYXJpdGhtaWNTY2FsZSxcblJhZGlhbExpbmVhclNjYWxlOiBSYWRpYWxMaW5lYXJTY2FsZSxcblRpbWVTY2FsZTogVGltZVNjYWxlLFxuVGltZVNlcmllc1NjYWxlOiBUaW1lU2VyaWVzU2NhbGVcbn0pO1xuXG5jb25zdCByZWdpc3RlcmFibGVzID0gW1xuICBjb250cm9sbGVycyxcbiAgZWxlbWVudHMsXG4gIHBsdWdpbnMsXG4gIHNjYWxlcyxcbl07XG5cbmV4cG9ydCB7IEFuaW1hdGlvbiwgQW5pbWF0aW9ucywgQXJjRWxlbWVudCwgQmFyQ29udHJvbGxlciwgQmFyRWxlbWVudCwgQmFzZVBsYXRmb3JtLCBCYXNpY1BsYXRmb3JtLCBCdWJibGVDb250cm9sbGVyLCBDYXRlZ29yeVNjYWxlLCBDaGFydCwgRGF0YXNldENvbnRyb2xsZXIsIHBsdWdpbl9kZWNpbWF0aW9uIGFzIERlY2ltYXRpb24sIERvbVBsYXRmb3JtLCBEb3VnaG51dENvbnRyb2xsZXIsIEVsZW1lbnQsIGluZGV4IGFzIEZpbGxlciwgSW50ZXJhY3Rpb24sIHBsdWdpbl9sZWdlbmQgYXMgTGVnZW5kLCBMaW5lQ29udHJvbGxlciwgTGluZUVsZW1lbnQsIExpbmVhclNjYWxlLCBMb2dhcml0aG1pY1NjYWxlLCBQaWVDb250cm9sbGVyLCBQb2ludEVsZW1lbnQsIFBvbGFyQXJlYUNvbnRyb2xsZXIsIFJhZGFyQ29udHJvbGxlciwgUmFkaWFsTGluZWFyU2NhbGUsIFNjYWxlLCBTY2F0dGVyQ29udHJvbGxlciwgcGx1Z2luX3N1YnRpdGxlIGFzIFN1YlRpdGxlLCBUaWNrcywgVGltZVNjYWxlLCBUaW1lU2VyaWVzU2NhbGUsIHBsdWdpbl90aXRsZSBhcyBUaXRsZSwgcGx1Z2luX3Rvb2x0aXAgYXMgVG9vbHRpcCwgYWRhcHRlcnMgYXMgX2FkYXB0ZXJzLCBfZGV0ZWN0UGxhdGZvcm0sIGFuaW1hdG9yLCBjb250cm9sbGVycywgZWxlbWVudHMsIGxheW91dHMsIHBsdWdpbnMsIHJlZ2lzdGVyYWJsZXMsIHJlZ2lzdHJ5LCBzY2FsZXMgfTtcbiIsIi8qIVxuICogQ2hhcnQuanMgdjMuOS4xXG4gKiBodHRwczovL3d3dy5jaGFydGpzLm9yZ1xuICogKGMpIDIwMjIgQ2hhcnQuanMgQ29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHt9XG5jb25zdCB1aWQgPSAoZnVuY3Rpb24oKSB7XG4gIGxldCBpZCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaWQrKztcbiAgfTtcbn0oKSk7XG5mdW5jdGlvbiBpc051bGxPclVuZGVmKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodHlwZS5zbGljZSgwLCA3KSA9PT0gJ1tvYmplY3QnICYmIHR5cGUuc2xpY2UoLTYpID09PSAnQXJyYXldJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cbmNvbnN0IGlzTnVtYmVyRmluaXRlID0gKHZhbHVlKSA9PiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIE51bWJlcikgJiYgaXNGaW5pdGUoK3ZhbHVlKTtcbmZ1bmN0aW9uIGZpbml0ZU9yRGVmYXVsdCh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiBpc051bWJlckZpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cbmZ1bmN0aW9uIHZhbHVlT3JEZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbn1cbmNvbnN0IHRvUGVyY2VudGFnZSA9ICh2YWx1ZSwgZGltZW5zaW9uKSA9PlxuICB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmVuZHNXaXRoKCclJykgP1xuICAgIHBhcnNlRmxvYXQodmFsdWUpIC8gMTAwXG4gICAgOiB2YWx1ZSAvIGRpbWVuc2lvbjtcbmNvbnN0IHRvRGltZW5zaW9uID0gKHZhbHVlLCBkaW1lbnNpb24pID0+XG4gIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuZW5kc1dpdGgoJyUnKSA/XG4gICAgcGFyc2VGbG9hdCh2YWx1ZSkgLyAxMDAgKiBkaW1lbnNpb25cbiAgICA6ICt2YWx1ZTtcbmZ1bmN0aW9uIGNhbGxiYWNrKGZuLCBhcmdzLCB0aGlzQXJnKSB7XG4gIGlmIChmbiAmJiB0eXBlb2YgZm4uY2FsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxufVxuZnVuY3Rpb24gZWFjaChsb29wYWJsZSwgZm4sIHRoaXNBcmcsIHJldmVyc2UpIHtcbiAgbGV0IGksIGxlbiwga2V5cztcbiAgaWYgKGlzQXJyYXkobG9vcGFibGUpKSB7XG4gICAgbGVuID0gbG9vcGFibGUubGVuZ3RoO1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBmbi5jYWxsKHRoaXNBcmcsIGxvb3BhYmxlW2ldLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGZuLmNhbGwodGhpc0FyZywgbG9vcGFibGVbaV0sIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChsb29wYWJsZSkpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXMobG9vcGFibGUpO1xuICAgIGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgZm4uY2FsbCh0aGlzQXJnLCBsb29wYWJsZVtrZXlzW2ldXSwga2V5c1tpXSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBfZWxlbWVudHNFcXVhbChhMCwgYTEpIHtcbiAgbGV0IGksIGlsZW4sIHYwLCB2MTtcbiAgaWYgKCFhMCB8fCAhYTEgfHwgYTAubGVuZ3RoICE9PSBhMS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChpID0gMCwgaWxlbiA9IGEwLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIHYwID0gYTBbaV07XG4gICAgdjEgPSBhMVtpXTtcbiAgICBpZiAodjAuZGF0YXNldEluZGV4ICE9PSB2MS5kYXRhc2V0SW5kZXggfHwgdjAuaW5kZXggIT09IHYxLmluZGV4KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY2xvbmUkMShzb3VyY2UpIHtcbiAgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2UubWFwKGNsb25lJDEpO1xuICB9XG4gIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICBjb25zdCBrbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGsgPSAwO1xuICAgIGZvciAoOyBrIDwga2xlbjsgKytrKSB7XG4gICAgICB0YXJnZXRba2V5c1trXV0gPSBjbG9uZSQxKHNvdXJjZVtrZXlzW2tdXSk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIHNvdXJjZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5KSB7XG4gIHJldHVybiBbJ19fcHJvdG9fXycsICdwcm90b3R5cGUnLCAnY29uc3RydWN0b3InXS5pbmRleE9mKGtleSkgPT09IC0xO1xufVxuZnVuY3Rpb24gX21lcmdlcihrZXksIHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gIGlmICghaXNWYWxpZEtleShrZXkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHR2YWwgPSB0YXJnZXRba2V5XTtcbiAgY29uc3Qgc3ZhbCA9IHNvdXJjZVtrZXldO1xuICBpZiAoaXNPYmplY3QodHZhbCkgJiYgaXNPYmplY3Qoc3ZhbCkpIHtcbiAgICBtZXJnZSh0dmFsLCBzdmFsLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXRba2V5XSA9IGNsb25lJDEoc3ZhbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHNvdXJjZXMgPSBpc0FycmF5KHNvdXJjZSkgPyBzb3VyY2UgOiBbc291cmNlXTtcbiAgY29uc3QgaWxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBtZXJnZXIgPSBvcHRpb25zLm1lcmdlciB8fCBfbWVyZ2VyO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlsZW47ICsraSkge1xuICAgIHNvdXJjZSA9IHNvdXJjZXNbaV07XG4gICAgaWYgKCFpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgZm9yIChsZXQgayA9IDAsIGtsZW4gPSBrZXlzLmxlbmd0aDsgayA8IGtsZW47ICsraykge1xuICAgICAgbWVyZ2VyKGtleXNba10sIHRhcmdldCwgc291cmNlLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIG1lcmdlSWYodGFyZ2V0LCBzb3VyY2UpIHtcbiAgcmV0dXJuIG1lcmdlKHRhcmdldCwgc291cmNlLCB7bWVyZ2VyOiBfbWVyZ2VySWZ9KTtcbn1cbmZ1bmN0aW9uIF9tZXJnZXJJZihrZXksIHRhcmdldCwgc291cmNlKSB7XG4gIGlmICghaXNWYWxpZEtleShrZXkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHR2YWwgPSB0YXJnZXRba2V5XTtcbiAgY29uc3Qgc3ZhbCA9IHNvdXJjZVtrZXldO1xuICBpZiAoaXNPYmplY3QodHZhbCkgJiYgaXNPYmplY3Qoc3ZhbCkpIHtcbiAgICBtZXJnZUlmKHR2YWwsIHN2YWwpO1xuICB9IGVsc2UgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBrZXkpKSB7XG4gICAgdGFyZ2V0W2tleV0gPSBjbG9uZSQxKHN2YWwpO1xuICB9XG59XG5mdW5jdGlvbiBfZGVwcmVjYXRlZChzY29wZSwgdmFsdWUsIHByZXZpb3VzLCBjdXJyZW50KSB7XG4gIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc29sZS53YXJuKHNjb3BlICsgJzogXCInICsgcHJldmlvdXMgK1xuXHRcdFx0J1wiIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgXCInICsgY3VycmVudCArICdcIiBpbnN0ZWFkJyk7XG4gIH1cbn1cbmNvbnN0IGtleVJlc29sdmVycyA9IHtcbiAgJyc6IHYgPT4gdixcbiAgeDogbyA9PiBvLngsXG4gIHk6IG8gPT4gby55XG59O1xuZnVuY3Rpb24gcmVzb2x2ZU9iamVjdEtleShvYmosIGtleSkge1xuICBjb25zdCByZXNvbHZlciA9IGtleVJlc29sdmVyc1trZXldIHx8IChrZXlSZXNvbHZlcnNba2V5XSA9IF9nZXRLZXlSZXNvbHZlcihrZXkpKTtcbiAgcmV0dXJuIHJlc29sdmVyKG9iaik7XG59XG5mdW5jdGlvbiBfZ2V0S2V5UmVzb2x2ZXIoa2V5KSB7XG4gIGNvbnN0IGtleXMgPSBfc3BsaXRLZXkoa2V5KTtcbiAgcmV0dXJuIG9iaiA9PiB7XG4gICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHtcbiAgICAgIGlmIChrID09PSAnJykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG9iaiA9IG9iaiAmJiBvYmpba107XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG59XG5mdW5jdGlvbiBfc3BsaXRLZXkoa2V5KSB7XG4gIGNvbnN0IHBhcnRzID0ga2V5LnNwbGl0KCcuJyk7XG4gIGNvbnN0IGtleXMgPSBbXTtcbiAgbGV0IHRtcCA9ICcnO1xuICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICB0bXAgKz0gcGFydDtcbiAgICBpZiAodG1wLmVuZHNXaXRoKCdcXFxcJykpIHtcbiAgICAgIHRtcCA9IHRtcC5zbGljZSgwLCAtMSkgKyAnLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMucHVzaCh0bXApO1xuICAgICAgdG1wID0gJyc7XG4gICAgfVxuICB9XG4gIHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gX2NhcGl0YWxpemUoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59XG5jb25zdCBkZWZpbmVkID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuY29uc3Qgc2V0c0VxdWFsID0gKGEsIGIpID0+IHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgaXRlbSBvZiBhKSB7XG4gICAgaWYgKCFiLmhhcyhpdGVtKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBfaXNDbGlja0V2ZW50KGUpIHtcbiAgcmV0dXJuIGUudHlwZSA9PT0gJ21vdXNldXAnIHx8IGUudHlwZSA9PT0gJ2NsaWNrJyB8fCBlLnR5cGUgPT09ICdjb250ZXh0bWVudSc7XG59XG5cbmNvbnN0IFBJID0gTWF0aC5QSTtcbmNvbnN0IFRBVSA9IDIgKiBQSTtcbmNvbnN0IFBJVEFVID0gVEFVICsgUEk7XG5jb25zdCBJTkZJTklUWSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbmNvbnN0IFJBRF9QRVJfREVHID0gUEkgLyAxODA7XG5jb25zdCBIQUxGX1BJID0gUEkgLyAyO1xuY29uc3QgUVVBUlRFUl9QSSA9IFBJIC8gNDtcbmNvbnN0IFRXT19USElSRFNfUEkgPSBQSSAqIDIgLyAzO1xuY29uc3QgbG9nMTAgPSBNYXRoLmxvZzEwO1xuY29uc3Qgc2lnbiA9IE1hdGguc2lnbjtcbmZ1bmN0aW9uIG5pY2VOdW0ocmFuZ2UpIHtcbiAgY29uc3Qgcm91bmRlZFJhbmdlID0gTWF0aC5yb3VuZChyYW5nZSk7XG4gIHJhbmdlID0gYWxtb3N0RXF1YWxzKHJhbmdlLCByb3VuZGVkUmFuZ2UsIHJhbmdlIC8gMTAwMCkgPyByb3VuZGVkUmFuZ2UgOiByYW5nZTtcbiAgY29uc3QgbmljZVJhbmdlID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IobG9nMTAocmFuZ2UpKSk7XG4gIGNvbnN0IGZyYWN0aW9uID0gcmFuZ2UgLyBuaWNlUmFuZ2U7XG4gIGNvbnN0IG5pY2VGcmFjdGlvbiA9IGZyYWN0aW9uIDw9IDEgPyAxIDogZnJhY3Rpb24gPD0gMiA/IDIgOiBmcmFjdGlvbiA8PSA1ID8gNSA6IDEwO1xuICByZXR1cm4gbmljZUZyYWN0aW9uICogbmljZVJhbmdlO1xufVxuZnVuY3Rpb24gX2ZhY3Rvcml6ZSh2YWx1ZSkge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3Qgc3FydCA9IE1hdGguc3FydCh2YWx1ZSk7XG4gIGxldCBpO1xuICBmb3IgKGkgPSAxOyBpIDwgc3FydDsgaSsrKSB7XG4gICAgaWYgKHZhbHVlICUgaSA9PT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSAvIGkpO1xuICAgIH1cbiAgfVxuICBpZiAoc3FydCA9PT0gKHNxcnQgfCAwKSkge1xuICAgIHJlc3VsdC5wdXNoKHNxcnQpO1xuICB9XG4gIHJlc3VsdC5zb3J0KChhLCBiKSA9PiBhIC0gYikucG9wKCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBpc051bWJlcihuKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5mdW5jdGlvbiBhbG1vc3RFcXVhbHMoeCwgeSwgZXBzaWxvbikge1xuICByZXR1cm4gTWF0aC5hYnMoeCAtIHkpIDwgZXBzaWxvbjtcbn1cbmZ1bmN0aW9uIGFsbW9zdFdob2xlKHgsIGVwc2lsb24pIHtcbiAgY29uc3Qgcm91bmRlZCA9IE1hdGgucm91bmQoeCk7XG4gIHJldHVybiAoKHJvdW5kZWQgLSBlcHNpbG9uKSA8PSB4KSAmJiAoKHJvdW5kZWQgKyBlcHNpbG9uKSA+PSB4KTtcbn1cbmZ1bmN0aW9uIF9zZXRNaW5BbmRNYXhCeUtleShhcnJheSwgdGFyZ2V0LCBwcm9wZXJ0eSkge1xuICBsZXQgaSwgaWxlbiwgdmFsdWU7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICB2YWx1ZSA9IGFycmF5W2ldW3Byb3BlcnR5XTtcbiAgICBpZiAoIWlzTmFOKHZhbHVlKSkge1xuICAgICAgdGFyZ2V0Lm1pbiA9IE1hdGgubWluKHRhcmdldC5taW4sIHZhbHVlKTtcbiAgICAgIHRhcmdldC5tYXggPSBNYXRoLm1heCh0YXJnZXQubWF4LCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0b1JhZGlhbnMoZGVncmVlcykge1xuICByZXR1cm4gZGVncmVlcyAqIChQSSAvIDE4MCk7XG59XG5mdW5jdGlvbiB0b0RlZ3JlZXMocmFkaWFucykge1xuICByZXR1cm4gcmFkaWFucyAqICgxODAgLyBQSSk7XG59XG5mdW5jdGlvbiBfZGVjaW1hbFBsYWNlcyh4KSB7XG4gIGlmICghaXNOdW1iZXJGaW5pdGUoeCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGUgPSAxO1xuICBsZXQgcCA9IDA7XG4gIHdoaWxlIChNYXRoLnJvdW5kKHggKiBlKSAvIGUgIT09IHgpIHtcbiAgICBlICo9IDEwO1xuICAgIHArKztcbiAgfVxuICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIGdldEFuZ2xlRnJvbVBvaW50KGNlbnRyZVBvaW50LCBhbmdsZVBvaW50KSB7XG4gIGNvbnN0IGRpc3RhbmNlRnJvbVhDZW50ZXIgPSBhbmdsZVBvaW50LnggLSBjZW50cmVQb2ludC54O1xuICBjb25zdCBkaXN0YW5jZUZyb21ZQ2VudGVyID0gYW5nbGVQb2ludC55IC0gY2VudHJlUG9pbnQueTtcbiAgY29uc3QgcmFkaWFsRGlzdGFuY2VGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KGRpc3RhbmNlRnJvbVhDZW50ZXIgKiBkaXN0YW5jZUZyb21YQ2VudGVyICsgZGlzdGFuY2VGcm9tWUNlbnRlciAqIGRpc3RhbmNlRnJvbVlDZW50ZXIpO1xuICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKGRpc3RhbmNlRnJvbVlDZW50ZXIsIGRpc3RhbmNlRnJvbVhDZW50ZXIpO1xuICBpZiAoYW5nbGUgPCAoLTAuNSAqIFBJKSkge1xuICAgIGFuZ2xlICs9IFRBVTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGFuZ2xlLFxuICAgIGRpc3RhbmNlOiByYWRpYWxEaXN0YW5jZUZyb21DZW50ZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGRpc3RhbmNlQmV0d2VlblBvaW50cyhwdDEsIHB0Mikge1xuICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHB0Mi54IC0gcHQxLngsIDIpICsgTWF0aC5wb3cocHQyLnkgLSBwdDEueSwgMikpO1xufVxuZnVuY3Rpb24gX2FuZ2xlRGlmZihhLCBiKSB7XG4gIHJldHVybiAoYSAtIGIgKyBQSVRBVSkgJSBUQVUgLSBQSTtcbn1cbmZ1bmN0aW9uIF9ub3JtYWxpemVBbmdsZShhKSB7XG4gIHJldHVybiAoYSAlIFRBVSArIFRBVSkgJSBUQVU7XG59XG5mdW5jdGlvbiBfYW5nbGVCZXR3ZWVuKGFuZ2xlLCBzdGFydCwgZW5kLCBzYW1lQW5nbGVJc0Z1bGxDaXJjbGUpIHtcbiAgY29uc3QgYSA9IF9ub3JtYWxpemVBbmdsZShhbmdsZSk7XG4gIGNvbnN0IHMgPSBfbm9ybWFsaXplQW5nbGUoc3RhcnQpO1xuICBjb25zdCBlID0gX25vcm1hbGl6ZUFuZ2xlKGVuZCk7XG4gIGNvbnN0IGFuZ2xlVG9TdGFydCA9IF9ub3JtYWxpemVBbmdsZShzIC0gYSk7XG4gIGNvbnN0IGFuZ2xlVG9FbmQgPSBfbm9ybWFsaXplQW5nbGUoZSAtIGEpO1xuICBjb25zdCBzdGFydFRvQW5nbGUgPSBfbm9ybWFsaXplQW5nbGUoYSAtIHMpO1xuICBjb25zdCBlbmRUb0FuZ2xlID0gX25vcm1hbGl6ZUFuZ2xlKGEgLSBlKTtcbiAgcmV0dXJuIGEgPT09IHMgfHwgYSA9PT0gZSB8fCAoc2FtZUFuZ2xlSXNGdWxsQ2lyY2xlICYmIHMgPT09IGUpXG4gICAgfHwgKGFuZ2xlVG9TdGFydCA+IGFuZ2xlVG9FbmQgJiYgc3RhcnRUb0FuZ2xlIDwgZW5kVG9BbmdsZSk7XG59XG5mdW5jdGlvbiBfbGltaXRWYWx1ZSh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gX2ludDE2UmFuZ2UodmFsdWUpIHtcbiAgcmV0dXJuIF9saW1pdFZhbHVlKHZhbHVlLCAtMzI3NjgsIDMyNzY3KTtcbn1cbmZ1bmN0aW9uIF9pc0JldHdlZW4odmFsdWUsIHN0YXJ0LCBlbmQsIGVwc2lsb24gPSAxZS02KSB7XG4gIHJldHVybiB2YWx1ZSA+PSBNYXRoLm1pbihzdGFydCwgZW5kKSAtIGVwc2lsb24gJiYgdmFsdWUgPD0gTWF0aC5tYXgoc3RhcnQsIGVuZCkgKyBlcHNpbG9uO1xufVxuXG5mdW5jdGlvbiBfbG9va3VwKHRhYmxlLCB2YWx1ZSwgY21wKSB7XG4gIGNtcCA9IGNtcCB8fCAoKGluZGV4KSA9PiB0YWJsZVtpbmRleF0gPCB2YWx1ZSk7XG4gIGxldCBoaSA9IHRhYmxlLmxlbmd0aCAtIDE7XG4gIGxldCBsbyA9IDA7XG4gIGxldCBtaWQ7XG4gIHdoaWxlIChoaSAtIGxvID4gMSkge1xuICAgIG1pZCA9IChsbyArIGhpKSA+PiAxO1xuICAgIGlmIChjbXAobWlkKSkge1xuICAgICAgbG8gPSBtaWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge2xvLCBoaX07XG59XG5jb25zdCBfbG9va3VwQnlLZXkgPSAodGFibGUsIGtleSwgdmFsdWUsIGxhc3QpID0+XG4gIF9sb29rdXAodGFibGUsIHZhbHVlLCBsYXN0XG4gICAgPyBpbmRleCA9PiB0YWJsZVtpbmRleF1ba2V5XSA8PSB2YWx1ZVxuICAgIDogaW5kZXggPT4gdGFibGVbaW5kZXhdW2tleV0gPCB2YWx1ZSk7XG5jb25zdCBfcmxvb2t1cEJ5S2V5ID0gKHRhYmxlLCBrZXksIHZhbHVlKSA9PlxuICBfbG9va3VwKHRhYmxlLCB2YWx1ZSwgaW5kZXggPT4gdGFibGVbaW5kZXhdW2tleV0gPj0gdmFsdWUpO1xuZnVuY3Rpb24gX2ZpbHRlckJldHdlZW4odmFsdWVzLCBtaW4sIG1heCkge1xuICBsZXQgc3RhcnQgPSAwO1xuICBsZXQgZW5kID0gdmFsdWVzLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kICYmIHZhbHVlc1tzdGFydF0gPCBtaW4pIHtcbiAgICBzdGFydCsrO1xuICB9XG4gIHdoaWxlIChlbmQgPiBzdGFydCAmJiB2YWx1ZXNbZW5kIC0gMV0gPiBtYXgpIHtcbiAgICBlbmQtLTtcbiAgfVxuICByZXR1cm4gc3RhcnQgPiAwIHx8IGVuZCA8IHZhbHVlcy5sZW5ndGhcbiAgICA/IHZhbHVlcy5zbGljZShzdGFydCwgZW5kKVxuICAgIDogdmFsdWVzO1xufVxuY29uc3QgYXJyYXlFdmVudHMgPSBbJ3B1c2gnLCAncG9wJywgJ3NoaWZ0JywgJ3NwbGljZScsICd1bnNoaWZ0J107XG5mdW5jdGlvbiBsaXN0ZW5BcnJheUV2ZW50cyhhcnJheSwgbGlzdGVuZXIpIHtcbiAgaWYgKGFycmF5Ll9jaGFydGpzKSB7XG4gICAgYXJyYXkuX2NoYXJ0anMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXJyYXksICdfY2hhcnRqcycsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgdmFsdWU6IHtcbiAgICAgIGxpc3RlbmVyczogW2xpc3RlbmVyXVxuICAgIH1cbiAgfSk7XG4gIGFycmF5RXZlbnRzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9ICdfb25EYXRhJyArIF9jYXBpdGFsaXplKGtleSk7XG4gICAgY29uc3QgYmFzZSA9IGFycmF5W2tleV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFycmF5LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgdmFsdWUoLi4uYXJncykge1xuICAgICAgICBjb25zdCByZXMgPSBiYXNlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBhcnJheS5fY2hhcnRqcy5saXN0ZW5lcnMuZm9yRWFjaCgob2JqZWN0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3RbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb2JqZWN0W21ldGhvZF0oLi4uYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiB1bmxpc3RlbkFycmF5RXZlbnRzKGFycmF5LCBsaXN0ZW5lcikge1xuICBjb25zdCBzdHViID0gYXJyYXkuX2NoYXJ0anM7XG4gIGlmICghc3R1Yikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBsaXN0ZW5lcnMgPSBzdHViLmxpc3RlbmVycztcbiAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICBpZiAobGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXJyYXlFdmVudHMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgZGVsZXRlIGFycmF5W2tleV07XG4gIH0pO1xuICBkZWxldGUgYXJyYXkuX2NoYXJ0anM7XG59XG5mdW5jdGlvbiBfYXJyYXlVbmlxdWUoaXRlbXMpIHtcbiAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICBsZXQgaSwgaWxlbjtcbiAgZm9yIChpID0gMCwgaWxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIHNldC5hZGQoaXRlbXNbaV0pO1xuICB9XG4gIGlmIChzZXQuc2l6ZSA9PT0gaWxlbikge1xuICAgIHJldHVybiBpdGVtcztcbiAgfVxuICByZXR1cm4gQXJyYXkuZnJvbShzZXQpO1xufVxuXG5mdW5jdGlvbiBmb250U3RyaW5nKHBpeGVsU2l6ZSwgZm9udFN0eWxlLCBmb250RmFtaWx5KSB7XG4gIHJldHVybiBmb250U3R5bGUgKyAnICcgKyBwaXhlbFNpemUgKyAncHggJyArIGZvbnRGYW1pbHk7XG59XG5jb25zdCByZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG59KCkpO1xuZnVuY3Rpb24gdGhyb3R0bGVkKGZuLCB0aGlzQXJnLCB1cGRhdGVGbikge1xuICBjb25zdCB1cGRhdGVBcmdzID0gdXBkYXRlRm4gfHwgKChhcmdzKSA9PiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKSk7XG4gIGxldCB0aWNraW5nID0gZmFsc2U7XG4gIGxldCBhcmdzID0gW107XG4gIHJldHVybiBmdW5jdGlvbiguLi5yZXN0KSB7XG4gICAgYXJncyA9IHVwZGF0ZUFyZ3MocmVzdCk7XG4gICAgaWYgKCF0aWNraW5nKSB7XG4gICAgICB0aWNraW5nID0gdHJ1ZTtcbiAgICAgIHJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csICgpID0+IHtcbiAgICAgICAgdGlja2luZyA9IGZhbHNlO1xuICAgICAgICBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCBkZWxheSkge1xuICBsZXQgdGltZW91dDtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoZGVsYXkpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZuLCBkZWxheSwgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZGVsYXk7XG4gIH07XG59XG5jb25zdCBfdG9MZWZ0UmlnaHRDZW50ZXIgPSAoYWxpZ24pID0+IGFsaWduID09PSAnc3RhcnQnID8gJ2xlZnQnIDogYWxpZ24gPT09ICdlbmQnID8gJ3JpZ2h0JyA6ICdjZW50ZXInO1xuY29uc3QgX2FsaWduU3RhcnRFbmQgPSAoYWxpZ24sIHN0YXJ0LCBlbmQpID0+IGFsaWduID09PSAnc3RhcnQnID8gc3RhcnQgOiBhbGlnbiA9PT0gJ2VuZCcgPyBlbmQgOiAoc3RhcnQgKyBlbmQpIC8gMjtcbmNvbnN0IF90ZXh0WCA9IChhbGlnbiwgbGVmdCwgcmlnaHQsIHJ0bCkgPT4ge1xuICBjb25zdCBjaGVjayA9IHJ0bCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIHJldHVybiBhbGlnbiA9PT0gY2hlY2sgPyByaWdodCA6IGFsaWduID09PSAnY2VudGVyJyA/IChsZWZ0ICsgcmlnaHQpIC8gMiA6IGxlZnQ7XG59O1xuZnVuY3Rpb24gX2dldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHMobWV0YSwgcG9pbnRzLCBhbmltYXRpb25zRGlzYWJsZWQpIHtcbiAgY29uc3QgcG9pbnRDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGxldCBzdGFydCA9IDA7XG4gIGxldCBjb3VudCA9IHBvaW50Q291bnQ7XG4gIGlmIChtZXRhLl9zb3J0ZWQpIHtcbiAgICBjb25zdCB7aVNjYWxlLCBfcGFyc2VkfSA9IG1ldGE7XG4gICAgY29uc3QgYXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGNvbnN0IHttaW4sIG1heCwgbWluRGVmaW5lZCwgbWF4RGVmaW5lZH0gPSBpU2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICAgIGlmIChtaW5EZWZpbmVkKSB7XG4gICAgICBzdGFydCA9IF9saW1pdFZhbHVlKE1hdGgubWluKFxuICAgICAgICBfbG9va3VwQnlLZXkoX3BhcnNlZCwgaVNjYWxlLmF4aXMsIG1pbikubG8sXG4gICAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCA/IHBvaW50Q291bnQgOiBfbG9va3VwQnlLZXkocG9pbnRzLCBheGlzLCBpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShtaW4pKS5sbyksXG4gICAgICAwLCBwb2ludENvdW50IC0gMSk7XG4gICAgfVxuICAgIGlmIChtYXhEZWZpbmVkKSB7XG4gICAgICBjb3VudCA9IF9saW1pdFZhbHVlKE1hdGgubWF4KFxuICAgICAgICBfbG9va3VwQnlLZXkoX3BhcnNlZCwgaVNjYWxlLmF4aXMsIG1heCwgdHJ1ZSkuaGkgKyAxLFxuICAgICAgICBhbmltYXRpb25zRGlzYWJsZWQgPyAwIDogX2xvb2t1cEJ5S2V5KHBvaW50cywgYXhpcywgaVNjYWxlLmdldFBpeGVsRm9yVmFsdWUobWF4KSwgdHJ1ZSkuaGkgKyAxKSxcbiAgICAgIHN0YXJ0LCBwb2ludENvdW50KSAtIHN0YXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudCA9IHBvaW50Q291bnQgLSBzdGFydDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtzdGFydCwgY291bnR9O1xufVxuZnVuY3Rpb24gX3NjYWxlUmFuZ2VzQ2hhbmdlZChtZXRhKSB7XG4gIGNvbnN0IHt4U2NhbGUsIHlTY2FsZSwgX3NjYWxlUmFuZ2VzfSA9IG1ldGE7XG4gIGNvbnN0IG5ld1JhbmdlcyA9IHtcbiAgICB4bWluOiB4U2NhbGUubWluLFxuICAgIHhtYXg6IHhTY2FsZS5tYXgsXG4gICAgeW1pbjogeVNjYWxlLm1pbixcbiAgICB5bWF4OiB5U2NhbGUubWF4XG4gIH07XG4gIGlmICghX3NjYWxlUmFuZ2VzKSB7XG4gICAgbWV0YS5fc2NhbGVSYW5nZXMgPSBuZXdSYW5nZXM7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgY2hhbmdlZCA9IF9zY2FsZVJhbmdlcy54bWluICE9PSB4U2NhbGUubWluXG5cdFx0fHwgX3NjYWxlUmFuZ2VzLnhtYXggIT09IHhTY2FsZS5tYXhcblx0XHR8fCBfc2NhbGVSYW5nZXMueW1pbiAhPT0geVNjYWxlLm1pblxuXHRcdHx8IF9zY2FsZVJhbmdlcy55bWF4ICE9PSB5U2NhbGUubWF4O1xuICBPYmplY3QuYXNzaWduKF9zY2FsZVJhbmdlcywgbmV3UmFuZ2VzKTtcbiAgcmV0dXJuIGNoYW5nZWQ7XG59XG5cbmNvbnN0IGF0RWRnZSA9ICh0KSA9PiB0ID09PSAwIHx8IHQgPT09IDE7XG5jb25zdCBlbGFzdGljSW4gPSAodCwgcywgcCkgPT4gLShNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0IC0gcykgKiBUQVUgLyBwKSk7XG5jb25zdCBlbGFzdGljT3V0ID0gKHQsIHMsIHApID0+IE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgLSBzKSAqIFRBVSAvIHApICsgMTtcbmNvbnN0IGVmZmVjdHMgPSB7XG4gIGxpbmVhcjogdCA9PiB0LFxuICBlYXNlSW5RdWFkOiB0ID0+IHQgKiB0LFxuICBlYXNlT3V0UXVhZDogdCA9PiAtdCAqICh0IC0gMiksXG4gIGVhc2VJbk91dFF1YWQ6IHQgPT4gKCh0IC89IDAuNSkgPCAxKVxuICAgID8gMC41ICogdCAqIHRcbiAgICA6IC0wLjUgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSksXG4gIGVhc2VJbkN1YmljOiB0ID0+IHQgKiB0ICogdCxcbiAgZWFzZU91dEN1YmljOiB0ID0+ICh0IC09IDEpICogdCAqIHQgKyAxLFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiAoKHQgLz0gMC41KSA8IDEpXG4gICAgPyAwLjUgKiB0ICogdCAqIHRcbiAgICA6IDAuNSAqICgodCAtPSAyKSAqIHQgKiB0ICsgMiksXG4gIGVhc2VJblF1YXJ0OiB0ID0+IHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWFydDogdCA9PiAtKCh0IC09IDEpICogdCAqIHQgKiB0IC0gMSksXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+ICgodCAvPSAwLjUpIDwgMSlcbiAgICA/IDAuNSAqIHQgKiB0ICogdCAqIHRcbiAgICA6IC0wLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSxcbiAgZWFzZUluUXVpbnQ6IHQgPT4gdCAqIHQgKiB0ICogdCAqIHQsXG4gIGVhc2VPdXRRdWludDogdCA9PiAodCAtPSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxLFxuICBlYXNlSW5PdXRRdWludDogdCA9PiAoKHQgLz0gMC41KSA8IDEpXG4gICAgPyAwLjUgKiB0ICogdCAqIHQgKiB0ICogdFxuICAgIDogMC41ICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpLFxuICBlYXNlSW5TaW5lOiB0ID0+IC1NYXRoLmNvcyh0ICogSEFMRl9QSSkgKyAxLFxuICBlYXNlT3V0U2luZTogdCA9PiBNYXRoLnNpbih0ICogSEFMRl9QSSksXG4gIGVhc2VJbk91dFNpbmU6IHQgPT4gLTAuNSAqIChNYXRoLmNvcyhQSSAqIHQpIC0gMSksXG4gIGVhc2VJbkV4cG86IHQgPT4gKHQgPT09IDApID8gMCA6IE1hdGgucG93KDIsIDEwICogKHQgLSAxKSksXG4gIGVhc2VPdXRFeHBvOiB0ID0+ICh0ID09PSAxKSA/IDEgOiAtTWF0aC5wb3coMiwgLTEwICogdCkgKyAxLFxuICBlYXNlSW5PdXRFeHBvOiB0ID0+IGF0RWRnZSh0KSA/IHQgOiB0IDwgMC41XG4gICAgPyAwLjUgKiBNYXRoLnBvdygyLCAxMCAqICh0ICogMiAtIDEpKVxuICAgIDogMC41ICogKC1NYXRoLnBvdygyLCAtMTAgKiAodCAqIDIgLSAxKSkgKyAyKSxcbiAgZWFzZUluQ2lyYzogdCA9PiAodCA+PSAxKSA/IHQgOiAtKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSksXG4gIGVhc2VPdXRDaXJjOiB0ID0+IE1hdGguc3FydCgxIC0gKHQgLT0gMSkgKiB0KSxcbiAgZWFzZUluT3V0Q2lyYzogdCA9PiAoKHQgLz0gMC41KSA8IDEpXG4gICAgPyAtMC41ICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSlcbiAgICA6IDAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSxcbiAgZWFzZUluRWxhc3RpYzogdCA9PiBhdEVkZ2UodCkgPyB0IDogZWxhc3RpY0luKHQsIDAuMDc1LCAwLjMpLFxuICBlYXNlT3V0RWxhc3RpYzogdCA9PiBhdEVkZ2UodCkgPyB0IDogZWxhc3RpY091dCh0LCAwLjA3NSwgMC4zKSxcbiAgZWFzZUluT3V0RWxhc3RpYyh0KSB7XG4gICAgY29uc3QgcyA9IDAuMTEyNTtcbiAgICBjb25zdCBwID0gMC40NTtcbiAgICByZXR1cm4gYXRFZGdlKHQpID8gdCA6XG4gICAgICB0IDwgMC41XG4gICAgICAgID8gMC41ICogZWxhc3RpY0luKHQgKiAyLCBzLCBwKVxuICAgICAgICA6IDAuNSArIDAuNSAqIGVsYXN0aWNPdXQodCAqIDIgLSAxLCBzLCBwKTtcbiAgfSxcbiAgZWFzZUluQmFjayh0KSB7XG4gICAgY29uc3QgcyA9IDEuNzAxNTg7XG4gICAgcmV0dXJuIHQgKiB0ICogKChzICsgMSkgKiB0IC0gcyk7XG4gIH0sXG4gIGVhc2VPdXRCYWNrKHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1ODtcbiAgICByZXR1cm4gKHQgLT0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxO1xuICB9LFxuICBlYXNlSW5PdXRCYWNrKHQpIHtcbiAgICBsZXQgcyA9IDEuNzAxNTg7XG4gICAgaWYgKCh0IC89IDAuNSkgPCAxKSB7XG4gICAgICByZXR1cm4gMC41ICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0ICsgcykgKyAyKTtcbiAgfSxcbiAgZWFzZUluQm91bmNlOiB0ID0+IDEgLSBlZmZlY3RzLmVhc2VPdXRCb3VuY2UoMSAtIHQpLFxuICBlYXNlT3V0Qm91bmNlKHQpIHtcbiAgICBjb25zdCBtID0gNy41NjI1O1xuICAgIGNvbnN0IGQgPSAyLjc1O1xuICAgIGlmICh0IDwgKDEgLyBkKSkge1xuICAgICAgcmV0dXJuIG0gKiB0ICogdDtcbiAgICB9XG4gICAgaWYgKHQgPCAoMiAvIGQpKSB7XG4gICAgICByZXR1cm4gbSAqICh0IC09ICgxLjUgLyBkKSkgKiB0ICsgMC43NTtcbiAgICB9XG4gICAgaWYgKHQgPCAoMi41IC8gZCkpIHtcbiAgICAgIHJldHVybiBtICogKHQgLT0gKDIuMjUgLyBkKSkgKiB0ICsgMC45Mzc1O1xuICAgIH1cbiAgICByZXR1cm4gbSAqICh0IC09ICgyLjYyNSAvIGQpKSAqIHQgKyAwLjk4NDM3NTtcbiAgfSxcbiAgZWFzZUluT3V0Qm91bmNlOiB0ID0+ICh0IDwgMC41KVxuICAgID8gZWZmZWN0cy5lYXNlSW5Cb3VuY2UodCAqIDIpICogMC41XG4gICAgOiBlZmZlY3RzLmVhc2VPdXRCb3VuY2UodCAqIDIgLSAxKSAqIDAuNSArIDAuNSxcbn07XG5cbi8qIVxuICogQGt1cmtsZS9jb2xvciB2MC4yLjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rdXJrbGUvY29sb3IjcmVhZG1lXG4gKiAoYykgMjAyMiBKdWtrYSBLdXJrZWxhXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gcm91bmQodikge1xuICByZXR1cm4gdiArIDAuNSB8IDA7XG59XG5jb25zdCBsaW0gPSAodiwgbCwgaCkgPT4gTWF0aC5tYXgoTWF0aC5taW4odiwgaCksIGwpO1xuZnVuY3Rpb24gcDJiKHYpIHtcbiAgcmV0dXJuIGxpbShyb3VuZCh2ICogMi41NSksIDAsIDI1NSk7XG59XG5mdW5jdGlvbiBuMmIodikge1xuICByZXR1cm4gbGltKHJvdW5kKHYgKiAyNTUpLCAwLCAyNTUpO1xufVxuZnVuY3Rpb24gYjJuKHYpIHtcbiAgcmV0dXJuIGxpbShyb3VuZCh2IC8gMi41NSkgLyAxMDAsIDAsIDEpO1xufVxuZnVuY3Rpb24gbjJwKHYpIHtcbiAgcmV0dXJuIGxpbShyb3VuZCh2ICogMTAwKSwgMCwgMTAwKTtcbn1cbmNvbnN0IG1hcCQxID0gezA6IDAsIDE6IDEsIDI6IDIsIDM6IDMsIDQ6IDQsIDU6IDUsIDY6IDYsIDc6IDcsIDg6IDgsIDk6IDksIEE6IDEwLCBCOiAxMSwgQzogMTIsIEQ6IDEzLCBFOiAxNCwgRjogMTUsIGE6IDEwLCBiOiAxMSwgYzogMTIsIGQ6IDEzLCBlOiAxNCwgZjogMTV9O1xuY29uc3QgaGV4ID0gWy4uLicwMTIzNDU2Nzg5QUJDREVGJ107XG5jb25zdCBoMSA9IGIgPT4gaGV4W2IgJiAweEZdO1xuY29uc3QgaDIgPSBiID0+IGhleFsoYiAmIDB4RjApID4+IDRdICsgaGV4W2IgJiAweEZdO1xuY29uc3QgZXEgPSBiID0+ICgoYiAmIDB4RjApID4+IDQpID09PSAoYiAmIDB4Rik7XG5jb25zdCBpc1Nob3J0ID0gdiA9PiBlcSh2LnIpICYmIGVxKHYuZykgJiYgZXEodi5iKSAmJiBlcSh2LmEpO1xuZnVuY3Rpb24gaGV4UGFyc2Uoc3RyKSB7XG4gIHZhciBsZW4gPSBzdHIubGVuZ3RoO1xuICB2YXIgcmV0O1xuICBpZiAoc3RyWzBdID09PSAnIycpIHtcbiAgICBpZiAobGVuID09PSA0IHx8IGxlbiA9PT0gNSkge1xuICAgICAgcmV0ID0ge1xuICAgICAgICByOiAyNTUgJiBtYXAkMVtzdHJbMV1dICogMTcsXG4gICAgICAgIGc6IDI1NSAmIG1hcCQxW3N0clsyXV0gKiAxNyxcbiAgICAgICAgYjogMjU1ICYgbWFwJDFbc3RyWzNdXSAqIDE3LFxuICAgICAgICBhOiBsZW4gPT09IDUgPyBtYXAkMVtzdHJbNF1dICogMTcgOiAyNTVcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDcgfHwgbGVuID09PSA5KSB7XG4gICAgICByZXQgPSB7XG4gICAgICAgIHI6IG1hcCQxW3N0clsxXV0gPDwgNCB8IG1hcCQxW3N0clsyXV0sXG4gICAgICAgIGc6IG1hcCQxW3N0clszXV0gPDwgNCB8IG1hcCQxW3N0cls0XV0sXG4gICAgICAgIGI6IG1hcCQxW3N0cls1XV0gPDwgNCB8IG1hcCQxW3N0cls2XV0sXG4gICAgICAgIGE6IGxlbiA9PT0gOSA/IChtYXAkMVtzdHJbN11dIDw8IDQgfCBtYXAkMVtzdHJbOF1dKSA6IDI1NVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGFscGhhID0gKGEsIGYpID0+IGEgPCAyNTUgPyBmKGEpIDogJyc7XG5mdW5jdGlvbiBoZXhTdHJpbmcodikge1xuICB2YXIgZiA9IGlzU2hvcnQodikgPyBoMSA6IGgyO1xuICByZXR1cm4gdlxuICAgID8gJyMnICsgZih2LnIpICsgZih2LmcpICsgZih2LmIpICsgYWxwaGEodi5hLCBmKVxuICAgIDogdW5kZWZpbmVkO1xufVxuY29uc3QgSFVFX1JFID0gL14oaHNsYT98aHdifGhzdilcXChcXHMqKFstKy5lXFxkXSspKD86ZGVnKT9bXFxzLF0rKFstKy5lXFxkXSspJVtcXHMsXSsoWy0rLmVcXGRdKyklKD86W1xccyxdKyhbLSsuZVxcZF0rKSglKT8pP1xccypcXCkkLztcbmZ1bmN0aW9uIGhzbDJyZ2JuKGgsIHMsIGwpIHtcbiAgY29uc3QgYSA9IHMgKiBNYXRoLm1pbihsLCAxIC0gbCk7XG4gIGNvbnN0IGYgPSAobiwgayA9IChuICsgaCAvIDMwKSAlIDEyKSA9PiBsIC0gYSAqIE1hdGgubWF4KE1hdGgubWluKGsgLSAzLCA5IC0gaywgMSksIC0xKTtcbiAgcmV0dXJuIFtmKDApLCBmKDgpLCBmKDQpXTtcbn1cbmZ1bmN0aW9uIGhzdjJyZ2JuKGgsIHMsIHYpIHtcbiAgY29uc3QgZiA9IChuLCBrID0gKG4gKyBoIC8gNjApICUgNikgPT4gdiAtIHYgKiBzICogTWF0aC5tYXgoTWF0aC5taW4oaywgNCAtIGssIDEpLCAwKTtcbiAgcmV0dXJuIFtmKDUpLCBmKDMpLCBmKDEpXTtcbn1cbmZ1bmN0aW9uIGh3YjJyZ2JuKGgsIHcsIGIpIHtcbiAgY29uc3QgcmdiID0gaHNsMnJnYm4oaCwgMSwgMC41KTtcbiAgbGV0IGk7XG4gIGlmICh3ICsgYiA+IDEpIHtcbiAgICBpID0gMSAvICh3ICsgYik7XG4gICAgdyAqPSBpO1xuICAgIGIgKj0gaTtcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgcmdiW2ldICo9IDEgLSB3IC0gYjtcbiAgICByZ2JbaV0gKz0gdztcbiAgfVxuICByZXR1cm4gcmdiO1xufVxuZnVuY3Rpb24gaHVlVmFsdWUociwgZywgYiwgZCwgbWF4KSB7XG4gIGlmIChyID09PSBtYXgpIHtcbiAgICByZXR1cm4gKChnIC0gYikgLyBkKSArIChnIDwgYiA/IDYgOiAwKTtcbiAgfVxuICBpZiAoZyA9PT0gbWF4KSB7XG4gICAgcmV0dXJuIChiIC0gcikgLyBkICsgMjtcbiAgfVxuICByZXR1cm4gKHIgLSBnKSAvIGQgKyA0O1xufVxuZnVuY3Rpb24gcmdiMmhzbCh2KSB7XG4gIGNvbnN0IHJhbmdlID0gMjU1O1xuICBjb25zdCByID0gdi5yIC8gcmFuZ2U7XG4gIGNvbnN0IGcgPSB2LmcgLyByYW5nZTtcbiAgY29uc3QgYiA9IHYuYiAvIHJhbmdlO1xuICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gIGNvbnN0IGwgPSAobWF4ICsgbWluKSAvIDI7XG4gIGxldCBoLCBzLCBkO1xuICBpZiAobWF4ICE9PSBtaW4pIHtcbiAgICBkID0gbWF4IC0gbWluO1xuICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICBoID0gaHVlVmFsdWUociwgZywgYiwgZCwgbWF4KTtcbiAgICBoID0gaCAqIDYwICsgMC41O1xuICB9XG4gIHJldHVybiBbaCB8IDAsIHMgfHwgMCwgbF07XG59XG5mdW5jdGlvbiBjYWxsbihmLCBhLCBiLCBjKSB7XG4gIHJldHVybiAoXG4gICAgQXJyYXkuaXNBcnJheShhKVxuICAgICAgPyBmKGFbMF0sIGFbMV0sIGFbMl0pXG4gICAgICA6IGYoYSwgYiwgYylcbiAgKS5tYXAobjJiKTtcbn1cbmZ1bmN0aW9uIGhzbDJyZ2IoaCwgcywgbCkge1xuICByZXR1cm4gY2FsbG4oaHNsMnJnYm4sIGgsIHMsIGwpO1xufVxuZnVuY3Rpb24gaHdiMnJnYihoLCB3LCBiKSB7XG4gIHJldHVybiBjYWxsbihod2IycmdibiwgaCwgdywgYik7XG59XG5mdW5jdGlvbiBoc3YycmdiKGgsIHMsIHYpIHtcbiAgcmV0dXJuIGNhbGxuKGhzdjJyZ2JuLCBoLCBzLCB2KTtcbn1cbmZ1bmN0aW9uIGh1ZShoKSB7XG4gIHJldHVybiAoaCAlIDM2MCArIDM2MCkgJSAzNjA7XG59XG5mdW5jdGlvbiBodWVQYXJzZShzdHIpIHtcbiAgY29uc3QgbSA9IEhVRV9SRS5leGVjKHN0cik7XG4gIGxldCBhID0gMjU1O1xuICBsZXQgdjtcbiAgaWYgKCFtKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtWzVdICE9PSB2KSB7XG4gICAgYSA9IG1bNl0gPyBwMmIoK21bNV0pIDogbjJiKCttWzVdKTtcbiAgfVxuICBjb25zdCBoID0gaHVlKCttWzJdKTtcbiAgY29uc3QgcDEgPSArbVszXSAvIDEwMDtcbiAgY29uc3QgcDIgPSArbVs0XSAvIDEwMDtcbiAgaWYgKG1bMV0gPT09ICdod2InKSB7XG4gICAgdiA9IGh3YjJyZ2IoaCwgcDEsIHAyKTtcbiAgfSBlbHNlIGlmIChtWzFdID09PSAnaHN2Jykge1xuICAgIHYgPSBoc3YycmdiKGgsIHAxLCBwMik7XG4gIH0gZWxzZSB7XG4gICAgdiA9IGhzbDJyZ2IoaCwgcDEsIHAyKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHI6IHZbMF0sXG4gICAgZzogdlsxXSxcbiAgICBiOiB2WzJdLFxuICAgIGE6IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIHJvdGF0ZSh2LCBkZWcpIHtcbiAgdmFyIGggPSByZ2IyaHNsKHYpO1xuICBoWzBdID0gaHVlKGhbMF0gKyBkZWcpO1xuICBoID0gaHNsMnJnYihoKTtcbiAgdi5yID0gaFswXTtcbiAgdi5nID0gaFsxXTtcbiAgdi5iID0gaFsyXTtcbn1cbmZ1bmN0aW9uIGhzbFN0cmluZyh2KSB7XG4gIGlmICghdikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBhID0gcmdiMmhzbCh2KTtcbiAgY29uc3QgaCA9IGFbMF07XG4gIGNvbnN0IHMgPSBuMnAoYVsxXSk7XG4gIGNvbnN0IGwgPSBuMnAoYVsyXSk7XG4gIHJldHVybiB2LmEgPCAyNTVcbiAgICA/IGBoc2xhKCR7aH0sICR7c30lLCAke2x9JSwgJHtiMm4odi5hKX0pYFxuICAgIDogYGhzbCgke2h9LCAke3N9JSwgJHtsfSUpYDtcbn1cbmNvbnN0IG1hcCA9IHtcbiAgeDogJ2RhcmsnLFxuICBaOiAnbGlnaHQnLFxuICBZOiAncmUnLFxuICBYOiAnYmx1JyxcbiAgVzogJ2dyJyxcbiAgVjogJ21lZGl1bScsXG4gIFU6ICdzbGF0ZScsXG4gIEE6ICdlZScsXG4gIFQ6ICdvbCcsXG4gIFM6ICdvcicsXG4gIEI6ICdyYScsXG4gIEM6ICdsYXRlZycsXG4gIEQ6ICdpZ2h0cycsXG4gIFI6ICdpbicsXG4gIFE6ICd0dXJxdW9pcycsXG4gIEU6ICdoaScsXG4gIFA6ICdybycsXG4gIE86ICdhbCcsXG4gIE46ICdsZScsXG4gIE06ICdkZScsXG4gIEw6ICd5ZWxsbycsXG4gIEY6ICdlbicsXG4gIEs6ICdjaCcsXG4gIEc6ICdhcmtzJyxcbiAgSDogJ2VhJyxcbiAgSTogJ2lnaHRnJyxcbiAgSjogJ3doJ1xufTtcbmNvbnN0IG5hbWVzJDEgPSB7XG4gIE9pY2VYZTogJ2YwZjhmZicsXG4gIGFudGlxdWV3RXRlOiAnZmFlYmQ3JyxcbiAgYXF1YTogJ2ZmZmYnLFxuICBhcXVhbWFyUmU6ICc3ZmZmZDQnLFxuICBhenVZOiAnZjBmZmZmJyxcbiAgYmVpZ2U6ICdmNWY1ZGMnLFxuICBiaXNxdWU6ICdmZmU0YzQnLFxuICBibGFjazogJzAnLFxuICBibGFuS2VkT21vbmQ6ICdmZmViY2QnLFxuICBYZTogJ2ZmJyxcbiAgWGV2aVRldDogJzhhMmJlMicsXG4gIGJQd246ICdhNTJhMmEnLFxuICBidXJseXdvb2Q6ICdkZWI4ODcnLFxuICBjYU10WGU6ICc1ZjllYTAnLFxuICBLYXJ0WXVzZTogJzdmZmYwMCcsXG4gIEtvY1RhdGU6ICdkMjY5MWUnLFxuICBjU086ICdmZjdmNTAnLFxuICBjU25mbG93ZXJYZTogJzY0OTVlZCcsXG4gIGNTbnNpbGs6ICdmZmY4ZGMnLFxuICBjcmltc29uOiAnZGMxNDNjJyxcbiAgY3lhbjogJ2ZmZmYnLFxuICB4WGU6ICc4YicsXG4gIHhjeWFuOiAnOGI4YicsXG4gIHhnVE1uUGQ6ICdiODg2MGInLFxuICB4V2F5OiAnYTlhOWE5JyxcbiAgeGdZRjogJzY0MDAnLFxuICB4Z1l5OiAnYTlhOWE5JyxcbiAgeGtoYWtpOiAnYmRiNzZiJyxcbiAgeG1hZ0Z0YTogJzhiMDA4YicsXG4gIHhUaXZlZ1lGOiAnNTU2YjJmJyxcbiAgeFNhbmdlOiAnZmY4YzAwJyxcbiAgeFNjRWQ6ICc5OTMyY2MnLFxuICB4WWQ6ICc4YjAwMDAnLFxuICB4c09tb246ICdlOTk2N2EnLFxuICB4c0hnWUY6ICc4ZmJjOGYnLFxuICB4VVhlOiAnNDgzZDhiJyxcbiAgeFVXYXk6ICcyZjRmNGYnLFxuICB4VWdZeTogJzJmNGY0ZicsXG4gIHhRZTogJ2NlZDEnLFxuICB4dmlUZXQ6ICc5NDAwZDMnLFxuICBkQXBwUms6ICdmZjE0OTMnLFxuICBkQXBza3lYZTogJ2JmZmYnLFxuICBkaW1XYXk6ICc2OTY5NjknLFxuICBkaW1nWXk6ICc2OTY5NjknLFxuICBkb2RnZXJYZTogJzFlOTBmZicsXG4gIGZpWWJyaWNrOiAnYjIyMjIyJyxcbiAgZmxTT3dFdGU6ICdmZmZhZjAnLFxuICBmb1lzdFdBbjogJzIyOGIyMicsXG4gIGZ1S3NpYTogJ2ZmMDBmZicsXG4gIGdhUnNiU286ICdkY2RjZGMnLFxuICBnaG9zdHdFdGU6ICdmOGY4ZmYnLFxuICBnVGQ6ICdmZmQ3MDAnLFxuICBnVE1uUGQ6ICdkYWE1MjAnLFxuICBXYXk6ICc4MDgwODAnLFxuICBnWUY6ICc4MDAwJyxcbiAgZ1lGTHc6ICdhZGZmMmYnLFxuICBnWXk6ICc4MDgwODAnLFxuICBob25leU13OiAnZjBmZmYwJyxcbiAgaG90cFJrOiAnZmY2OWI0JyxcbiAgUmRpYW5ZZDogJ2NkNWM1YycsXG4gIFJkaWdvOiAnNGIwMDgyJyxcbiAgaXZTeTogJ2ZmZmZmMCcsXG4gIGtoYWtpOiAnZjBlNjhjJyxcbiAgbGF2Rk1yOiAnZTZlNmZhJyxcbiAgbGF2Rk1yWHNoOiAnZmZmMGY1JyxcbiAgbGF3bmdZRjogJzdjZmMwMCcsXG4gIE5tb25jRWZmb246ICdmZmZhY2QnLFxuICBaWGU6ICdhZGQ4ZTYnLFxuICBaY1NPOiAnZjA4MDgwJyxcbiAgWmN5YW46ICdlMGZmZmYnLFxuICBaZ1RNblBkTHc6ICdmYWZhZDInLFxuICBaV2F5OiAnZDNkM2QzJyxcbiAgWmdZRjogJzkwZWU5MCcsXG4gIFpnWXk6ICdkM2QzZDMnLFxuICBacFJrOiAnZmZiNmMxJyxcbiAgWnNPbW9uOiAnZmZhMDdhJyxcbiAgWnNIZ1lGOiAnMjBiMmFhJyxcbiAgWnNreVhlOiAnODdjZWZhJyxcbiAgWlVXYXk6ICc3Nzg4OTknLFxuICBaVWdZeTogJzc3ODg5OScsXG4gIFpzdEFsWGU6ICdiMGM0ZGUnLFxuICBaTHc6ICdmZmZmZTAnLFxuICBsaW1lOiAnZmYwMCcsXG4gIGxpbWVnWUY6ICczMmNkMzInLFxuICBsUkY6ICdmYWYwZTYnLFxuICBtYWdGdGE6ICdmZjAwZmYnLFxuICBtYVBvbjogJzgwMDAwMCcsXG4gIFZhcXVhbWFyUmU6ICc2NmNkYWEnLFxuICBWWGU6ICdjZCcsXG4gIFZTY0VkOiAnYmE1NWQzJyxcbiAgVnB1cnBOOiAnOTM3MGRiJyxcbiAgVnNIZ1lGOiAnM2NiMzcxJyxcbiAgVlVYZTogJzdiNjhlZScsXG4gIFZzcHJSZ2dZRjogJ2ZhOWEnLFxuICBWUWU6ICc0OGQxY2MnLFxuICBWdmlUZXRZZDogJ2M3MTU4NScsXG4gIG1pZG5pZ2h0WGU6ICcxOTE5NzAnLFxuICBtUnRjWWFtOiAnZjVmZmZhJyxcbiAgbWlzdHlQc2U6ICdmZmU0ZTEnLFxuICBtb2NjYXNSOiAnZmZlNGI1JyxcbiAgbmF2YWpvd0V0ZTogJ2ZmZGVhZCcsXG4gIG5hdnk6ICc4MCcsXG4gIFRkbGFjZTogJ2ZkZjVlNicsXG4gIFRpdmU6ICc4MDgwMDAnLFxuICBUaXZlZEJiOiAnNmI4ZTIzJyxcbiAgU2FuZ2U6ICdmZmE1MDAnLFxuICBTYW5nZVlkOiAnZmY0NTAwJyxcbiAgU2NFZDogJ2RhNzBkNicsXG4gIHBPZWdUTW5QZDogJ2VlZThhYScsXG4gIHBPZWdZRjogJzk4ZmI5OCcsXG4gIHBPZVFlOiAnYWZlZWVlJyxcbiAgcE9ldmlUZXRZZDogJ2RiNzA5MycsXG4gIHBhcGF5YXdFcDogJ2ZmZWZkNScsXG4gIHBIS3B1ZmY6ICdmZmRhYjknLFxuICBwZXJ1OiAnY2Q4NTNmJyxcbiAgcFJrOiAnZmZjMGNiJyxcbiAgcGx1bTogJ2RkYTBkZCcsXG4gIHBvd01yWGU6ICdiMGUwZTYnLFxuICBwdXJwTjogJzgwMDA4MCcsXG4gIFliZWNjYXB1cnBOOiAnNjYzMzk5JyxcbiAgWWQ6ICdmZjAwMDAnLFxuICBQc3licm93bjogJ2JjOGY4ZicsXG4gIFB5T1hlOiAnNDE2OWUxJyxcbiAgc2FkZE5iUHduOiAnOGI0NTEzJyxcbiAgc09tb246ICdmYTgwNzInLFxuICBzYW5keWJQd246ICdmNGE0NjAnLFxuICBzSGdZRjogJzJlOGI1NycsXG4gIHNIc2hlbGw6ICdmZmY1ZWUnLFxuICBzaUZuYTogJ2EwNTIyZCcsXG4gIHNpbHZlcjogJ2MwYzBjMCcsXG4gIHNreVhlOiAnODdjZWViJyxcbiAgVVhlOiAnNmE1YWNkJyxcbiAgVVdheTogJzcwODA5MCcsXG4gIFVnWXk6ICc3MDgwOTAnLFxuICBzbm93OiAnZmZmYWZhJyxcbiAgc3ByUmdnWUY6ICdmZjdmJyxcbiAgc3RBbFhlOiAnNDY4MmI0JyxcbiAgdGFuOiAnZDJiNDhjJyxcbiAgdGVPOiAnODA4MCcsXG4gIHRFc3ROOiAnZDhiZmQ4JyxcbiAgdG9tYXRvOiAnZmY2MzQ3JyxcbiAgUWU6ICc0MGUwZDAnLFxuICB2aVRldDogJ2VlODJlZScsXG4gIEpIdDogJ2Y1ZGViMycsXG4gIHdFdGU6ICdmZmZmZmYnLFxuICB3RXRlc21va2U6ICdmNWY1ZjUnLFxuICBMdzogJ2ZmZmYwMCcsXG4gIEx3Z1lGOiAnOWFjZDMyJ1xufTtcbmZ1bmN0aW9uIHVucGFjaygpIHtcbiAgY29uc3QgdW5wYWNrZWQgPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG5hbWVzJDEpO1xuICBjb25zdCB0a2V5cyA9IE9iamVjdC5rZXlzKG1hcCk7XG4gIGxldCBpLCBqLCBrLCBvaywgbms7XG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgb2sgPSBuayA9IGtleXNbaV07XG4gICAgZm9yIChqID0gMDsgaiA8IHRrZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICBrID0gdGtleXNbal07XG4gICAgICBuayA9IG5rLnJlcGxhY2UoaywgbWFwW2tdKTtcbiAgICB9XG4gICAgayA9IHBhcnNlSW50KG5hbWVzJDFbb2tdLCAxNik7XG4gICAgdW5wYWNrZWRbbmtdID0gW2sgPj4gMTYgJiAweEZGLCBrID4+IDggJiAweEZGLCBrICYgMHhGRl07XG4gIH1cbiAgcmV0dXJuIHVucGFja2VkO1xufVxubGV0IG5hbWVzO1xuZnVuY3Rpb24gbmFtZVBhcnNlKHN0cikge1xuICBpZiAoIW5hbWVzKSB7XG4gICAgbmFtZXMgPSB1bnBhY2soKTtcbiAgICBuYW1lcy50cmFuc3BhcmVudCA9IFswLCAwLCAwLCAwXTtcbiAgfVxuICBjb25zdCBhID0gbmFtZXNbc3RyLnRvTG93ZXJDYXNlKCldO1xuICByZXR1cm4gYSAmJiB7XG4gICAgcjogYVswXSxcbiAgICBnOiBhWzFdLFxuICAgIGI6IGFbMl0sXG4gICAgYTogYS5sZW5ndGggPT09IDQgPyBhWzNdIDogMjU1XG4gIH07XG59XG5jb25zdCBSR0JfUkUgPSAvXnJnYmE/XFwoXFxzKihbLSsuXFxkXSspKCUpP1tcXHMsXSsoWy0rLmVcXGRdKykoJSk/W1xccyxdKyhbLSsuZVxcZF0rKSglKT8oPzpbXFxzLC9dKyhbLSsuZVxcZF0rKSglKT8pP1xccypcXCkkLztcbmZ1bmN0aW9uIHJnYlBhcnNlKHN0cikge1xuICBjb25zdCBtID0gUkdCX1JFLmV4ZWMoc3RyKTtcbiAgbGV0IGEgPSAyNTU7XG4gIGxldCByLCBnLCBiO1xuICBpZiAoIW0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1bN10gIT09IHIpIHtcbiAgICBjb25zdCB2ID0gK21bN107XG4gICAgYSA9IG1bOF0gPyBwMmIodikgOiBsaW0odiAqIDI1NSwgMCwgMjU1KTtcbiAgfVxuICByID0gK21bMV07XG4gIGcgPSArbVszXTtcbiAgYiA9ICttWzVdO1xuICByID0gMjU1ICYgKG1bMl0gPyBwMmIocikgOiBsaW0ociwgMCwgMjU1KSk7XG4gIGcgPSAyNTUgJiAobVs0XSA/IHAyYihnKSA6IGxpbShnLCAwLCAyNTUpKTtcbiAgYiA9IDI1NSAmIChtWzZdID8gcDJiKGIpIDogbGltKGIsIDAsIDI1NSkpO1xuICByZXR1cm4ge1xuICAgIHI6IHIsXG4gICAgZzogZyxcbiAgICBiOiBiLFxuICAgIGE6IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIHJnYlN0cmluZyh2KSB7XG4gIHJldHVybiB2ICYmIChcbiAgICB2LmEgPCAyNTVcbiAgICAgID8gYHJnYmEoJHt2LnJ9LCAke3YuZ30sICR7di5ifSwgJHtiMm4odi5hKX0pYFxuICAgICAgOiBgcmdiKCR7di5yfSwgJHt2Lmd9LCAke3YuYn0pYFxuICApO1xufVxuY29uc3QgdG8gPSB2ID0+IHYgPD0gMC4wMDMxMzA4ID8gdiAqIDEyLjkyIDogTWF0aC5wb3codiwgMS4wIC8gMi40KSAqIDEuMDU1IC0gMC4wNTU7XG5jb25zdCBmcm9tID0gdiA9PiB2IDw9IDAuMDQwNDUgPyB2IC8gMTIuOTIgOiBNYXRoLnBvdygodiArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuZnVuY3Rpb24gaW50ZXJwb2xhdGUocmdiMSwgcmdiMiwgdCkge1xuICBjb25zdCByID0gZnJvbShiMm4ocmdiMS5yKSk7XG4gIGNvbnN0IGcgPSBmcm9tKGIybihyZ2IxLmcpKTtcbiAgY29uc3QgYiA9IGZyb20oYjJuKHJnYjEuYikpO1xuICByZXR1cm4ge1xuICAgIHI6IG4yYih0byhyICsgdCAqIChmcm9tKGIybihyZ2IyLnIpKSAtIHIpKSksXG4gICAgZzogbjJiKHRvKGcgKyB0ICogKGZyb20oYjJuKHJnYjIuZykpIC0gZykpKSxcbiAgICBiOiBuMmIodG8oYiArIHQgKiAoZnJvbShiMm4ocmdiMi5iKSkgLSBiKSkpLFxuICAgIGE6IHJnYjEuYSArIHQgKiAocmdiMi5hIC0gcmdiMS5hKVxuICB9O1xufVxuZnVuY3Rpb24gbW9kSFNMKHYsIGksIHJhdGlvKSB7XG4gIGlmICh2KSB7XG4gICAgbGV0IHRtcCA9IHJnYjJoc2wodik7XG4gICAgdG1wW2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odG1wW2ldICsgdG1wW2ldICogcmF0aW8sIGkgPT09IDAgPyAzNjAgOiAxKSk7XG4gICAgdG1wID0gaHNsMnJnYih0bXApO1xuICAgIHYuciA9IHRtcFswXTtcbiAgICB2LmcgPSB0bXBbMV07XG4gICAgdi5iID0gdG1wWzJdO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZSh2LCBwcm90bykge1xuICByZXR1cm4gdiA/IE9iamVjdC5hc3NpZ24ocHJvdG8gfHwge30sIHYpIDogdjtcbn1cbmZ1bmN0aW9uIGZyb21PYmplY3QoaW5wdXQpIHtcbiAgdmFyIHYgPSB7cjogMCwgZzogMCwgYjogMCwgYTogMjU1fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA+PSAzKSB7XG4gICAgICB2ID0ge3I6IGlucHV0WzBdLCBnOiBpbnB1dFsxXSwgYjogaW5wdXRbMl0sIGE6IDI1NX07XG4gICAgICBpZiAoaW5wdXQubGVuZ3RoID4gMykge1xuICAgICAgICB2LmEgPSBuMmIoaW5wdXRbM10pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2ID0gY2xvbmUoaW5wdXQsIHtyOiAwLCBnOiAwLCBiOiAwLCBhOiAxfSk7XG4gICAgdi5hID0gbjJiKHYuYSk7XG4gIH1cbiAgcmV0dXJuIHY7XG59XG5mdW5jdGlvbiBmdW5jdGlvblBhcnNlKHN0cikge1xuICBpZiAoc3RyLmNoYXJBdCgwKSA9PT0gJ3InKSB7XG4gICAgcmV0dXJuIHJnYlBhcnNlKHN0cik7XG4gIH1cbiAgcmV0dXJuIGh1ZVBhcnNlKHN0cik7XG59XG5jbGFzcyBDb2xvciB7XG4gIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgQ29sb3IpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBpbnB1dDtcbiAgICBsZXQgdjtcbiAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHYgPSBmcm9tT2JqZWN0KGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2ID0gaGV4UGFyc2UoaW5wdXQpIHx8IG5hbWVQYXJzZShpbnB1dCkgfHwgZnVuY3Rpb25QYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHRoaXMuX3JnYiA9IHY7XG4gICAgdGhpcy5fdmFsaWQgPSAhIXY7XG4gIH1cbiAgZ2V0IHZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZDtcbiAgfVxuICBnZXQgcmdiKCkge1xuICAgIHZhciB2ID0gY2xvbmUodGhpcy5fcmdiKTtcbiAgICBpZiAodikge1xuICAgICAgdi5hID0gYjJuKHYuYSk7XG4gICAgfVxuICAgIHJldHVybiB2O1xuICB9XG4gIHNldCByZ2Iob2JqKSB7XG4gICAgdGhpcy5fcmdiID0gZnJvbU9iamVjdChvYmopO1xuICB9XG4gIHJnYlN0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWQgPyByZ2JTdHJpbmcodGhpcy5fcmdiKSA6IHVuZGVmaW5lZDtcbiAgfVxuICBoZXhTdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkID8gaGV4U3RyaW5nKHRoaXMuX3JnYikgOiB1bmRlZmluZWQ7XG4gIH1cbiAgaHNsU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZCA/IGhzbFN0cmluZyh0aGlzLl9yZ2IpIDogdW5kZWZpbmVkO1xuICB9XG4gIG1peChjb2xvciwgd2VpZ2h0KSB7XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBjb25zdCBjMSA9IHRoaXMucmdiO1xuICAgICAgY29uc3QgYzIgPSBjb2xvci5yZ2I7XG4gICAgICBsZXQgdzI7XG4gICAgICBjb25zdCBwID0gd2VpZ2h0ID09PSB3MiA/IDAuNSA6IHdlaWdodDtcbiAgICAgIGNvbnN0IHcgPSAyICogcCAtIDE7XG4gICAgICBjb25zdCBhID0gYzEuYSAtIGMyLmE7XG4gICAgICBjb25zdCB3MSA9ICgodyAqIGEgPT09IC0xID8gdyA6ICh3ICsgYSkgLyAoMSArIHcgKiBhKSkgKyAxKSAvIDIuMDtcbiAgICAgIHcyID0gMSAtIHcxO1xuICAgICAgYzEuciA9IDB4RkYgJiB3MSAqIGMxLnIgKyB3MiAqIGMyLnIgKyAwLjU7XG4gICAgICBjMS5nID0gMHhGRiAmIHcxICogYzEuZyArIHcyICogYzIuZyArIDAuNTtcbiAgICAgIGMxLmIgPSAweEZGICYgdzEgKiBjMS5iICsgdzIgKiBjMi5iICsgMC41O1xuICAgICAgYzEuYSA9IHAgKiBjMS5hICsgKDEgLSBwKSAqIGMyLmE7XG4gICAgICB0aGlzLnJnYiA9IGMxO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBpbnRlcnBvbGF0ZShjb2xvciwgdCkge1xuICAgIGlmIChjb2xvcikge1xuICAgICAgdGhpcy5fcmdiID0gaW50ZXJwb2xhdGUodGhpcy5fcmdiLCBjb2xvci5fcmdiLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcih0aGlzLnJnYik7XG4gIH1cbiAgYWxwaGEoYSkge1xuICAgIHRoaXMuX3JnYi5hID0gbjJiKGEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNsZWFyZXIocmF0aW8pIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgcmdiLmEgKj0gMSAtIHJhdGlvO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdyZXlzY2FsZSgpIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgY29uc3QgdmFsID0gcm91bmQocmdiLnIgKiAwLjMgKyByZ2IuZyAqIDAuNTkgKyByZ2IuYiAqIDAuMTEpO1xuICAgIHJnYi5yID0gcmdiLmcgPSByZ2IuYiA9IHZhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvcGFxdWVyKHJhdGlvKSB7XG4gICAgY29uc3QgcmdiID0gdGhpcy5fcmdiO1xuICAgIHJnYi5hICo9IDEgKyByYXRpbztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBuZWdhdGUoKSB7XG4gICAgY29uc3QgdiA9IHRoaXMuX3JnYjtcbiAgICB2LnIgPSAyNTUgLSB2LnI7XG4gICAgdi5nID0gMjU1IC0gdi5nO1xuICAgIHYuYiA9IDI1NSAtIHYuYjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBsaWdodGVuKHJhdGlvKSB7XG4gICAgbW9kSFNMKHRoaXMuX3JnYiwgMiwgcmF0aW8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRhcmtlbihyYXRpbykge1xuICAgIG1vZEhTTCh0aGlzLl9yZ2IsIDIsIC1yYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2F0dXJhdGUocmF0aW8pIHtcbiAgICBtb2RIU0wodGhpcy5fcmdiLCAxLCByYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzYXR1cmF0ZShyYXRpbykge1xuICAgIG1vZEhTTCh0aGlzLl9yZ2IsIDEsIC1yYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcm90YXRlKGRlZykge1xuICAgIHJvdGF0ZSh0aGlzLl9yZ2IsIGRlZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbmZ1bmN0aW9uIGluZGV4X2VzbShpbnB1dCkge1xuICByZXR1cm4gbmV3IENvbG9yKGlucHV0KTtcbn1cblxuZnVuY3Rpb24gaXNQYXR0ZXJuT3JHcmFkaWVudCh2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBDYW52YXNQYXR0ZXJuXScgfHwgdHlwZSA9PT0gJ1tvYmplY3QgQ2FudmFzR3JhZGllbnRdJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjb2xvcih2YWx1ZSkge1xuICByZXR1cm4gaXNQYXR0ZXJuT3JHcmFkaWVudCh2YWx1ZSkgPyB2YWx1ZSA6IGluZGV4X2VzbSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRIb3ZlckNvbG9yKHZhbHVlKSB7XG4gIHJldHVybiBpc1BhdHRlcm5PckdyYWRpZW50KHZhbHVlKVxuICAgID8gdmFsdWVcbiAgICA6IGluZGV4X2VzbSh2YWx1ZSkuc2F0dXJhdGUoMC41KS5kYXJrZW4oMC4xKS5oZXhTdHJpbmcoKTtcbn1cblxuY29uc3Qgb3ZlcnJpZGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZ1bmN0aW9uIGdldFNjb3BlJDEobm9kZSwga2V5KSB7XG4gIGlmICgha2V5KSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgY29uc3Qga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICBmb3IgKGxldCBpID0gMCwgbiA9IGtleXMubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgY29uc3QgayA9IGtleXNbaV07XG4gICAgbm9kZSA9IG5vZGVba10gfHwgKG5vZGVba10gPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgfVxuICByZXR1cm4gbm9kZTtcbn1cbmZ1bmN0aW9uIHNldChyb290LCBzY29wZSwgdmFsdWVzKSB7XG4gIGlmICh0eXBlb2Ygc2NvcGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1lcmdlKGdldFNjb3BlJDEocm9vdCwgc2NvcGUpLCB2YWx1ZXMpO1xuICB9XG4gIHJldHVybiBtZXJnZShnZXRTY29wZSQxKHJvb3QsICcnKSwgc2NvcGUpO1xufVxuY2xhc3MgRGVmYXVsdHMge1xuICBjb25zdHJ1Y3RvcihfZGVzY3JpcHRvcnMpIHtcbiAgICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDAsMCwwLDAuMSknO1xuICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAncmdiYSgwLDAsMCwwLjEpJztcbiAgICB0aGlzLmNvbG9yID0gJyM2NjYnO1xuICAgIHRoaXMuZGF0YXNldHMgPSB7fTtcbiAgICB0aGlzLmRldmljZVBpeGVsUmF0aW8gPSAoY29udGV4dCkgPT4gY29udGV4dC5jaGFydC5wbGF0Zm9ybS5nZXREZXZpY2VQaXhlbFJhdGlvKCk7XG4gICAgdGhpcy5lbGVtZW50cyA9IHt9O1xuICAgIHRoaXMuZXZlbnRzID0gW1xuICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAnbW91c2VvdXQnLFxuICAgICAgJ2NsaWNrJyxcbiAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgICd0b3VjaG1vdmUnXG4gICAgXTtcbiAgICB0aGlzLmZvbnQgPSB7XG4gICAgICBmYW1pbHk6IFwiJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsIHNhbnMtc2VyaWZcIixcbiAgICAgIHNpemU6IDEyLFxuICAgICAgc3R5bGU6ICdub3JtYWwnLFxuICAgICAgbGluZUhlaWdodDogMS4yLFxuICAgICAgd2VpZ2h0OiBudWxsXG4gICAgfTtcbiAgICB0aGlzLmhvdmVyID0ge307XG4gICAgdGhpcy5ob3ZlckJhY2tncm91bmRDb2xvciA9IChjdHgsIG9wdGlvbnMpID0+IGdldEhvdmVyQ29sb3Iob3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgIHRoaXMuaG92ZXJCb3JkZXJDb2xvciA9IChjdHgsIG9wdGlvbnMpID0+IGdldEhvdmVyQ29sb3Iob3B0aW9ucy5ib3JkZXJDb2xvcik7XG4gICAgdGhpcy5ob3ZlckNvbG9yID0gKGN0eCwgb3B0aW9ucykgPT4gZ2V0SG92ZXJDb2xvcihvcHRpb25zLmNvbG9yKTtcbiAgICB0aGlzLmluZGV4QXhpcyA9ICd4JztcbiAgICB0aGlzLmludGVyYWN0aW9uID0ge1xuICAgICAgbW9kZTogJ25lYXJlc3QnLFxuICAgICAgaW50ZXJzZWN0OiB0cnVlLFxuICAgICAgaW5jbHVkZUludmlzaWJsZTogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMubWFpbnRhaW5Bc3BlY3RSYXRpbyA9IHRydWU7XG4gICAgdGhpcy5vbkhvdmVyID0gbnVsbDtcbiAgICB0aGlzLm9uQ2xpY2sgPSBudWxsO1xuICAgIHRoaXMucGFyc2luZyA9IHRydWU7XG4gICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgdGhpcy5yZXNwb25zaXZlID0gdHJ1ZTtcbiAgICB0aGlzLnNjYWxlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc2NhbGVzID0ge307XG4gICAgdGhpcy5zaG93TGluZSA9IHRydWU7XG4gICAgdGhpcy5kcmF3QWN0aXZlRWxlbWVudHNPblRvcCA9IHRydWU7XG4gICAgdGhpcy5kZXNjcmliZShfZGVzY3JpcHRvcnMpO1xuICB9XG4gIHNldChzY29wZSwgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHNldCh0aGlzLCBzY29wZSwgdmFsdWVzKTtcbiAgfVxuICBnZXQoc2NvcGUpIHtcbiAgICByZXR1cm4gZ2V0U2NvcGUkMSh0aGlzLCBzY29wZSk7XG4gIH1cbiAgZGVzY3JpYmUoc2NvcGUsIHZhbHVlcykge1xuICAgIHJldHVybiBzZXQoZGVzY3JpcHRvcnMsIHNjb3BlLCB2YWx1ZXMpO1xuICB9XG4gIG92ZXJyaWRlKHNjb3BlLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gc2V0KG92ZXJyaWRlcywgc2NvcGUsIHZhbHVlcyk7XG4gIH1cbiAgcm91dGUoc2NvcGUsIG5hbWUsIHRhcmdldFNjb3BlLCB0YXJnZXROYW1lKSB7XG4gICAgY29uc3Qgc2NvcGVPYmplY3QgPSBnZXRTY29wZSQxKHRoaXMsIHNjb3BlKTtcbiAgICBjb25zdCB0YXJnZXRTY29wZU9iamVjdCA9IGdldFNjb3BlJDEodGhpcywgdGFyZ2V0U2NvcGUpO1xuICAgIGNvbnN0IHByaXZhdGVOYW1lID0gJ18nICsgbmFtZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzY29wZU9iamVjdCwge1xuICAgICAgW3ByaXZhdGVOYW1lXToge1xuICAgICAgICB2YWx1ZTogc2NvcGVPYmplY3RbbmFtZV0sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgW25hbWVdOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICBjb25zdCBsb2NhbCA9IHRoaXNbcHJpdmF0ZU5hbWVdO1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRhcmdldFNjb3BlT2JqZWN0W3RhcmdldE5hbWVdO1xuICAgICAgICAgIGlmIChpc09iamVjdChsb2NhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCB0YXJnZXQsIGxvY2FsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlT3JEZWZhdWx0KGxvY2FsLCB0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICB0aGlzW3ByaXZhdGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbnZhciBkZWZhdWx0cyA9IG5ldyBEZWZhdWx0cyh7XG4gIF9zY3JpcHRhYmxlOiAobmFtZSkgPT4gIW5hbWUuc3RhcnRzV2l0aCgnb24nKSxcbiAgX2luZGV4YWJsZTogKG5hbWUpID0+IG5hbWUgIT09ICdldmVudHMnLFxuICBob3Zlcjoge1xuICAgIF9mYWxsYmFjazogJ2ludGVyYWN0aW9uJ1xuICB9LFxuICBpbnRlcmFjdGlvbjoge1xuICAgIF9zY3JpcHRhYmxlOiBmYWxzZSxcbiAgICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHRvRm9udFN0cmluZyhmb250KSB7XG4gIGlmICghZm9udCB8fCBpc051bGxPclVuZGVmKGZvbnQuc2l6ZSkgfHwgaXNOdWxsT3JVbmRlZihmb250LmZhbWlseSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gKGZvbnQuc3R5bGUgPyBmb250LnN0eWxlICsgJyAnIDogJycpXG5cdFx0KyAoZm9udC53ZWlnaHQgPyBmb250LndlaWdodCArICcgJyA6ICcnKVxuXHRcdCsgZm9udC5zaXplICsgJ3B4ICdcblx0XHQrIGZvbnQuZmFtaWx5O1xufVxuZnVuY3Rpb24gX21lYXN1cmVUZXh0KGN0eCwgZGF0YSwgZ2MsIGxvbmdlc3QsIHN0cmluZykge1xuICBsZXQgdGV4dFdpZHRoID0gZGF0YVtzdHJpbmddO1xuICBpZiAoIXRleHRXaWR0aCkge1xuICAgIHRleHRXaWR0aCA9IGRhdGFbc3RyaW5nXSA9IGN0eC5tZWFzdXJlVGV4dChzdHJpbmcpLndpZHRoO1xuICAgIGdjLnB1c2goc3RyaW5nKTtcbiAgfVxuICBpZiAodGV4dFdpZHRoID4gbG9uZ2VzdCkge1xuICAgIGxvbmdlc3QgPSB0ZXh0V2lkdGg7XG4gIH1cbiAgcmV0dXJuIGxvbmdlc3Q7XG59XG5mdW5jdGlvbiBfbG9uZ2VzdFRleHQoY3R4LCBmb250LCBhcnJheU9mVGhpbmdzLCBjYWNoZSkge1xuICBjYWNoZSA9IGNhY2hlIHx8IHt9O1xuICBsZXQgZGF0YSA9IGNhY2hlLmRhdGEgPSBjYWNoZS5kYXRhIHx8IHt9O1xuICBsZXQgZ2MgPSBjYWNoZS5nYXJiYWdlQ29sbGVjdCA9IGNhY2hlLmdhcmJhZ2VDb2xsZWN0IHx8IFtdO1xuICBpZiAoY2FjaGUuZm9udCAhPT0gZm9udCkge1xuICAgIGRhdGEgPSBjYWNoZS5kYXRhID0ge307XG4gICAgZ2MgPSBjYWNoZS5nYXJiYWdlQ29sbGVjdCA9IFtdO1xuICAgIGNhY2hlLmZvbnQgPSBmb250O1xuICB9XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5mb250ID0gZm9udDtcbiAgbGV0IGxvbmdlc3QgPSAwO1xuICBjb25zdCBpbGVuID0gYXJyYXlPZlRoaW5ncy5sZW5ndGg7XG4gIGxldCBpLCBqLCBqbGVuLCB0aGluZywgbmVzdGVkVGhpbmc7XG4gIGZvciAoaSA9IDA7IGkgPCBpbGVuOyBpKyspIHtcbiAgICB0aGluZyA9IGFycmF5T2ZUaGluZ3NbaV07XG4gICAgaWYgKHRoaW5nICE9PSB1bmRlZmluZWQgJiYgdGhpbmcgIT09IG51bGwgJiYgaXNBcnJheSh0aGluZykgIT09IHRydWUpIHtcbiAgICAgIGxvbmdlc3QgPSBfbWVhc3VyZVRleHQoY3R4LCBkYXRhLCBnYywgbG9uZ2VzdCwgdGhpbmcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0aGluZykpIHtcbiAgICAgIGZvciAoaiA9IDAsIGpsZW4gPSB0aGluZy5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgbmVzdGVkVGhpbmcgPSB0aGluZ1tqXTtcbiAgICAgICAgaWYgKG5lc3RlZFRoaW5nICE9PSB1bmRlZmluZWQgJiYgbmVzdGVkVGhpbmcgIT09IG51bGwgJiYgIWlzQXJyYXkobmVzdGVkVGhpbmcpKSB7XG4gICAgICAgICAgbG9uZ2VzdCA9IF9tZWFzdXJlVGV4dChjdHgsIGRhdGEsIGdjLCBsb25nZXN0LCBuZXN0ZWRUaGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY3R4LnJlc3RvcmUoKTtcbiAgY29uc3QgZ2NMZW4gPSBnYy5sZW5ndGggLyAyO1xuICBpZiAoZ2NMZW4gPiBhcnJheU9mVGhpbmdzLmxlbmd0aCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBnY0xlbjsgaSsrKSB7XG4gICAgICBkZWxldGUgZGF0YVtnY1tpXV07XG4gICAgfVxuICAgIGdjLnNwbGljZSgwLCBnY0xlbik7XG4gIH1cbiAgcmV0dXJuIGxvbmdlc3Q7XG59XG5mdW5jdGlvbiBfYWxpZ25QaXhlbChjaGFydCwgcGl4ZWwsIHdpZHRoKSB7XG4gIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSBjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbztcbiAgY29uc3QgaGFsZldpZHRoID0gd2lkdGggIT09IDAgPyBNYXRoLm1heCh3aWR0aCAvIDIsIDAuNSkgOiAwO1xuICByZXR1cm4gTWF0aC5yb3VuZCgocGl4ZWwgLSBoYWxmV2lkdGgpICogZGV2aWNlUGl4ZWxSYXRpbykgLyBkZXZpY2VQaXhlbFJhdGlvICsgaGFsZldpZHRoO1xufVxuZnVuY3Rpb24gY2xlYXJDYW52YXMoY2FudmFzLCBjdHgpIHtcbiAgY3R4ID0gY3R4IHx8IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjdHguc2F2ZSgpO1xuICBjdHgucmVzZXRUcmFuc2Zvcm0oKTtcbiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gZHJhd1BvaW50KGN0eCwgb3B0aW9ucywgeCwgeSkge1xuICBkcmF3UG9pbnRMZWdlbmQoY3R4LCBvcHRpb25zLCB4LCB5LCBudWxsKTtcbn1cbmZ1bmN0aW9uIGRyYXdQb2ludExlZ2VuZChjdHgsIG9wdGlvbnMsIHgsIHksIHcpIHtcbiAgbGV0IHR5cGUsIHhPZmZzZXQsIHlPZmZzZXQsIHNpemUsIGNvcm5lclJhZGl1cywgd2lkdGg7XG4gIGNvbnN0IHN0eWxlID0gb3B0aW9ucy5wb2ludFN0eWxlO1xuICBjb25zdCByb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb247XG4gIGNvbnN0IHJhZGl1cyA9IG9wdGlvbnMucmFkaXVzO1xuICBsZXQgcmFkID0gKHJvdGF0aW9uIHx8IDApICogUkFEX1BFUl9ERUc7XG4gIGlmIChzdHlsZSAmJiB0eXBlb2Ygc3R5bGUgPT09ICdvYmplY3QnKSB7XG4gICAgdHlwZSA9IHN0eWxlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHR5cGUgPT09ICdbb2JqZWN0IEhUTUxJbWFnZUVsZW1lbnRdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ2FudmFzRWxlbWVudF0nKSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgIGN0eC5yb3RhdGUocmFkKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2Uoc3R5bGUsIC1zdHlsZS53aWR0aCAvIDIsIC1zdHlsZS5oZWlnaHQgLyAyLCBzdHlsZS53aWR0aCwgc3R5bGUuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmIChpc05hTihyYWRpdXMpIHx8IHJhZGl1cyA8PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgc3dpdGNoIChzdHlsZSkge1xuICBkZWZhdWx0OlxuICAgIGlmICh3KSB7XG4gICAgICBjdHguZWxsaXBzZSh4LCB5LCB3IC8gMiwgcmFkaXVzLCAwLCAwLCBUQVUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgVEFVKTtcbiAgICB9XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGJyZWFrO1xuICBjYXNlICd0cmlhbmdsZSc6XG4gICAgY3R4Lm1vdmVUbyh4ICsgTWF0aC5zaW4ocmFkKSAqIHJhZGl1cywgeSAtIE1hdGguY29zKHJhZCkgKiByYWRpdXMpO1xuICAgIHJhZCArPSBUV09fVEhJUkRTX1BJO1xuICAgIGN0eC5saW5lVG8oeCArIE1hdGguc2luKHJhZCkgKiByYWRpdXMsIHkgLSBNYXRoLmNvcyhyYWQpICogcmFkaXVzKTtcbiAgICByYWQgKz0gVFdPX1RISVJEU19QSTtcbiAgICBjdHgubGluZVRvKHggKyBNYXRoLnNpbihyYWQpICogcmFkaXVzLCB5IC0gTWF0aC5jb3MocmFkKSAqIHJhZGl1cyk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGJyZWFrO1xuICBjYXNlICdyZWN0Um91bmRlZCc6XG4gICAgY29ybmVyUmFkaXVzID0gcmFkaXVzICogMC41MTY7XG4gICAgc2l6ZSA9IHJhZGl1cyAtIGNvcm5lclJhZGl1cztcbiAgICB4T2Zmc2V0ID0gTWF0aC5jb3MocmFkICsgUVVBUlRFUl9QSSkgKiBzaXplO1xuICAgIHlPZmZzZXQgPSBNYXRoLnNpbihyYWQgKyBRVUFSVEVSX1BJKSAqIHNpemU7XG4gICAgY3R4LmFyYyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQsIGNvcm5lclJhZGl1cywgcmFkIC0gUEksIHJhZCAtIEhBTEZfUEkpO1xuICAgIGN0eC5hcmMoeCArIHlPZmZzZXQsIHkgLSB4T2Zmc2V0LCBjb3JuZXJSYWRpdXMsIHJhZCAtIEhBTEZfUEksIHJhZCk7XG4gICAgY3R4LmFyYyh4ICsgeE9mZnNldCwgeSArIHlPZmZzZXQsIGNvcm5lclJhZGl1cywgcmFkLCByYWQgKyBIQUxGX1BJKTtcbiAgICBjdHguYXJjKHggLSB5T2Zmc2V0LCB5ICsgeE9mZnNldCwgY29ybmVyUmFkaXVzLCByYWQgKyBIQUxGX1BJLCByYWQgKyBQSSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGJyZWFrO1xuICBjYXNlICdyZWN0JzpcbiAgICBpZiAoIXJvdGF0aW9uKSB7XG4gICAgICBzaXplID0gTWF0aC5TUVJUMV8yICogcmFkaXVzO1xuICAgICAgd2lkdGggPSB3ID8gdyAvIDIgOiBzaXplO1xuICAgICAgY3R4LnJlY3QoeCAtIHdpZHRoLCB5IC0gc2l6ZSwgMiAqIHdpZHRoLCAyICogc2l6ZSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcmFkICs9IFFVQVJURVJfUEk7XG4gIGNhc2UgJ3JlY3RSb3QnOlxuICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgIHlPZmZzZXQgPSBNYXRoLnNpbihyYWQpICogcmFkaXVzO1xuICAgIGN0eC5tb3ZlVG8oeCAtIHhPZmZzZXQsIHkgLSB5T2Zmc2V0KTtcbiAgICBjdHgubGluZVRvKHggKyB5T2Zmc2V0LCB5IC0geE9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4ICsgeE9mZnNldCwgeSArIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCAtIHlPZmZzZXQsIHkgKyB4T2Zmc2V0KTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2Nyb3NzUm90JzpcbiAgICByYWQgKz0gUVVBUlRFUl9QSTtcbiAgY2FzZSAnY3Jvc3MnOlxuICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgIHlPZmZzZXQgPSBNYXRoLnNpbihyYWQpICogcmFkaXVzO1xuICAgIGN0eC5tb3ZlVG8oeCAtIHhPZmZzZXQsIHkgLSB5T2Zmc2V0KTtcbiAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0LCB5ICsgeU9mZnNldCk7XG4gICAgY3R4Lm1vdmVUbyh4ICsgeU9mZnNldCwgeSAtIHhPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCAtIHlPZmZzZXQsIHkgKyB4T2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAnc3Rhcic6XG4gICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCArIHhPZmZzZXQsIHkgKyB5T2Zmc2V0KTtcbiAgICBjdHgubW92ZVRvKHggKyB5T2Zmc2V0LCB5IC0geE9mZnNldCk7XG4gICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldCwgeSArIHhPZmZzZXQpO1xuICAgIHJhZCArPSBRVUFSVEVSX1BJO1xuICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgIHlPZmZzZXQgPSBNYXRoLnNpbihyYWQpICogcmFkaXVzO1xuICAgIGN0eC5tb3ZlVG8oeCAtIHhPZmZzZXQsIHkgLSB5T2Zmc2V0KTtcbiAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0LCB5ICsgeU9mZnNldCk7XG4gICAgY3R4Lm1vdmVUbyh4ICsgeU9mZnNldCwgeSAtIHhPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCAtIHlPZmZzZXQsIHkgKyB4T2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAnbGluZSc6XG4gICAgeE9mZnNldCA9IHcgPyB3IC8gMiA6IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldCwgeSAtIHlPZmZzZXQpO1xuICAgIGN0eC5saW5lVG8oeCArIHhPZmZzZXQsIHkgKyB5T2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAnZGFzaCc6XG4gICAgY3R4Lm1vdmVUbyh4LCB5KTtcbiAgICBjdHgubGluZVRvKHggKyBNYXRoLmNvcyhyYWQpICogcmFkaXVzLCB5ICsgTWF0aC5zaW4ocmFkKSAqIHJhZGl1cyk7XG4gICAgYnJlYWs7XG4gIH1cbiAgY3R4LmZpbGwoKTtcbiAgaWYgKG9wdGlvbnMuYm9yZGVyV2lkdGggPiAwKSB7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9XG59XG5mdW5jdGlvbiBfaXNQb2ludEluQXJlYShwb2ludCwgYXJlYSwgbWFyZ2luKSB7XG4gIG1hcmdpbiA9IG1hcmdpbiB8fCAwLjU7XG4gIHJldHVybiAhYXJlYSB8fCAocG9pbnQgJiYgcG9pbnQueCA+IGFyZWEubGVmdCAtIG1hcmdpbiAmJiBwb2ludC54IDwgYXJlYS5yaWdodCArIG1hcmdpbiAmJlxuXHRcdHBvaW50LnkgPiBhcmVhLnRvcCAtIG1hcmdpbiAmJiBwb2ludC55IDwgYXJlYS5ib3R0b20gKyBtYXJnaW4pO1xufVxuZnVuY3Rpb24gY2xpcEFyZWEoY3R4LCBhcmVhKSB7XG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoYXJlYS5sZWZ0LCBhcmVhLnRvcCwgYXJlYS5yaWdodCAtIGFyZWEubGVmdCwgYXJlYS5ib3R0b20gLSBhcmVhLnRvcCk7XG4gIGN0eC5jbGlwKCk7XG59XG5mdW5jdGlvbiB1bmNsaXBBcmVhKGN0eCkge1xuICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gX3N0ZXBwZWRMaW5lVG8oY3R4LCBwcmV2aW91cywgdGFyZ2V0LCBmbGlwLCBtb2RlKSB7XG4gIGlmICghcHJldmlvdXMpIHtcbiAgICByZXR1cm4gY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xuICB9XG4gIGlmIChtb2RlID09PSAnbWlkZGxlJykge1xuICAgIGNvbnN0IG1pZHBvaW50ID0gKHByZXZpb3VzLnggKyB0YXJnZXQueCkgLyAyLjA7XG4gICAgY3R4LmxpbmVUbyhtaWRwb2ludCwgcHJldmlvdXMueSk7XG4gICAgY3R4LmxpbmVUbyhtaWRwb2ludCwgdGFyZ2V0LnkpO1xuICB9IGVsc2UgaWYgKG1vZGUgPT09ICdhZnRlcicgIT09ICEhZmxpcCkge1xuICAgIGN0eC5saW5lVG8ocHJldmlvdXMueCwgdGFyZ2V0LnkpO1xuICB9IGVsc2Uge1xuICAgIGN0eC5saW5lVG8odGFyZ2V0LngsIHByZXZpb3VzLnkpO1xuICB9XG4gIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbn1cbmZ1bmN0aW9uIF9iZXppZXJDdXJ2ZVRvKGN0eCwgcHJldmlvdXMsIHRhcmdldCwgZmxpcCkge1xuICBpZiAoIXByZXZpb3VzKSB7XG4gICAgcmV0dXJuIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbiAgfVxuICBjdHguYmV6aWVyQ3VydmVUbyhcbiAgICBmbGlwID8gcHJldmlvdXMuY3AxeCA6IHByZXZpb3VzLmNwMngsXG4gICAgZmxpcCA/IHByZXZpb3VzLmNwMXkgOiBwcmV2aW91cy5jcDJ5LFxuICAgIGZsaXAgPyB0YXJnZXQuY3AyeCA6IHRhcmdldC5jcDF4LFxuICAgIGZsaXAgPyB0YXJnZXQuY3AyeSA6IHRhcmdldC5jcDF5LFxuICAgIHRhcmdldC54LFxuICAgIHRhcmdldC55KTtcbn1cbmZ1bmN0aW9uIHJlbmRlclRleHQoY3R4LCB0ZXh0LCB4LCB5LCBmb250LCBvcHRzID0ge30pIHtcbiAgY29uc3QgbGluZXMgPSBpc0FycmF5KHRleHQpID8gdGV4dCA6IFt0ZXh0XTtcbiAgY29uc3Qgc3Ryb2tlID0gb3B0cy5zdHJva2VXaWR0aCA+IDAgJiYgb3B0cy5zdHJva2VDb2xvciAhPT0gJyc7XG4gIGxldCBpLCBsaW5lO1xuICBjdHguc2F2ZSgpO1xuICBjdHguZm9udCA9IGZvbnQuc3RyaW5nO1xuICBzZXRSZW5kZXJPcHRzKGN0eCwgb3B0cyk7XG4gIGZvciAoaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgIGxpbmUgPSBsaW5lc1tpXTtcbiAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICBpZiAob3B0cy5zdHJva2VDb2xvcikge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRzLnN0cm9rZUNvbG9yO1xuICAgICAgfVxuICAgICAgaWYgKCFpc051bGxPclVuZGVmKG9wdHMuc3Ryb2tlV2lkdGgpKSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBvcHRzLnN0cm9rZVdpZHRoO1xuICAgICAgfVxuICAgICAgY3R4LnN0cm9rZVRleHQobGluZSwgeCwgeSwgb3B0cy5tYXhXaWR0aCk7XG4gICAgfVxuICAgIGN0eC5maWxsVGV4dChsaW5lLCB4LCB5LCBvcHRzLm1heFdpZHRoKTtcbiAgICBkZWNvcmF0ZVRleHQoY3R4LCB4LCB5LCBsaW5lLCBvcHRzKTtcbiAgICB5ICs9IGZvbnQubGluZUhlaWdodDtcbiAgfVxuICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gc2V0UmVuZGVyT3B0cyhjdHgsIG9wdHMpIHtcbiAgaWYgKG9wdHMudHJhbnNsYXRpb24pIHtcbiAgICBjdHgudHJhbnNsYXRlKG9wdHMudHJhbnNsYXRpb25bMF0sIG9wdHMudHJhbnNsYXRpb25bMV0pO1xuICB9XG4gIGlmICghaXNOdWxsT3JVbmRlZihvcHRzLnJvdGF0aW9uKSkge1xuICAgIGN0eC5yb3RhdGUob3B0cy5yb3RhdGlvbik7XG4gIH1cbiAgaWYgKG9wdHMuY29sb3IpIHtcbiAgICBjdHguZmlsbFN0eWxlID0gb3B0cy5jb2xvcjtcbiAgfVxuICBpZiAob3B0cy50ZXh0QWxpZ24pIHtcbiAgICBjdHgudGV4dEFsaWduID0gb3B0cy50ZXh0QWxpZ247XG4gIH1cbiAgaWYgKG9wdHMudGV4dEJhc2VsaW5lKSB7XG4gICAgY3R4LnRleHRCYXNlbGluZSA9IG9wdHMudGV4dEJhc2VsaW5lO1xuICB9XG59XG5mdW5jdGlvbiBkZWNvcmF0ZVRleHQoY3R4LCB4LCB5LCBsaW5lLCBvcHRzKSB7XG4gIGlmIChvcHRzLnN0cmlrZXRocm91Z2ggfHwgb3B0cy51bmRlcmxpbmUpIHtcbiAgICBjb25zdCBtZXRyaWNzID0gY3R4Lm1lYXN1cmVUZXh0KGxpbmUpO1xuICAgIGNvbnN0IGxlZnQgPSB4IC0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQ7XG4gICAgY29uc3QgcmlnaHQgPSB4ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xuICAgIGNvbnN0IHRvcCA9IHkgLSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50O1xuICAgIGNvbnN0IGJvdHRvbSA9IHkgKyBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDtcbiAgICBjb25zdCB5RGVjb3JhdGlvbiA9IG9wdHMuc3RyaWtldGhyb3VnaCA/ICh0b3AgKyBib3R0b20pIC8gMiA6IGJvdHRvbTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjdHguZmlsbFN0eWxlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubGluZVdpZHRoID0gb3B0cy5kZWNvcmF0aW9uV2lkdGggfHwgMjtcbiAgICBjdHgubW92ZVRvKGxlZnQsIHlEZWNvcmF0aW9uKTtcbiAgICBjdHgubGluZVRvKHJpZ2h0LCB5RGVjb3JhdGlvbik7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9XG59XG5mdW5jdGlvbiBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCByZWN0KSB7XG4gIGNvbnN0IHt4LCB5LCB3LCBoLCByYWRpdXN9ID0gcmVjdDtcbiAgY3R4LmFyYyh4ICsgcmFkaXVzLnRvcExlZnQsIHkgKyByYWRpdXMudG9wTGVmdCwgcmFkaXVzLnRvcExlZnQsIC1IQUxGX1BJLCBQSSwgdHJ1ZSk7XG4gIGN0eC5saW5lVG8oeCwgeSArIGggLSByYWRpdXMuYm90dG9tTGVmdCk7XG4gIGN0eC5hcmMoeCArIHJhZGl1cy5ib3R0b21MZWZ0LCB5ICsgaCAtIHJhZGl1cy5ib3R0b21MZWZ0LCByYWRpdXMuYm90dG9tTGVmdCwgUEksIEhBTEZfUEksIHRydWUpO1xuICBjdHgubGluZVRvKHggKyB3IC0gcmFkaXVzLmJvdHRvbVJpZ2h0LCB5ICsgaCk7XG4gIGN0eC5hcmMoeCArIHcgLSByYWRpdXMuYm90dG9tUmlnaHQsIHkgKyBoIC0gcmFkaXVzLmJvdHRvbVJpZ2h0LCByYWRpdXMuYm90dG9tUmlnaHQsIEhBTEZfUEksIDAsIHRydWUpO1xuICBjdHgubGluZVRvKHggKyB3LCB5ICsgcmFkaXVzLnRvcFJpZ2h0KTtcbiAgY3R4LmFyYyh4ICsgdyAtIHJhZGl1cy50b3BSaWdodCwgeSArIHJhZGl1cy50b3BSaWdodCwgcmFkaXVzLnRvcFJpZ2h0LCAwLCAtSEFMRl9QSSwgdHJ1ZSk7XG4gIGN0eC5saW5lVG8oeCArIHJhZGl1cy50b3BMZWZ0LCB5KTtcbn1cblxuY29uc3QgTElORV9IRUlHSFQgPSBuZXcgUmVnRXhwKC9eKG5vcm1hbHwoXFxkKyg/OlxcLlxcZCspPykocHh8ZW18JSk/KSQvKTtcbmNvbnN0IEZPTlRfU1RZTEUgPSBuZXcgUmVnRXhwKC9eKG5vcm1hbHxpdGFsaWN8aW5pdGlhbHxpbmhlcml0fHVuc2V0fChvYmxpcXVlKCAtP1swLTldP1swLTldZGVnKT8pKSQvKTtcbmZ1bmN0aW9uIHRvTGluZUhlaWdodCh2YWx1ZSwgc2l6ZSkge1xuICBjb25zdCBtYXRjaGVzID0gKCcnICsgdmFsdWUpLm1hdGNoKExJTkVfSEVJR0hUKTtcbiAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXNbMV0gPT09ICdub3JtYWwnKSB7XG4gICAgcmV0dXJuIHNpemUgKiAxLjI7XG4gIH1cbiAgdmFsdWUgPSArbWF0Y2hlc1syXTtcbiAgc3dpdGNoIChtYXRjaGVzWzNdKSB7XG4gIGNhc2UgJ3B4JzpcbiAgICByZXR1cm4gdmFsdWU7XG4gIGNhc2UgJyUnOlxuICAgIHZhbHVlIC89IDEwMDtcbiAgICBicmVhaztcbiAgfVxuICByZXR1cm4gc2l6ZSAqIHZhbHVlO1xufVxuY29uc3QgbnVtYmVyT3JaZXJvID0gdiA9PiArdiB8fCAwO1xuZnVuY3Rpb24gX3JlYWRWYWx1ZVRvUHJvcHModmFsdWUsIHByb3BzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBjb25zdCBvYmpQcm9wcyA9IGlzT2JqZWN0KHByb3BzKTtcbiAgY29uc3Qga2V5cyA9IG9ialByb3BzID8gT2JqZWN0LmtleXMocHJvcHMpIDogcHJvcHM7XG4gIGNvbnN0IHJlYWQgPSBpc09iamVjdCh2YWx1ZSlcbiAgICA/IG9ialByb3BzXG4gICAgICA/IHByb3AgPT4gdmFsdWVPckRlZmF1bHQodmFsdWVbcHJvcF0sIHZhbHVlW3Byb3BzW3Byb3BdXSlcbiAgICAgIDogcHJvcCA9PiB2YWx1ZVtwcm9wXVxuICAgIDogKCkgPT4gdmFsdWU7XG4gIGZvciAoY29uc3QgcHJvcCBvZiBrZXlzKSB7XG4gICAgcmV0W3Byb3BdID0gbnVtYmVyT3JaZXJvKHJlYWQocHJvcCkpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB0b1RSQkwodmFsdWUpIHtcbiAgcmV0dXJuIF9yZWFkVmFsdWVUb1Byb3BzKHZhbHVlLCB7dG9wOiAneScsIHJpZ2h0OiAneCcsIGJvdHRvbTogJ3knLCBsZWZ0OiAneCd9KTtcbn1cbmZ1bmN0aW9uIHRvVFJCTENvcm5lcnModmFsdWUpIHtcbiAgcmV0dXJuIF9yZWFkVmFsdWVUb1Byb3BzKHZhbHVlLCBbJ3RvcExlZnQnLCAndG9wUmlnaHQnLCAnYm90dG9tTGVmdCcsICdib3R0b21SaWdodCddKTtcbn1cbmZ1bmN0aW9uIHRvUGFkZGluZyh2YWx1ZSkge1xuICBjb25zdCBvYmogPSB0b1RSQkwodmFsdWUpO1xuICBvYmoud2lkdGggPSBvYmoubGVmdCArIG9iai5yaWdodDtcbiAgb2JqLmhlaWdodCA9IG9iai50b3AgKyBvYmouYm90dG9tO1xuICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gdG9Gb250KG9wdGlvbnMsIGZhbGxiYWNrKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBmYWxsYmFjayA9IGZhbGxiYWNrIHx8IGRlZmF1bHRzLmZvbnQ7XG4gIGxldCBzaXplID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5zaXplLCBmYWxsYmFjay5zaXplKTtcbiAgaWYgKHR5cGVvZiBzaXplID09PSAnc3RyaW5nJykge1xuICAgIHNpemUgPSBwYXJzZUludChzaXplLCAxMCk7XG4gIH1cbiAgbGV0IHN0eWxlID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5zdHlsZSwgZmFsbGJhY2suc3R5bGUpO1xuICBpZiAoc3R5bGUgJiYgISgnJyArIHN0eWxlKS5tYXRjaChGT05UX1NUWUxFKSkge1xuICAgIGNvbnNvbGUud2FybignSW52YWxpZCBmb250IHN0eWxlIHNwZWNpZmllZDogXCInICsgc3R5bGUgKyAnXCInKTtcbiAgICBzdHlsZSA9ICcnO1xuICB9XG4gIGNvbnN0IGZvbnQgPSB7XG4gICAgZmFtaWx5OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmZhbWlseSwgZmFsbGJhY2suZmFtaWx5KSxcbiAgICBsaW5lSGVpZ2h0OiB0b0xpbmVIZWlnaHQodmFsdWVPckRlZmF1bHQob3B0aW9ucy5saW5lSGVpZ2h0LCBmYWxsYmFjay5saW5lSGVpZ2h0KSwgc2l6ZSksXG4gICAgc2l6ZSxcbiAgICBzdHlsZSxcbiAgICB3ZWlnaHQ6IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMud2VpZ2h0LCBmYWxsYmFjay53ZWlnaHQpLFxuICAgIHN0cmluZzogJydcbiAgfTtcbiAgZm9udC5zdHJpbmcgPSB0b0ZvbnRTdHJpbmcoZm9udCk7XG4gIHJldHVybiBmb250O1xufVxuZnVuY3Rpb24gcmVzb2x2ZShpbnB1dHMsIGNvbnRleHQsIGluZGV4LCBpbmZvKSB7XG4gIGxldCBjYWNoZWFibGUgPSB0cnVlO1xuICBsZXQgaSwgaWxlbiwgdmFsdWU7XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBpbnB1dHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgdmFsdWUgPSBpbnB1dHNbaV07XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZShjb250ZXh0KTtcbiAgICAgIGNhY2hlYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZVtpbmRleCAlIHZhbHVlLmxlbmd0aF07XG4gICAgICBjYWNoZWFibGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChpbmZvICYmICFjYWNoZWFibGUpIHtcbiAgICAgICAgaW5mby5jYWNoZWFibGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIF9hZGRHcmFjZShtaW5tYXgsIGdyYWNlLCBiZWdpbkF0WmVybykge1xuICBjb25zdCB7bWluLCBtYXh9ID0gbWlubWF4O1xuICBjb25zdCBjaGFuZ2UgPSB0b0RpbWVuc2lvbihncmFjZSwgKG1heCAtIG1pbikgLyAyKTtcbiAgY29uc3Qga2VlcFplcm8gPSAodmFsdWUsIGFkZCkgPT4gYmVnaW5BdFplcm8gJiYgdmFsdWUgPT09IDAgPyAwIDogdmFsdWUgKyBhZGQ7XG4gIHJldHVybiB7XG4gICAgbWluOiBrZWVwWmVybyhtaW4sIC1NYXRoLmFicyhjaGFuZ2UpKSxcbiAgICBtYXg6IGtlZXBaZXJvKG1heCwgY2hhbmdlKVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChwYXJlbnRDb250ZXh0LCBjb250ZXh0KSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUocGFyZW50Q29udGV4dCksIGNvbnRleHQpO1xufVxuXG5mdW5jdGlvbiBfY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCBwcmVmaXhlcyA9IFsnJ10sIHJvb3RTY29wZXMgPSBzY29wZXMsIGZhbGxiYWNrLCBnZXRUYXJnZXQgPSAoKSA9PiBzY29wZXNbMF0pIHtcbiAgaWYgKCFkZWZpbmVkKGZhbGxiYWNrKSkge1xuICAgIGZhbGxiYWNrID0gX3Jlc29sdmUoJ19mYWxsYmFjaycsIHNjb3Blcyk7XG4gIH1cbiAgY29uc3QgY2FjaGUgPSB7XG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdPYmplY3QnLFxuICAgIF9jYWNoZWFibGU6IHRydWUsXG4gICAgX3Njb3Blczogc2NvcGVzLFxuICAgIF9yb290U2NvcGVzOiByb290U2NvcGVzLFxuICAgIF9mYWxsYmFjazogZmFsbGJhY2ssXG4gICAgX2dldFRhcmdldDogZ2V0VGFyZ2V0LFxuICAgIG92ZXJyaWRlOiAoc2NvcGUpID0+IF9jcmVhdGVSZXNvbHZlcihbc2NvcGUsIC4uLnNjb3Blc10sIHByZWZpeGVzLCByb290U2NvcGVzLCBmYWxsYmFjayksXG4gIH07XG4gIHJldHVybiBuZXcgUHJveHkoY2FjaGUsIHtcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXRbcHJvcF07XG4gICAgICBkZWxldGUgdGFyZ2V0Ll9rZXlzO1xuICAgICAgZGVsZXRlIHNjb3Blc1swXVtwcm9wXTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgZ2V0KHRhcmdldCwgcHJvcCkge1xuICAgICAgcmV0dXJuIF9jYWNoZWQodGFyZ2V0LCBwcm9wLFxuICAgICAgICAoKSA9PiBfcmVzb2x2ZVdpdGhQcmVmaXhlcyhwcm9wLCBwcmVmaXhlcywgc2NvcGVzLCB0YXJnZXQpKTtcbiAgICB9LFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIHByb3ApIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQuX3Njb3Blc1swXSwgcHJvcCk7XG4gICAgfSxcbiAgICBnZXRQcm90b3R5cGVPZigpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHNjb3Blc1swXSk7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICByZXR1cm4gZ2V0S2V5c0Zyb21BbGxTY29wZXModGFyZ2V0KS5pbmNsdWRlcyhwcm9wKTtcbiAgICB9LFxuICAgIG93bktleXModGFyZ2V0KSB7XG4gICAgICByZXR1cm4gZ2V0S2V5c0Zyb21BbGxTY29wZXModGFyZ2V0KTtcbiAgICB9LFxuICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICBjb25zdCBzdG9yYWdlID0gdGFyZ2V0Ll9zdG9yYWdlIHx8ICh0YXJnZXQuX3N0b3JhZ2UgPSBnZXRUYXJnZXQoKSk7XG4gICAgICB0YXJnZXRbcHJvcF0gPSBzdG9yYWdlW3Byb3BdID0gdmFsdWU7XG4gICAgICBkZWxldGUgdGFyZ2V0Ll9rZXlzO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIF9hdHRhY2hDb250ZXh0KHByb3h5LCBjb250ZXh0LCBzdWJQcm94eSwgZGVzY3JpcHRvckRlZmF1bHRzKSB7XG4gIGNvbnN0IGNhY2hlID0ge1xuICAgIF9jYWNoZWFibGU6IGZhbHNlLFxuICAgIF9wcm94eTogcHJveHksXG4gICAgX2NvbnRleHQ6IGNvbnRleHQsXG4gICAgX3N1YlByb3h5OiBzdWJQcm94eSxcbiAgICBfc3RhY2s6IG5ldyBTZXQoKSxcbiAgICBfZGVzY3JpcHRvcnM6IF9kZXNjcmlwdG9ycyhwcm94eSwgZGVzY3JpcHRvckRlZmF1bHRzKSxcbiAgICBzZXRDb250ZXh0OiAoY3R4KSA9PiBfYXR0YWNoQ29udGV4dChwcm94eSwgY3R4LCBzdWJQcm94eSwgZGVzY3JpcHRvckRlZmF1bHRzKSxcbiAgICBvdmVycmlkZTogKHNjb3BlKSA9PiBfYXR0YWNoQ29udGV4dChwcm94eS5vdmVycmlkZShzY29wZSksIGNvbnRleHQsIHN1YlByb3h5LCBkZXNjcmlwdG9yRGVmYXVsdHMpXG4gIH07XG4gIHJldHVybiBuZXcgUHJveHkoY2FjaGUsIHtcbiAgICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIHByb3ApIHtcbiAgICAgIGRlbGV0ZSB0YXJnZXRbcHJvcF07XG4gICAgICBkZWxldGUgcHJveHlbcHJvcF07XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gX2NhY2hlZCh0YXJnZXQsIHByb3AsXG4gICAgICAgICgpID0+IF9yZXNvbHZlV2l0aENvbnRleHQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikpO1xuICAgIH0sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCkge1xuICAgICAgcmV0dXJuIHRhcmdldC5fZGVzY3JpcHRvcnMuYWxsS2V5c1xuICAgICAgICA/IFJlZmxlY3QuaGFzKHByb3h5LCBwcm9wKSA/IHtlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9IDogdW5kZWZpbmVkXG4gICAgICAgIDogUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJveHksIHByb3ApO1xuICAgIH0sXG4gICAgZ2V0UHJvdG90eXBlT2YoKSB7XG4gICAgICByZXR1cm4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihwcm94eSk7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICByZXR1cm4gUmVmbGVjdC5oYXMocHJveHksIHByb3ApO1xuICAgIH0sXG4gICAgb3duS2V5cygpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXMocHJveHkpO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgIHByb3h5W3Byb3BdID0gdmFsdWU7XG4gICAgICBkZWxldGUgdGFyZ2V0W3Byb3BdO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIF9kZXNjcmlwdG9ycyhwcm94eSwgZGVmYXVsdHMgPSB7c2NyaXB0YWJsZTogdHJ1ZSwgaW5kZXhhYmxlOiB0cnVlfSkge1xuICBjb25zdCB7X3NjcmlwdGFibGUgPSBkZWZhdWx0cy5zY3JpcHRhYmxlLCBfaW5kZXhhYmxlID0gZGVmYXVsdHMuaW5kZXhhYmxlLCBfYWxsS2V5cyA9IGRlZmF1bHRzLmFsbEtleXN9ID0gcHJveHk7XG4gIHJldHVybiB7XG4gICAgYWxsS2V5czogX2FsbEtleXMsXG4gICAgc2NyaXB0YWJsZTogX3NjcmlwdGFibGUsXG4gICAgaW5kZXhhYmxlOiBfaW5kZXhhYmxlLFxuICAgIGlzU2NyaXB0YWJsZTogaXNGdW5jdGlvbihfc2NyaXB0YWJsZSkgPyBfc2NyaXB0YWJsZSA6ICgpID0+IF9zY3JpcHRhYmxlLFxuICAgIGlzSW5kZXhhYmxlOiBpc0Z1bmN0aW9uKF9pbmRleGFibGUpID8gX2luZGV4YWJsZSA6ICgpID0+IF9pbmRleGFibGVcbiAgfTtcbn1cbmNvbnN0IHJlYWRLZXkgPSAocHJlZml4LCBuYW1lKSA9PiBwcmVmaXggPyBwcmVmaXggKyBfY2FwaXRhbGl6ZShuYW1lKSA6IG5hbWU7XG5jb25zdCBuZWVkc1N1YlJlc29sdmVyID0gKHByb3AsIHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgJiYgcHJvcCAhPT0gJ2FkYXB0ZXJzJyAmJlxuICAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gbnVsbCB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KTtcbmZ1bmN0aW9uIF9jYWNoZWQodGFyZ2V0LCBwcm9wLCByZXNvbHZlKSB7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wKSkge1xuICAgIHJldHVybiB0YXJnZXRbcHJvcF07XG4gIH1cbiAgY29uc3QgdmFsdWUgPSByZXNvbHZlKCk7XG4gIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZVdpdGhDb250ZXh0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgY29uc3Qge19wcm94eSwgX2NvbnRleHQsIF9zdWJQcm94eSwgX2Rlc2NyaXB0b3JzOiBkZXNjcmlwdG9yc30gPSB0YXJnZXQ7XG4gIGxldCB2YWx1ZSA9IF9wcm94eVtwcm9wXTtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpICYmIGRlc2NyaXB0b3JzLmlzU2NyaXB0YWJsZShwcm9wKSkge1xuICAgIHZhbHVlID0gX3Jlc29sdmVTY3JpcHRhYmxlKHByb3AsIHZhbHVlLCB0YXJnZXQsIHJlY2VpdmVyKTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoKSB7XG4gICAgdmFsdWUgPSBfcmVzb2x2ZUFycmF5KHByb3AsIHZhbHVlLCB0YXJnZXQsIGRlc2NyaXB0b3JzLmlzSW5kZXhhYmxlKTtcbiAgfVxuICBpZiAobmVlZHNTdWJSZXNvbHZlcihwcm9wLCB2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IF9hdHRhY2hDb250ZXh0KHZhbHVlLCBfY29udGV4dCwgX3N1YlByb3h5ICYmIF9zdWJQcm94eVtwcm9wXSwgZGVzY3JpcHRvcnMpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIF9yZXNvbHZlU2NyaXB0YWJsZShwcm9wLCB2YWx1ZSwgdGFyZ2V0LCByZWNlaXZlcikge1xuICBjb25zdCB7X3Byb3h5LCBfY29udGV4dCwgX3N1YlByb3h5LCBfc3RhY2t9ID0gdGFyZ2V0O1xuICBpZiAoX3N0YWNrLmhhcyhwcm9wKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVjdXJzaW9uIGRldGVjdGVkOiAnICsgQXJyYXkuZnJvbShfc3RhY2spLmpvaW4oJy0+JykgKyAnLT4nICsgcHJvcCk7XG4gIH1cbiAgX3N0YWNrLmFkZChwcm9wKTtcbiAgdmFsdWUgPSB2YWx1ZShfY29udGV4dCwgX3N1YlByb3h5IHx8IHJlY2VpdmVyKTtcbiAgX3N0YWNrLmRlbGV0ZShwcm9wKTtcbiAgaWYgKG5lZWRzU3ViUmVzb2x2ZXIocHJvcCwgdmFsdWUpKSB7XG4gICAgdmFsdWUgPSBjcmVhdGVTdWJSZXNvbHZlcihfcHJveHkuX3Njb3BlcywgX3Byb3h5LCBwcm9wLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gX3Jlc29sdmVBcnJheShwcm9wLCB2YWx1ZSwgdGFyZ2V0LCBpc0luZGV4YWJsZSkge1xuICBjb25zdCB7X3Byb3h5LCBfY29udGV4dCwgX3N1YlByb3h5LCBfZGVzY3JpcHRvcnM6IGRlc2NyaXB0b3JzfSA9IHRhcmdldDtcbiAgaWYgKGRlZmluZWQoX2NvbnRleHQuaW5kZXgpICYmIGlzSW5kZXhhYmxlKHByb3ApKSB7XG4gICAgdmFsdWUgPSB2YWx1ZVtfY29udGV4dC5pbmRleCAlIHZhbHVlLmxlbmd0aF07XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWVbMF0pKSB7XG4gICAgY29uc3QgYXJyID0gdmFsdWU7XG4gICAgY29uc3Qgc2NvcGVzID0gX3Byb3h5Ll9zY29wZXMuZmlsdGVyKHMgPT4gcyAhPT0gYXJyKTtcbiAgICB2YWx1ZSA9IFtdO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgIGNvbnN0IHJlc29sdmVyID0gY3JlYXRlU3ViUmVzb2x2ZXIoc2NvcGVzLCBfcHJveHksIHByb3AsIGl0ZW0pO1xuICAgICAgdmFsdWUucHVzaChfYXR0YWNoQ29udGV4dChyZXNvbHZlciwgX2NvbnRleHQsIF9zdWJQcm94eSAmJiBfc3ViUHJveHlbcHJvcF0sIGRlc2NyaXB0b3JzKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVGYWxsYmFjayhmYWxsYmFjaywgcHJvcCwgdmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oZmFsbGJhY2spID8gZmFsbGJhY2socHJvcCwgdmFsdWUpIDogZmFsbGJhY2s7XG59XG5jb25zdCBnZXRTY29wZSA9IChrZXksIHBhcmVudCkgPT4ga2V5ID09PSB0cnVlID8gcGFyZW50XG4gIDogdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgPyByZXNvbHZlT2JqZWN0S2V5KHBhcmVudCwga2V5KSA6IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGFkZFNjb3BlcyhzZXQsIHBhcmVudFNjb3Blcywga2V5LCBwYXJlbnRGYWxsYmFjaywgdmFsdWUpIHtcbiAgZm9yIChjb25zdCBwYXJlbnQgb2YgcGFyZW50U2NvcGVzKSB7XG4gICAgY29uc3Qgc2NvcGUgPSBnZXRTY29wZShrZXksIHBhcmVudCk7XG4gICAgaWYgKHNjb3BlKSB7XG4gICAgICBzZXQuYWRkKHNjb3BlKTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrID0gcmVzb2x2ZUZhbGxiYWNrKHNjb3BlLl9mYWxsYmFjaywga2V5LCB2YWx1ZSk7XG4gICAgICBpZiAoZGVmaW5lZChmYWxsYmFjaykgJiYgZmFsbGJhY2sgIT09IGtleSAmJiBmYWxsYmFjayAhPT0gcGFyZW50RmFsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2NvcGUgPT09IGZhbHNlICYmIGRlZmluZWQocGFyZW50RmFsbGJhY2spICYmIGtleSAhPT0gcGFyZW50RmFsbGJhY2spIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjcmVhdGVTdWJSZXNvbHZlcihwYXJlbnRTY29wZXMsIHJlc29sdmVyLCBwcm9wLCB2YWx1ZSkge1xuICBjb25zdCByb290U2NvcGVzID0gcmVzb2x2ZXIuX3Jvb3RTY29wZXM7XG4gIGNvbnN0IGZhbGxiYWNrID0gcmVzb2x2ZUZhbGxiYWNrKHJlc29sdmVyLl9mYWxsYmFjaywgcHJvcCwgdmFsdWUpO1xuICBjb25zdCBhbGxTY29wZXMgPSBbLi4ucGFyZW50U2NvcGVzLCAuLi5yb290U2NvcGVzXTtcbiAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICBzZXQuYWRkKHZhbHVlKTtcbiAgbGV0IGtleSA9IGFkZFNjb3Blc0Zyb21LZXkoc2V0LCBhbGxTY29wZXMsIHByb3AsIGZhbGxiYWNrIHx8IHByb3AsIHZhbHVlKTtcbiAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZGVmaW5lZChmYWxsYmFjaykgJiYgZmFsbGJhY2sgIT09IHByb3ApIHtcbiAgICBrZXkgPSBhZGRTY29wZXNGcm9tS2V5KHNldCwgYWxsU2NvcGVzLCBmYWxsYmFjaywga2V5LCB2YWx1ZSk7XG4gICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2NyZWF0ZVJlc29sdmVyKEFycmF5LmZyb20oc2V0KSwgWycnXSwgcm9vdFNjb3BlcywgZmFsbGJhY2ssXG4gICAgKCkgPT4gc3ViR2V0VGFyZ2V0KHJlc29sdmVyLCBwcm9wLCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gYWRkU2NvcGVzRnJvbUtleShzZXQsIGFsbFNjb3Blcywga2V5LCBmYWxsYmFjaywgaXRlbSkge1xuICB3aGlsZSAoa2V5KSB7XG4gICAga2V5ID0gYWRkU2NvcGVzKHNldCwgYWxsU2NvcGVzLCBrZXksIGZhbGxiYWNrLCBpdGVtKTtcbiAgfVxuICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gc3ViR2V0VGFyZ2V0KHJlc29sdmVyLCBwcm9wLCB2YWx1ZSkge1xuICBjb25zdCBwYXJlbnQgPSByZXNvbHZlci5fZ2V0VGFyZ2V0KCk7XG4gIGlmICghKHByb3AgaW4gcGFyZW50KSkge1xuICAgIHBhcmVudFtwcm9wXSA9IHt9O1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IHBhcmVudFtwcm9wXTtcbiAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIF9yZXNvbHZlV2l0aFByZWZpeGVzKHByb3AsIHByZWZpeGVzLCBzY29wZXMsIHByb3h5KSB7XG4gIGxldCB2YWx1ZTtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgcHJlZml4ZXMpIHtcbiAgICB2YWx1ZSA9IF9yZXNvbHZlKHJlYWRLZXkocHJlZml4LCBwcm9wKSwgc2NvcGVzKTtcbiAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBuZWVkc1N1YlJlc29sdmVyKHByb3AsIHZhbHVlKVxuICAgICAgICA/IGNyZWF0ZVN1YlJlc29sdmVyKHNjb3BlcywgcHJveHksIHByb3AsIHZhbHVlKVxuICAgICAgICA6IHZhbHVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gX3Jlc29sdmUoa2V5LCBzY29wZXMpIHtcbiAgZm9yIChjb25zdCBzY29wZSBvZiBzY29wZXMpIHtcbiAgICBpZiAoIXNjb3BlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBzY29wZVtrZXldO1xuICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0S2V5c0Zyb21BbGxTY29wZXModGFyZ2V0KSB7XG4gIGxldCBrZXlzID0gdGFyZ2V0Ll9rZXlzO1xuICBpZiAoIWtleXMpIHtcbiAgICBrZXlzID0gdGFyZ2V0Ll9rZXlzID0gcmVzb2x2ZUtleXNGcm9tQWxsU2NvcGVzKHRhcmdldC5fc2NvcGVzKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cbmZ1bmN0aW9uIHJlc29sdmVLZXlzRnJvbUFsbFNjb3BlcyhzY29wZXMpIHtcbiAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNjb3BlKS5maWx0ZXIoayA9PiAhay5zdGFydHNXaXRoKCdfJykpKSB7XG4gICAgICBzZXQuYWRkKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBBcnJheS5mcm9tKHNldCk7XG59XG5mdW5jdGlvbiBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gIGNvbnN0IHtpU2NhbGV9ID0gbWV0YTtcbiAgY29uc3Qge2tleSA9ICdyJ30gPSB0aGlzLl9wYXJzaW5nO1xuICBjb25zdCBwYXJzZWQgPSBuZXcgQXJyYXkoY291bnQpO1xuICBsZXQgaSwgaWxlbiwgaW5kZXgsIGl0ZW07XG4gIGZvciAoaSA9IDAsIGlsZW4gPSBjb3VudDsgaSA8IGlsZW47ICsraSkge1xuICAgIGluZGV4ID0gaSArIHN0YXJ0O1xuICAgIGl0ZW0gPSBkYXRhW2luZGV4XTtcbiAgICBwYXJzZWRbaV0gPSB7XG4gICAgICByOiBpU2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShpdGVtLCBrZXkpLCBpbmRleClcbiAgICB9O1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59XG5cbmNvbnN0IEVQU0lMT04gPSBOdW1iZXIuRVBTSUxPTiB8fCAxZS0xNDtcbmNvbnN0IGdldFBvaW50ID0gKHBvaW50cywgaSkgPT4gaSA8IHBvaW50cy5sZW5ndGggJiYgIXBvaW50c1tpXS5za2lwICYmIHBvaW50c1tpXTtcbmNvbnN0IGdldFZhbHVlQXhpcyA9IChpbmRleEF4aXMpID0+IGluZGV4QXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xuZnVuY3Rpb24gc3BsaW5lQ3VydmUoZmlyc3RQb2ludCwgbWlkZGxlUG9pbnQsIGFmdGVyUG9pbnQsIHQpIHtcbiAgY29uc3QgcHJldmlvdXMgPSBmaXJzdFBvaW50LnNraXAgPyBtaWRkbGVQb2ludCA6IGZpcnN0UG9pbnQ7XG4gIGNvbnN0IGN1cnJlbnQgPSBtaWRkbGVQb2ludDtcbiAgY29uc3QgbmV4dCA9IGFmdGVyUG9pbnQuc2tpcCA/IG1pZGRsZVBvaW50IDogYWZ0ZXJQb2ludDtcbiAgY29uc3QgZDAxID0gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKGN1cnJlbnQsIHByZXZpb3VzKTtcbiAgY29uc3QgZDEyID0gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKG5leHQsIGN1cnJlbnQpO1xuICBsZXQgczAxID0gZDAxIC8gKGQwMSArIGQxMik7XG4gIGxldCBzMTIgPSBkMTIgLyAoZDAxICsgZDEyKTtcbiAgczAxID0gaXNOYU4oczAxKSA/IDAgOiBzMDE7XG4gIHMxMiA9IGlzTmFOKHMxMikgPyAwIDogczEyO1xuICBjb25zdCBmYSA9IHQgKiBzMDE7XG4gIGNvbnN0IGZiID0gdCAqIHMxMjtcbiAgcmV0dXJuIHtcbiAgICBwcmV2aW91czoge1xuICAgICAgeDogY3VycmVudC54IC0gZmEgKiAobmV4dC54IC0gcHJldmlvdXMueCksXG4gICAgICB5OiBjdXJyZW50LnkgLSBmYSAqIChuZXh0LnkgLSBwcmV2aW91cy55KVxuICAgIH0sXG4gICAgbmV4dDoge1xuICAgICAgeDogY3VycmVudC54ICsgZmIgKiAobmV4dC54IC0gcHJldmlvdXMueCksXG4gICAgICB5OiBjdXJyZW50LnkgKyBmYiAqIChuZXh0LnkgLSBwcmV2aW91cy55KVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIG1vbm90b25lQWRqdXN0KHBvaW50cywgZGVsdGFLLCBtSykge1xuICBjb25zdCBwb2ludHNMZW4gPSBwb2ludHMubGVuZ3RoO1xuICBsZXQgYWxwaGFLLCBiZXRhSywgdGF1Sywgc3F1YXJlZE1hZ25pdHVkZSwgcG9pbnRDdXJyZW50O1xuICBsZXQgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgMCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuIC0gMTsgKytpKSB7XG4gICAgcG9pbnRDdXJyZW50ID0gcG9pbnRBZnRlcjtcbiAgICBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCBpICsgMSk7XG4gICAgaWYgKCFwb2ludEN1cnJlbnQgfHwgIXBvaW50QWZ0ZXIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxtb3N0RXF1YWxzKGRlbHRhS1tpXSwgMCwgRVBTSUxPTikpIHtcbiAgICAgIG1LW2ldID0gbUtbaSArIDFdID0gMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBhbHBoYUsgPSBtS1tpXSAvIGRlbHRhS1tpXTtcbiAgICBiZXRhSyA9IG1LW2kgKyAxXSAvIGRlbHRhS1tpXTtcbiAgICBzcXVhcmVkTWFnbml0dWRlID0gTWF0aC5wb3coYWxwaGFLLCAyKSArIE1hdGgucG93KGJldGFLLCAyKTtcbiAgICBpZiAoc3F1YXJlZE1hZ25pdHVkZSA8PSA5KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdGF1SyA9IDMgLyBNYXRoLnNxcnQoc3F1YXJlZE1hZ25pdHVkZSk7XG4gICAgbUtbaV0gPSBhbHBoYUsgKiB0YXVLICogZGVsdGFLW2ldO1xuICAgIG1LW2kgKyAxXSA9IGJldGFLICogdGF1SyAqIGRlbHRhS1tpXTtcbiAgfVxufVxuZnVuY3Rpb24gbW9ub3RvbmVDb21wdXRlKHBvaW50cywgbUssIGluZGV4QXhpcyA9ICd4Jykge1xuICBjb25zdCB2YWx1ZUF4aXMgPSBnZXRWYWx1ZUF4aXMoaW5kZXhBeGlzKTtcbiAgY29uc3QgcG9pbnRzTGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgbGV0IGRlbHRhLCBwb2ludEJlZm9yZSwgcG9pbnRDdXJyZW50O1xuICBsZXQgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgMCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuOyArK2kpIHtcbiAgICBwb2ludEJlZm9yZSA9IHBvaW50Q3VycmVudDtcbiAgICBwb2ludEN1cnJlbnQgPSBwb2ludEFmdGVyO1xuICAgIHBvaW50QWZ0ZXIgPSBnZXRQb2ludChwb2ludHMsIGkgKyAxKTtcbiAgICBpZiAoIXBvaW50Q3VycmVudCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlQaXhlbCA9IHBvaW50Q3VycmVudFtpbmRleEF4aXNdO1xuICAgIGNvbnN0IHZQaXhlbCA9IHBvaW50Q3VycmVudFt2YWx1ZUF4aXNdO1xuICAgIGlmIChwb2ludEJlZm9yZSkge1xuICAgICAgZGVsdGEgPSAoaVBpeGVsIC0gcG9pbnRCZWZvcmVbaW5kZXhBeGlzXSkgLyAzO1xuICAgICAgcG9pbnRDdXJyZW50W2BjcDEke2luZGV4QXhpc31gXSA9IGlQaXhlbCAtIGRlbHRhO1xuICAgICAgcG9pbnRDdXJyZW50W2BjcDEke3ZhbHVlQXhpc31gXSA9IHZQaXhlbCAtIGRlbHRhICogbUtbaV07XG4gICAgfVxuICAgIGlmIChwb2ludEFmdGVyKSB7XG4gICAgICBkZWx0YSA9IChwb2ludEFmdGVyW2luZGV4QXhpc10gLSBpUGl4ZWwpIC8gMztcbiAgICAgIHBvaW50Q3VycmVudFtgY3AyJHtpbmRleEF4aXN9YF0gPSBpUGl4ZWwgKyBkZWx0YTtcbiAgICAgIHBvaW50Q3VycmVudFtgY3AyJHt2YWx1ZUF4aXN9YF0gPSB2UGl4ZWwgKyBkZWx0YSAqIG1LW2ldO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc3BsaW5lQ3VydmVNb25vdG9uZShwb2ludHMsIGluZGV4QXhpcyA9ICd4Jykge1xuICBjb25zdCB2YWx1ZUF4aXMgPSBnZXRWYWx1ZUF4aXMoaW5kZXhBeGlzKTtcbiAgY29uc3QgcG9pbnRzTGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgY29uc3QgZGVsdGFLID0gQXJyYXkocG9pbnRzTGVuKS5maWxsKDApO1xuICBjb25zdCBtSyA9IEFycmF5KHBvaW50c0xlbik7XG4gIGxldCBpLCBwb2ludEJlZm9yZSwgcG9pbnRDdXJyZW50O1xuICBsZXQgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgMCk7XG4gIGZvciAoaSA9IDA7IGkgPCBwb2ludHNMZW47ICsraSkge1xuICAgIHBvaW50QmVmb3JlID0gcG9pbnRDdXJyZW50O1xuICAgIHBvaW50Q3VycmVudCA9IHBvaW50QWZ0ZXI7XG4gICAgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgaSArIDEpO1xuICAgIGlmICghcG9pbnRDdXJyZW50KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHBvaW50QWZ0ZXIpIHtcbiAgICAgIGNvbnN0IHNsb3BlRGVsdGEgPSBwb2ludEFmdGVyW2luZGV4QXhpc10gLSBwb2ludEN1cnJlbnRbaW5kZXhBeGlzXTtcbiAgICAgIGRlbHRhS1tpXSA9IHNsb3BlRGVsdGEgIT09IDAgPyAocG9pbnRBZnRlclt2YWx1ZUF4aXNdIC0gcG9pbnRDdXJyZW50W3ZhbHVlQXhpc10pIC8gc2xvcGVEZWx0YSA6IDA7XG4gICAgfVxuICAgIG1LW2ldID0gIXBvaW50QmVmb3JlID8gZGVsdGFLW2ldXG4gICAgICA6ICFwb2ludEFmdGVyID8gZGVsdGFLW2kgLSAxXVxuICAgICAgOiAoc2lnbihkZWx0YUtbaSAtIDFdKSAhPT0gc2lnbihkZWx0YUtbaV0pKSA/IDBcbiAgICAgIDogKGRlbHRhS1tpIC0gMV0gKyBkZWx0YUtbaV0pIC8gMjtcbiAgfVxuICBtb25vdG9uZUFkanVzdChwb2ludHMsIGRlbHRhSywgbUspO1xuICBtb25vdG9uZUNvbXB1dGUocG9pbnRzLCBtSywgaW5kZXhBeGlzKTtcbn1cbmZ1bmN0aW9uIGNhcENvbnRyb2xQb2ludChwdCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHB0LCBtYXgpLCBtaW4pO1xufVxuZnVuY3Rpb24gY2FwQmV6aWVyUG9pbnRzKHBvaW50cywgYXJlYSkge1xuICBsZXQgaSwgaWxlbiwgcG9pbnQsIGluQXJlYSwgaW5BcmVhUHJldjtcbiAgbGV0IGluQXJlYU5leHQgPSBfaXNQb2ludEluQXJlYShwb2ludHNbMF0sIGFyZWEpO1xuICBmb3IgKGkgPSAwLCBpbGVuID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSkge1xuICAgIGluQXJlYVByZXYgPSBpbkFyZWE7XG4gICAgaW5BcmVhID0gaW5BcmVhTmV4dDtcbiAgICBpbkFyZWFOZXh0ID0gaSA8IGlsZW4gLSAxICYmIF9pc1BvaW50SW5BcmVhKHBvaW50c1tpICsgMV0sIGFyZWEpO1xuICAgIGlmICghaW5BcmVhKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgaWYgKGluQXJlYVByZXYpIHtcbiAgICAgIHBvaW50LmNwMXggPSBjYXBDb250cm9sUG9pbnQocG9pbnQuY3AxeCwgYXJlYS5sZWZ0LCBhcmVhLnJpZ2h0KTtcbiAgICAgIHBvaW50LmNwMXkgPSBjYXBDb250cm9sUG9pbnQocG9pbnQuY3AxeSwgYXJlYS50b3AsIGFyZWEuYm90dG9tKTtcbiAgICB9XG4gICAgaWYgKGluQXJlYU5leHQpIHtcbiAgICAgIHBvaW50LmNwMnggPSBjYXBDb250cm9sUG9pbnQocG9pbnQuY3AyeCwgYXJlYS5sZWZ0LCBhcmVhLnJpZ2h0KTtcbiAgICAgIHBvaW50LmNwMnkgPSBjYXBDb250cm9sUG9pbnQocG9pbnQuY3AyeSwgYXJlYS50b3AsIGFyZWEuYm90dG9tKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIF91cGRhdGVCZXppZXJDb250cm9sUG9pbnRzKHBvaW50cywgb3B0aW9ucywgYXJlYSwgbG9vcCwgaW5kZXhBeGlzKSB7XG4gIGxldCBpLCBpbGVuLCBwb2ludCwgY29udHJvbFBvaW50cztcbiAgaWYgKG9wdGlvbnMuc3BhbkdhcHMpIHtcbiAgICBwb2ludHMgPSBwb2ludHMuZmlsdGVyKChwdCkgPT4gIXB0LnNraXApO1xuICB9XG4gIGlmIChvcHRpb25zLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgPT09ICdtb25vdG9uZScpIHtcbiAgICBzcGxpbmVDdXJ2ZU1vbm90b25lKHBvaW50cywgaW5kZXhBeGlzKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcHJldiA9IGxvb3AgPyBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIDogcG9pbnRzWzBdO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgIGNvbnRyb2xQb2ludHMgPSBzcGxpbmVDdXJ2ZShcbiAgICAgICAgcHJldixcbiAgICAgICAgcG9pbnQsXG4gICAgICAgIHBvaW50c1tNYXRoLm1pbihpICsgMSwgaWxlbiAtIChsb29wID8gMCA6IDEpKSAlIGlsZW5dLFxuICAgICAgICBvcHRpb25zLnRlbnNpb25cbiAgICAgICk7XG4gICAgICBwb2ludC5jcDF4ID0gY29udHJvbFBvaW50cy5wcmV2aW91cy54O1xuICAgICAgcG9pbnQuY3AxeSA9IGNvbnRyb2xQb2ludHMucHJldmlvdXMueTtcbiAgICAgIHBvaW50LmNwMnggPSBjb250cm9sUG9pbnRzLm5leHQueDtcbiAgICAgIHBvaW50LmNwMnkgPSBjb250cm9sUG9pbnRzLm5leHQueTtcbiAgICAgIHByZXYgPSBwb2ludDtcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMuY2FwQmV6aWVyUG9pbnRzKSB7XG4gICAgY2FwQmV6aWVyUG9pbnRzKHBvaW50cywgYXJlYSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2lzRG9tU3VwcG9ydGVkKCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbn1cbmZ1bmN0aW9uIF9nZXRQYXJlbnROb2RlKGRvbU5vZGUpIHtcbiAgbGV0IHBhcmVudCA9IGRvbU5vZGUucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCAmJiBwYXJlbnQudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgU2hhZG93Um9vdF0nKSB7XG4gICAgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG4gIH1cbiAgcmV0dXJuIHBhcmVudDtcbn1cbmZ1bmN0aW9uIHBhcnNlTWF4U3R5bGUoc3R5bGVWYWx1ZSwgbm9kZSwgcGFyZW50UHJvcGVydHkpIHtcbiAgbGV0IHZhbHVlSW5QaXhlbHM7XG4gIGlmICh0eXBlb2Ygc3R5bGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZUluUGl4ZWxzID0gcGFyc2VJbnQoc3R5bGVWYWx1ZSwgMTApO1xuICAgIGlmIChzdHlsZVZhbHVlLmluZGV4T2YoJyUnKSAhPT0gLTEpIHtcbiAgICAgIHZhbHVlSW5QaXhlbHMgPSB2YWx1ZUluUGl4ZWxzIC8gMTAwICogbm9kZS5wYXJlbnROb2RlW3BhcmVudFByb3BlcnR5XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWVJblBpeGVscyA9IHN0eWxlVmFsdWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlSW5QaXhlbHM7XG59XG5jb25zdCBnZXRDb21wdXRlZFN0eWxlID0gKGVsZW1lbnQpID0+IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIHByb3BlcnR5KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbn1cbmNvbnN0IHBvc2l0aW9ucyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XG5mdW5jdGlvbiBnZXRQb3NpdGlvbmVkU3R5bGUoc3R5bGVzLCBzdHlsZSwgc3VmZml4KSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBzdWZmaXggPSBzdWZmaXggPyAnLScgKyBzdWZmaXggOiAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBjb25zdCBwb3MgPSBwb3NpdGlvbnNbaV07XG4gICAgcmVzdWx0W3Bvc10gPSBwYXJzZUZsb2F0KHN0eWxlc1tzdHlsZSArICctJyArIHBvcyArIHN1ZmZpeF0pIHx8IDA7XG4gIH1cbiAgcmVzdWx0LndpZHRoID0gcmVzdWx0LmxlZnQgKyByZXN1bHQucmlnaHQ7XG4gIHJlc3VsdC5oZWlnaHQgPSByZXN1bHQudG9wICsgcmVzdWx0LmJvdHRvbTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHVzZU9mZnNldFBvcyA9ICh4LCB5LCB0YXJnZXQpID0+ICh4ID4gMCB8fCB5ID4gMCkgJiYgKCF0YXJnZXQgfHwgIXRhcmdldC5zaGFkb3dSb290KTtcbmZ1bmN0aW9uIGdldENhbnZhc1Bvc2l0aW9uKGUsIGNhbnZhcykge1xuICBjb25zdCB0b3VjaGVzID0gZS50b3VjaGVzO1xuICBjb25zdCBzb3VyY2UgPSB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID8gdG91Y2hlc1swXSA6IGU7XG4gIGNvbnN0IHtvZmZzZXRYLCBvZmZzZXRZfSA9IHNvdXJjZTtcbiAgbGV0IGJveCA9IGZhbHNlO1xuICBsZXQgeCwgeTtcbiAgaWYgKHVzZU9mZnNldFBvcyhvZmZzZXRYLCBvZmZzZXRZLCBlLnRhcmdldCkpIHtcbiAgICB4ID0gb2Zmc2V0WDtcbiAgICB5ID0gb2Zmc2V0WTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHggPSBzb3VyY2UuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICB5ID0gc291cmNlLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICBib3ggPSB0cnVlO1xuICB9XG4gIHJldHVybiB7eCwgeSwgYm94fTtcbn1cbmZ1bmN0aW9uIGdldFJlbGF0aXZlUG9zaXRpb24oZXZ0LCBjaGFydCkge1xuICBpZiAoJ25hdGl2ZScgaW4gZXZ0KSB7XG4gICAgcmV0dXJuIGV2dDtcbiAgfVxuICBjb25zdCB7Y2FudmFzLCBjdXJyZW50RGV2aWNlUGl4ZWxSYXRpb30gPSBjaGFydDtcbiAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGNhbnZhcyk7XG4gIGNvbnN0IGJvcmRlckJveCA9IHN0eWxlLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnO1xuICBjb25zdCBwYWRkaW5ncyA9IGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZSwgJ3BhZGRpbmcnKTtcbiAgY29uc3QgYm9yZGVycyA9IGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZSwgJ2JvcmRlcicsICd3aWR0aCcpO1xuICBjb25zdCB7eCwgeSwgYm94fSA9IGdldENhbnZhc1Bvc2l0aW9uKGV2dCwgY2FudmFzKTtcbiAgY29uc3QgeE9mZnNldCA9IHBhZGRpbmdzLmxlZnQgKyAoYm94ICYmIGJvcmRlcnMubGVmdCk7XG4gIGNvbnN0IHlPZmZzZXQgPSBwYWRkaW5ncy50b3AgKyAoYm94ICYmIGJvcmRlcnMudG9wKTtcbiAgbGV0IHt3aWR0aCwgaGVpZ2h0fSA9IGNoYXJ0O1xuICBpZiAoYm9yZGVyQm94KSB7XG4gICAgd2lkdGggLT0gcGFkZGluZ3Mud2lkdGggKyBib3JkZXJzLndpZHRoO1xuICAgIGhlaWdodCAtPSBwYWRkaW5ncy5oZWlnaHQgKyBib3JkZXJzLmhlaWdodDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgucm91bmQoKHggLSB4T2Zmc2V0KSAvIHdpZHRoICogY2FudmFzLndpZHRoIC8gY3VycmVudERldmljZVBpeGVsUmF0aW8pLFxuICAgIHk6IE1hdGgucm91bmQoKHkgLSB5T2Zmc2V0KSAvIGhlaWdodCAqIGNhbnZhcy5oZWlnaHQgLyBjdXJyZW50RGV2aWNlUGl4ZWxSYXRpbylcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldENvbnRhaW5lclNpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0KSB7XG4gIGxldCBtYXhXaWR0aCwgbWF4SGVpZ2h0O1xuICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCB8fCBoZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IF9nZXRQYXJlbnROb2RlKGNhbnZhcyk7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIHdpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuICAgICAgaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lclN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpO1xuICAgICAgY29uc3QgY29udGFpbmVyQm9yZGVyID0gZ2V0UG9zaXRpb25lZFN0eWxlKGNvbnRhaW5lclN0eWxlLCAnYm9yZGVyJywgJ3dpZHRoJyk7XG4gICAgICBjb25zdCBjb250YWluZXJQYWRkaW5nID0gZ2V0UG9zaXRpb25lZFN0eWxlKGNvbnRhaW5lclN0eWxlLCAncGFkZGluZycpO1xuICAgICAgd2lkdGggPSByZWN0LndpZHRoIC0gY29udGFpbmVyUGFkZGluZy53aWR0aCAtIGNvbnRhaW5lckJvcmRlci53aWR0aDtcbiAgICAgIGhlaWdodCA9IHJlY3QuaGVpZ2h0IC0gY29udGFpbmVyUGFkZGluZy5oZWlnaHQgLSBjb250YWluZXJCb3JkZXIuaGVpZ2h0O1xuICAgICAgbWF4V2lkdGggPSBwYXJzZU1heFN0eWxlKGNvbnRhaW5lclN0eWxlLm1heFdpZHRoLCBjb250YWluZXIsICdjbGllbnRXaWR0aCcpO1xuICAgICAgbWF4SGVpZ2h0ID0gcGFyc2VNYXhTdHlsZShjb250YWluZXJTdHlsZS5tYXhIZWlnaHQsIGNvbnRhaW5lciwgJ2NsaWVudEhlaWdodCcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBtYXhXaWR0aDogbWF4V2lkdGggfHwgSU5GSU5JVFksXG4gICAgbWF4SGVpZ2h0OiBtYXhIZWlnaHQgfHwgSU5GSU5JVFlcbiAgfTtcbn1cbmNvbnN0IHJvdW5kMSA9IHYgPT4gTWF0aC5yb3VuZCh2ICogMTApIC8gMTA7XG5mdW5jdGlvbiBnZXRNYXhpbXVtU2l6ZShjYW52YXMsIGJiV2lkdGgsIGJiSGVpZ2h0LCBhc3BlY3RSYXRpbykge1xuICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY2FudmFzKTtcbiAgY29uc3QgbWFyZ2lucyA9IGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZSwgJ21hcmdpbicpO1xuICBjb25zdCBtYXhXaWR0aCA9IHBhcnNlTWF4U3R5bGUoc3R5bGUubWF4V2lkdGgsIGNhbnZhcywgJ2NsaWVudFdpZHRoJykgfHwgSU5GSU5JVFk7XG4gIGNvbnN0IG1heEhlaWdodCA9IHBhcnNlTWF4U3R5bGUoc3R5bGUubWF4SGVpZ2h0LCBjYW52YXMsICdjbGllbnRIZWlnaHQnKSB8fCBJTkZJTklUWTtcbiAgY29uc3QgY29udGFpbmVyU2l6ZSA9IGdldENvbnRhaW5lclNpemUoY2FudmFzLCBiYldpZHRoLCBiYkhlaWdodCk7XG4gIGxldCB7d2lkdGgsIGhlaWdodH0gPSBjb250YWluZXJTaXplO1xuICBpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG4gICAgY29uc3QgYm9yZGVycyA9IGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZSwgJ2JvcmRlcicsICd3aWR0aCcpO1xuICAgIGNvbnN0IHBhZGRpbmdzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAncGFkZGluZycpO1xuICAgIHdpZHRoIC09IHBhZGRpbmdzLndpZHRoICsgYm9yZGVycy53aWR0aDtcbiAgICBoZWlnaHQgLT0gcGFkZGluZ3MuaGVpZ2h0ICsgYm9yZGVycy5oZWlnaHQ7XG4gIH1cbiAgd2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIG1hcmdpbnMud2lkdGgpO1xuICBoZWlnaHQgPSBNYXRoLm1heCgwLCBhc3BlY3RSYXRpbyA/IE1hdGguZmxvb3Iod2lkdGggLyBhc3BlY3RSYXRpbykgOiBoZWlnaHQgLSBtYXJnaW5zLmhlaWdodCk7XG4gIHdpZHRoID0gcm91bmQxKE1hdGgubWluKHdpZHRoLCBtYXhXaWR0aCwgY29udGFpbmVyU2l6ZS5tYXhXaWR0aCkpO1xuICBoZWlnaHQgPSByb3VuZDEoTWF0aC5taW4oaGVpZ2h0LCBtYXhIZWlnaHQsIGNvbnRhaW5lclNpemUubWF4SGVpZ2h0KSk7XG4gIGlmICh3aWR0aCAmJiAhaGVpZ2h0KSB7XG4gICAgaGVpZ2h0ID0gcm91bmQxKHdpZHRoIC8gMik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgfTtcbn1cbmZ1bmN0aW9uIHJldGluYVNjYWxlKGNoYXJ0LCBmb3JjZVJhdGlvLCBmb3JjZVN0eWxlKSB7XG4gIGNvbnN0IHBpeGVsUmF0aW8gPSBmb3JjZVJhdGlvIHx8IDE7XG4gIGNvbnN0IGRldmljZUhlaWdodCA9IE1hdGguZmxvb3IoY2hhcnQuaGVpZ2h0ICogcGl4ZWxSYXRpbyk7XG4gIGNvbnN0IGRldmljZVdpZHRoID0gTWF0aC5mbG9vcihjaGFydC53aWR0aCAqIHBpeGVsUmF0aW8pO1xuICBjaGFydC5oZWlnaHQgPSBkZXZpY2VIZWlnaHQgLyBwaXhlbFJhdGlvO1xuICBjaGFydC53aWR0aCA9IGRldmljZVdpZHRoIC8gcGl4ZWxSYXRpbztcbiAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICBpZiAoY2FudmFzLnN0eWxlICYmIChmb3JjZVN0eWxlIHx8ICghY2FudmFzLnN0eWxlLmhlaWdodCAmJiAhY2FudmFzLnN0eWxlLndpZHRoKSkpIHtcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7Y2hhcnQuaGVpZ2h0fXB4YDtcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtjaGFydC53aWR0aH1weGA7XG4gIH1cbiAgaWYgKGNoYXJ0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvICE9PSBwaXhlbFJhdGlvXG4gICAgICB8fCBjYW52YXMuaGVpZ2h0ICE9PSBkZXZpY2VIZWlnaHRcbiAgICAgIHx8IGNhbnZhcy53aWR0aCAhPT0gZGV2aWNlV2lkdGgpIHtcbiAgICBjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgY2FudmFzLmhlaWdodCA9IGRldmljZUhlaWdodDtcbiAgICBjYW52YXMud2lkdGggPSBkZXZpY2VXaWR0aDtcbiAgICBjaGFydC5jdHguc2V0VHJhbnNmb3JtKHBpeGVsUmF0aW8sIDAsIDAsIHBpeGVsUmF0aW8sIDAsIDApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IHN1cHBvcnRzRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSAoZnVuY3Rpb24oKSB7XG4gIGxldCBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGdldCBwYXNzaXZlKCkge1xuICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRpb25zKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG59KCkpO1xuZnVuY3Rpb24gcmVhZFVzZWRTaXplKGVsZW1lbnQsIHByb3BlcnR5KSB7XG4gIGNvbnN0IHZhbHVlID0gZ2V0U3R5bGUoZWxlbWVudCwgcHJvcGVydHkpO1xuICBjb25zdCBtYXRjaGVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goL14oXFxkKykoXFwuXFxkKyk/cHgkLyk7XG4gIHJldHVybiBtYXRjaGVzID8gK21hdGNoZXNbMV0gOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9wb2ludEluTGluZShwMSwgcDIsIHQsIG1vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBwMS54ICsgdCAqIChwMi54IC0gcDEueCksXG4gICAgeTogcDEueSArIHQgKiAocDIueSAtIHAxLnkpXG4gIH07XG59XG5mdW5jdGlvbiBfc3RlcHBlZEludGVycG9sYXRpb24ocDEsIHAyLCB0LCBtb2RlKSB7XG4gIHJldHVybiB7XG4gICAgeDogcDEueCArIHQgKiAocDIueCAtIHAxLngpLFxuICAgIHk6IG1vZGUgPT09ICdtaWRkbGUnID8gdCA8IDAuNSA/IHAxLnkgOiBwMi55XG4gICAgOiBtb2RlID09PSAnYWZ0ZXInID8gdCA8IDEgPyBwMS55IDogcDIueVxuICAgIDogdCA+IDAgPyBwMi55IDogcDEueVxuICB9O1xufVxuZnVuY3Rpb24gX2JlemllckludGVycG9sYXRpb24ocDEsIHAyLCB0LCBtb2RlKSB7XG4gIGNvbnN0IGNwMSA9IHt4OiBwMS5jcDJ4LCB5OiBwMS5jcDJ5fTtcbiAgY29uc3QgY3AyID0ge3g6IHAyLmNwMXgsIHk6IHAyLmNwMXl9O1xuICBjb25zdCBhID0gX3BvaW50SW5MaW5lKHAxLCBjcDEsIHQpO1xuICBjb25zdCBiID0gX3BvaW50SW5MaW5lKGNwMSwgY3AyLCB0KTtcbiAgY29uc3QgYyA9IF9wb2ludEluTGluZShjcDIsIHAyLCB0KTtcbiAgY29uc3QgZCA9IF9wb2ludEluTGluZShhLCBiLCB0KTtcbiAgY29uc3QgZSA9IF9wb2ludEluTGluZShiLCBjLCB0KTtcbiAgcmV0dXJuIF9wb2ludEluTGluZShkLCBlLCB0KTtcbn1cblxuY29uc3QgaW50bENhY2hlID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgY2FjaGVLZXkgPSBsb2NhbGUgKyBKU09OLnN0cmluZ2lmeShvcHRpb25zKTtcbiAgbGV0IGZvcm1hdHRlciA9IGludGxDYWNoZS5nZXQoY2FjaGVLZXkpO1xuICBpZiAoIWZvcm1hdHRlcikge1xuICAgIGZvcm1hdHRlciA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMpO1xuICAgIGludGxDYWNoZS5zZXQoY2FjaGVLZXksIGZvcm1hdHRlcik7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHRlcjtcbn1cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW0sIGxvY2FsZSwgb3B0aW9ucykge1xuICByZXR1cm4gZ2V0TnVtYmVyRm9ybWF0KGxvY2FsZSwgb3B0aW9ucykuZm9ybWF0KG51bSk7XG59XG5cbmNvbnN0IGdldFJpZ2h0VG9MZWZ0QWRhcHRlciA9IGZ1bmN0aW9uKHJlY3RYLCB3aWR0aCkge1xuICByZXR1cm4ge1xuICAgIHgoeCkge1xuICAgICAgcmV0dXJuIHJlY3RYICsgcmVjdFggKyB3aWR0aCAtIHg7XG4gICAgfSxcbiAgICBzZXRXaWR0aCh3KSB7XG4gICAgICB3aWR0aCA9IHc7XG4gICAgfSxcbiAgICB0ZXh0QWxpZ24oYWxpZ24pIHtcbiAgICAgIGlmIChhbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgcmV0dXJuIGFsaWduO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFsaWduID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICB9LFxuICAgIHhQbHVzKHgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4geCAtIHZhbHVlO1xuICAgIH0sXG4gICAgbGVmdEZvckx0cih4LCBpdGVtV2lkdGgpIHtcbiAgICAgIHJldHVybiB4IC0gaXRlbVdpZHRoO1xuICAgIH0sXG4gIH07XG59O1xuY29uc3QgZ2V0TGVmdFRvUmlnaHRBZGFwdGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgeCh4KSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9LFxuICAgIHNldFdpZHRoKHcpIHtcbiAgICB9LFxuICAgIHRleHRBbGlnbihhbGlnbikge1xuICAgICAgcmV0dXJuIGFsaWduO1xuICAgIH0sXG4gICAgeFBsdXMoeCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB4ICsgdmFsdWU7XG4gICAgfSxcbiAgICBsZWZ0Rm9yTHRyKHgsIF9pdGVtV2lkdGgpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0sXG4gIH07XG59O1xuZnVuY3Rpb24gZ2V0UnRsQWRhcHRlcihydGwsIHJlY3RYLCB3aWR0aCkge1xuICByZXR1cm4gcnRsID8gZ2V0UmlnaHRUb0xlZnRBZGFwdGVyKHJlY3RYLCB3aWR0aCkgOiBnZXRMZWZ0VG9SaWdodEFkYXB0ZXIoKTtcbn1cbmZ1bmN0aW9uIG92ZXJyaWRlVGV4dERpcmVjdGlvbihjdHgsIGRpcmVjdGlvbikge1xuICBsZXQgc3R5bGUsIG9yaWdpbmFsO1xuICBpZiAoZGlyZWN0aW9uID09PSAnbHRyJyB8fCBkaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgc3R5bGUgPSBjdHguY2FudmFzLnN0eWxlO1xuICAgIG9yaWdpbmFsID0gW1xuICAgICAgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlyZWN0aW9uJyksXG4gICAgICBzdHlsZS5nZXRQcm9wZXJ0eVByaW9yaXR5KCdkaXJlY3Rpb24nKSxcbiAgICBdO1xuICAgIHN0eWxlLnNldFByb3BlcnR5KCdkaXJlY3Rpb24nLCBkaXJlY3Rpb24sICdpbXBvcnRhbnQnKTtcbiAgICBjdHgucHJldlRleHREaXJlY3Rpb24gPSBvcmlnaW5hbDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZVRleHREaXJlY3Rpb24oY3R4LCBvcmlnaW5hbCkge1xuICBpZiAob3JpZ2luYWwgIT09IHVuZGVmaW5lZCkge1xuICAgIGRlbGV0ZSBjdHgucHJldlRleHREaXJlY3Rpb247XG4gICAgY3R4LmNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlyZWN0aW9uJywgb3JpZ2luYWxbMF0sIG9yaWdpbmFsWzFdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUZuKHByb3BlcnR5KSB7XG4gIGlmIChwcm9wZXJ0eSA9PT0gJ2FuZ2xlJykge1xuICAgIHJldHVybiB7XG4gICAgICBiZXR3ZWVuOiBfYW5nbGVCZXR3ZWVuLFxuICAgICAgY29tcGFyZTogX2FuZ2xlRGlmZixcbiAgICAgIG5vcm1hbGl6ZTogX25vcm1hbGl6ZUFuZ2xlLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBiZXR3ZWVuOiBfaXNCZXR3ZWVuLFxuICAgIGNvbXBhcmU6IChhLCBiKSA9PiBhIC0gYixcbiAgICBub3JtYWxpemU6IHggPT4geFxuICB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU2VnbWVudCh7c3RhcnQsIGVuZCwgY291bnQsIGxvb3AsIHN0eWxlfSkge1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydCAlIGNvdW50LFxuICAgIGVuZDogZW5kICUgY291bnQsXG4gICAgbG9vcDogbG9vcCAmJiAoZW5kIC0gc3RhcnQgKyAxKSAlIGNvdW50ID09PSAwLFxuICAgIHN0eWxlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTZWdtZW50KHNlZ21lbnQsIHBvaW50cywgYm91bmRzKSB7XG4gIGNvbnN0IHtwcm9wZXJ0eSwgc3RhcnQ6IHN0YXJ0Qm91bmQsIGVuZDogZW5kQm91bmR9ID0gYm91bmRzO1xuICBjb25zdCB7YmV0d2Vlbiwgbm9ybWFsaXplfSA9IHByb3BlcnR5Rm4ocHJvcGVydHkpO1xuICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGxldCB7c3RhcnQsIGVuZCwgbG9vcH0gPSBzZWdtZW50O1xuICBsZXQgaSwgaWxlbjtcbiAgaWYgKGxvb3ApIHtcbiAgICBzdGFydCArPSBjb3VudDtcbiAgICBlbmQgKz0gY291bnQ7XG4gICAgZm9yIChpID0gMCwgaWxlbiA9IGNvdW50OyBpIDwgaWxlbjsgKytpKSB7XG4gICAgICBpZiAoIWJldHdlZW4obm9ybWFsaXplKHBvaW50c1tzdGFydCAlIGNvdW50XVtwcm9wZXJ0eV0pLCBzdGFydEJvdW5kLCBlbmRCb3VuZCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBzdGFydC0tO1xuICAgICAgZW5kLS07XG4gICAgfVxuICAgIHN0YXJ0ICU9IGNvdW50O1xuICAgIGVuZCAlPSBjb3VudDtcbiAgfVxuICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICBlbmQgKz0gY291bnQ7XG4gIH1cbiAgcmV0dXJuIHtzdGFydCwgZW5kLCBsb29wLCBzdHlsZTogc2VnbWVudC5zdHlsZX07XG59XG5mdW5jdGlvbiBfYm91bmRTZWdtZW50KHNlZ21lbnQsIHBvaW50cywgYm91bmRzKSB7XG4gIGlmICghYm91bmRzKSB7XG4gICAgcmV0dXJuIFtzZWdtZW50XTtcbiAgfVxuICBjb25zdCB7cHJvcGVydHksIHN0YXJ0OiBzdGFydEJvdW5kLCBlbmQ6IGVuZEJvdW5kfSA9IGJvdW5kcztcbiAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICBjb25zdCB7Y29tcGFyZSwgYmV0d2Vlbiwgbm9ybWFsaXplfSA9IHByb3BlcnR5Rm4ocHJvcGVydHkpO1xuICBjb25zdCB7c3RhcnQsIGVuZCwgbG9vcCwgc3R5bGV9ID0gZ2V0U2VnbWVudChzZWdtZW50LCBwb2ludHMsIGJvdW5kcyk7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBsZXQgaW5zaWRlID0gZmFsc2U7XG4gIGxldCBzdWJTdGFydCA9IG51bGw7XG4gIGxldCB2YWx1ZSwgcG9pbnQsIHByZXZWYWx1ZTtcbiAgY29uc3Qgc3RhcnRJc0JlZm9yZSA9ICgpID0+IGJldHdlZW4oc3RhcnRCb3VuZCwgcHJldlZhbHVlLCB2YWx1ZSkgJiYgY29tcGFyZShzdGFydEJvdW5kLCBwcmV2VmFsdWUpICE9PSAwO1xuICBjb25zdCBlbmRJc0JlZm9yZSA9ICgpID0+IGNvbXBhcmUoZW5kQm91bmQsIHZhbHVlKSA9PT0gMCB8fCBiZXR3ZWVuKGVuZEJvdW5kLCBwcmV2VmFsdWUsIHZhbHVlKTtcbiAgY29uc3Qgc2hvdWxkU3RhcnQgPSAoKSA9PiBpbnNpZGUgfHwgc3RhcnRJc0JlZm9yZSgpO1xuICBjb25zdCBzaG91bGRTdG9wID0gKCkgPT4gIWluc2lkZSB8fCBlbmRJc0JlZm9yZSgpO1xuICBmb3IgKGxldCBpID0gc3RhcnQsIHByZXYgPSBzdGFydDsgaSA8PSBlbmQ7ICsraSkge1xuICAgIHBvaW50ID0gcG9pbnRzW2kgJSBjb3VudF07XG4gICAgaWYgKHBvaW50LnNraXApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YWx1ZSA9IG5vcm1hbGl6ZShwb2ludFtwcm9wZXJ0eV0pO1xuICAgIGlmICh2YWx1ZSA9PT0gcHJldlZhbHVlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaW5zaWRlID0gYmV0d2Vlbih2YWx1ZSwgc3RhcnRCb3VuZCwgZW5kQm91bmQpO1xuICAgIGlmIChzdWJTdGFydCA9PT0gbnVsbCAmJiBzaG91bGRTdGFydCgpKSB7XG4gICAgICBzdWJTdGFydCA9IGNvbXBhcmUodmFsdWUsIHN0YXJ0Qm91bmQpID09PSAwID8gaSA6IHByZXY7XG4gICAgfVxuICAgIGlmIChzdWJTdGFydCAhPT0gbnVsbCAmJiBzaG91bGRTdG9wKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKG5vcm1hbGl6ZVNlZ21lbnQoe3N0YXJ0OiBzdWJTdGFydCwgZW5kOiBpLCBsb29wLCBjb3VudCwgc3R5bGV9KSk7XG4gICAgICBzdWJTdGFydCA9IG51bGw7XG4gICAgfVxuICAgIHByZXYgPSBpO1xuICAgIHByZXZWYWx1ZSA9IHZhbHVlO1xuICB9XG4gIGlmIChzdWJTdGFydCAhPT0gbnVsbCkge1xuICAgIHJlc3VsdC5wdXNoKG5vcm1hbGl6ZVNlZ21lbnQoe3N0YXJ0OiBzdWJTdGFydCwgZW5kLCBsb29wLCBjb3VudCwgc3R5bGV9KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIF9ib3VuZFNlZ21lbnRzKGxpbmUsIGJvdW5kcykge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgY29uc3Qgc2VnbWVudHMgPSBsaW5lLnNlZ21lbnRzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3ViID0gX2JvdW5kU2VnbWVudChzZWdtZW50c1tpXSwgbGluZS5wb2ludHMsIGJvdW5kcyk7XG4gICAgaWYgKHN1Yi5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5wdXNoKC4uLnN1Yik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBmaW5kU3RhcnRBbmRFbmQocG9pbnRzLCBjb3VudCwgbG9vcCwgc3BhbkdhcHMpIHtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgbGV0IGVuZCA9IGNvdW50IC0gMTtcbiAgaWYgKGxvb3AgJiYgIXNwYW5HYXBzKSB7XG4gICAgd2hpbGUgKHN0YXJ0IDwgY291bnQgJiYgIXBvaW50c1tzdGFydF0uc2tpcCkge1xuICAgICAgc3RhcnQrKztcbiAgICB9XG4gIH1cbiAgd2hpbGUgKHN0YXJ0IDwgY291bnQgJiYgcG9pbnRzW3N0YXJ0XS5za2lwKSB7XG4gICAgc3RhcnQrKztcbiAgfVxuICBzdGFydCAlPSBjb3VudDtcbiAgaWYgKGxvb3ApIHtcbiAgICBlbmQgKz0gc3RhcnQ7XG4gIH1cbiAgd2hpbGUgKGVuZCA+IHN0YXJ0ICYmIHBvaW50c1tlbmQgJSBjb3VudF0uc2tpcCkge1xuICAgIGVuZC0tO1xuICB9XG4gIGVuZCAlPSBjb3VudDtcbiAgcmV0dXJuIHtzdGFydCwgZW5kfTtcbn1cbmZ1bmN0aW9uIHNvbGlkU2VnbWVudHMocG9pbnRzLCBzdGFydCwgbWF4LCBsb29wKSB7XG4gIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGxldCBsYXN0ID0gc3RhcnQ7XG4gIGxldCBwcmV2ID0gcG9pbnRzW3N0YXJ0XTtcbiAgbGV0IGVuZDtcbiAgZm9yIChlbmQgPSBzdGFydCArIDE7IGVuZCA8PSBtYXg7ICsrZW5kKSB7XG4gICAgY29uc3QgY3VyID0gcG9pbnRzW2VuZCAlIGNvdW50XTtcbiAgICBpZiAoY3VyLnNraXAgfHwgY3VyLnN0b3ApIHtcbiAgICAgIGlmICghcHJldi5za2lwKSB7XG4gICAgICAgIGxvb3AgPSBmYWxzZTtcbiAgICAgICAgcmVzdWx0LnB1c2goe3N0YXJ0OiBzdGFydCAlIGNvdW50LCBlbmQ6IChlbmQgLSAxKSAlIGNvdW50LCBsb29wfSk7XG4gICAgICAgIHN0YXJ0ID0gbGFzdCA9IGN1ci5zdG9wID8gZW5kIDogbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdCA9IGVuZDtcbiAgICAgIGlmIChwcmV2LnNraXApIHtcbiAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXYgPSBjdXI7XG4gIH1cbiAgaWYgKGxhc3QgIT09IG51bGwpIHtcbiAgICByZXN1bHQucHVzaCh7c3RhcnQ6IHN0YXJ0ICUgY291bnQsIGVuZDogbGFzdCAlIGNvdW50LCBsb29wfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIF9jb21wdXRlU2VnbWVudHMobGluZSwgc2VnbWVudE9wdGlvbnMpIHtcbiAgY29uc3QgcG9pbnRzID0gbGluZS5wb2ludHM7XG4gIGNvbnN0IHNwYW5HYXBzID0gbGluZS5vcHRpb25zLnNwYW5HYXBzO1xuICBjb25zdCBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gIGlmICghY291bnQpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgbG9vcCA9ICEhbGluZS5fbG9vcDtcbiAgY29uc3Qge3N0YXJ0LCBlbmR9ID0gZmluZFN0YXJ0QW5kRW5kKHBvaW50cywgY291bnQsIGxvb3AsIHNwYW5HYXBzKTtcbiAgaWYgKHNwYW5HYXBzID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHNwbGl0QnlTdHlsZXMobGluZSwgW3tzdGFydCwgZW5kLCBsb29wfV0sIHBvaW50cywgc2VnbWVudE9wdGlvbnMpO1xuICB9XG4gIGNvbnN0IG1heCA9IGVuZCA8IHN0YXJ0ID8gZW5kICsgY291bnQgOiBlbmQ7XG4gIGNvbnN0IGNvbXBsZXRlTG9vcCA9ICEhbGluZS5fZnVsbExvb3AgJiYgc3RhcnQgPT09IDAgJiYgZW5kID09PSBjb3VudCAtIDE7XG4gIHJldHVybiBzcGxpdEJ5U3R5bGVzKGxpbmUsIHNvbGlkU2VnbWVudHMocG9pbnRzLCBzdGFydCwgbWF4LCBjb21wbGV0ZUxvb3ApLCBwb2ludHMsIHNlZ21lbnRPcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHNwbGl0QnlTdHlsZXMobGluZSwgc2VnbWVudHMsIHBvaW50cywgc2VnbWVudE9wdGlvbnMpIHtcbiAgaWYgKCFzZWdtZW50T3B0aW9ucyB8fCAhc2VnbWVudE9wdGlvbnMuc2V0Q29udGV4dCB8fCAhcG9pbnRzKSB7XG4gICAgcmV0dXJuIHNlZ21lbnRzO1xuICB9XG4gIHJldHVybiBkb1NwbGl0QnlTdHlsZXMobGluZSwgc2VnbWVudHMsIHBvaW50cywgc2VnbWVudE9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9TcGxpdEJ5U3R5bGVzKGxpbmUsIHNlZ21lbnRzLCBwb2ludHMsIHNlZ21lbnRPcHRpb25zKSB7XG4gIGNvbnN0IGNoYXJ0Q29udGV4dCA9IGxpbmUuX2NoYXJ0LmdldENvbnRleHQoKTtcbiAgY29uc3QgYmFzZVN0eWxlID0gcmVhZFN0eWxlKGxpbmUub3B0aW9ucyk7XG4gIGNvbnN0IHtfZGF0YXNldEluZGV4OiBkYXRhc2V0SW5kZXgsIG9wdGlvbnM6IHtzcGFuR2Fwc319ID0gbGluZTtcbiAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgbGV0IHByZXZTdHlsZSA9IGJhc2VTdHlsZTtcbiAgbGV0IHN0YXJ0ID0gc2VnbWVudHNbMF0uc3RhcnQ7XG4gIGxldCBpID0gc3RhcnQ7XG4gIGZ1bmN0aW9uIGFkZFN0eWxlKHMsIGUsIGwsIHN0KSB7XG4gICAgY29uc3QgZGlyID0gc3BhbkdhcHMgPyAtMSA6IDE7XG4gICAgaWYgKHMgPT09IGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcyArPSBjb3VudDtcbiAgICB3aGlsZSAocG9pbnRzW3MgJSBjb3VudF0uc2tpcCkge1xuICAgICAgcyAtPSBkaXI7XG4gICAgfVxuICAgIHdoaWxlIChwb2ludHNbZSAlIGNvdW50XS5za2lwKSB7XG4gICAgICBlICs9IGRpcjtcbiAgICB9XG4gICAgaWYgKHMgJSBjb3VudCAhPT0gZSAlIGNvdW50KSB7XG4gICAgICByZXN1bHQucHVzaCh7c3RhcnQ6IHMgJSBjb3VudCwgZW5kOiBlICUgY291bnQsIGxvb3A6IGwsIHN0eWxlOiBzdH0pO1xuICAgICAgcHJldlN0eWxlID0gc3Q7XG4gICAgICBzdGFydCA9IGUgJSBjb3VudDtcbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgc3RhcnQgPSBzcGFuR2FwcyA/IHN0YXJ0IDogc2VnbWVudC5zdGFydDtcbiAgICBsZXQgcHJldiA9IHBvaW50c1tzdGFydCAlIGNvdW50XTtcbiAgICBsZXQgc3R5bGU7XG4gICAgZm9yIChpID0gc3RhcnQgKyAxOyBpIDw9IHNlZ21lbnQuZW5kOyBpKyspIHtcbiAgICAgIGNvbnN0IHB0ID0gcG9pbnRzW2kgJSBjb3VudF07XG4gICAgICBzdHlsZSA9IHJlYWRTdHlsZShzZWdtZW50T3B0aW9ucy5zZXRDb250ZXh0KGNyZWF0ZUNvbnRleHQoY2hhcnRDb250ZXh0LCB7XG4gICAgICAgIHR5cGU6ICdzZWdtZW50JyxcbiAgICAgICAgcDA6IHByZXYsXG4gICAgICAgIHAxOiBwdCxcbiAgICAgICAgcDBEYXRhSW5kZXg6IChpIC0gMSkgJSBjb3VudCxcbiAgICAgICAgcDFEYXRhSW5kZXg6IGkgJSBjb3VudCxcbiAgICAgICAgZGF0YXNldEluZGV4XG4gICAgICB9KSkpO1xuICAgICAgaWYgKHN0eWxlQ2hhbmdlZChzdHlsZSwgcHJldlN0eWxlKSkge1xuICAgICAgICBhZGRTdHlsZShzdGFydCwgaSAtIDEsIHNlZ21lbnQubG9vcCwgcHJldlN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHByZXYgPSBwdDtcbiAgICAgIHByZXZTdHlsZSA9IHN0eWxlO1xuICAgIH1cbiAgICBpZiAoc3RhcnQgPCBpIC0gMSkge1xuICAgICAgYWRkU3R5bGUoc3RhcnQsIGkgLSAxLCBzZWdtZW50Lmxvb3AsIHByZXZTdHlsZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZWFkU3R5bGUob3B0aW9ucykge1xuICByZXR1cm4ge1xuICAgIGJhY2tncm91bmRDb2xvcjogb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgYm9yZGVyQ2FwU3R5bGU6IG9wdGlvbnMuYm9yZGVyQ2FwU3R5bGUsXG4gICAgYm9yZGVyRGFzaDogb3B0aW9ucy5ib3JkZXJEYXNoLFxuICAgIGJvcmRlckRhc2hPZmZzZXQ6IG9wdGlvbnMuYm9yZGVyRGFzaE9mZnNldCxcbiAgICBib3JkZXJKb2luU3R5bGU6IG9wdGlvbnMuYm9yZGVySm9pblN0eWxlLFxuICAgIGJvcmRlcldpZHRoOiBvcHRpb25zLmJvcmRlcldpZHRoLFxuICAgIGJvcmRlckNvbG9yOiBvcHRpb25zLmJvcmRlckNvbG9yXG4gIH07XG59XG5mdW5jdGlvbiBzdHlsZUNoYW5nZWQoc3R5bGUsIHByZXZTdHlsZSkge1xuICByZXR1cm4gcHJldlN0eWxlICYmIEpTT04uc3RyaW5naWZ5KHN0eWxlKSAhPT0gSlNPTi5zdHJpbmdpZnkocHJldlN0eWxlKTtcbn1cblxuZXhwb3J0IHsgX2lzUG9pbnRJbkFyZWEgYXMgJCwgX2ZhY3Rvcml6ZSBhcyBBLCBmaW5pdGVPckRlZmF1bHQgYXMgQiwgY2FsbGJhY2sgYXMgQywgX2FkZEdyYWNlIGFzIEQsIF9saW1pdFZhbHVlIGFzIEUsIHRvRGVncmVlcyBhcyBGLCBfbWVhc3VyZVRleHQgYXMgRywgSEFMRl9QSSBhcyBILCBfaW50MTZSYW5nZSBhcyBJLCBfYWxpZ25QaXhlbCBhcyBKLCB0b1BhZGRpbmcgYXMgSywgY2xpcEFyZWEgYXMgTCwgcmVuZGVyVGV4dCBhcyBNLCB1bmNsaXBBcmVhIGFzIE4sIHRvRm9udCBhcyBPLCBQSSBhcyBQLCBlYWNoIGFzIFEsIF90b0xlZnRSaWdodENlbnRlciBhcyBSLCBfYWxpZ25TdGFydEVuZCBhcyBTLCBUQVUgYXMgVCwgb3ZlcnJpZGVzIGFzIFUsIG1lcmdlIGFzIFYsIF9jYXBpdGFsaXplIGFzIFcsIGdldFJlbGF0aXZlUG9zaXRpb24gYXMgWCwgX3Jsb29rdXBCeUtleSBhcyBZLCBfbG9va3VwQnlLZXkgYXMgWiwgX2FycmF5VW5pcXVlIGFzIF8sIHJlc29sdmUgYXMgYSwgdG9MaW5lSGVpZ2h0IGFzIGEkLCBnZXRBbmdsZUZyb21Qb2ludCBhcyBhMCwgZ2V0TWF4aW11bVNpemUgYXMgYTEsIF9nZXRQYXJlbnROb2RlIGFzIGEyLCByZWFkVXNlZFNpemUgYXMgYTMsIHRocm90dGxlZCBhcyBhNCwgc3VwcG9ydHNFdmVudExpc3RlbmVyT3B0aW9ucyBhcyBhNSwgX2lzRG9tU3VwcG9ydGVkIGFzIGE2LCBkZXNjcmlwdG9ycyBhcyBhNywgaXNGdW5jdGlvbiBhcyBhOCwgX2F0dGFjaENvbnRleHQgYXMgYTksIGdldFJ0bEFkYXB0ZXIgYXMgYUEsIG92ZXJyaWRlVGV4dERpcmVjdGlvbiBhcyBhQiwgX3RleHRYIGFzIGFDLCByZXN0b3JlVGV4dERpcmVjdGlvbiBhcyBhRCwgZHJhd1BvaW50TGVnZW5kIGFzIGFFLCBub29wIGFzIGFGLCBkaXN0YW5jZUJldHdlZW5Qb2ludHMgYXMgYUcsIF9zZXRNaW5BbmRNYXhCeUtleSBhcyBhSCwgbmljZU51bSBhcyBhSSwgYWxtb3N0V2hvbGUgYXMgYUosIGFsbW9zdEVxdWFscyBhcyBhSywgX2RlY2ltYWxQbGFjZXMgYXMgYUwsIF9sb25nZXN0VGV4dCBhcyBhTSwgX2ZpbHRlckJldHdlZW4gYXMgYU4sIF9sb29rdXAgYXMgYU8sIGlzUGF0dGVybk9yR3JhZGllbnQgYXMgYVAsIGdldEhvdmVyQ29sb3IgYXMgYVEsIGNsb25lJDEgYXMgYVIsIF9tZXJnZXIgYXMgYVMsIF9tZXJnZXJJZiBhcyBhVCwgX2RlcHJlY2F0ZWQgYXMgYVUsIF9zcGxpdEtleSBhcyBhViwgdG9Gb250U3RyaW5nIGFzIGFXLCBzcGxpbmVDdXJ2ZSBhcyBhWCwgc3BsaW5lQ3VydmVNb25vdG9uZSBhcyBhWSwgZ2V0U3R5bGUgYXMgYVosIGZvbnRTdHJpbmcgYXMgYV8sIF9jcmVhdGVSZXNvbHZlciBhcyBhYSwgX2Rlc2NyaXB0b3JzIGFzIGFiLCBtZXJnZUlmIGFzIGFjLCB1aWQgYXMgYWQsIGRlYm91bmNlIGFzIGFlLCByZXRpbmFTY2FsZSBhcyBhZiwgY2xlYXJDYW52YXMgYXMgYWcsIHNldHNFcXVhbCBhcyBhaCwgX2VsZW1lbnRzRXF1YWwgYXMgYWksIF9pc0NsaWNrRXZlbnQgYXMgYWosIF9pc0JldHdlZW4gYXMgYWssIF9yZWFkVmFsdWVUb1Byb3BzIGFzIGFsLCBfdXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cyBhcyBhbSwgX2NvbXB1dGVTZWdtZW50cyBhcyBhbiwgX2JvdW5kU2VnbWVudHMgYXMgYW8sIF9zdGVwcGVkSW50ZXJwb2xhdGlvbiBhcyBhcCwgX2JlemllckludGVycG9sYXRpb24gYXMgYXEsIF9wb2ludEluTGluZSBhcyBhciwgX3N0ZXBwZWRMaW5lVG8gYXMgYXMsIF9iZXppZXJDdXJ2ZVRvIGFzIGF0LCBkcmF3UG9pbnQgYXMgYXUsIGFkZFJvdW5kZWRSZWN0UGF0aCBhcyBhdiwgdG9UUkJMIGFzIGF3LCB0b1RSQkxDb3JuZXJzIGFzIGF4LCBfYm91bmRTZWdtZW50IGFzIGF5LCBfbm9ybWFsaXplQW5nbGUgYXMgYXosIGlzQXJyYXkgYXMgYiwgUElUQVUgYXMgYjAsIElORklOSVRZIGFzIGIxLCBSQURfUEVSX0RFRyBhcyBiMiwgUVVBUlRFUl9QSSBhcyBiMywgVFdPX1RISVJEU19QSSBhcyBiNCwgX2FuZ2xlRGlmZiBhcyBiNSwgY29sb3IgYXMgYywgZGVmYXVsdHMgYXMgZCwgZWZmZWN0cyBhcyBlLCByZXNvbHZlT2JqZWN0S2V5IGFzIGYsIGlzTnVtYmVyRmluaXRlIGFzIGcsIGNyZWF0ZUNvbnRleHQgYXMgaCwgaXNPYmplY3QgYXMgaSwgZGVmaW5lZCBhcyBqLCBpc051bGxPclVuZGVmIGFzIGssIGxpc3RlbkFycmF5RXZlbnRzIGFzIGwsIHRvUGVyY2VudGFnZSBhcyBtLCB0b0RpbWVuc2lvbiBhcyBuLCBmb3JtYXROdW1iZXIgYXMgbywgX2FuZ2xlQmV0d2VlbiBhcyBwLCBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyBhcyBxLCByZXF1ZXN0QW5pbUZyYW1lIGFzIHIsIHNpZ24gYXMgcywgdG9SYWRpYW5zIGFzIHQsIHVubGlzdGVuQXJyYXlFdmVudHMgYXMgdSwgdmFsdWVPckRlZmF1bHQgYXMgdiwgX3NjYWxlUmFuZ2VzQ2hhbmdlZCBhcyB3LCBpc051bWJlciBhcyB4LCBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUgYXMgeSwgbG9nMTAgYXMgeiB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IEdsb2JfZm4gZnJvbSAnLi9HbG9iYWwnXHJcbmltcG9ydCB7XHJcbiAgaW5pdExvZ2luX3BhZ2UsIGluaXRMb2dpbl9pbml0UXVpckJ0blxyXG59IGZyb20gJy4vTG9naW4nXHJcbmltcG9ydCB7XHJcbiAgaW5pdFN5c3RlbV9nZXRBbGxDb25zdW1lciwgaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxfbmV3LCBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHNfbmV3LFxyXG4gIGluaXRTeXN0ZW1fZ2V0QWxsRGlzY291bnRQb2xpY3ksIGluaXRTeXN0ZW1fZ2V0RGlzY291bnRQb2xpY3ksIGluaXRTeXN0ZW1fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzLFxyXG4gIGluaXRTeXN0ZW1fYmFzZURhdGFcclxufSBmcm9tICcuL1N5c3RlbVBhZ2VzJ1xyXG5pbXBvcnQge1xyXG4gIGluaXRBZ2VudF91c2VyTmFtZSwgaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsX25ldyxcclxuICBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzX25ldywgaW5pdEFnZW50X2dldEJpbmRDb25zdW1lclxyXG59IGZyb20gJy4vQWdlbnRQYWdlcydcclxuaW1wb3J0IHtcclxuICBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldywgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHNfbmV3LFxyXG4gIGluaXRTdGF0aW9uX2dldFN0YXRpb25BbGxDb25zdW1lciwgaW5pdFN0YXRpb25fZ2V0QWxsRGlzY291bnRQb2xpY3ksXHJcbiAgaW5pdFN0YXRpb25fYmFzZURhdGEsIGluaXRTdGF0aW9uX2JpbGxzU2V0dGluZywgaW5pdFN0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUsIGluaXRTdGF0aW9uX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscyxcclxufSBmcm9tICcuL1N0YXRpb25QYWdlcydcclxuaW1wb3J0IHtcclxuICBpbml0U3RhdGlvbl9pbml0VGFicywgaW5pdFN0YXRpb25fZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnREZXRhaWxzXHJcbn0gZnJvbSAnLi9EaXNjb3VudFBhZ2VzJ1xyXG5pbXBvcnQgKiBhcyBkYXRhU3RhdGlzdGljIGZyb20gJy4vZGF0YVN0YXRpc3RpYydcclxuaW1wb3J0ICcuL2luaXRKcXVlcnlBamF4J1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgdHJ5IHtcclxuICAgIEVudHJ5SlMoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgR2xvYl9mbi5lcnJvckhhbmRsZXIoZXJyb3IpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBFbnRyeUpTKCkge1xyXG5cclxuICAvLyByZWFkb25seeemgeeUqGJhY2tzcGFjZTpcclxuICBkb2N1bWVudC5vbmtleWRvd24gPSBHbG9iX2ZuLmJhbkJhY2tTcGFjZTtcclxuXHJcbiAgLy8gTG9naW4gcGFnZTpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9ZG92ZXBheS1mcmVpZ2h0X2xvZ2luXScpKSB7XHJcbiAgICBpbml0TG9naW5fcGFnZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdCBNYWluOlxyXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHBmTWFpbicpKSB7XHJcbiAgICBHbG9iX2ZuLmluaXRNYWluKCk7XHJcbiAgfVxyXG5cclxuICAvLyBJbml0IG5hdmJhcjpcclxuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RwZk5hdicpKSB7XHJcbiAgICBHbG9iX2ZuLmluaXROYXYoKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gSW5pdCBoZWFkZXI6XHJcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkcGZIZWFkZXInKSkge1xyXG4gICAgaW5pdExvZ2luX2luaXRRdWlyQnRuKCk7XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FnZW50TmFtZUluSGVhZGVyJykpIGluaXRBZ2VudF91c2VyTmFtZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8g5Yid5aeL5YyW57O757uf5ZWG77ya55So5oi35p+l6K+i77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9nZXRBbGxDb25zdW1lcl0nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9nZXRBbGxDb25zdW1lcigpO1xyXG4gIH1cclxuICAgICAgLy8g5Yid5aeL5YyW57O757uf5ZWG77ya6LSm5Y2V5p+l6K+i77yaXHJcbiAgICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zeXN0ZW1fc3lzdGVtUXVlcnlCaWxsXScpKSB7XHJcbiAgICAgIC8vICAgaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGwoKTtcclxuICAgICAgLy8gfVxyXG4gIC8vIOWIneWni+WMluezu+e7n+WVhu+8muafpeivoui0puWNle+8muaWsOmcgOaxglxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zeXN0ZW1fc3lzdGVtUXVlcnlCaWxsX25ld10nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxfbmV3KCk7XHJcbiAgfVxyXG4gICAgICAvLyDliJ3lp4vljJbns7vnu5/llYbvvJrotKbljZXor6bmg4Xmn6Xor6LvvJpcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxEZXRhaWxzXScpKSB7XHJcbiAgICAgIC8vICAgaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxEZXRhaWxzKCk7XHJcbiAgICAgIC8vIH1cclxuICAvLyDliJ3lp4vljJbns7vnu5/llYbvvJrmn6Xor6LotKbljZXor6bmg4XvvJrmlrDpnIDmsYJcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHNfbmV3XScpKSB7XHJcbiAgICBpbml0U3lzdGVtX3N5c3RlbVF1ZXJ5QmlsbERldGFpbHNfbmV3KCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMluezu+e7n+WVhu+8muS8mOaDoOaUv+etlueuoeeQhu+8mlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zeXN0ZW1fZ2V0QWxsRGlzY291bnRQb2xpY3ldJykpIHtcclxuICAgIGluaXRTeXN0ZW1fZ2V0QWxsRGlzY291bnRQb2xpY3koKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyW57O757uf5ZWG77ya5LyY5oOg5pS/562W6K+m5oOF77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9nZXREaXNjb3VudFBvbGljeV0nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9nZXREaXNjb3VudFBvbGljeSgpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJbns7vnu5/llYY6IOi0puWNleaxh+aAu+afpeivojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3lzdGVtX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxsc10nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHMoKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyW57O757uf5ZWGOiDln7rnoYDmlbDmja7pobXpnaI6XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN5c3RlbV9iYXNlRGF0YV0nKSkge1xyXG4gICAgaW5pdFN5c3RlbV9iYXNlRGF0YSgpO1xyXG4gIH1cclxuXHJcbiAgICAgIC8vIOWIneWni+WMlmFnZW5077ya5p+l6K+i6LSm5Y2VKOaXp+mcgOaxginvvJpcclxuICAgICAgLy8gaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWNvbnN1bWVyX2NvbnN1bWVyUXVlcnlCaWxsXScpKSB7XHJcbiAgICAgIC8vICAgaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsKCk7XHJcbiAgICAgIC8vIH1cclxuICAvLyDliJ3lp4vljJZhZ2VudO+8muafpeivoui0puWNlSjmlrDpnIDmsYIp77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWFnZW50X2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxsc10nKSkge1xyXG4gICAgaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsX25ldygpO1xyXG4gIH1cclxuICAgICAgLy8g5Yid5aeL5YyWYWdlbnTvvJrmn6Xor6LotKbljZXor6bmg4Uo5pen6ZyA5rGCKe+8mlxyXG4gICAgICAvLyBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9Y29uc3VtZXJfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzXScpKSB7XHJcbiAgICAgIC8vICAgaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsRGV0YWlscygpO1xyXG4gICAgICAvLyB9XHJcbiAgLy8g5Yid5aeL5YyWYWdlbnTvvJrmn6Xor6LotKbljZXor6bmg4Uo5paw6ZyA5rGCKe+8mlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1jb25zdW1lcl9jb25zdW1lclF1ZXJ5QmlsbERldGFpbHNfbmV3XScpKSB7XHJcbiAgICBpbml0QWdlbnRfY29uc3VtZXJRdWVyeUJpbGxEZXRhaWxzX25ldygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZhZ2VudO+8mue7keWumui0puaIt++8mlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1jb25zdW1lcl9nZXRCaW5kQ29uc3VtZXJdJykpIHtcclxuICAgIGluaXRBZ2VudF9nZXRCaW5kQ29uc3VtZXIoKTtcclxuICB9XHJcblxyXG4gICAgICAvLyDliJ3lp4vljJZzdGF0aW9u77ya5p+l6K+i6LSm5Y2V77ya5pen6ZyA5rGCXHJcbiAgICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxdJykpIHtcclxuICAgICAgLy8gICBpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsKCk7XHJcbiAgICAgIC8vIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9u77ya5p+l6K+i6LSm5Y2V77ya5paw6ZyA5rGCXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbF9uZXddJykpIHtcclxuICAgIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxfbmV3KCk7XHJcbiAgfVxyXG4gICAgICAvLyDliJ3lp4vljJZzdGF0aW9u77ya5p+l6K+i6LSm5Y2V6K+m5oOF77ya5pen6ZyA5rGCXHJcbiAgICAgIC8vIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1zdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxEZXRhaWxzXScpKSB7XHJcbiAgICAgIC8vICAgaW5pdFN0YXRpb25fc3RhdGlvblF1ZXJ5QmlsbERldGFpbHMoKTtcclxuICAgICAgLy8gfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb27vvJrmn6Xor6LotKbljZXor6bmg4XvvJrmlrDpnIDmsYJcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsRGV0YWlsc19uZXddJykpIHtcclxuICAgIGluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxEZXRhaWxzX25ldygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9u77ya55So5oi35L+h5oGv566h55CG77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fZ2V0U3RhdGlvbkFsbENvbnN1bWVyXScpKSB7XHJcbiAgICBpbml0U3RhdGlvbl9nZXRTdGF0aW9uQWxsQ29uc3VtZXIoKTtcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbjog5LyY5oOg5pS/562W566h55CG77yaXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fZ2V0QWxsRGlzY291bnRQb2xpY3ldJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2dldEFsbERpc2NvdW50UG9saWN5KCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb2465LyY5oOgOiDorr7nva7pobXpnaLpgInpobnljaFcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9jcmVhdGVEaXNjb3VudFBvbGljeV0nKSkge1xyXG4gICAgaW5pdFN0YXRpb25faW5pdFRhYnMoKTsgIFxyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOuS8mOaDoO+8muaUv+etluWQjee7humhtemdou+8mlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1kaXNjb3VudFBvbGljaWVzTWFuYWdlbWVudERldGFpbHNdJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2Rpc2NvdW50UG9saWNpZXNNYW5hZ2VtZW50RGV0YWlscygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOiDln7rnoYDmlbDmja7pobXpnaI6XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fYmFzZURhdGFdJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2Jhc2VEYXRhKCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb246IOi0puWNleinhOWImeafpeivoumhtemdojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9iaWxsc1NldHRpbmddJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2JpbGxzU2V0dGluZygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOiDmlrDlop7otKbljZXop4TliJnpobXpnaI6XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPXN0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGVdJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2JpbGxzU2V0dGluZ19hZGRSdWxlKCk7XHJcbiAgfVxyXG4gIC8vIOWIneWni+WMlnN0YXRpb246IOi0puWNleaxh+aAu+afpeivojpcclxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbZGF0YS1wYWdlSWQ9c3RhdGlvbl9iaWxsTWFuZ2VtZW50X3F1ZXJ5QmlsbHNdJykpIHtcclxuICAgIGluaXRTdGF0aW9uX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscygpO1xyXG4gIH1cclxuICAvLyDliJ3lp4vljJZzdGF0aW9uOiDmlbDmja7nu5/orqE6XHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W2RhdGEtcGFnZUlkPWRhdGFTdGF0aXN0aWNJbmRleF0nKSkge1xyXG4gICAgZGF0YVN0YXRpc3RpYy5kc0luZGV4KClcclxuICB9XHJcbiAgLy8g5Yid5aeL5YyWc3RhdGlvbjog5pWw5o2u57uf6K6h5piO57uGOlxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtkYXRhLXBhZ2VJZD1kYXRhU3RhdGlzdGljRGV0YWlsc10nKSkge1xyXG4gICAgZGF0YVN0YXRpc3RpYy5kc0RldGFpbHMoKVxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJpbml0U3RhdGlvbl9zdGF0aW9uUXVlcnlCaWxsX25ldyIsImluaXRTdGF0aW9uX3N0YXRpb25RdWVyeUJpbGxEZXRhaWxzX25ldyIsImZldGNoRGF0YSIsImZldGNoX2FnZV9nZXRCaW5kQ29uc3VtZXIiLCJmZXRjaF9hZ2VfYmluZENvbnN1bWVyIiwiZm5fZ2V0TWVzIiwiZm5fcmVtTWVzIiwiaW5pdEFnZW50X2NvbnN1bWVyUXVlcnlCaWxsX25ldyIsImluaXRBZ2VudF9jb25zdW1lclF1ZXJ5QmlsbERldGFpbHNfbmV3IiwiaW5pdEFnZW50X3VzZXJOYW1lIiwic3BhbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJzZXRVc2VyTmFtZSIsInJlcyIsImlubmVySFRNTCIsImRhdGEiLCJjdXN0b21lck5hbWVDaG4iLCJpbml0QWdlbnRfZ2V0QmluZENvbnN1bWVyIiwidXJsIiwiQWdlX3RhYmxlIiwicHJvdG90eXBlIiwiZ2V0UGFnZV9iaW5kaW5nIiwibmFtZSIsInN0YXR1cyIsImN1c3RvbWVySWQiLCJjdXN0b21lcklkTGlzdCIsImZvcm0iLCJpbnBfY3VzIiwiaW5wX3N0YSIsImlucF9uYW0iLCJidG5fYmluIiwib2xkbWVzTm9kZSIsIm1lcyIsImlubmVyVGV4dCIsInN0eWxlIiwiY2xvc2UiLCIkIiwiaW5zZXJ0QmVmb3JlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJVSWtpdCIsIm1vZGFsIiwiY29uZmlybSIsInRoZW4iLCJHbG9iX2ZuIiwiTGlzdGJveCIsIlN0YV90YWJsZSIsIlN5c190YWJsZSIsImNoZWNrUmVzIiwiY2FsbGJhY2siLCJjb2RlIiwiZXJybXNnIiwibXNnIiwiZXJyb3JIYW5kbGVyIiwiY29uc29sZSIsImVycm9yIiwiZm5faW5pdFN1Ym1pdEJ0biIsInBhZ2VOdW1iZXIiLCJwYWdlU2l6ZSIsImZldGNoRm4iLCJwb3N0RGF0YUhhbmRsZXIiLCJjb25maWciLCJzdWJtaXRCdG4iLCIkdGhpcyIsInBvc3REYXRhIiwiY2xvc2VzdCIsInNlcmlhbGl6ZU9iamVjdCIsImNhbGwiLCJpbmRleFBhZ2UiLCJjb3VudFBhZ2UiLCJUYWJsZSIsImhpZGVUYWJsZSIsImNsaWNrIiwiZm5faW5pdEV4cG9ydEJ0biIsImV4cG9CdG4iLCJmZXRjaF9leHBvcnRFeGNlbCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaWxlTmFtZSIsImFqYXgiLCJkYXRhVHlwZSIsInhockZpZWxkcyIsInJlc3BvbnNlVHlwZSIsInN1Y2Nlc3MiLCJ4aHIiLCJzdGF0dXNUZXh0Iiwid2luZG93IiwibmF2aWdhdG9yIiwibXNTYXZlT3JPcGVuQmxvYiIsIm1zU2F2ZUJsb2IiLCJkb3dubG9hZExpbmsiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJyYXdEYXRhIiwiaXNKU09OIiwicGFyc2UiLCJfdHlwZW9mIiwiRXJyb3IiLCJjaGVja1Jlc0NhbGxiYWNrIiwiYWpheENvbmZpZyIsImtleSIsImdsb2JhbCIsImZldGNoX3N5c19nZXRBbGxDb25zdW1lciIsInRhYmxlIiwiZ2V0VGFibGVfdXNlckluZm8iLCJlcnIiLCJmZXRjaF9zeXNfcXVlcnlEaXNjb3VudEN1c3RvbWVyIiwiZ2V0VGFibGVfaW5Nb2RhbCIsImZldGNoX3N5c19nZXRBbGxEaXNjb3VudFBvbGljeSIsImxvZyIsImdldFRhYmxlX3F1ZXJ5UG9saWNpZXMiLCJmZXRjaF9hZ2VfdG9QYXkiLCJwYXlVcmwiLCJwYXlEYXRhIiwic3VibVZpcnRGb3JtIiwib2xkTWVzIiwiYWxlcnQiLCJsb2NhdGlvbiIsInJlbG9hZCIsImZldGNoX3N0YV91cGRhdGVGZWUiLCJmZXRjaF9zdGFfc3RhdGlvbkJpbGxQdXNoIiwiZSIsImZldGNoX3N0YV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIiLCJnZXRUYWJsZV9nZXRTdGF0aW9uQWxsQ29uc3VtZXIiLCJmZXRjaF9zdGFfcXVlcnlEaXNjb3VudFBvbGljeSIsImVsZW1lbnQiLCJsaXN0Ym94IiwiZ2V0T3B0aW9uc19kaXNjb3VudE5hbWUiLCJzaG93IiwiZmV0Y2hfc3RhX2FkZERpc2NvdW50Q3VzdG9tZXIiLCJmZXRjaF9zdGFfcXVlcnlEaXNjb3VudEN1c3RvbWVyIiwidGFiIiwidGJvZHkiLCJnZXRUYWJsZV9xdWVyeURpc2NvdW50Q3VzdG9tZXIiLCJib2R5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpIiwibGVuZ3RoIiwiZmV0Y2hfc3RhX2NoYW5nZUN1c3RvbWVyRGlzY291bnRTdGF0dXMiLCJmZXRjaF9zdGFfZ2V0QWxsRGlzY291bnRQb2xpY3kiLCJnZXRUYWJsZV9nZXRBbGxEaXNjb3VudFBvbGljeSIsImZldGNoX3N0YV9jaGFuZ2VEaXNjb3VudFN0YXR1cyIsImZldGNoX3N0YV9nZXREaXNjb3VudFBvbGljeSIsImluaXREaXNjb3VudERldGFpbHMiLCJidG4iLCJzdGF0dXNfY2hhbmdlVG9UaGlzIiwiZGlzY291bnRQb2xpY3lJZCIsImZldGNoX3N0YV9xdWVyeUNhcmdvIiwicmVzdWx0Q29udGFpbmVyIiwiY2FyZ29ObSIsImdldE9wdGlvbnNfY2FyZ29OYW1lIiwiZmV0Y2hfc3RhX3N1Ym1pdERpc2NvdW50UGFnZSIsImZuX3F1ZXJ5RGljdCIsImluaXRMaXN0Qm94IiwiaW5pdFN0YXRpb25fZGlzY291bnRQb2xpY2llc01hbmFnZW1lbnREZXRhaWxzIiwiaW5pdFN0YXRpb25faW5pdFRhYnMiLCJxdWVyeVR5cGUiLCJ0ZXh0cyIsImNvbnRlbnQiLCJjcmVhdGVOb2RlcyIsInN3aXRjaFBhZ2UiLCJudW0iLCJsaSIsImEiLCJzZXRBdHRyaWJ1dGUiLCJ0eXBlIiwiY29udGFpbmVyIiwiaW5pdFBhZ2UiLCJodG1sIiwiaW5pdFBhZ2VfMSIsIk51bWJlciIsImhlYWRlcnMiLCJXZGF0ZUluaXQiLCJzZWwiLCJvcCIsInNlbFRvTGlzdGJveCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwiZ2V0QXR0cmlidXRlIiwiZGlzcGxheSIsImRlcGFydHVyZUluZm8iLCJEZXBhcnR1cmVJbmZvIiwiYWRkIiwiYWlybGluZU51bSIsIkFpcmxpbmVOdW0iLCJmZWVEaXNjb3VudEl0ZW0iLCJGZWVEaXNjb3VudEl0ZW0iLCJzdWJtaXREaXNjb3VudFBhZ2UiLCJwYWdlTnVtIiwic3VibWl0IiwiRGlzY291bnRQYWdlc1N1Ym1pdCIsImdldFAxUG9zdERhdGEiLCJnZXRQMlBvc3REYXRhIiwiZ2V0UDNQb3N0RGF0YSIsImlucHV0TmFtZSIsInBhcmVudE5vZGUiLCJhc3NldCIsImdldElucHV0QXNzZXQiLCJ3cmFwRGl2IiwiYUxhYmVsIiwiZm9ybUNvbnRyb2xEaXYiLCJhSW5wdXQiLCJjcmVhdGVBZGRCdG4iLCJwbHVzQnRuX2NvbnRlbnQiLCJwbHVzQnRuIiwiY2hpbGQiLCJtaW51c0J0bl9jb250ZW50IiwibWludXNCdG4iLCJwcmVXcmFwRGl2IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsIm5leHRXcmFwRGl2IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicHJlRm9ybUNvbnRyb2xEaXYiLCJnZXRBc3NldCIsImZsZXhEaXYxIiwibGFiZWxfMSIsImlucHV0XzEiLCJmbGV4RGl2MiIsImxhYmVsXzIiLCJpbnB1dF8yIiwiYnRuX3BsdXMiLCJidG5fcGx1c19pY29uIiwiYnRuX21pbnVzIiwiYnRuX21pbnVzX2ljb24iLCJmZWVJdGVtIiwiZmVlVHlwZSIsImZlZUl0ZW1EYXRhIiwiZmVlVHlwZURhdGEiLCJmZWVJdGVtRGl2IiwiZmVlSXRlbUxhYmVsIiwiZmVlSXRlbUFzc2V0IiwiY2xhc3NMaXN0IiwiZmVlSXRlbWlucHV0IiwidGV4dE92ZXJmbG93IiwiZmVlSXRlbUJ1dHRvbiIsImZlZUl0ZW1CdXR0b25Nb2RhbCIsImNhcmRGcmFtZSIsImZlZUl0ZW1CdXR0b25Nb2RhbEJvZHkiLCJmZWVJdGVtQnV0dG9uTW9kYWxCb2R5VWwiLCJmb3JFYWNoIiwiY2IiLCJjYXJkRm9vdGVyIiwiZm9vdGVyQnRuIiwiY2JMaXN0IiwiY2hlY2tlZFZhbHVlIiwiY2hlY2tlZCIsInB1c2giLCJkcm9wIiwiaGlkZSIsImZlZVR5cGVEaXYiLCJmZWVUeXBlTGFiZWwiLCJmbGV4RGl2IiwiZmVlVHlwZVNlbGVjdCIsImZlZUlucHV0IiwidmFsIiwiZGlzY3JTcGFuIiwibWludXNJY29uIiwicGx1c0ljb24iLCJjaGVja0ZlZVR5cGUiLCJzZWxlY3ROb2RlIiwiaW5kZXgiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkaXNjb3VudFBvbGljeU5hbWUiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZGlzY291bnRUeXBlIiwiZGlzY291bnRWYWx1ZSIsImdldERpc2NvdW50VmFsdWVBaXJsaW5lIiwibWluQ2hhcmdlIiwiY2FyZ29ObyIsImdldENhcmdvTm8iLCJkaXNjb3VudEZlZVJlcXVlc3RMaXN0IiwiZ2V0RGlzY291bnRGZWVSZXF1ZXN0TGlzdCIsImdldERpc2NvdW50VmFsdWVBaXJkb3QiLCJnZXREaXNjb3VudFZhbHVlRnJvbVNlbGVjdCIsInJlc3VsdCIsImlucHV0QXJyIiwidHJpbSIsInNlbGVjdCIsIm9wcyIsImxpc3RBcnIiLCJrZXlDaGVja2JveExpc3QiLCJ0eXBlU2VsZWN0IiwiZGlzY291bnRGZWVUeXBlIiwiZGlzY291bnRGZWVWYWx1ZSIsImRpc2NvdW50RmVlS2V5IiwiZGlzY291bnRGZWVLZXlOYW1lIiwiaW5wdXRGZWVyYXRlIiwiRm9ybVZhbGlkYXRlIiwidmFsaWRhdG9yIiwibWFyayIsInN0YXRpb25fYmlsbHNTZXR0aW5nX2FkZFJ1bGUiLCJpbnBfYmlsbE5hbWUiLCJpbnBfYmlsbE5hbWVfbWF4V29yZHMiLCJpbnBfYmlsbE5hbWVfbWF4V29yZHNUZXh0IiwiYmluZEZvcm1JdGVtcyIsImlucCIsIm1heFdvcmRzIiwibWF4V29yZHNUZXh0IiwiZm9jdXMiLCJpbnBfY2hlY2tOdWxsIiwiaW5wX2xpbWl0TGVuZ3RoIiwiY2hlY2tDaGVja2JveGVzIiwiYm9vIiwiY2hlY2tib3hlcyIsImNoZWNrYm94Iiwibm90aWZpY2F0aW9uIiwic3VibWl0Qm9vIiwiYm9vcyIsInBhc3NUb1N1Ym1pdCIsIm9yaWdpblRleHQiLCJjaGFuZ2VUZXh0IiwidG9vbHRpcCIsInJlbW92ZSIsIm1heGxlbiIsInRyaW1WYWx1ZSIsInNsaWNlIiwiYm9vc0FyciIsIkFycmF5IiwiaXNBcnJheSIsImFyZyIsIk9iamVjdCIsInRvU3RyaW5nIiwiZXJyTXNnIiwiaW5oZXJpdFByb3RvdHlwZSIsInN1cGVyVHlwZSIsInN1YlR5cGUiLCJjb25zdHJ1Y3RvciIsInN0ciIsIm9iamVjdCIsImlzRE9NIiwiaXRlbSIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImluaXRNYWluIiwibWFpbiIsImhlYWRlckgiLCJuYXZIIiwiZm9vdGVySCIsImJyb3dzZXJWaXNpYmxlSCIsImlubmVySGVpZ2h0IiwiZEgiLCJpbml0TmF2IiwiYnRucyIsInN0b3BQcm9wYWdhdGlvbiIsInRoaXNCdG5DbHMiLCJkcm9wZG93biIsImNvbnRhaW5zIiwiaiIsImJsdXIiLCJsb2FkaW5nIiwiZGl2IiwicG9zaXRpb24iLCJjaGVja2JveEFuZFJhZGlvIiwiZ2V0QmluZGluZ0xhYmVsIiwiY2hpbGROb2RlIiwibGFiZWwiLCJtYXhDb3VudCIsInRhZ05hbWUiLCJzZXRCaW5kaW5nTGFiZWxzIiwicmFkaW9TZXQiLCJwYXJlbnRQcm9wIiwicmFkaW8iLCJyYWRpbzIiLCJpbml0QWN0aXZlTGFiZWwiLCJoYXNBdHRyaWJ1dGUiLCJnZXRSYWRpb1ZhbHVlIiwic3RhcnRUaW1lSWQiLCJlbmRUaW1lSWQiLCJhcmdzIiwic3RhIiwiZW5kIiwiZGF0ZUZtdCIsInNldFZlbElucCIsIm1pbkRhdGUiLCJtYXhEYXRlIiwiY29uZmlnX3MiLCJ2ZWwiLCJyZWFsRGF0ZUZtdCIsIldkYXRlUGlja2VyIiwiY29uZmlnX2UiLCJzZXRSZXNldEJ1dHRvbiIsImlucHV0IiwiaWQiLCJzcmMiLCJzcmNOYW1lIiwiYmFuQmFja1NwYWNlIiwiZXYiLCJvYmoiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwidCIsInZSZWFkT25seSIsImZsYWcxIiwia2V5Q29kZSIsInVuZGVmaW5lZCIsImZsYWcyIiwibWV0aG9kIiwiYWN0aW9uIiwiaW5pdERpc2NvdXRUeXBlU2VsIiwiZGF0YUxpc3QiLCJwYXJlbnRTZWxlY3QiLCJvcDAiLCJpbml0U3VwcGxpZXJTZWwiLCJzdXBwbGllcklkIiwic3VwcGxpZXJOYW1lQ2huIiwic3RhdHVzRGVzYyIsImRpc2NvdW50VHlwZURlc2MiLCJnZXRGZWVyYXRlIiwibGlzdCIsImNhcmdvTmFtZVdyYXAiLCJjYXJnb05hbWUiLCJkaXNjb3VudFZhbHVlV3JhcCIsImdldFRib2R5IiwidHIiLCJ0ZDEiLCJ0ZDIiLCJkaXNjb3VudEZlZVR5cGVEZXNjIiwidGQzIiwic2hvd05vRGF0YSIsImNvbHNwYW4iLCJ0cjAiLCJ0ZDAiLCJwYWciLCJnZXRUaFRyIiwidGhlYWQiLCJ0ckluVGhlYWQiLCJzZXRUaCIsInBhcmVudFRyIiwic2hvd0JvbyIsInRoIiwic2V0VGQiLCJyZXBsYWNlU3RyIiwidGQiLCJyZXBsYWNlIiwic2V0Tm9EYXRhIiwic2V0VGRTZXJpYWwiLCJudW1iZXIiLCJ0ZFNlcmlhbCIsImhpZGVTb21lIiwid2lkdGgiLCJtYXhXIiwiY29tcHV0ZWRXaWR0aCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY3VycmVudFN0eWxlIiwib3ZlcmZsb3ciLCJtYXhXaWR0aCIsImN1cnNvciIsInRySGlkZVNvbWUiLCJtYXgiLCJ0ZHMiLCJ0Ym9keUhpZGVTb21lIiwicHJvcCIsInNpemUiLCJpc05hTiIsInRycyIsImJ1aWxkQWpheFRpdGxlIiwidGl0bGVEYXRhIiwiY29sQ291bnQiLCJmZWVTaG9ydE5tIiwidGgwIiwiZ2V0QWpheFRpdGxlVmFsdWUiLCJhcnIiLCJtYXRjaCIsImdldEFqYXhUaXRsZURhdGEiLCJ0aXRsZSIsImZlZUlkQXJyIiwiZmVlSWRHcm91cCIsInRpdGxlRmVlSWQiLCJrIiwibGlzdEZlZUlkIiwiZmVlSWQiLCJsaXN0VmFsdWUiLCJmZWUiLCJsaXN0UmF0ZSIsImZlZXJhdGUiLCJsaXN0UmF0ZUZsYWciLCJmZWVTaG9ydE5NIiwicG9wIiwiZ2V0QWpheFRpdGxlT2JqZWN0IiwiYnVpbGRWYWx1ZVdpdGhBamF4VGl0bGUiLCJsaW5lZGF0YSIsImlzQXJyIiwiaGlkZVVudmFsdWVkIiwicG9pbnRlZFRhYmxlIiwiY2hlY2tWYWx1ZSIsImZsYWciLCJ0aHMiLCJjb2x1bW4iLCJ1bnZhbHVlZENvbCIsImNoZWNrU2l6ZSIsInRhYndpZHRoIiwiZGl2d2lkdGgiLCJnZXRDaGVja2JveCIsImlmQWxsIiwibGFiIiwiY2hiIiwibGlua0NoZWNrYm94ZXMiLCJzZWxBbGwiLCJzZWxDaGlsZHJlbiIsImFkZENoZWNrZWRUb0xpc3QiLCJzaG93VGFibGUiLCJnZXREaWN0QXJnX2ZvclF1ZXJ5QmlsbHMiLCJ0VHlwZSIsInNldFNlbERlZmF1bHRPcHRpb24iLCJ0ZXh0Iiwib3B0aW9uMCIsInNldFNlbEZyb21EaWN0Iiwib3B0aW9uIiwic2V0SW5BbmRPdXQiLCJzZXRPcGVkZXBhcnRJZCIsImdldE9yZGVyVGltZSIsIm9yZGVyVGltZVN0YXJ0Iiwib3JkZXJUaW1lRW5kIiwic2V0UG9zdExpbmsiLCJsaW5rcyIsImJ0bkwyUiIsImJ0blIyTCIsInNlbGVjdEwiLCJzZWxlY3RSIiwibGlzdGJveE1vdmVhY3Jvc3MiLCJzb3VyY2VJRCIsImRlc3RJRCIsImRlc3QiLCJjb3VudCIsInNlbGVjdGVkIiwiYXR0cnMiLCJhdHRyaWJ1dGVzIiwibmV3T3B0aW9uIiwiaWQxIiwiZGVzdG9wdGlvbnMiLCJpZDIiLCJyZXNwb25zZSIsImxpc3Rib3hFbCIsInNlbF9zb3UiLCJzZWxfZGVzIiwib3B0aW9uQXJyIiwicG9zdERhdGFfZGlzY291bnROYW1lIiwiZGlzY291bnRQb2xpY3lJZHMiLCJpbml0TG9naW5fcGFnZSIsImluaXRMb2dpbl9jb3ZlclBhZ2UiLCJwYWdlRm9yIiwic2VsX3R5cGUiLCJpbnBfYWNjb3VudElkIiwiaW5wX3VzZXJJZCIsImZldGNoTG9naW5EYXRhIiwiUGFnZV9sb2dpbiIsInNldFJvbGUiLCJ0ZXh0U3RhdHVzIiwiaW5pdExvZ2luX2xvZ2luRmFpbGVkIiwiaW5pdExvZ2luX2luaXRRdWlyQnRuIiwicXVpdEJ0biIsInF1aXQiLCJ1c2VyVHlwZSIsInJlZGlyZWN0Iiwic3BhbjIiLCJhY2NvdW50SWQiLCJNZXNzYWdlIiwiY2xvc2IiLCJtZXNzYWdlIiwiY3JlYXRlIiwiaGVhZHR4dCIsIm1haW50eHQiLCJjb250IiwiaGVhZCIsImNsb3MiLCJtIiwibm9kZSIsInBhciIsImZuX2luaXRQYWdpbmF0ZSIsInRvdGFsUGFnZSIsInAiLCJQYWdpbmF0ZSIsInNob3dQYWduaXRpb24iLCJ3cmFwIiwibGlua19wcmUiLCJnZXRQYWdpX2xpUHJlIiwiZ2V0UG9zdERhdGEiLCJnZXRQYWdpX2xpQWN0aXZlIiwiZ2V0UGFnaV9saU5vcm1hbCIsImxpbmsiLCJsaW5rX25leCIsImdldFBhZ2lfbGlOZXh0IiwiZ2V0UGFnaV9oaWRlUGFnZSIsInBhcmVudFVsIiwibGlfcHJlIiwic3Bhbl9wcmUiLCJsaV9uZXgiLCJzcGFuX25leCIsInNob3dOdW1iZXIiLCJzaG93UGFnZXMiLCJsaUFyciIsIlF1ZXJ5RGljdCIsImFwaSIsInF1ZXJ5IiwicWQiLCJyb2xlIiwiZ2V0Um9sZSIsImluaXRTdGF0aW9uX2Jhc2VEYXRhIiwiZW50cnkiLCJmZXRjaEV4cEltcCIsImZldGNoRGljdEVyckhhbmRsZXIiLCJzZXRPcHRpb25zIiwic2VsTmFtZSIsImZldGNoRG9tSW50IiwiZmV0Y2hQYXlNb2RlIiwiZmV0Y2hFZmZlY3RpdmVCaWxsUnVsZXMiLCJjcmVhdGVFZmZlY3RpdmVCaWxsUnVsZXMiLCJkYXRlIiwiY3JlYXRlQmlsbFJ1bGVCdXR0b25zIiwicmVuZGVyRWZmZWN0aXZlQmlsbFJ1bGVzIiwicnVsZSIsImJpbGxSdWxlIiwiZGVzYyIsImJpbGxSdWxlRGVzYyIsImJpbGxSdWxlSWQiLCJiaWxsUnVsZU5hbWUiLCJnZXRMYWJlbCIsImdldERyb3AiLCJnZXRDYXJkSGVhZGVyIiwiZ2V0Q2FyZEJvZHkiLCJoZWFkZXIiLCJoIiwiYXJyYXkiLCJpbmRleE9mIiwic3BsaXQiLCJydWxlU2V0c1dyYXBEaXYiLCJydWxlUmFkaW9zIiwicnVsZUxhYmVscyIsImZ1bmMiLCJyZXNldEJ0biIsImRlZmF1bHRSYWRpbyIsImdldFRhYmxlX3F1ZXJ5T3JpZ2luYWxXYXliaWxsIiwidGltZW91dCIsImluaXRTdGF0aW9uX2JpbGxNYW5nZW1lbnRfcXVlcnlCaWxscyIsImdldFRhYmxlX3F1ZXJ5U3VtQmlsbEJ5UnVsZSIsImluaXROZXdQYWdlIiwiZ2V0VGFibGVfcXVlcnlCaWxsX25ldyIsInNldE11bHRpUHVzaEJ1dHRvbiIsIm11bHRpQnRuIiwib3JkZXJOb0xpc3QiLCJpbml0VGhpc1BhZ2UiLCJnZXRUYWJsZV9xdWVyeURldGFpbHNfbmV3IiwiaW5pdFN0YXRpb25fZ2V0U3RhdGlvbkFsbENvbnN1bWVyIiwic2hvd0xpc3RCb3giLCJsaXN0Qm94U3VibWl0QnV0dG9uIiwiaW5pdFN0YXRpb25fZ2V0QWxsRGlzY291bnRQb2xpY3kiLCJESVNDT1VOVF9UWVBFIiwic2VsZWN0VHlwZSIsIm5ld0J0biIsImluaXRTdGF0aW9uX2JpbGxzU2V0dGluZyIsImJpbmRBZGRSdWxlQnRuIiwiZ2V0VGFibGVfcXVlcnlCaWxsUnVsZUJ5UGFnZSIsImluaXRTdGF0aW9uX2JpbGxzU2V0dGluZ19hZGRSdWxlIiwidmxkIiwiZmV0Y2hCaWxsUnVsZSIsInNob3dWYWx1ZUZyb20iLCJmZXRjaFZhbHVlIiwicmFkaW9zSGVhZGluZyIsImNoZWNrYm94ZXNIZWFkaW5nIiwiY2hlY2tBbGxXcmFwIiwiY2hlY2tib3hlc0NvdW50IiwicnVsZVByb3BzIiwiY2hlY2tCb3giLCJzZXRSdWxlIiwiZnJhbWUiLCJnZXRGcmFtZSIsImNvbnRlbnREaXYiLCJnZXRDb250ZW50RGl2IiwiZ2V0Q29udGVudCIsImNvbnRlbnRXcmFwIiwiYmluZEFsbFJhZGlvcyIsIndyYXBzIiwiYmluZFJhZGlvcyIsInJhZGlvcyIsImNieF9hbGwiLCJjYnhzIiwiY2J4TGlua0xhYmVsIiwiY2J4IiwiY2hhbmdlU3R5bGUiLCJjb21wbHlDaGVja0FsbCIsInNldEFsbENoZWNrZWQiLCJsYWJDbGFzc2VzIiwidG9nZ2xlIiwic3VibWl0QWRkUnVsZSIsIm5vdCIsInBvc3RVcmwiLCJzdWNjZXNzQ2FsbGJhY2siLCJnZXROYW1lIiwiZ2V0UnVsZSIsInJzIiwiY3MiLCJjaGVja2VkSW5wdXRzIiwiZ2V0Q2hlY2tlZElucHV0cyIsInJ1bGVzSW5mbyIsImdldFJ1bGVzSW5mbyIsImdldFJlc3VsdHMiLCJwdXRDaGVja2VkSW5wSW4iLCJpbnB1dHMiLCJyYXdBcnJheSIsInRtcE5hbWUiLCJwYXJzZURlc2MiLCJ1dGlsIiwib24iLCJnZXRGZWVJdGVtIiwiY3JlYXRlVGFibGUiLCJmZWVJdGVtcyIsInNldENhcHRpb24iLCJzZXRUaGVhZCIsInNldFRib2R5IiwiY2FwdGlvbiIsInRvdGFsQ291bnQiLCJhamF4VGl0bGUiLCJmZWVMaXN0IiwiZmVlUmVjSWQiLCJzdG9ja1ByZSIsInN0b2NrTm8iLCJzQWlycG9ydERzYyIsImVBaXJwb3J0RHNjIiwiZmxpZ2h0IiwicGNzIiwid2VpZ2h0IiwiZmVlV3QiLCJjcnRvcGVUaW1lU3RyIiwib3BlZGVwYXJ0SWQiLCJvcGVkZXBhcnRTdHIiLCJhamF4RGF0YSIsImZlZUl0ZW1MaXN0IiwidG90YWxGZWVTdHIiLCJiaWxsTGlzdCIsImFjY291bnRPcGVuaW5nVGltZSIsIm9yZGVyVGltZSIsImNvc3RDZW50ZXIiLCJ0b3RhbEZlZSIsImdldExpbmsiLCJjaGVja0FsbCIsInNldEFnZW50VGhlYWQiLCJnZXRDYXB0aW9uRGF0YSIsInNldENoZWNrQWxsIiwidG90YWxBbW91bnQiLCJwcmVmZXJlbnRpYWxUb3RhbEFtb3VudCIsInRvdGFsV2VpZ2h0Iiwic3VtbWFyeUxpc3QiLCJ0ZENoZWNrYm94Iiwib3JkZXJObyIsImNyZWF0ZVRpbWVTdHIiLCJyZWFsVG90YWxGZWVTdHIiLCJzdGF0dXNTdHIiLCJwYXlObyIsImdldEFnZW50TGlua3MiLCJjdXN0b21lck5hbWUiLCJiaW5kaW5nU3RhdHVzIiwiZ2V0TGlua3MiLCJnZXREZXRhaWxMaW5rIiwicHVzaGxpbmsiLCJnZXRQdXNoTGluayIsIm1vZGlmeSIsImRldGFpbExpbmsiLCJwYXlMaW5rIiwicGFnZVVybCIsInNldENoaWxkcmVuIiwiY2hpbGRyZW4iLCJyZWFsVG90YWxGZWUiLCJ0ckFkZCIsImwxRGF0YSIsImwyRGF0YSIsInJlYWxGZWVJdGVtTGlzdCIsImxpbmUyT2JqZWN0IiwiZ2V0QWN0aW9uIiwibGlua01vZEhpcyIsImNyZWF0ZU1vZEhpcyIsImxpbmttb2RpZnkiLCJmbl9nZXRNb2RhbCIsImNyZWF0ZU5hbWUiLCJjcmVhdGVUaW1lIiwicmVtYXJrIiwiY3JlYXRlVGhlYWQiLCJjcmVhdGVUYm9keSIsInF1ZXJ5QmlsbFJ1bGVMaXN0Iiwic2V0VGRGcm9tQXJyYXkiLCJzZXRUaW1lIiwiZ2V0VGRBY3Rpb24iLCJnZXRWYWx1ZSIsInJ1bGVUeXBlIiwiZGVsZXRlTGluayIsInRoaXNCdG4iLCJnZXRVcmwiLCJ0cmlnZ2VyIiwiY29uc3VtZXJMaXN0IiwidGQ0IiwidGQ1IiwidGQ2IiwibGlua1NldCIsImxpbmtTaG93IiwiZmVlV2F5SWQiLCJjYW5ZZXMiLCJ0ZXh0QWxpZ24iLCJzcGFuMSIsImdldEFjdGlvblRleHQiLCJwYXJUZCIsImRpc2NvdW50UG9saWN5TGlzdCIsInNwYW5JblRkM18xIiwic3BhbkluVGQzXzIiLCJzcGFuSW5UZDNfMyIsInRvRGV0YWlsc0EiLCJwYXRobmFtZSIsInRvZ2dsZUEiLCJNb2RhbCIsInRpdGxlVGV4dCIsIm1vZGFsSWQiLCJkaWFsb2ciLCJtaGVhZGVyIiwibXRpdGxlIiwibWJvZHkiLCJtZm9ybSIsImVscyIsImNyZWF0ZUlucExpc3QiLCJ0b3RhbEZlZUlucHV0IiwiZ2V0VG90YWxGZWVJbnB1dCIsImRlc2NUZXh0YXJlYSIsImdldERlc2NUZXh0YXJlYSIsImJ1dHRvblNlY3Rpb24iLCJnZXRCdXR0b25TZWN0aW9uIiwic2V0SW5wTGlua3MiLCJpbnBfZmVlSXRlbUxpc3QiLCJpbnBfdG90YWxmZWUiLCJpbnBfc3BlYyIsImlucF9yYXRlIiwib2xkVmFsdWUiLCJnZXRTcGVjRmVlIiwiZ2V0VG90YWxGZWUiLCJNYXRoIiwicm91bmQiLCJmZWVJdGVtTGlzdE5vZGUiLCJmZWVyYXRlTm9kZSIsIm1TZWN0aW9uIiwibVN1Ym1pdEJ0biIsIm1DYW5jZWxCdG4iLCJtYXJnaW5SaWdodCIsIm1EaXYiLCJtTGFiZWwiLCJtVGV4dGFyZWEiLCJtSW5wdXQiLCJlbDEiLCJjcmVhdGVJbnAiLCJlbDIiLCJlbCIsImZvcm1JdGVtIiwiaW5wTWF4TGVuZ3RoIiwibW9kIiwiaW5pdFN5c3RlbV9iYXNlRGF0YSIsImluaXRTeXN0ZW1fYmlsbE1hbmdlbWVudF9xdWVyeUJpbGxzIiwiaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxfbmV3IiwiaW5pdFN5c3RlbV9zeXN0ZW1RdWVyeUJpbGxEZXRhaWxzX25ldyIsImluaXRTeXN0ZW1fZ2V0QWxsQ29uc3VtZXIiLCJpbml0U3lzdGVtX2dldEFsbERpc2NvdW50UG9saWN5IiwiYXBpX2dldEFsbFN1cHBsaWVyX3VybCIsImluaXRTeXN0ZW1fZ2V0RGlzY291bnRQb2xpY3kiLCJ0b0Rpc2NvdW50UG9saWNpZXNBIiwic3BhblN0YXJ0Iiwic3BhblRleHQiLCJzcGFuRW5kIiwic3lzdGVtRGlzY291bnRQb2xpY3lMaXN0Iiwic3BhblN0YSIsInNwYW5UZXgiLCJ0ZDciLCJDaGFydCIsIkNhbnZhcyIsInNlbGVjdG9yIiwicm9vdERvY3VtZW50IiwiaWZyYW1lTm9kZSIsImNvbnRlbnREb2N1bWVudCIsImN2cyIsImN0eCIsImdldENvbnRleHQiLCJoZWlnaHQiLCJzZXRTaXplIiwicmF0aW8iLCJjYW52YXNOb2RlIiwicGFyZW50IiwicGFyZW50V2lkdGgiLCJwYXJzZUludCIsImNhbnZhc1JhdGlvIiwiY2FudmFzSGVpZ2h0Iiwic3RhY2siLCJidWlsZENoYXJ0IiwiY2hhcnRqc0NvbmZpZyIsImRlZmF1bHRzIiwiZm9udCIsImNoYXJ0IiwiY2hhcnRDb25maWciLCJkc0luZGV4IiwiaW5pdFdkYXRlUGlja2VyIiwicXVlcnlCaWxsUnVsZSIsInNldEJpbGxSdWxlIiwiYmluZEJ1dHRvbnMiLCJsb2FkRGF0YSIsInNhdmVCaWxsUnVsZUlkIiwiY2F0Y2giLCJkc0RldGFpbHMiLCJzZXRQYXJlbnRMaW5rIiwic2V0QmlsbFJ1bGVUZXh0IiwibG9hZERhdGFEZXRhaWxzIiwiaGlzdG9yeSIsImJhY2siLCJiaWxsVGltZUlucCIsIlByb21pc2UiLCJyZWoiLCJyZXNvbHZlIiwiYmlsbFJ1bGVJZFNlbCIsImRhdGFBcnIiLCJzb21lIiwiZGF0YUhhbmRsZXIiLCJzZXQiLCJ0ZXh0QXJyIiwibGluZSIsInByb3BBcnIiLCJ0ZEFjdGlvbiIsInRkQWN0aW9uTGluayIsImRhdGFzZXQiLCJ0b0RldGFpbHMiLCJsb2MiLCJjb25jYXQiLCJwcm90b2NvbCIsImhvc3QiLCJjaGFydEhhbmRsZXIiLCJjb2xvciIsImJsdWUiLCJ5ZWxsb3ciLCJsZWdlbmRMYWJlbCIsImxheW91dCIsInBhZGRpbmciLCJheGlzRGF0YSIsImdldEF4aXNEYXRhIiwiZ2V0RGF0YSIsImJpbGxUaW1lIiwic29ydCIsImZpcnN0SXRlbSIsInNlY29uZEl0ZW0iLCJsYWJlbHMiLCJnZXRMYWJlbHMiLCJkYXRhc2V0cyIsImdldEluZGV4IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJtYXhCYXJUaGlja25lc3MiLCJhamF4U2V0dXAiLCJ1c2VySWQiLCJjb250ZW50VHlwZSIsImFqYXhFcnJvciIsInNldHRpbmdzIiwicmVxVXJsIiwicmVxRGF0YSIsImdldFN0YXR1c1RleHQiLCJhamF4U3RhcnQiLCJhamF4U3RvcCIsImZuIiwibyIsInNlcmlhbGl6ZUFycmF5IiwiZWFjaCIsImRhdGFTdGF0aXN0aWMiLCJyZWFkeSIsIkVudHJ5SlMiLCJvbmtleWRvd24iXSwic291cmNlUm9vdCI6IiJ9